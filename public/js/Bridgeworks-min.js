/*                   Bridgeworks(tm) Runtime Engine
                       Trial License Agreement


NOTICE
This is a contract between End User ("You") and Bridgeborn, Inc. ("Bridgeborn, Inc").
Please read the following terms and conditions carefully before installing or
using the Bridgeworks(tm) Runtime Engine ("software").  By installing the software,
You acknowledge that You have read and understood this license agreement and
agree to be bound by its terms and conditions.

I.  Use of the Software
Subject to the terms and conditions set forth in this Agreement,
Bridgeborn, Inc grants to You, and You accept, a limited, non-exclusive
license to use the accompanying computer program in object code form and any
documentation related to the Software, for use in the bundled sample
application.

II.  Intellectual Property
Except as stated elsewhere, this Agreement does not confer upon You any
intellectual property rights in the Software. Use of this product shall be
conducted in accordance with accepted trademark, patent, and copyright
practice. Bridgeworks is covered by U.S. Patent No. 7,681,114.

III.  Copyright
This Software, its code, and all documentation are owned by Bridgeborn, Inc.
Its organization, structure, and code are valuable trade secrets of
Bridgeborn, Inc.  This Software, its code, and all supporting documentation
are protected by U.S. Copyright law and International Treaty provisions.
You may not, in whole or in part, copy, photocopy, reproduce, translate,
adapt, modify, or create derivative works, or reduce to any electronic
medium or machine readable format, this Software, its code, or its
documentation, except as set forth elsewhere in this Agreement, without the
prior written consent of Bridgeborn, Inc.  You also may not reverse engineer,
decompose, disassemble, or otherwise attempt to discover or alter the source
code of the Software.

IV.  Transfer
This Software and its documentation may not be rented, leased, or
sublicensed by You to a third party.  You may, however, transfer all rights
to use the Software to another person or legal entity, subject to the
acceptance by such person or legal entity of all of the terms of this
Agreement.  Except as provided by this Agreement, any attempt to lease,
sublicense, assign, or transfer any of the rights, duties, or obligations
under this Agreement shall be void.


V.  Governing Law and General Provision
This Agreement shall be governed by the laws of the Commonwealth of Virginia.
This Agreement shall not be governed by the United Nations Convention on
Contracts for the International Sale of Goods, the application of which is
expressly excluded.  Should any portion of this Agreement be found void and
unenforceable, it shall not affect the validity of the other portions of
this Agreement, which shall remain valid and enforceable according to its
terms.  You agree that the Software will not be shipped, transported,
transferred, or exported in violation of the United States Export
Administration Act or any other export laws, restrictions, or regulations.
This Agreement may only be modified in writing, signed by an authorized
officer of Bridgeborn, Inc.
*/
function Base(){this.userData="",this.className=""}function Allocator(){}function loadBinaryResource(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.overrideMimeType("text/plain; charset=x-user-defined"),e.send(),200!=e.status?null:e.responseText}function loadXMLResource(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.overrideMimeType("text/plain; charset=x-user-defined"),e.send(),200!=e.status?null:e.responseText}function loadTextResource(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.overrideMimeType("text/plain; charset=x-user-defined"),e.send(),200!=e.status?null:e.responseText}function isLower(t){var e=t.charCodeAt(0);return e>96&&123>e}function isUpper(t){var e=t.charCodeAt(0);return e>64&&91>e}function isSpace(t){return" "==t||"\f"==t||"\n"==t||"\r"==t||"	"==t||""==t?!0:!1}function getObjectClassName(t){if(t&&t.constructor&&t.constructor.toString){var e=t.constructor.toString().match(/function\s*(\w+)/);if(e&&2==e.length)return e[1];if(e=t.constructor.toString().split(" "),e&&2==e.length)return e[1].substring(0,e[1].length-1)}return void 0}function formatPath(t){var e=[],i="",r="";try{$.ajax({url:t,type:"HEAD",async:!1,error:function(){console.debug(t+" does not exist.");var e=document.location.href;i=e.substring(0,e.lastIndexOf("/"))+"/"+bridgeworks.contentDir+"/"+t,console.debug("Trying: "+i);var o=i.lastIndexOf("objects/");-1==o&&(o=i.lastIndexOf("motions/")),-1==o&&(o=i.lastIndexOf("envelopes/")),-1==o&&(o=i.lastIndexOf("scenes/")),r=i.substring(0,o),console.debug("With contentDir: "+r)},success:function(){i=t;var e=i.lastIndexOf("objects/");-1==e&&(e=i.lastIndexOf("motions/")),-1==e&&(e=i.lastIndexOf("envelopes/")),-1==e&&(e=i.lastIndexOf("scenes/")),r=i.substring(0,e),console.debug("File found: "+i)}}),e[0]=i,e[1]=r}catch(o){}return e}function isFullPath(t){var e=!1,i=t.length;return i>=2&&("\\"!=t[0]&&"/"!=t[0]||"\\"!=t[1]&&"/"!=t[1]||(e=!0)),e||t.indexOf(":")>=0?!0:!1}function formFullPath(t,e){var i=new String;if(!t||!e)return null;if(isFullPath(t))i=t;else{if(i=e,i.length>0){var r=i.charAt(i.length-1);"/"!=r&&"\\"!=r&&(i+="/")}i+="/"==t[0]||"\\"==t[0]?t.slice(1):t}return i}function getFileExtension(t){var e=null,i=t.lastIndexOf(".");if(-1!=i){var e="";return e=t.substr(i+1)}return e}function getBrowserName(){var t=new String(navigator.userAgent);return t.indexOf("Chrome")>=0?"Chrome":t.indexOf("Firefox")>=0?"Firefox":void 0}function OutputDebugMsg(t){var e=document.getElementById("DebugOutput").innerHTML;e+="&gt; "+t+"<br>",document.getElementById("DebugOutput").innerHTML=e}function addSlashAfterDriveSpecifier(t){var e=t.indexOf(":");return-1==e?t:t=t.slice(0,e+1)+"\\"+t.slice(e+1)}function hexStrToULong(t){for(var e=t.length-1,i=0,r=0,o=0;e>=0;e--,o++){switch(t.charAt(e)){case"0":r=0;break;case"1":r=1;break;case"2":r=2;break;case"3":r=3;break;case"4":r=4;break;case"5":r=5;break;case"6":r=6;break;case"7":r=7;break;case"8":r=8;break;case"9":r=9;break;case"a":case"A":r=10;break;case"b":case"B":r=11;break;case"c":case"C":r=12;break;case"d":case"D":r=13;break;case"e":case"E":r=14;break;case"f":case"F":r=15;break;default:r=0}i+=r*Math.pow(16,o)}return i}function Color(t,e,i,r){this.r=t||0,this.g=e||0,this.b=i||0,this.a=r||0}function Pair(t,e){this.first=t,this.second=e}function Rect(t,e,i,r){this.left=t||0,this.top=e||0,this.right=i||0,this.bottom=r||0}function Viewport(t,e,i,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0,this.equals=function(t){return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height}}function Stack(t){this.stack=new Array,this.maxLength=0,t&&this.stack.push(t)}function Queue(t){this.queue=new Array,this.maxLength=0,t&&this.queue.push(t)}function setAttributeBin(t){gAttributeBin=t}function setAttributePairs(t){gAttributePairs=t}function deserializeAttributeContainer(t,e){for(var i=0;i<e.length;i++){var r=t.getAttribute(e[i][0]);r&&deserializeAttribute(r,e[i][1])}t.flagDeserializedFromXML()}function deserializeComplexAttribute(t,e){for(var i=[],r=0;r<e.length;r++)i.push(e[r][1]);i.length>0&&(gAttributeBin?gAttributeBin.push(new Pair(t,i)):setAttributeValue(t,i)),t.flagDeserializedFromXML()}function deserializeAttribute(t,e){gAttributeBin?gAttributeBin.push(new Pair(t,e)):setAttributeValue(t,e),t.flagDeserializedFromXML()}function resolveAttributeContainerReference(t,e,i){if(e.length>0&&"ref"==e[0][0]){var r=i.find(e[0][1]);if(r)return t.synchronize(r,!0),!0}return!1}function resolveComplexAttributeReference(t,e){return e.length>0&&"ref"==e[0][0]?resolvePrimitiveAttributeReference(t,e[0][1]):!1}function resolvePrimitiveAttributeReference(){return!1}function resolveAttributeReference(t,e){gAttributePairs?gAttributePairs.push(new Pair(t,e)):e.copyValue(t)}function isEmpty(t){return null==t||0==t.length}function trim(t,e,i){if(isEmpty(t))return"";null==e&&(e=!0),null==i&&(i=!0);var r=0,o=0,n=0,a=0;if(1==e)for(;n<t.length&&-1!=whitespace.indexOf(t.charAt(n++));)r++;if(1==i)for(a=t.length-1;a>=r&&-1!=whitespace.indexOf(t.charAt(a--));)o++;return t.substring(r,t.length-o)}function __escapeString(t){var e=/&/g,i=/</g,r=/>/g,o=/"/g,n=/'/g;return t=t.replace(e,"&amp;"),t=t.replace(i,"&lt;"),t=t.replace(r,"&gt;"),t=t.replace(o,"&quot;"),t=t.replace(n,"&apos;")}function __unescapeString(t){var e=/&amp;/g,i=/&lt;/g,r=/&gt;/g,o=/&quot;/g,n=/&apos;/g;return t=t.replace(e,"&"),t=t.replace(i,"<"),t=t.replace(r,">"),t=t.replace(o,'"'),t=t.replace(n,"'")}function showTagInfo(t){var e,r;e=trim(xmlTextArray[t]),(""==e||null==e)&&(e="No text value for this node"),r=trim(xmlCDataArray[t]),(""==r||null==r)&&(r="No CDATA value for this node");var o="Text:\n "+e+"\n\nCDATA:\n "+r+"\n\n";if(xmlAttrArray[t]){var n=xmlAttrArray[t],a="";for(i in n)a+=i+"="+n[i]+"\n";o+="Attributes:\n "+a}alert(t+"\n\n"+o)}function startParser(){var t,e=document.getElementById("xmldata").value,r="",o=new SAXDriver,n=new xmlHandler;o.setDocumentHandler(n),o.setErrorHandler(n),o.setLexicalHandler(n),o.parse(e);"\n"+n.getError();for(xmlTextArray=n.getText_Array(),xmlCDataArray=n.getCDATA_Array(),xmlAttrArray=n.getAttr_Array(),t=n.getPath_Array(),i=0;i<t.length;i++)r+='<a href="javascript:void(null)" onclick="showTagInfo(\''+t[i]+"')\">"+t[i]+"</a>\n";document.all?document.all.divout.innerHTML="Parsing completed  | Click on the links below for more info:<br><pre>"+r+"</pre>":document.getElementById?document.getElementById("divout").innerHTML="Parsing completed | Click on the links below for more info:<br><pre>"+r+"</pre>":alert("Requires a DOM compatible browser for this test")}function Timer(){this.startTime=null,this.stopTime=null}function __getIEVersion(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(e)&&(t=parseFloat(RegExp.$1))}return t}function __getOperaVersion(){var t=0;if(window.opera){var e=window.opera.version();t=parseFloat(e)}return t}function __parseBorderWidth(t){var e=0;if("string"==typeof t&&null!=t&&""!=t){var i=t.indexOf("px");e=i>=0?parseInt(t.substring(0,i)):1}return e}function __getBorderWidth(t){var e=new Object;if(e.left=0,e.top=0,e.right=0,e.bottom=0,window.getComputedStyle){var i=window.getComputedStyle(t,null);e.left=parseInt(i.borderLeftWidth.slice(0,-2)),e.top=parseInt(i.borderTopWidth.slice(0,-2)),e.right=parseInt(i.borderRightWidth.slice(0,-2)),e.bottom=parseInt(i.borderBottomWidth.slice(0,-2))}else e.left=__parseBorderWidth(t.style.borderLeftWidth),e.top=__parseBorderWidth(t.style.borderTopWidth),e.right=__parseBorderWidth(t.style.borderRightWidth),e.bottom=__parseBorderWidth(t.style.borderBottomWidth);return e}function getElementAbsolutePos(t){var e=new Object;if(e.x=0,e.y=0,null!==t)if(t.getBoundingClientRect){var i=document.documentElement,r=t.getBoundingClientRect(),o=i.scrollLeft,n=i.scrollTop;e.x=r.left+o,e.y=r.top+n}else{e.x=t.offsetLeft,e.y=t.offsetTop;for(var a=t.parentNode,s=null;null!=offsetParent;){e.x+=offsetParent.offsetLeft,e.y+=offsetParent.offsetTop;var l=offsetParent.tagName.toLowerCase();if((__isIEOld&&"table"!=l||(__isFireFoxNew||__isChrome)&&"td"==l)&&(s=kGetBorderWidth(offsetParent),e.x+=s.left,e.y+=s.top),offsetParent!=document.body&&offsetParent!=document.documentElement&&(e.x-=offsetParent.scrollLeft,e.y-=offsetParent.scrollTop),!__isIE&&!__isOperaOld||__isIENew)for(;offsetParent!=a&&null!==a;)e.x-=a.scrollLeft,e.y-=a.scrollTop,(__isFireFoxOld||__isWebKit)&&(s=kGetBorderWidth(a),e.x+=s.left,e.y+=s.top),a=a.parentNode;a=offsetParent.parentNode,offsetParent=offsetParent.offsetParent}}return e}function min3(t,e,i){return Math.min(t,Math.min(e,i))}function max3(t,e,i){return Math.max(t,Math.max(e,i))}function toRadians(t){return t*Math.PI/180}function toDegrees(t){return 180*t/Math.PI}function magnitude(t,e,i){return Math.sqrt(t*t+e*e+i*i)}function clamp(t,e,i){return e>t?e:t>i?i:t}function degreeNormalize(t){for(;0>t;)t+=360;for(;t>=360;)t-=360;return t}function epsilonEqual(t,e,i){return Math.abs(t-e)<i?!0:!1}function determinant2x2(t,e,i,r){return t*r-e*i}function determinant3x3(t,e,i,r,o,n,a,s,l){var c=determinant2x2(o,n,s,l),h=determinant2x2(r,n,a,l),d=determinant2x2(r,o,a,s);return t*c-e*h+i*d}function determinant4x4(t,e,i,r,o,n,a,s,l,c,h,d,u,p,f,_){var m=determinant3x3(n,a,s,c,h,d,p,f,_),g=determinant3x3(o,a,s,l,h,d,u,f,_),y=determinant3x3(o,n,s,l,c,d,u,p,_),b=determinant3x3(o,n,a,l,c,h,u,p,f);return t*m-e*g+i*y-r*b}function modf(t){var e=0>t?Math.ceil(t):Math.floor(t),i=t-e;return{integerPart:e,fractionalPart:i}}function XYZtoH(t,e,i){var r=0;return r=0==t?i>=0?0:Math.PI:0==i?t>=0?3*HALFPI:HALFPI:t>0&&i>0?TWOPI-Math.atan(t/i):0>t&&i>0?-Math.atan(t/i):0>t&&0>i?HALFPI+Math.atan(i/t):3*HALFPI+Math.atan(i/t)}function XYZtoHP(t,e,i){var r=0,o=0;return 0==t&&0==i?(r=0,o=0!=e?0>e?-HALFPI:HALFPI:0):(r=0==i?t>0?HALFPI:-HALFPI:0>i?-Math.atan(t/i)+Math.PI:-Math.atan(t/i),t=Math.sqrt(t*t+i*i),o=0==t?0>e?-HALFPI:HALFPI:Math.atan(e/t)),{heading:r,pitch:o}}function rectContainsPoint(t,e,i){return t>=i.left&&e>=i.top&&t<=i.right&&e<=i.bottom?!0:!1}function Vector2D(t,e){this.x=t||0,this.y=e||0}function Vector3D(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0,this.equals=function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z}}function dotProduct(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}function crossProduct(t,e){var i=new Vector3D;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i}function cosineAngleBetween(t,e){var i=magnitude(t.x,t.y,t.z)*magnitude(e.x,e.y,e.z);if(0!=i){var r=dotProduct(t,e)/i;return r>1?r=1:-1>r&&(r=-1),r}return 1}function midpoint(t,e){var i=new Vector3D;return i.x=(t.x+e.x)/2,i.y=(t.y+e.y)/2,i.z=(t.z+e.z)/2,i}function distanceBetween(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z))}function subtract3D(t,e){var i=new Vector3D(t.x,t.y,t.z);return i.subtractVector(e),i}function Vector4D(t,e,i,r){this.x=t||0,this.y=e||0,this.z=i||0,this.w=r||0}function Matrix4x4(t,e,i,r,o,n,a,s,l,c,h,d,u,p,f,_){this._11=t||1,this._12=e||0,this._13=i||0,this._14=r||0,this._21=o||0,this._22=n||1,this._23=a||0,this._24=s||0,this._31=l||0,this._32=c||0,this._33=h||1,this._34=d||0,this._41=u||0,this._42=p||0,this._43=f||0,this._44=_||1}function MatrixStack(t){Stack.call(this,t)}function Quaternion(t,e,i,r){this.w=t||1,this.x=e||0,this.y=i||0,this.z=r||0}function Line(t,e){this.point=new Vector3D(t.x,t.y,t.z),this.dir=new Vector3D(e.x,e.y,e.z)}function Plane(t,e){this.point=new Vector3D,this.normal=new Vector3D,this.dot=0,t&&e&&(this.point.copy(t),this.normal.copy(e),this.dot=dotProduct(this.point,this.normal))}function Plane2(t,e,i){var r;if(t&&e&&i){var o=new Vector3D(i.x-e.x,i.y-e.y,i.z-e.z),n=new Vector3D(t.x-e.x,t.y-e.y,t.z-e.z);r=crossProduct(o,n),r.normalize()}Plane.call(this,t,r)}function pointOnPlane(t,e,i){return Math.abs(dotProduct(t,e.normal)-e.dot)<i?!0:!1}function pointOnPositiveSideOfPlane(t,e){return dotProduct(t,e.normal)-e.dot>0?!0:!1}function pointOnNegativeSideOfPlane(t,e){return dotProduct(t,e.normal)-e.dot<0?!0:!1}function lineIntersectsPlane(t,e){var i,r=new Vector3D,o=e.normal.x*t.dir.x+e.normal.y*t.dir.y+e.normal.z*t.dir.z;if(0==o)pointOnPlane(t.point,e,FLT_EPSILON)&&(r.copy(t.point),i=2),i=0;else{var n=e.dot-(e.normal.x*t.point.x+e.normal.y*t.point.y+e.normal.z*t.point.z),a=n/o;r.x=a*t.dir.x+t.point.x,r.y=a*t.dir.y+t.point.y,r.z=a*t.dir.z+t.point.z,i=1}return{result:i,point:r}}function lineSegmentPlaneIntersection(t,e,i){var r=new Vector3D(e.x-t.x,e.y-t.y,e.z-t.z),o=t.x,n=t.y,a=t.z,s=r.x,l=r.y,c=r.z,h=i.normal.x*s+i.normal.y*l+i.normal.z*c;if(0==h){if(pointOnPlane(t,i,FLT_EPSILON)){var d=new Vector3D(t);return{count:2,point:d}}return{count:0}}var u=i.dot-(i.normal.x*o+i.normal.y*n+i.normal.z*a),p=u/h;if(0>p||p>1)return{count:0};var d=new Vector3D;return d.x=p*s+o,d.y=p*l+n,d.z=p*c+a,{count:1,point:d}}function coplanar(t,e){return t.normal!=e.normal&&t.normal!=-e.normal||!pointOnPlane(t.point,e)?!1:!0}function planesIntersect(t,e){var i=new Vector3D(0,0,0);return crossProduct(t.normal,e.normal).equals(i)?!1:!0}function distanceBetweenPlanes(t,e){if(coplanar(t,e))return 0;if(!planesIntersect(t,e)){var i=lineIntersectsPlane(new Line(t.point,t.normal),e);return i.result?distanceBetween(t.point,e.point):0}return 0}function ViewVolume(){this.left=null,this.right=null,this.top=null,this.bottom=null,this.near=null,this.far=null}function SIGN3(t){t.x<0?4:0|t.y<0?2:0|t.z<0?1:0}function solveQuadraticEquation(t,e,i){if(0==t)return{count:0};var r=e*e-4*t*i;if(0>r)return{count:0};if(0==r){var o=-e/(2*t);return{count:1,root1:o}}r=Math.sqrt(r);var o=(-e+r)/(2*t),n=(-e-r)/(2*t);return{count:2,root1:o,root2:n}}function rayTriangleIntersection(t,e,i,r,o,n,a){var s=new Vector3D(e.x,e.y,e.z);s.normalize();var l=new Vector3D(r.x-i.x,r.y-i.y,r.z-i.z),c=new Vector3D(o.x-i.x,o.y-i.y,o.z-i.z),h=crossProduct(s,c),d=dotProduct(l,h);if(d>-EPSILON&&EPSILON>d)return{result:!1};if(n&&d>0)return{result:!1};if(a&&0>d)return{result:!1};var u=1/d,p=new Vector3D(t.x-i.x,t.y-i.y,t.z-i.z),f=dotProduct(p,h)*u;if(0>f||f>1)return{result:!1};var _=crossProduct(p,l),m=dotProduct(s,_)*u;if(0>m||f+m>1)return{result:!1};var g=dotProduct(c,_)*u;return{result:!0,t:g,u:f,v:m}}function raySphereIntersection(t,e,i,r){var o=new Vector3D(e.x,e.y,e.z);o.normalize();var n=new Vector3D(t.x+o.x,t.y+o.y,t.z+o.z),a=n.x-t.x,s=n.y-t.y,l=n.z-t.z,c=2*(a*(t.x-i.x)+s*(t.y-i.y)+l*(t.z-i.z)),h=(t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.x-i.y)+(t.z-i.z)*(t.z-i.z)-r*r;return solveQuadraticEquation(1,c,h)}function triangleContainsPoint(t,e,i,r){var o=SIGN3(crossProduct(subtract3D(t,e),subtract3D(t,r))),n=SIGN3(crossProduct(subtract3D(e,i),subtract3D(e,r))),a=SIGN3(crossProduct(subtract3D(i,t),subtract3D(i,r)));return o==n&&n==a?!0:!1}function triangleOnPositiveSideOfPlane(t,e,i,r){return pointOnPositiveSideOfPlane(t,r)&&pointOnPositiveSideOfPlane(e,r)&&pointOnPositiveSideOfPlane(i,r)}function triangleOnNegativeSideOfPlane(t,e,i,r){return pointOnNegativeSideOfPlane(t,r)&&pointOnNegativeSideOfPlane(e,r)&&pointOnNegativeSideOfPlane(i,r)}function triangleSpansPlane(t,e,i,r){return!triangleOnPositiveSideOfPlane(t,e,i,r)&&!triangleOnNegativeSideOfPlane(t,e,i,r)}function lineSegmentTriangleIntersection(t,e,i,r,o){var n=lineSegmentPlaneIntersection(t,e,new Plane2(i,r,o));return 0==n.count?{result:!1,point:null}:n.point.x<min3(i.x,r.x,o.x)||n.point.y<min3(i.y,r.y,o.y)||n.point.z<min3(i.z,r.z,o.z)||n.point.x>max3(i.x,r.x,o.x)||n.point.y>max3(i.y,r.y,o.y)||n.point.z>max3(i.z,r.z,o.z)?{result:!1,point:null}:triangleContainsPoint(i,r,o,n.point)?{result:!0,point:n.point}:{result:!1,point:null}}function triangleTriangleIntersection(t,e,i,r,o,n){return triangleSpansPlane(t,e,i,new Plane(r,o,n))&&triangleSpansPlane(r,o,n,new Plane(t,e,i))&&(lineSegmentTriangleIntersection(t,e,r,o,n).result||lineSegmentTriangleIntersection(e,i,r,o,n).result||lineSegmentTriangleIntersection(i,t,r,o,n).result||lineSegmentTriangleIntersection(r,o,t,e,i).result||lineSegmentTriangleIntersection(o,n,t,e,i).result||lineSegmentTriangleIntersection(n,r,t,e,i).result)?!0:!1}function planeProject(t,e){return crossProduct(e.normal,crossProduct(t,e.normal))}function distanceBetweenLineSegmentAndPoint(t,e,i){if(t.equals(e))return distanceBetween(t,i);var r=magnitude(e.x-t.x,e.y-t.y,e.z-t.z),o=((i.x-t.x)*(e.x-t.x)+(i.y-t.y)*(e.y-t.y)+(i.z-t.z)*(e.z-t.z))/(r*r);return 0>o?distanceBetween(t,i):o>1?distanceBetween(e,i):distanceBetween(new Vector3D(t.x+(e.x-t.x)*o,t.y+(e.y-t.y)*o,t.z+(e.z-t.z)*o),i)}function enumerateAttributeTypes(){var t=0;for(var e in eAttrType)0==eAttrType[e]&&(eAttrType[e]=t++)}function enumerateAttributeElementTypes(){var t=0;for(var e in eAttrElemType)0==eAttrElemType[e]&&(eAttrElemType[e]=t++)}function AttributeTargetDesc(t,e,i,r,o){this.target=t||null,this.sourceElementIndex=e||-1,this.targetElementIndex=i||-1,this.op=r||eAttrSetOp.Replace,this.converter=o||null}function AttributeSourceDesc(t,e,i,r,o){this.source=t||null,this.sourceElementIndex=e||-1,this.targetElementIndex=i||-1,this.op=r||eAttrSetOp.Replace,this.converter=o||null}function AttributeGetParams(t,e){this.elementIndex=t,this.valueElementIndex=e}function AttributeSetParams(t,e,i,r,o,n){this.elementIndex=t||-1,this.valueElementIndex=e||-1,this.op=i||eAttrSetOp.Replace,this.updateTargets=void 0!=r?r:!0,this.alertModifiedCBs=void 0!=o?o:!0,this.caller=void 0!=n?n:null}function Attribute(){Base.call(this),this.className="Attribute",this.attrType=eAttrType.Attribute,this.attrElemType=eAttrElemType.Attribute,this["native"]=!0,this["transient"]=!1,this.persistent=!1,this.deserialized=!1,this.modificationCount=-1,this.values=[],this.lastValues=[],this.modifiedCBs=[],this.modifiedCBsData=[],this.targets=[],this.sources=[],this.container=null,this.registry=null}function AttributeContainer(){Attribute.call(this),this.className="AttributeContainer",this.attrType=eAttrType.AttributeContainer,this.attrNameMap=[]}function AttributeContainer_AttributeModifiedCB(t,e){for(var i=0;i<e.modifiedCBs.length;i++)e.modifiedCBs[i](e,e.modifiedCBsData[i])}function AttributeRegistry(){AttributeContainer.call(this),this.className="AttributeRegistry",this.attrType=eAttrType.AttributeRegistry,this.objectCount=0,this.typeRegistry=[],this.nameRegistry=[],this.uniqueAttributes=[]}function AttributeRegistry_AttributeContainerNameModifiedCB(t,e){e.updateName(t.getContainer(),t.getValueDirect().join(""))}function BooleanAttr(t){Attribute.call(this),this.className="BooleanAttr",this.attrType=eAttrType.BooleanAttr,this.setValue(t||!1)}function ColorAttr(t,e,i,r){Attribute.call(this),this.className="ColorAttr",this.attrType=eAttrType.ColorAttr;var o=[t||0,e||0,i||0,r||0];this.setValue(o)}function Matrix4x4Attr(t,e,i,r,o,n,a,s,l,c,h,d,u,p,f,_){Attribute.call(this),this.className="Matrix4x4Attr",this.attrType=eAttrType.Matrix4x4Attr;var m=[t||1,e||0,i||0,r||0,o||0,n||1,a||0,s||0,l||0,c||0,h||1,d||0,u||0,p||0,f||0,_||1];this.setValue(m)}function NumberArrayAttr(){Attribute.call(this),this.className="NumberArrayAttr",this.attrType=eAttrType.NumberArrayAttr}function NumberAttr(t){Attribute.call(this),this.className="NumberAttr",this.attrType=eAttrType.NumberAttr,this.setValue(t||0)}function PulseAttr(){BooleanAttr.call(this),this.className="PulseAttr",this.attrType=eAttrType.PulseAttr,this.setTransient(!0)}function QuaternionAttr(t,e,i,r){Attribute.call(this),this.className="QuaternionAttr",this.attrType=eAttrType.QuaternionAttr;var o=[t||1,e||0,i||0,r||0];this.setValue(o)}function ReferenceAttr(t){Attribute.call(this),this.className="ReferenceAttr",this.attrType=eAttrType.ReferenceAttr,this.setValue(t||null)}function StringAttr(t){Attribute.call(this),this.className="StringAttr",this.attrType=eAttrType.StringAttr,this.setValue(t||"")}function StringAttrAllocator(){}function TernaryAttr(t){NumberAttr.call(this,t),this.className="TernaryAttr",this.attrType=eAttrType.TernaryAttr}function Vector2DAttr(t,e){Attribute.call(this),this.className="Vector2DAttr",this.attrType=eAttrType.Vector2DAttr;var i=[t||0,e||0];this.setValue(i)}function Vector3DAttr(t,e,i){Attribute.call(this),this.className="Vector3DAttr",this.attrType=eAttrType.Vector3DAttr;var r=[t||0,e||0,i||0];this.setValue(r)}function ViewportAttr(t,e,i,r){Attribute.call(this),this.className="ViewportAttr",this.attrType=eAttrType.ViewportAttr;var o=[t||0,e||0,i||0,r||0];this.setValue(o)}function AttributeVector(t){AttributeContainer.call(this),this.className="AttributeVector",this.attrType=eAttrType.AttributeVector,this.vector=[],this.allocator=t,this.size=new NumberAttr(0),this.baseName=new StringAttr("item"),this.appendParsedElements=new BooleanAttr(!1),this.elementModified=new PulseAttr,this.size.addModifiedCB(AttributeVector_SizeModifiedCB,this),this.baseName.addModifiedCB(AttributeVector_BaseNameModifiedCB,this),this.registerAttribute(this.size,"size"),this.registerAttribute(this.baseName,"baseName"),this.registerAttribute(this.appendParsedElements,"appendParsedElements"),this.registerAttribute(this.elementModified,"elementModified")}function AttributeVector_SizeModifiedCB(t,e){e.sizeModified()}function AttributeVector_BaseNameModifiedCB(){}function StyleAttr(){AttributeContainer.call(this),this.className="StyleAttr",this.attrType=eAttrType.StyleAttr,this.setOp=new NumberAttr(eAttrSetOp.Replace),this.styleUrl=new StringAttr,this.styleUrl.addModifiedCB(StyleAttr_StyleUrlModifiedCB,this),this.registerAttribute(this.setOp,"setOp"),this.registerAttribute(this.styleUrl,"styleUrl")}function StyleAttr_StyleUrlModifiedCB(t,e){e.styleUrlModified()}function StylesAttr(){AttributeVector.call(this),this.className="StylesAttr",this.attrType=eAttrType.StylesAttr,this.registeredCBs=[],this.registeredCBsData=[],this.enabled=new BooleanAttr(!0),this.registerAttribute(this.enabled,"enabled")}function StyleMapAttr(){AttributeContainer.call(this),this.className="StyleMapAttr",this.attrType=eAttrType.StyleMapAttr,this.eventType=eEventType.Unknown,this.targetContainer=null,this.event=new StringAttr,this.styles=new StylesAttr,this.styleUrl=new StringAttr,this.target=new StringAttr,this.event.addModifiedCB(StyleMapAttr_EventModifiedCB,this),this.styleUrl.addModifiedCB(StyleMapAttr_styleUrlModifiedCB,this),this.target.addModifiedCB(StyleMapAttr_TargetModifiedCB,this),this.registerAttribute(this.event,"event"),this.registerAttribute(this.styleUrl,"styleUrl"),this.registerAttribute(this.target,"target")}function StyleMapAttr_EventModifiedCB(t,e){e.eventModified()}function StyleMapAttr_styleUrlModifiedCB(t,e){e.styleUrlModified()}function StyleMapAttr_TargetModifiedCB(t,e){e.targetModified()}function StyleMapAttrAllocator(){}function StylesMapAttr(){AttributeVector.call(this,new StyleMapAttrAllocator),this.className="StylesMapAttr",this.attrType=eAttrType.StylesMapAttr,this.stylesEnabledMap=[],this.size.addModifiedCB(StylesMapAttr_SizeModifiedCB,this),this.appendParsedElements.setValueDirect(!0)}function StylesMapAttr_SizeModifiedCB(t,e){e.StylesMapAttr_SizeModified()}function KeyframeAttr(){AttributeContainer.call(this),this.className="KeyframeAttr",this.attrType=eAttrType.KeyframeAttr,this.time=new NumberAttr,this.value=new NumberAttr,this.shape=new NumberAttr,this.params=new AttributeVector;for(var t=0;6>t;t++)this.params.push_back(new NumberAttr(0));this.registerAttribute(this.time,"time"),this.registerAttribute(this.value,"value"),this.registerAttribute(this.shape,"shape"),this.registerAttribute(this.params,"params"),this.getTime=function(){return this.time.getValueDirect()},this.getValue=function(){return this.value.getValueDirect()},this.getShape=function(){return this.shape.getValueDirect()},this.getParams=function(t){return this.params.getAt(t).getValueDirect()}}function KeyframesAttr(){AttributeVector.call(this),this.className="KeyframesAttr",this.attrType=eAttrType.KeyframesAttr}function BBoxAttr(){AttributeContainer.call(this),this.className="BBoxAttr",this.attrType=eAttrType.BBoxAttr,this.min=new Vector3DAttr,this.max=new Vector3DAttr,this.registerAttribute(this.min,"min"),this.registerAttribute(this.max,"max")}function ImageAttr(){AttributeContainer.call(this),this.className="ImageAttr",this.attrType=eAttrType.ImageAttr,this.width=new NumberAttr(0),this.height=new NumberAttr(0),this.byteAlignment=new NumberAttr(0),this.pixelFormat=new NumberAttr(ePixelFormat.Unknown),this.pixels=new NumberArrayAttr,this.registerAttribute(this.width,"width"),this.registerAttribute(this.height,"height"),this.registerAttribute(this.byteAlignment,"byteAlignment"),this.registerAttribute(this.pixelFormat,"pixelFormat"),this.registerAttribute(this.pixels,"pixels")}function RectAttr(){AttributeContainer.call(this),this.className="RectAttr",this.attrType=eAttrType.RectAttr,this.left=new NumberAttr(0),this.top=new NumberAttr(0),this.right=new NumberAttr(0),this.bottom=new NumberAttr(0),this.registerAttribute(this.left,"left"),this.registerAttribute(this.top,"top"),this.registerAttribute(this.right,"right"),this.registerAttribute(this.bottom,"bottom")}function FontStyleAttr(){StyleAttr.call(this),this.className="FontStyleAttr",this.attrType=eAttrType.FontStyleAttr,this.antialiasType=new NumberAttr(eImageAntialiasOp.EightPass),this.borderColor=new ColorAttr(0,0,0,1),this.borderWidth=new NumberAttr(2),this.color=new ColorAttr(1,1,1,1),this.effects=new StringAttr,this.font=new StringAttr("Arial"),this.opacity=new NumberAttr(1),this.size=new NumberAttr(18),this.style=new StringAttr("Bold"),this.registerAttribute(this.antialiasType,"antialiasType"),this.registerAttribute(this.borderColor,"borderColor"),this.registerAttribute(this.borderWidth,"borderWidth"),this.registerAttribute(this.color,"color"),this.registerAttribute(this.effects,"effects"),this.registerAttribute(this.font,"font"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.size,"size"),this.registerAttribute(this.style,"style")}function LabelStyleAttr(){StyleAttr.call(this),this.className="LabelStyleAttr",this.attrType=eAttrType.LabelStyleAttr,this.angle=new NumberAttr(0),this.backgroundColor=new ColorAttr(0,0,0,1),this.backgroundOpacity=new NumberAttr(0),this.fontStyle=new FontStyleAttr,this.format=new StringAttr("left"),this.height=new NumberAttr(0),this.offset=new Vector2DAttr(0,0),this.padding=new NumberAttr(0),this.scale=new Vector3DAttr(1,1,1),this.textAlign=new StringAttr("middleRight"),this.width=new NumberAttr(0),this.registerAttribute(this.angle,"angle"),this.registerAttribute(this.backgroundColor,"backgroundColor"),this.registerAttribute(this.backgroundOpacity,"backgroundOpacity"),this.registerAttribute(this.fontStyle,"fontStyle"),this.registerAttribute(this.format,"format"),this.registerAttribute(this.height,"height"),this.registerAttribute(this.offset,"offset"),this.registerAttribute(this.padding,"padding"),this.registerAttribute(this.scale,"scale"),this.registerAttribute(this.textAlign,"textAlign"),this.registerAttribute(this.width,"width")}function IconStyleAttr(){StyleAttr.call(this),this.className="IconStyleAttr",this.attrType=eAttrType.IconStyleAttr,this.alphaUrl=new StringAttr(""),this.color=new ColorAttr(1,1,1,1),this.opacity=new NumberAttr(1),this.scale=new Vector3DAttr(1,1,1),this.url=new StringAttr(""),this.registerAttribute(this.alphaUrl,"alphaUrl"),this.registerAttribute(this.color,"color"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.scale,"scale"),this.registerAttribute(this.url,"url")}function HTMLLabelStyleAttr(){StyleAttr.call(this),this.className="HTMLLabelStyleAttr",this.attrType=eAttrType.HTMLLabelStyleAttr,this.bgColor=new ColorAttr(1,1,1,1),this.height=new NumberAttr(0),this.html=new StringAttr,this.left=new NumberAttr(0),this.top=new NumberAttr(0),this.url=new StringAttr,this.width=new NumberAttr(0),this.registerAttribute(this.bgColor,"bgColor"),this.registerAttribute(this.height,"height"),this.registerAttribute(this.html,"html"),this.registerAttribute(this.html,"userData"),this.registerAttribute(this.left,"left"),this.registerAttribute(this.top,"top"),this.registerAttribute(this.url,"url"),this.registerAttribute(this.width,"width")}function BalloonTipLabelStyleAttr(){StyleAttr.call(this),this.className="BalloonTipLabelStyleAttr",this.attrType=eAttrType.BalloonTipLabelStyleAttr,this.balloonOffset=new NumberAttr(100),this.bgColor=new ColorAttr(1,1,1,1),this.displayMode=new StringAttr("default"),this.htmlLabelStyle=new HTMLLabelStyleAttr,this.text=new StringAttr,this.textColor=new ColorAttr(0,0,0,1),this.registerAttribute(this.balloonOffset,"balloonOffset"),this.registerAttribute(this.bgColor,"bgColor"),this.registerAttribute(this.displayMode,"displayMode"),this.registerAttribute(this.htmlLabelStyle,"htmlLabelStyle"),this.registerAttribute(this.text,"text"),this.registerAttribute(this.textColor,"textColor")}function RenderableElementStyleAttr(){StyleAttr.call(this),this.className="RenderableElementStyleAttr",this.attrType=eAttrType.RenderableElementStyleAttr,this.hasFocus=new TernaryAttr(0),this.selected=new TernaryAttr(0),this.registerAttribute(this.hasFocus,"hasFocus"),this.registerAttribute(this.selected,"selected")}function PlaneAttr(){AttributeContainer.call(this),this.className="PlaneAttr",this.attrType=eAttrType.PlaneAttr,this.point=new Vector3DAttr(0,0,0),this.normal=new Vector3DAttr(0,0,1),this.dot=new NumberAttr(0),this.registerAttribute(this.point,"point"),this.registerAttribute(this.normal,"normal"),this.registerAttribute(this.dot,"dot")}function ViewVolumeAttr(){AttributeContainer.call(this),this.className="ViewVolumeAttr",this.attrType=eAttrType.ViewVolumeAttr,this.left=new PlaneAttr,this.right=new PlaneAttr,this.top=new PlaneAttr,this.bottom=new PlaneAttr,this.near=new PlaneAttr,this.far=new PlaneAttr,this.registerAttribute(this.left,"left"),this.registerAttribute(this.right,"right"),this.registerAttribute(this.top,"top"),this.registerAttribute(this.bottom,"bottom"),this.registerAttribute(this.near,"near"),this.registerAttribute(this.far,"far")}function SphereAttr(){AttributeContainer.call(this),this.className="SphereAttr",this.attrType=eAttrType.SphereAttr,this.sphere=new Sphere,this.center=new Vector3DAttr(0,0,0),this.radius=new NumberAttr(0),this.center.addModifiedCB(SphereAttr_CenterModifiedCB,this),this.radius.addModifiedCB(SphereAttr_RadiusModifiedCB,this),this.registerAttribute(this.center,"center"),this.registerAttribute(this.radius,"radius")}function SphereAttr_CenterModifiedCB(t,e){e.sphere.center=t.getValueDirect()}function SphereAttr_RadiusModifiedCB(t,e){e.sphere.radius=t.getValueDirect()}function PhysicalPropertiesAttr(){AttributeContainer.call(this),this.className="PhysicalPropertiesAttr",this.attrType=eAttrType.PhysicalPropertiesAttr,this.mass=new NumberAttr(0),this.radius=new NumberAttr(0),this.registerAttribute(this.mass,"mass"),this.registerAttribute(this.radius,"radius")}function setAttributeValue(t,e){switch(t.attrType){case eAttrType.BooleanAttr:t.setValueDirect("false"==e||"0"==e?!1:!0);break;case eAttrType.ColorAttr:case eAttrType.Matrix4x4Attr:case eAttrType.NumberArrayAttr:case eAttrType.Vector2DAttr:case eAttrType.Vector3DAttr:case eAttrType.ViewportAttr:for(var i=0;i<e.length;i++)e[i]=parseFloat(e[i]);t.setValue(e);break;case eAttrType.NumberAttr:t.setValueDirect(parseFloat(e));break;default:t.setValue(e)}}function Agent(){AttributeContainer.call(this),this.className="Agent",this.running=!1,this.name=new StringAttr(""),this.enabled=new BooleanAttr(!0),this.registerAttribute(this.name,"name"),this.registerAttribute(this.enabled,"enabled")}function RayIntersectRecord(){this.distance=1/0,this.pointModel=new Vector3D,this.pointWorld=new Vector3D,this.pointView=new Vector3D,this.triIndex=0}function RayIntersectParams(t,e,i,r,o,n,a,s,l){this.rayOrigin=t||new Vector3D,this.rayDir=e||new Vector3D,this.nearDistance=i||0,this.farDistance=r||0,this.worldMatrix=o||new Matrix4x4,this.viewMatrix=n||new Matrix4x4,this.worldViewMatrix=this.worldMatrix.multiply(this.viewMatrix),this.scale=a||0,this.doubleSided=s||!1,this.clipPlanes=l||new Array,this.intersects=!1,this.intersectRecord=new RayIntersectRecord}function Triangle(t,e,i,r,o,n,a,s,l){this.v0=new Vector3D(t,e,i),this.v1=new Vector3D(r,o,n),this.v2=new Vector3D(a,s,l)
}function Sphere(){this.center=new Vector3D,this.radius=0,this.xcenter=new Vector3D,this.xradius=0}function Region(t,e,i,r,o,n){this.min=new Vector3D(t,e,i),this.max=new Vector3D(r,o,n),this.xpos=new Plane,this.xneg=new Plane,this.ypos=new Plane,this.yneg=new Plane,this.zpos=new Plane,this.zneg=new Plane,this.xpos_ypos_zpos=new Plane,this.xpos_ypos_zneg=new Plane,this.xpos_yneg_zpos=new Plane,this.xpos_yneg_zneg=new Plane,this.xneg_ypos_zpos=new Plane,this.xneg_ypos_zneg=new Plane,this.xneg_yneg_zpos=new Plane,this.xneg_yneg_zneg=new Plane,this.setPlanes()}function SphereTreeNode(t){this.tree=t,this.sphere=new Sphere,this.level=0,this.parent=null,this.children=[],this.triIndices=[]}function SphereHitRec(){this.target=null,this.testList=[]}function BoundingTree(){this.root=null,this.min=new Vector3D,this.max=new Vector3D,this.tris=[],this.visited=[],this.xform=new Matrix4x4}function SphereTree(){BoundingTree.call(this)}function Octree(){SphereTree.call(this)}function rayPick(t,e,i,r,o,n,a,s,l,c){var h=new RayIntersectParams(e,i,r,o,n,a,s,l,c);return t.rayIntersectsTree(h),1==h.intersects?h.intersectRecord:null}function Context(){this.clear()}function RenderContextMethodDesc(t,e){this.method=t,this.params=e}function DisplayListObj(t){this.renderContext=t,this.displayList=[]}function DL_ADD_METHOD_DESC(t,e,i){t&&t.addMethodDesc(new RenderContextMethodDesc(e,i))}function LightDesc(){this.type="",this.validMembersMask=0,this.position=new Vector3D,this.direction=new Vector3D,this.ambient=new Color,this.diffuse=new Color,this.specular=new Color,this.constantAttenuation=0,this.linearAttenuation=0,this.quadraticAttenuation=0,this.range=0,this.outerConeDegrees=0,this.innerConeDegrees=0,this.coneFalloff=0}function MaterialDesc(){this.validMembersMask=0,this.ambient=new Color,this.diffuse=new Color,this.specular=new Color,this.emissive=new Color,this.glossiness=0,this.copy=function(t){t&&(this.validMembersMask=t.validMembersMask,this.ambient.copy(t.ambient),this.diffuse.copy(t.diffuse),this.specular.copy(t.specular),this.emissive.copy(t.emissive),this.glossiness=t.glossiness)}}function RenderContext(t,e){this.valid=!1,this.canvas=t,this.background=e,this.projectionMatrixStack=new MatrixStack(new Matrix4x4),this.viewMatrixStack=new MatrixStack(new Matrix4x4),this.worldMatrixStack=new MatrixStack(new Matrix4x4),this.matrixMode=RC_WORLD,this.globalIllumination=new Color,this.frontMaterial=new MaterialDesc,this.displayListObj=null,this.getDisplayList=function(){return this.displayListObj},this.setDisplayList=function(t){this.displayListObj=t},this.getFrontMaterial=function(){var t=new MaterialDesc;return t.copy(this.frontMaterial),t},this.setBackgroundImage=function(t,e,i){this.background&&(this.background.src=t,this.background.width=e,this.background.height=i)},this.setMatrixMode=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetMatrixMode,[t]),this.matrixMode=t},this.pushMatrix=function(){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.PushMatrix,null),this.matrixMode){case RC_WORLD:this.worldMatrixStack.push();break;case RC_VIEW:this.viewMatrixStack.push();break;case RC_PROJECTION:this.projectionMatrixStack.push()}},this.popMatrix=function(){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.PopMatrix,null),this.matrixMode){case RC_WORLD:this.worldMatrixStack.pop();break;case RC_VIEW:this.viewMatrixStack.pop();break;case RC_PROJECTION:this.projectionMatrixStack.pop()}},this.loadMatrix=function(t){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.LoadMatrix,[t]),this.matrixMode){case RC_WORLD:this.worldMatrixStack.loadMatrix(t);break;case RC_VIEW:this.viewMatrixStack.loadMatrix(t);break;case RC_PROJECTION:this.projectionMatrixStack.loadMatrix(t)}},this.leftMultMatrix=function(t){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.LeftMultMatrix,[t]),this.matrixMode){case RC_WORLD:this.worldMatrixStack.leftMultiply(t);break;case RC_VIEW:this.viewMatrixStack.leftMultiply(t);break;case RC_PROJECTION:this.projectionMatrixStack.leftMultiply(t)}},this.rightMultMatrix=function(t){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.RightMultMatrix,[t]),this.matrixMode){case RC_WORLD:this.worldMatrixStack.rightMultiply(t);break;case RC_VIEW:this.viewMatrixStack.rightMultiply(t);break;case RC_PROJECTION:this.projectionMatrixStack.rightMultiply(t)}},this.setEnabled=function(t,e){e?this.enable(t):this.disable(t)}}function newRenderContext(t,e,i){var r=null;switch(t){case"webgl":if(r=new webglRC(e,i),r.valid){var o=r.createProgram(default_fragment_lighting_vs,default_fragment_lighting_fs);r.useProgram(o)}}return r.valid?r:null}function RenderStateRec(){this.projMatrix=new Matrix4x4,this.viewMatrix=new Matrix4x4,this.worldViewMatrix=new Matrix4x4,this.lightIndices=[],this.lightStates=[],this.lightMatrices=[],this.lightingEnabled=!1,this.materialDesc=new MaterialDesc,this.fogEnabled=!1,this.clipPlaneIndices=[],this.clipPlanes=[],this.clipPlaneMatrices=[],this.zBufferEnabled=!1,this.zBufferWriteEnabled=!1}function RenderState(t){this.renderContext=t,this.stateStack=new Stack,this.push=function(t){var e=this.getState(t);this.stateStack.push(e)},this.pop=function(t){if(!this.stateStack.empty()){var e=this.stateStack.top();this.setState(t,e),this.stateStack.pop()}},this.getState=function(t){var e=new RenderStateRec;if(t&RENDERSTATE_TRANSFORM_BIT&&(e.projMatrix=this.renderContext.projectionMatrixStack.top(),e.viewMatrix=this.renderContext.viewMatrixStack.top(),e.worldViewMatrix=this.renderContext.worldMatrixStack.top()),t&RENDERSTATE_LIGHTING_BIT){e.lightIndices=this.renderContext.getEnabledLights();for(var i=0;i<e.lightIndices.length;i++){var r=this.renderContext.getLight(e.lightIndices[i]);e.lightStates[i]=r.desc,e.lightMatrices[i]=r.matrix}e.lightingEnabled=this.renderContext.enabled(eRenderMode.Lighting)}return t&RENDERSTATE_MATERIAL_BIT&&(e.materialDesc=this.renderContext.getFrontMaterial()),t&RENDERSTATE_ZBUFFER_BIT&&(e.zBufferEnabled=this.renderContext.enabled(eRenderMode.DepthTest),e.zBufferWriteEnabled=this.renderContext.enabled(eRenderMode.DepthBufferWrite)),e},this.setState=function(t,e){if(t&RENDERSTATE_TRANSFORM_BIT&&(this.renderContext.projectionMatrixStack.loadMatrix(e.projMatrix),this.renderContext.applyProjectionTransform(),this.renderContext.viewMatrixStack.loadMatrix(e.viewMatrix),this.renderContext.applyViewTransform(),this.renderContext.worldMatrixStack.loadMatrix(e.worldViewMatrix),this.renderContext.applyWorldTransform()),t&RENDERSTATE_LIGHTING_BIT){for(var i=0;i<e.lightIndices.length;i++)this.renderContext.worldMatrixStack.push(e.lightMatrices[i]),this.renderContext.setLight(e.lightIndices[i],e.lightStates[i]),this.renderContext.worldMatrixStack.pop();this.renderContext.setEnabledLights(e.lightIndices),e.lightingEnabled?this.renderContext.enable(eRenderMode.Lighting):this.renderContext.disable(eRenderMode.Lighting)}t&RENDERSTATE_MATERIAL_BIT&&this.renderContext.setFrontMaterial(e.materialDesc),t&RENDERSTATE_ZBUFFER_BIT&&(e.zBufferEnabled?this.renderContext.enable(eRenderMode.DepthTest):this.renderContext.disable(eRenderMode.depthTest),e.zBufferWriteEnabled?this.renderContext.enable(eRenderMode.DepthBufferWrite):this.renderContext.disable(eRenderMode.DepthBufferWrite))}}function VertexBuffer(){this.vertices=new Array,this.normals=new Array,this.colors=new Array,this.vertexCount=0,this.numVerticesPerPrimitive=0}function TextureObject(){}function webglProgram(t,e,i,r){var e=e,o=e.createShader(e.VERTEX_SHADER);if(o&&(e.shaderSource(o,i),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)))return void alert(e.getShaderInfoLog(o));var n=e.createShader(e.FRAGMENT_SHADER);if(n&&(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)))return void alert(e.getShaderInfoLog(n));var a=e.createProgram();if(a){if(e.attachShader(a,o),e.attachShader(a,n),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))return void alert(e.getProgramInfoLog(a));e.useProgram(a);var s=0;this.vertexPositionAttribute=e.getAttribLocation(a,"aVertexPosition"),this.vertexPositionAttribute>=0&&s++,this.vertexNormalAttribute=e.getAttribLocation(a,"aVertexNormal"),this.vertexNormalAttribute>=0&&s++,this.vertexColorAttribute=e.getAttribLocation(a,"aVertexColor"),this.vertexColorAttribute>=0&&s++,this.textureCoordAttribute=new Array(gl_MaxTextureStages);for(var l=0;gl_MaxTextureStages>l;l++)this.textureCoordAttribute[l]=e.getAttribLocation(a,"aTextureCoord"+l),this.textureCoordAttribute[l]>=0&&s++;this.projectionMatrix=e.getUniformLocation(a,"uProjectionMatrix"),this.viewMatrix=e.getUniformLocation(a,"uViewMatrix"),this.worldMatrix=e.getUniformLocation(a,"uWorldMatrix"),this.normalMatrix=e.getUniformLocation(a,"uNormalMatrix"),this.globalAmbientLight=e.getUniformLocation(a,"uGlobalAmbientLight"),this.lightSource=new Array(gl_MaxLights);for(var l=0;gl_MaxLights>l;l++)this.lightSource[l]=new gl_LightSourceParameters,this.lightSource[l].enabled=e.getUniformLocation(a,"uLightSource_enabled["+l+"]"),this.lightSource[l].ambient=e.getUniformLocation(a,"uLightSource_ambient["+l+"]"),this.lightSource[l].diffuse=e.getUniformLocation(a,"uLightSource_diffuse["+l+"]"),this.lightSource[l].specular=e.getUniformLocation(a,"uLightSource_specular["+l+"]"),this.lightSource[l].position=e.getUniformLocation(a,"uLightSource_position["+l+"]"),this.lightSource[l].spotDirection=e.getUniformLocation(a,"uLightSource_spotDirection["+l+"]"),this.lightSource[l].spotExponent=e.getUniformLocation(a,"uLightSource_spotExponent["+l+"]"),this.lightSource[l].spotCutoff=e.getUniformLocation(a,"uLightSource_spotCutoff["+l+"]"),this.lightSource[l].constantAttenuation=e.getUniformLocation(a,"uLightSource_constantAttenuation["+l+"]"),this.lightSource[l].linearAttenuation=e.getUniformLocation(a,"uLightSource_linearAttenuation["+l+"]"),this.lightSource[l].quadraticAttenuation=e.getUniformLocation(a,"uLightSource_quadraticAttenuation["+l+"]"),this.lightSource[l].range=e.getUniformLocation(a,"uLightSource_range["+l+"]"),e.uniform1i(this.lightSource[l].enabled,0);this.frontMaterial=new gl_MaterialParameters,this.frontMaterial.ambient=e.getUniformLocation(a,"uFrontMaterial_ambient"),this.frontMaterial.diffuse=e.getUniformLocation(a,"uFrontMaterial_diffuse"),this.frontMaterial.specular=e.getUniformLocation(a,"uFrontMaterial_specular"),this.frontMaterial.emission=e.getUniformLocation(a,"uFrontMaterial_emission"),this.frontMaterial.shininess=e.getUniformLocation(a,"uFrontMaterial_shininess"),this.textureSamplerColor=new Array(gl_MaxTextureStages),this.textureSamplerAlpha=new Array(gl_MaxTextureStages),this.textureStageEnabled=new Array(gl_MaxTextureStages);for(var l=0;gl_MaxTextureStages>l;l++)this.textureSamplerColor[l]=e.getUniformLocation(a,"uTextureSamplerColor["+l+"]"),this.textureSamplerAlpha[l]=e.getUniformLocation(a,"uTextureSamplerAlpha["+l+"]"),this.textureStageEnabled[l]=e.getUniformLocation(a,"uTextureStageEnabled["+l+"]");this.textureSamplerShadowMap=e.getUniformLocation(a,"uTextureSamplerShadowMap"),this.textureBlendOp=e.getUniformLocation(a,"uTextureBlendOp"),this.textureColorMask=e.getUniformLocation(a,"uTextureColorMask"),this.clipPlane=new Array(gl_MaxClipPlanes),this.clipPlaneEnabled=new Array(gl_MaxClipPlanes);for(var l=0;gl_MaxClipPlanes>l;l++)this.clipPlane[l]=e.getUniformLocation(a,"uClipPlane["+l+"]"),this.clipPlaneEnabled[l]=e.getUniformLocation(a,"uClipPlaneEnabled["+l+"]");this.lightingEnabled=e.getUniformLocation(a,"uLightingEnabled"),this.texturesEnabled=e.getUniformLocation(a,"uTexturesEnabled"),this.shadowCasterWorldPosition=e.getUniformLocation(a,"uShadowCasterWorldPosition"),this.modelID=e.getUniformLocation(a,"uModelID"),e.uniform1i(this.lightingEnabled,1),e.uniform1i(this.texturesEnabled,1),e.uniform1i(this.textureStageEnabled[0],0),e.uniform1i(this.textureStageEnabled[1],0),this.getGLProgram=function(){return a},this.enableVertexAttribArrays=function(){for(var t=0;s>t;t++)e.enableVertexAttribArray(t)},this.disableVertexAttribArrays=function(){for(var t=0;s>t;t++)e.disableVertexAttribArray(t)},this.vertexAttribPointer=function(t,i,r,o,n,a){t>=0&&e.vertexAttribPointer(t,i,r,o,n,a)}}}function gl_LightSourceParameters(){}function gl_MaterialParameters(){}function webglRC(t,e){RenderContext.call(this,t,e);var i=getWebGLContext(t,!1);if(i){i.clearColor(0,0,0,e?0:1),i.clearDepth(1),i.clearStencil(0),i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL),i.disable(i.STENCIL_TEST),i.frontFace(i.CW),i.viewport(0,0,t.width,t.height),i.enable(i.CULL_FACE),i.cullFace(i.BACK);var r=(i.getExtension("OES_standard_derivatives"),35723);i.hint(r,i.NICEST),this.valid=!0;var o=null,n=[],a=[],s=[],l=[],c=[],h=[],d=new Viewport(0,0,t.width,t.height),u=new Color(0,0,0,e?0:1);this.applyProjectionTransform=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.ApplyProjectionTransform,null),i.uniformMatrix4fv(o.projectionMatrix,!1,new Float32Array(this.projectionMatrixStack.top().flatten()))},this.applyViewTransform=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.ApplyViewTransform,null),i.uniformMatrix4fv(o.viewMatrix,!1,new Float32Array(this.viewMatrixStack.top().flatten()))},this.applyWorldTransform=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.ApplyWorldTransform,null),i.uniformMatrix4fv(o.worldMatrix,!1,new Float32Array(this.worldMatrixStack.top().flatten()));var t=new Matrix4x4;t.loadMatrix(this.worldMatrixStack.top()),t.invert(),t.transpose(),i.uniformMatrix4fv(o.normalMatrix,!1,new Float32Array(t.flatten()))},this.clear=function(t){t=t||RC_COLOR_BUFFER_BIT|RC_DEPTH_BUFFER_BIT,this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.Clear,[t]),i.clear((t&RC_COLOR_BUFFER_BIT?i.COLOR_BUFFER_BIT:0)|(t&RC_DEPTH_BUFFER_BIT?i.DEPTH_BUFFER_BIT:0)|(t&RC_STENCIL_BUFFER_BIT?i.STENCIL_BUFFER_BIT:0))},this.clearColor=function(t,e,r,o){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.ClearColor,[t,e,r,o]),i.clearColor(t,e,r,o),u.load(t,e,r,o)},this.clearDepth=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.ClearDepth,[t]),i.clearDepth(t)},this.clearStencil=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.ClearStencil,[t]),i.clearStencil(t)},this.createProgram=function(t,e){return new webglProgram(this,i,t,e)},this.createShadowFramebufferObject=function(){return new webglShadowFBO(this,i)},this.createTextureObject=function(){return this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.CreateTextureObject,null),new webglTO(this,i)},this.createVertexBuffer=function(t){return this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.CreateVertexBuffer,[t]),new webglVB(this,i,t)},this.cullFace=function(t){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.CullFace,[t]),t){case RC_FRONT:i.cullFace(i.FRONT);break;case RC_BACK:i.cullFace(i.BACK)}},this.disable=function(t){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.Disable,[t]),t){case eRenderMode.AlphaBlend:i.disable(i.BLEND);break;case eRenderMode.CullBackFace:i.disable(i.CULL_FACE);break;case eRenderMode.DepthBufferWrite:i.depthMask(!1);break;case eRenderMode.DepthTest:i.disable(i.DEPTH_TEST);break;case eRenderMode.Lighting:i.uniform1i(o.lightingEnabled,!1);break;case eRenderMode.StencilTest:i.disable(i.STENCIL_TEST)}},this.enable=function(t){switch(this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.Enable,[t]),t){case eRenderMode.AlphaBlend:i.enable(i.BLEND);break;case eRenderMode.CullBackFace:i.enable(i.CULL_FACE);break;case eRenderMode.DepthBufferWrite:i.depthMask(!0);break;case eRenderMode.DepthTest:i.enable(i.DEPTH_TEST);break;case eRenderMode.Lighting:i.uniform1i(o.lightingEnabled,!0);break;case eRenderMode.StencilTest:i.enable(i.STENCIL_TEST)}},this.enableClipPlane=function(t,e){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.EnableClipPlane,[t,e]),i.uniform1i(o.clipPlaneEnabled[t],e),h[t]=e},this.enabled=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.Enabled,[t]);var e=!1;switch(t){case eRenderMode.AlphaBlend:e=i.getParameter(i.BLEND);break;case eRenderMode.CullBackFace:e=i.getParameter(i.CULL_FACE);break;case eRenderMode.DepthBufferWrite:e=i.getParameter(i.DEPTH_WRITEMASK);break;case eRenderMode.DepthTest:e=i.getParameter(i.DEPTH_TEST);break;case eRenderMode.Lighting:e=i.getUniform(o.getGLProgram(),o.lightingEnabled);break;case eRenderMode.StencilTest:e=i.getParameter(i.STENCIL_TEST)}return e},this.enableLight=function(t,e){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.EnableLight,[t,e]),i.uniform1i(o.lightSource[t].enabled,e),s[t]=e},this.enableTextureStage=function(t,e){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.EnableTextureStage,[t,e]),i.uniform1i(o.textureStageEnabled[t],e)},this.finish=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.Finish,null),i.finish()},this.getClearColor=function(){return u},this.getClipPlane=function(t){return this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetClipPlane,[t]),{equation:l[t],matrix:c[t]}},this.getEnabledClipPlanes=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetEnabledClipPlanes,null);for(var t=[],e=0;e<h.length;e++)h[e]&&t.push(e);return t},this.getEnabledLights=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetEnabledLights,null);for(var t=[],e=0;e<s.length;e++)s[e]&&t.push(e);return t},this.getGlobalIllumination=function(){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetGlobalIllumination,null);var t=this.globalIllumination.v();return{r:t[0],g:t[1],b:t[2],a:t[3]}},this.getLight=function(t){return this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetLight,[t]),{desc:n[t],matrix:a[t]}},this.getMaxLightCount=function(){return this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetMaxLightCount,null),gl_MaxLights},this.getMaxTextureStages=function(){return this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.GetMaxTextureStages,null),gl_MaxTextureStages},this.getProgram=function(){return o},this.getViewport=function(){return d},this.perspectiveMatrixLH=function(t,e,i,r,o,n){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.PerspectiveMatrixLH,[t,e,i,r,o,n]);var a=new Matrix4x4,s=(e+t)/(e-t),l=(i+r)/(i-r),c=(n+o)/(n-o),h=2*n*o/(n-o);return a._11=2*o/(e-t),a._13=s,a._22=2*o/(i-r),a._23=l,a._33=c,a._34=1,a._43=-h,a._44=0,a},this.orthographicMatrixLH=function(t,e,i,r,o,n){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.OrthographicMatrixLH,[t,e,i,r,o,n]);var a=new Matrix4x4;return a._11=2/(e-t),a._22=2/(i-r),a._33=-2/(n-o),a._41=-((e+t)/(e-t)),a._42=-((i+r)/(i-r)),a._43=-((n+o)/(n-o))/2,a},this.readFrameBuffer=function(t,e,r,o){var n=new Uint8Array(r*o*4);return i.readPixels(t,e,r,o,i.RGBA,i.UNSIGNED_BYTE,n),n},this.setBlendColor=function(t,e,r,o){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetBlendColor,[t,e,r,o]),i.blendColor(t,e,r,o)},this.setBlendFactor=function(t,e){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetBlendFactor,[t,e]);var r;switch(t){case RC_ZERO:r=i.ZERO;break;case RC_ONE:r=i.ONE;break;case RC_SRC_COLOR:r=i.SRC_COLOR;break;case RC_SRC_ALPHA:r=i.SRC_ALPHA;break;case RC_ONE_MINUS_SRC_COLOR:r=i.ONE_MINUS_SRC_COLOR;break;case RC_ONE_MINUS_SRC_ALPHA:r=i.ONE_MINUS_SRC_ALPHA;break;case RC_DEST_COLOR:r=i.DEST_COLOR;break;case RC_DEST_ALPHA:r=i.DEST_ALPHA;break;case RC_ONE_MINUS_DEST_COLOR:r=i.ONE_MINUS_DEST_COLOR;break;case RC_ONE_MINUS_DEST_ALPHA:r=i.ONE_MINUS_DEST_ALPHA}var o;switch(e){case RC_ZERO:o=i.ZERO;break;case RC_ONE:o=i.ONE;break;case RC_SRC_COLOR:o=i.SRC_COLOR;break;case RC_SRC_ALPHA:o=i.SRC_ALPHA;break;case RC_ONE_MINUS_SRC_COLOR:o=i.ONE_MINUS_SRC_COLOR;break;case RC_ONE_MINUS_SRC_ALPHA:o=i.ONE_MINUS_SRC_ALPHA;break;case RC_DEST_COLOR:o=i.DEST_COLOR;break;case RC_DEST_ALPHA:o=i.DEST_ALPHA;break;case RC_ONE_MINUS_DEST_COLOR:o=i.ONE_MINUS_DEST_COLOR;break;case RC_ONE_MINUS_DEST_ALPHA:o=i.ONE_MINUS_DEST_ALPHA}i.blendFunc(r,o)},this.setClipPlane=function(t,e){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetClipPlane,[t,e]);var r=this.worldMatrixStack.top(),n=[e[0],e[1],e[2],e[3]];i.uniform4fv(o.textureColorMask,new Float32Array(n)),l[t]=e,c[t]=r},this.setDepthFunc=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetDepthFunc,[t]);var e;switch(t){case eDepthFunc.Never:e=i.NEVER;break;case eDepthFunc.Less:e=i.LESS;break;case eDepthFunc.LessEqual:e=i.LEQUAL;break;case eDepthFunc.Equal:e=i.EQUAL;break;case eDepthFunc.NotEqual:e=i.NOTEQUAL;break;case eDepthFunc.GreaterEqual:e=i.GEQUAL;break;case eDepthFunc.Greater:e=i.GREATER;break;case eDepthFunc.Always:e=i.ALWAYS}i.depthFunc(e)},this.setEnabledClipPlanes=function(t){this.displayListObj&&this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetEnabledClipPlanes,[t]);for(var e=0;e<h.length;e++)h[e]&&this.enableClipPlane(e,!1);for(var e=0;e<t.length;e++)this.enableClipPlane(t[e],!0)},this.setEnabledLights=function(t){this.displayListObj&&this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetEnabledLights,[t]);for(var e=0;e<s.length;e++)s[e]&&this.enableLight(e,!1);for(var e=0;e<t.length;e++)this.enableLight(t[e],!0)},this.setFrontMaterial=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetFrontMaterial,[t]),t.validMembersMask&MATERIALDESC_AMBIENT_BIT&&(i.uniform4fv(o.frontMaterial.ambient,new Float32Array(t.ambient.v())),this.frontMaterial.ambient=t.ambient),t.validMembersMask&MATERIALDESC_DIFFUSE_BIT&&(i.uniform4fv(o.frontMaterial.diffuse,new Float32Array(t.diffuse.v())),this.frontMaterial.diffuse=t.diffuse),t.validMembersMask&MATERIALDESC_SPECULAR_BIT&&(i.uniform4fv(o.frontMaterial.specular,new Float32Array(t.specular.v())),this.frontMaterial.specular=t.specular),t.validMembersMask&MATERIALDESC_EMISSIVE_BIT&&(this.frontMaterial.emissive=t.emissive),t.validMembersMask&MATERIALDESC_GLOSSINESS_BIT&&(i.uniform1f(o.frontMaterial.shininess,clamp(128*t.glossiness,5,128)),this.frontMaterial.glossiness=t.glossiness),this.frontMaterial.validMembersMask|=t.validMembersMask},this.setGlobalIllumination=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetGlobalIllumination,[t]);var e=[t.r,t.g,t.b,t.a];i.uniform4fv(o.globalAmbientLight,new Float32Array(e)),this.globalIllumination.load(t.r,t.g,t.b,t.a)},this.setLight=function(t,e){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetLight,[t,e]);var r=this.viewMatrixStack.top();if(e.validMembersMask&LIGHTDESC_POSITION_BIT){var s=r.transformw(e.position.x,e.position.y,e.position.z,1),l=[s.x,s.y,s.z,s.w];i.uniform4fv(o.lightSource[t].position,new Float32Array(l))}if(e.validMembersMask&LIGHTDESC_DIRECTION_BIT){var c=r.transform(e.direction.x,e.direction.y,e.direction.z,0),l=[c.x,c.y,c.z,0];switch(e.type){case"directional":l[0]*=-1,l[1]*=-1,l[2]*=-1,i.uniform4fv(o.lightSource[t].position,new Float32Array(l));break;case"spot":i.uniform4fv(o.lightSource[t].spotDirection,new Float32Array(l))}}if(e.validMembersMask&LIGHTDESC_AMBIENT_BIT&&i.uniform4fv(o.lightSource[t].ambient,new Float32Array(e.ambient.v())),e.validMembersMask&LIGHTDESC_DIFFUSE_BIT&&i.uniform4fv(o.lightSource[t].diffuse,new Float32Array(e.diffuse.v())),e.validMembersMask&LIGHTDESC_SPECULAR_BIT&&i.uniform4fv(o.lightSource[t].specular,new Float32Array(e.specular.v())),e.validMembersMask&LIGHTDESC_CONSTANT_ATT_BIT&&i.uniform1f(o.lightSource[t].constantAttenuation,e.constantAttenuation),e.validMembersMask&LIGHTDESC_LINEAR_ATT_BIT&&i.uniform1f(o.lightSource[t].linearAttenuation,e.linearAttenuation),e.validMembersMask&LIGHTDESC_QUADRATIC_ATT_BIT&&i.uniform1f(o.lightSource[t].quadraticAttenuation,e.quadraticAttenuation),e.validMembersMask&LIGHTDESC_RANGE_BIT&&i.uniform1f(o.lightSource[t].range,e.range),e.validMembersMask&LIGHTDESC_OUTER_CONE_DEG_BIT){var h=e.outerConeDegrees;h>90&&(h=180),i.uniform1f(o.lightSource[t].spotCutoff,h),i.uniform1f(o.lightSource[t].spotExponent,0)}e.validMembersMask&LIGHTDESC_INNER_CONE_DEG_BIT,e.validMembersMask&LIGHTDESC_CONE_FALLOFF_BIT,n[t]=e,a[t]=worldMatrix},this.setModelID=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetModelID,[t]),i.uniform1i(o.modelID,t)},this.setShadeModel=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetShadeModel,[t])},this.setShadowCasterWorldPosition=function(t,e,r){i.uniform3fv(o.shadowCasterWorldPosition,new Float32Array([t,e,r]))},this.setStencilFunc=function(t,e,r){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetStencilFunc,[t,e,r]);var o;switch(t){case eDepthFunc.Never:o=i.NEVER;break;case eDepthFunc.Less:o=i.LESS;break;case eDepthFunc.LessEqual:o=i.LEQUAL;break;case eDepthFunc.Equal:o=i.EQUAL;break;case eDepthFunc.NotEqual:o=i.NOTEQUAL;break;case eDepthFunc.GreaterEqual:o=i.GEQUAL;break;case eDepthFunc.Greater:o=i.GREATER;break;case eDepthFunc.Always:o=i.ALWAYS}i.stencilFunc(o,e,r)},this.setStencilMask=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetStencilMask,[t]),i.stencilMask(t)},this.setStencilOp=function(t,e,r){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetStencilOp,[t,e,r]);var o;switch(t){case eStencilOp.Keep:o=i.KEEP;break;case eStencilOp.Replace:o=i.REPLACE;break;case eStencilOp.Increment:o=i.INCR;break;case eStencilOp.Decrement:o=i.DECR;break;case eStencilOp.Invert:o=i.INVERT;break;case eStencilOp.Zero:o=i.ZERO}switch(e){case eStencilOp.Keep:gl_ZFail=i.KEEP;break;case eStencilOp.Replace:gl_ZFail=i.REPLACE;break;case eStencilOp.Increment:gl_ZFail=i.INCR;break;case eStencilOp.Decrement:gl_ZFail=i.DECR;break;case eStencilOp.Invert:gl_ZFail=i.INVERT;break;case eStencilOp.Zero:gl_ZFail=i.ZERO}switch(r){case eStencilOp.Keep:gl_ZPass=i.KEEP;break;case eStencilOp.Replace:gl_ZPass=i.REPLACE;break;case eStencilOp.Increment:gl_ZPass=i.INCR;break;case eStencilOp.Decrement:gl_ZPass=i.DECR;break;case eStencilOp.Invert:gl_ZPass=i.INVERT;break;case eStencilOp.Zero:gl_ZPass=i.ZERO}i.stencilOp(o,gl_ZFail,gl_ZPass)},this.setTextureBlendFactor=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetTextureBlendFactor,[t]);var e=[this.frontMaterial.diffuse.r,this.frontMaterial.diffuse.g,this.frontMaterial.diffuse.b,t];i.uniform4fv(o.frontMaterial.diffuse,new Float32Array(e))},this.setTextureBlendOp=function(t){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetTextureBlendOp,[t]),i.uniform1i(o.textureBlendOp,t)},this.setTextureColorMask=function(t,e,r,n){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetTextureColorMask,[t,e,r,n]);var a=[t,e,r,n];i.uniform4fv(o.textureColorMask,new Float32Array(a))},this.setViewport=function(t,e,r,o){this.displayListObj&&DL_ADD_METHOD_DESC(this.displayListObj,eRenderContextMethod.SetViewport,[t,e,r,o]),i.viewport(t,e,r,o),d.load(t,e,r,o)},this.useProgram=function(t){o!=t&&(o&&o.disableVertexAttribArrays(),i.useProgram(t.getGLProgram()),o=t,o&&(o.enableVertexAttribArrays(),this.setGlobalIllumination(this.globalIllumination)))}}}function getWebGLContext(t,e){var i=null;try{i=e?WebGLDebugUtils.makeDebugContext(t.getContext("experimental-webgl",{stencil:!0,antialias:!1,preserveDrawingBuffer:!0})):t.getContext("webgl",{stencil:!0,antialias:!0,preserveDrawingBuffer:!0})||t.getContext("experimental-webgl",{stencil:!0,antialias:!0,preserveDrawingBuffer:!0})}catch(r){}if(!i){var o=document.createElement("div");o.innerHTML="This demo requires a WebGL-enabled browser.";var n=t.parentNode;n.replaceChild(o,t)}i.getParameter(i.STENCIL_BITS);return i}function webglVB_uvb(t,e){this.buffer=t,this.coords=e}function webglVB(t,e,i){VertexBuffer.call(this),this.numVerticesPerPrimitive=i;var t=t,e=e,r=e.createBuffer(),o=null,n=null,a=e.createBuffer(),s=new Array(gl_MaxTextureStages),l=e.createBuffer(),c=[],h=0;this.setPrimitiveType=function(i){switch(t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_SetPrimitiveType,[this,i]),i){case RC_POINTS:h=e.POINTS;break;case RC_LINES:h=e.LINES;break;case RC_LINE_LOOP:h=e.LINE_LOOP;break;case RC_LINE_STRIP:h=e.LINE_STRIP;break;case RC_TRIANGLES:h=e.TRIANGLES;break;case RC_TRIANGLE_STRIP:h=e.TRIANGLE_STRIP;break;case RC_TRIANGLE_FAN:h=e.TRIANGLE_FAN}},this.setVertices=function(i){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_SetVertices,[this,i]),i.length&&(e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW),this.vertexCount=i.length/this.numVerticesPerPrimitive,e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,new Float32Array(4*this.vertexCount),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,new Float32Array(new Array(2*this.vertexCount)),e.STATIC_DRAW)),this.vertices=i},this.setNormals=function(i){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_SetNormals,[this,i]),i.length&&(null==o&&(o=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW)),this.normals=i},this.setColors=function(i){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_SetColors,[this,i]),i.length&&(null==n&&(n=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW)),this.colors=i},this.setUVCoords=function(i,r){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_SetUVCoords,[this,i,r]),c[i]=new webglVB_uvb(e.createBuffer(),r.slice());for(var o=1;o<c[i].coords.length;o+=2)c[i].coords[o]=1-c[i].coords[o]},this.setTextureStage=function(i,r,o,n,a,l){switch(t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_SetTextureStage,[this,i,r,o,n,a,l]),i){case 0:e.activeTexture(e.TEXTURE0+eTextureUnit.Color0),e.uniform1i(t.getProgram().textureSamplerColor[i],eTextureUnit.Color0);break;case 1:e.activeTexture(e.TEXTURE0+eTextureUnit.Color1),e.uniform1i(t.getProgram().textureSamplerColor[i],eTextureUnit.Color1)}e.bindTexture(e.TEXTURE_2D,r.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,n),c[r]&&(e.bindBuffer(e.ARRAY_BUFFER,c[r].buffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(c[r].coords),e.STATIC_DRAW),s[i]=c[r].buffer)},this.draw=function(){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.VB_Draw,[this]);var i=t.getProgram();if(this.vertices.length){e.bindBuffer(e.ARRAY_BUFFER,r),i.vertexAttribPointer(i.vertexPositionAttribute,this.numVerticesPerPrimitive,e.FLOAT,!1,0,0),o&&(e.bindBuffer(e.ARRAY_BUFFER,o),i.vertexAttribPointer(i.vertexNormalAttribute,3,e.FLOAT,!1,0,0)),i.vertexColorAttribute>=0&&(n?e.bindBuffer(e.ARRAY_BUFFER,n):e.bindBuffer(e.ARRAY_BUFFER,a),i.vertexAttribPointer(i.vertexColorAttribute,4,e.FLOAT,!1,0,0));for(var c=0;gl_MaxTextureStages>c;c++)i.textureCoordAttribute[c]>=0&&(s[c]?e.bindBuffer(e.ARRAY_BUFFER,s[c]):e.bindBuffer(e.ARRAY_BUFFER,l),i.vertexAttribPointer(i.textureCoordAttribute[c],2,e.FLOAT,!1,0,0));
e.drawArrays(h,0,this.vertexCount)}}}function webglTO(t,e){TextureObject.call(this);var t=t,e=e;this.texture=e.createTexture(),this.setImage=function(i,r,o){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.TO_SetImage,[this,i,r,o]);var n;switch(r){case ePixelFormat.R8G8B8:case ePixelFormat.B8G8R8:case ePixelFormat.X8G8R8:n=e.RGB;break;case ePixelFormat.R8G8B8A8:case ePixelFormat.B8G8R8A8:case ePixelFormat.A8R8G8B8:case ePixelFormat.A8B8G8R8:case ePixelFormat.X8X8X8X8:n=e.RGBA;break;case ePixelFormat.A8:n=e.ALPHA;break;default:return}var a;switch(o){case eImageFormat.RGB:a=e.RGB;break;case eImageFormat.RGBA:a=e.RGBA;break;case eImageFormat.Alpha:a=e.ALPHA;break;case eImageFormat.Luminance:a=e.LUMINANCE;break;case eImageFormat.Luminance_Alpha:a=e.LUMINANCE_ALPHA;break;default:return}if(!isPowerOfTwo(i.width)||!isPowerOfTwo(i.height)){var s=document.createElement("canvas");s.width=nextHighestPowerOfTwo(i.width),s.height=nextHighestPowerOfTwo(i.height);var l=s.getContext("2d");l.drawImage(i,0,0,i.width,i.height,0,0,s.width,s.height),i=s}e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,n,a,e.UNSIGNED_BYTE,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},this.setImageData=function(i,r,o,n,a){t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.TO_SetImageData,[this,i,r,o,n,a]);var s;switch(o){case ePixelFormat.R8G8B8:case ePixelFormat.B8G8R8:case ePixelFormat.X8G8R8:s=e.RGB;break;case ePixelFormat.R8G8B8A8:case ePixelFormat.B8G8R8A8:case ePixelFormat.A8R8G8B8:case ePixelFormat.A8B8G8R8:case ePixelFormat.X8X8X8X8:s=e.RGBA;break;case ePixelFormat.A8:s=e.ALPHA;break;default:return}var l;switch(n){case eImageFormat.RGB:l=e.RGB;break;case eImageFormat.RGBA:l=e.RGBA;break;case eImageFormat.Alpha:l=e.ALPHA;break;case eImageFormat.Luminance:l=e.LUMINANCE;break;case eImageFormat.Luminance_Alpha:l=e.LUMINANCE_ALPHA;break;default:return}e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,s,i,r,0,l,e.UNSIGNED_BYTE,new Uint8Array(a)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},this.setImageWithCanvas=function(t){var i=t;if(!isPowerOfTwo(t.width)||!isPowerOfTwo(t.height)){i=document.createElement("canvas"),i.width=nextHighestPowerOfTwo(t.width),i.height=nextHighestPowerOfTwo(t.height);var r=i.getContext("2d");r.drawImage(t,0,0,t.width,t.height,0,0,i.width,i.height)}e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},this.setVideo=function(i){switch(t.displayListObj&&DL_ADD_METHOD_DESC(t.displayListObj,eRenderContextMethod.TO_SetVideo,[this,i]),e.bindTexture(e.TEXTURE_2D,this.texture),getBrowserName()){case"Chrome":case"Firefox":e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i);break;default:e.texImage2D(e.TEXTURE_2D,0,i,!1)}e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.bindTexture(e.TEXTURE_2D,null)}}function isPowerOfTwo(t){return 0==(t&t-1)}function nextHighestPowerOfTwo(t){--t;for(var e=1;32>e;e<<=1)t|=t>>e;return t+1}function webglShadowFBO(t,e){var t=t,e=e,i=1024,r=1024,o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o);var n=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,n),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,i,r),e.bindRenderbuffer(e.RENDERBUFFER,null),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,n);var a=e.getFloatExtension({require:["renderable"],prefer:["filterable","half"]}),s=e.createTexture();e.bindTexture(e.TEXTURE_CUBE_MAP,s);for(var l=0;6>l;l++){var c=e.TEXTURE_CUBE_MAP_POSITIVE_X+l;e.texImage2D(c,0,e.RGBA,i,r,0,e.RGBA,a.type,null)}e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR),e.bindTexture(e.TEXTURE_CUBE_MAP,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this.bindForWriting=function(t){var n=0;switch(t){case eCubeMapFace.Positive_X:n=e.TEXTURE_CUBE_MAP_POSITIVE_X;break;case eCubeMapFace.Negative_X:n=e.TEXTURE_CUBE_MAP_NEGATIVE_X;break;case eCubeMapFace.Positive_Y:n=e.TEXTURE_CUBE_MAP_POSITIVE_Y;break;case eCubeMapFace.Negative_Y:n=e.TEXTURE_CUBE_MAP_NEGATIVE_Y;break;case eCubeMapFace.Positive_Z:n=e.TEXTURE_CUBE_MAP_POSITIVE_Z;break;case eCubeMapFace.Negative_Z:n=e.TEXTURE_CUBE_MAP_NEGATIVE_Z;break;default:return!1}return e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,n,s,0),e.viewport(0,0,i,r),e.clearColor(FLT_MAX,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),!0},this.bindForReading=function(){e.bindFramebuffer(e.FRAMEBUFFER,null),e.activeTexture(e.TEXTURE0+eTextureUnit.ShadowMap),e.uniform1i(t.getProgram().textureSamplerShadowMap,eTextureUnit.ShadowMap),e.bindTexture(e.TEXTURE_CUBE_MAP,s)}}function ContentHandler(){AttributeContainer.call(this),this.className="ContentHandler",this.contentDirectory=new StringAttr(""),this.url=new StringAttr(""),this.registerAttribute(this.contentDirectory,"contentDirectory"),this.registerAttribute(this.url,"url")}function ContentBuilder(){AttributeContainer.call(this),this.className="ContentBuilder",this.factory=null,this.cameras=[],this.lights=[],this.models=[],this.evaluators=[],this.layer=0,this.invertAlpha=new BooleanAttr(!1),this.registerAttribute(this.invertAlpha,"invertAlpha")}function BinaryParser(t,e){this.stream=t,this.bigEndian=e,this.readUInt8=function(){return this.decodeInt(8,!1)},this.readUInt16=function(){return this.decodeInt(16,!1)},this.readUInt32=function(){return this.decodeInt(32,!1)},this.readInt8=function(){return this.decodeInt(8,!0)},this.readInt16=function(){return this.decodeInt(16,!0)},this.readInt32=function(){return this.decodeInt(32,!0)},this.readFloat32=function(){return this.decodeFloat32()};var i=0;this.decodeInt=function(t,e){for(var r=0,o=t/8,n=0,a=0;o>a;a++){n=this.stream.charCodeAt(this.bigEndian?i+a:i+(o-a-1));for(var s=7;s>=0;s--)r=2*r+(1<<s&n?1:0)}return e&&(max=Math.pow(2,t),r=r>=max/2?r-max:r),i+=o,r},this.decodeFloat32=function(){for(var t=0,e=4,r=new Array(e),o=0;e>o;o++)r[o]=this.stream.charCodeAt(this.bigEndian?i+o:i+(e-o-1));for(var n=128&r[0],a=0,s=6;s>=0;s--)a=2*a+(1<<s&r[0]?1:0);a=2*a+(128&r[1]?1:0);for(var l=0,c=6;c>=0;c--)l=2*l+(1<<c&r[1]?1:0);for(var o=2;3>=o;o++)for(var c=7;c>=0;c--)l=2*l+(1<<c&r[o]?1:0);for(var h=a-127,d=1,u=1,c=23;c>=0;c--)d+=1<<c&l?u:0,u/=2;return t=d*Math.pow(2,h)*(n?-1:1),i+=e,t}}function TextParser(t){this.stream=t;var e=0;this.readCharacter=function(){return e>=this.stream.length?null:this.stream[e++]},this.readToken=function(){var t,i="";if(e>=this.stream.length)return null;do t=this.stream[e++];while(e<=this.stream.length&&isSpace(t));do i+=t,t=this.stream[e++];while(e<=this.stream.length&&!isSpace(t));return i.length>0?i:null},this.readLine=function(){var t="";if(e>=this.stream.length)return null;for(;e<this.stream.length&&"\n"!=this.stream[e];)t+=this.stream[e++];return e++,t},this.readLineTokens=function(){var t,e=0,i="",r=[],o=this.readLine();if(null==o)return null;for(;e<o.length;){do t=o[e++];while(e<=o.length&&isSpace(t));do i+=t,t=o[e++];while(e<=o.length&&!isSpace(t));r.push(i),i=""}return r}}function XMLParser(t,e,i){this.factory=t,this.registry=e,this.contentDir=i,this.attributeStack=new Stack,this.collectionCountStack=new Stack}function Serializer(){AttributeContainer.call(this),this.className="Serializer",this.pbMixed=null,this.bMixed=!1,this.DOM=null,this.RootElement=null,this.elementStack=new Stack,this.format=new StringAttr("xml"),this.serializeMinimum=new BooleanAttr(!1),this.serializeChildren=new BooleanAttr(!1),this.registerAttribute(this.format,"format"),this.registerAttribute(this.serializeMinimum,"serializeMinimum"),this.registerAttribute(this.serializeChildren,"serializeChildren")}function BytesPerPixel(t){switch(t){case ePixelFormat.R8G8B8:case ePixelFormat.B8G8R8:case ePixelFormat.X8X8X8:return 3;case ePixelFormat.R8G8B8A8:case ePixelFormat.B8G8R8A8:case ePixelFormat.A8R8G8B8:case ePixelFormat.A8B8G8R8:case ePixelFormat.X8X8X8X8:return 4;case ePixelFormat.A8:return 1;default:return 0}}function TPixel(t,e,i,r){}function ScaleImage(t,e,i,r,o,n,a,s,l){if(t!=ePixelFormat.R8G8B8A8)return!1;var c=document.createElement("canvas");c.width=e,c.height=i;for(var h=c.getContext("2d"),d=h.createImageData(e,i),u=0,p=0;i>p;p++)for(var f=0;e>f;f++)for(var _=0;4>_;_++,u++)d.data[u]=o[u];h.putImageData(d,0,0);var m=document.createElement("canvas");m.width=n,m.height=a;var g=m.getContext("2d");g.drawImage(c,0,0,c.width,c.height,0,0,m.width,m.height);var y=g.getImageData(0,0,n,a);u=0;for(var p=0;a>p;p++)for(var f=0;n>f;f++)for(var _=0;4>_;_++,u++)l[u]=y.data[u];return!0}function MediaPlayback(t,e){this.container=t,this.onload=e,this.url=null,this.video=!1,this.ready=!1,this.alphaPlayback=null,this.frameRetrieved=!1,this.htmlImageElement=null,this.imageWidth=0,this.imageHeight=0,this.imagePitch=0,this.imagePixels=null}function MediaPlayback_OnImageLoad(){this.container.onImageLoad()}function TextureArray(t){this.textures=new Array(eTextureType.EnumCount);for(var e=0;e<this.textures.length;e++)this.textures[e]=t?t.textures[e].slice():[]}function StyleMgr(){AttributeContainer.call(this),this.className="StyleMgr"}function GraphMgr(){AttributeContainer.call(this),this.className="GraphMgr",this.renderContext=null,this.renderState=null,this.lightIndex=0,this.material=null,this.dissolve=null,this.balloonTipLabel=null,this.drawTextures=!0,this.textureArrayStack=new Stack(new TextureArray),this.projectionTextureArrayStack=new Stack(new TextureArray),this.labelIndex=1,this.balloonTipLabelIndex=1,this.styleMgr=new StyleMgr,this.updateRegistry=new NodeRegistry,this.name=new StringAttr("GraphMgr"),this.registerAttribute(this.name,"name")}function NodeRegistry(){AttributeContainer.call(this),this.className="NodeRegistry",this.nodes=[]}function Node(){AttributeContainer.call(this),this.className="Node",this.attrType=eAttrType.Node,this.__nodeId__=g__nodeId__++,this.children=[],this.parents=[],this.name=new StringAttr(""),this.enabled=new BooleanAttr(!0),this.orphan=new BooleanAttr(!1),this.modified=new PulseAttr,this.registerAttribute(this.name,"name"),this.registerAttribute(this.enabled,"enabled"),this.registerAttribute(this.orphan,"orphan"),this.registerAttribute(this.modified,"modified")}function SGNode(){Node.call(this),this.className="SGNode",this.graphMgr=null,this.recordDisplayList=!1,this.disableDisplayLists=!1,this.displayListObj=null,this.enableDisplayList=new BooleanAttr(!1),this.autoDisplayList=new BooleanAttr(!1),this.updateDisplayList=new PulseAttr,this.modified.addModifiedCB(SGNode_ModifiedModifiedCB,this),this.registerAttribute(this.enableDisplayList,"enableDisplayList"),this.registerAttribute(this.autoDisplayList,"autoDisplayList"),this.registerAttribute(this.updateDisplayList,"updateDisplayList")}function SGNode_ModifiedModifiedCB(t,e){e.recordDisplayList=!0}function RenderableElement(){SGNode.call(this),this.className="RenderableElement",this.attrType=eAttrType.RenderableElement,this.bbox=new BBoxAttr,this.renderSequenceSlot=new NumberAttr(0),this.hasFocus=new TernaryAttr(0),this.selected=new TernaryAttr(0),this.styles=new StylesAttr,this.stylesMap=new StylesMapAttr,this.renderableElementStyle=new RenderableElementStyleAttr,this.renderedSlot=new NumberAttr(0),this.registerAttribute(this.bbox,"bbox"),this.registerAttribute(this.renderSequenceSlot,"renderSequenceSlot"),this.registerAttribute(this.hasFocus,"hasFocus"),this.registerAttribute(this.selected,"selected"),this.registerAttribute(this.styles,"styles"),this.registerAttribute(this.stylesMap,"stylesMap"),this.registerAttribute(this.renderableElementStyle,"renderableElementStyle"),this.registerAttribute(this.renderedSlot,"renderedSlot")}function ParentableMotionElement(){RenderableElement.call(this),this.className="ParentableMotionElement",this.attrType=eAttrType.ParentableMotionElement,this.translationMatrix=new Matrix4x4,this.rotationMatrix=new Matrix4x4,this.scaleMatrix=new Matrix4x4,this.pivotMatrix=new Matrix4x4,this.sectorTranslationMatrix=new Matrix4x4,this.stackMatrix=new Matrix4x4,this.transformSimple=new Matrix4x4,this.transformCompound=new Matrix4x4,this.sectorTransformSimple=new Matrix4x4,this.sectorTransformCompound=new Matrix4x4,this.updatePosition=!1,this.updateRotation=!1,this.updateQuaternion=!1,this.updateScale=!1,this.updatePivot=!1,this.updateSectorPosition=!1,this.updateInheritance=!1,this.inheritsPosition=!0,this.inheritsRotation=!0,this.inheritsScale=!0,this.inheritsPivot=!0,this.nonZeroVelocity=!1,this.motionParent=null,this.motionChildren=[],this.position=new Vector3DAttr(0,0,0),this.rotation=new Vector3DAttr(0,0,0),this.quaternion=new QuaternionAttr(1,0,0,0),this.scale=new Vector3DAttr(1,1,1),this.pivot=new Vector3DAttr(0,0,0),this.center=new Vector3DAttr(0,0,0),this.worldCenter=new Vector3DAttr(0,0,0),this.worldPosition=new Vector3DAttr(0,0,0),this.worldRotation=new Vector3DAttr(0,0,0),this.worldScale=new Vector3DAttr(1,1,1),this.screenPosition=new Vector3DAttr(0,0,0),this.sectorOrigin=new Vector3DAttr(0,0,0),this.sectorPosition=new Vector3DAttr(0,0,0),this.sectorWorldCenter=new Vector3DAttr(0,0,0),this.sectorWorldPosition=new Vector3DAttr(0,0,0),this.panVelocity=new Vector3DAttr(0,0,0),this.linearVelocity=new Vector3DAttr(0,0,0),this.linearVelocity_affectPosition_Y=new BooleanAttr(!0),this.angularVelocity=new Vector3DAttr(0,0,0),this.scalarVelocity=new Vector3DAttr(0,0,0),this.worldTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.sectorWorldTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.parent=new StringAttr(""),this.inheritPosition_X=new BooleanAttr(!0),this.inheritPosition_Y=new BooleanAttr(!0),this.inheritPosition_Z=new BooleanAttr(!0),this.inheritRotation_X=new BooleanAttr(!0),this.inheritRotation_Y=new BooleanAttr(!0),this.inheritRotation_Z=new BooleanAttr(!0),this.inheritScale_X=new BooleanAttr(!0),this.inheritScale_Y=new BooleanAttr(!0),this.inheritScale_Z=new BooleanAttr(!0),this.inheritPivot_X=new BooleanAttr(!0),this.inheritPivot_Y=new BooleanAttr(!0),this.inheritPivot_Z=new BooleanAttr(!0),this.transformModified=new PulseAttr,this.position.addModifiedCB(ParentableMotionElement_PositionModifiedCB,this),this.rotation.addModifiedCB(ParentableMotionElement_RotationModifiedCB,this),this.quaternion.addModifiedCB(ParentableMotionElement_QuaternionModifiedCB,this),this.scale.addModifiedCB(ParentableMotionElement_ScaleModifiedCB,this),this.pivot.addModifiedCB(ParentableMotionElement_PivotModifiedCB,this),this.sectorOrigin.addModifiedCB(ParentableMotionElement_SectorOriginModifiedCB,this),this.sectorPosition.addModifiedCB(ParentableMotionElement_SectorPositionModifiedCB,this),this.parent.addModifiedCB(ParentableMotionElement_ParentModifiedCB,this),this.inheritPosition_X.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritPosition_Y.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritPosition_Z.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritRotation_X.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritRotation_Y.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritRotation_Z.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritScale_X.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritScale_Y.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritScale_Z.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritPivot_X.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritPivot_Y.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.inheritPivot_Z.addModifiedCB(ParentableMotionElement_InheritanceModifiedCB,this),this.panVelocity.addModifiedCB(ParentableMotionElement_VelocityModifiedCB,this),this.linearVelocity.addModifiedCB(ParentableMotionElement_VelocityModifiedCB,this),this.angularVelocity.addModifiedCB(ParentableMotionElement_VelocityModifiedCB,this),this.scalarVelocity.addModifiedCB(ParentableMotionElement_VelocityModifiedCB,this),this.registerAttribute(this.position,"position"),this.registerAttribute(this.rotation,"rotation"),this.registerAttribute(this.quaternion,"quaternion"),this.registerAttribute(this.scale,"scale"),this.registerAttribute(this.pivot,"pivot"),this.registerAttribute(this.center,"center"),this.registerAttribute(this.worldCenter,"worldCenter"),this.registerAttribute(this.worldPosition,"worldPosition"),this.registerAttribute(this.worldRotation,"worldRotation"),this.registerAttribute(this.worldScale,"worldScale"),this.registerAttribute(this.screenPosition,"screenPosition"),this.registerAttribute(this.sectorOrigin,"sectorOrigin"),this.registerAttribute(this.sectorPosition,"sectorPosition"),this.registerAttribute(this.sectorWorldCenter,"sectorWorldCenter"),this.registerAttribute(this.sectorWorldPosition,"sectorWorldPosition"),this.registerAttribute(this.worldTransform,"worldTransform"),this.registerAttribute(this.sectorWorldTransform,"sectorWorldTransform"),this.registerAttribute(this.panVelocity,"panVelocity"),this.registerAttribute(this.linearVelocity,"linearVelocity"),this.registerAttribute(this.linearVelocity_affectPosition_Y,"linearVelocity_affectPosition_Y"),this.registerAttribute(this.angularVelocity,"angularVelocity"),this.registerAttribute(this.scalarVelocity,"scalarVelocity"),this.registerAttribute(this.parent,"parent"),this.registerAttribute(this.inheritPosition_X,"inheritPosition_X"),this.registerAttribute(this.inheritPosition_Y,"inheritPosition_Y"),this.registerAttribute(this.inheritPosition_Z,"inheritPosition_Z"),this.registerAttribute(this.inheritRotation_X,"inheritRotation_X"),this.registerAttribute(this.inheritRotation_Y,"inheritRotation_Y"),this.registerAttribute(this.inheritRotation_Z,"inheritRotation_Z"),this.registerAttribute(this.inheritScale_X,"inheritScale_X"),this.registerAttribute(this.inheritScale_Y,"inheritScale_Y"),this.registerAttribute(this.inheritScale_Z,"inheritScale_Z"),this.registerAttribute(this.inheritPivot_X,"inheritPivot_X"),this.registerAttribute(this.inheritPivot_X,"inheritPivot_Y"),this.registerAttribute(this.inheritPivot_X,"inheritPivot_Z"),this.registerAttribute(this.transformModified,"transformModified")}function ParentableMotionElement_PositionModifiedCB(t,e){e.updatePosition=!0,e.synchronizeSectorPosition(),e.setModified()}function ParentableMotionElement_RotationModifiedCB(t,e){e.updateRotation=!0,e.setModified()}function ParentableMotionElement_QuaternionModifiedCB(t,e){e.updateQuaternion=!0,e.setModified()}function ParentableMotionElement_ScaleModifiedCB(t,e){e.updateScale=!0,e.setModified()}function ParentableMotionElement_PivotModifiedCB(t,e){e.updatePivot=!0,e.setModified()}function ParentableMotionElement_SectorOriginModifiedCB(t,e){e.synchronizeSectorPosition(),e.setModified()}function ParentableMotionElement_SectorPositionModifiedCB(t,e){e.updateSectorPosition=!0,e.synchronizePosition(),e.setModified()}function ParentableMotionElement_ParentModifiedCB(t,e){e.setMotionParent(e.registry.find(t.getValueDirect().join("")))}function ParentableMotionElement_VelocityModifiedCB(t,e){e.velocityModified(),e.setModified()}function ParentableMotionElement_InheritanceModifiedCB(t,e){e.updateInheritance=!0,e.setModified()}function DirectiveParams(){this.directive=null,this.path=null,this.pathIndex=0,this.currentNodePath=new Stack,this.userData=null}function Directive(){AttributeContainer.call(this),this.className="Directive",this.attrType=eAttrType.Directive,this.name=new StringAttr(""),this.enabled=new BooleanAttr(!0),this.rootNode=new ReferenceAttr(null),this.registerAttribute(this.name,"name"),this.registerAttribute(this.enabled,"enabled"),this.registerAttribute(this.rootNode,"rootNode")}function SGDirective(){Directive.call(this),this.className="SGDirective",this.graphMgr=null}function UpdateParams(){DirectiveParams.call(this),this.pass=0,this.timeIncrement=0,this.visited=[],this.nextPass=[],this.displayListObj=null,this.disableDisplayLists=!1}function UpdateDirective(){SGDirective.call(this),this.className="UpdateDirective",this.attrType=eAttrType.UpdateDirective,this.name.setValueDirect("UpdateDirective"),this.timeIncrement=new NumberAttr(0),this.registerAttribute(this.timeIncrement,"timeIncrement"),this.collideDirective=new CollideDirective}function Camera(){ParentableMotionElement.call(this),this.className="Camera",this.attrType=eAttrType.Camera,this.projectionMatrix=new Matrix4x4,this.viewport=new Viewport,this.updateNearDistance=!1,this.updateFarDistance=!1,this.updateClipPlanes=!0,this.near=0,this.far=0,this.nearDistance=new NumberAttr(0),this.farDistance=new NumberAttr(0),this.viewVolume=new ViewVolumeAttr,this.sectorOriginUpdatesEnabled=new BooleanAttr(!1),this.nearDistance.addModifiedCB(Camera_NearDistanceModifiedCB,this),this.farDistance.addModifiedCB(Camera_FarDistanceModifiedCB,this),this.registerAttribute(this.nearDistance,"nearDistance"),this.registerAttribute(this.farDistance,"farDistance"),this.registerAttribute(this.viewVolume,"viewVolume")}function Camera_NearDistanceModifiedCB(t,e){e.updateNearDistance=!0,e.setModified()}function Camera_FarDistanceModifiedCB(t,e){e.updateFarDistance=!0,e.setModified()}function OrthographicCamera(){Camera.call(this),this.className="OrthographicCamera",this.attrType=eAttrType.OrthographicCamera,this.updateWidth=!1,this.width=new NumberAttr(2),this.width.addModifiedCB(OrthographicCamera_WidthModifiedCB,this),this.registerAttribute(this.width,"width")}function OrthographicCamera_WidthModifiedCB(t,e){e.updateWidth=!0,e.setModified()}function PerspectiveCamera(){Camera.call(this),this.className="PerspectiveCamera",this.attrType=eAttrType.PerspectiveCamera,this.updateZoom=!1,this.fovyRadians=0,this.left=0,this.right=0,this.top=0,this.bottom=0,this.zoom=new NumberAttr(0),this.zoom.addModifiedCB(PerspectiveCamera_ZoomModifiedCB,this),this.registerAttribute(this.zoom,"zoom")}function PerspectiveCamera_ZoomModifiedCB(t,e){e.updateZoom=!0,e.setModified()}function Light(){ParentableMotionElement.call(this),this.className="Light",this.attrType=eAttrType.Light,this.updateAmbient=!0,this.updateDiffuse=!0,this.updateSpecular=!0,this.updateConstantAttenuation=!0,this.updateLinearAttenuation=!0,this.updateQuadraticAttenuation=!0,this.lightDesc=new LightDesc,this.lightDesc.validMembersMask=0,this.lightIndex=0,this.setLightDesc=!1,this.ambient=new ColorAttr(0,0,0,1),this.diffuse=new ColorAttr(1,1,1,1),this.specular=new ColorAttr(1,1,1,1),this.constantAttenuation=new NumberAttr(1),this.linearAttenuation=new NumberAttr(0),this.quadraticAttenuation=new NumberAttr(0),this.shadowCaster=new BooleanAttr(!1),this.ambient.addModifiedCB(Light_AmbientModifiedCB,this),this.diffuse.addModifiedCB(Light_DiffuseModifiedCB,this),this.specular.addModifiedCB(Light_SpecularModifiedCB,this),this.constantAttenuation.addModifiedCB(Light_ConstantAttenuationModifiedCB,this),this.linearAttenuation.addModifiedCB(Light_LinearAttenuationModifiedCB,this),this.quadraticAttenuation.addModifiedCB(Light_QuadraticAttenuationModifiedCB,this),this.registerAttribute(this.ambient,"ambient"),this.registerAttribute(this.diffuse,"diffuse"),this.registerAttribute(this.specular,"specular"),this.registerAttribute(this.constantAttenuation,"constantAttenuation"),this.registerAttribute(this.linearAttenuation,"linearAttenuation"),this.registerAttribute(this.quadraticAttenuation,"quadraticAttenuation"),this.registerAttribute(this.shadowCaster,"shadowCaster")}function Light_AmbientModifiedCB(t,e){e.updateAmbient=!0,e.setModified()}function Light_DiffuseModifiedCB(t,e){e.updateDiffuse=!0,e.setModified()}function Light_SpecularModifiedCB(t,e){e.updateSpecular=!0,e.setModified()}function Light_ConstantAttenuationModifiedCB(t,e){e.updateConstantAttenuation=!0,e.setModified()}function Light_LinearAttenuationModifiedCB(t,e){e.updateLinearAttenuation=!0,e.setModified()}function Light_QuadraticAttenuationModifiedCB(t,e){e.updateQuadraticAttenuation=!0,e.setModified()}function DirectionalLight(){Light.call(this),this.className="DirectionalLight",this.attrType=eAttrType.DirectionalLight,this.lightDesc.type="directional"}function PointLight(){Light.call(this),this.className="PointLight",this.attrType=eAttrType.PointLight,this.lightDesc.type="point",this.updateRange=!1,this.range=new NumberAttr,this.range.addModifiedCB(PointLight_RangeModifiedCB,this),this.registerAttribute(this.range,"range")}function PointLight_RangeModifiedCB(t,e){e.updateRange=!0,e.setModified()}function GlobalIllumination(){SGNode.call(this),this.className="GlobalIllumination",this.attrType=eAttrType.GlobalIllumination,this.updateAmbient=!0,this.setGlobalIllumination=!1,this.ambient=new ColorAttr(0,0,0,1),this.ambient.addModifiedCB(GlobalIllumination_AmbientModifiedCB,this),this.registerAttribute(this.ambient,"ambient")}function GlobalIllumination_AmbientModifiedCB(t,e){e.updateAmbient=!0,e.setModified()}function Group(){SGNode.call(this),this.className="Group",this.attrType=eAttrType.Group,this.proxyChildAttrs=new BooleanAttr(!1),this.proxyChildAttrs.addModifiedCB(Group_ProxyChildAttrsModifiedCB,this),this.registerAttribute(this.proxyChildAttrs,"proxyChildAttrs")}function Group_ProxyChildAttrsModifiedCB(t,e){e.proxyChildAttrsModified()}function Group_ProxiedAttrModifiedCB(t,e){e.group.proxiedAttrModified(e.proxiedNodeTypeString,t,e.proxiedAttrName)}function Isolator(){Group.call(this),this.className="Isolator",this.attrType=eAttrType.Isolator,this.updateIsolateTransforms=!0,this.updateIsolateLights=!0,this.updateIsolateMaterials=!0,this.updateIsolateTextures=!0,this.updateIsolateFog=!0,this.updateIsolateClipPlanes=!0,this.isolateTransforms=new BooleanAttr(!1),this.isolateLights=new BooleanAttr(!1),this.isolateMaterials=new BooleanAttr(!1),this.isolateTextures=new BooleanAttr(!1),this.isolateDissolves=new BooleanAttr(!1),this.isolateGlobalIlluminations=new BooleanAttr(!1),this.isolateLightModels=new BooleanAttr(!1),this.isolateFog=new BooleanAttr(!1),this.isolateClipPlanes=new BooleanAttr(!1),this.isolateRenderModes=new BooleanAttr(!1),this.isolateTransforms.addModifiedCB(Isolator_IsolateTransformsModifiedCB,this),this.isolateLights.addModifiedCB(Isolator_IsolateLightsModifiedCB,this),this.isolateMaterials.addModifiedCB(Isolator_IsolateMaterialsModifiedCB,this),this.isolateTextures.addModifiedCB(Isolator_IsolateTexturesModifiedCB,this),this.isolateFog.addModifiedCB(Isolator_IsolateFogModifiedCB,this),this.isolateClipPlanes.addModifiedCB(Isolator_IsolateClipPlanesModifiedCB,this),this.registerAttribute(this.isolateTransforms,"isolateTransforms"),this.registerAttribute(this.isolateLights,"isolateLights"),this.registerAttribute(this.isolateMaterials,"isolateMaterials"),this.registerAttribute(this.isolateTextures,"isolateTextures"),this.registerAttribute(this.isolateDissolves,"isolateDissolves"),this.registerAttribute(this.isolateGlobalIlluminations,"isolateGlobalIlluminations"),this.registerAttribute(this.isolateLightModels,"isolateLightModels"),this.registerAttribute(this.isolateFog,"isolateFog"),this.registerAttribute(this.isolateClipPlanes,"isolateClipPlanes"),this.registerAttribute(this.isolateRenderModes,"isolateRenderModes")}function Isolator_IsolateTransformsModifiedCB(t,e){e.updateIsolateTransforms=!0,e.setModified()}function Isolator_IsolateLightsModifiedCB(t,e){e.updateIsolateLights=!0,e.setModified()}function Isolator_IsolateMaterialsModifiedCB(t,e){e.updateIsolateMaterials=!0,e.setModified()}function Isolator_IsolateTexturesModifiedCB(t,e){e.updateIsolateTextures=!0,e.setModified()}function Isolator_IsolateFogModifiedCB(t,e){e.updateIsolateFog=!0,e.setModified()}function Isolator_IsolateClipPlanesModifiedCB(t,e){e.updateIsolateClipPlanes=!0,e.setModified()}function Selector(){Group.call(this),this.className="Selector",this.attrType=eAttrType.Selector,this.selectee=new NumberAttr(0),this.registerAttribute(this.selectee,"selectee")}function Dissolve(){SGNode.call(this),this.className="Dissolve",this.attrType=eAttrType.Dissolve,this.lastDissolve=0,this.dissolve=new NumberAttr(0),this.dissolve.addModifiedCB(Dissolve_DissolveModifiedCB,this),this.registerAttribute(this.dissolve,"dissolve")}function Dissolve_DissolveModifiedCB(t,e){e.setModified()}function RenderParams(){DirectiveParams.call(this),this.viewport=new Viewport,this.projMatrix=new Matrix4x4,this.viewMatrix=new Matrix4x4,this.worldMatrix=new Matrix4x4,this.dissolve=0,this.opacity=1,this.distanceSortAgent=null,this.drawTextures=!0,this.displayListObj=null,this.disableDisplayLists=!1,this.resetDisplayLists=!1,this.lights=[],this.modelID=0}function RenderDirective(){SGDirective.call(this),this.className="RenderDirective",this.attrType=eAttrType.RenderDirective,this.name.setValueDirect("RenderDirective"),this.backgroundImageSet=!1,this.program=null,this.viewport=new ViewportAttr,this.backgroundColor=new ColorAttr(1,1,1,1),this.backgroundImageFilename=new StringAttr(""),this.foregroundImageFilename=new StringAttr(""),this.foregroundAlphaFilename=new StringAttr(""),this.foregroundFadeEnabled=new BooleanAttr(!1),this.texturesEnabled=new BooleanAttr(!0),this.shadowsEnabled=new BooleanAttr(!0),this.timeIncrement=new NumberAttr(0),this.highlightType=new NumberAttr(eHighlightType.None),this.viewport.addModifiedCB(RenderDirective_ViewportModifiedCB,this),this.backgroundColor.addModifiedCB(RenderDirective_BackgroundColorModifiedCB,this),this.backgroundImageFilename.addModifiedCB(RenderDirective_BackgroundImageFilenameModifiedCB,this),this.shadowsEnabled.addModifiedCB(RenderDirective_ShadowsEnabledModifiedCB,this),this.registerAttribute(this.viewport,"viewport"),this.registerAttribute(this.backgroundColor,"backgroundColor"),this.registerAttribute(this.backgroundImageFilename,"backgroundImageFilename"),this.registerAttribute(this.foregroundImageFilename,"foregroundImageFilename"),this.registerAttribute(this.foregroundAlphaFilename,"foregroundAlphaFilename"),this.registerAttribute(this.foregroundFadeEnabled,"foregroundFadeEnabled"),this.registerAttribute(this.texturesEnabled,"texturesEnabled"),this.registerAttribute(this.shadowsEnabled,"shadowsEnabled"),this.registerAttribute(this.timeIncrement,"timeIncrement"),this.registerAttribute(this.highlightType,"highlightType"),this.updateDirective=new UpdateDirective,this.timeIncrement.addTarget(this.updateDirective.getAttribute("timeIncrement")),this.resetDisplayLists=!1,this.distanceSortAgent=new DistanceSortAgent,this.highlightDirective=new HighlightDirective,this.highlightType.addTarget(this.highlightDirective.getAttribute("highlightType")),this.shadowDirective=new ShadowDirective,this.backgroundScreen=new Isolator,this.backgroundScreen.isolateTextures.setValueDirect(!0),this.backgroundTexture=new MediaTexture,this.backgroundScreen.addChild(this.backgroundTexture),this.backgroundScreenRect=new ScreenRect,this.backgroundScreenRect.setTexture(this.backgroundTexture),this.backgroundScreen.addChild(this.backgroundScreenRect)}function RenderDirective_ViewportModifiedCB(t,e){var i=e.viewport.getValueDirect(),r=e.backgroundImageFilename.getValueDirect().join("");e.graphMgr.renderContext.setBackgroundImage(r,i.width,i.height)}function RenderDirective_BackgroundColorModifiedCB(t,e){e.backgroundColorModified()}function RenderDirective_BackgroundImageFilenameModifiedCB(t,e){var i=(e.viewport.getValueDirect(),formatPath(e.backgroundImageFilename.getValueDirect().join("")));e.backgroundImageFilename.removeModifiedCB(RenderDirective_BackgroundImageFilenameModifiedCB,e),e.backgroundImageFilename.setValueDirect(i[0]),e.backgroundImageFilename.addModifiedCB(RenderDirective_BackgroundImageFilenameModifiedCB,e),e.backgroundTexture.imageFilename.setValueDirect(i[0]),e.backgroundImageSet=!0
}function RenderDirective_ShadowsEnabledModifiedCB(t,e){var i=t.getValueDirect();e.program=i?e.graphMgr.renderContext.createProgram(pcf_shadow_mapping_render_pass_vs,pcf_shadow_mapping_render_pass_fs):e.graphMgr.renderContext.createProgram(default_fragment_lighting_vs,default_fragment_lighting_fs)}function RayPickParams(){DirectiveParams.call(this),this.camera=null,this.currentCamera=null,this.viewport=new Viewport,this.clickPoint=new Vector2D,this.rayOrigin=new Vector3D,this.rayDir=new Vector3D,this.nearDistance=0,this.farDistance=0,this.viewMatrix=new Matrix4x4,this.worldMatrix=new Matrix4x4,this.sectorOrigin=new Vector3D,this.doubleSided=!1,this.opacity=0,this.dissolve=0,this.clipPlanes=[]}function RayPickRecord(t,e,i){this.path=t.copy(),this.intersectRecord=e,this.camera=i}function RayPickDirective(){SGDirective.call(this),this.className="RayPickDirective",this.attrType=eAttrType.RayPickDirective,this.name.setValueDirect("RayPickDirective"),this.picked=[],this.viewport=new ViewportAttr,this.camera=new ReferenceAttr(null),this.clickPoint=new Vector2DAttr,this.registerAttribute(this.viewport,"viewport"),this.registerAttribute(this.camera,"camera"),this.registerAttribute(this.clickPoint,"clickPoint")}function BBoxParams(){DirectiveParams.call(this),this.viewSpace=!1,this.viewMatrix=new Matrix4x4,this.worldMatrix=new Matrix4x4,this.minPoint=new Vector3D,this.maxPoint=new Vector3D,this.minMaxSet=!1}function BBoxDirective(){SGDirective.call(this),this.className="BBoxDirective",this.attrType=eAttrType.BBoxDirective,this.min=new Vector3D,this.max=new Vector3D,this.name.setValueDirect("BBoxDirective"),this.viewSpace=new BooleanAttr(!1),this.viewTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.registerAttribute(this.viewSpace,"viewSpace"),this.registerAttribute(this.viewTransform,"viewTransform")}function Geometry(){RenderableElement.call(this),this.className="Geometry",this.attrType=eAttrType.Geometry,this.boundingTree=new Octree,this.updateBoundingTree=!1,this.selectable=new BooleanAttr(!0),this.cullable=new BooleanAttr(!0),this.show=new BooleanAttr(!0),this.approximationLevels=new NumberAttr(1),this.sortPolygons=new BooleanAttr(!1),this.flipPolygons=new BooleanAttr(!1),this.shadowCaster=new BooleanAttr(!1),this.shadowTarget=new BooleanAttr(!0),this.highlight=new BooleanAttr(!1),this.selectable.addModifiedCB(Geometry_SelectableModifiedCB,this),this.show.addModifiedCB(Geometry_ShowModifiedCB,this),this.approximationLevels.addModifiedCB(Geometry_ApproximationLevelsModifiedCB,this),this.registerAttribute(this.selectable,"selectable"),this.registerAttribute(this.cullable,"cullable"),this.registerAttribute(this.show,"show"),this.registerAttribute(this.approximationLevels,"approximationLevels"),this.registerAttribute(this.sortPolygons,"sortPolygons"),this.registerAttribute(this.flipPolygons,"flipPolygons"),this.registerAttribute(this.shadowCaster,"shadowCaster"),this.registerAttribute(this.shadowTarget,"shadowTarget"),this.registerAttribute(this.highlight,"highlight")}function Geometry_SelectableModifiedCB(){}function Geometry_ShowModifiedCB(t,e){e.setModified()}function Geometry_ApproximationLevelsModifiedCB(t,e){e.updateBoundingTree=!0,e.setModified()}function VertexGeometry(){Geometry.call(this),this.className="VertexGeometry",this.attrType=eAttrType.VertexGeometry,this.updateVertices=!1,this.updateColors=!1,this.updateUVCoords=[],this.uvCoords=[],this.vertexBuffer=null,this.vertices=new NumberArrayAttr,this.colors=new NumberArrayAttr,this.vertices.addModifiedCB(VertexGeometry_VerticesModifiedCB,this),this.colors.addModifiedCB(VertexGeometry_ColorsModifiedCB,this),this.registerAttribute(this.vertices,"vertices"),this.registerAttribute(this.colors,"colors")}function VertexGeometry_VerticesModifiedCB(t,e){e.updateVertices=!0,e.setModified()}function VertexGeometry_ColorsModifiedCB(t,e){e.updateColors=!0,e.setModified()}function VertexGeometry_UVCoordsModifiedCB(t,e){e.updateUVCoords.push(t),e.setModified()}function TriList(){VertexGeometry.call(this),this.className="TriList",this.attrType=eAttrType.TriList,this.primitiveType=RC_TRIANGLES,this.updateNormals=!1,this.normals=new NumberArrayAttr,this.vertices.addModifiedCB(TriList_NormalsModifiedCB,this),this.normals.addModifiedCB(TriList_NormalsModifiedCB,this),this.registerAttribute(this.normals,"normals")}function TriList_NormalsModifiedCB(t,e){e.updateNormals=!0,e.setModified()}function Material(){SGNode.call(this),this.className="Material",this.attrType=eAttrType.Material,this.updateColor=!1,this.updateAmbientLevel=!1,this.updateDiffuseLevel=!1,this.updateSpecularLevel=!1,this.updateEmissiveLevel=!1,this.updateAmbient=!0,this.updateDiffuse=!0,this.updateSpecular=!0,this.updateEmissive=!0,this.updateGlossiness=!0,this.updateOpacity=!0,this.lastOpacity=0,this.lastDoubleSided=!1,this.materialDesc=new MaterialDesc,this.materialDesc.validMembersMask=MATERIALDESC_ALL_BITS,this.color=new ColorAttr(1,1,1,1),this.ambientLevel=new NumberAttr(1),this.diffuseLevel=new NumberAttr(1),this.specularLevel=new NumberAttr(1),this.emissiveLevel=new NumberAttr(0),this.ambient=new ColorAttr(.2,.2,.2,1),this.diffuse=new ColorAttr(.8,.8,.8,1),this.specular=new ColorAttr(0,0,0,1),this.emissive=new ColorAttr(0,0,0,1),this.glossiness=new NumberAttr(0),this.opacity=new NumberAttr(1),this.doubleSided=new BooleanAttr(!1),this.color.addModifiedCB(Material_ColorModifiedCB,this),this.ambientLevel.addModifiedCB(Material_AmbientLevelModifiedCB,this),this.diffuseLevel.addModifiedCB(Material_DiffuseLevelModifiedCB,this),this.specularLevel.addModifiedCB(Material_SpecularLevelModifiedCB,this),this.emissiveLevel.addModifiedCB(Material_EmissiveLevelModifiedCB,this),this.ambient.addModifiedCB(Material_AmbientModifiedCB,this),this.diffuse.addModifiedCB(Material_DiffuseModifiedCB,this),this.specular.addModifiedCB(Material_SpecularModifiedCB,this),this.emissive.addModifiedCB(Material_EmissiveModifiedCB,this),this.glossiness.addModifiedCB(Material_GlossinessModifiedCB,this),this.opacity.addModifiedCB(Material_OpacityModifiedCB,this),this.doubleSided.addModifiedCB(Material_DoubleSidedModifiedCB,this),this.registerAttribute(this.color,"color"),this.registerAttribute(this.ambientLevel,"ambientLevel"),this.registerAttribute(this.diffuseLevel,"diffuseLevel"),this.registerAttribute(this.specularLevel,"specularLevel"),this.registerAttribute(this.emissiveLevel,"emissiveLevel"),this.registerAttribute(this.ambient,"ambient"),this.registerAttribute(this.diffuse,"diffuse"),this.registerAttribute(this.specular,"specular"),this.registerAttribute(this.emissive,"emissive"),this.registerAttribute(this.glossiness,"glossiness"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.doubleSided,"doubleSided")}function Material_ColorModifiedCB(t,e){e.updateColor=!0,e.setModified()}function Material_AmbientLevelModifiedCB(t,e){e.updateAmbientLevel=!0,e.setModified()}function Material_DiffuseLevelModifiedCB(t,e){e.updateDiffuseLevel=!0,e.setModified()}function Material_SpecularLevelModifiedCB(t,e){e.updateSpecularLevel=!0,e.setModified()}function Material_EmissiveLevelModifiedCB(t,e){e.updateEmissiveLevel=!0,e.setModified()}function Material_AmbientModifiedCB(t,e){e.updateAmbient=!0,e.setModified()}function Material_DiffuseModifiedCB(t,e){e.updateDiffuse=!0,e.setModified()}function Material_SpecularModifiedCB(t,e){e.updateSpecular=!0,e.setModified()}function Material_EmissiveModifiedCB(t,e){e.updateEmissive=!0,e.setModified()}function Material_GlossinessModifiedCB(t,e){e.updateGlosiness=!0,e.setModified()}function Material_OpacityModifiedCB(t,e){e.updateOpacity=!0,e.setModified()}function Material_DoubleSidedModifiedCB(t,e){e.setModified()}function Surface(){Isolator.call(this),this.className="Surface",this.attrType=eAttrType.Surface,this.color=new ColorAttr(1,1,1,1),this.ambientLevel=new NumberAttr(1),this.diffuseLevel=new NumberAttr(1),this.specularLevel=new NumberAttr(1),this.emissiveLevel=new NumberAttr(0),this.ambient=new ColorAttr(.8,.8,.8,1),this.diffuse=new ColorAttr(.2,.2,.2,1),this.specular=new ColorAttr(0,0,0,1),this.emissive=new ColorAttr(0,0,0,1),this.glossiness=new NumberAttr(0),this.opacity=new NumberAttr(1),this.doubleSided=new BooleanAttr(!1),this.texturesEnabled=new BooleanAttr(!0),this.colorTexturesPresent=new BooleanAttr(!0),this.diffuseTexturesPresent=new BooleanAttr(!1),this.luminosityTexturesPresent=new BooleanAttr(!1),this.specularityTexturesPresent=new BooleanAttr(!1),this.transparencyTexturesPresent=new BooleanAttr(!1),this.numColorTextures=new NumberAttr(0),this.numDiffuseTextures=new NumberAttr(0),this.numLuminosityTextures=new NumberAttr(0),this.numSpecularityTextures=new NumberAttr(0),this.numTransparencyTextures=new NumberAttr(0),this.colorTexturesPresent.addModifiedCB(Surface_TexturesPresentModifiedCB,this),this.diffuseTexturesPresent.addModifiedCB(Surface_TexturesPresentModifiedCB,this),this.luminosityTexturesPresent.addModifiedCB(Surface_TexturesPresentModifiedCB,this),this.specularityTexturesPresent.addModifiedCB(Surface_TexturesPresentModifiedCB,this),this.transparencyTexturesPresent.addModifiedCB(Surface_TexturesPresentModifiedCB,this),this.registerAttribute(this.color,"color"),this.registerAttribute(this.ambientLevel,"ambientLevel"),this.registerAttribute(this.diffuseLevel,"diffuseLevel"),this.registerAttribute(this.specularLevel,"specularLevel"),this.registerAttribute(this.emissiveLevel,"emissiveLevel"),this.registerAttribute(this.ambient,"ambient"),this.registerAttribute(this.diffuse,"diffuse"),this.registerAttribute(this.specular,"specular"),this.registerAttribute(this.emissive,"emissive"),this.registerAttribute(this.glossiness,"glossiness"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.doubleSided,"doubleSided"),this.registerAttribute(this.texturesEnabled,"texturesEnabled"),this.registerAttribute(this.colorTexturesPresent,"colorTexturesPresent"),this.registerAttribute(this.diffuseTexturesPresent,"diffuseTexturesPresent"),this.registerAttribute(this.luminosityTexturesPresent,"luminosityTexturesPresent"),this.registerAttribute(this.specularityTexturesPresent,"specularityTexturesPresent"),this.registerAttribute(this.transparencyTexturesPresent,"transparencyTexturesPresent"),this.registerAttribute(this.numColorTextures,"numColorTextures"),this.registerAttribute(this.numDiffuseTextures,"numDiffuseTextures"),this.registerAttribute(this.numLuminosityTextures,"numLuminosityTextures"),this.registerAttribute(this.numSpecularityTextures,"numSpecularityTextures"),this.registerAttribute(this.numTransparencyTextures,"numTransparencyTextures"),this.isolateTextures.setValueDirect(!0),this.materialNode=new Material,this.materialNode.getAttribute("name").setValueDirect("Material"),this.materialNode.getAttribute("modified").addTarget(this.modified),this.addChild(this.materialNode),this.colorTexturesNode=new Group,this.colorTexturesNode.getAttribute("name").setValueDirect("Color Textures"),this.colorTexturesNode.getAttribute("modified").addTarget(this.modified),this.addChild(this.colorTexturesNode),this.diffuseTexturesNode=new Group,this.diffuseTexturesNode.getAttribute("name").setValueDirect("Diffuse Textures"),this.diffuseTexturesNode.getAttribute("modified").addTarget(this.modified),this.addChild(this.diffuseTexturesNode),this.luminosityTexturesNode=new Group,this.luminosityTexturesNode.getAttribute("name").setValueDirect("Luminosity Textures"),this.luminosityTexturesNode.getAttribute("modified").addTarget(this.modified),this.addChild(this.luminosityTexturesNode),this.specularityTexturesNode=new Group,this.specularityTexturesNode.getAttribute("name").setValueDirect("Specularity Textures"),this.specularityTexturesNode.getAttribute("modified").addTarget(this.modified),this.addChild(this.specularityTexturesNode),this.transparencyTexturesNode=new Group,this.transparencyTexturesNode.getAttribute("name").setValueDirect("Transparency Textures"),this.transparencyTexturesNode.getAttribute("modified").addTarget(this.modified),this.addChild(this.transparencyTexturesNode),this.connectMaterialAttributes(this.materialNode),this.autoDisplayList.setValueDirect(!0),this.enableDisplayList.setValueDirect(!0)}function Surface_TexturesPresentModifiedCB(){}function Model(){ParentableMotionElement.call(this),this.className="Model",this.attrType=eAttrType.Model,this.geometry=[],this.geometryIndices=[],this.geometryBBoxesMap=[],this.geometryAttrConnections=[],this.surfaceAttrConnections=[],this.boundingTree=new Octree,this.updateBoundingTree=!1,this.bones=[],this.url=new StringAttr(""),this.layer=new NumberAttr(0),this.selectable=new BooleanAttr(!0),this.moveable=new BooleanAttr(!0),this.cullable=new BooleanAttr(!0),this.show=new BooleanAttr(!0),this.approximationLevels=new NumberAttr(1),this.showApproximationLevel=new NumberAttr(-1),this.sortPolygons=new BooleanAttr(!1),this.flipPolygons=new BooleanAttr(!1),this.shadowCaster=new BooleanAttr(!1),this.shadowTarget=new BooleanAttr(!0),this.indexedGeometry=new BooleanAttr(!0),this.enableSharing=new BooleanAttr(!0),this.vertices=new NumberArrayAttr,this.dissolve=new NumberAttr(0),this.color=new ColorAttr(1,1,1,1),this.ambientLevel=new NumberAttr(1),this.diffuseLevel=new NumberAttr(1),this.specularLevel=new NumberAttr(1),this.emissiveLevel=new NumberAttr(0),this.ambient=new ColorAttr(.8,.8,.8,1),this.diffuse=new ColorAttr(.2,.2,.2,1),this.specular=new ColorAttr(0,0,0,1),this.emissive=new ColorAttr(0,0,0,1),this.glossiness=new NumberAttr(0),this.opacity=new NumberAttr(1),this.textureOpacity=new NumberAttr(1),this.doubleSided=new BooleanAttr(!1),this.texturesEnabled=new BooleanAttr(!0),this.pivotAboutGeometricCenter=new BooleanAttr(!0),this.screenScaleEnabled=new BooleanAttr(!1),this.screenScalePixels=new Vector3DAttr(0,0,0),this.detectCollision=new BooleanAttr(!1),this.collisionDetected=new BooleanAttr(!1),this.collisionList=new AttributeVector,this.stopOnCollision=new BooleanAttr(!1),this.detectObstruction=new BooleanAttr(!1),this.obstructionDetected=new BooleanAttr(!1),this.obstructionList=new AttributeVector,this.highlight=new BooleanAttr(!1),this.highlightColor=new ColorAttr(1,1,0,1),this.highlightWidth=new NumberAttr(5),this.disableOnDissolve=new BooleanAttr(!0),this.socketConnectors=new SocketConnectors,this.plugConnectors=new PlugConnectors,this.physicalProperties=new PhysicalPropertiesAttr,this.show.addTarget(this.enabled),this.selectable.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.cullable.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.show.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.approximationLevels.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.sortPolygons.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.sortPolygons.addModifiedCB(Model_SortPolygonsModifiedCB,this),this.flipPolygons.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.shadowCaster.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.shadowTarget.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.renderSequenceSlot.addModifiedCB(Model_GeometryAttrModifiedCB,this),this.renderSequenceSlot.addModifiedCB(Model_RenderSequenceSlotModifiedCB,this),this.dissolve.addModifiedCB(Model_DissolveModifiedCB,this),this.color.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.ambientLevel.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.diffuseLevel.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.specularLevel.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.emissiveLevel.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.ambient.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.diffuse.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.specular.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.emissive.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.glossiness.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.opacity.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.opacity.addModifiedCB(Model_OpacityModifiedCB,this),this.textureOpacity.addModifiedCB(Model_TextureOpacityModifiedCB,this),this.doubleSided.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.texturesEnabled.addModifiedCB(Model_SurfaceAttrModifiedCB,this),this.detectCollision.addModifiedCB(Model_DetectCollisionModifiedCB,this),this.collisionDetected.addModifiedCB(Model_CollisionDetectedModifiedCB,this),this.vertices.addModifiedCB(Model_VerticesModifiedCB,this),this.registerAttribute(this.url,"url"),this.registerAttribute(this.layer,"layer"),this.registerAttribute(this.selectable,"selectable"),this.registerAttribute(this.moveable,"moveable"),this.registerAttribute(this.cullable,"cullable"),this.registerAttribute(this.show,"show"),this.registerAttribute(this.approximationLevels,"approximationLevels"),this.registerAttribute(this.showApproximationLevel,"showApproximationLevel"),this.registerAttribute(this.sortPolygons,"sortPolygons"),this.registerAttribute(this.flipPolygons,"flipPolygons"),this.registerAttribute(this.shadowCaster,"shadowCaster"),this.registerAttribute(this.shadowTarget,"shadowTarget"),this.registerAttribute(this.indexedGeometry,"indexedGeometry"),this.registerAttribute(this.enableSharing,"enableSharing"),this.registerAttribute(this.vertices,"vertices"),this.registerAttribute(this.dissolve,"dissolve"),this.registerAttribute(this.color,"color"),this.registerAttribute(this.ambientLevel,"ambientLevel"),this.registerAttribute(this.diffuseLevel,"diffuseLevel"),this.registerAttribute(this.specularLevel,"specularLevel"),this.registerAttribute(this.emissiveLevel,"emissiveLevel"),this.registerAttribute(this.ambient,"ambient"),this.registerAttribute(this.diffuse,"diffuse"),this.registerAttribute(this.specular,"specular"),this.registerAttribute(this.emissive,"emissive"),this.registerAttribute(this.glossiness,"glossiness"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.textureOpacity,"textureOpacity"),this.registerAttribute(this.doubleSided,"doubleSided"),this.registerAttribute(this.texturesEnabled,"texturesEnabled"),this.registerAttribute(this.pivotAboutGeometricCenter,"pivotAboutGeometricCenter"),this.registerAttribute(this.screenScaleEnabled,"screenScaleEnabled"),this.registerAttribute(this.screenScalePixels,"screenScalePixels"),this.registerAttribute(this.detectCollision,"detectCollision"),this.registerAttribute(this.collisionDetected,"collisionDetected"),this.registerAttribute(this.collisionList,"collisionList"),this.registerAttribute(this.stopOnCollision,"stopOnCollision"),this.registerAttribute(this.detectObstruction,"detectObstruction"),this.registerAttribute(this.obstructionDetected,"obstructionDetected"),this.registerAttribute(this.obstructionList,"obstructionList"),this.registerAttribute(this.highlight,"highlight"),this.registerAttribute(this.highlightColor,"highlightColor"),this.registerAttribute(this.highlightWidth,"highlightWidth"),this.registerAttribute(this.disableOnDissolve,"disableOnDissolve"),this.registerAttribute(this.socketConnectors,"socketConnectors"),this.registerAttribute(this.plugConnectors,"plugConnectors"),this.registerAttribute(this.physicalProperties,"physicalProperties"),this.isolatorNode=new Isolator,this.isolatorNode.getAttribute("name").setValueDirect("Isolator"),this.isolatorNode.getAttribute("isolateDissolves").setValueDirect(!0),this.addChild(this.isolatorNode),this.dissolveNode=new Dissolve,this.dissolveNode.getAttribute("name").setValueDirect("Dissolve"),this.addChild(this.dissolveNode),this.dissolve.addTarget(this.dissolveNode.getAttribute("dissolve")),this.surfacesNode=new Group,this.surfacesNode.getAttribute("name").setValueDirect("Surfaces"),this.addChild(this.surfacesNode)}function Model_SortPolygonsModifiedCB(){}function Model_RenderSequenceSlotModifiedCB(t){t.getValueDirect()}function Model_DissolveModifiedCB(t){t.getValueDirect()}function Model_OpacityModifiedCB(t){t.getValueDirect()}function Model_TextureOpacityModifiedCB(){}function Model_Surface_NumTransparencyTexturesModifiedCB(t){t.getValueDirect()}function Model_GeometryBBoxModifiedCB(t,e){e.updateGeometryBBox(t.getContainer().getContainer())}function Model_SurfaceAttrModifiedCB(){}function Model_GeometryAttrModifiedCB(){}function Model_DetectCollisionModifiedCB(t){t.getValueDirect()}function Model_CollisionDetectedModifiedCB(t,e){e.collisionDetectedModified()}function Model_VerticesModifiedCB(){}function Texture(){ParentableMotionElement.call(this),this.className="Texture",this.attrType=eAttrType.Texture,this.updateImage=!1,this.updateMipmappingEnabled=!1,this.setImage=!1,this.imageSet=!1,this.textureObj=null,this.pitch=0,this.image=new ImageAttr,this.opacity=new NumberAttr(1),this.textureType=new NumberAttr(eTextureType.Color),this.widthWrap=new NumberAttr(eTextureWrap.None),this.heightWrap=new NumberAttr(eTextureWrap.None),this.mipmappingEnabled=new BooleanAttr(!1),this.blendOp=new NumberAttr(RC_MODULATE),this.image.setTransient(!0),this.image.getAttribute("width").addModifiedCB(Texture_ImageModifiedCB,this),this.image.getAttribute("height").addModifiedCB(Texture_ImageModifiedCB,this),this.image.getAttribute("byteAlignment").addModifiedCB(Texture_ImageModifiedCB,this),this.image.getAttribute("pixelFormat").addModifiedCB(Texture_ImageModifiedCB,this),this.image.getAttribute("pixels").addModifiedCB(Texture_ImagePixelsModifiedCB,this),this.textureType.addModifiedCB(Texture_TextureTypeModifiedCB,this),this.opacity.addModifiedCB(Texture_OpacityModifiedCB,this),this.widthWrap.addModifiedCB(Texture_WrapModifiedCB,this),this.heightWrap.addModifiedCB(Texture_WrapModifiedCB,this),this.mipmappingEnabled.addModifiedCB(Texture_MipmappingEnabledModifiedCB,this),this.registerAttribute(this.image,"image"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.textureType,"textureType"),this.registerAttribute(this.widthWrap,"widthWrap"),this.registerAttribute(this.heightWrap,"heightWrap"),this.registerAttribute(this.mipmappingEnabled,"mipmappingEnabled"),this.registerAttribute(this.blendOp,"blendOp")}function Texture_ImageModifiedCB(t,e){e.updateImage=!0,e.setModified()}function Texture_ImagePixelsModifiedCB(t,e){e.updateImage=!0,e.setModified()}function Texture_OpacityModifiedCB(t,e){e.setModified()}function Texture_TextureTypeModifiedCB(t,e){switch(t.getValueDirect()){case eTextureType.Color:op=RC_MODULATE;break;case eTextureType.Diffuse:case eTextureType.Luminosity:case eTextureType.Specularity:op=RC_REPLACE;break;case eTextureType.Transparency:op=RC_MODULATE;break;default:return}e.blendOp.setValueDirect(op),e.setModified()}function Texture_WrapModifiedCB(t,e){e.setModified()}function Texture_MipmappingEnabledModifiedCB(t,e){e.updateMipmappingEnabled=!0,e.setModified()}function MediaTexture(){Texture.call(this),this.className="MediaTexture",this.attrType=eAttrType.MediaTexture,this.updateImageFilename=!1,this.updateAlphaFilename=!1,this.updateNegateImage=!1,this.updateNegateAlpha=!1,this.imagePlayback=null,this.alphaPlayback=null,this.pixelMap=ePixelMap.Default,this.forceImageUpdate=!1,this.imageFilename=new StringAttr(""),this.alphaFilename=new StringAttr(""),this.negateImage=new BooleanAttr(!1),this.negateAlpha=new BooleanAttr(!1),this.frame=new NumberAttr(-1),this.frameRetrieved=new NumberAttr(-1),this.imageFilename.addModifiedCB(MediaTexture_ImageFilenameModifiedCB,this),this.alphaFilename.addModifiedCB(MediaTexture_AlphaFilenameModifiedCB,this),this.negateImage.addModifiedCB(MediaTexture_NegateImageModifiedCB,this),this.negateAlpha.addModifiedCB(MediaTexture_NegateAlphaModifiedCB,this),this.registerAttribute(this.imageFilename,"imageFilename"),this.registerAttribute(this.alphaFilename,"alphaFilename"),this.registerAttribute(this.negateImage,"negateImage"),this.registerAttribute(this.negateAlpha,"negateAlpha"),this.registerAttribute(this.frame,"frame"),this.registerAttribute(this.frameRetrieved,"frameRetrieved")}function MediaTexture_OnImageLoad(){this.container.onImageLoad()}function MediaTexture_OnAlphaLoad(){this.container.onAlphaLoad()}function MediaTexture_OnVideoLoad(){alert("MediaTexture_OnVideoLoad"),this.container.onVideoLoad()}function MediaTexture_ImageFilenameModifiedCB(t,e){e.updateImageFilename=!0,e.setModified()}function MediaTexture_AlphaFilenameModifiedCB(t,e){e.updateAlphaFilename=!0,e.setModified()}function MediaTexture_NegateImageModifiedCB(t,e){e.updateNegateImage=!0,e.setModified()}function MediaTexture_NegateAlphaModifiedCB(t,e){e.updateNegateAlpha=!0,e.setModified()}function Evaluator(){Node.call(this),this.className="Evaluator",this.attrType=eAttrType.Evaluator,this.evaluate_=new BooleanAttr(!0),this.expired=new BooleanAttr(!1),this.registerAttribute(this.expired,"expired"),this.registerAttribute(this.evaluate_,"evaluate"),this.evaluate_.addTarget(this.enabled),this.enabled.addTarget(this.evaluate_)}function SceneInspector(){Evaluator.call(this),this.className="SceneInspector",this.attrType=eAttrType.SceneInspector,this.camera=null,this.viewPosition=new Vector3DAttr(0,0,0),this.viewRotation=new Vector3DAttr(0,0,0),this.translationDelta=new Vector3DAttr(0,0,0),this.panDelta=new Vector3DAttr(0,0,0),this.trackDelta=new Vector3DAttr(0,0,0),this.rotationDelta=new Vector3DAttr(0,0,0),this.viewRelativeXAxisRotation=new BooleanAttr(!1),this.viewRelativeYAxisRotation=new BooleanAttr(!1),this.viewRelativeZAxisRotation=new BooleanAttr(!1),this.pivotDistance=new NumberAttr(0),this.pivotPointWorld=new Vector3DAttr(0,0,0),this.resultPosition=new Vector3DAttr(0,0,0),this.resultRotation=new Vector3DAttr(0,0,0),this.upVector=new Vector3DAttr(0,0,0),this.rightVector=new Vector3DAttr(0,0,0),this.forwardVector=new Vector3DAttr(0,0,0),this.affectPosition_X=new BooleanAttr(!0),this.affectPosition_Y=new BooleanAttr(!0),this.affectPosition_Z=new BooleanAttr(!0),this.affectRotation_X=new BooleanAttr(!0),this.affectRotation_Y=new BooleanAttr(!0),this.affectRotation_Z=new BooleanAttr(!0),this.registerAttribute(this.viewPosition,"viewPosition"),this.registerAttribute(this.viewRotation,"viewRotation"),this.registerAttribute(this.translationDelta,"translationDelta"),this.registerAttribute(this.panDelta,"panDelta"),this.registerAttribute(this.trackDelta,"trackDelta"),this.registerAttribute(this.rotationDelta,"rotationDelta"),this.registerAttribute(this.viewRelativeXAxisRotation,"viewRelativeXAxisRotation"),this.registerAttribute(this.viewRelativeYAxisRotation,"viewRelativeYAxisRotation"),this.registerAttribute(this.viewRelativeZAxisRotation,"viewRelativeZAxisRotation"),this.registerAttribute(this.pivotDistance,"pivotDistance"),this.registerAttribute(this.pivotPointWorld,"pivotPointWorld"),this.registerAttribute(this.resultPosition,"resultPosition"),this.registerAttribute(this.resultRotation,"resultRotation"),this.registerAttribute(this.upVector,"upVector"),this.registerAttribute(this.rightVector,"rightVector"),this.registerAttribute(this.forwardVector,"forwardVector"),this.registerAttribute(this.affectPosition_X,"affectPosition_X"),this.registerAttribute(this.affectPosition_Y,"affectPosition_Y"),this.registerAttribute(this.affectPosition_Z,"affectPosition_Z"),this.registerAttribute(this.affectRotation_X,"affectRotation_X"),this.registerAttribute(this.affectRotation_Y,"affectRotation_Y"),this.registerAttribute(this.affectRotation_Z,"affectRotation_Z")}function ArcballInspector(){Evaluator.call(this),this.className="ArcballInspector",this.attrType=eAttrType.ArcballInspector,this.sphereCenter=new Vector3DAttr(0,0,0),this.sphereRadius=new NumberAttr(0),this.mouseDown=new Vector2DAttr(0,0),this.mouseNow=new Vector2DAttr(0,0),this.quatAtMouseDown=new QuaternionAttr(1,0,0,0),this.viewport=new ViewportAttr(0,0,0,0),this.worldTransform=new Matrix4x4Attr,this.viewTransform=new Matrix4x4Attr,this.constrainToAxis=new BooleanAttr(!1),this.constraintAxis=new Vector3DAttr(0,0,0),this.resultQuat=new QuaternionAttr(1,0,0,0),this.registerAttribute(this.sphereCenter,"sphereCenter"),this.registerAttribute(this.sphereRadius,"sphereRadius"),this.registerAttribute(this.mouseDown,"mouseDown"),this.registerAttribute(this.mouseNow,"mouseNow"),this.registerAttribute(this.quatAtMouseDown,"quatAtMouseDown"),this.registerAttribute(this.viewport,"viewport"),this.registerAttribute(this.worldTransform,"worldTransform"),this.registerAttribute(this.viewTransform,"viewTransform"),this.registerAttribute(this.constrainToAxis,"constrainToAxis"),this.registerAttribute(this.constraintAxis,"constraintAxis"),this.registerAttribute(this.resultQuat,"resultQuat")}function ArcballInspector_ViewTransformModifiedCB(){}function EndState(){this.initialized=!1,this.startKeyIts=[],this.endKeyIts=[],this.startTime=-FLT_MAX,this.endTime=FLT_MAX}function KeyframeInterpolator(){Evaluator.call(this),this.className="KeyframeInterpolator",this.attrType=eAttrType.KeyframeInterpolator,this.lastTime=0,this.evaluated=!1,this.endState=new EndState,this.time=new NumberAttr(0),this.channels=new AttributeVector,this.startKeys=new AttributeVector,this.endKeys=new AttributeVector,this.preBehaviors=new AttributeVector,this.postBehaviors=new AttributeVector,this.resultValues=new AttributeVector,this.time.addModifiedCB(KeyframeInterpolator_TimeModifiedCB,this),this.registerAttribute(this.time,"time"),this.registerAttribute(this.channels,"channels"),this.registerAttribute(this.startKeys,"startKeys"),this.registerAttribute(this.endKeys,"endKeys"),this.registerAttribute(this.preBehaviors,"preBehaviors"),this.registerAttribute(this.postBehaviors,"postBehaviors"),this.registerAttribute(this.resultValues,"resultValues")}function KeyframeInterpolator_TimeModifiedCB(t,e){e.timeModified()}function KeyframeInterpolator_EndStateModifiedCB(t,e){e.updateEndState()}function BBoxLocator(){Evaluator.call(this),this.className="BBoxLocator",this.attrType=eAttrType.BBoxLocator,this.viewPosition=new Vector3DAttr(0,0,0),this.viewTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.viewVolume=new ViewVolumeAttr,this.viewport=new ViewportAttr(0,0,0,0),this.nearDistance=new NumberAttr(0),this.bbox=new BBoxAttr,this.bboxView=new BBoxAttr,this.closeness=new NumberAttr(.5),this.resultPosition=new Vector3DAttr(0,0,0),this.resultWidth=new NumberAttr(0),this.resultFarDistance=new NumberAttr(0),this.resultPivotDistance=new NumberAttr(0),this.registerAttribute(this.viewPosition,"viewPosition"),this.registerAttribute(this.viewTransform,"viewTransform"),this.registerAttribute(this.viewVolume,"viewVolume"),this.registerAttribute(this.viewport,"viewport"),this.registerAttribute(this.nearDistance,"nearDistance"),this.registerAttribute(this.bbox,"bbox"),this.registerAttribute(this.bboxView,"bboxView"),this.registerAttribute(this.closeness,"closeness"),this.registerAttribute(this.resultPosition,"resultPosition"),this.registerAttribute(this.resultWidth,"resultWidth"),this.registerAttribute(this.resultFarDistance,"resultFarDistance"),this.registerAttribute(this.resultPivotDistance,"resultPivotDistance")}function worldUnitsPerPixelPersp(t,e,i){var r=2*Math.atan2(1,e),o=2*Math.atan(t.width/t.height*Math.tan(r/2)),n=Math.tan(o/2)*i*2,a=Math.tan(r/2)*i*2,s=n/t.width,l=a/t.height;return{x:s,y:l}}function worldUnitsPerPixelOrtho(t,e){var i=e*(t.height/t.width),r=e/t.width,o=i/t.height;return{x:r,y:o}}function toScreenSpace(t,e,i,r){var o=e.transformw(t.x,t.y,t.z,1);return o=i.transformw(o.x,o.y,o.z,o.w),0==o.w?{x:-1/0,y:-1/0,z:-1/0}:(o.x/=o.w,o.y/=o.w,o.x=r.x+r.width-(-o.x+1)*r.width/2,o.y=r.y+r.height-(o.y+1)*r.height/2,o.z=0,{x:o.x,y:o.y,z:o.z})}function RasterComponent(){ParentableMotionElement.call(this),this.className="RasterComponent",this.attrType=eAttrType.RasterComponent,this.rcEventListener=null,this.opacity=new NumberAttr(1),this.anchor=new Vector2DAttr(0,0),this.origin=new StringAttr("bottomLeft"),this.show=new BooleanAttr(!0),this.selectable=new BooleanAttr(!0),this.cullable=new BooleanAttr(!0),this.clampToViewport=new BooleanAttr(!1),this.rasterPosition=new Vector3DAttr,this.inspectionOffset=new Vector3DAttr,this.componentRect=new RectAttr,this.screenRect=new RectAttr,this.stylesMap.size.addModifiedCB(RasterComponent_StylesMapSizeModifiedCB,this),this.show.addModifiedCB(RasterComponent_ShowModifiedCB,this),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.anchor,"anchor"),this.registerAttribute(this.origin,"origin"),this.registerAttribute(this.show,"show"),this.registerAttribute(this.selectable,"selectable"),this.registerAttribute(this.cullable,"cullable"),this.registerAttribute(this.rasterPosition,"rasterPosition"),this.registerAttribute(this.inspectionOffset,"inspectionOffset"),this.registerAttribute(this.clampToViewport,"clampToViewport"),this.registerAttribute(this.componentRect,"componentRect"),this.registerAttribute(this.screenRect,"screenRect"),this.renderSequenceSlot.setValueDirect(65535)
}function RasterComponent_StylesMapSizeModifiedCB(t,e){e.stylesMapSizeModified()}function RasterComponent_StylesMapElementEventModifiedCB(t,e){e.stylesMapElementEventModified(t.getValueDirect().join(""))}function RasterComponent_ShowModifiedCB(t,e){e.showModified()}function Label(){RasterComponent.call(this),this.className="Label",this.attrType=eAttrType.Label,this.iconRect=new Rect(0,0,0,0),this.labelRect=new Rect(0,0,0,0),this.text=new StringAttr(""),this.description=new StringAttr(""),this.depthShadingEnabled=new BooleanAttr(!0),this.labelStyle=new LabelStyleAttr,this.iconStyle=new IconStyleAttr,this.balloonTipLabelStyle=new BalloonTipLabelStyleAttr,this.text.addModifiedCB(Label_TextModifiedCB,this),this.description.addModifiedCB(Label_DescriptionModifiedCB,this),this.labelStyle.backgroundColor.addModifiedCB(Label_LabelStyleBackgroundColorModifiedCB,this),this.labelStyle.backgroundOpacity.addModifiedCB(Label_LabelStyleBackgroundOpacityModifiedCB,this),this.labelStyle.fontStyle.borderColor.addModifiedCB(Label_LabelStyleFontBorderModifiedCB,this),this.labelStyle.fontStyle.borderWidth.addModifiedCB(Label_LabelStyleFontBorderModifiedCB,this),this.labelStyle.fontStyle.color.addModifiedCB(Label_LabelStyleFontStyleColorModifiedCB,this),this.labelStyle.fontStyle.font.addModifiedCB(Label_LabelStyleFontStyleFontModifiedCB,this),this.labelStyle.fontStyle.opacity.addModifiedCB(Label_LabelStyleFontStyleOpacityModifiedCB,this),this.labelStyle.fontStyle.size.addModifiedCB(Label_LabelStyleFontStyleSizeModifiedCB,this),this.labelStyle.fontStyle.style.addModifiedCB(Label_LabelStyleFontStyleStyleModifiedCB,this),this.labelStyle.format.addModifiedCB(Label_LabelStyleFormatModifiedCB,this),this.labelStyle.padding.addModifiedCB(Label_LabelStylePaddingModifiedCB,this),this.iconStyle.url.addModifiedCB(Label_IconStyleUrlModifiedCB,this),this.balloonTipLabelStyle.addModifiedCB(Label_BalloonTipLabelStyleModifiedCB,this),this.registerAttribute(this.text,"text"),this.registerAttribute(this.description,"description"),this.registerAttribute(this.depthShadingEnabled,"depthShadingEnabled"),this.registerAttribute(this.labelStyle,"labelStyle"),this.registerAttribute(this.iconStyle,"iconStyle"),this.registerAttribute(this.balloonTipLabelStyle,"balloonTipLabelStyle"),this.styles.registerStyle(this.iconStyle,"iconStyle"),this.styles.registerStyle(this.labelStyle,"labelStyle"),this.styles.registerStyle(this.balloonTipLabelStyle,"balloonTipLabelStyle")}function CreateHTMLLabel(t,e,i){var r=null,o=null,n=null,a=null;return bridgeworks.rasterComponents&&(r=document.createElement("div"),r&&(r.setAttribute("id",t),o=document.createElement("span"),o&&(o.setAttribute("id",e),o.setAttribute("class","labelText"),o.style.visibility="hidden",o.style.position="absolute",o.style.zIndex=3,o.onmousedown=function(){},o.onmouseup=function(){},o.onmousemove=function(){},o.onselectstart=new Function("return false"),r.appendChild(o)),a=document.createElement("div"),a&&(a.setAttribute("id",i),a.style.position="absolute",a.style.zIndex=3,n=document.createElement("img"),n&&(n.setAttribute("class","labelIcon"),n.style.visibility="hidden",n.src="BwContent/images/1x1.png",n.onmouseup=function(){},n.onmousemove=function(){},n.onmousedown=function(){return!1},a.appendChild(n)),r.appendChild(a)),bridgeworks.rasterComponents.appendChild(r))),{div:r,label:o,iconDiv:a,iconImg:n}}function Label_TextModifiedCB(t,e){e.htmlLabel.innerHTML=t.getValueDirect().join("")}function Label_DescriptionModifiedCB(t,e){var i=t.getValueDirect().join("");if(i.length>0){var r=e.balloonTipLabelStyle.htmlLabelStyle.width.getValueDirect(),o=e.balloonTipLabelStyle.htmlLabelStyle.height.getValueDirect();if(0==r||0==o){var n=e.registry.find("ViewportMgr");0==r&&(r=.5*n.getAttribute("width").getValueDirect()),0==o&&(o=.5*n.getAttribute("height").getValueDirect())}var a="#"+e.iconId;i="<div class='gmap' style='width:"+(r+12)+"px;height:12px;'><a href='javascript:void($(\""+a+"\").btOff());'><img src='libs/jquery/bt/close.gif' alt='close' width='12' height='12' class='gmap-close' /></a> </div><div style='width:"+(r+12)+"px;height:"+o+"px;overflow:auto;'>"+i+"</div>";var s=e.balloonTipLabelStyle.bgColor.getValueDirect(),l="rgba("+255*s.r+","+255*s.g+","+255*s.b+","+255*s.a+")";$(a).bt(i,{trigger:"click",width:r+12+"px",height:o+12+"px",shrinkToFit:0==r&&0==o?!0:!1,centerPointX:.9,spikeLength:e.balloonTipLabelStyle.balloonOffset.getValueDirect(),spikeGirth:30,padding:15,cornerRadius:25,fill:l,strokeStyle:"#ABABAB",strokeWidth:1,shadow:!0,shadowOffsetX:3,shadowOffsetY:3,shadowBlur:8,shadowColor:"rgba(0,0,0,.9)",shadowOverlap:!1,noShadowOpts:{strokeStyle:"#999",strokeWidth:2}})}else{var a="#"+e.iconId;$(a).bt("",{trigger:"click"})}}function Label_LabelStyleBackgroundColorModifiedCB(t,e){var i=t.getValueDirect();i.a*=t.getContainer().getAttribute("backgroundOpacity").getValueDirect(),e.htmlLabel.style.backgroundColor="rgba("+255*i.r+","+255*i.g+","+255*i.b+","+i.a+")"}function Label_LabelStyleBackgroundOpacityModifiedCB(t,e){Label_LabelStyleBackgroundColorModifiedCB(e.labelStyle.backgroundColor,e)}function Label_LabelStyleFontBorderModifiedCB(t,e){e.labelStyleFontBorderModified()}function Label_LabelStyleFontStyleColorModifiedCB(t,e){var i=t.getValueDirect();i.a*=t.getContainer().getAttribute("opacity").getValueDirect(),e.htmlLabel.style.color="rgba("+255*i.r+","+255*i.g+","+255*i.b+","+i.a+")"}function Label_LabelStyleFontStyleFontModifiedCB(t,e){e.htmlLabel.style.fontFamily=t.getValueDirect().join("")}function Label_LabelStyleFontStyleOpacityModifiedCB(t,e){Label_LabelStyleFontStyleColorModifiedCB(e.labelStyle.fontStyle.color,e),Label_LabelStyleFontBorderModifiedCB(null,e)}function Label_LabelStyleFontStyleSizeModifiedCB(t,e){e.htmlLabel.style.fontSize=t.getValueDirect()+"pt"}function Label_LabelStyleFontStyleStyleModifiedCB(t,e){switch(t.getValueDirect().join("")){case"Bold":e.htmlLabel.style.fontWeight="bold";break;case"Heavy":e.htmlLabel.style.fontWeight="bolder";break;case"Normal":e.htmlLabel.style.fontWeight="normal";break;case"Thin":e.htmlLabel.style.fontWeight="lighter"}}function Label_LabelStyleFormatModifiedCB(t){t.getValueDirect().join("")}function Label_LabelStylePaddingModifiedCB(t,e){var i=t.getValueDirect()+"px";e.htmlLabel.style.paddingLeft=i,e.htmlLabel.style.paddingRight=i,e.htmlLabel.style.paddingTop=i,e.htmlLabel.style.paddingBottom=i}function Label_IconStyleUrlModifiedCB(t,e){var i=t.getValueDirect().join("");switch(i){case"":break;default:e.htmlIconImg.src=document.location.href+"/../BwContent/"+i}}function Label_BalloonTipLabelStyleModifiedCB(t,e){Label_DescriptionModifiedCB(e.description,e)}function BalloonTipLabel(){RasterComponent.call(this),this.className="BallonTipLabel",this.attrType=eAttrType.BalloonTipLabel,this.qtip=null,this.qtip_api=null,this.labelRect=new Rect(0,0,0,0),this.balloonTipLabelStyle=new BalloonTipLabelStyleAttr,this.labelWidth=new NumberAttr(0),this.labelHeight=new NumberAttr(0),this.balloonTipLabelStyle.bgColor.addModifiedCB(BalloonTipLabel_balloonTipLabelStyleBgColorModifiedCB,this),this.balloonTipLabelStyle.htmlLabelStyle.addModifiedCB(BalloonTipLabel_BalloonTipLabelStyleHTMLLabelStyleModifiedCB,this),this.balloonTipLabelStyle.displayMode.addModifiedCB(BalloonTipLabel_balloonTipLabelStyleDisplayModeModifiedCB,this),this.show.addModifiedCB(BalloonTipLabel_showModifiedCB,this),this.renderSequenceSlot.addModifiedCB(BalloonTipLabel_renderSequenceSlotModifiedCB,this),this.registerAttribute(this.balloonTipLabelStyle,"balloonTipLabelStyle"),this.registerAttribute(this.labelWidth,"labelWidth"),this.registerAttribute(this.labelHeight,"labelHeight"),this.styles.registerStyle(this.balloonTipLabelStyle,"balloonTipLabelStyle")}function CreateHTMLBalloonTipLabel(t){var e=null;bridgeworks.rasterComponents&&(e=document.createElement("a"),e&&(e.setAttribute("id",t),e.style.visibility="hidden",e.style.position="absolute",bridgeworks.rasterComponents.appendChild(e)));var t="a[id="+t+"]",i=$(t).qtip({style:{classes:"qtip-bootstrap qtip-rounded qtip-shadow qtip-close"},content:{text:"",button:!0},hide:{event:!1}});return{label:e,qtip:i}}function BalloonTipLabel_balloonTipLabelStyleModifiedCB(t,e){e.balloonTipLabelStyleModified()}function BalloonTipLabel_balloonTipLabelStyleBgColorModifiedCB(){}function BalloonTipLabel_balloonTipLabelStyleDisplayModeModifiedCB(t,e){e.balloonTipLabelStyleDisplayModeModified(t.getValueDirect().join(""))}function BalloonTipLabel_BalloonTipLabelStyleHTMLLabelStyleModifiedCB(t,e){e.balloonTipLabelStyleHtmlLabelStyleModified()}function BalloonTipLabel_HTMLLabel_PageDimensionsModifiedCB(){}function BalloonTipLabel_showModifiedCB(t,e){e.showModified(t.getValueDirect())}function BalloonTipLabel_renderSequenceSlotModifiedCB(){}function LineList(){VertexGeometry.call(this),this.className="LineList",this.attrType=eAttrType.LineList,this.width=1}function PointList(){VertexGeometry.call(this),this.className="PointList",this.attrType=eAttrType.PointList,this.width=1}function range(t,e,i){var r,o=i-e;return 0==o?{value:e,i:0}:(r=t-o*Math.floor((t-e)/o),{value:r,i:-Math.floor((r-t)/o+(r>t?.5:-.5))})}function hermite(t){var e,i;e=t*t,i=t*e;var r=3*e-i-i,o=1-r,n=i-e,a=n-e+t;return{h1:o,h2:r,h3:a,h4:n}}function bezier(t,e,i,r,o){var n,a,s,l,c;return l=o*o,c=l*o,s=3*(e-t),a=3*(i-e)-s,n=r-t-s-a,n*c+a*l+s*o+t}function bez2_time(t,e,i,r,o,n,a){var s,l;return l=n+.5*(a-n),s=bezier(t,e,i,r,l),Math.abs(o-s)>1e-4?(s>o?a=l:n=l,bez2_time(t,e,i,r,o,n,a)):l}function bez2(t,e,i){var r,o,n,a=0,s=1;return r=t.getShape()==eKeyframeShape_Bezier2D?t.getTime()+t.getParams(2):t.getTime()+(e.getTime()-t.getTime())/3,n=bez2_time(t.getTime(),r,e.getTime()+e.getParams(0),e.getTime(),i,a,s),o=t.getShape()==eKeyframeShape_Bezier2D?t.getValue()+t.getParams(3):t.getValue()+t.getParams(1)/3,bezier(t.getValue(),o,e.getParams(1)+e.getValue(),e.getValue(),n)}function outgoing(t,e,i,r){var o,n,a,s,l;switch(e.getShape()){case eKeyframeShape.TCB:o=(1-e.getParams(0))*(1+e.getParams(1))*(1+e.getParams(2)),n=(1-e.getParams(0))*(1-e.getParams(1))*(1-e.getParams(2)),a=i.getValue()-e.getValue(),e!=r?(s=(i.getTime()-e.getTime())/(i.getTime()-t.prev(e).getTime()),l=s*(o*(e.getValue()-t.prev(e).getValue())+n*a)):l=n*a;break;case eKeyframeShape.Linear:a=i.getValue()-e.getValue(),e!=r?(s=(i.getTime()-e.getTime())/(i.getTime()-t.prev(e).getTime()),l=s*(e.getValue()-t.prev(e).getValue()+a)):l=a;break;case eKeyframeShape.Bezier1D:l=e.getParams(1),e!=r&&(l*=(i.getTime()-e.getTime())/(i.getTime()-t.prev(e).getTime()));break;case eKeyframeShape.Bezier2D:l=e.getParams(3)*(i.getTime()-e.getTime()),Math.abs(e.getParams(2))>1e-5?l/=e.getParams(2):l*=1e5;break;case eKeyframeShape.Stepped:default:l=0}return l}function incoming(t,e,i,r){var o,n,a,s,l;switch(i.getShape()){case eKeyframeShape.Linear:a=i.getValue()-e.getValue(),i!=r?(s=(i.getTime()-e.getTime())/(t.next(i).getTime()-e.getTime()),l=s*(t.next(i).getValue()-i.getValue()+a)):l=a;break;case eKeyframeShape.TCB:o=(1-i.getParams(0))*(1-i.getParams(1))*(1+i.getParams(2)),n=(1-i.getParams(0))*(1+i.getParams(1))*(1-i.getParams(2)),a=i.getValue()-e.getValue(),i!=r?(s=(i.getTime()-e.getTime())/(t.next(i).getTime()-e.getTime()),l=s*(n*(t.next(i).getValue()-i.getValue())+o*a)):l=o*a;break;case eKeyframeShape.Bezier1D:l=i.getParams(0),i!=r&&(l*=(i.getTime()-e.getTime())/(t.next(i).getTime()-e.getTime()));break;case eKeyframeShape.Bezier2D:l=i.getParams(1)*(i.getTime()-e.getTime()),Math.abs(i.getParams(0))>1e-5?l/=i.getParams(0):l*=1e5;break;case eKeyframeShape.Stepped:default:l=0}return l}function interpolate(t,e,i,r,o,n){if(0==e.length)return 0;if(1==e.length)return i.getValue();var a,s=0,l=0,c=0,h=0;if(t<i.getTime())switch(o){case eEndBehavior.Reset:return 0;case eEndBehavior.Constant:return i.getValue();case eEndBehavior.Repeat:a=range(t,i.getTime(),r.getTime()),t=a.value;break;case eEndBehavior.Oscillate:a=range(t,i.getTime(),r.getTime()),t=a.value,s=a.i,s%2&&(t=r.getTime()-i.getTime()-t);break;case eEndBehavior.OffsetRepeat:a=range(t,i.getTime(),r.getTime()),t=a.value,s=a.i,h=s*(r.getValue()-i.getValue());break;case eEndBehavior.Linear:return c=outgoing(e,i,e.next(i),i)/(e.next(i).getTime()-i.getTime()),c*(t-i.getTime())+i.getValue()}else if(t>r.getTime())switch(n){case eEndBehavior.Reset:return 0;case eEndBehavior.Constant:return r.getValue();case eEndBehavior.Repeat:a=range(t,i.getTime(),r.getTime()),t=a.value;break;case eEndBehavior.Oscillate:a=range(t,i.getTime(),r.getTime()),t=a.value,s=a.i,s%2&&(t=r.getTime()-i.getTime()-t);break;case eEndBehavior.OffsetRepeat:a=range(t,i.getTime(),r.getTime()),t=a.value,s=a.i,h=s*(r.getValue()-i.getValue());break;case eEndBehavior.Linear:return l=incoming(e,e.prev(r),r,r)/(r.getTime()-e.prev(r).getTime()),l*(t-r.getTime())+r.getValue()}for(var d=i;e.next(d)&&t>e.next(d).getTime();)d=e.next(d);var u=e.next(d);if(t==d.getTime())return d.getValue()+h;if(t==u.getTime())return u.getValue()+h;var p=(t-d.getTime())/(u.getTime()-d.getTime());switch(u.getShape()){case eKeyframeShape.TCB:case eKeyframeShape.Bezier1D:c=outgoing(e,d,u,i),l=incoming(e,d,u,r);var a=hermite(p);return a.h1*d.getValue()+a.h2*u.getValue()+a.h3*c+a.h4*l+h;case eKeyframeShape.Bezier2D:return bez2(d,u,t)+h;case eKeyframeShape.Linear:return d.getValue()+p*(u.getValue()-d.getValue())+h;case eKeyframeShape.Stepped:return d.getValue()+h;default:return 0}}function StateRec(){this.material=null,this.renderStateRec=null,this.cullBackFace=!1,this.textures=null,this.projectionTextures=null,this.globalIllumination=new Color}function GetCurrentState(t){var e=new StateRec;return e.material=t.getCurrentMaterial(),e.renderStateRec=t.renderState.getState(RENDERSTATE_ALL_BITS),e.cullBackFace=t.renderContext.enabled(eRenderMode.CullBackFace),e.textures=t.textureArrayStack.top(),e.projectionTextures=t.projectionTextureArrayStack.top(),e.globalIllumination.copy(t.renderContext.getGlobalIllumination()),e}function SetCurrentState(t,e){t.setCurrentMaterial(e.material),t.renderState.setState(RENDERSTATE_ALL_BITS,e.renderStateRec),e.cullBackFace?t.renderContext.enable(eRenderMode.CullBackFace):t.renderContext.disable(eRenderMode.CullBackFace),t.textureArrayStack.load(e.textures),t.projectionTextureArrayStack.load(e.projectionTextures),t.renderContext.setGlobalIllumination(e.globalIllumination)}function DistanceSortRec(t,e,i){this.distance=t||0,this.geometry=e||null,this.dissolve=i||0,this.stateRec=null}function DistanceSortAgent(){Agent.call(this),this.className="DistanceSortAgent",this.graphMgr=null,this.sortRecs=[]}function DistanceSortAgent_CompareSortRecs(t,e){return e.distance-t.distance}function MapProjectionCalculator(){Evaluator.call(this),this.className="MapProjectionCalculator",this.attrType=eAttrType.MapProjectionCalculator,this.unitsMultiplier=1,this.positionCalculators=[],this.geoPositionCalculators=[],this.mapProjection=new StringAttr("equalArc"),this.elevationModel=new StringAttr,this.center2D=new Vector2DAttr(0,0),this.units=new StringAttr("kilometers"),this.geoPosition=new Vector3DAttr(0,0,0),this.pointWorld=new Vector3DAttr,this.resultPosition=new Vector3DAttr,this.resultGeoPosition=new Vector3DAttr,this.units.addModifiedCB(MapProjectionCalculator_UnitsModifiedCB,this),this.pointWorld.addModifiedCB(MapProjectionCalculator_PointWorldModifiedCB,this),this.registerAttribute(this.mapProjection,"mapProjection"),this.registerAttribute(this.elevationModel,"elevationModel"),this.registerAttribute(this.center2D,"center2d"),this.registerAttribute(this.units,"units"),this.registerAttribute(this.geoPosition,"geoPosition"),this.registerAttribute(this.geoPosition,"position"),this.registerAttribute(this.pointWorld,"pointWorld"),this.registerAttribute(this.resultPosition,"resultPosition"),this.registerAttribute(this.resultGeoPosition,"resultGeoPosition"),this.registerAttribute(this.resultGeoPosition,"resultGeoLocation"),this.positionCalculators.equalArc=ComputeEqualArc3DPosition,this.geoPositionCalculators.equalArc=ComputeEqualArcGeoPosition,this.units.setValueDirect("meters")}function MapProjectionCalculator_UnitsModifiedCB(t,e){switch(t.getValueDirect().join("")){case"kilometers":e.unitsMultiplier=1;break;case"meters":e.unitsMultiplier=1e3}}function MapProjectionCalculator_PointWorldModifiedCB(){}function ComputeEqualArc3DPosition(t,e,i,r,o,n){if(i>90||-90>i||t>180||-180>t)return void 0;var a=(t-r)*EQ_ARC_ONE_DEG_LON_KM*n,s=e,l=(i-o)*EQ_ARC_ONE_DEG_LAT_KM*n;return{x:a,y:s,z:l}}function ComputeEqualArcGeoPosition(t,e,i,r,o,n){var a=t/n/EQ_ARC_ONE_DEG_LON_KM+r,s=e,l=i/n/EQ_ARC_ONE_DEG_LAT_KM+o;return{lon:a,alt:s,lat:l}}function NullObject(){ParentableMotionElement.call(this),this.className="NullObject",this.attrType=eAttrType.NullObject}function Transform(){SGNode.call(this),this.className="Transform",this.attrType=eAttrType.Transform,this.matrix=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.matrixTransform=this.matrix.getValueDirect(),this.updateMatrix=!0,this.matrix.addModifiedCB(Transform_MatrixModifiedCB,this),this.registerAttribute(this.matrix,"matrix")}function Transform_MatrixModifiedCB(t,e){e.updateMatrix=!0,e.setModified()}function QuaternionRotate(){Transform.call(this),this.className="QuaternionRotate",this.attrType=eAttrType.QuaternionRotate,this.rotationQuat=new QuaternionAttr(1,0,0,0),this.rotation=new Vector3DAttr(0,0,0),this.updateRotationQuat=!0,this.rotationQuat.addModifiedCB(QuaternionRotate_RotationQuatModifiedCB,this),this.registerAttribute(this.rotationQuat,"rotationQuat"),this.registerAttribute(this.rotation,"rotation")}function QuaternionRotate_RotationQuatModifiedCB(t,e){e.updateRotationQuat=!0,e.setModified()}function Rotate(){Transform.call(this),this.className="Rotate",this.attrType=eAttrType.Rotate,this.rotation=new Vector3DAttr(0,0,0),this.updateRotation=!0,this.rotation.addModifiedCB(Rotate_RotationModifiedCB,this),this.registerAttribute(this.rotation,"rotation")}function Rotate_RotationModifiedCB(t,e){e.updateRotation=!0,e.setModified()}function Scale(){Transform.call(this),this.className="Scale",this.attrType=eAttrType.Scale,this.scale=new Vector3DAttr(1,1,1),this.updateScale=!0,this.scale.addModifiedCB(Scale_ScaleModifiedCB,this),this.registerAttribute(this.scale,"scale")}function Scale_ScaleModifiedCB(t,e){e.updateScale=!0,e.setModified()}function Translate(){Transform.call(this),this.className="Translate",this.attrType=eAttrType.Translate,this.translation=new Vector3DAttr(0,0,0),this.updateTranslation=!0,this.translation.addModifiedCB(Translate_TranslationModifiedCB,this),this.registerAttribute(this.translation,"translation")}function Translate_TranslationModifiedCB(t,e){e.updateTranslation=!0,e.setModified()}function MultiTargetObserver(){Evaluator.call(this),this.className="MultiTargetObserver",this.attrType=eAttrType.MultiTargetObserver,this.targetPosition=[],this.targets=new NumberAttr(0),this.position=new Vector3DAttr(0,0,0),this.distanceFromFirstTarget=new NumberAttr(0),this.affectPitch=new BooleanAttr(!0),this.affectHeading=new BooleanAttr(!0),this.resultPosition=new Vector3DAttr(0,0,0),this.resultPitch=new NumberAttr(0),this.resultHeading=new NumberAttr(0),this.registerAttribute(this.targets,"targets"),this.registerAttribute(this.position,"position"),this.registerAttribute(this.distanceFromFirstTarget,"distanceFromFirstTarget"),this.registerAttribute(this.affectPitch,"affectPitch"),this.registerAttribute(this.affectHeading,"affectHeading"),this.registerAttribute(this.resultPosition,"resultPosition"),this.registerAttribute(this.resultPitch,"resultPitch"),this.registerAttribute(this.resultHeading,"resultHeading")}function SerializeParams(){DirectiveParams.call(this),this.serialized=null}function SerializeDirective(){SGDirective.call(this),this.className="SerializeDirective",this.attrType=eAttrType.SerializeDirective,this.serialized=null}function CollideParams(){DirectiveParams.call(this),this.viewSpace=!1,this.viewMatrix=new Matrix4x4,this.worldMatrix=new Matrix4x4,this.detectCollisions=new Array}function CollideRec(t,e,i){this.model=t,this.tree=e,this.worldMatrix=new Matrix4x4,this.worldMatrix.loadMatrix(i)}function CollideDirective(){SGDirective.call(this),this.className="CollideDirective",this.attrType=eAttrType.CollideDirective,this.physicsSim=new PhysicsSimulator,this.physicsSim.getAttribute("gravity").setValueDirect(0,0,0),this.name.setValueDirect("CollideDirective")}function HighlightTarget(){this.projMatrix=new Matrix4x4,this.viewMatrix=new Matrix4x4,this.worldMatrix=new Matrix4x4,this.camera=null,this.viewport=new Viewport,this.geometries=new Array,this.center=new Vector3D,this.highlightColor_r=0,this.highlightColor_g=0,this.highlightColor_b=0,this.highlightColor_a=0,this.highlightWidth=0}function HighlightParams(){DirectiveParams.call(this),this.projMatrix=new Matrix4x4,this.viewMatrix=new Matrix4x4,this.worldMatrix=new Matrix4x4,this.camera=null,this.viewport=new Viewport,this.targets=new Array}function HighlightDirective(){SGDirective.call(this),this.className="HighlightDirective",this.attrType=eAttrType.HighlightDirective,this.vertexBuffer=null,this.name.setValueDirect("HighlightDirective"),this.highlightType=new NumberAttr(eHighlightType.None),this.highlightColor=new ColorAttr(1,1,0,1),this.highlightWidth=new NumberAttr(5),this.highlightColor.addModifiedCB(HighlightDirective_HighlightColorModifiedCB,this),this.registerAttribute(this.highlightType,"highlightType"),this.registerAttribute(this.highlightColor,"highlightColor"),this.registerAttribute(this.highlightWidth,"highlightWidth")}function HighlightDirective_HighlightColorModifiedCB(t,e){e.highlightColorModified()}function ShadowParams(){DirectiveParams.call(this),this.worldMatrix=new Matrix4x4,this.dissolve=0,this.opacity=1,this.lights=[],this.modelID=0}function ShadowDirective(){SGDirective.call(this),this.className="ShadowDirective",this.attrType=eAttrType.ShadowDirective,this.program=null,this.shadowFBO=null,this.displayListObj=null,this.name.setValueDirect("ShadowDirective"),this.casterWorldPosition=new Vector3DAttr(0,0,0),this.registerAttribute(this.casterWorldPosition,"casterWorldPosition")}function ObjectMotionDesc(){this.validMembersMask=OBJECTMOTION_ALL_BITS,this.panVelocity=new Vector3D(0,0,0),this.linearVelocity=new Vector3D(0,0,0),this.angularVelocity=new Vector3D(0,0,0),this.scalarVelocity=new Vector3D(0,0,0),this.duration=0,this.stopOnCollision=!0}function ObjectMover(){Evaluator.call(this),this.className="ObjectMover",this.attrType=eAttrType.ObjectMover,this.targetObject=null,this.motionQueue=new Queue,this.activeMotion=null,this.activeDuration=0,this.lastCollisionDetected=!1,this.target=new StringAttr(""),this.timeIncrement=new NumberAttr(0),this.linearSpeed=new NumberAttr(0),this.angularSpeed=new NumberAttr(0),this.panVelocity=new Vector3DAttr,this.linearVelocity=new Vector3DAttr,this.angularVelocity=new Vector3DAttr,this.scalarVelocity=new Vector3DAttr,this.enabled.addModifiedCB(ObjectMover_EnabledModifiedCB,this),this.target.addModifiedCB(ObjectMover_TargetModifiedCB,this),this.registerAttribute(this.target,"target"),this.registerAttribute(this.timeIncrement,"timeIncrement"),this.registerAttribute(this.linearSpeed,"linearSpeed"),this.registerAttribute(this.angularSpeed,"angularSpeed")}function ObjectMover_EnabledModifiedCB(t,e){var i=t.getValueDirect();i||(e.motionQueue.clear(),e.panVelocity.setValueDirect(0,0,0),e.linearVelocity.setValueDirect(0,0,0),e.angularVelocity.setValueDirect(0,0,0),e.scalarVelocity.setValueDirect(0,0,0))}function ObjectMover_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=e.registry.find(i);r&&e.connectTarget(r)}function ObjectMover_TargetCollisionDetectedModifiedCB(t,e){var i=(t.getValueDirect(),t.getContainer().getAttribute("collisionList"));e.collisionDetected(i),e.lastCollisionDetected=i.Size()>0?!0:!1}function ObjectMover_TargetObstructionDetectedModifiedCB(t,e){var i=(t.getValueDirect(),t.getContainer().getAttribute("obstructionList"));e.obstructionDetected(i)}function AnimalMover(){ObjectMover.call(this),this.className="AnimalMover",this.attrType=eAttrType.AnimalMover,this.linearDirection=null}function WalkSimulator(){SceneInspector.call(this),this.className="WalkSimulator",this.attrType=eAttrType.WalkSimulator,this.sceneInspector_pivotDistanceValue=0,this.selector_computePivotDistanceValue=0,this.groundPlane=new PlaneAttr,this.linearDelta=new Vector3DAttr(0,0,0),this.angularDelta=new Vector3DAttr(0,0,0),this.linearSensitivity=new Vector3DAttr(1,1,1),this.angularSensitivity=new Vector3DAttr(1,1,1),this.resultLinear=new Vector3DAttr,this.resultAngular=new Vector3DAttr,this.enabled.addModifiedCB(WalkSimulator_EnabledModifiedCB,this),this.linearDelta.addModifiedCB(WalkSimulator_LinearDeltaModifiedCB,this),this.angularDelta.addModifiedCB(WalkSimulator_AngularDeltaModifiedCB,this),this.registerAttribute(this.groundPlane,"groundPlane"),this.registerAttribute(this.linearDelta,"linearDelta"),this.registerAttribute(this.angularDelta,"angularDelta"),this.registerAttribute(this.linearSensitivity,"linearSensitivity"),this.registerAttribute(this.angularSensitivity,"angularSensitivity"),this.registerAttribute(this.resultLinear,"resultLinear"),this.registerAttribute(this.resultAngular,"resultAngular"),this.viewRelativeXAxisRotation.setValueDirect(!0),this.viewRelativeYAxisRotation.setValueDirect(!0),this.viewRelativeZAxisRotation.setValueDirect(!0),this.groundPlane.normal.setValueDirect(0,1,0)}function WalkSimulator_EnabledModifiedCB(t,e){e.enabledModified()}function WalkSimulator_LinearDeltaModifiedCB(t,e){e.evaluate()}function WalkSimulator_AngularDeltaModifiedCB(t,e){e.evaluate()}function Cube(){TriList.call(this),this.className="Cube",this.attrType=eAttrType.Cube,this.updateTriList=!0,this.transform=new Matrix4x4,this.updateTransform=!1,this.materialNode=new Material,this.updateMaterial=!1,this.color=new ColorAttr(1,1,1,1),this.opacity=new NumberAttr(1),this.position=new Vector3DAttr(0,0,0),this.rotation=new Vector3DAttr(0,0,0),this.scale=new Vector3DAttr(1,1,1),this.color.addModifiedCB(Cube_MaterialModifiedCB,this),this.opacity.addModifiedCB(Cube_MaterialModifiedCB,this),this.position.addModifiedCB(Cube_PositionModifiedCB,this),this.rotation.addModifiedCB(Cube_RotationModifiedCB,this),this.scale.addModifiedCB(Cube_ScaleModifiedCB,this),this.registerAttribute(this.color,"color"),this.registerAttribute(this.opacity,"opacity"),this.registerAttribute(this.position,"position"),this.registerAttribute(this.rotation,"rotation"),this.registerAttribute(this.scale,"scale");var t=[-.25,-.25,.25,-.25,.25,.25,-.25,.25,-.25,-.25,-.25,-.25,-.25,-.25,.25,-.25,.25,-.25,.25,-.25,-.25,.25,-.25,.25,-.25,-.25,.25,-.25,-.25,-.25,.25,-.25,-.25,-.25,-.25,.25,.25,-.25,-.25,-.25,.25,-.25,.25,.25,-.25,.25,-.25,-.25,-.25,-.25,-.25,-.25,.25,-.25,.25,-.25,.25,.25,.25,-.25,.25,.25,.25,.25,-.25,-.25,.25,.25,-.25,.25,-.25,.25,.25,.25,-.25,-.25,.25,.25,.25,.25,.25,.25,.25,-.25,-.25,.25,-.25,-.25,.25,.25,.25,-.25,.25,.25,.25,.25,-.25,.25,.25,-.25,-.25,.25,.25,-.25,.25,-.25,.25,.25],e=[-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1];this.vertices.setValue(t),this.normals.setValue(e),this.color.addTarget(this.materialNode.getAttribute("color")),this.opacity.addTarget(this.materialNode.getAttribute("opacity"))}function Cube_PositionModifiedCB(t,e){e.updateTransform=!0}function Cube_RotationModifiedCB(t,e){e.updateTransform=!0}function Cube_ScaleModifiedCB(t,e){e.updateTransform=!0}function Cube_MaterialModifiedCB(t,e){e.updateMaterial=!0}function ScreenRect(){TriList.call(this),this.className="ScreenRect",this.attrType=eAttrType.ScreenRect,this.primitiveType=RC_TRIANGLE_STRIP,this.textureColorMask=new ColorAttr(0,0,0,1),this.registerAttribute(this.textureColorMask,"textureColorMask");var t=[-1,-1,1,-1,1,1,1,-1,1,1,1,1],e=[0,0,-1,0,0,-1,0,0,-1,0,0,-1],i=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];this.vertices.setValueDirect(t),this.normals.setValueDirect(e),this.colors.setValueDirect(i)}function MorphEffector(){Evaluator.call(this),this.className="MorphEffector",this.attrType=eAttrType.MorphEffector,this.morphAmt=new NumberAttr(0),this.morphIncr=new NumberAttr(0),this.sourceVertices=new NumberArrayAttr,this.targetVertices=new NumberArrayAttr,this.resultVertices=new NumberArrayAttr,this.registerAttribute(this.morphAmt,"morphAmt"),this.registerAttribute(this.morphIncr,"morphIncr"),this.registerAttribute(this.sourceVertices,"sourceVertices"),this.registerAttribute(this.targetVertices,"targetVertices"),this.registerAttribute(this.resultVertices,"resultVertices")}function Bone(){AttributeContainer.call(this),this.className="Bone",this.attrType=eAttrType.Bone,this.parent=null,this.children=[],this.translationMatrix=new Matrix4x4,this.rotationMatrix=new Matrix4x4,this.rotationQuat=new Quaternion,this.scaleMatrix=new Matrix4x4,this.pivotMatrix=new Matrix4x4,this.matrix=new Matrix4x4,this.restMatrix=new Matrix4x4,this.restMatrixInv=new Matrix4x4,this.parentMatrix=new Matrix4x4,this.boneMatrix=new Matrix4x4,this.updatePosition=!1,this.updateRotation=!1,this.updateScale=!1,this.updatePivot=!1,this.updateRestPosition=!1,this.updateRestRotation=!1,this.updateRestLength=!1,this.updateFalloffType=!1,this.updateParentTransform=!1,this.updateParentRestTransform=!1,this.name=new StringAttr(""),this.position=new Vector3DAttr(0,0,0),this.rotation=new Vector3DAttr(0,0,0),this.scale=new Vector3DAttr(1,1,1),this.pivot=new Vector3DAttr(0,0,0),this.restPosition=new Vector3DAttr(0,0,0),this.restRotation=new Vector3DAttr(0,0,0),this.restLength=new NumberAttr(0),this.strength=new NumberAttr(0),this.falloffType=new NumberAttr(eBoneFalloffType.InverseDistance),this.scaleBoneStrength=new BooleanAttr(!1),this.transform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.parentTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.restTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.parentRestTransform=new Matrix4x4Attr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.position.addModifiedCB(Bone_PositionModifiedCB,this),this.rotation.addModifiedCB(Bone_RotationModifiedCB,this),this.scale.addModifiedCB(Bone_ScaleModifiedCB,this),this.pivot.addModifiedCB(Bone_PivotModifiedCB,this),this.restPosition.addModifiedCB(Bone_RestPositionModifiedCB,this),this.restRotation.addModifiedCB(Bone_RestRotationModifiedCB,this),this.restLength.addModifiedCB(Bone_RestLengthModifiedCB,this),this.falloffType.addModifiedCB(Bone_FalloffTypeModifiedCB,this),this.parentTransform.addModifiedCB(Bone_ParentTransformModifiedCB,this),this.parentRestTransform.addModifiedCB(Bone_ParentRestTransformModifiedCB,this),this.registerAttribute(this.name,"name"),this.registerAttribute(this.position,"position"),this.registerAttribute(this.rotation,"rotation"),this.registerAttribute(this.scale,"scale"),this.registerAttribute(this.pivot,"pivot"),this.registerAttribute(this.restPosition,"restPosition"),this.registerAttribute(this.restRotation,"restRotation"),this.registerAttribute(this.restLength,"restLength"),this.registerAttribute(this.strength,"strength"),this.registerAttribute(this.falloffType,"falloffType"),this.registerAttribute(this.scaleBoneStrength,"scaleBoneStrength")}function Bone_PositionModifiedCB(t,e){e.updatePosition=!0}function Bone_RotationModifiedCB(t,e){e.updateRotation=!0}function Bone_ScaleModifiedCB(t,e){e.updateScale=!0}function Bone_PivotModifiedCB(t,e){e.updatePivot=!0}function Bone_RestPositionModifiedCB(t,e){e.updateRestPosition=!0}function Bone_RestRotationModifiedCB(t,e){e.updateRestRotation=!0}function Bone_RestLengthModifiedCB(t,e){e.updateRestLength=!0}function Bone_FalloffTypeModifiedCB(t,e){e.updateFalloffType=!0}function Bone_ParentTransformModifiedCB(t,e){e.updateParentTransform=!0}function Bone_ParentRestTransformModifiedCB(t,e){e.updateParentRestTransform=!0}function BoneEffector(){Evaluator.call(this),this.className="BoneEffector",this.attrType=eAttrType.BoneEffector,this.bones=[],this.verticesArray=[],this.normalsArray=[],this.resultVerticesArray=[],this.resultNormalsArray=[],this.boneFalloffValuesMap=[],this.falloffSums=[],this.updateVertices=!1,this.updateNormals=!1,this.vertices=new NumberArrayAttr,this.normals=new NumberArrayAttr,this.resultVertices=new NumberArrayAttr,this.resultNormals=new NumberArrayAttr,this.vertices.addModifiedCB(BoneEffector_VerticesModifiedCB,this),this.normals.addModifiedCB(BoneEffector_NormalsModifiedCB,this),this.registerAttribute(this.vertices,"vertices"),this.registerAttribute(this.normals,"normals"),this.registerAttribute(this.resultVertices,"resultVertices"),this.registerAttribute(this.resultNormals,"resultNormals")
}function BoneEffector_VerticesModifiedCB(t,e){e.updateVertices=!0}function BoneEffector_NormalsModifiedCB(t,e){e.updateNormals=!0}function SnapConnector(){AttributeContainer.call(this),this.className="SnapConnector",this.attrType=eAttrType.SnapConnector,this.type=new StringAttr(""),this.normal=new Vector3DAttr(0,0,0),this.connected=new BooleanAttr(!1),this.registerAttribute(this.type,"type"),this.registerAttribute(this.normal,"normal"),this.registerAttribute(this.connected,"connected")}function SocketConnector(){SnapConnector.call(this),this.className="SocketConnector",this.attrType=eAttrType.SocketConnector,this.slot1=new SphereAttr,this.slot2=new SphereAttr,this.registerAttribute(this.slot1,"slot1"),this.registerAttribute(this.slot2,"slot2")}function PlugConnector(){SnapConnector.call(this),this.className="PlugConnector",this.attrType=eAttrType.PlugConnector,this.pin1=new SphereAttr,this.pin2=new SphereAttr,this.registerAttribute(this.pin1,"pin1"),this.registerAttribute(this.pin2,"pin2")}function SocketConnectors(){AttributeVector.call(this,new SocketConnectorAllocator),this.className="SocketConnectors",this.attrType=eAttrType.SocketConnectors,this.appendParsedElements.setValueDirect(!0)}function SocketConnectorAllocator(){}function PlugConnectors(){AttributeVector.call(this,new PlugConnectorAllocator),this.className="PlugConnectors",this.attrType=eAttrType.PlugConnectors,this.appendParsedElements.setValueDirect(!0)}function PlugConnectorAllocator(){}function PhysicsSimulator(){Evaluator.call(this),this.className="PhysicsSimulator",this.attrType=eAttrType.PhysicsSimulator,this.collisionConfiguration=null,this.dispatcher=null,this.overlappingPairCache=null,this.solver=null,this.world=null,this.physicsBodies=[],this.physicsShapes=[],this.bodyAdded=[],this.bodyModels=[],this.updateWorld=!1,this.updateBodies=!1,this.timeIncrement=new NumberAttr(0),this.timeScale=new NumberAttr(1),this.gravity=new Vector3DAttr(0,-9.8,0),this.worldHalfExtents=new Vector3DAttr(1e4,1e4,1e4),this.bodies=new AttributeVector(new StringAttrAllocator),this.bodies.getAttribute("appendParsedElements").setValueDirect(!0),this.gravity.addModifiedCB(PhysicsSimulator_GravityModifiedCB,this),this.bodies.addModifiedCB(PhysicsSimulator_BodiesModifiedCB,this),this.registerAttribute(this.timeIncrement,"timeIncrement"),this.registerAttribute(this.timeScale,"timeScale"),this.registerAttribute(this.gravity,"gravity"),this.registerAttribute(this.worldHalfExtents,"worldHalfExtents"),this.registerAttribute(this.bodies,"bodies"),this.initPhysics()}function PhysicsSimulator_GravityModifiedCB(t,e){e.updateWorld=!0}function PhysicsSimulator_BodiesModifiedCB(t,e){e.bodiesModified()}function PhysicsSimulator_ModelScaleModifiedCB(t,e){e.updatePhysicsShape(t.getContainer())}function PhysicsSimulator_ModelParentModifiedCB(t,e){e.updateBodies=!0}function getEventTypeByName(t){var e=eEventNameMap[t];if(void 0==e&&-1!=t.indexOf("VK")){var i=t,r="",o=t.indexOf(".");-1!=o&&(i=t.substring(0,o),r=t.substring(o+1));var n=eKeyCodeMap[i];if(n)switch(r){case"Down":e=eEventType.KeyDown_First+n;break;case"Up":default:e=eEventType.KeyUp_First+n}}return e}function Event(t,e,i){AttributeContainer.call(this),this.className="Event",this.type=t||eEventType.Unknown,this.time=e||0,this.userData=i||null}function InputEvent(t,e,i,r,o,n){Event.call(this,t,e,n),this.className="InputEvent",this.inputId=i||0,this.modifiers=r||0,this.state=o||0}function MouseEvent(t,e,i,r,o,n,a,s){InputEvent.call(this,t,e,i,r,o,s),this.className="MouseEvent",this.x=n||0,this.y=a||0}function KeyboardEvent(t,e,i,r,o,n){InputEvent.call(this,t,e,i,r,o,n),this.className="KeyboardEvent"}function MouseEventState(){this.leftButtonDown=!1,this.middleButtonDown=!1,this.rightButtonDown=!1}function EventAdapter(){AttributeContainer.call(this),this.className="EventAdapter",this.mouseState=new MouseEventState,this.name=new StringAttr("EventAdapter"),this.registerAttribute(this.name,"name")}function EventListener(){Agent.call(this),this.className="EventListener",this.events=[],this.listen=new BooleanAttr(!0),this.trigger=new StringAttr(""),this.numResponses=new NumberAttr(1),this.event=new StringAttr(""),this.event.addModifiedCB(EventListener_EventModifiedCB,this),this.registerAttribute(this.listen,"listen"),this.registerAttribute(this.trigger,"trigger"),this.registerAttribute(this.numResponses,"numResponses"),this.registerAttribute(this.event,"event")}function EventListener_EventModifiedCB(t,e){var i=getEventTypeByName(t.getValueDirect().join(""));e.addEventType(i)}function EventMgr(){AttributeContainer.call(this),this.className="EventMgr",this.listeners=[],this.name=new StringAttr("EventMgr"),this.registerAttribute(this.name,"name")}function DeviceHandler(){EventListener.call(this),this.className="DeviceHandler",this.attrType=eAttrType.DeviceHandler,this.inputMessage=new NumberAttr(0),this.inputId=new NumberAttr(0),this.inputModifier=new NumberAttr(0),this.inputState=new NumberAttr(0),this.prevInputState=new NumberAttr(0),this.output=new StringAttr(""),this.registerAttribute(this.inputMessage,"inputMessage"),this.registerAttribute(this.inputId,"inputId"),this.registerAttribute(this.inputModifier,"inputModifier"),this.registerAttribute(this.inputState,"inputState"),this.registerAttribute(this.prevInputState,"prevInputState"),this.registerAttribute(this.output,"output"),this.numResponses.setValueDirect(-1)}function MouseHandler(){DeviceHandler.call(this),this.className="MouseHandler",this.attrType=eAttrType.MouseHandler,this.name.setValueDirect("MouseHandler"),this.lastX=0,this.lastY=0,this.x=new NumberAttr(0),this.y=new NumberAttr(0),this.deltaX=new NumberAttr(0),this.deltaY=new NumberAttr(0),this.delta=new Vector2DAttr(0,0),this.registerAttribute(this.x,"deviceX"),this.registerAttribute(this.y,"deviceY"),this.registerAttribute(this.deltaX,"deltaX"),this.registerAttribute(this.deltaY,"deltaY"),this.registerAttribute(this.delta,"delta"),this.addEventType(eEventType.MouseMove),this.addEventType(eEventType.MouseLeftDown)}function KeyboardHandler(){DeviceHandler.call(this),this.className="KeyboardHandler",this.attrType=eAttrType.KeyboardHandler,this.name.setValueDirect("KeyboardHandler"),this.keyString=new StringAttr,this.registerAttribute(this.keyString,"keyString")}function Command(){EventListener.call(this),this.className="Command",this.attrType=eAttrType.Command,this.borrowedAttributes=[],this.attributeValuePairs=[],this.attributeRefPairs=[],this.target=new StringAttr(""),this.registerAttribute(this.target,"target")}function SetCommand(){Command.call(this),this.className="Set",this.attrType=eAttrType.Set,this.target.addModifiedCB(SetCommand_TargetModifiedCB,this)}function SetCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=i.split(",");e.targets.length=0;for(var o=0;o<r.length;o++){var n=e.registry.find(r[o]);n&&e.registerTargetAttributes(n,r[o])}setAttributeBin(e.attributeValuePairs)}function ConnectionDesc(){this.sourceContainer=null,this.targetContainer=null,this.sourceAttribute=null,this.targetAttribute=null,this.sourceAttributeName="",this.targetAttributeName="",this.sourceIndex=-1,this.targetIndex=-1}function registerConnectionHelper(t,e,i){gConnectionHelpers[t]=new Pair(e,i)}function ConnectAttributesCommand(){Command.call(this),this.className="ConnectAttributes",this.attrType=eAttrType.ConnectAttributes,this.connections=new Stack,this.connectionHelper=new Pair(null,null),this.sourceContainer=new StringAttr(""),this.targetContainer=new StringAttr(""),this.sourceAttribute=new StringAttr(""),this.targetAttribute=new StringAttr(""),this.source=new StringAttr(""),this.negate=new BooleanAttr(!1),this.persist=new BooleanAttr(!0),this.connectionType=new StringAttr(""),this.source.addTarget(this.sourceAttribute),this.target.addTarget(this.targetAttribute),this.sourceContainer.addModifiedCB(ConnectAttributesCommand_SourceContainerModifiedCB,this),this.targetContainer.addModifiedCB(ConnectAttributesCommand_TargetContainerModifiedCB,this),this.sourceAttribute.addModifiedCB(ConnectAttributesCommand_SourceAttributeModifiedCB,this),this.targetAttribute.addModifiedCB(ConnectAttributesCommand_TargetAttributeModifiedCB,this),this.connectionType.addModifiedCB(ConnectAttributesCommand_ConnectionTypeModifiedCB,this),this.negate.addModifiedCB(ConnectAttributesCommand_NegateModifiedCB,this),this.registerAttribute(this.sourceContainer,"sourceContainer"),this.registerAttribute(this.sourceContainer,"sourceEvaluator"),this.registerAttribute(this.targetContainer,"targetContainer"),this.registerAttribute(this.sourceAttribute,"sourceAttribute"),this.registerAttribute(this.sourceAttribute,"sourceOutput"),this.registerAttribute(this.targetAttribute,"targetAttribute"),this.registerAttribute(this.source,"source"),this.registerAttribute(this.negate,"negate"),this.registerAttribute(this.persist,"persist"),this.registerAttribute(this.connectionType,"connectionType")}function ConnectAttributesCommand_SourceContainerModifiedCB(t,e){0==e.connections.length()&&e.connections.push(new ConnectionDesc);var i=e.connections.top();i.sourceContainer=e.registry.find(t.getValueDirect().join(""))}function ConnectAttributesCommand_TargetContainerModifiedCB(t,e){0==e.connections.length()&&e.connections.push(new ConnectionDesc);var i=e.connections.top();i.targetContainer=e.registry.find(t.getValueDirect().join(""))}function ConnectAttributesCommand_SourceAttributeModifiedCB(t,e){var i=null,r=-1;0==e.connections.length()&&e.connections.push(new ConnectionDesc);var o=e.connections.top();if(o.sourceContainer){var n=t.getValueDirect().join("").split(":");i=o.sourceContainer.getAttribute(n[0]),n.length>1&&(r=n[1])}else i=e.registry.find(t.getValueDirect().join("")),i&&(o.sourceContainer=i.getContainer(),o.sourceContainer||(o.sourceContainer=i));o.sourceAttribute=i,o.sourceAttributeName=t.getValueDirect().join(""),o.sourceIndex=r,o.sourceAttribute&&o.targetAttribute&&(e.connections.push(new ConnectionDesc),e.connections.top().sourceContainer=o.sourceContainer,e.connections.top().targetContainer=o.targetContainer)}function ConnectAttributesCommand_TargetAttributeModifiedCB(t,e){var i=null,r=-1;0==e.connections.length()&&e.connections.push(new ConnectionDesc);var o=e.connections.top();if(o.targetContainer){var n=t.getValueDirect().join("").split(":");i=o.targetContainer.getAttribute(n[0]),n.length>1&&(r=n[1])}else i=e.registry.find(t.getValueDirect().join("")),i&&(o.targetContainer=i.getContainer(),o.targetContainer||(o.targetContainer=i));o.targetAttribute=i,o.targetAttributeName=t.getValueDirect().join(""),o.targetIndex=r,o.sourceAttribute&&o.targetAttribute&&(e.connections.push(new ConnectionDesc),e.connections.top().sourceContainer=o.sourceContainer,e.connections.top().targetContainer=o.targetContainer)}function ConnectAttributesCommand_ConnectionTypeModifiedCB(t,e){var i=gConnectionHelpers[t.getValueDirect().join("")];i&&(e.connectionHelper.first=i.first,e.connectionHelper.second=i.second)}function ConnectAttributesCommand_NegateModifiedCB(t,e){var i=t.getValueDirect();i?(e.className="DisconnectAttributes",e.attrType=eAttrType.DisconnectAttributes):(e.className="ConnectAttributes",e.attrType=eAttrType.ConnectAttributes)}function AutoInterpolateCommand(){Command.call(this),this.className="AutoInterpolate",this.attrType=eAttrType.AutoInterpolate,this.kfi=null,this.numValueChannels=0,this.numReferenceChannels=0,this.numChannels=0,this.shape=new NumberAttr(eKeyframeShape.Linear),this.duration=new NumberAttr(1),this.preBehavior=new NumberAttr(eEndBehavior.Constant),this.postBehavior=new NumberAttr(eEndBehavior.Constant),this.renderAndRelease=new BooleanAttr(!0),this.target.addModifiedCB(AutoInterpolateCommand_TargetModifiedCB,this),this.registerAttribute(this.shape,"shape"),this.registerAttribute(this.duration,"duration"),this.registerAttribute(this.preBehavior,"preBehavior"),this.registerAttribute(this.postBehavior,"postBehavior"),this.registerAttribute(this.renderAndRelease,"renderAndRelease")}function AutoInterpolateCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=i.split(",");e.targets.length=0;for(var o=0;o<r.length;o++){var n=e.registry.find(r[o]);n&&e.registerTargetAttributes(n,r[o])}setAttributeBin(e.attributeValuePairs),setAttributePairs(e.attributeRefPairs)}function MotionInterpolateCommand(){AutoInterpolateCommand.call(this),this.className="MotionInterpolateCommand",this.startPosition=new Vector3DAttr,this.endPosition=new Vector3DAttr,this.resultPosition=new Vector3DAttr,this.positionControl=new Vector3DAttr,this.easeIn=new BooleanAttr(!0),this.easeOut=new BooleanAttr(!0),this.midPosition=new Vector3DAttr,this.registerAttribute(this.startPosition,"startPosition"),this.registerAttribute(this.endPosition,"endPosition"),this.registerAttribute(this.resultPosition,"resultPosition"),this.registerAttribute(this.positionControl,"positionControl"),this.registerAttribute(this.easeIn,"easeIn"),this.registerAttribute(this.easeOut,"easeOut")}function MotionInterpolateCommand_ResultPositionModifiedCB(t){var e=t.getValueDirect();OutputDebugMsg("x: "+e.x+" y: "+e.y+" z: "+e.z+"\n")}function LocateCommand(){Command.call(this),this.className="LocateCommand",this.attrType=eAttrType.Locate,this.targetNode=null,this.directive=new BBoxDirective,this.locator=new BBoxLocator,this.inspector=null,this.duration=new NumberAttr(1),this.transition=new BooleanAttr(!0),this.updateClipPlanes=new BooleanAttr(!1),this.shape=new NumberAttr(eKeyframeShape.TCB),this.easeIn=new BooleanAttr(!0),this.easeOut=new BooleanAttr(!0),this.resultPosition=new Vector3DAttr,this.resultFarDistance=new NumberAttr,this.resultWidth=new NumberAttr,this.target.addModifiedCB(LocateCommand_TargetModifiedCB,this),this.registerAttribute(this.duration,"duration"),this.registerAttribute(this.transition,"transition"),this.registerAttribute(this.updateClipPlanes,"updateClipPlanes"),this.registerAttribute(this.shape,"shape"),this.registerAttribute(this.easeIn,"easeIn"),this.registerAttribute(this.easeOut,"easeOut"),this.registerAttribute(this.resultPosition,"resultPosition"),this.registerAttribute(this.resultFarDistance,"resultFarDistance"),this.registerAttribute(this.resultWidth,"resultWidth"),this.registerAttribute(this.locator.getAttribute("closeness"),"closeness"),this.registerAttribute(this.locator.getAttribute("resultPivotDistance"),"resultPivotDistance")}function LocateCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=e.registry.find(i);r?(e.targetNode=r,e.inspector=e.registry.find("SceneInspector")):console.debug("TODO: "+arguments.callee.name)}function PlayCommand(){Command.call(this),this.className="Play",this.attrType=eAttrType.Play,this.evaluators=[],this.negate=new BooleanAttr(!1),this.registerAttribute(this.negate,"negate"),this.target.addModifiedCB(PlayCommand_TargetModifiedCB,this),this.negate.addModifiedCB(PlayCommand_NegateModifiedCB,this)}function PlayCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=i.split(",");e.targets.length=0;for(var o=0;o<r.length;o++){var n=e.registry.find(r[o]);n&&(e.evaluators[o]=n)}}function PlayCommand_NegateModifiedCB(t,e){var i=t.getValueDirect();i?(e.className="Pause",e.attrType=eAttrType.Pause):(e.className="Play",e.attrType=eAttrType.Play)}function RemoveCommand(){Command.call(this),this.className="RemoveCommand",this.attrType=eAttrType.Remove,this.targetAttribute=null,this.target.addModifiedCB(RemoveCommand_TargetModifiedCB,this)}function RemoveCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join("");e.targetAttribute=e.registry.find(i)}function StopCommand(){Command.call(this),this.className="Stop",this.attrType=eAttrType.Stop,this.evaluators=[],this.target.addModifiedCB(StopCommand_TargetModifiedCB,this)}function StopCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=i.split(",");e.targets.length=0;for(var o=0;o<r.length;o++){var n=e.registry.find(r[o]);n&&(e.evaluators[o]=n)}}function CommandSequence(){Command.call(this),this.className="CommandSequence",this.attrType=eAttrType.CommandSequence,this.sequence=[]}function CommandMgr(){AttributeContainer.call(this),this.className="CommandMgr",this.commandSeqStack=new Stack,this.name=new StringAttr("CommandMgr"),this.registerAttribute(this.name,"name")}function CommandMgr_CommandTriggerModifiedCB(t,e){this.createCommandTrigger(t,e)}function AttributeTrigger(t,e,i,r,o,n){this.input=t,this.trigger=e,this.target=i,this.lastValues=[],this.input.getValue(this.lastValues),this.attrType=eAttrType.AttributeTrigger,this.item=r,this.not=o,this.executionCount=n,this.input.addModifiedCB(AttributeTrigger_InputModifiedCB,this);var a=this.input.getLength();1==a&&(this.item=0)}function AttributeTrigger_InputModifiedCB(t,e){e.execute()}function BwRegistry(){AttributeRegistry.call(this),this.className="BwRegistry",this.attrType=eAttrType.AttributeRegistry,this.rootPtr=new ReferenceAttr(null),this.subtreePtr=new ReferenceAttr(null),this.sgPointer=new StringAttr(""),this.maxAnimationTimeInSecs=new NumberAttr(0),this.rootPtr.addModifiedCB(BwRegistry_RootPtrModifiedCB,this),this.sgPointer.addModifiedCB(BwRegistry_SgPointerModifiedCB,this),this.registerAttribute(this.rootPtr,"rootPtr"),this.registerAttribute(this.subtreePtr,"subtreePtr"),this.registerAttribute(this.sgPointer,"sgPointer"),this.registerAttribute(this.maxAnimationTimeInSecs,"maxAnimationTimeInSecs"),this.registerByName(this,"NodeMgr"),this.registerByName(this,"EvaluatorMgr")}function BwRegistry_RootPtrModifiedCB(t){t.getValueDirect()}function BwRegistry_SgPointerModifiedCB(t,e){e.sgPointerModified()}function BwSceneInspector(){SceneInspector.call(this),this.className="BwSceneInspector",this.attrType=eAttrType.SceneInspector,this.viewport=new Viewport,this.worldUnitsPerPixel=new Vector2D,this.clickPosWorld=new Vector3D,this.last_d3=0,this.translationSensitivity=new Vector3DAttr(1,1,1),this.panSensitivity=new Vector3DAttr(1,1,1),this.trackSensitivity=new Vector3DAttr(1,1,1),this.rotationSensitivity=new Vector3DAttr(1,1,1),this.zoomSensitivity=new NumberAttr(1),this.invertedTranslationDelta=new Vector3DAttr(0,0,0),this.invertedPanDelta=new Vector3DAttr(0,0,0),this.invertedTrackDelta=new Vector3DAttr(0,0,0),this.invertedRotationDelta=new Vector3DAttr(0,0,0),this.zoomDelta=new NumberAttr(0),this.invertedZoomDelta=new NumberAttr(0),this.selectionOccurred=new BooleanAttr(!1),this.viewRelativeTranslationDelta=new Vector3DAttr(0,0,0),this.translationDelta.addModifiedCB(BwSceneInspector_TranslationDeltaModifiedCB,this),this.panDelta.addModifiedCB(BwSceneInspector_PanDeltaModifiedCB,this),this.trackDelta.addModifiedCB(BwSceneInspector_TrackDeltaModifiedCB,this),this.rotationDelta.addModifiedCB(BwSceneInspector_RotationDeltaModifiedCB,this),this.invertedTranslationDelta.addModifiedCB(BwSceneInspector_InvertedTranslationDeltaModifiedCB,this),this.invertedPanDelta.addModifiedCB(BwSceneInspector_InvertedPanDeltaModifiedCB,this),this.invertedTrackDelta.addModifiedCB(BwSceneInspector_InvertedTrackDeltaModifiedCB,this),this.invertedRotationDelta.addModifiedCB(BwSceneInspector_InvertedRotationDeltaModifiedCB,this),this.zoomDelta.addModifiedCB(BwSceneInspector_ZoomDeltaModifiedCB,this),this.invertedZoomDelta.addModifiedCB(BwSceneInspector_InvertedZoomDeltaModifiedCB,this),this.selectionOccurred.addModifiedCB(BwSceneInspector_SelectionOccurredCB,this),this.viewRelativeTranslationDelta.addModifiedCB(BwSceneInspector_TrackDeltaModifiedCB,this),this.registerAttribute(this.translationSensitivity,"translationSensitivity"),this.registerAttribute(this.panSensitivity,"panSensitivity"),this.registerAttribute(this.trackSensitivity,"trackSensitivity"),this.registerAttribute(this.rotationSensitivity,"rotationSensitivity"),this.registerAttribute(this.zoomSensitivity,"zoomSensitivity"),this.registerAttribute(this.invertedTranslationDelta,"invertedTranslationDelta"),this.registerAttribute(this.invertedPanDelta,"invertedPanDelta"),this.registerAttribute(this.invertedTrackDelta,"invertedTrackDelta"),this.registerAttribute(this.invertedRotationDelta,"invertedRotationDelta"),this.registerAttribute(this.zoomDelta,"zoomDelta"),this.registerAttribute(this.invertedZoomDelta,"invertedZoomDelta"),this.registerAttribute(this.selectionOccurred,"selectionOccurred"),this.registerAttribute(this.viewRelativeTranslationDelta,"viewRelativeTranslationDelta"),this.orphan.setValueDirect(!0),this.enabled.addModifiedCB(BwSceneInspector_EnabledModifiedCB,this)}function BwSceneInspector_TranslationDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.translate(t.getValueDirect())}function BwSceneInspector_PanDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.pan(t.getValueDirect())}function BwSceneInspector_TrackDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.track(t.getValueDirect())}function BwSceneInspector_RotationDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.rotate(t.getValueDirect())}function BwSceneInspector_InvertedTranslationDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();if(i){var r=t.getValueDirect();r.x*=-1,r.y*=-1,r.z*=-1,e.translate(r),(0!=r.x||0!=r.y||0!=r.z)&&alert("rotate")}}function BwSceneInspector_InvertedPanDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();if(i){var r=t.getValueDirect();r.x*=-1,r.y*=-1,r.z*=-1,e.pan(r)}}function BwSceneInspector_InvertedTrackDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();if(i){var r=t.getValueDirect();r.x*=-1,r.y*=-1,r.z*=-1,e.track(r)}}function BwSceneInspector_InvertedRotationDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();if(i){var r=t.getValueDirect();r.x*=-1,r.y*=-1,r.z*=-1,e.rotate(r)}}function BwSceneInspector_ZoomDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.zoom(t.getValueDirect())}function BwSceneInspector_InvertedZoomDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.zoom(-1*t.getValueDirect())}function BwSceneInspector_SelectionOccurredCB(t,e){var i=e.registry.find("Selector");if(i){i.selections.viewports.length>0&&e.viewport.loadViewport(i.selections.viewports[0]),e.clickPosWorld.copy(i.getAttribute("pointWorld").getValueDirect());var r=i.getAttribute("pointView").getValueDirect();e.getWorldUnitsPerPixel(r.z)}}function BwSceneInspector_EnabledModifiedCB(t){t.getValueDirect()}function ObjectInspector(){ArcballInspector.call(this),this.className="ObjectInspector",this.attrType=eAttrType.ObjectInspector,this.camera=null,this.selectedObjects=[],this.pointView=new Vector3DAttr(1,1,1),this.translationDelta=new Vector3DAttr(0,0,0),this.rotationDelta=new Vector3DAttr(0,0,0),this.translationNow=new Vector3DAttr(0,0,0),this.rotationNow=new Vector3DAttr(0,0,0),this.selectionOccurred=new BooleanAttr(!1),this.selectionCleared=new BooleanAttr(!1),this.translationDelta.addModifiedCB(ObjectInspector_TranslationDeltaModifiedCB,this),this.rotationDelta.addModifiedCB(ObjectInspector_RotationDeltaModifiedCB,this),this.translationNow.addModifiedCB(ObjectInspector_TranslationNowModifiedCB,this),this.rotationNow.addModifiedCB(ObjectInspector_RotationNowModifiedCB,this),this.selectionOccurred.addModifiedCB(ObjectInspector_SelectionOccurredCB,this),this.selectionCleared.addModifiedCB(ObjectInspector_SelectionClearedCB,this),this.registerAttribute(this.pointView,"pointView"),this.registerAttribute(this.translationDelta,"translationDelta"),this.registerAttribute(this.rotationDelta,"rotationDelta"),this.registerAttribute(this.translationNow,"translationNow"),this.registerAttribute(this.rotationNow,"rotationNow"),this.registerAttribute(this.selectionOccurred,"selectionOccurred"),this.registerAttribute(this.selectionCleared,"selectionCleared"),this.orphan.setValueDirect(!0),this.enabled.addModifiedCB(ObjectInspector_EnabledModifiedCB,this)}function ObjectInspector_TranslationDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.translationDeltaModified()}function ObjectInspector_RotationDeltaModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.rotationDeltaModified()}function ObjectInspector_TranslationNowModifiedCB(){}function ObjectInspector_RotationNowModifiedCB(t,e){var i=e.enabled.getValueDirect();i&&e.rotationNowModified()}function ObjectInspector_SelectionOccurredCB(t,e){var i=e.enabled.getValueDirect();i&&e.runSelectionOccurred()}function ObjectInspector_SelectionClearedCB(t,e){e.runSelectionCleared()}function ObjectInspector_EnabledModifiedCB(t,e){console.debug("ObjectInspector.enable modified: "+e.enabled.getValueDirect().toString())}function ConnectionMgr(){AttributeContainer.call(this),this.className="ConnectionMgr",this.name=new StringAttr("ConnectionMgr"),this.registerAttribute(this.name,"name"),registerConnectionHelper("DisconnectAllTargets",null,ConnectionMgr.prototype.disconnectAllTargets),registerConnectionHelper("dissolve",ConnectionMgr.prototype.connectDissolve,ConnectionMgr.prototype.disconnectDissolve),registerConnectionHelper("walkSimulation",ConnectionMgr.prototype.connectWalkSimulation,ConnectionMgr.prototype.disconnectWalkSimulation)}function RenderAgent(t){Agent.call(this),this.className="RenderAgent",this.bridgeworks=t,this.name.setValueDirect("RenderAgent"),this.timer=new Timer,this.frameRate=new NumberAttr(0),this.desiredFrameRate=new NumberAttr(30),this.timeIncrement=new NumberAttr(0),this.globalTimeInSecs=new NumberAttr(0),this.elapsedTimeInSecs=new NumberAttr(0),this.desiredFrameRate.addModifiedCB(RenderAgent_DesiredFrameRateModified,this),this.globalTimeInSecs.addModifiedCB(RenderAgent_GlobalTimeInSecsModified,this),this.registerAttribute(this.frameRate,"frameRate"),this.registerAttribute(this.desiredFrameRate,"desiredFrameRate"),this.registerAttribute(this.timeIncrement,"timeIncrement"),this.registerAttribute(this.globalTimeInSecs,"globalTimeInSecs"),this.registerAttribute(this.elapsedTimeInSecs,"elapsedTimeInSecs")}function RenderAgent_DesiredFrameRateModified(){}function RenderAgent_GlobalTimeInSecsModified(t,e){var i=e.registry.find("RenderAgent");i.globalTimeInSecsModified()}function RenderController(t){AttributeContainer.call(this),this.className="RenderController",this.playState=ePlayState.Pause,this.renderAgent=t.renderAgent}function Selections(){this.viewports=[],this.cameras=[],this.lights=[],this.models=[],this.surfaces=[],this.labels=[],this.clear=function(){this.viewports=[],this.cameras=[],this.lights=[],this.models=[],this.surfaces=[],this.labels=[]}}function SelectionListener(){EventListener.call(this),this.className="SelectionListener",this.name.setValueDirect("Selector"),this.rayPick=null,this.selections=new Selections,this.selected=null,this.selectionOccurred=new PulseAttr,this.selectionCleared=new PulseAttr,this.pointView=new Vector3DAttr,this.pointWorld=new Vector3DAttr,this.pointObject=new Vector3DAttr,this.pointGeo=new Vector3DAttr,this.triIndex=new NumberAttr,this.distance=new NumberAttr,this.distanceFromScreenCenter=new NumberAttr,this.computePivotDistance=new BooleanAttr(!0),this.selectedName=new StringAttr,this.selectedElement=new NumberAttr(-1),this.lastSelectedName=new StringAttr,this.pointWorld.addModifiedCB(SelectionListener_PointWorldModifiedCB,this),this.registerAttribute(this.selectionOccurred,"selectionOccurred"),this.registerAttribute(this.selectionCleared,"selectionCleared"),this.registerAttribute(this.pointView,"pointView"),this.registerAttribute(this.pointWorld,"pointWorld"),this.registerAttribute(this.pointObject,"pointObject"),this.registerAttribute(this.pointGeo,"pointGeo"),this.registerAttribute(this.triIndex,"triIndex"),this.registerAttribute(this.distance,"distance"),this.registerAttribute(this.distanceFromScreenCenter,"distanceFromScreenCenter"),this.registerAttribute(this.computePivotDistance,"computePivotDistance"),this.registerAttribute(this.selectedName,"selectedName"),this.registerAttribute(this.lastSelectedName,"lastSelectedName"),this.numResponses.setValueDirect(-1)}function SelectionListener_ClickPointModifiedCB(t,e){e.clickPointModified()}function SelectionListener_PointWorldModifiedCB(){}function ViewportLayout(){AttributeContainer.call(this),this.className="ViewportLayout",this.name=new StringAttr("ViewportLayout"),this.width=new NumberAttr(0),this.height=new NumberAttr(0),this.registerAttribute(this.name,"name"),this.registerAttribute(this.width,"width"),this.registerAttribute(this.height,"height")}function GridLayout(){ViewportLayout.call(this),this.className="GridLayout",this.name.setValueDirect("GridLayout"),this.rows=new NumberAttr(1),this.cols=new NumberAttr(1),this.registerAttribute(this.rows,"rows"),this.registerAttribute(this.cols,"cols")}function ViewportMgr(){AttributeContainer.call(this),this.className="ViewportMgr",this.name=new StringAttr("ViewportMgr"),this.cursor=new StringAttr("Arrow"),this.width=new NumberAttr(0),this.height=new NumberAttr(0),this.layout=new ReferenceAttr(null),this.cursor.addModifiedCB(ViewportMgr_CursorModifiedCB,this),this.width.addModifiedCB(ViewportMgr_WidthModifiedCB,this),this.height.addModifiedCB(ViewportMgr_HeightModifiedCB,this),this.layout.addModifiedCB(ViewportMgr_LayoutModifiedCB,this),this.registerAttribute(this.name,"name"),this.registerAttribute(this.cursor,"cursor"),this.registerAttribute(this.width,"width"),this.registerAttribute(this.height,"height"),this.registerAttribute(this.layout,"layout")}function ViewportMgr_CursorModifiedCB(){}function ViewportMgr_WidthModifiedCB(t,e){var i=e.layout.getValueDirect();i&&i.getAttribute("width").setValueDirect(t.getValueDirect())}function ViewportMgr_HeightModifiedCB(t,e){var i=e.layout.getValueDirect();i&&i.getAttribute("height").setValueDirect(t.getValueDirect())}function ViewportMgr_LayoutModifiedCB(t,e){var i=t.getValueDirect();i&&(i.getAttribute("width").setValueDirect(e.width.getValueDirect()),i.getAttribute("height").setValueDirect(e.height.getValueDirect()))}function RasterComponentEventListener(){EventListener.call(this),this.className="RasterComponentEventListener",this.rcs=[],this.rcsSelectionState=[],this.rcListenMap=[],this.rcEventMap=[],this.styleMgr=null,this.selectionEvent=new InputEvent(eEventType.Unknown,0,4294967295,0,eEventType.Key_Up),this.name.setValueDirect("RasterComponentEventListener"),this.numResponses.setValueDirect(-1)}function addInspectionGroup(t,e){var i=getInspectionGroup(t);if(!i){var r=new Group;r.setGraphMgr(e.graphMgr);var o=new Translate;o.setGraphMgr(e.graphMgr);var n=new Scale;n.setGraphMgr(e.graphMgr);var a=new QuaternionRotate;a.setGraphMgr(e.graphMgr);var s=new Translate;s.setGraphMgr(e.graphMgr);var l=new Scale;l.setGraphMgr(e.graphMgr),a.addModifiedCB(Util_InspectionGroup_RotationQuatModifiedCB,t),r.name.setValueDirect("InspectionGroup"),o.name.setValueDirect("Translate"),n.name.setValueDirect("ScaleInverse"),a.name.setValueDirect("Quaternion"),s.name.setValueDirect("TranslateBack"),l.name.setValueDirect("Scale"),r.addChild(o),r.addChild(n),r.addChild(a),r.addChild(l),r.addChild(s);var c=t.getChild(0);c&&c.insertChild(r,0),t.registerAttribute(o.translation,"inspectionGroup_translate"),t.registerAttribute(n.scale,"inspectionGroup_scaleInverse"),t.registerAttribute(a.rotationQuat,"inspectionGroup_rotationQuat"),t.registerAttribute(a.enabled,"inspectionGroup_rotationEnabled"),t.registerAttribute(l.scale,"inspectionGroup_scale"),t.registerAttribute(s.translation,"inspectionGroup_translateBack"),o.translation.setContainer(t),n.scale.setContainer(t),a.rotationQuat.setContainer(t),a.enabled.setContainer(t),l.scale.setContainer(t),s.translation.setContainer(t)}}function deleteInspectionGroup(t){var e=getInspectionGroup(t);e&&(e.getChild(0).getAttribute("translation").setContainer(e.getChild(0)),e.getChild(1).getAttribute("scale").setContainer(e.getChild(1)),e.getChild(2).getAttribute("rotationQuat").setContainer(e.getChild(2)),e.getChild(2).getAttribute("enabled").setContainer(e.getChild(2)),e.getChild(3).getAttribute("scale").setContainer(e.getChild(3)),e.getChild(4).getAttribute("translation").setContainer(e.getChild(4)),t.unregisterAttribute(t.getAttribute("inspectionGroup_translate")),t.unregisterAttribute(t.getAttribute("inspectionGroup_scaleInverse")),t.unregisterAttribute(t.getAttribute("inspectionGroup_rotationQuat")),t.unregisterAttribute(t.getAttribute("inspectionGroup_rotationEnabled")),t.unregisterAttribute(t.getAttribute("inspectionGroup_scale")),t.unregisterAttribute(t.getAttribute("inspectionGroup_translateBack")),t.removeChild(e))
}function getInspectionGroup(t){var e=null,i=t.getChild(0);return i&&(e=i.getNamedChild("InspectionGroup")),e}function setInspectionGroupActivationState(t,e){var i=getInspectionGroup(t);if(i){var r=i.getChild(2);if(r&&(r.enabled.setValueDirect(e),!e)){var o=new Quaternion;o.loadIdentity();var n=r.rotationQuat;n.setValueDirect(o)}var a=t.getAttribute("position");if(e)t in g_objPosMap||(g_objPosMap[t]=a.getValueDirect());else{var s=g_objPosMap[t];a.setValueDirect(s)}}}function setInspectionGroupContainer(t){var e=getInspectionGroup(t);e&&(t.unregisterAttribute(t.getAttribute("inspectionGroup_translate")),t.unregisterAttribute(t.getAttribute("inspectionGroup_scaleInverse")),t.unregisterAttribute(t.getAttribute("inspectionGroup_rotationQuat")),t.unregisterAttribute(t.getAttribute("inspectionGroup_rotationEnabled")),t.unregisterAttribute(t.getAttribute("inspectionGroup_scale")),t.unregisterAttribute(t.getAttribute("inspectionGroup_translateBack")),t.registerAttribute(e.getChild(0).getAttribute("translation"),"inspectionGroup_translate"),t.registerAttribute(e.getChild(1).getAttribute("scale"),"inspectionGroup_scaleInverse"),t.registerAttribute(e.getChild(2).getAttribute("rotationQuat"),"inspectionGroup_rotationQuat"),t.registerAttribute(e.getChild(2).getAttribute("enabled"),"inspectionGroup_rotationEnabled"),t.registerAttribute(e.getChild(3).getAttribute("scale"),"inspectionGroup_scale"),t.registerAttribute(e.getChild(4).getAttribute("translation"),"inspectionGroup_translateBack"),e.getChild(0).getAttribute("translation").setContainer(t),e.getChild(1).getAttribute("scale").setContainer(t),e.getChild(2).getAttribute("rotationQuat").setContainer(t),e.getChild(2).getAttribute("enabled").setContainer(t),e.getChild(3).getAttribute("scale").setContainer(t),e.getChild(4).getAttribute("translation").setContainer(t))}function zeroInspectionGroup(t){var e=getInspectionGroup(t);if(e){var i=e.getChild(2);if(i){var r=new Quaternion;r.loadIdentity();var o=i.rotationQuat;o.setValueDirect(r)}}}function clearObjectPositionMap(){g_objPosMap={}}function Util_InspectionGroup_RotationQuatModifiedCB(t,e){e.setModified()}function SerializeCommand(){Command.call(this),this.className="Serialize",this.attrType=eAttrType.Serialize,this.targetAttribute=null,this.target.addModifiedCB(SerializeCommand_TargetModifiedCB,this),this.directive=null,this.serialized=""}function SerializeCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join("");e.targetAttribute=e.registry.find(i)}function ScreenCaptureCommand(){Command.call(this),this.className="ScreenCapture",this.attrType=eAttrType.ScreenCapture,this.canvasId=new StringAttr,this.registerAttribute(this.canvasId,"canvasId"),this.numResponses.setValueDirect(0)}function ExportCommand(){Command.call(this),this.className="Export",this.attrType=eAttrType.Export,this.targetNode=null,this.url=new StringAttr,this.target.addModifiedCB(ExportCommand_TargetModifiedCB,this),this.registerAttribute(this.url,"url")}function ExportCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=e.registry.find(i);r&&(e.targetNode=r)}function MorphCommand(){Command.call(this),this.className="Morph",this.attrType=eAttrType.Morph,this.sourceModel=null,this.targetModel=null,this.source=new StringAttr(""),this.morphIncr=new NumberAttr(.1),this.source.addModifiedCB(MorphCommand_SourceModifiedCB,this),this.target.addModifiedCB(MorphCommand_TargetModifiedCB,this),this.registerAttribute(this.source,"source"),this.registerAttribute(this.morphIncr,"morphIncr")}function MorphCommand_SourceModifiedCB(t,e){var i=t.getValueDirect().join(""),r=e.registry.find(i);r&&(e.sourceModel=r)}function MorphCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=e.registry.find(i);r&&(e.targetModel=r)}function SnapToCommand(){Command.call(this),this.className="SnapTo",this.attrType=eAttrType.SnapTo,this.plugModel=null,this.socketModel=null,this.socket=new StringAttr(""),this.plug=new StringAttr(""),this.slot=new NumberAttr(0),this.socketConnector=new SocketConnector,this.plugConnector=new PlugConnector,this.target.addModifiedCB(SnapToCommand_TargetModifiedCB,this),this.socket.addModifiedCB(SnapToCommand_TargetModifiedCB,this),this.plug.addModifiedCB(SnapToCommand_PlugModifiedCB,this),this.registerAttribute(this.socket,"socket"),this.registerAttribute(this.plug,"plug"),this.registerAttribute(this.slot,"slot"),this.registerAttribute(this.socketConnector,"socketConnector"),this.registerAttribute(this.plugConnector,"plugConnector"),this.target.addTarget(this.socket,null,null,!1)}function SnapToCommand_TargetModifiedCB(t,e){var i=t.getValueDirect().join(""),r=e.registry.find(i);r&&(e.socketModel=r)}function SnapToCommand_PlugModifiedCB(t,e){var i=t.getValueDirect().join(""),r=e.registry.find(i);r&&(e.plugModel=r)}function LWO2BlockData(){this.type="",this.ordinal="",this.channel=0,this.enable=1,this.opacityType=7,this.opacity=1,this.opacityEnvelope=0,this.negative=0,this.center=new Vector3D,this.size=new Vector3D,this.coordSys=0,this.projMode=0,this.axis=0,this.imageIndex=0,this.widthWrap=1,this.heightWrap=1,this.widthWrapAmt=0,this.heightWrapAmt=0,this.uvMapName=""}function LWO2SurfaceData(){this.name="",this.source="",this.color=new Vector3D,this.diffuseLevel=1,this.specularLevel=0,this.luminosityLevel=0,this.transparencyLevel=0,this.glossiness=.4,this.doubleSided=!1,this.smoothingAngle=0,this.blocks=[],this.addBlock=function(){this.blocks.push(new LWO2BlockData)},this.currentBlock=function(){return this.blocks.length>0?this.blocks[this.blocks.length-1]:null}}function LWO2ClipData(){this.type=0,this.negative=0;var t="",e="";this.setPlatformNeutralFilename=function(i){if(e=i,t=i,t.indexOf(":")>=0){var r=new Array;r=t.split(":"),t=r[0]+":/"+r[1]}},this.setFilename=function(i){t=i,e=i;var r=t.indexOf(":");if(r>=0&&"/"!=t.charAt(r+1)&&"\\"!=t.charAt(r+1)){var o=new Array;o=t.split(":"),t=o[0]+":/"+o[1]}if(r=e.indexOf(":"),r>=0&&("/"==e.charAt(r+1)||"\\"==e.charAt(r+1))){var o=new Array;o=e.split(":"),e=o[0]+":"+o[1].substr(1,o[1].length)}this.getPlatformNeutralFilename=function(){return e},this.getFilename=function(){return t}}}function LWO2EnvelopeData(){this.userFormat=0,this.type=0,this.preBehavior=0,this.postBehavior=0,this.keyframes=[],this.currentKyframe=function(){return this.keyframes.length>0?this.keyframes[this.keyframes.length-1]:null}}function LWO2VMAPData(){this.vertex=0,this.u=0,this.v=0}function LWO2VMADData(){this.poly=0,this.vertex=0,this.u=0,this.v=0}function LWO2PTAGData(){this.poly=0,this.tag=0}function LWO2LayerData(){this.number=0,this.name="",this.pnts=[],this.pols=[],this.ptagsSURF=[],this.vmapsTXUV=[],this.vmadsTXUV=[],this.ptagsSURFMaxIndex=0,this.pivot=new Vector3D,this.getVmap=function(t,e){switch(t){case"TXUV":return this.vmapsTXUV[e];default:return null}},this.putVmap=function(t,e,i){switch(t){case"TXUV":void 0==this.vmapsTXUV[e]&&(this.vmapsTXUV[e]=[]),this.vmapsTXUV[e].push(i)}},this.getVmad=function(t,e){switch(t){case"TXUV":return this.vmadsTXUV[e];default:return null}},this.putVmad=function(t,e,i){switch(t){case"TXUV":void 0==this.vmadsTXUV[e]&&(this.vmadsTXUV[e]=[]),this.vmadsTXUV[e].push(i)}},this.putPtag=function(t){this.ptagsSURF.push(t)}}function LWO2Data(){this.name="",this.contentDir="",this.layers=[],this.tags=[],this.surfaces=[],this.clips=[],this.envelopes=[],this.subChunkContext="",this.evaluators=[];var t=null,e=null,i=null;this.addLayer=function(t){var e=new LWO2LayerData;e.number=t,this.layers.length<=t&&(this.layers.length=t+1),this.layers[t]=e,i=e},this.currentLayer=function(){return i},this.addSurface=function(t,e){var i=new LWO2SurfaceData;i.name=t,i.source=e,this.surfaces.push(i)},this.currentSurface=function(){return this.surfaces.length>0?this.surfaces[this.surfaces.length-1]:null},this.getSurface=function(t){for(var e=0;e<this.surfaces.length;e++)if(this.surfaces[e].name==t)return this.surfaces[e];return null},this.addClip=function(e){var i=new LWO2ClipData;this.clips.length<=e&&(this.clips.length=e+1),this.clips[e]=i,t=i},this.currentClip=function(){return t},this.addEnvelope=function(t){var i=new LWO2EnvelopeData;this.envelopes[t]=i,e=i},this.currentEnvelope=function(){return e}}function LWObjectHandler(){ContentHandler.call(this),this.className="LWObjectHandler",this.lwo2DataHandlers=[],this.lwo2DataHandlersData=[]}function LWObjectBuilder(){ContentBuilder.call(this),this.className="LWObjectBuilder",this.graphMgr=null,this.indexGeometry=new BooleanAttr(!0),this.registerAttribute(this.indexGeometry,"indexGeometry")}function LWObjectBuilder_ObjectHandler(t,e){e.allocateModel(t)}function LWObjectBuilder_CompareVmapEntries(t,e){return t.vertex<e.vertex?-1:t.vertex>e.vertex?1:0}function LWObjectBuilder_CompareVmadEntries(t,e){return t.poly<e.poly?-1:t.poly>e.poly?1:0}function LWSceneHandler(){ContentHandler.call(this),this.className="LWSceneHandler",this.tokenHandlers=[],this.tokenHandlersData=[]}function TLWSCSceneData(){}function TLWSCv3LightDesc(){this.name="",this.type=0,this.colorR=0,this.colorG=0,this.colorB=0,this.intensity=0,this.range=0,this.coneAngle=0,this.edgeAngle=0,this.motion=null,this.parentItem=0}function LWSceneBuilder(){ContentBuilder.call(this),this.className="LWSceneBuilder",this.root=null,this.sgRoot=null,this.evaluatorsGroup=null,this.camerasSelector=null,this.lightsGroup=null,this.modelsGroup=null,this.renderDirective=null,this.boneFalloffType=eBoneFalloffType.InverseDistance,this.parsingBgImage=!1,this.parsingFgImage=!1,this.parsingFgAlphaImage=!1,this.imagePath="",this.currElement=null,this.currChannel=0,this.sceneData=new TLWSCSceneData,this.ambientLightDesc=new TLWSCv3LightDesc,this.globalLightDesc=new TLWSCv3LightDesc,this.lightDescs=[],this.parentItems=[],this.bones=[],this.objectBones=[],this.indexGeometry=new BooleanAttr(!0),this.registerAttribute(this.indexGeometry,"indexGeometry"),this.ambientLightDesc.colorR=1,this.ambientLightDesc.colorG=1,this.ambientLightDesc.colorB=1,this.ambientLightDesc.intensity=.05,this.globalLightDesc.intensity=1}function LWSceneBuilder_TokenHandler(t,e){e.handleToken(t[0],t.slice(1))}function AttributeFactory(){AttributeContainer.call(this),this.className="AttributeFactory",this.attrType=eAttrType.AttributeFactory,this.newResourceProcs=[],this.configureProcs=[],this.finalizeProcs=[],this.registry=null,this.graphMgr=null,this.name=new StringAttr("AttributeFactory"),this.registerAttribute(this.name,"name"),this.initializeNewResourceMap(),this.initializeConfigureMap(),this.initializeFinalizeMap()}function newAttribute(t){var e=null;switch(t){case"BalloonTipLabelStyleAttr":e=new BalloonTipLabelStyleAttr;break;case"BBoxAttr":e=new BBoxAttr;break;case"BooleanAttr":e=new BooleanAttr;break;case"ColorAttr":e=new ColorAttr;break;case"FontStyleAttr":e=new FontStyleAttr;break;case"IconStyleAttr":e=new IconStyleAttr;break;case"ImageAttr":e=new ImageAttr;break;case"KeyframeAttr":e=new KeyframeAttr;break;case"KeyframesAttr":e=new KeyframesAttr;break;case"LabelStyleAttr":e=new LabelStyleAttr;break;case"HTMLLabelStyleAttr":e=new HTMLLabelStyleAttr;break;case"NumberArrayAttr":e=new NumberArrayAttr;break;case"NumberAttr":e=new NumberAttr;break;case"Matrix4x4Attr":e=new Matrix4x4Attr;break;case"PlaneAttr":e=new PlaneAttr;break;case"PulseAttr":e=new PulseAttr;break;case"QuaternionAttr":e=new QuaternionAttr;break;case"RectAttr":e=new RectAttr;break;case"ReferenceAttr":e=new ReferenceAttr;break;case"StringAttr":e=new StringAttr;break;case"StyleAttr":e=new StyleAttr;break;case"StylesAttr":e=new StylesAttr;break;case"StyleMapAttr":e=new StyleMapAttr;break;case"StylesMapAttr":e=new StylesMapAttr;break;case"Vector2DAttr":e=new Vector2DAttr;break;case"Vector3DAttr":e=new Vector3DAttr;break;case"ViewportAttr":e=new ViewportAttr;break;case"ViewVolumeAttr":e=new ViewVolumeAttr;break;case"RenderableElementStyleAttr":e=new RenderableElementStyleAttr;break;case"Serializer":e=new Serializer;break;case"Bone":e=new Bone}return e}function newSGNode(t,e){var i=null;switch(t){case"DirectionalLight":i=new DirectionalLight,registerParentableAttributes(i,e);break;case"GlobalIllumination":i=new GlobalIllumination;break;case"Group":i=new Group;break;case"Isolator":i=new Isolator;break;case"Label":i=new Label;break;case"HTMLLabel":i=new HTMLLabel;break;case"BalloonTipLabel":i=new BalloonTipLabel;break;case"LineList":i=new LineList;break;case"MediaTexture":i=new MediaTexture;break;case"OrthographicCamera":i=new OrthographicCamera,registerParentableAttributes(i,e);break;case"PerspectiveCamera":i=new PerspectiveCamera,registerParentableAttributes(i,e);break;case"PointLight":i=new PointLight,registerParentableAttributes(i,e);break;case"PointList":i=new PointList;break;case"QuaternionRotate":i=new QuaternionRotate;break;case"Rotate":i=new Rotate;break;case"Scale":i=new Scale;break;case"Selector":i=new Selector;break;case"Surface":i=new Surface;break;case"Transform":i=new Transform;break;case"Translate":i=new Translate;break;case"TriList":i=new TriList;break;case"NullObject":i=new NullObject,registerParentableAttributes(i,e);break;case"Cube":i=new Cube;break;case"Material":i=new Material;break;case"ScreenRect":i=new ScreenRect}return i&&i.setGraphMgr(e.graphMgr),i}function newSGDirective(t,e){var i=null;switch(t){case"BBoxDirective":i=new BBoxDirective;break;case"RayPickDirective":i=new RayPickDirective;break;case"RenderDirective":i=new RenderDirective;break;case"SerializeDirective":i=new SerializeDirective;break;case"UpdateDirective":i=new UpdateDirective;break;case"CollideDirective":i=new CollideDirective;break;case"HighlightDirective":i=new HighlightDirective}return i&&i.setGraphMgr(e.graphMgr),i}function newModel(t,e){var i=new Model;return i.setGraphMgr(e.graphMgr),registerParentableAttributes(i,e),i}function newBBoxLocator(t,e){var i=new BBoxLocator;return registerEvaluatorAttributes(i,e),i}function newKeyframeInterpolator(t,e){var i=new KeyframeInterpolator;return registerEvaluatorAttributes(i,e),i}function newMapProjectionCalculator(t,e){var i=new MapProjectionCalculator;return registerEvaluatorAttributes(i,e),i}function newObjectInspector(t,e){var i=new ObjectInspector;registerEvaluatorAttributes(i,e);var r=e.registry.find("Selector");return r&&(r.getAttribute("selectionOccurred").addTarget(i.getAttribute("selectionOccurred"),eAttrSetOp.Replace,null,!1),r.getAttribute("selectionCleared").addTarget(i.getAttribute("selectionCleared"),eAttrSetOp.Replace,null,!1),r.getAttribute("pointView").addTarget(i.getAttribute("pointView"),eAttrSetOp.Replace,null,!1)),i}function newSceneInspector(t,e){var i=new BwSceneInspector;registerEvaluatorAttributes(i,e);var r=e.registry.find("Selector");return r&&(r.getAttribute("selectionOccurred").addTarget(i.getAttribute("selectionOccurred"),eAttrSetOp.Replace,null,!1),r.getAttribute("distanceFromScreenCenter").addTarget(i.getAttribute("pivotDistance"),eAttrSetOp.Replace,null,!1)),i}function newTargetObserver(t,e){var i=new BwTargetObserver;return registerEvaluatorAttributes(i,e),i}function newAnimalMover(t,e){var i=new AnimalMover;return registerEvaluatorAttributes(i,e),i}function newWalkSimulator(t,e){var i=new WalkSimulator;return registerEvaluatorAttributes(i,e),i}function newMorphEffector(t,e){var i=new MorphEffector;return registerEvaluatorAttributes(i,e),i}function newBoneEffector(t,e){var i=new BoneEffector;return registerEvaluatorAttributes(i,e),i}function newPhysicsSimulator(t,e){var i=new PhysicsSimulator;return registerEvaluatorAttributes(i,e),i}function newCommand(t,e){var i=null;switch(t){case"AppendNode":i=new AppendNodeCommand;break;case"AutoInterpolate":i=new AutoInterpolateCommand;break;case"CommandSequence":i=new CommandSequence;break;case"ConnectAttributes":i=new ConnectAttributesCommand;break;case"ConnectOutputs":i=new ConnectAttributesCommand;break;case"DisconnectAttributes":i=new ConnectAttributesCommand,i.getAttribute("negate").setValueDirect(!0);break;case"DisconnectOutputs":i=new ConnectAttributesCommand,i.getAttribute("negate").setValueDirect(!0);break;case"Export":i=new ExportCommand;break;case"Locate":i=new LocateCommand;break;case"MotionInterpolate":i=new MotionInterpolateCommand;break;case"Pause":i=new PlayCommand,i.getAttribute("negate").setValueDirect(!0);break;case"Play":i=new PlayCommand;break;case"Remove":i=new RemoveCommand;break;case"ScreenCapture":i=new ScreenCaptureCommand;break;case"Serialize":i=new SerializeCommand;break;case"Set":i=new SetCommand;break;case"Stop":i=new StopCommand;break;case"Morph":i=new MorphCommand;break;case"SnapTo":i=new SnapToCommand}if("CommandSequence"==t){var r=e.registry.find("CommandMgr");r&&r.pushCommandSequence(i)}return i}function newDeviceHandler(t){var e=null;switch(t){case"MouseHandler":e=new MouseHandler;break;case"KeyboardHandler":e=new KeyboardHandler}return e}function configureModel(){console.debug("TODO: "+arguments.callee.name)}function configureDirective(t,e){var i=new StringAttr("");i.addModifiedCB(AttributeFactory_DirectiveRootModifiedCB,e),t.registerAttribute(i,"root");var r=e.registry.getAttribute("rootPtr").getValueDirect();r&&i.setValueDirect(r.getAttribute("name").getValueDirect().join(""))}function finalizeModel(t,e){console.debug("TODO: remove LWO assumption");var i=t.getAttribute("url").getValueDirect();if(i){i=i.join("");var r=formatPath(i);console.debug("path: "+r[0]),console.debug("content dir: "+r[1]);var o=new LWObjectHandler;o.getAttribute("contentDirectory").setValueDirect(r[1]);var n=new LWObjectBuilder;n.setRegistry(e.registry),n.models.push(t),n.layer=t.getAttribute("layer").getValueDirect(),n.visitHandler(o),o.parseFileStream(r[0])}addInspectionGroup(t,e)}function finalizeDirective(){}function finalizeCommand(t,e){t.finalize();var i=e.registry.find("CommandMgr");i&&("CommandSequence"==t.className&&i.popCommandSequence(),i.addCommand(t))}function finalizeDeviceHandler(t,e){var i=e.registry.find("EventMgr");if(i)for(var r=t.getEventTypes(),o=0;o<r.length;o++)i.addListener(r[o],t)}function finalizeEvaluator(t,e){switch(console.debug("TODO: "+arguments.callee.name),t.className){case"KeyframeInterpolator":var i=t.getAttribute("url").getValueDirect();if(i){i=i.join("");var r=formatPath(i),o=new LWSceneHandler;o.getAttribute("contentDirectory").setValueDirect(r[1]);var n=new LWSceneBuilder;n.setRegistry(e.registry),n.evaluators.push(t),n.visitHandler(o),o.parseFileStream(r[0])}AttributeFactory_EvaluatorTargetConnectionTypeModifiedCB(t.getAttribute("targetConnectionType"),e)}}function registerEvaluatorAttributes(t,e){if(!t.getAttribute("url")){var i=new StringAttr("");t.registerAttribute(i,"url")}if(!t.getAttribute("target")){var r=new StringAttr("");t.registerAttribute(r,"target")}if(!t.getAttribute("renderAndRelease")){var o=new BooleanAttr(!1);t.registerAttribute(o,"renderAndRelease")}if(!t.getAttribute("targetConnectionType")){var n=new StringAttr("transform");n.addModifiedCB(AttributeFactory_EvaluatorTargetConnectionTypeModifiedCB,e),t.registerAttribute(n,"targetConnectionType")}}function registerParentableAttributes(t,e){if(!t.getAttribute("label")){var i=new StringAttr("");t.registerAttribute(i,"label"),i.addModifiedCB(AttributeFactory_ParentableLabelModifiedCB,e)}if(!t.getAttribute("geoPosition")){var r=new Vector3DAttr;t.registerAttribute(r,"geoPosition"),r.addModifiedCB(AttributeFactory_ParentableGeoPositionModifiedCB,e)}if(!t.getAttribute("altitude")){var o=new NumberAttr;t.registerAttribute(o,"altitude")}if(!t.getAttribute("latitude")){var n=new NumberAttr;t.registerAttribute(n,"latitude")}if(!t.getAttribute("longitude")){var a=new NumberAttr;t.registerAttribute(a,"longitude")}t.getAttribute("worldCenter").addModifiedCB(AttributeFactory_ParentableWorldPositionModifiedCB,e)}function getSceneGraph(){return this.sceneGraph}function AttributeFactory_DirectiveRootModifiedCB(t,e){var i=t.getContainer(),r=e.registry.getByName(t.getValueDirect().join(""));r&&i.getAttribute("rootNode").setValueDirect(r[0])}function AttributeFactory_ParentableLabelModifiedCB(){console.debug("TODO: "+arguments.callee.name)}function AttributeFactory_ParentableGeoPositionModifiedCB(t,e){var i=t.getContainer();if(i){var r=e.registry.getByName("ConnectionMgr");if(r&&r.length){var o=r[0],n=e.registry.getByType(eAttrType.MapProjectionCalculator);if(n&&n.length){var a=n[0];a.getAttribute("geoPosition").copyValue(t),o.connectMapProjectionCalculator(a,i),o.disconnectMapProjectionCalculator(a,i)}}}}function AttributeFactory_ParentableWorldPositionModifiedCB(){}function AttributeFactory_EvaluatorTargetConnectionTypeModifiedCB(t,e){var i=t.getContainer();if(i){var r=new ConnectAttributesCommand;r.setRegistry(e.registry),r.getAttribute("sourceContainer").copyValue(i.getAttribute("name")),r.getAttribute("targetContainer").copyValue(i.getAttribute("target")),r.getAttribute("connectionType").copyValue(t),r.execute()}}function Bridgeworks(t,e,i){AttributeContainer.call(this),this.className="Bridgeworks",this.renderContext=newRenderContext("webgl",t,e),this.renderContext&&(i=null==i?"BwContent":i,this.canvas=t,this.contentDir=i,this.graphMgr=new GraphMgr,this.graphMgr.setRenderContext(this.renderContext),this.styleMgr=new StyleMgr,this.registry=new BwRegistry,this.factory=new AttributeFactory,this.parser=new XMLParser(this.factory,this.registry,this.contentDir),this.eventAdapter=new EventAdapter,this.eventMgr=new EventMgr,this.commandMgr=new CommandMgr,this.connectionMgr=new ConnectionMgr,this.viewportMgr=new ViewportMgr,this.selector=new SelectionListener,this.rayPick=new RayPickDirective,this.renderAgent=new RenderAgent(this),this.renderController=new RenderController(this),this.layout=new GridLayout,this.mapProjectionCalculator=new MapProjectionCalculator,this.rasterComponentEventListener=new RasterComponentEventListener,this.graphMgr.setRegistry(this.registry),this.factory.setRegistry(this.registry),this.eventAdapter.setRegistry(this.registry),this.eventMgr.setRegistry(this.registry),this.commandMgr.setRegistry(this.registry),this.connectionMgr.setRegistry(this.registry),this.viewportMgr.setRegistry(this.registry),this.selector.setRegistry(this.registry),this.renderAgent.setRegistry(this.registry),this.layout.setRegistry(this.registry),this.mapProjectionCalculator.setRegistry(this.registry),this.rasterComponentEventListener.setRegistry(this.registry),this.factory.setGraphMgr(this.graphMgr),this.selector.setRayPick(this.rayPick),this.rasterComponentEventListener.setStyleMgr(this.styleMgr),this.rasterComponents=null,this.name=new StringAttr("Bridgeworks"),this.onLoad=new StringAttr,this.onLoad.addModifiedCB(Bridgeworks_OnLoadModifiedCB,this),this.registerAttribute(this.name,"name"),this.registerAttribute(this.onLoad,"onLoad"),this.viewportMgr.getAttribute("width").setValueDirect(this.canvas.width),this.viewportMgr.getAttribute("height").setValueDirect(this.canvas.height),this.viewportMgr.getAttribute("layout").setValueDirect(this.layout),enumerateAttributeTypes(),enumerateAttributeElementTypes(),console.debug("TODO: "+arguments.callee.name),this.initRegistry(),this.initEventListeners(),this.viewportMgr.initLayout())}function Bridgeworks_OnLoadModifiedCB(t,e){e.onLoadModified()}Base.prototype.destroy=function(){delete this};var message="",imgeData="",cimageData="",serializedScene="";Allocator.prototype.allocate=function(){return null},Color.prototype.v=function(){var t=[this.r,this.g,this.b,this.a];return t},Color.prototype.load=function(t,e,i,r){this.r=t,this.g=e,this.b=i,this.a=r},Color.prototype.copy=function(t){t&&(this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a)},Rect.prototype.load=function(t,e,i,r){this.left=t,this.top=e,this.right=i,this.bottom=r},Rect.prototype.loadRect=function(t){this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom},Viewport.prototype.load=function(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r},Viewport.prototype.loadViewport=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},Viewport.prototype.containsPoint=function(t,e){return t>=this.x&&e>=this.y&&t<=this.x+this.width&&e<=this.y+this.height?!0:!1},Stack.prototype.push=function(t){this.maxLength>0&&this.stack.length>=this.maxLength&&this.pop(),this.stack.push(t)},Stack.prototype.pop=function(){this.stack.length>0&&this.stack.pop()},Stack.prototype.load=function(t){this.pop(),this.push(t)},Stack.prototype.top=function(){return this.stack.length>0?this.stack[this.stack.length-1]:null},Stack.prototype.getAt=function(t){return this.stack.length>t?this.stack[t]:null},Stack.prototype.length=function(){return this.stack.length},Stack.prototype.empty=function(){return 0==this.stack.length},Stack.prototype.clear=function(){this.stack.length=0},Stack.prototype.copy=function(){return this.stack.slice()},Queue.prototype.push=function(t){this.maxLength>0&&this.queue.length>=this.maxLength&&this.pop(),this.queue.push(t)},Queue.prototype.pop=function(){this.queue.length>0&&this.queue.shift()},Queue.prototype.load=function(t){this.pop(),this.push(t)},Queue.prototype.front=function(){return this.queue.length>0?this.queue[0]:null},Queue.prototype.getAt=function(t){return this.queue.length>t?this.queue[t]:null},Queue.prototype.length=function(){return this.queue.length},Queue.prototype.empty=function(){return 0==this.queue.length},Queue.prototype.clear=function(){this.queue.length=0},Queue.prototype.copy=function(){return this.queue.slice()};var gAttributeBin=null,gAttributePairs=null,whitespace="\n\r	 ";XMLP=function(t){t=SAXStrings.replace(t,null,null,"\r\n","\n"),t=SAXStrings.replace(t,null,null,"\r","\n"),this.m_xml=t,this.m_iP=0,this.m_iState=XMLP._STATE_PROLOG,this.m_stack=new saxStack,this._clearAttributes()},XMLP._NONE=0,XMLP._ELM_B=1,XMLP._ELM_E=2,XMLP._ELM_EMP=3,XMLP._ATT=4,XMLP._TEXT=5,XMLP._ENTITY=6,XMLP._PI=7,XMLP._CDATA=8,XMLP._COMMENT=9,XMLP._DTD=10,XMLP._ERROR=11,XMLP._CONT_XML=0,XMLP._CONT_ALT=1,XMLP._ATT_NAME=0,XMLP._ATT_VAL=1,XMLP._STATE_PROLOG=1,XMLP._STATE_DOCUMENT=2,XMLP._STATE_MISC=3,XMLP._errs=new Array,XMLP._errs[XMLP.ERR_CLOSE_PI=0]="PI: missing closing sequence",XMLP._errs[XMLP.ERR_CLOSE_DTD=1]="DTD: missing closing sequence",XMLP._errs[XMLP.ERR_CLOSE_COMMENT=2]="Comment: missing closing sequence",XMLP._errs[XMLP.ERR_CLOSE_CDATA=3]="CDATA: missing closing sequence",XMLP._errs[XMLP.ERR_CLOSE_ELM=4]="Element: missing closing sequence",XMLP._errs[XMLP.ERR_CLOSE_ENTITY=5]="Entity: missing closing sequence",XMLP._errs[XMLP.ERR_PI_TARGET=6]="PI: target is required",XMLP._errs[XMLP.ERR_ELM_EMPTY=7]="Element: cannot be both empty and closing",XMLP._errs[XMLP.ERR_ELM_NAME=8]='Element: name must immediatly follow "<"',XMLP._errs[XMLP.ERR_ELM_LT_NAME=9]='Element: "<" not allowed in element names',XMLP._errs[XMLP.ERR_ATT_VALUES=10]="Attribute: values are required and must be in quotes",XMLP._errs[XMLP.ERR_ATT_LT_NAME=11]='Element: "<" not allowed in attribute names',XMLP._errs[XMLP.ERR_ATT_LT_VALUE=12]='Attribute: "<" not allowed in attribute values',XMLP._errs[XMLP.ERR_ATT_DUP=13]="Attribute: duplicate attributes not allowed",XMLP._errs[XMLP.ERR_ENTITY_UNKNOWN=14]="Entity: unknown entity",XMLP._errs[XMLP.ERR_INFINITELOOP=15]="Infininte loop",XMLP._errs[XMLP.ERR_DOC_STRUCTURE=16]="Document: only comments, processing instructions, or whitespace allowed outside of document element",XMLP._errs[XMLP.ERR_ELM_NESTING=17]="Element: must be nested correctly",XMLP.prototype._addAttribute=function(t,e){this.m_atts[this.m_atts.length]=new Array(t,e)},XMLP.prototype._checkStructure=function(t){if(XMLP._STATE_PROLOG==this.m_iState){if((XMLP._TEXT==t||XMLP._ENTITY==t)&&-1!=SAXStrings.indexOfNonWhitespace(this.getContent(),this.getContentBegin(),this.getContentEnd()))return this._setErr(XMLP.ERR_DOC_STRUCTURE);(XMLP._ELM_B==t||XMLP._ELM_EMP==t)&&(this.m_iState=XMLP._STATE_DOCUMENT)}if(XMLP._STATE_DOCUMENT==this.m_iState){if((XMLP._ELM_B==t||XMLP._ELM_EMP==t)&&this.m_stack.push(this.getName()),XMLP._ELM_E==t||XMLP._ELM_EMP==t){var e=this.m_stack.pop();if(null==e||e!=this.getName())return this._setErr(XMLP.ERR_ELM_NESTING)}if(0==this.m_stack.count())return this.m_iState=XMLP._STATE_MISC,t}if(XMLP._STATE_MISC==this.m_iState){if(XMLP._ELM_B==t||XMLP._ELM_E==t||XMLP._ELM_EMP==t||XMLP.EVT_DTD==t)return this._setErr(XMLP.ERR_DOC_STRUCTURE);if((XMLP._TEXT==t||XMLP._ENTITY==t)&&-1!=SAXStrings.indexOfNonWhitespace(this.getContent(),this.getContentBegin(),this.getContentEnd()))return this._setErr(XMLP.ERR_DOC_STRUCTURE)}return t},XMLP.prototype._clearAttributes=function(){this.m_atts=new Array},XMLP.prototype._findAttributeIndex=function(t){for(var e=0;e<this.m_atts.length;e++)if(this.m_atts[e][XMLP._ATT_NAME]==t)return e;return-1},XMLP.prototype.getAttributeCount=function(){return this.m_atts?this.m_atts.length:0},XMLP.prototype.getAttributeName=function(t){return 0>t||t>=this.m_atts.length?null:this.m_atts[t][XMLP._ATT_NAME]},XMLP.prototype.getAttributeValue=function(t){return 0>t||t>=this.m_atts.length?null:__unescapeString(this.m_atts[t][XMLP._ATT_VAL])},XMLP.prototype.getAttributeValueByName=function(t){return this.getAttributeValue(this._findAttributeIndex(t))},XMLP.prototype.getColumnNumber=function(){return SAXStrings.getColumnNumber(this.m_xml,this.m_iP)},XMLP.prototype.getContent=function(){return this.m_cSrc==XMLP._CONT_XML?this.m_xml:this.m_cAlt},XMLP.prototype.getContentBegin=function(){return this.m_cB},XMLP.prototype.getContentEnd=function(){return this.m_cE},XMLP.prototype.getLineNumber=function(){return SAXStrings.getLineNumber(this.m_xml,this.m_iP)},XMLP.prototype.getName=function(){return this.m_name},XMLP.prototype.next=function(){return this._checkStructure(this._parse())},XMLP.prototype._parse=function(){return this.m_iP==this.m_xml.length?XMLP._NONE:this.m_iP==this.m_xml.indexOf("<?",this.m_iP)?this._parsePI(this.m_iP+2):this.m_iP==this.m_xml.indexOf("<!DOCTYPE",this.m_iP)?this._parseDTD(this.m_iP+9):this.m_iP==this.m_xml.indexOf("<!--",this.m_iP)?this._parseComment(this.m_iP+4):this.m_iP==this.m_xml.indexOf("<![CDATA[",this.m_iP)?this._parseCDATA(this.m_iP+9):this.m_iP==this.m_xml.indexOf("<",this.m_iP)?this._parseElement(this.m_iP+1):this.m_iP==this.m_xml.indexOf("&",this.m_iP)?this._parseEntity(this.m_iP+1):this._parseText(this.m_iP)},XMLP.prototype._parseAttribute=function(t,e){var i,r,o,n,a,s,l,c;return this.m_cAlt="",i=SAXStrings.indexOfNonWhitespace(this.m_xml,t,e),-1==i||i>=e?i:(o=this.m_xml.indexOf("=",i),-1==o||o>e?this._setErr(XMLP.ERR_ATT_VALUES):(r=SAXStrings.lastIndexOfNonWhitespace(this.m_xml,i,o),n=SAXStrings.indexOfNonWhitespace(this.m_xml,o+1,e),-1==n||n>e?this._setErr(XMLP.ERR_ATT_VALUES):(s=this.m_xml.charAt(n),-1==SAXStrings.QUOTES.indexOf(s)?this._setErr(XMLP.ERR_ATT_VALUES):(a=this.m_xml.indexOf(s,n+1),-1==a||a>e?this._setErr(XMLP.ERR_ATT_VALUES):(l=this.m_xml.substring(i,r+1),c=this.m_xml.substring(n+1,a),-1!=l.indexOf("<")?this._setErr(XMLP.ERR_ATT_LT_NAME):-1!=c.indexOf("<")?this._setErr(XMLP.ERR_ATT_LT_VALUE):(c=SAXStrings.replace(c,null,null,"\n"," "),c=SAXStrings.replace(c,null,null,"	"," "),iRet=this._replaceEntities(c),iRet==XMLP._ERROR?iRet:(c=this.m_cAlt,-1!=this._findAttributeIndex(l)?this._setErr(XMLP.ERR_ATT_DUP):(this._addAttribute(l,c),this.m_iP=a+2,XMLP._ATT))))))))},XMLP.prototype._parseCDATA=function(t){var e=this.m_xml.indexOf("]]>",t);return-1==e?this._setErr(XMLP.ERR_CLOSE_CDATA):(this._setContent(XMLP._CONT_XML,t,e),this.m_iP=e+3,XMLP._CDATA)},XMLP.prototype._parseComment=function(t){var e=this.m_xml.indexOf("-->",t);return-1==e?this._setErr(XMLP.ERR_CLOSE_COMMENT):(this._setContent(XMLP._CONT_XML,t,e),this.m_iP=e+3,XMLP._COMMENT)},XMLP.prototype._parseDTD=function(t){var e,i,r,o;if(e=this.m_xml.indexOf(">",t),-1==e)return this._setErr(XMLP.ERR_CLOSE_DTD);for(r=this.m_xml.indexOf("[",t),i=-1!=r&&e>r?"]>":">";;){if(e==o)return this._setErr(XMLP.ERR_INFINITELOOP);if(o=e,e=this.m_xml.indexOf(i,t),-1==e)return this._setErr(XMLP.ERR_CLOSE_DTD);if("]]>"!=this.m_xml.substring(e-1,e+2))break}return this.m_iP=e+i.length,XMLP._DTD},XMLP.prototype._parseElement=function(t){var e,i,r,o,n,a,s;if(i=e=this.m_xml.indexOf(">",t),-1==e)return this._setErr(XMLP.ERR_CLOSE_ELM);if("/"==this.m_xml.charAt(t)?(n=XMLP._ELM_E,t++):n=XMLP._ELM_B,"/"==this.m_xml.charAt(e-1)){if(n==XMLP._ELM_E)return this._setErr(XMLP.ERR_ELM_EMPTY);
n=XMLP._ELM_EMP,i--}if(i=SAXStrings.lastIndexOfNonWhitespace(this.m_xml,t,i),e-t!=1&&SAXStrings.indexOfNonWhitespace(this.m_xml,t,i)!=t)return this._setErr(XMLP.ERR_ELM_NAME);if(this._clearAttributes(),r=SAXStrings.indexOfWhitespace(this.m_xml,t,i),-1==r)r=i+1;else for(this.m_iP=r;this.m_iP<i;){if(this.m_iP==s)return this._setErr(XMLP.ERR_INFINITELOOP);if(s=this.m_iP,o=this._parseAttribute(this.m_iP,i),o==XMLP._ERROR)return o}return a=this.m_xml.substring(t,r),-1!=a.indexOf("<")?this._setErr(XMLP.ERR_ELM_LT_NAME):(this.m_name=a,this.m_iP=e+1,n)},XMLP.prototype._parseEntity=function(t){var e=this.m_xml.indexOf(";",t);return-1==e?this._setErr(XMLP.ERR_CLOSE_ENTITY):(this.m_iP=e+1,this._replaceEntity(this.m_xml,t,e))},XMLP.prototype._parsePI=function(t){var e,i,r,o,n;return e=this.m_xml.indexOf("?>",t),-1==e?this._setErr(XMLP.ERR_CLOSE_PI):(i=SAXStrings.indexOfNonWhitespace(this.m_xml,t,e),-1==i?this._setErr(XMLP.ERR_PI_TARGET):(r=SAXStrings.indexOfWhitespace(this.m_xml,i,e),-1==r&&(r=e),o=SAXStrings.indexOfNonWhitespace(this.m_xml,r,e),-1==o&&(o=e),n=SAXStrings.lastIndexOfNonWhitespace(this.m_xml,o,e),-1==n&&(n=e-1),this.m_name=this.m_xml.substring(i,r),this._setContent(XMLP._CONT_XML,o,n+1),this.m_iP=e+2,XMLP._PI))},XMLP.prototype._parseText=function(t){var e,i;return e=this.m_xml.indexOf("<",t),-1==e&&(e=this.m_xml.length),i=this.m_xml.indexOf("&",t),-1!=i&&e>=i&&(e=i),this._setContent(XMLP._CONT_XML,t,e),this.m_iP=e,XMLP._TEXT},XMLP.prototype._replaceEntities=function(t,e,i){if(SAXStrings.isEmpty(t))return"";e=e||0,i=i||t.length;var r,o,n="";for(r=t.indexOf("&",e),o=e;r>0&&i>r;){if(n+=t.substring(o,r),o=t.indexOf(";",r)+1,0==o||o>i)return this._setErr(XMLP.ERR_CLOSE_ENTITY);if(iRet=this._replaceEntity(t,r+1,o-1),iRet==XMLP._ERROR)return iRet;n+=this.m_cAlt,r=t.indexOf("&",o)}return o!=i&&(n+=t.substring(o,i)),this._setContent(XMLP._CONT_ALT,n),XMLP._ENTITY},XMLP.prototype._replaceEntity=function(t,e,i){if(SAXStrings.isEmpty(t))return-1;switch(e=e||0,i=i||t.length,t.substring(e,i)){case"amp":strEnt="&";break;case"lt":strEnt="<";break;case"gt":strEnt=">";break;case"apos":strEnt="'";break;case"quot":strEnt='"';break;default:if("#"!=t.charAt(e))return this._setErr(XMLP.ERR_ENTITY_UNKNOWN);strEnt=String.fromCharCode(parseInt(t.substring(e+1,i)))}return this._setContent(XMLP._CONT_ALT,strEnt),XMLP._ENTITY},XMLP.prototype._setContent=function(t){var e=arguments;XMLP._CONT_XML==t?(this.m_cAlt=null,this.m_cB=e[1],this.m_cE=e[2]):(this.m_cAlt=e[1],this.m_cB=0,this.m_cE=e[1].length),this.m_cSrc=t},XMLP.prototype._setErr=function(t){var e=XMLP._errs[t];return this.m_cAlt=e,this.m_cB=0,this.m_cE=e.length,this.m_cSrc=XMLP._CONT_ALT,XMLP._ERROR},SAXDriver=function(){this.m_hndDoc=null,this.m_hndErr=null,this.m_hndLex=null},SAXDriver.DOC_B=1,SAXDriver.DOC_E=2,SAXDriver.ELM_B=3,SAXDriver.ELM_E=4,SAXDriver.CHARS=5,SAXDriver.PI=6,SAXDriver.CD_B=7,SAXDriver.CD_E=8,SAXDriver.CMNT=9,SAXDriver.DTD_B=10,SAXDriver.DTD_E=11,SAXDriver.prototype.parse=function(t){var e=new XMLP(t);this.m_hndDoc&&this.m_hndDoc.setDocumentLocator&&this.m_hndDoc.setDocumentLocator(this),this.m_parser=e,this.m_bErr=!1,this.m_bErr||this._fireEvent(SAXDriver.DOC_B),this._parseLoop(),this.m_bErr||this._fireEvent(SAXDriver.DOC_E),this.m_xml=null,this.m_iP=0},SAXDriver.prototype.setDocumentHandler=function(t){this.m_hndDoc=t},SAXDriver.prototype.setErrorHandler=function(t){this.m_hndErr=t},SAXDriver.prototype.setLexicalHandler=function(t){this.m_hndLex=t},SAXDriver.prototype.getColumnNumber=function(){return this.m_parser.getColumnNumber()},SAXDriver.prototype.getLineNumber=function(){return this.m_parser.getLineNumber()},SAXDriver.prototype.getMessage=function(){return this.m_strErrMsg},SAXDriver.prototype.getPublicId=function(){return null},SAXDriver.prototype.getSystemId=function(){return null},SAXDriver.prototype.getLength=function(){return this.m_parser.getAttributeCount()},SAXDriver.prototype.getName=function(t){return this.m_parser.getAttributeName(t)},SAXDriver.prototype.getValue=function(t){return this.m_parser.getAttributeValue(t)},SAXDriver.prototype.getValueByName=function(t){return this.m_parser.getAttributeValueByName(t)},SAXDriver.prototype._fireError=function(t){this.m_strErrMsg=t,this.m_bErr=!0,this.m_hndErr&&this.m_hndErr.fatalError&&this.m_hndErr.fatalError(this)},SAXDriver.prototype._fireEvent=function(t){var e,i,r=arguments,o=r.length-1;this.m_bErr||(SAXDriver.DOC_B==t?(i="startDocument",e=this.m_hndDoc):SAXDriver.DOC_E==t?(i="endDocument",e=this.m_hndDoc):SAXDriver.ELM_B==t?(i="startElement",e=this.m_hndDoc):SAXDriver.ELM_E==t?(i="endElement",e=this.m_hndDoc):SAXDriver.CHARS==t?(i="characters",e=this.m_hndDoc):SAXDriver.PI==t?(i="processingInstruction",e=this.m_hndDoc):SAXDriver.CD_B==t?(i="startCDATA",e=this.m_hndLex):SAXDriver.CD_E==t?(i="endCDATA",e=this.m_hndLex):SAXDriver.CMNT==t&&(i="comment",e=this.m_hndLex),e&&e[i]&&(0==o?e[i]():1==o?e[i](r[1]):2==o?e[i](r[1],r[2]):3==o&&e[i](r[1],r[2],r[3])))},SAXDriver.prototype._parseLoop=function(t){var e,t;for(t=this.m_parser;!this.m_bErr;)if(e=t.next(),e==XMLP._ELM_B)this._fireEvent(SAXDriver.ELM_B,t.getName(),this);else if(e==XMLP._ELM_E)this._fireEvent(SAXDriver.ELM_E,t.getName());else if(e==XMLP._ELM_EMP)this._fireEvent(SAXDriver.ELM_B,t.getName(),this),this._fireEvent(SAXDriver.ELM_E,t.getName());else if(e==XMLP._TEXT)this._fireEvent(SAXDriver.CHARS,t.getContent(),t.getContentBegin(),t.getContentEnd()-t.getContentBegin());else if(e==XMLP._ENTITY)this._fireEvent(SAXDriver.CHARS,t.getContent(),t.getContentBegin(),t.getContentEnd()-t.getContentBegin());else if(e==XMLP._PI)this._fireEvent(SAXDriver.PI,t.getName(),t.getContent().substring(t.getContentBegin(),t.getContentEnd()));else if(e==XMLP._CDATA)this._fireEvent(SAXDriver.CD_B),this._fireEvent(SAXDriver.CHARS,t.getContent(),t.getContentBegin(),t.getContentEnd()-t.getContentBegin()),this._fireEvent(SAXDriver.CD_E);else if(e==XMLP._COMMENT)this._fireEvent(SAXDriver.CMNT,t.getContent(),t.getContentBegin(),t.getContentEnd()-t.getContentBegin());else if(e==XMLP._DTD);else if(e==XMLP._ERROR)this._fireError(t.getContent());else if(e==XMLP._NONE)return},SAXStrings=function(){},SAXStrings.WHITESPACE=" 	\n\r",SAXStrings.QUOTES="\"'",SAXStrings.getColumnNumber=function(t,e){if(SAXStrings.isEmpty(t))return-1;e=e||t.length;{var i=t.substring(0,e).split("\n");i[i.length-1]}i.length--;var r=i.join("\n").length;return e-r},SAXStrings.getLineNumber=function(t,e){return SAXStrings.isEmpty(t)?-1:(e=e||t.length,t.substring(0,e).split("\n").length)},SAXStrings.indexOfNonWhitespace=function(t,e,i){if(SAXStrings.isEmpty(t))return-1;e=e||0,i=i||t.length;for(var r=e;i>r;r++)if(-1==SAXStrings.WHITESPACE.indexOf(t.charAt(r)))return r;return-1},SAXStrings.indexOfWhitespace=function(t,e,i){if(SAXStrings.isEmpty(t))return-1;e=e||0,i=i||t.length;for(var r=e;i>r;r++)if(-1!=SAXStrings.WHITESPACE.indexOf(t.charAt(r)))return r;return-1},SAXStrings.isEmpty=function(t){return null==t||0==t.length},SAXStrings.lastIndexOfNonWhitespace=function(t,e,i){if(SAXStrings.isEmpty(t))return-1;e=e||0,i=i||t.length;for(var r=i-1;r>=e;r--)if(-1==SAXStrings.WHITESPACE.indexOf(t.charAt(r)))return r;return-1},SAXStrings.replace=function(t,e,i,r,o){return SAXStrings.isEmpty(t)?"":(e=e||0,i=i||t.length,t.substring(e,i).split(r).join(o))},saxStack=function(){this.m_arr=new Array},saxStack.prototype.clear=function(){this.m_arr=new Array},saxStack.prototype.count=function(){return this.m_arr.length},saxStack.prototype.destroy=function(){this.m_arr=null},saxStack.prototype.peek=function(){return 0==this.m_arr.length?null:this.m_arr[this.m_arr.length-1]},saxStack.prototype.pop=function(){if(0==this.m_arr.length)return null;var t=this.m_arr[this.m_arr.length-1];return this.m_arr.length--,t},saxStack.prototype.push=function(t){this.m_arr[this.m_arr.length]=t};var xmlTextArray,xmlCDataArray,xmlAttrArray;xmlHandler=function(){this.m_strError="",this.m_treePath=[],this.m_xPath=[""],this.m_text=[""],this.m_cdata=[""],this.m_attr=[""],this.m_pi=[""],this.cdata=!1},xmlHandler.prototype.characters=function(t,e,i){var r=t.substr(e,i);return"\n"==r?null:void(this.m_treePath.length>0&&(0==this.cdata?(this.m_text[this.m_xPath.join("/")]||(this.m_text[this.m_xPath.join("/")]=""),this.m_text[this.m_xPath.join("/")]+=r):(this.m_cdata[this.m_xPath.join("/")]||(this.m_cdata[this.m_xPath.join("/")]=""),this.m_cdata[this.m_xPath.join("/")]+=r)))},xmlHandler.prototype.comment=function(t,e,i){t.substr(e,i)},xmlHandler.prototype.endCDATA=function(){this.cdata=!1},xmlHandler.prototype.endDocument=function(){},xmlHandler.prototype.endElement=function(){this.m_xPath=this.m_xPath.slice(0,-1)},xmlHandler.prototype.error=function(t){this.m_strError+="Error:"+t.getMessage()+"\n"},xmlHandler.prototype.fatalError=function(t){this.m_strError+="fatal error:"+t.getMessage()+"\n"},xmlHandler.prototype.getAttr_Array=function(){return this.m_attr},xmlHandler.prototype.getCDATA_Array=function(){return this.m_cdata},xmlHandler.prototype.getError=function(){return this.m_strError},xmlHandler.prototype.getPath_Array=function(){return this.m_treePath},xmlHandler.prototype.getText_Array=function(){return this.m_text},xmlHandler.prototype.processingInstruction=function(){},xmlHandler.prototype.setDocumentLocator=function(t){this.m_locator=t},xmlHandler.prototype.startCDATA=function(){this.cdata=!0},xmlHandler.prototype.startDocument=function(){},xmlHandler.prototype.startElement=function(t,e){alert(t);var r,o=e.getLength();if(this.m_xPath[this.m_xPath.length]=t,r=this.m_xPath.join("/"),this.m_treePath[this.m_treePath.length]=r,o){var n=[];for(i=0;i<o;i++)n[e.getName(i)]=e.getValue(i);this.m_attr[this.m_xPath.join("/")]=n}},xmlHandler.prototype.warning=function(t){this.m_strError+="Warning:"+t.getMessage()+"\n"},Timer.prototype.start=function(){var t=new Date;this.startTime=t.getTime()},Timer.prototype.stop=function(){var t=new Date;this.stopTime=t.getTime()},Timer.prototype.getTime=function(){return this.startTime&&this.stopTime?(this.stopTime-this.startTime)/1e3:0};var __userAgent=navigator.userAgent,__isIE=null!=navigator.appVersion.match(/MSIE/),__IEVersion=__getIEVersion(),__isIENew=__isIE&&__IEVersion>=8,__isIEOld=__isIE&&!__isIENew,__isFireFox=null!=__userAgent.match(/firefox/i),__isFireFoxOld=__isFireFox&&(null!=__userAgent.match(/firefox\/2./i)||null!=__userAgent.match(/firefox\/1./i)),__isFireFoxNew=__isFireFox&&!__isFireFoxOld,__isWebKit=null!=navigator.appVersion.match(/WebKit/),__isChrome=null!=navigator.appVersion.match(/Chrome/),__isOpera=null!=window.opera,__operaVersion=__getOperaVersion(),__isOperaOld=__isOpera&&10>__operaVersion,eEndBehavior={Reset:0,Constant:1,Repeat:2,Oscillate:3,OffsetRepeat:4,Linear:5},eImageAntialiasOp={None:0,TwoPass:1,FourPass:2,EightPass:3,EnumCount:4},eKeyframeShape={Linear:0,Stepped:1,TCB:2,Bezier1D:3,Bezier2D:4,Hermite:5},eTextureType={Color:0,Diffuse:1,Luminosity:2,Reflection:3,Specularity:4,Transparency:5,Clip:6,Bump:7,EnumCount:8},eTextureWrap={None:0,Clamp:1,Repeat:2,Mirror:3,EnumCount:4},eHighlightType={None:0,FourPass:1,EightPass:2},eBoneFalloffType={InverseDistance:0,InverseDistance_2:1,InverseDistance_4:2,InverseDistance_8:3,InverseDistance_16:4},FLT_EPSILON=1.192092896e-7,FLT_MAX=3.402823466e38,TWOPI=2*Math.PI,HALFPI=Math.PI/2,QUARTERPI=Math.PI/4;Vector2D.prototype.v=function(){var t=[this.x,this.y];return t},Vector2D.prototype.load=function(t,e){this.x=t,this.y=e},Vector2D.prototype.copy=function(t){t&&(this.x=t.x,this.y=t.y)},Vector3D.prototype.alert=function(){var t="x: "+this.x+"\n";t+="y: "+this.y+"\n",t+="z: "+this.z+"\n",alert(t)},Vector3D.prototype.v=function(){var t=[this.x,this.y,this.z];return t},Vector3D.prototype.load=function(t,e,i){this.x=t,this.y=e,this.z=i},Vector3D.prototype.copy=function(t){t&&(this.x=t.x,this.y=t.y,this.z=t.z)},Vector3D.prototype.multiplyScalar=function(t){this.x*=t,this.y*=t,this.z*=t},Vector3D.prototype.multiplyVector=function(t){this.x*=t.x,this.y*=t.y,this.z*=t.z},Vector3D.prototype.addVector=function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},Vector3D.prototype.subtractVector=function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},Vector3D.prototype.normalize=function(){var t=magnitude(this.x,this.y,this.z);0!=t&&(this.x/=t,this.y/=t,this.z/=t)},Vector4D.prototype.v=function(){var t=[this.x,this.y,this.z,this.w];return t},Vector4D.prototype.load=function(t,e,i,r){Vector4D&&(this.x=t,this.y=e,this.z=i,this.w=r)},Vector4D.prototype.copy=function(t){this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w},Matrix4x4.prototype.alert=function(){alert([[this._11,this._12,this._13,this._14].join(" "),[this._21,this._22,this._23,this._24].join(" "),[this._31,this._32,this._33,this._34].join(" "),[this._41,this._42,this._43,this._44].join(" ")].join("\n"))},Matrix4x4.prototype.flatten=function(){var t=[this._11,this._12,this._13,this._14,this._21,this._22,this._23,this._24,this._31,this._32,this._33,this._34,this._41,this._42,this._43,this._44];return t},Matrix4x4.prototype.getAt=function(t,e){switch(t){case 0:switch(e){case 0:return this._11;case 1:return this._12;case 2:return this._13;case 3:return this._14}break;case 1:switch(e){case 0:return this._21;case 1:return this._22;case 2:return this._23;case 3:return this._24}break;case 2:switch(e){case 0:return this._31;case 1:return this._32;case 2:return this._33;case 3:return this._34}break;case 3:switch(e){case 0:return this._41;case 1:return this._42;case 2:return this._43;case 3:return this._44}}},Matrix4x4.prototype.setAt=function(t,e,i){switch(t){case 0:switch(e){case 0:this._11=i;break;case 1:this._12=i;break;case 2:this._13=i;break;case 3:this._14=i}break;case 1:switch(e){case 0:this._21=i;break;case 1:this._22=i;break;case 2:this._23=i;break;case 3:this._24=i}break;case 2:switch(e){case 0:this._31=i;break;case 1:this._32=i;break;case 2:this._33=i;break;case 3:this._34=i}break;case 3:switch(e){case 0:this._41=i;break;case 1:this._42=i;break;case 2:this._43=i;break;case 3:this._44=i}}},Matrix4x4.prototype.load=function(t,e,i,r,o,n,a,s,l,c,h,d,u,p,f,_){this._11=t,this._12=e,this._13=i,this._14=r,this._21=o,this._22=n,this._23=a,this._24=s,this._31=l,this._32=c,this._33=h,this._34=d,this._41=u,this._42=p,this._43=f,this._44=_},Matrix4x4.prototype.loadMatrix=function(t){this._11=t._11,this._12=t._12,this._13=t._13,this._14=t._14,this._21=t._21,this._22=t._22,this._23=t._23,this._24=t._24,this._31=t._31,this._32=t._32,this._33=t._33,this._34=t._34,this._41=t._41,this._42=t._42,this._43=t._43,this._44=t._44},Matrix4x4.prototype.loadArray=function(t){this._11=t[0],this._12=t[1],this._13=t[2],this._14=t[3],this._21=t[4],this._22=t[5],this._23=t[6],this._24=t[7],this._31=t[8],this._32=t[9],this._33=t[10],this._34=t[11],this._41=t[12],this._42=t[13],this._43=t[14],this._44=t[15]},Matrix4x4.prototype.loadIdentity=function(){this._11=1,this._12=0,this._13=0,this._14=0,this._21=0,this._22=1,this._23=0,this._24=0,this._31=0,this._32=0,this._33=1,this._34=0,this._41=0,this._42=0,this._43=0,this._44=1},Matrix4x4.prototype.loadTranslation=function(t,e,i){this.loadIdentity(),this._41=t,this._42=e,this._43=i},Matrix4x4.prototype.loadRotation=function(t,e,i,r){var o=new Matrix4x4,n=new Matrix4x4,a=Math.sqrt(e*e+i*i);if(0!=a){var s=e/a,l=i/a;o._22=l,o._23=s,o._32=-s,o._33=l,n._22=l,n._23=-s,n._32=s,n._33=l}var c=new Matrix4x4,h=new Matrix4x4,d=magnitude(t,e,i);if(0!=d){var u=a/d,p=t/d;c._11=u,c._13=p,c._31=-p,c._33=u,h._11=u,h._13=-p,h._31=p,h._33=u}var f=new Matrix4x4,_=Math.cos(toRadians(r)),m=Math.sin(toRadians(r));f._11=_,f._12=m,f._21=-m,f._22=_;var g=o.multiply(c.multiply(f.multiply(h.multiply(n))));this.loadMatrix(g)},Matrix4x4.prototype.loadXAxisRotation=function(t){this.loadIdentity();var e=Math.cos(toRadians(t)),i=Math.sin(toRadians(t));this._22=e,this._23=i,this._32=-i,this._33=e},Matrix4x4.prototype.loadYAxisRotation=function(t){this.loadIdentity();var e=Math.cos(toRadians(t)),i=Math.sin(toRadians(t));this._11=e,this._13=-i,this._31=i,this._33=e},Matrix4x4.prototype.loadZAxisRotation=function(t){this.loadIdentity();var e=Math.cos(toRadians(t)),i=Math.sin(toRadians(t));this._11=e,this._12=i,this._21=-i,this._22=e},Matrix4x4.prototype.loadXYZAxisRotation=function(t,e,i){var r=new Matrix4x4,o=new Matrix4x4,n=new Matrix4x4;r.loadXAxisRotation(t),o.loadYAxisRotation(e),n.loadZAxisRotation(i);var a=o.multiply(r.multiply(n));this.loadMatrix(a)},Matrix4x4.prototype.getRotationAngles=function(){var t,e,i;t=Math.asin(clamp(this._23,-1,1));var r=Math.cos(t);if(epsilonEqual(r,0,FLT_EPSILON)){var o=new Matrix4x4;o.loadXAxisRotation(toDegrees(t)),o.transpose(),o.loadMatrix(o.multiply(this)),e=0,i=Math.atan2(-o._21,o._22)}else e=Math.atan2(-this._13/r,this._33/r),i=Math.atan2(-this._21/r,this._22/r);return{x:toDegrees(t),y:toDegrees(e),z:toDegrees(i)}},Matrix4x4.prototype.loadScale=function(t,e,i){this.loadIdentity(),this._11=t,this._22=e,this._33=i},Matrix4x4.prototype.getScalingFactors=function(){var t,e;t=this.transform(1,0,0,0),e=this.transform(2,0,0,0);var i=magnitude(e.x,e.y,e.z)-magnitude(t.x,t.y,t.z);t=this.transform(0,1,0,0),e=this.transform(0,2,0,0);var r=magnitude(e.x,e.y,e.z)-magnitude(t.x,t.y,t.z);t=this.transform(0,0,1,0),e=this.transform(0,0,2,0);var o=magnitude(e.x,e.y,e.z)-magnitude(t.x,t.y,t.z);return{x:i,y:r,z:o}},Matrix4x4.prototype.multiply=function(t){var e=new Matrix4x4;return t?(e.load(this._11*t._11+this._12*t._21+this._13*t._31+this._14*t._41,this._11*t._12+this._12*t._22+this._13*t._32+this._14*t._42,this._11*t._13+this._12*t._23+this._13*t._33+this._14*t._43,this._11*t._14+this._12*t._24+this._13*t._34+this._14*t._44,this._21*t._11+this._22*t._21+this._23*t._31+this._24*t._41,this._21*t._12+this._22*t._22+this._23*t._32+this._24*t._42,this._21*t._13+this._22*t._23+this._23*t._33+this._24*t._43,this._21*t._14+this._22*t._24+this._23*t._34+this._24*t._44,this._31*t._11+this._32*t._21+this._33*t._31+this._34*t._41,this._31*t._12+this._32*t._22+this._33*t._32+this._34*t._42,this._31*t._13+this._32*t._23+this._33*t._33+this._34*t._43,this._31*t._14+this._32*t._24+this._33*t._34+this._34*t._44,this._41*t._11+this._42*t._21+this._43*t._31+this._44*t._41,this._41*t._12+this._42*t._22+this._43*t._32+this._44*t._42,this._41*t._13+this._42*t._23+this._43*t._33+this._44*t._43,this._41*t._14+this._42*t._24+this._43*t._34+this._44*t._44),e):null},Matrix4x4.prototype.leftMultiply=function(t){var e=t.multiply(this);return e},Matrix4x4.prototype.transpose=function(){var t=new Matrix4x4;t.loadMatrix(this),this._11=t._11,this._12=t._21,this._13=t._31,this._14=t._41,this._21=t._12,this._22=t._22,this._23=t._32,this._24=t._42,this._31=t._13,this._32=t._23,this._33=t._33,this._34=t._43,this._41=t._14,this._42=t._24,this._43=t._34,this._44=t._44},Matrix4x4.prototype.invert=function(){var t=determinant4x4(this._11,this._12,this._13,this._14,this._21,this._22,this._23,this._24,this._31,this._32,this._33,this._34,this._41,this._42,this._43,this._44);if(0!=t){var e,i,r,o,n,a=new Matrix4x4;for(e=0;4>e;e++)for(i=0;4>i;i++){var s=[];for(r=0,n=0;4>r;r++)if(r!=e)for(o=0;4>o;o++)o!=i&&(s[n++]=this.getAt(r,o));a.setAt(e,i,determinant3x3(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8])/t*(e+i&1?-1:1))}a.transpose(),this.loadMatrix(a)}},Matrix4x4.prototype.transform=function(t,e,i,r){var o,n,a;return 0==r?(o=this._11*t+this._21*e+this._31*i,n=this._12*t+this._22*e+this._32*i,a=this._13*t+this._23*e+this._33*i):1==r?(o=this._11*t+this._21*e+this._31*i+this._41,n=this._12*t+this._22*e+this._32*i+this._42,a=this._13*t+this._23*e+this._33*i+this._43):(o=this._11*t+this._21*e+this._31*i+this._41*r,n=this._12*t+this._22*e+this._32*i+this._42*r,a=this._13*t+this._23*e+this._33*i+this._43*r),{x:o,y:n,z:a}},Matrix4x4.prototype.transformw=function(t,e,i,r){var o,n,a,s;return 0==r?(o=this._11*t+this._21*e+this._31*i,n=this._12*t+this._22*e+this._32*i,a=this._13*t+this._23*e+this._33*i,s=this._14*t+this._24*e+this._34*i):1==r?(o=this._11*t+this._21*e+this._31*i+this._41,n=this._12*t+this._22*e+this._32*i+this._42,a=this._13*t+this._23*e+this._33*i+this._43,s=this._14*t+this._24*e+this._34*i+this._44):(o=this._11*t+this._21*e+this._31*i+this._41*r,n=this._12*t+this._22*e+this._32*i+this._42*r,a=this._13*t+this._23*e+this._33*i+this._43*r,s=this._14*t+this._24*e+this._34*i+this._44*r),{x:o,y:n,z:a,w:s}},Matrix4x4.prototype.transformVector3D=function(t,e){return this.transform(t.x,t.y,t.z,e)},MatrixStack.prototype=new Stack,MatrixStack.prototype.constructor=MatrixStack,MatrixStack.prototype.push=function(t){this.stack.push(t?t:this.top())},MatrixStack.prototype.loadMatrix=function(t){this.load(t)},MatrixStack.prototype.leftMultiply=function(t){var e=t.multiply(this.top());this.pop(),Stack.prototype.push.call(this,e)},MatrixStack.prototype.rightMultiply=function(t){var e=this.top().multiply(t);this.pop(),Stack.prototype.push.call(this,e)},Quaternion.prototype.load=function(t,e,i,r){this.w=t,this.x=e,this.y=i,this.z=r},Quaternion.prototype.loadQuaternion=function(t){this.w=t.w,this.x=t.x,this.y=t.y,this.z=t.z},Quaternion.prototype.loadArray=function(t){this.w=t[0],this.x=t[1],this.y=t[2],this.z=t[3]},Quaternion.prototype.loadIdentity=function(){this.w=1,this.x=0,this.y=0,this.z=0},Quaternion.prototype.magnitude=function(){return Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z)},Quaternion.prototype.normalize=function(){var t=this.magnitude();this.w/=t,this.x/=t,this.y/=t,this.z/=t},Quaternion.prototype.loadRotation=function(t,e,i,r){var o=toRadians(r)/2,n=Math.sin(o),a=Math.cos(o);this.w=a,this.x=t*n,this.y=e*n,this.z=i*n,this.normalize()},Quaternion.prototype.loadXAxisRotation=function(t){var e=toRadians(t)/2;this.w=Math.cos(e),this.x=Math.sin(e),this.y=0,this.z=0},Quaternion.prototype.loadYAxisRotation=function(t){var e=toRadians(t)/2;this.w=Math.cos(e),this.x=0,this.y=Math.sin(e),this.z=0},Quaternion.prototype.loadZAxisRotation=function(t){var e=toRadians(t)/2;this.w=Math.cos(e),this.x=0,this.y=0,this.z=Math.sin(e)},Quaternion.prototype.loadXYZAxisRotation=function(t,e,i){var r=toRadians(t)/2,o=toRadians(e)/2,n=toRadians(i)/2,a=new Quaternion;a.load(Math.cos(r),Math.sin(r),0,0);var s=new Quaternion;s.load(Math.cos(o),0,Math.sin(o),0);var l=new Quaternion;l.load(Math.cos(n),0,0,Math.sin(n));var c=s.multiply(a.multiply(l));this.loadQuaternion(c)},Quaternion.prototype.multiply=function(t){var e=new Quaternion;return e.load(this.w*t.w-this.x*t.x-this.y*t.y-this.z*t.z,this.w*t.x+this.x*t.w+this.y*t.z-this.z*t.y,this.w*t.y+this.y*t.w+this.z*t.x-this.x*t.z,this.w*t.z+this.z*t.w+this.x*t.y-this.y*t.x),e},Quaternion.prototype.getMatrix=function(){var t=new Matrix4x4,e=this.x+this.x,i=this.y+this.y,r=this.z+this.z,o=this.x*e,n=this.x*i,a=this.x*r,s=this.y*i,l=this.y*r,c=this.z*r,h=this.w*e,d=this.w*i,u=this.w*r;return t._11=1-(s+c),t._21=n-u,t._31=a+d,t._41=0,t._12=n+u,t._22=1-(o+c),t._32=l-h,t._42=0,t._13=a-d,t._23=l+h,t._33=1-(o+s),t._43=0,t._14=0,t._24=0,t._34=0,t._44=1,t},Quaternion.prototype.getRotationAngles=function(){var t=this.x*this.x,e=this.y*this.y,i=this.z*this.z,r=this.x*this.y,o=this.x*this.z,n=this.y*this.z,a=this.w*this.x,s=this.w*this.y,l=this.w*this.z,n=this.y*this.z,c=Math.atan2(2*(a+n),1-2*(t+e)),h=Math.asin(2*(s-o)),d=Math.atan2(2*(l+r),1-2*(e+i));return{x:toDegrees(c),y:toDegrees(h),z:toDegrees(d)}},Plane2.prototype=new Plane,Plane2.prototype.constructor=Plane2,ViewVolume.prototype.setPerspective=function(t,e,i,r){var o=i*Math.tan(.5*t),n=o*e,a=new Vector3D(-n,o,i),s=new Vector3D(n,o,i),l=new Vector3D(-n,-o,i),c=new Vector3D(n,-o,i);o=r*Math.tan(.5*t),n=o*e;var h=new Vector3D(-n,o,r),d=new Vector3D(n,o,r),u=new Vector3D(-n,-o,r),p=new Vector3D(n,-o,r);this.left=new Plane2(a,l,u),this.right=new Plane2(c,s,d),this.top=new Plane2(a,h,d),this.bottom=new Plane2(l,c,p),this.near=new Plane2(l,a,s),this.far=new Plane2(p,d,h)},ViewVolume.prototype.setOrthographic=function(t,e,i,r,o,n){var a=new Vector3D(t,i,o),s=new Vector3D(e,i,o),l=new Vector3D(t,r,o),c=new Vector3D(e,r,o),h=new Vector3D(t,i,n),d=new Vector3D(e,i,n),u=new Vector3D(t,r,n),p=new Vector3D(e,r,n);this.left=new Plane2(u,h,a),this.right=new Plane2(c,s,d),this.top=new Plane2(a,h,d),this.bottom=new Plane2(p,u,l),this.near=new Plane2(l,a,s),this.far=new Plane2(p,d,h)};var EPSILON=1e-8,eAttrType={Unknown:-1,Attribute:0,AttributeContainer:1,AttributeVector:2,AttributeFactory:3,AttributeRegistry:4,BalloonTipLabelStyleAttr:5,BBoxAttr:6,BooleanAttr:7,ColorAttr:8,FontStyleAttr:9,IconStyleAttr:10,ImageAttr:11,KeyframeAttr:12,KeyframesAttr:13,LabelStyleAttr:14,HTMLLabelStyleAttr:15,NumberArrayAttr:16,NumberAttr:17,Matrix4x4Attr:18,PlaneAttr:19,PulseAttr:20,RectAttr:21,ReferenceAttr:22,StringAttr:23,StyleAttr:24,StylesAttr:25,StyleMapAttr:26,StylesMapAttr:27,Vector2DAttr:28,Vector3DAttr:29,ViewportAttr:30,ViewVolumeAttr:31,RenderableElementStyleAttr:32,Bone:33,SnapConnector:34,SnapConnectors:35,SocketConnector:36,PlugConnector:37,SphereAttr:38,PhysicalPropertiesAttr:39,Node:1e3,ParentableMotionElement:1001,Camera:1002,PerspectiveCamera:1003,OrthographicCamera:1004,Light:1005,DirectionalLight:1006,PointLight:1007,SpotLight:1008,GlobalIllumination:1009,Material:1010,Texture:1011,RenderableElement:1012,Geometry:1013,VertexGeoemtry:1014,TriList:1015,Group:1016,Isolator:1017,Dissolve:1018,Transform:1019,QuaternionRotate:1020,Scale:1021,Rotate:1022,Translate:1023,Model:1024,Surface:1025,MediaTexture:1026,NullObject:1027,Label:1028,HTMLLabel:1029,BalloonTipLabel:1030,PathTrace:1031,Cube:1032,Bone:1033,Selector:1034,ScreenRect:1035,Evaluator:1100,SceneInspector:1101,KeyframeInterpolator:1102,BBoxLocator:1103,ArcballInspector:1104,MapProjectionCalculator:1105,ObjectInspector:1106,MultiTargetObserver:1107,ObjectMover:1108,AnimalMover:1109,WalkSimulator:1110,MorphEffector:1111,BoneEffector:1112,PhysicsSimulator:1113,Evaluator_End:1199,Node_End:1999,Directive:2e3,UpdateDirective:2001,RenderDirective:2002,RayPickDirective:2003,BBoxDirective:2004,SerializeDirective:2005,CollideDirective:2006,HighlightDirective:2007,ShadowDirective:2008,Directive_End:2999,Command:3e3,CommandSequence:3001,AppendNode:3002,AttributeTrigger:3003,AutoInterpolate:3004,Locate:3005,Play:3006,Pause:3007,Remove:3008,ScreenCapture:3009,Serialize:3010,Set:3011,Stop:3012,ConnectAttributes:3013,DisconnectAttributes:3014,Export:3015,Morph:3016,SnapTo:3017,Command_End:3999,DeviceHandler:4e3,MouseHandler:4001,KeyboardHandler:4002,DeviceHandler_End:4999,UserDefined:5e3},eAttrElemType={Unknown:-1,Attribute:0,Int:1,UnsignedInt:2,Char:3,UnsignedChar:4,Float:5,Double:6,UserDefined:100},eAttrSetOp={Replace:0,Add:1,Subtract:2,Multiply:3,Divide:4,Append:5,AND:6,OR:7,XOR:8,NAND:9,NOR:10};Attribute.prototype=new Base,Attribute.prototype.constructor=Attribute,Attribute.prototype.destroy=function(){this.removeAllSources(),this.removeAllTargets(),Base.prototype.destroy.call(this)},Attribute.prototype.clone=function(){return null},Attribute.prototype.getValue=function(t,e){var i=e?e.elementIndex:-1;if(0>i)if(null==this.values)t[0]=null;else if(void 0==this.values.length)t[0]=this.values;else for(var r=0;r<this.values.length;r++)t[r]=this.values[r];else{var o=Math.max(0,e?e.valueElementIndex:0);t[o]=this.values[i]}},Attribute.prototype.getLastValue=function(t,e){var i=e?e.elementIndex:-1;if(0>i)if(null==this.lastValues)t[0]=null;else if(void 0==this.lastValues.length)t[0]=this.lastValues;else for(var r=0;r<this.lastValues.length;r++)t[r]=this.lastValues[r];else{var o=Math.max(0,e?e.valueElementIndex:0);t[o]=this.lastValues[i]}},Attribute.prototype.setValue=function(t,e){this.lastValues=this.values.slice();var i=e?e.elementIndex:-1,r=e?e.op:eAttrSetOp.Replace;if(0>i)if(null==t)this.values[0]=null;else if(void 0==t.length)switch(r){case eAttrSetOp.Add:this.values[0]+=t;break;case eAttrSetOp.Replace:this.values[0]=t;break;case eAttrSetOp.AND:this.values[0]&=t;break;default:alert("unsupported operation passed to Attribute::setValue")}else for(var o=0;o<t.length;o++)switch(r){case eAttrSetOp.Add:this.values[o]+=t[o];break;case eAttrSetOp.Replace:this.values[o]=t[o];break;case eAttrSetOp.AND:this.values[o]&=t[o];break;default:alert("unsupported operation passed to Attribute::setValue")}else if(null==t)this.values[i]=null;else if(void 0==t.length)this.values[i]=t;else{var n=Math.max(0,e?e.valueElementIndex:0);this.values[i]=t[n]}var a=e?e.alertModifiedCBs:!0;if(a)for(var o=0;o<this.modifiedCBs.length;o++)this.modifiedCBs[o](this,this.modifiedCBsData[o]);var s=e?e.updateTargets:!0;if(s)for(var l=e?e.caller:null,o=0;o<this.targets.length;o++){var c=this.targets[o];if(l!=c.target){var e=new AttributeSetParams(c.targetElementIndex,c.sourceElementIndex,c.op,!0,!0,this);c.target.setValue(this.values,e)}}this.modificationCount++},Attribute.prototype.revertValues=function(){this.setValue(this.lastValues,null)},Attribute.prototype.getElement=function(t){return this.values.length>t?this.values[t]:void 0},Attribute.prototype.setElement=function(){console.debug("TODO: "+arguments.callee.name)},Attribute.prototype.getLength=function(){return void 0==this.values.length?void 0==this.values?0:1:this.values.length},Attribute.prototype.setLength=function(t){this.values.length=t},Attribute.prototype.addModifiedCB=function(t,e){this.modifiedCBs.push(t),this.modifiedCBsData.push(e)},Attribute.prototype.removeModifiedCB=function(t,e){this.modifiedCBs.splice(this.modifiedCBs.indexOf(t),1),this.modifiedCBsData.splice(this.modifiedCBsData.indexOf(e),1)},Attribute.prototype.addTarget=function(t,e,i,r){void 0==e&&(e=eAttrSetOp.Replace),void 0==i&&(i=null),void 0==r&&(r=!0),this.addElementTarget(t,-1,-1,e,i,r)},Attribute.prototype.addSource=function(t,e,i,r){t.addTarget(this,e,i,r)},Attribute.prototype.removeTarget=function(t){this.removeElementTarget(t,-1,-1)},Attribute.prototype.removeSource=function(t){t.removeTarget(this)},Attribute.prototype.removeAllTargets=function(){for(;this.targets.length>0;)this.removeElementTarget(this.targets[0].target,this.targets[0].sourceElementIndex,this.targets[0].targetElementIndex)},Attribute.prototype.removeAllSources=function(){for(;this.sources.length>0;)this.sources[0].source.removeElementTarget(this,this.sources[0].sourceElementIndex,this.sources[0].targetElementIndex)},Attribute.prototype.addElementTarget=function(t,e,i,r,o,n){if(t&&(void 0==e&&(e=-1),void 0==i&&(i=-1),void 0==r&&(r=eAttrSetOp.Replace),void 0==o&&(o=null),void 0==n&&(n=!0),this.createTarget(new AttributeTargetDesc(t,e,i,r,o)),t.createSource(new AttributeSourceDesc(this,e,i,r,o)),n)){var a=new AttributeSetParams(i,e,r,!0,!0);t.setValue(this.values,a)}},Attribute.prototype.addElementSource=function(t,e,i,r,o,n){t.addElementTarget(this,e,i,r,o,n)},Attribute.prototype.removeElementTarget=function(t,e,i){t&&(this.deleteTarget(new AttributeTargetDesc(t,e,i)),t.deleteSource(new AttributeSourceDesc(this,e,i)))},Attribute.prototype.removeElementSource=function(t,e,i){t.removeElementTarget(this,e,i)},Attribute.prototype.createTarget=function(t){this.targets.push(t)},Attribute.prototype.createSource=function(t){this.sources.push(t)},Attribute.prototype.deleteTarget=function(t){for(var e=0;e<this.targets.length;e++){var i=this.targets[e];if(i.target==t.target&&i.sourceElementIndex==t.sourceElementIndex&&i.targetElementIndex==t.targetElementIndex){this.targets.splice(e,1);break}}},Attribute.prototype.deleteSource=function(t){for(var e=0;e<this.sources.length;e++){var i=this.sources[e];if(i.source==t.source&&i.sourceElementIndex==t.sourceElementIndex&&i.targetElementIndex==t.targetElementIndex){this.sources.splice(e,1);break}}},Attribute.prototype.copyValue=function(t,e){t.addTarget(this,e),t.removeTarget(this)},Attribute.prototype.isContainer=function(){return!1},Attribute.prototype.isCollection=function(){return!1},Attribute.prototype.isNode=function(){return!1},Attribute.prototype.getContainer=function(){return this.container},Attribute.prototype.setContainer=function(t){this.container=t},Attribute.prototype.setNative=function(t){this["native"]=t},Attribute.prototype.isNative=function(){return this["native"]},Attribute.prototype.setTransient=function(t){this["transient"]=t
},Attribute.prototype.isTransient=function(){return this["transient"]},Attribute.prototype.setPersistent=function(t){this.persistent=t},Attribute.prototype.isPersistent=function(){return this.persistent},Attribute.prototype.getRegistry=function(){return this.registry},Attribute.prototype.setRegistry=function(t){this.registry=t},Attribute.prototype.onRegister=function(){},Attribute.prototype.onUnregister=function(){},Attribute.prototype.flagDeserializedFromXML=function(){this.deserialized=!0,this.attrContainer&&this.attrContainer.flagDeserializedFromXML()},Attribute.prototype.isDeserializedFromXML=function(){return this.deserialized},AttributeContainer.prototype=new Attribute,AttributeContainer.prototype.constructor=AttributeContainer,AttributeContainer.prototype.destroy=function(){for(var t in this.attrNameMap)for(var e=0;e<this.attrNameMap[t].length;e++){var i=this.attrNameMap[t][e];i.getContainer()==this&&i.destroy()}Attribute.prototype.destroy.call(this)},AttributeContainer.prototype.isContainer=function(){return!0},AttributeContainer.prototype.registerAttribute=function(t,e){t&&(void 0==this.attrNameMap[e]&&(this.attrNameMap[e]=new Array),this.attrNameMap[e].push(t),t.getContainer()||t.setContainer(this),t.addModifiedCB(AttributeContainer_AttributeModifiedCB,this))},AttributeContainer.prototype.unregisterAttribute=function(t){if(t)for(var e in this.attrNameMap)for(var i=0;i<this.attrNameMap[e].length;i++)if(this.attrNameMap[e][i]==t){t.removeModifiedCB(AttributeContainer_AttributeModifiedCB,this),delete this.attrNameMap[e][i],this.attrNameMap[e].splice(i,1);break}},AttributeContainer.prototype.getAttribute=function(t){return void 0==this.attrNameMap[t]?null:this.attrNameMap[t][0]},AttributeContainer.prototype.getAttributeAt=function(t){var e=0;for(var i in this.attrNameMap)for(var r=0;r<this.attrNameMap[i].length;r++){if(e==t)return this.attrNameMap[i][r];e++}return null},AttributeContainer.prototype.getAttributeName=function(t){var e=0;for(var i in this.attrNameMap)for(var r=0;r<this.attrNameMap[i].length;r++){if(this.attrNameMap[i][r]==t)return i;e++}return null},AttributeContainer.prototype.getAttributeNameAt=function(t){var e=0;for(var i in this.attrNameMap)for(var r=0;r<this.attrNameMap[i].length;r++){if(e==t)return i;e++}return null},AttributeContainer.prototype.getAttributeCount=function(){var t=0;for(var e in this.attrNameMap)t+=this.attrNameMap[e].length;return t},AttributeContainer.prototype.addTarget=function(t,e,i,r){if(t){void 0==e&&(e=null),void 0==i&&(i=null),void 0==r&&(r=!0);var o=Math.max(this.getAttributeCount(),t.getAttributeCount());if(0==o)return;for(var n=null,a=null,s=0;o>s;s++)n=this.getAttributeAt(s),a=t.getAttribute(this.getAttributeNameAt(s)),n&&a&&n.addTarget(a,e,i,r)}},AttributeContainer.prototype.removeTarget=function(t){if(t){var e=Math.max(this.getAttributeCount(),t.getAttributeCount());if(0==e)return;for(var i=null,r=null,o=0;e>o;o++)i=this.getAttributeAt(o),r=t.getAttribute(this.getAttributeNameAt(o)),i&&r&&i.removeTarget(r)}},AttributeContainer.prototype.synchronize=function(t,e){void 0==e&&(e=!0);for(var i in t.attrNameMap)for(var r=0;r<t.attrNameMap.length;r++){var o=this.attrNameMap[i][r];if(!o){if(o=t.attrNameMap[i].clone(),!o)continue;o.setContainer(this),this.registerAttribute(o,i)}o&&e&&o.copyValue(t.attrNameMap[i])}},AttributeRegistry.prototype=new AttributeContainer,AttributeRegistry.prototype.constructor=AttributeRegistry,AttributeRegistry.prototype.addUnique=function(t){for(var e=0;e<this.uniqueAttributes.length;e++)if(this.uniqueAttributes[e]==t)return;this.uniqueAttributes.push(t)},AttributeRegistry.prototype.removeUnique=function(t){for(var e=0;e<this.uniqueAttributes.length;e++)if(this.uniqueAttributes[e]==t)return void this.uniqueAttributes.splice(e,1)},AttributeRegistry.prototype.registerByType=function(t,e){void 0==this.typeRegistry[e]&&(this.typeRegistry[e]=new Array),this.typeRegistry[e].push(t)},AttributeRegistry.prototype.registerByName=function(t,e){0==e.length&&(e="unnamed"),void 0==this.nameRegistry[e]&&(this.nameRegistry[e]=new Array),this.nameRegistry[e].push(t)},AttributeRegistry.prototype.register=function(t){if(this.registerByType(t,t.attrType),t.isContainer()){var e=t.getAttribute("name")||t.getAttribute("id");e&&(this.registerByName(t,e.getValueDirect().join("")),e.addModifiedCB(AttributeRegistry_AttributeContainerNameModifiedCB,this))}this.addUnique(t),this.objectCount++,t.onRegister(this)},AttributeRegistry.prototype.unregisterByType=function(t,e){this.typeRegistry[e]&&this.typeRegistry[e].splice(this.typeRegistry[e].indexOf(t),1)},AttributeRegistry.prototype.unregisterByName=function(t,e){0==e.length&&(e="unnamed"),this.nameRegistry[e]&&this.nameRegistry[e].splice(this.nameRegistry[e].indexOf(t),1)},AttributeRegistry.prototype.unregister=function(t){if(this.unregisterByType(t,t.attrType),t.isContainer()){var e=t.getAttribute("name")||t.getAttribute("id");e&&(this.unregisterByName(t,e.getValueDirect().join("")),e.removeModifiedCB(AttributeRegistry_AttributeContainerNameModifiedCB,this))}this.removeUnique(t),this.objectCount--,t.onUnregister(this)},AttributeRegistry.prototype.getByType=function(t){switch(t){case eAttrType.Camera:var e=[],i=this.getByType(eAttrType.PerspectiveCamera);if(i)for(var r=0;r<i.length;r++)e.push(i[r]);var o=this.getByType(eAttrType.OrthographicCamera);if(o)for(var r=0;r<o.length;r++)e.push(o[r]);return e;case eAttrType.Evaluator:for(var e=[],n=eAttrType.Evaluator+1;n!=eAttrType.Evaluator_End;n++){var a=this.getByType(n);if(a)for(var r=0;r<a.length;r++)e.push(a[r])}return e;default:return this.typeRegistry[t]}},AttributeRegistry.prototype.getByName=function(t){return this.nameRegistry[t]},AttributeRegistry.prototype.updateName=function(t,e){for(var i in this.nameRegistry)for(var r=0;r<this.nameRegistry[i].length;r++)if(this.nameRegistry[i][r]==t)return this.nameRegistry[i].splice(r,1),void this.registerByName(t,e)},AttributeRegistry.prototype.clear=function(){for(var t in this.typeRegistry)this.typeRegistry[t]=[];this.typeRegistry=[];for(var t in this.nameRegistry)this.nameRegistry[t]=[];this.nameRegistry=[],this.uniqueAttributes=[],this.objectCount=0},AttributeRegistry.prototype.getObjectCount=function(){return this.uniqueAttributes.length},AttributeRegistry.prototype.getObject=function(t){return t<this.uniqueAttributes.length?this.uniqueAttributes[t]:null},BooleanAttr.prototype=new Attribute,BooleanAttr.prototype.constructor=BooleanAttr,BooleanAttr.prototype.clone=function(){var t=new BooleanAttr;return t.setValue(this.values),t},BooleanAttr.prototype.getValueDirect=function(){var t=[];return this.getValue(t),t[0]},BooleanAttr.prototype.setValueDirect=function(t,e){this.setValue(t,e)},ColorAttr.prototype=new Attribute,ColorAttr.prototype.constructor=ColorAttr,ColorAttr.prototype.clone=function(){var t=new ColorAttr;return t.setValue(this.values),t},ColorAttr.prototype.getValueDirect=function(){var t=[];return this.getValue(t),{r:t[0],g:t[1],b:t[2],a:t[3]}},ColorAttr.prototype.setValueDirect=function(t,e,i,r,o){var n=[t,e,i,r];this.setValue(n,o)},Matrix4x4Attr.prototype=new Attribute,Matrix4x4Attr.prototype.constructor=Matrix4x4Attr,Matrix4x4Attr.prototype.clone=function(){var t=new Matrix4x4Attr;return t.setValue(this.values),t},Matrix4x4Attr.prototype.getValueDirect=function(){var t=[];this.getValue(t);var e=new Matrix4x4;return e.loadArray(t),e},Matrix4x4Attr.prototype.setValueDirect=function(t,e){var i=[t._11,t._12,t._13,t._14,t._21,t._22,t._23,t._24,t._31,t._32,t._33,t._34,t._41,t._42,t._43,t._44];this.setValue(i,e)},NumberArrayAttr.prototype=new Attribute,NumberArrayAttr.prototype.constructor=NumberArrayAttr,NumberArrayAttr.prototype.clone=function(){var t=new NumberArrayAttr;return t.setValue(this.values),t},NumberArrayAttr.prototype.getValueDirect=function(){var t=[];return this.getValue(t),t},NumberArrayAttr.prototype.setValueDirect=function(t,e){this.setValue(t,e)},NumberAttr.prototype=new Attribute,NumberAttr.prototype.constructor=NumberAttr,NumberAttr.prototype.clone=function(){var t=new NumberAttr;return t.setValue(this.values),t},NumberAttr.prototype.getValueDirect=function(){var t=[];return this.getValue(t),t[0]},NumberAttr.prototype.setValueDirect=function(t,e){var i=[t];this.setValue(i,e)},PulseAttr.prototype=new BooleanAttr,PulseAttr.prototype.constructor=PulseAttr,PulseAttr.prototype.clone=function(){var t=new PulseAttr;return t.setValue(this.values),t},PulseAttr.prototype.pulse=function(){this.setValueDirect(!0),this.setValueDirect(!1)},QuaternionAttr.prototype=new Attribute,QuaternionAttr.prototype.constructor=QuaternionAttr,QuaternionAttr.prototype.clone=function(){var t=new QuaternionAttr;return t.setValue(this.values),t},QuaternionAttr.prototype.getValueDirect=function(){var t=[];this.getValue(t);var e=new Quaternion;return e.loadArray(t),e},QuaternionAttr.prototype.setValueDirect=function(t,e){var i=[t.w,t.x,t.y,t.z];this.setValue(i,e)},ReferenceAttr.prototype=new Attribute,ReferenceAttr.prototype.constructor=ReferenceAttr,ReferenceAttr.prototype.clone=function(){var t=new ReferenceAttr;return t.setValue(this.values),t},ReferenceAttr.prototype.getValueDirect=function(){var t=[];return this.getValue(t),t[0]},ReferenceAttr.prototype.setValueDirect=function(t,e){this.setValue(t,e)},StringAttr.prototype=new Attribute,StringAttr.prototype.constructor=StringAttr,StringAttr.prototype.clone=function(){var t=new StringAttr;return t.setValue(this.values),t},StringAttr.prototype.getValueDirect=function(){var t=[];return this.getValue(t),t},StringAttr.prototype.getLastValueDirect=function(){var t=[];return this.getLastValue(t),t},StringAttr.prototype.setValueDirect=function(t,e){this.setValue(t,e)},StringAttr.prototype.setValue=function(t,e){this.values=[],Attribute.prototype.setValue.call(this,t,e)},StringAttrAllocator.prototype=new Allocator,StringAttrAllocator.prototype.constructor=StringAttrAllocator,StringAttrAllocator.prototype.allocate=function(){return new StringAttr},TernaryAttr.prototype=new NumberAttr,TernaryAttr.prototype.constructor=TernaryAttr,TernaryAttr.prototype.clone=function(){var t=new TernaryAttr;return t.setValue(this.values),t},Vector2DAttr.prototype=new Attribute,Vector2DAttr.prototype.constructor=Vector2DAttr,Vector2DAttr.prototype.clone=function(){var t=new Vector2DAttr;return t.setValue(this.values),t},Vector2DAttr.prototype.getValueDirect=function(){var t=[];return this.getValue(t),{x:t[0],y:t[1]}},Vector2DAttr.prototype.setValueDirect=function(t,e,i){var r=[t,e];this.setValue(r,i)},Vector3DAttr.prototype=new Attribute,Vector3DAttr.prototype.constructor=Vector3DAttr,Vector3DAttr.prototype.clone=function(){var t=new Vector3DAttr;return t.setValue(this.values),t},Vector3DAttr.prototype.getValueDirect=function(){var t=[];return this.getValue(t),{x:t[0],y:t[1],z:t[2]}},Vector3DAttr.prototype.setValueDirect=function(t,e,i,r){var o=[t,e,i];this.setValue(o,r)},Vector3DAttr.prototype.isZero=function(){var t=[];return this.getValue(t),0==t[0]&&0==t[1]&&0==t[2]?!0:!1},ViewportAttr.prototype=new Attribute,ViewportAttr.prototype.constructor=ViewportAttr,ViewportAttr.prototype.clone=function(){var t=new ViewportAttr;return t.setValue(this.values),t},ViewportAttr.prototype.getValueDirect=function(){var t=[];return this.getValue(t),{x:t[0],y:t[1],width:t[2],height:t[3]}},ViewportAttr.prototype.setValueDirect=function(t,e,i,r,o){var n=[t,e,i,r];this.setValue(n,o)},AttributeVector.prototype=new AttributeContainer,AttributeVector.prototype.constructor=AttributeVector,AttributeVector.prototype.allocatesElements=function(){return this.allocator?!0:!1},AttributeVector.prototype.push_back=function(t){this.addElement(this.vector.length,t)},AttributeVector.prototype.resize=function(t){this.size.setValueDirect(t)},AttributeVector.prototype.clear=function(){this.resize(0)},AttributeVector.prototype.getAt=function(t){return this.vector.length>t?this.vector[t]:null},AttributeVector.prototype.setAt=function(t,e){this.vector.length>t&&(this.vector[t]=e)},AttributeVector.prototype.prev=function(t){for(var e=0;e<this.vector.length;e++)if(this.vector[e]==t){if(e>0)return this.vector[e-1];break}return null},AttributeVector.prototype.next=function(t){for(var e=0;e<this.vector.length;e++)if(this.vector[e]==t){if(e<this.vector.length-1)return this.vector[e+1];break}return null},AttributeVector.prototype.addElement=function(t,e){this.vector.splice(t,0,e),this.size.setValueDirect(this.vector.length)},AttributeVector.prototype.removeElement=function(t){this.vector.splice(t,1),this.size.setValueDirect(this.vector.length)},AttributeVector.prototype.Size=function(){return this.size.getValueDirect()},AttributeVector.prototype.AppendParsedElements=function(){return this.appendParsedElements.getValueDirect()},AttributeVector.prototype.setElementName=function(t,e){this.unregisterAttribute(t),this.registerAttribute(t,e),console.debug("TODO: add to element name map")},AttributeVector.prototype.synchronize=function(t){for(var e=this.Size(),i=t.Size();i>e;)this.push_back(t.getAt(e)),e++;for(;e>i;)this.removeElement(e-1),e--;for(var r=0;e>r;r++)t.getAt(r).getValueDirect()!=this.getAt(r).getValueDirect()&&this.getAt(r).copyValue(t.getAt(r))},AttributeVector.prototype.isCollection=function(){return!0},AttributeVector.prototype.sizeModified=function(){var t,e,i=this.vector.length,r=this.size.getValueDirect();if(r>i){t=i,e=t+(r-i);for(var o=t;e>o;o++)this.addElement(o,this.allocator?this.allocator.allocate():null)}else if(i>r){t=i,e=t-(i-r);for(var o=t-1;o>=e;o--)this.removeElement(o)}},StyleAttr.prototype=new AttributeContainer,StyleAttr.prototype.constructor=StyleAttr,StyleAttr.prototype.updateStyle=function(){},StyleAttr.prototype.styleUrlModified=function(){var t=this.styleUrl.getValueDirect().join("");this.registry&&this.updateStyle(this.registry.find(t))},StylesAttr.prototype=new AttributeVector,StylesAttr.prototype.constructor=StylesAttr,StylesAttr.prototype.updateStyle=function(t){var e=this.enabled.getValueDirect();if(e)for(var i=0;i<t.Size();i++)for(var r=0;r<this.Size();r++)if(this.vector[r].attrType==t.vector[i].attrType){this.vector[r].updateStyle(t.vector[i]);break}},StylesAttr.prototype.registerStyle=function(t,e){this.push_back(t),this.setElementName(t,e),this.alertRegisteredCBs(t,!0)},StylesAttr.prototype.unregisterStyle=function(t){for(var e in this.vector)if(this.vector[e]==t){this.alertRegisteredCBs(t,!1),delete this.vector[e];break}},StylesAttr.prototype.addRegisteredCB=function(t,e){this.registeredCBs.push(t),this.registeredCBsData.push(e)},StylesAttr.prototype.alertRegisteredCBs=function(t){for(var e=0;e<this.registeredCBs.length;e++)this.registeredCBs[e](t,this.registeredCBs[e])},StylesAttr.prototype.push_back=function(t){AttributeVector.prototype.push_back.call(this,t),this.alertRegisteredCBs(t,!0)},StylesAttr.prototype.getStyle=function(t){for(var e=0;e<this.Size();e++)if(this.vector[e].attrType==t)return this.vector[e];return void 0},StyleMapAttr.prototype=new AttributeContainer,StyleMapAttr.prototype.constructor=StyleMapAttr,StyleMapAttr.prototype.getStyles=function(t){var e=null,i=null;return this.eventType==t&&(e=this.styles,i=this.targetContainer),{styles:e,target:i}},StyleMapAttr.prototype.setStyles=function(t){this.styles=t},StyleMapAttr.prototype.setTargetContainer=function(t){this.targetContainer=t},StyleMapAttr.prototype.eventModified=function(){var t=this.event.getValueDirect().join("");this.eventType=eEventNameMap[t]},StyleMapAttr.prototype.styleUrlModified=function(){var t=this.styleUrl.getValueDirect();"#"==t[0]&&t.splice(0,1),t=t.join("");var e=this.registry.find(t);e&&(this.styles=e)},StyleMapAttr.prototype.targetModified=function(){var t=this.target.getValueDirect().join("");this.targetContainer=this.registry.find(t)},StyleMapAttrAllocator.prototype=new Allocator,StyleMapAttrAllocator.prototype.constructor=StyleMapAttrAllocator,StyleMapAttrAllocator.prototype.allocate=function(){return new StyleMapAttr},StylesMapAttr.prototype=new AttributeVector,StylesMapAttr.prototype.constructor=StylesMapAttr,StylesMapAttr.prototype.getStyles=function(t){for(var e=null,i=!1,r=null,o=0;o<this.Size();o++){var n=this.vector[o].getStyles(t);n.styles&&(e=n.styles,r=n.target,this.stylesEnabledMap[n.styles]&&(i=this.stylesEnabledMap[n.styles]))}return{styles:e,target:r,enabled:i}},StylesMapAttr.prototype.StylesMapAttr_SizeModified=function(){for(var t=0;t<this.Size();t++)this.vector[t].registry||this.vector[t].setRegistry(this.registry),this.stylesEnabledMap[this.vector[t].styles]||(this.stylesEnabledMap[this.vector[t].styles]=new BooleanAttr(!0))},KeyframeAttr.prototype=new AttributeContainer,KeyframeAttr.prototype.constructor=KeyframeAttr,KeyframesAttr.prototype=new AttributeVector,KeyframesAttr.prototype.constructor=KeyframesAttr,BBoxAttr.prototype=new AttributeContainer,BBoxAttr.prototype.constructor=BBoxAttr,BBoxAttr.prototype.setValueDirect=function(t,e){this.min.setValueDirect(t.x,t.y,t.z),this.max.setValueDirect(e.x,e.y,e.z)},ImageAttr.prototype=new AttributeContainer,ImageAttr.prototype.constructor=ImageAttr,RectAttr.prototype=new AttributeContainer,RectAttr.prototype.constructor=RectAttr,RectAttr.prototype.getValueDirect=function(){var t=new Rect;return t.left=this.left.getValueDirect(),t.top=this.top.getValueDirect(),t.right=this.right.getValueDirect(),t.bottom=this.bottom.getValueDirect(),t},RectAttr.prototype.setValueDirect=function(t){this.left.setValueDirect(t.left),this.top.setValueDirect(t.top),this.right.setValueDirect(t.right),this.bottom.setValueDirect(t.bottom)},RectAttr.prototype.containsPoint=function(t,e){return t>=this.left.getValueDirect()&&e>=this.top.getValueDirect()&&t<=this.right.getValueDirect()&&e<=this.bottom.getValueDirect()?!0:!1},FontStyleAttr.prototype=new StyleAttr,FontStyleAttr.prototype.constructor=FontStyleAttr,FontStyleAttr.prototype.updateStyle=function(t){var e=t.setOp.getValueDirect();t.antialiasType.modificationCount>0&&this.antialiasType.copyValue(t.antialiasType,e),t.borderColor.modificationCount>0&&this.borderColor.copyValue(t.borderColor,e),t.borderWidth.modificationCount>0&&this.borderWidth.copyValue(t.borderWidth,e),t.color.modificationCount>0&&this.color.copyValue(t.color,e),t.effects.modificationCount>0&&this.effects.copyValue(t.effects,e),t.font.modificationCount>0&&this.font.copyValue(t.font,e),t.opacity.modificationCount>0&&this.opacity.copyValue(t.opacity,e),t.size.modificationCount>0&&this.size.copyValue(t.size,e),t.style.modificationCount>0&&this.style.copyValue(t.style,e)},LabelStyleAttr.prototype=new StyleAttr,LabelStyleAttr.prototype.constructor=LabelStyleAttr,LabelStyleAttr.prototype.updateStyle=function(t){var e=t.setOp.getValueDirect();t.angle.modificationCount>0&&this.angle.copyValue(t.angle,e),t.backgroundColor.modificationCount>0&&this.backgroundColor.copyValue(t.backgroundColor,e),t.backgroundOpacity.modificationCount>0&&this.backgroundOpacity.copyValue(t.backgroundOpacity,e),this.fontStyle.updateStyle(t.fontStyle),t.format.modificationCount>0&&this.format.copyValue(t.format,e),t.height.modificationCount>0&&this.height.copyValue(t.height,e),t.offset.modificationCount>0&&this.offset.copyValue(t.offset,e),t.padding.modificationCount>0&&this.padding.copyValue(t.padding,e),t.scale.modificationCount>0&&this.scale.copyValue(t.scale,e),t.textAlign.modificationCount>0&&this.textAlign.copyValue(t.textAlign,e),t.width.modificationCount>0&&this.width.copyValue(t.width,e)},IconStyleAttr.prototype=new StyleAttr,IconStyleAttr.prototype.constructor=IconStyleAttr,IconStyleAttr.prototype.updateStyle=function(t){var e=t.setOp.getValueDirect();t.alphaUrl.modificationCount>0&&this.alphaUrl.copyValue(t.alphaUrl,e),t.color.modificationCount>0&&this.color.copyValue(t.color,e),t.opacity.modificationCount>0&&this.opacity.copyValue(t.opacity,e),t.scale.modificationCount>0&&this.scale.copyValue(t.scale,e),t.url.modificationCount>0&&this.url.copyValue(t.url,e)},HTMLLabelStyleAttr.prototype=new StyleAttr,HTMLLabelStyleAttr.prototype.constructor=HTMLLabelStyleAttr,BalloonTipLabelStyleAttr.prototype=new StyleAttr,BalloonTipLabelStyleAttr.prototype.constructor=BalloonTipLabelStyleAttr,BalloonTipLabelStyleAttr.prototype.updateStyle=function(t){var e=t.setOp.getValueDirect();t.balloonOffset.modificationCount>0&&this.balloonOffset.copyValue(t.balloonOffset,e),t.bgColor.modificationCount>0&&this.bgColor.copyValue(t.bgColor,e),t.displayMode.modificationCount>0&&this.displayMode.copyValue(t.displayMode,e),this.htmlLabelStyle.updateStyle(t.htmlLabelStyle),t.text.modificationCount>0&&this.text.copyValue(t.text,e),t.textColor.modificationCount>0&&this.textColor.copyValue(t.textColor,e)},RenderableElementStyleAttr.prototype=new StyleAttr,RenderableElementStyleAttr.prototype.constructor=RenderableElementStyleAttr,RenderableElementStyleAttr.prototype.updateStyle=function(t){var e=t.setOp.getValueDirect();t.hasFocus.modificationCount>0&&this.hasFocus.copyValue(t.hasFocus,e),t.selected.modificationCount>0&&this.selected.copyValue(t.selected,e)},PlaneAttr.prototype=new AttributeContainer,PlaneAttr.prototype.constructor=PlaneAttr,PlaneAttr.prototype.getValueDirect=function(){var t=this.point.getValueDirect(),e=this.normal.getValueDirect(),i=new Plane(new Vector3D(t.x,t.y,t.z),new Vector3D(e.x,e.y,e.z));return i},PlaneAttr.prototype.setValueDirect=function(t){this.point.setValueDirect(t.point.x,t.point.y,t.point.z),this.normal.setValueDirect(t.normal.x,t.normal.y,t.normal.z),this.dot.setValueDirect(t.dot)},ViewVolumeAttr.prototype=new AttributeContainer,ViewVolumeAttr.prototype.constructor=ViewVolumeAttr,ViewVolumeAttr.prototype.setValueDirect=function(t,e,i,r,o,n){this.left.setValueDirect(t),this.right.setValueDirect(e),this.top.setValueDirect(i),this.bottom.setValueDirect(r),this.near.setValueDirect(o),this.far.setValueDirect(n)},SphereAttr.prototype=new AttributeContainer,SphereAttr.prototype.constructor=SphereAttr,PhysicalPropertiesAttr.prototype=new AttributeContainer,PhysicalPropertiesAttr.prototype.constructor=PhysicalPropertiesAttr,Agent.prototype=new AttributeContainer,Agent.prototype.constructor=Agent,Agent.prototype.start=function(){this.running=!0},Agent.prototype.stop=function(){this.running=!1},Agent.prototype.pause=function(){this.running=!1},Sphere.prototype.setTransform=function(t){var e=t.transform(this.center.x,this.center.y,this.center.z,1);this.xcenter.x=e.x,this.xcenter.y=e.y,this.xcenter.z=e.z;var i=t.getScalingFactors();this.xradius=this.radius*max3(i.x,i.y,i.z)},Sphere.prototype.intersects=function(t){var e=distanceBetween(this.xcenter,t.xcenter),i=this.xradius+t.xradius;return i>e?!0:!1},Region.prototype.setPlanes=function(){this.xpos=new Plane(this.max,new Vector3D(1,0,0)),this.xneg=new Plane(this.min,new Vector3D(-1,0,0)),this.ypos=new Plane(this.max,new Vector3D(0,1,0)),this.yneg=new Plane(this.min,new Vector3D(0,-1,0)),this.zpos=new Plane(this.max,new Vector3D(0,0,1)),this.zneg=new Plane(this.min,new Vector3D(0,0,-1));var t=new Vector3D(this.max.x,this.max.y,this.max.z),e=new Vector3D(this.max.x,this.max.y,this.min.z),i=new Vector3D(this.max.x,this.min.y,this.max.z),r=new Vector3D(this.max.x,this.min.y,this.min.z),o=new Vector3D(this.min.x,this.max.y,this.max.z),n=new Vector3D(this.min.x,this.max.y,this.min.z),a=new Vector3D(this.min.x,this.min.y,this.max.z),s=new Vector3D(this.min.x,this.min.y,this.min.z);this.xpos_ypos_zpos=new Plane(t,t-s),this.xpos_ypos_zneg=new Plane(e,e-a),this.xpos_yneg_zpos=new Plane(i,i-n),this.xpos_yneg_zneg=new Plane(r,r-o),this.xneg_ypos_zpos=new Plane(o,o-r),this.xneg_ypos_zneg=new Plane(n,n-i),this.xneg_yneg_zpos=new Plane(a,a-e),this.xneg_yneg_zneg=new Plane(s,s-t)},Region.prototype.containsGeometry=function(t,e){for(var i=[],r=0;r<e.length;r++)this.containsTriangle(t[e[r]])&&i.push(e[r]);return i},Region.prototype.containsTriangle=function(t){var e=new Array(3);e[0]=t.v0,e[1]=t.v1,e[2]=t.v2;for(var i=0;3>i;i++)if(e[i].x>=this.min.x&&e[i].y>=this.min.y&&e[i].z>=this.min.z&&e[i].x<=this.max.x&&e[i].y<=this.max.y&&e[i].z<=this.max.z)return!0;if(triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xpos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xneg)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.ypos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.yneg)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.zpos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.zneg)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xpos_ypos_zpos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xpos_ypos_zneg)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xpos_yneg_zpos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xpos_yneg_zneg)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xneg_ypos_zpos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xneg_ypos_zneg)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xneg_yneg_zpos)||triangleOnPositiveSideOfPlane(e[0],e[1],e[2],this.xneg_yneg_zneg))return!1;for(var r,i=0;3>i;i++){var o=e[i],n=e[(i+1)%3];if(r=lineSegmentPlaneIntersection(o,n,this.xpos),r.count>0&&r.point.y>=this.min.y&&r.point.y<=this.max.y&&r.point.z>=this.min.z&&r.point.z<=this.max.z)return!0;if(r=lineSegmentPlaneIntersection(o,n,this.xneg),r.count>0&&r.point.y>=this.min.y&&r.point.y<=this.max.y&&r.point.z>=this.min.z&&r.point.z<=this.max.z)return!0;if(r=lineSegmentPlaneIntersection(o,n,this.ypos),r.count>0&&r.point.x>=this.min.x&&r.point.x<=this.max.x&&r.point.z>=this.min.z&&r.point.z<=this.max.z)return!0;if(r=lineSegmentPlaneIntersection(o,n,this.yneg),r.count>0&&r.point.x>=this.min.x&&r.point.x<=this.max.x&&r.point.z>=this.min.z&&r.point.z<=this.max.z)return!0;if(r=lineSegmentPlaneIntersection(o,n,this.zpos),r.count>0&&r.point.x>=this.min.x&&r.point.x<=this.max.x&&r.point.y>=this.min.y&&r.point.y<=this.max.y)return!0;if(r=lineSegmentPlaneIntersection(o,n,this.zneg),r.count>0&&r.point.x>=this.min.x&&r.point.x<=this.max.x&&r.point.y>=this.min.y&&r.point.y<=this.max.y)return!0}return r=lineSegmentTriangleIntersection(this.min,this.max,e[0],e[1],e[2]),r.count>0?!0:(r=lineSegmentTriangleIntersection(new Vector3D(this.min.x,this.max.y,this.min.z),new Vector3D(this.max.x,this.min.y,this.max.z),e[0],e[1],e[2]),r.count>0?!0:(r=lineSegmentTriangleIntersection(new Vector3D(this.max.x,this.min.y,this.min.z),new Vector3D(this.min.x,this.max.y,this.max.z),e[0],e[1],e[2]),r.count>0?!0:(r=lineSegmentTriangleIntersection(new Vector3D(this.min.x,this.min.y,this.max.z),new Vector3D(this.max.x,this.max.y,this.min.z),e[0],e[1],e[2]),r.count>0?!0:!1)))},SphereTreeNode.prototype.isLeaf=function(){return 0==this.children.length?!0:!1},SphereTreeNode.prototype.addChild=function(t){this.children.push(t),t.parent=this},SphereTreeNode.prototype.intersects=function(t){return this.sphere.intersects(t.sphere)},SphereTreeNode.prototype.trisIntersect=function(){return!0},BoundingTree.prototype.setTriangles=function(t,e,i){this.tris=t.slice(),this.min.copy(e),this.max.copy(i)},BoundingTree.prototype.setTransform=function(t){this.xform.loadMatrix(t)},SphereTree.prototype=new BoundingTree,SphereTree.prototype.constructor=SphereTree,SphereTree.prototype.setTransform=function(t){this.root&&this.transformNode(t,this.root),BoundingTree.prototype.setTransform.call(this,t)},SphereTree.prototype.transformNode=function(t,e){e.sphere.setTransform(t);for(var i=0;i<e.children.length;i++)this.transformNode(t,e.children[i])},SphereTree.prototype.collides=function(t){if(!this.root||!t.root)return!1;if(this.nodesCollide(this.root,t.root)){if(this.root.isLeaf()&&t.root.isLeaf())return this.root.trisIntersect(t.root);var e=new SphereHitRec,i=[];return t.root.isLeaf()?(e.target=t.root,e.testList=this.root.children):(e.target=this.root,e.testList=t.root.children),i.push(e),this.testSphereHits(i)}return!1},SphereTree.prototype.obstructs=function(t,e){if(!this.root||!t.root)return 0;var i=t.root.sphere.xcenter,r=new Vector3D(i.x+e.x,i.y+e.y,i.z+e.z),o=t.root.sphere.xradius,n=distanceBetweenLineSegmentAndPoint(i,r,this.root.sphere.xcenter);return n<this.root.sphere.xradius+o?n:0},SphereTree.prototype.nodesCollide=function(t,e){return t.intersects(e)},SphereTree.prototype.testSphereHits=function(t){for(;t.length>0;){if(this.testSphereHit(t[0],t))return!0;t.splice(0,1)}return!1},SphereTree.prototype.testSphereHit=function(t,e){for(var i=0;i<t.testList.length;i++)if(this.nodesCollide(t.target,t.testList[i])){var r=new SphereHitRec;if(r.target=t.testList[i],t.target.isLeaf()?r.testList.push(t.target):r.testList=t.target.children,e.push(r),t.target.isLeaf()&&t.testList[i].isLeaf())return t.target.trisIntersect(t.testList[i])}return!1},SphereTree.prototype.rayIntersectsTree=function(t){if(this.root){this.visited.length=this.tris.length;for(var e=0;e<this.visited.length;e++)this.visited[e]=!1;return this.rayIntersectsTreeNode(this.root,t)}return!1},SphereTree.prototype.rayIntersectsTreeNode=function(t,e){if(t.children.length>0){if(0==this.rayIntersectsSphere(t,e))return!1;for(var i=!1,r=0;r<t.children.length;r++)1==this.rayIntersectsTreeNode(t.children[r],e)&&(i=!0);return i?!0:!1}return this.rayIntersectsTriangleList(t.triIndices,e)},SphereTree.prototype.rayIntersectsSphere=function(t,e){var i=e.worldViewMatrix.transform(t.sphere.center.x,t.sphere.center.y,t.sphere.center.z,1),r=t.sphere.radius*max3(e.scale.x,e.scale.y,e.scale.z),o=raySphereIntersection(e.rayOrigin,e.rayDir,i,r);switch(o.count){case 2:if(o.root1<=0&&o.root2<=0)return!1;break;case 1:if(o.root1<=0)return!1;break;case 0:default:return!1}return!0},SphereTree.prototype.rayIntersectsTriangleList=function(t,e){for(var i=0;i<t.length;i++){var r=t[i];if(1!=this.visited[r]){var o=this.tris[r],n=e.worldViewMatrix.transform(o.v0.x,o.v0.y,o.v0.z,1),a=e.worldViewMatrix.transform(o.v1.x,o.v1.y,o.v1.z,1),s=e.worldViewMatrix.transform(o.v2.x,o.v2.y,o.v2.z,1),l=rayTriangleIntersection(e.rayOrigin,e.rayDir,n,a,s,!1,e.doubleSided?!1:!0);if(l.result&&l.t>=e.nearDistance&&l.t<=e.farDistance&&l.t<e.intersectRecord.distance){for(var c=new Vector3D(o.v0.x*(1-l.u-l.v)+o.v1.x*l.u+o.v2.x*l.v,o.v0.y*(1-l.u-l.v)+o.v1.y*l.u+o.v2.y*l.v,o.v0.z*(1-l.u-l.v)+o.v1.z*l.u+o.v2.z*l.v),h=e.worldMatrix.transform(c.x,c.y,c.z,1),d=e.worldViewMatrix.transform(c.x,c.y,c.z,1),u=0;u<e.clipPlanes.length;u++)if(pointOnNegativeSideOfPlane(h,e.clipPlanes[u])){this.visited[r]=!0;break}if(this.visited[r])continue;e.intersectRecord.distance=l.t,e.intersectRecord.pointModel.copy(c),e.intersectRecord.pointWorld.copy(h),e.intersectRecord.pointView.copy(d),e.intersectRecord.triIndex=r,e.intersects=!0}this.visited[r]=!0}}return e.intersects},Octree.prototype=new SphereTree,Octree.prototype.constructor=Octree,Octree.prototype.buildTree=function(t){if(!(0>t)){var e=new SphereTreeNode(this);e.sphere.center.copy(midpoint(this.min,this.max)),e.sphere.xcenter.copy(e.sphere.center),e.sphere.radius=distanceBetween(e.sphere.center,this.max),e.sphere.xradius=e.sphere.radius,e.triIndices.length=this.tris.length;for(var i=0;i<this.tris.length;i++)e.triIndices[i]=i;t>0&&this.buildTreeLevels(t,this.min,this.max,e,e.triIndices),this.root=e}},Octree.prototype.buildTreeLevels=function(t,e,i,r,o){if(r.level!=t&&1!=o.length){var n=new Vector3D(e.x+(i.x-e.x)/2,e.y+(i.y-e.y)/2,e.z+(i.z-e.z)/2),a=new Array(8);a[0]=new Region(e.x,e.y,e.z,n.x,n.y,n.z),a[1]=new Region(n.x,e.y,e.z,i.x,n.y,n.z),a[2]=new Region(e.x,e.y,n.z,n.x,n.y,i.z),a[3]=new Region(n.x,e.y,n.z,i.x,n.y,i.z),a[4]=new Region(e.x,n.y,e.z,n.x,i.y,n.z),a[5]=new Region(n.x,n.y,e.z,i.x,i.y,n.z),a[6]=new Region(e.x,n.y,n.z,n.x,i.y,i.z),a[7]=new Region(n.x,n.y,n.z,i.x,i.y,i.z);for(var s=0;8>s;s++){var l=a[s].containsGeometry(this.tris,o);if(l.length>0){var c=new SphereTreeNode(this);c.level=r.level+1,c.sphere.center.copy(midpoint(a[s].min,a[s].max)),c.sphere.xcenter.copy(c.sphere.center),c.sphere.radius=distanceBetween(c.sphere.center,a[s].max),c.sphere.xradius=c.sphere.radius,c.triIndices=l.slice(),r.addChild(c),this.buildTreeLevels(t,a[s].min,a[s].max,c,c.triIndices)}}}},Context.prototype.clear=function(){this.container=null,this.attribute=null,this.item=0,this.containerName="",this.attributeName=""
};var eRenderContextMethod={Unknown:0,ApplyProjectionTransform:1,ApplyViewTransform:2,ApplyWorldTransform:3,Clear:4,ClearColor:5,ClearDepth:6,ClearStencil:7,CreateProgram:8,CreateTextureObject:9,CreateVertexBuffer:10,CullFace:11,Disable:12,Enable:13,EnableClipPlane:14,Enabled:15,EnableLight:16,EnableTextureStage:17,Finish:18,GetClipPlane:19,GetEnabledClipPlanes:20,GetEnabledLights:21,GetGlobalIllumination:22,GetLight:23,GetMaxLightCount:24,GetMaxTextureStages:25,GetProgram:26,PerspectiveMatrixLH:27,OrthographicMatrixLH:28,SetBlendColor:29,SetBlendFactor:30,SetClipPlane:31,SetDepthFunc:32,SetEnabledClipPlanes:33,SetEnabledLights:34,SetFrontMaterial:35,SetGlobalIllumination:36,SetLight:37,SetShadeModel:38,SetStencilFunc:39,SetStencilMask:40,SetStencilOp:41,SetTextureBlendFactor:42,SetTextureBlendOp:43,SetTextureColorMask:44,SetViewport:45,VB_SetPrimitiveType:46,VB_SetVertices:47,VB_SetNormals:48,VB_SetColors:49,VB_SetUVCoords:50,VB_SetTextureStage:51,VB_Draw:52,TO_SetImage:53,TO_SetImageData:54,TO_SetVideo:55,SetMatrixMode:56,PushMatrix:57,PopMatrix:58,LoadMatrix:59,LeftMultMatrix:60,RightMultMatrix:61,UseProgram:62,SetModelID:63};DisplayListObj.prototype.record_begin=function(){this.clear(),this.renderContext.setDisplayList(this)},DisplayListObj.prototype.record_end=function(){this.renderContext.setDisplayList(null)},DisplayListObj.prototype.play=function(){for(var t=0;t<this.displayList.length;t++)this.invokeMethod(this.displayList[t])},DisplayListObj.prototype.addMethodDesc=function(t){this.displayList.push(t)},DisplayListObj.prototype.clear=function(){this.displayList=[]},DisplayListObj.prototype.invokeMethod=function(t){switch(t.method){case eRenderContextMethod.ApplyProjectionTransform:this.renderContext.applyProjectionTransform();break;case eRenderContextMethod.ApplyViewTransform:this.renderContext.applyViewTransform();break;case eRenderContextMethod.ApplyWorldTransform:this.renderContext.applyWorldTransform();break;case eRenderContextMethod.Clear:return this.renderContext.clear(t.params[0]);case eRenderContextMethod.ClearColor:this.renderContext.clearColor(t.params[0],t.params[1],t.params[2],t.params[3]);break;case eRenderContextMethod.ClearDepth:this.renderContext.clearDepth(t.params[0]);break;case eRenderContextMethod.ClearStencil:this.renderContext.clearStencil(t.params[0]);break;case eRenderContextMethod.CreateProgram:return this.renderContext.createProgram();case eRenderContextMethod.CreateTextureObject:return this.renderContext.createTextureObject();case eRenderContextMethod.CreateVertexBuffer:return this.renderContext.createVertexBuffer(t.params[0]);case eRenderContextMethod.CullFace:return this.renderContext.cullFace(t.params[0]);case eRenderContextMethod.Disable:this.renderContext.disable(t.params[0]);break;case eRenderContextMethod.Enable:this.renderContext.enable(t.params[0]);break;case eRenderContextMethod.EnableClipPlane:this.renderContext.enableClipPlane(t.params[0],t.params[1]);break;case eRenderContextMethod.Enabled:return this.renderContext.enabled(t.params[0]);case eRenderContextMethod.EnableLight:this.renderContext.enableLight(t.params[0],t.params[1]);break;case eRenderContextMethod.EnableTextureStage:this.renderContext.enableTextureStage(t.params[0],t.params[1]);break;case eRenderContextMethod.Finish:this.renderContext.finish();break;case eRenderContextMethod.GetClipPlane:return this.renderContext.getClipPlane(t.params[0]);case eRenderContextMethod.GetEnabledClipPlanes:return this.renderContext.getEnabledClipPlanes();case eRenderContextMethod.GetEnabledLights:return this.renderContext.getEnabledLights();case eRenderContextMethod.GetGlobalIllumination:return this.renderContext.getGlobalIllumination();case eRenderContextMethod.GetLight:return this.renderContext.getLight(t.params[0]);case eRenderContextMethod.GetMaxLightCount:return this.renderContext.getMaxLightCount();case eRenderContextMethod.GetMaxTextureStages:return this.renderContext.getMaxTextureStages();case eRenderContextMethod.GetProgram:return this.renderContext.getProgram();case eRenderContextMethod.PerspectiveMatrixLH:this.renderContext.perspectiveMatrixLH(t.params[0],t.params[1],t.params[2],t.params[3],t.params[4],t.params[5]);break;case eRenderContextMethod.OrthographicMatrixLH:this.renderContext.orthographicMatrixLH(t.params[0],t.params[1],t.params[2],t.params[3],t.params[4],t.params[5]);break;case eRenderContextMethod.SetBlendColor:this.renderContext.setBlendColor(t.params[0],t.params[1],t.params[2],t.params[3]);break;case eRenderContextMethod.SetBlendFactor:this.renderContext.setBlendFactor(t.params[0],t.params[1]);break;case eRenderContextMethod.SetClipPlane:this.renderContext.setClipPlane(t.params[0]);break;case eRenderContextMethod.SetDepthFunc:this.renderContext.setDepthFunc(t.params[0]);break;case eRenderContextMethod.SetEnabledClipPlanes:this.renderContext.setEnabledClipPlanes(t.params[0]);break;case eRenderContextMethod.SetEnabledLights:this.renderContext.setEnabledLights(t.params[0]);break;case eRenderContextMethod.SetFrontMaterial:this.renderContext.setFrontMaterial(t.params[0]);break;case eRenderContextMethod.SetGlobalIllumination:this.renderContext.setGlobalIllumination(t.params[0]);break;case eRenderContextMethod.SetLight:this.renderContext.setLight(t.params[0],t.params[1]);break;case eRenderContextMethod.SetModelID:this.renderContext.setModelID(t.params[0]);break;case eRenderContextMethod.SetShadeModel:this.renderContext.setShadeModel(t.params[0]);break;case eRenderContextMethod.SetStencilFunc:this.renderContext.setStencilFunc(t.params[0],t.params[1],t.params[2]);break;case eRenderContextMethod.SetStencilMask:this.renderContext.setStencilMask(t.params[0]);break;case eRenderContextMethod.SetStencilOp:this.renderContext.setStencilOp(t.params[0],t.params[1],t.params[2]);break;case eRenderContextMethod.SetTextureBlendFactor:this.renderContext.setTextureBlendFactor(t.params[0]);break;case eRenderContextMethod.SetTextureBlendOp:this.renderContext.setTextureBlendOp(t.params[0]);break;case eRenderContextMethod.SetTextureColorMask:this.renderContext.setTextureColorMask(t.params[0],t.params[1],t.params[2],t.params[3]);break;case eRenderContextMethod.SetViewport:this.renderContext.setViewport(t.params[0],t.params[1],t.params[2],t.params[3]);break;case eRenderContextMethod.VB_SetPrimitiveType:t.params[0].setPrimitiveType(t.params[1]);break;case eRenderContextMethod.VB_SetVertices:t.params[0].setVertices(t.params[1]);break;case eRenderContextMethod.VB_SetNormals:t.params[0].setNormals(t.params[1]);break;case eRenderContextMethod.VB_SetColors:t.params[0].setColors(t.params[1]);break;case eRenderContextMethod.VB_SetUVCoords:t.params[0].setUVCoords(t.params[1],t.params[2]);break;case eRenderContextMethod.VB_SetTextureStage:t.params[0].setTextureStage(t.params[1],t.params[2],t.params[3],t.params[4],t.params[5],t.params[6]);break;case eRenderContextMethod.VB_Draw:t.params[0].draw();break;case eRenderContextMethod.TO_SetImage:t.params[0].setImage(t.params[1],t.params[2],t.params[3]);break;case eRenderContextMethod.TO_SetImageData:t.params[0].setImageData(t.params[1],t.params[2],t.params[3],t.params[4],t.params[5]);break;case eRenderContextMethod.TO_SetVideo:t.params[0].setVideo(t.params[1]);break;case eRenderContextMethod.SetMatrixMode:this.renderContext.setMatrixMode(t.params[0]);break;case eRenderContextMethod.PushMatrix:this.renderContext.pushMatrix();break;case eRenderContextMethod.PopMatrix:this.renderContext.popMatrix();break;case eRenderContextMethod.LoadMatrix:this.renderContext.loadMatrix(t.params[0]);break;case eRenderContextMethod.LeftMultMatrix:this.renderContext.leftMultMatrix(t.params[0]);break;case eRenderContextMethod.RightMultMatrix:this.renderContext.rightMultMatrix(t.params[0]);break;case eRenderContextMethod.UseProgram:this.renderContext.useProgram(t.params[0])}};var eRenderMode={AlphaBlend:1,CullBackFace:2,DepthTest:3,DepthBufferWrite:4,Lighting:5,NormalizeNormals:6,Fog:7,StencilTest:8,PolygonOffset_Fill:9,PolygonOffset_Line:10,PolygonOffset_Point:11},eDepthFunc={Never:1,Less:2,LessEqual:3,Equal:4,NotEqual:5,GreaterEqual:6,Greater:7,Always:8},eStencilFunc={Never:1,Less:2,LessEqual:3,Equal:4,NotEqual:5,GreaterEqual:6,Greater:7,Always:8},eStencilOp={Keep:0,Replace:1,Increment:2,Decrement:3,Invert:4,Zero:5},eShadeModel={Flat:1,Gouraud:2},RC_BLEND=1,RC_CULL_FACE=2884,RC_FRONT=16,RC_BACK=32,LIGHTDESC_POSITION_BIT=1,LIGHTDESC_DIRECTION_BIT=2,LIGHTDESC_AMBIENT_BIT=4,LIGHTDESC_DIFFUSE_BIT=8,LIGHTDESC_SPECULAR_BIT=16,LIGHTDESC_CONSTANT_ATT_BIT=32,LIGHTDESC_LINEAR_ATT_BIT=64,LIGHTDESC_QUADRATIC_ATT_BIT=128,LIGHTDESC_RANGE_BIT=256,LIGHTDESC_OUTER_CONE_DEG_BIT=512,LIGHTDESC_INNER_CONE_DEG_BIT=1024,LIGHTDESC_CONE_FALLOFF_BIT=2048,MATERIALDESC_AMBIENT_BIT=1,MATERIALDESC_DIFFUSE_BIT=2,MATERIALDESC_SPECULAR_BIT=4,MATERIALDESC_EMISSIVE_BIT=8,MATERIALDESC_GLOSSINESS_BIT=16,MATERIALDESC_ALL_BITS=31,RC_COLOR_BUFFER_BIT=1,RC_DEPTH_BUFFER_BIT=2,RC_STENCIL_BUFFER_BIT=4,RC_ZERO=1,RC_ONE=2,RC_SRC_COLOR=4,RC_SRC_ALPHA=8,RC_ONE_MINUS_SRC_COLOR=16,RC_ONE_MINUS_SRC_ALPHA=32,RC_DEST_COLOR=64,RC_DEST_ALPHA=128,RC_ONE_MINUS_DEST_COLOR=256,RC_ONE_MINUS_DEST_ALPHA=512,RC_MODULATE=1,RC_REPLACE=2,RC_BLEND=4,RC_DECAL=8,eTextureUnit={Color0:0,Color1:1,ShadowMap:2},eTextureCoordSrc={VertexUVs:1,ViewSpaceVertexPosition:2,ViewSpaceReflectionVector:3},RC_REPEAT=10497,RC_CLAMP_TO_EDGE=33071,RC_MIRRORED_REPEAT=33648,RC_WORLD=1,RC_VIEW=2,RC_PROJECTION=4,RC_TEXTURE=8,eCubeMapFace={Positive_X:0,Negative_X:1,Positive_Y:2,Negative_Y:3,Positive_Z:4,Negative_Z:5},RENDERSTATE_TRANSFORM_BIT=1,RENDERSTATE_LIGHTING_BIT=2,RENDERSTATE_MATERIAL_BIT=4,RENDERSTATE_FOG_BIT=8,RENDERSTATE_CLIP_PLANE_BIT=16,RENDERSTATE_ZBUFFER_BIT=32,RENDERSTATE_ALL_BITS=63,RC_POINTS=0,RC_LINES=1,RC_LINE_LOOP=2,RC_LINE_STRIP=3,RC_TRIANGLES=4,RC_TRIANGLE_STRIP=5,RC_TRIANGLE_FAN=6;WebGLDebugUtils=function(){function t(t){if(null==l){l={};for(var e in t)"number"==typeof t[e]&&(l[t[e]]=e)}}function e(){if(null==l)throw"WebGLDebugUtils.init(ctx) not called"}function i(t){return e(),void 0!==l[t]}function r(t){e();var i=l[t];return void 0!==i?i:"*UNKNOWN WebGL ENUM"}function o(t,e,i){var o=s[t];return void 0!==o&&o[e]?r(i):i.toString()}function n(e,i){function n(t,e){return function(){var r=t[e].apply(t,arguments),o=t.getError();return 0!=o&&(s[o]=!0,i(o,e,arguments)),r}}t(e),i=i||function(t,e,i){for(var n="",s=0;s<i.length;++s)n+=(0==s?"":", ")+o(e,s,i[s]);a("WebGL error "+r(t)+" in "+e+"("+n+")")};var s={},l={};for(var c in e)l[c]="function"==typeof e[c]?n(e,c):e[c];return l.getError=function(){for(var t in s)if(s[t])return s[t]=!1,t;return e.NO_ERROR},l}var a=function(t){window.console&&window.console.log&&window.console.log(t)},s={enable:{0:!0},disable:{0:!0},getParameter:{0:!0},drawArrays:{0:!0},drawElements:{0:!0,2:!0},createShader:{0:!0},getShaderParameter:{1:!0},getProgramParameter:{1:!0},getVertexAttrib:{1:!0},vertexAttribPointer:{2:!0},bindTexture:{0:!0},activeTexture:{0:!0},getTexParameter:{0:!0,1:!0},texParameterf:{0:!0,1:!0},texParameteri:{0:!0,1:!0,2:!0},texImage2D:{0:!0,2:!0,6:!0,7:!0},texSubImage2D:{0:!0,6:!0,7:!0},copyTexImage2D:{0:!0,2:!0},copyTexSubImage2D:{0:!0},generateMipmap:{0:!0},bindBuffer:{0:!0},bufferData:{0:!0,2:!0},bufferSubData:{0:!0},getBufferParameter:{0:!0,1:!0},pixelStorei:{0:!0,1:!0},readPixels:{4:!0,5:!0},bindRenderbuffer:{0:!0},bindFramebuffer:{0:!0},checkFramebufferStatus:{0:!0},framebufferRenderbuffer:{0:!0,1:!0,2:!0},framebufferTexture2D:{0:!0,1:!0,2:!0},getFramebufferAttachmentParameter:{0:!0,1:!0,2:!0},getRenderbufferParameter:{0:!0,1:!0},renderbufferStorage:{0:!0,1:!0},clear:{0:!0},depthFunc:{0:!0},blendFunc:{0:!0,1:!0},blendFuncSeparate:{0:!0,1:!0,2:!0,3:!0},blendEquation:{0:!0},blendEquationSeparate:{0:!0,1:!0},stencilFunc:{0:!0},stencilFuncSeparate:{0:!0,1:!0},stencilMaskSeparate:{0:!0},stencilOp:{0:!0,1:!0,2:!0},stencilOpSeparate:{0:!0,1:!0,2:!0,3:!0},cullFace:{0:!0},frontFace:{0:!0}},l=null;return{init:t,mightBeEnum:i,glEnumToString:r,glFunctionArgToString:o,makeDebugContext:n}}(),function(){var t,e,i,r,o,n,a,s,l,c,h,d,u,p,f=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};if(o=function(){var t,e,i;return t=document.createElement("canvas"),t.width=2,t.height=2,e=t.getContext("2d"),i=e.getImageData(0,0,2,2),i.data.set(new Uint8ClampedArray([0,0,0,0,255,255,255,255,0,0,0,0,255,255,255,255])),e.putImageData(i,0,0),t},o(),e=function(t,e){var i,r,n,a,s,l,c,h,d,u,p,f,_,m;if(l=t.createProgram(),_=t.createShader(t.VERTEX_SHADER),t.attachShader(l,_),t.shaderSource(_,"attribute vec2 position;\nvoid main(){\n    gl_Position = vec4(position, 0.0, 1.0);\n}"),t.compileShader(_),!t.getShaderParameter(_,t.COMPILE_STATUS))throw t.getShaderInfoLog(_);if(n=t.createShader(t.FRAGMENT_SHADER),t.attachShader(l,n),t.shaderSource(n,"uniform sampler2D source;\nvoid main(){\n    gl_FragColor = texture2D(source, vec2(1.0, 1.0));\n}"),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw t.getShaderInfoLog(n);if(t.linkProgram(l),!t.getProgramParameter(l,t.LINK_STATUS))throw t.getProgramInfoLog(l);return t.useProgram(l),r=function(){return t.deleteShader(n),t.deleteShader(_),t.deleteProgram(l),t.deleteBuffer(i),t.deleteTexture(d),t.deleteTexture(f),t.deleteFramebuffer(a),t.bindBuffer(t.ARRAY_BUFFER,null),t.useProgram(null),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null)},f=t.createTexture(),t.bindTexture(t.TEXTURE_2D,f),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,2,2,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),a=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,a),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,f,0),u=o(),d=t.createTexture(),t.bindTexture(t.TEXTURE_2D,d),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,e,u),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),m=new Float32Array([1,1,-1,1,-1,-1,1,1,-1,-1,1,-1]),i=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,m,t.STATIC_DRAW),s=t.getAttribLocation(l,"position"),p=t.getUniformLocation(l,"source"),t.enableVertexAttribArray(s),t.vertexAttribPointer(s,2,t.FLOAT,!1,0,0),t.uniform1i(p,0),t.drawArrays(t.TRIANGLES,0,6),c=new Uint8Array(16),t.readPixels(0,0,2,2,t.RGBA,t.UNSIGNED_BYTE,c),h=Math.abs(c[0]-127)<10,r(),h},r=function(t,e){var i;return i=t.createTexture(),t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,2,2,0,t.RGBA,e,null),0===t.getError()?(t.deleteTexture(i),!0):(t.deleteTexture(i),!1)},t=function(t,e){var i,r,o;return o=t.createTexture(),t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,2,2,0,t.RGBA,e,null),r=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0),i=t.checkFramebufferStatus(t.FRAMEBUFFER),t.deleteTexture(o),t.deleteFramebuffer(r),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),i===t.FRAMEBUFFER_COMPLETE?!0:!1},l=[],c={},h=[],i=function(){var i,o,n,a,s,d,u;i=document.createElement("canvas"),n=null;try{n=i.getContext("experimental-webgl"),null===n&&(n=i.getContext("webgl"))}catch(p){}return null!=n&&(d=n.getExtension("OES_texture_float"),null===d?r(n,n.FLOAT)?(u=!0,l.push("OES_texture_float"),c.OES_texture_float={shim:!0}):(u=!1,h.push("OES_texture_float")):r(n,n.FLOAT)?(u=!0,l.push("OES_texture_float")):(u=!1,h.push("OES_texture_float")),u&&(o=n.getExtension("WEBGL_color_buffer_float"),null===o?t(n,n.FLOAT)?(l.push("WEBGL_color_buffer_float"),c.WEBGL_color_buffer_float={shim:!0,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863}):h.push("WEBGL_color_buffer_float"):t(n,n.FLOAT)?l.push("WEBGL_color_buffer_float"):h.push("WEBGL_color_buffer_float"),o=n.getExtension("OES_texture_float_linear"),null===o?e(n,n.FLOAT)?(l.push("OES_texture_float_linear"),c.OES_texture_float_linear={shim:!0}):h.push("OES_texture_float_linear"):e(n,n.FLOAT)?l.push("OES_texture_float_linear"):h.push("OES_texture_float_linear")),a=n.getExtension("OES_texture_half_float"),null===a?r(n,36193)?(s=!0,l.push("OES_texture_half_float"),a=c.OES_texture_half_float={HALF_FLOAT_OES:36193,shim:!0}):(s=!1,h.push("OES_texture_half_float")):r(n,a.HALF_FLOAT_OES)?(s=!0,l.push("OES_texture_half_float")):(s=!1,h.push("OES_texture_half_float")),s)?(o=n.getExtension("EXT_color_buffer_half_float"),null===o?t(n,a.HALF_FLOAT_OES)?(l.push("EXT_color_buffer_half_float"),c.EXT_color_buffer_half_float={shim:!0,RGBA16F_EXT:34842,RGB16F_EXT:34843,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863}):h.push("EXT_color_buffer_half_float"):t(n,a.HALF_FLOAT_OES)?l.push("EXT_color_buffer_half_float"):h.push("EXT_color_buffer_half_float"),o=n.getExtension("OES_texture_half_float_linear"),null===o?e(n,a.HALF_FLOAT_OES)?(l.push("OES_texture_half_float_linear"),c.OES_texture_half_float_linear={shim:!0}):h.push("OES_texture_half_float_linear"):e(n,a.HALF_FLOAT_OES)?l.push("OES_texture_half_float_linear"):h.push("OES_texture_half_float_linear")):void 0},null!=window.WebGLRenderingContext){for(i(),d={},u=0,p=h.length;p>u;u++)s=h[u],d[s]=!0;n=WebGLRenderingContext.prototype.getExtension,WebGLRenderingContext.prototype.getExtension=function(t){var e;return e=c[t],void 0===e?d[t]?null:n.call(this,t):e},a=WebGLRenderingContext.prototype.getSupportedExtensions,WebGLRenderingContext.prototype.getSupportedExtensions=function(){var t,e,i,r,o,n,s;for(i=a.call(this),e=[],r=0,n=i.length;n>r;r++)t=i[r],void 0===d[t]&&e.push(t);for(o=0,s=l.length;s>o;o++)t=l[o],f.call(e,t)<0&&e.push(t);return e},WebGLRenderingContext.prototype.getFloatExtension=function(t){var e,i,r,o,n,a,l,c,h,d,u,p,f,_,m,g,y,b,v,M,S,x,T,E,C,A,w,R,D;for(null==(E=t.prefer)&&(t.prefer=["half"]),null==(C=t.require)&&(t.require=[]),null==(A=t["throws"])&&(t["throws"]=!0),_=this.getExtension("OES_texture_float"),a=this.getExtension("OES_texture_half_float"),p=this.getExtension("WEBGL_color_buffer_float"),o=this.getExtension("EXT_color_buffer_half_float"),f=this.getExtension("OES_texture_float_linear"),n=this.getExtension("OES_texture_half_float_linear"),u={texture:null!==_,filterable:null!==f,renderable:null!==p,score:0,precision:"single",half:!1,single:!0,type:this.FLOAT},r={texture:null!==a,filterable:null!==n,renderable:null!==o,score:0,precision:"half",half:!0,single:!1,type:null!=(w=null!=a?a.HALF_FLOAT_OES:void 0)?w:null},i=[],u.texture&&i.push(u),r.texture&&i.push(r),d=[],g=0,v=i.length;v>g;g++){for(e=i[g],m=!0,R=t.require,y=0,M=R.length;M>y;y++)s=R[y],e[s]===!1&&(m=!1);m&&d.push(e)}for(b=0,S=d.length;S>b;b++)for(e=d[b],D=t.prefer,l=T=0,x=D.length;x>T;l=++T)h=D[l],c=Math.pow(2,t.prefer.length-l-1),e[h]&&(e.score+=c);if(d.sort(function(t,e){return t.score===e.score?0:t.score<e.score?1:t.score>e.score?-1:void 0}),0===d.length){if(t["throws"])throw"No floating point texture support that is "+t.require.join(", ");return null}return d=d[0],{filterable:d.filterable,renderable:d.renderable,type:d.type,precision:d.precision}}}}.call(this);var gl_MaxLights=8,gl_MaxTextureStages=2,gl_MaxClipPlanes=8;webglRC.prototype=new RenderContext,webglRC.prototype.constructor=webglRC,webglVB.prototype=new VertexBuffer,webglVB.prototype.constructor=webglVB,webglTO.prototype=new TextureObject,webglTO.prototype.constructor=webglTO;var default_fragment_lighting_vs=["attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec4 aVertexColor;","attribute vec2 aTextureCoord0;","attribute vec2 aTextureCoord1;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uWorldMatrix;","uniform mat4 uNormalMatrix;","","varying vec4 vVertexPosition;","varying vec4 vTransformedNormal;","varying vec4 vVertexColor;","varying vec4 vViewPosition;","varying vec4 vViewDirection;","varying vec2 vTextureCoord["+gl_MaxTextureStages+"];","","void main()","{","   vVertexPosition = uWorldMatrix * vec4(aVertexPosition, 1);","   vTransformedNormal = normalize(uNormalMatrix * vec4(aVertexNormal, 0));","   vVertexColor = aVertexColor;","   vViewPosition = uViewMatrix * vec4(0, 0, 0, 1);","   vViewDirection = normalize(-vViewPosition);","   vTextureCoord[0] = aTextureCoord0;","   vTextureCoord[1] = aTextureCoord1;","   gl_Position = uProjectionMatrix * uViewMatrix * vVertexPosition;","}"].join("\n"),default_fragment_lighting_fs=["#ifdef GL_ES","precision highp float;","#endif","","vec4 gAmbient;","vec4 gDiffuse;","vec4 gSpecular;","","uniform vec4 uGlobalAmbientLight;","","uniform int uLightSource_enabled["+gl_MaxLights+"];","uniform vec4 uLightSource_ambient["+gl_MaxLights+"];","uniform vec4 uLightSource_diffuse["+gl_MaxLights+"];","uniform vec4 uLightSource_specular["+gl_MaxLights+"];","uniform vec4 uLightSource_position["+gl_MaxLights+"];","uniform vec4 uLightSource_halfVector["+gl_MaxLights+"];","uniform vec4 uLightSource_spotDirection["+gl_MaxLights+"];","uniform float uLightSource_spotExponent["+gl_MaxLights+"];","uniform float uLightSource_spotCutoff["+gl_MaxLights+"];","uniform float uLightSource_spotCosCutoff["+gl_MaxLights+"];","uniform float uLightSource_constantAttenuation["+gl_MaxLights+"];","uniform float uLightSource_linearAttenuation["+gl_MaxLights+"];","uniform float uLightSource_quadraticAttenuation["+gl_MaxLights+"];","uniform float uLightSource_range["+gl_MaxLights+"];","","uniform vec4 uFrontMaterial_ambient;","uniform vec4 uFrontMaterial_diffuse;","uniform vec4 uFrontMaterial_specular;","uniform vec4 uFrontMaterial_emission;","uniform float uFrontMaterial_shininess;","","uniform int uLightingEnabled;","uniform int uTexturesEnabled;","uniform int uTextureStageEnabled["+gl_MaxTextureStages+"];","uniform sampler2D uTextureSamplerColor["+gl_MaxTextureStages+"];","uniform sampler2D uTextureSamplerAlpha["+gl_MaxTextureStages+"];","uniform int uTextureBlendOp;","uniform vec4 uTextureColorMask;","uniform vec4 uClipPlane["+gl_MaxClipPlanes+"];","uniform int uClipPlaneEnabled["+gl_MaxClipPlanes+"];","","varying vec4 vVertexPosition;","varying vec4 vTransformedNormal;","varying vec4 vVertexColor;","varying vec4 vViewPosition;","varying vec4 vViewDirection;","varying vec2 vTextureCoord["+gl_MaxTextureStages+"];","","void directionalLight(vec4 position, vec4 ambient, vec4 diffuse, vec4 specular, vec3 normal, vec3 halfVector)","{","   vec3 lightDir;","   float nDotL;","   float nDotHV;","   float pf;","","   lightDir = normalize(vec3(position));","","   nDotL = max(dot(normal, lightDir), 0.0);","   if (nDotL == 0.0)","   {","       pf = 0.0;","   }","   else","   {","       nDotHV = max(0.0, dot(normal, halfVector));","       pf = pow(nDotHV, uFrontMaterial_shininess);","   }","","   gAmbient  += ambient * uFrontMaterial_ambient;","   gDiffuse  += diffuse * uFrontMaterial_diffuse * nDotL;","   gSpecular += specular * uFrontMaterial_specular * pf;","}","","void pointLight(vec4 position, float constantAttenuation, float linearAttenuation, float quadraticAttenuation, float range,","                vec4 ambient, vec4 diffuse, vec4 specular, vec3 normal, vec3 eye, vec3 vPosition)","{","   float nDotL;","   float nDotHV;","   float pf;","   float attenuation;","   float d;","   vec3  L;","   vec3  halfVector;","","","   L = vec3(position) - vPosition;","","","   d = length(L); if (d > range) return;","","","   L = normalize(L);","","","   attenuation = 1.0 / (constantAttenuation +","      linearAttenuation * d +","      quadraticAttenuation * d * d);","","   nDotL = max(0.0, dot(normal, L));","   nDotHV = max(0.0, dot(normal, normalize(L + eye)));","","   if (nDotL == 0.0)","   {","       pf = 0.0;","   }","   else","   {","       pf = pow(nDotHV, uFrontMaterial_shininess);","   }","","   gAmbient  += ambient * uFrontMaterial_ambient * attenuation;","   gDiffuse  += diffuse * uFrontMaterial_diffuse * nDotL * attenuation;","   gSpecular += specular * uFrontMaterial_specular * pf * attenuation;","}","","void main()","{","   vec4 lightingFactor;","   if (uLightingEnabled != 0)","   {","       gAmbient = vec4(0, 0, 0, 0);","       gDiffuse = vec4(0, 0, 0, 0);","       gSpecular = vec4(0, 0, 0, 0);","","       for (int i=0; i < "+gl_MaxLights+"; i++)","       {","           if (uLightSource_enabled[i] != 0)","           {","               if (uLightSource_position[i][3] == 0.0)","               {","                   directionalLight(uLightSource_position[i], uLightSource_ambient[i],","                       uLightSource_diffuse[i], uLightSource_specular[i],","                       normalize(vec3(vTransformedNormal)),","                       normalize(vec3(vViewDirection) + vec3(uLightSource_position[i])));","               }","               else if (uLightSource_spotCutoff[i] > 90.0)","               {","                   pointLight(uLightSource_position[i], uLightSource_constantAttenuation[i],","                       uLightSource_linearAttenuation[i], uLightSource_quadraticAttenuation[i], uLightSource_range[i],","                       uLightSource_ambient[i], uLightSource_diffuse[i], uLightSource_specular[i],","                       normalize(vec3(vTransformedNormal)),","                       vec3(vViewDirection), vec3(vVertexPosition));","               }","               else","               {","               }","           }","       }","","       lightingFactor  = uGlobalAmbientLight * uFrontMaterial_ambient;","       lightingFactor += gAmbient + gDiffuse + gSpecular;","       lightingFactor.a  = uFrontMaterial_ambient.a / 3.0 + ","                           uFrontMaterial_diffuse.a / 3.0 + ","                           uFrontMaterial_specular.a / 3.0;","   }","   else","   {","       lightingFactor = vVertexColor;","   }","","   vec4 fragmentColor;","   vec4 fragmentColor1;","   vec4 fragmentColor2;","","   for (int i=0; i < "+gl_MaxClipPlanes+"; i++)","   {","       if (uClipPlaneEnabled[i] != 0)","       {","           if (dot(vVertexPosition.xyz, uClipPlane[i].xyz) - uClipPlane[i].w >= 0.0) discard;","       }","   }","","   if (uTexturesEnabled == 1 && uTextureStageEnabled[0] == 1 && uTextureStageEnabled[1] == 0)","   {","       fragmentColor = texture2D(uTextureSamplerColor[0], vec2(vTextureCoord[0].s, vTextureCoord[0].t));","       if (fragmentColor.r == uTextureColorMask.r && fragmentColor.g == uTextureColorMask.g && fragmentColor.b == uTextureColorMask.b && fragmentColor.a == uTextureColorMask.a) discard;","       if (uTextureBlendOp == "+RC_MODULATE+")","       {","           if (fragmentColor.a == 0.0) discard;","           else gl_FragColor = fragmentColor * lightingFactor;","       }","       else if (uTextureBlendOp == "+RC_REPLACE+")","       {","           gl_FragColor = fragmentColor;","       }","       else","       {","           gl_FragColor = lightingFactor;","       }","   }","   else if (uTexturesEnabled == 1 && uTextureStageEnabled[0] == 1 && uTextureStageEnabled[1] == 1)","   {","       fragmentColor1 = texture2D(uTextureSamplerColor[0], vec2(vTextureCoord[0].s, vTextureCoord[0].t));","       fragmentColor2 = texture2D(uTextureSamplerColor[1], vec2(vTextureCoord[1].s, vTextureCoord[1].t));","       if (uTextureBlendOp == "+RC_MODULATE+")","       {","           fragmentColor1.a = fragmentColor2.a;","           if (fragmentColor1.a == 0.0) discard;","           else gl_FragColor = fragmentColor1 * lightingFactor;","       }","       else if (uTextureBlendOp == "+RC_REPLACE+")","       {","           gl_FragColor = fragmentColor1 * fragmentColor2;","       }","       else","       {","           gl_FragColor = lightingFactor;","       }","   }","   else","   {","       gl_FragColor = lightingFactor;","   }","}"].join("\n"),default_vertex_lighting_vs=["#ifdef GL_ES","precision highp float;","#endif","","vec4 gAmbient;","vec4 gDiffuse;","vec4 gSpecular;","","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec4 aVertexColor;","attribute vec2 aTextureCoord0;","attribute vec2 aTextureCoord1;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uWorldMatrix;","uniform mat4 uNormalMatrix;","","uniform vec4 uGlobalAmbientLight;","","uniform int uLightSource_enabled["+gl_MaxLights+"];","uniform vec4 uLightSource_ambient["+gl_MaxLights+"];","uniform vec4 uLightSource_diffuse["+gl_MaxLights+"];","uniform vec4 uLightSource_specular["+gl_MaxLights+"];","uniform vec4 uLightSource_position["+gl_MaxLights+"];","uniform vec4 uLightSource_halfVector["+gl_MaxLights+"];","uniform vec4 uLightSource_spotDirection["+gl_MaxLights+"];","uniform float uLightSource_spotExponent["+gl_MaxLights+"];","uniform float uLightSource_spotCutoff["+gl_MaxLights+"];","uniform float uLightSource_spotCosCutoff["+gl_MaxLights+"];","uniform float uLightSource_constantAttenuation["+gl_MaxLights+"];","uniform float uLightSource_linearAttenuation["+gl_MaxLights+"];","uniform float uLightSource_quadraticAttenuation["+gl_MaxLights+"];","uniform float uLightSource_range["+gl_MaxLights+"];","","uniform vec4 uFrontMaterial_ambient;","uniform vec4 uFrontMaterial_diffuse;","uniform vec4 uFrontMaterial_specular;","uniform vec4 uFrontMaterial_emission;","uniform float uFrontMaterial_shininess;","","uniform int uLightingEnabled;","","varying vec4 vVertexPosition;","varying vec4 vLightingFactor;","varying vec2 vTextureCoord["+gl_MaxTextureStages+"];","","void directionalLight(vec4 position, vec4 ambient, vec4 diffuse, vec4 specular, vec3 normal, vec3 halfVector)","{","   vec3 lightDir;","   float nDotL;","   float nDotHV;","   float pf;","","   lightDir = normalize(vec3(position));","","   nDotL = max(dot(normal, lightDir), 0.0);","   if (nDotL == 0.0)","   {","       pf = 0.0;","   }","   else","   {","       nDotHV = max(0.0, dot(normal, halfVector));","       pf = pow(nDotHV, uFrontMaterial_shininess);","   }","","   gAmbient  += ambient * uFrontMaterial_ambient;","   gDiffuse  += diffuse * uFrontMaterial_diffuse * nDotL;","   gSpecular += specular * uFrontMaterial_specular * pf;","}","","void pointLight(vec4 position, float constantAttenuation, float linearAttenuation, float quadraticAttenuation, float range,","                vec4 ambient, vec4 diffuse, vec4 specular, vec3 normal, vec3 eye, vec3 vPosition)","{","   float nDotL;","   float nDotHV;","   float pf;","   float attenuation;","   float d;","   vec3  L;","   vec3  halfVector;","","","   L = vec3(position) - vPosition;","","","   d = length(L); if (d > range) return;","","","   L = normalize(L);","","","   attenuation = 1.0 / (constantAttenuation +","      linearAttenuation * d +","      quadraticAttenuation * d * d);","","   nDotL = max(0.0, dot(normal, L));","   nDotHV = max(0.0, dot(normal, normalize(L + eye)));","","   if (nDotL == 0.0)","   {","       pf = 0.0;","   }","   else","   {","       pf = pow(nDotHV, uFrontMaterial_shininess);","   }","","   gAmbient  += ambient * uFrontMaterial_ambient * attenuation;","   gDiffuse  += diffuse * uFrontMaterial_diffuse * nDotL * attenuation;","   gSpecular += specular * uFrontMaterial_specular * pf * attenuation;","}","","void main()","{","   vec4 transformedNormal;","   vec4 viewPosition;","   vec4 viewDirection;","","   vVertexPosition = uWorldMatrix * vec4(aVertexPosition, 1);","","   if (uLightingEnabled != 0)","   {","       transformedNormal = normalize(uNormalMatrix * vec4(aVertexNormal, 0));","       viewPosition = uViewMatrix * vec4(0, 0, 0, 1);","       viewDirection = normalize(-viewPosition);","       gAmbient = vec4(0, 0, 0, 0);","       gDiffuse = vec4(0, 0, 0, 0);","       gSpecular = vec4(0, 0, 0, 0);","","       for (int i=0; i < "+gl_MaxLights+"; i++)","       {","           if (uLightSource_enabled[i] != 0)","           {","               if (uLightSource_position[i][3] == 0.0)","               {","                   directionalLight(uLightSource_position[i], uLightSource_ambient[i],","                       uLightSource_diffuse[i], uLightSource_specular[i],","                       normalize(vec3(transformedNormal)),","                       normalize(vec3(viewDirection) + vec3(uLightSource_position[i])));","               }","               else if (uLightSource_spotCutoff[i] > 90.0)","               {","                   pointLight(uLightSource_position[i], uLightSource_constantAttenuation[i],","                       uLightSource_linearAttenuation[i], uLightSource_quadraticAttenuation[i], uLightSource_range[i],","                       uLightSource_ambient[i], uLightSource_diffuse[i], uLightSource_specular[i],","                       normalize(vec3(transformedNormal)),","                       vec3(viewDirection), vec3(vVertexPosition));","               }","               else","               {","               }","           }","       }","","       vLightingFactor  = uGlobalAmbientLight * uFrontMaterial_ambient;","       vLightingFactor += gAmbient + gDiffuse + gSpecular;","       vLightingFactor.a = uFrontMaterial_ambient.a / 3.0 + ","                           uFrontMaterial_diffuse.a / 3.0 + ","                           uFrontMaterial_specular.a / 3.0;","   }","   else","   {","       vLightingFactor = aVertexColor;","   }","","   vTextureCoord[0] = aTextureCoord0;","   vTextureCoord[1] = aTextureCoord1;","   gl_Position = uProjectionMatrix * uViewMatrix * vVertexPosition;","}"].join("\n"),default_vertex_lighting_fs=["#ifdef GL_ES","precision highp float;","#endif","","uniform int uTexturesEnabled;","uniform int uTextureStageEnabled["+gl_MaxTextureStages+"];","uniform sampler2D uTextureSamplerColor["+gl_MaxTextureStages+"];","uniform sampler2D uTextureSamplerAlpha["+gl_MaxTextureStages+"];","uniform int uTextureBlendOp;","uniform vec4 uTextureColorMask;","uniform vec4 uClipPlane["+gl_MaxClipPlanes+"];","uniform int uClipPlaneEnabled["+gl_MaxClipPlanes+"];","","varying vec4 vVertexPosition;","varying vec4 vLightingFactor;","varying vec2 vTextureCoord["+gl_MaxTextureStages+"];","","void main()","{","   vec4 fragmentColor;","   vec4 fragmentColor1;","   vec4 fragmentColor2;","","   for (int i=0; i < "+gl_MaxClipPlanes+"; i++)","   {","       if (uClipPlaneEnabled[i] != 0)","       {","           if (dot(vVertexPosition.xyz, uClipPlane[i].xyz) - uClipPlane[i].w >= 0.0) discard;","       }","   }","","   if (uTexturesEnabled == 1 && uTextureStageEnabled[0] == 1 && uTextureStageEnabled[1] == 0)","   {","       fragmentColor = texture2D(uTextureSamplerColor[0], vec2(vTextureCoord[0].s, vTextureCoord[0].t));","       if (fragmentColor.r == uTextureColorMask.r && fragmentColor.g == uTextureColorMask.g && fragmentColor.b == uTextureColorMask.b && fragmentColor.a == uTextureColorMask.a) discard;","       if (uTextureBlendOp == "+RC_MODULATE+")","       {","           if (fragmentColor.a == 0.0) discard;","           else gl_FragColor = fragmentColor * vLightingFactor;","       }","       else if (uTextureBlendOp == "+RC_REPLACE+")","       {","           gl_FragColor = fragmentColor;","       }","       else","       {","           gl_FragColor = vLightingFactor;","       }","   }","   else if (uTexturesEnabled == 1 && uTextureStageEnabled[0] == 1 && uTextureStageEnabled[1] == 1)","   {","       fragmentColor1 = texture2D(uTextureSamplerColor[0], vec2(vTextureCoord[0].s, vTextureCoord[0].t));","       fragmentColor2 = texture2D(uTextureSamplerColor[1], vec2(vTextureCoord[1].s, vTextureCoord[1].t));","       if (uTextureBlendOp == "+RC_MODULATE+")","       {","           fragmentColor1.a = fragmentColor2.a;","           if (fragmentColor1.a == 0.0) discard;","           else gl_FragColor = fragmentColor1 * vLightingFactor;","       }","       else if (uTextureBlendOp == "+RC_REPLACE+")","       {","           gl_FragColor = fragmentColor1 * fragmentColor2;","       }","       else","       {","           gl_FragColor = vLightingFactor;","       }","   }","   else","   {","       gl_FragColor = vLightingFactor;","   }","}"].join("\n"),pcf_shadow_mapping_depth_pass_vs=["#ifdef GL_ES","precision highp float;","#endif","","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uWorldMatrix;","uniform mat4 uNormalMatrix;","","varying vec4 vVertexPosition;","varying vec4 vTransformedNormal;","","void main()","{","   vVertexPosition = uWorldMatrix * vec4(aVertexPosition, 1);","   vTransformedNormal = normalize(uNormalMatrix * vec4(aVertexNormal, 0));","   gl_Position = uProjectionMatrix * uViewMatrix * vVertexPosition;","}"].join("\n"),pcf_shadow_mapping_depth_pass_fs=["#ifdef GL_ES","precision highp float;","#endif","","uniform vec3 uShadowCasterWorldPosition;","uniform int uModelID;","","varying vec4 vVertexPosition;","varying vec4 vTransformedNormal;","","void main()","{","   float depth = length(vVertexPosition.xyz - uShadowCasterWorldPosition);","   gl_FragColor = vec4(depth, uModelID, 0, 0);","}"].join("\n"),pcf_shadow_mapping_render_pass_vs=["attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec4 aVertexColor;","attribute vec2 aTextureCoord0;","attribute vec2 aTextureCoord1;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uWorldMatrix;","uniform mat4 uNormalMatrix;","","varying vec4 vVertexPosition;","varying vec4 vTransformedNormal;","varying vec4 vVertexColor;","varying vec4 vViewPosition;","varying vec4 vViewDirection;","varying vec2 vTextureCoord["+gl_MaxTextureStages+"];","","void main()","{","   vVertexPosition = uWorldMatrix * vec4(aVertexPosition, 1);","   vTransformedNormal = normalize(uNormalMatrix * vec4(aVertexNormal, 0));","   vVertexColor = aVertexColor;","   vViewPosition = uViewMatrix * vec4(0, 0, 0, 1);","   vViewDirection = normalize(-vViewPosition);","   vTextureCoord[0] = aTextureCoord0;","   vTextureCoord[1] = aTextureCoord1;","   gl_Position = uProjectionMatrix * uViewMatrix * vVertexPosition;","}"].join("\n"),pcf_shadow_mapping_render_pass_fs=["#ifdef GL_ES","precision highp float;","#endif","","#define EPSILON 0.1","","vec4 gAmbient;","vec4 gDiffuse;","vec4 gSpecular;","","uniform vec4 uGlobalAmbientLight;","","uniform int uLightSource_enabled["+gl_MaxLights+"];","uniform vec4 uLightSource_ambient["+gl_MaxLights+"];","uniform vec4 uLightSource_diffuse["+gl_MaxLights+"];","uniform vec4 uLightSource_specular["+gl_MaxLights+"];","uniform vec4 uLightSource_position["+gl_MaxLights+"];","uniform vec4 uLightSource_halfVector["+gl_MaxLights+"];","uniform vec4 uLightSource_spotDirection["+gl_MaxLights+"];","uniform float uLightSource_spotExponent["+gl_MaxLights+"];","uniform float uLightSource_spotCutoff["+gl_MaxLights+"];","uniform float uLightSource_spotCosCutoff["+gl_MaxLights+"];","uniform float uLightSource_constantAttenuation["+gl_MaxLights+"];","uniform float uLightSource_linearAttenuation["+gl_MaxLights+"];","uniform float uLightSource_quadraticAttenuation["+gl_MaxLights+"];","uniform float uLightSource_range["+gl_MaxLights+"];","","uniform vec4 uFrontMaterial_ambient;","uniform vec4 uFrontMaterial_diffuse;","uniform vec4 uFrontMaterial_specular;","uniform vec4 uFrontMaterial_emission;","uniform float uFrontMaterial_shininess;","","uniform int uLightingEnabled;","uniform int uTexturesEnabled;","uniform int uTextureStageEnabled["+gl_MaxTextureStages+"];","uniform sampler2D uTextureSamplerColor["+gl_MaxTextureStages+"];","uniform sampler2D uTextureSamplerAlpha["+gl_MaxTextureStages+"];","uniform samplerCube uTextureSamplerShadowMap;","uniform int uTextureBlendOp;","uniform vec4 uTextureColorMask;","uniform vec4 uClipPlane["+gl_MaxClipPlanes+"];","uniform int uClipPlaneEnabled["+gl_MaxClipPlanes+"];","uniform vec3 uShadowCasterWorldPosition;","uniform int uModelID;","","varying vec4 vVertexPosition;","varying vec4 vTransformedNormal;","varying vec4 vVertexColor;","varying vec4 vViewPosition;","varying vec4 vViewDirection;","varying vec2 vTextureCoord["+gl_MaxTextureStages+"];","","float shadowFactor(vec3 lightDirection, float cosTheta)","{","   float distance = length(lightDirection);","   lightDirection.y = -lightDirection.y;","   vec2 moments = textureCube(uTextureSamplerShadowMap, lightDirection).rg;","","   float bias = EPSILON * tan(acos(cosTheta));","   if (distance <= moments.x + bias)","       return 1.0;","   else if (abs(float(uModelID) - moments.y) >= 1.0)","   {","       return 0.25;//p_max;","   }","   else return 1.0;","}","","void directionalLight(vec4 position, vec4 ambient, vec4 diffuse, vec4 specular, vec3 normal, vec3 halfVector)","{","   vec3 lightDir;","   float nDotL;","   float nDotHV;","   float pf;","","   lightDir = normalize(vec3(position));","","   nDotL = max(dot(normal, lightDir), 0.0);","   if (nDotL == 0.0)","   {","       pf = 0.0;","   }","   else","   {","       nDotHV = max(0.0, dot(normal, halfVector));","       pf = pow(nDotHV, uFrontMaterial_shininess);","   }","","   gAmbient  += ambient * uFrontMaterial_ambient;","   gDiffuse  += diffuse * uFrontMaterial_diffuse * nDotL;","   gSpecular += specular * uFrontMaterial_specular * pf;","}","","void pointLight(vec4 position, float constantAttenuation, float linearAttenuation, float quadraticAttenuation, float range,","                vec4 ambient, vec4 diffuse, vec4 specular, vec3 normal, vec3 eye, vec3 vPosition)","{","   float nDotL;","   float nDotHV;","   float pf;","   float attenuation;","   float d;","   vec3  L;","   vec3  halfVector;","","","   L = vec3(position) - vPosition;","","","   d = length(L); if (d > range) return;","","","   L = normalize(L);","","","   attenuation = 1.0 / (constantAttenuation +","      linearAttenuation * d +","      quadraticAttenuation * d * d) *","      shadowFactor(vPosition - uShadowCasterWorldPosition, max(0.0, dot(normal, L)));","","   nDotL = max(0.0, dot(normal, L));","   nDotHV = max(0.0, dot(normal, normalize(L + eye)));","","   if (nDotL == 0.0)","   {","       pf = 0.0;","   }","   else","   {","       pf = pow(nDotHV, uFrontMaterial_shininess);","   }","","   gAmbient  += ambient * uFrontMaterial_ambient * attenuation;","   gDiffuse  += diffuse * uFrontMaterial_diffuse * nDotL * attenuation;","   gSpecular += specular * uFrontMaterial_specular * pf * attenuation;","}","","void main()","{","   vec4 lightingFactor;","   if (uLightingEnabled != 0)","   {","       gAmbient = vec4(0, 0, 0, 0);","       gDiffuse = vec4(0, 0, 0, 0);","       gSpecular = vec4(0, 0, 0, 0);","","       for (int i=0; i < "+gl_MaxLights+"; i++)","       {","           if (uLightSource_enabled[i] != 0)","           {","               if (uLightSource_position[i][3] == 0.0)","               {","                   directionalLight(uLightSource_position[i], uLightSource_ambient[i],","                       uLightSource_diffuse[i], uLightSource_specular[i],","                       normalize(vec3(vTransformedNormal)),","                       normalize(vec3(vViewDirection) + vec3(uLightSource_position[i])));","               }","               else if (uLightSource_spotCutoff[i] > 90.0)","               {","                   pointLight(uLightSource_position[i], uLightSource_constantAttenuation[i],","                       uLightSource_linearAttenuation[i], uLightSource_quadraticAttenuation[i], uLightSource_range[i],","                       uLightSource_ambient[i], uLightSource_diffuse[i], uLightSource_specular[i],","                       normalize(vec3(vTransformedNormal)),","                       vec3(vViewDirection), vec3(vVertexPosition));","               }","               else","               {","               }","           }","       }","","       lightingFactor  = uGlobalAmbientLight * uFrontMaterial_ambient;","       lightingFactor += gAmbient + gDiffuse + gSpecular;","       lightingFactor.a  = uFrontMaterial_ambient.a / 3.0 + ","                           uFrontMaterial_diffuse.a / 3.0 + ","                           uFrontMaterial_specular.a / 3.0;","   }","   else","   {","       lightingFactor = vVertexColor;","   }","","   vec4 fragmentColor;","   vec4 fragmentColor1;","   vec4 fragmentColor2;","","   for (int i=0; i < "+gl_MaxClipPlanes+"; i++)","   {","       if (uClipPlaneEnabled[i] != 0)","       {","           if (dot(vVertexPosition.xyz, uClipPlane[i].xyz) - uClipPlane[i].w >= 0.0) discard;","       }","   }","","   if (uTexturesEnabled == 1 && uTextureStageEnabled[0] == 1 && uTextureStageEnabled[1] == 0)","   {","       fragmentColor = texture2D(uTextureSamplerColor[0], vec2(vTextureCoord[0].s, vTextureCoord[0].t));","       if (fragmentColor.r == uTextureColorMask.r && fragmentColor.g == uTextureColorMask.g && fragmentColor.b == uTextureColorMask.b && fragmentColor.a == uTextureColorMask.a) discard;","       if (uTextureBlendOp == "+RC_MODULATE+")","       {","           if (fragmentColor.a == 0.0) discard;","           else gl_FragColor = fragmentColor * lightingFactor;","       }","       else if (uTextureBlendOp == "+RC_REPLACE+")","       {","           gl_FragColor = fragmentColor;","       }","       else","       {","           gl_FragColor = lightingFactor;","       }","   }","   else if (uTexturesEnabled == 1 && uTextureStageEnabled[0] == 1 && uTextureStageEnabled[1] == 1)","   {","       fragmentColor1 = texture2D(uTextureSamplerColor[0], vec2(vTextureCoord[0].s, vTextureCoord[0].t));","       fragmentColor2 = texture2D(uTextureSamplerColor[1], vec2(vTextureCoord[1].s, vTextureCoord[1].t));","       if (uTextureBlendOp == "+RC_MODULATE+")","       {","           fragmentColor1.a = fragmentColor2.a;","           if (fragmentColor1.a == 0.0) discard;","           else gl_FragColor = fragmentColor1 * lightingFactor;","       }","       else if (uTextureBlendOp == "+RC_REPLACE+")","       {","           gl_FragColor = fragmentColor1 * fragmentColor2;","       }","       else","       {","           gl_FragColor = lightingFactor;","       }","   }","   else","   {","       gl_FragColor = lightingFactor;","   }","}"].join("\n");
ContentHandler.prototype=new AttributeContainer,ContentHandler.prototype.constructor=ContentHandler,ContentHandler.prototype.parseFileStream=function(){},ContentHandler.prototype.matchesType=function(){},ContentBuilder.prototype=new AttributeContainer,ContentBuilder.prototype.constructor=ContentBuilder,ContentBuilder.prototype.setRegistry=function(t){AttributeContainer.prototype.setRegistry.call(this,t),this.factory=this.registry.find("AttributeFactory")},ContentBuilder.prototype.visitHandler=function(){},ContentBuilder.prototype.finalize=function(){},ContentBuilder.prototype.matchesType=function(){},XMLParser.prototype.parse=function(t){parser=new SAXDriver,parser.setDocumentHandler(this),parser.setErrorHandler(this),parser.setLexicalHandler(this),parser.parse(t)},XMLParser.prototype.processingInstruction=function(t,e){switch(t){case"bw":console.debug("TODO: "+t.toString());break;case"bwinclude":var i=new String(e),r=this.parseTokenValue(i,'url="','"');if(r){console.debug("Processing Instruction for: "+r);var o=getFileExtension(r);switch(o){case"xml":var n=loadXMLResource(this.contentDir+"/"+r);this.parse(n);break;case"lws":var a=formatPath(r);console.debug("Include instruction for path: "+a[0]),console.debug("Include content dir: "+a[1]);var s=new LWSceneHandler;s.getAttribute("contentDirectory").setValueDirect(a[1]);var l=new LWSceneBuilder;l.setRegistry(this.factory.registry),l.visitHandler(s),s.parseFileStream(a[0])}}}},XMLParser.prototype.startElement=function(t,e){isUpper(t[0])?this.parseAttributeContainer(t,e):this.parseComplexAttribute(t,e)},XMLParser.prototype.endElement=function(t){isUpper(t[0])?this.parseAttributeContainer(t):this.parseComplexAttribute(t)},XMLParser.prototype.startCDATA=function(){},XMLParser.prototype.endCDATA=function(){},XMLParser.prototype.characters=function(t,e,i){for(var r="",o=0;i>o;o++)r+=t[e+o];if(r.length&&!isSpace(r[0])){var n=this.attributeStack.top();n&&deserializeAttribute(n,r)}},XMLParser.prototype.error=function(t){alert("Error: "+t.getMessage())},XMLParser.prototype.fatalError=function(t){alert("Fatal Error: "+t.getMessage())},XMLParser.prototype.parseAttributeContainer=function(t,e){if(e){var i=this.factory.create(t);if(!i)return void this.attributeStack.push(null);i.flagDeserializedFromXML(),resolveAttributeContainerReference(i,e.m_parser.m_atts,this.registry)||deserializeAttributeContainer(i,e.m_parser.m_atts),this.registry.registerResource(i);var r=this.attributeStack.top();if(r&&r.isCollection())if(r.allocatesElements())r.setElementName(r.getAt(r.Size()-1),t);else{r.push_back(i),r.setElementName(i,t);var o=this.collectionCountStack.top();o++,this.collectionCountStack.pop(),this.collectionCountStack.push(o)}this.attributeStack.push(i),i.isCollection()&&this.collectionCountStack.push(0)}else{var i=this.attributeStack.top();this.attributeStack.pop(),i&&i.isCollection()&&this.collectionCountStack.pop(),i&&(this.factory.finalize(t,i),this.registry.finalizeResource(i))}},XMLParser.prototype.parseComplexAttribute=function(t,e){if(e){var i=this.attributeStack.top();if(!i)return;var r=i.getAttribute(t);if(!r){if(!i.isCollection())return void this.attributeStack.push(i);var o=this.collectionCountStack.top();o++;var n=i.Size();i.AppendParsedElements()?(i.resize(n+1),o=n):o>=n&&i.resize(o+1),r=i.getAt(o)}this.attributeStack.push(r),r&&r.isContainer()?(resolveAttributeContainerReference(r,e.m_parser.m_atts,this.registry)||deserializeAttributeContainer(r,e.m_parser.m_atts),r.isCollection()&&this.collectionCountStack.push(0)):r&&(resolveComplexAttributeReference(r,e.m_parser.m_atts)||deserializeComplexAttribute(r,e.m_parser.m_atts))}else this.attributeStack.pop(),i&&i.isCollection()&&this.collectionCountStack.pop()},XMLParser.prototype.parsePrimitiveAttribute=function(){},XMLParser.prototype.parseTokenValue=function(t,e,i){var r=t.indexOf(e);if(-1==r)return void 0;r+=e.length;var o=t.indexOf(i,r);return-1==o?void 0:t.substring(r,o)},Serializer.prototype=new AttributeContainer,Serializer.prototype.constructor=Serializer,Serializer.prototype.serialize=function(t,e,i,r){this.RootElement=null,this.DOM=document.implementation.createDocument("","__InitialRoot",null),this.DOM&&(this.RootElement&&(this.DOM.removeChild(this.RootElement),this.RootElement=null,this.mixedModifiedCB(attr,data)),t?this.serializeAttribute(t,e,i):this.serializeAttribute(r,0,""))},Serializer.prototype.serializeAttribute=function(t,e,i){if(t){if(t.isTransient())return;if(1==this.serializeMinimum.getValueDirect()&&!t.isDeserializedFromXML())return;if(t.attrType==eAttrType.Model){var r=t;this.serializeModel(r)}else if(t.attrType==eAttrType.PerspectiveCamera){var o=t;this.serializeAttributeContainer(o)}else if(t.attrType>eAttrType.Command&&t.attrType<eAttrType.Command_End){var n=t;this.serializeCommand(n)}else if(t.isCollection()){var o=t;this.serializeAttributeCollection(o,i)}else if(t.isContainer()){var o=t;this.serializeAttributeContainer(o)}else if(i&&this.DOM){var a,s=t.attrType,l=null,c=null,h=null,d=t.getLength();if(i){for(var u=0;;){if(u=i.indexOf("("),-1==u)break;i.replace(u,1,"_x0028")}for(;;){if(u=i.indexOf(")"),-1==u)break;i.replace(u,1,"_x0029")}var p=i;if(p&&(l=this.DOM.createElement(p))){var f;if(f=this.getAttributeStringValue(t,e),""==f)return;if(e>=0||1==d||s==eAttrType.StringAttr){var _="<![CDATA[",m="]]>",g=0,y=f.indexOf(m);if(-1!=g&&-1!=y){g+=_.length,f=f.substr(g,f.length-g-m.length);var b=null;p=f,p&&(b=this.DOM.createCDATASection(p)),l.appendChild(b)}else l.textContent=f}else for(var v,M=0,S=0,x=0;d>x;++x)a="item"+x.toString(),S=x==d-1?f.length:f.indexOf(",",M),v=f.substr(M,S-M),M=S+1,this.bMixed?(c=this.DOM.createElement(a),c.textValue=v,l.appendChild(c)):(h=this.DOM.createAttribute(a),h.value=v,l.setAttributeNode(h));this.pushElement(l),this.popElement()}}}}},Serializer.prototype.serializeAttributeReference=function(t,e){if(t&&e&&this.DOM){var i=null,r=null,o=null,n=null,a=null;if(i=t.getContainer()){var s=i.getAttributeName(t);s&&(r=this.DOM.createElement(s))}if(r){if(r.attributes.length>0&&(o=this.DOM.createAttribute("ref"))){var l="",c="",h=null;if(i=e.getContainer(),i&&(l=i.getAttributeName(e),h=i.getAttribute("name"))){c=h.getValueDirect().join(""),c+="/",c+=l,l=c}o.textContent=l,n.setNamedItem(o,a)}this.pushElement(r),this.popElement()}}},Serializer.prototype.serializeModel=function(t){var e=null,i=null;if(this.DOM&&(e="ModelRoot",e&&(i=this.DOM.createElement(e),i&&this.pushElement(i))),t){this.serializeAttributeContainer(t);var r=null;if(r=getInspectionGroup(t)){var o,n=t,a=r.getChild(2).getAttribute("rotationQuat"),s=n.getAttribute("name");o=s.getValueDirect().join("");var l=null,c=this.registry.find("AttributeFactory");if(l=c.create("Set")){l.getAttribute("target").setValueDirect(o),l.getAttribute("target").flagDeserializedFromXML();var h=[];a.getValue(h),l.attributeValuePairs.push(new Pair(a,h)),this.serializeCommand(l),setAttributeBin(null),setAttributePairs(null)}}}i&&this.popElement()},Serializer.prototype.serializeCommand=function(t){var e;if(t&&this.DOM){var i=null,r=t.className;if("Serialize"==r)return;var o=r;if(o&&(i=this.DOM.createElement(o))){this.pushElement(i);var e,n=null,a=null,s=t.getAttributeCount();for(e=0;s>e;++e)n=t.getAttributeAt(e),a=t.getAttributeName(n),t.isBorrowed(n)||"sourceContainer"==a||"sourceEvaluator"==a||"sourceAttribute"==a||"sourceOutput"==a||"source"==a||"targetContainer"==a||"targetAttribute"==a||"target"==a||this.serializeAttribute(n,-1,a);n=t.getAttribute("sourceContainer"),n&&this.serializeAttribute(n,-1,"sourceContainer"),n=t.getAttribute("targetContainer"),n&&this.serializeAttribute(n,-1,"targetContainer");var l=[],c=[];for(e=0;s>e;++e){var h=t.getAttributeAt(e),d=t.getAttributeName(h);"sourceAttribute"==d?l.push(h):"targetAttribute"==d&&c.push(h)}for(e=0;e<l.length&&e<c.length;e++)this.serializeAttribute(l[e],-1,"sourceAttribute"),this.serializeAttribute(c[e],-1,"targetAttribute");0==c.length&&(n=t.getAttribute("target"),n&&this.serializeAttribute(n,-1,"target"));for(e=0;s>e;++e){n=t.getAttributeAt(e);var d=t.getAttributeName(n),u=t.isBorrowedAndValueModified(n);if(u.borrowed){var p=newAttribute(n.className);p&&(setAttributeValue(p,u.value),p.flagDeserializedFromXML(),this.serializeAttribute(p,-1,d))}else{var u=t.isBorrowedAndReferenceModified(n);u.borrowed&&this.serializeAttributeReference(n,u.reference)}}this.popElement()}}},Serializer.prototype.serializeAttributeContainer=function(t){if(t&&this.DOM){var e=null,i=t.className;"BwSceneInspector"==i?i="SceneInspector":"PhysicalPropertiesAttr"==i&&(i="physicalProperties");var r=i;if(r&&(e=this.DOM.createElement(r))){this.pushElement(e);for(var o=null,n=t.getAttributeCount(),a=0;n>a;++a){o=t.getAttributeAt(a);var s=t.getAttributeName(o);1==o.isNative()&&this.serializeAttribute(o,-1,s)}this.serializeChildren.getValueDirect()&&this.doSerializeChildren(t);for(var a=0;n>a;++a)if(o=t.getAttributeAt(a),0!=o.modificationCount){var s=t.getAttributeName(o);0==o.isNative()&&this.serializeAttribute(o,-1,s)}this.popElement()}}},Serializer.prototype.serializeAttributeCollection=function(t,e){if(t&&this.DOM){var i=null,r=e,o=r;if(o&&(i=this.DOM.createElement(o))){this.pushElement(i);for(var n,a=t,s=a.baseName.getValueDirect().join(""),l=a.Size(),c=0;l>c;c++)n=s,n+=c.toString(),this.serializeAttribute(a.getAt(c),0,n);this.popElement()}}},Serializer.prototype.doSerializeChildren=function(t){if(!(t.attrType<eAttrType.Node||t.attrType>eAttrType.Node_End))for(var e=0;e<t.getChildCount();e++)this.serializeAttribute(t.getChild(e),0,null)},Serializer.prototype.pushElement=function(t){this.elementStack.push(t),this.RootElement?this.RootElement.appendChild(t):this.DOM.replaceChild(t,this.DOM.documentElement),this.RootElement=t},Serializer.prototype.popElement=function(){this.elementStack.pop(),this.elementStack.length()>0&&(this.RootElement=this.elementStack.top())},Serializer.prototype.getAttributeStringValue=function(t,e){strValue="";var i=t.attrType;switch(i){case eAttrType.NumberAttr:var r=t.getValueDirect();strValue=r.toString();break;case eAttrType.BooleanAttr:var o=t.getValueDirect();strValue=1==o?"true":"false";break;case eAttrType.StringAttr:{t.getLength()}strValue=t.getValueDirect().join("");break;case eAttrType.ColorAttr:case eAttrType.Vector2DAttr:case eAttrType.Vector3DAttr:case eAttrType.Matrix4x4Attr:case eAttrType.QuaternionAttr:var n=[];if(t.getValue(n),-1==e)for(var r=0;r<n.length;++r)strValue+=n[r].toString(),r<n.length-1&&(strValue+=",");else strValue+=n[e].toString();break;case eAttrType.NumberArrayAttr:case eAttrType.ViewportAttr:var a=[];if(t.getValue(a),-1==e)for(var r=0;r<a.length;++r)strValue+=a[r].toString(),r<a.length-1&&(strValue+=",");else strValue+=a[e].toString()}return strValue},Serializer.prototype.mixedModifiedCB=function(t,e){var i=[];t.getValue(i);var r=e;4294967295!=r&&(r.bMixed=i[0])};var ePixelFormat={Unknown:-1,R8G8B8:0,B8G8R8:1,X8X8X8:2,R8G8B8A8:3,B8G8R8A8:4,A8R8G8B8:5,A8B8G8R8:6,X8X8X8X8:7,A8:8},ePixelMap={Default:0,RGBToAlpha:1},eImageFormat={Unknown:-1,RGB:0,RGBA:1,Alpha:2,Luminance:3,Luminance_Alpha:4},FRAME_FILTER_SCALE_FRAME_BIT=1,FRAME_FILTER_INVERT_FRAME_BIT=2,FRAME_FILTER_NEGATE_COLOR_BIT=4,FRAME_FILTER_NEGATE_ALPHA_BIT=8,FRAME_FILTER_ALPHA_ONOFF_BIT=16;MediaPlayback.prototype.loadImage=function(t){this.ready=!1,this.frameRetrieved=!1,this.htmlImageElement=null,this.imageWidth=0,this.imageHeight=0,this.imagePitch=0,this.imagePixels=null;var e=getFileExtension(t);switch(e){case"avi":case"mpg":case"ogg":this.htmlImageElement=document.createElement("video"),this.htmlImageElement.container=this,this.htmlImageElement.controls="controls",this.htmlImageElement.src="http://localhost/bwjs/BwContent/images/Bear.ogg",this.video=!0,this.onVideoLoad();break;default:this.htmlImageElement=new Image,this.htmlImageElement.container=this,this.htmlImageElement.onload=MediaPlayback_OnImageLoad,this.htmlImageElement.src=t}this.url=t},MediaPlayback.prototype.onImageLoad=function(){var t=this.htmlImageElement;this.imageWidth=t.width,this.imageHeight=t.height,this.imagePitch=4*t.width;var e=document.createElement("canvas"),i=e.getContext("2d");e.width=t.width,e.height=t.height,i.drawImage(t,0,0);var r=i.getImageData(0,0,t.width,t.height);this.imagePixels=r.data,this.ready=!0,this.onload&&this.onload.call(this)},MediaPlayback.prototype.onVideoLoad=function(){this.ready=!0},MediaPlayback.prototype.getFrameDimensions=function(){return{width:this.imageWidth,height:this.imageHeight,pitch:this.imagePitch}},MediaPlayback.prototype.getPixelFormat=function(){return ePixelFormat.R8G8B8A8},MediaPlayback.prototype.getPixelByteAlignment=function(){return 4},MediaPlayback.prototype.getBytesPerPixel=function(){return BytesPerPixel(this.getPixelFormat())},MediaPlayback.prototype.getFramePixels=function(t){if(!this.ready||0==this.imageWidth||0==this.imageHeight||!this.imagePixels)return void 0;t.length=this.imagePixels.length;for(var e=0;e<this.imagePixels.length;e++)t[e]=this.imagePixels[e];return-1},MediaPlayback.prototype.newFrameDataAvailable=function(){return this.ready&&!this.frameRetrieved},MediaPlayback.prototype.getFrameData=function(t,e,i,r,o,n,a,s){if(!this.ready||0==this.imageWidth||0==this.imageHeight||!this.imagePixels)return void 0;if(0==t||0==e||t>i||r==ePixelFormat.Unknown||!o)return void 0;var l=-1,c=n&FRAME_FILTER_SCALE_FRAME_BIT?!0:!1,h=n&FRAME_FILTER_INVERT_FRAME_BIT?!0:!1,d=n&FRAME_FILTER_NEGATE_COLOR_BIT?!0:!1,u=n&FRAME_FILTER_NEGATE_ALPHA_BIT?!0:!1,p=n&FRAME_FILTER_ALPHA_ONOFF_BIT?!0:!1,f=this.getFrameDimensions(),_=f.width,m=f.height,g=f.pitch,y=this.getPixelFormat();if(y!=ePixelFormat.R8G8B8A8)return void 0;var b=[],v=this.getFramePixels(b,s);if(void 0==v)return void 0;if(c&&(t!=_||e!=m)){var M=this.getBytesPerPixel();g=t*M,g+=(4-g%4)%4;var S=[];if(!ScaleImage(y,_,m,this.getPixelByteAlignment(),b,t,e,4,S))return void 0;b=S,_=t,m=e}if(!this.alphaPlayback&&!d&&!h&&g==i&&m==e&&y==r){for(var x=0;x<o.length;x++)o[x]=b[x];return this.frameRetrieved=!0,l}var T,E=0,C=0,A=0,w=null;if(this.alphaChannel){if(f=this.alphaChannel.getFrameDimensions(),E=f.width,C=f.height,A=f.pitch,T=this.alphaChannel.getPixelFormat(),T!=ePixelFormat.R8G8B8A8)return void 0;var R=[],D=this.alphaChannel.getFramePixels(R,v);if(void 0!=D)if(E!=_||C!=m){var P=this.alphaChannel.getBytesPerPixel();A=_*P,A+=(4-A%4)%4;var B=[];ScaleImage(T,E,C,this.alphaChannel.getPixelByteAlignment(),w,_,m,4,B)&&(w=B,E=_,C=m)}else w=R}var V=Math.min(t,_),L=Math.min(e,m),k=0,H=0,I=0,O=0;switch(r){case ePixelFormat.R8G8B8:k=0,H=1,I=2;break;case ePixelFormat.B8G8R8:k=2,H=1,I=0;break;case ePixelFormat.R8G8B8A8:k=0,H=1,I=2,O=3;break;case ePixelFormat.B8G8R8A8:k=2,H=1,I=0,O=3;break;case ePixelFormat.A8R8G8B8:k=1,H=2,I=3,O=0;break;case ePixelFormat.A8B8G8R8:k=3,H=2,I=1,O=0}var J=0,N=0,F=0;h&&(J+=g*(L-1),w&&(N+=A*(L-1)));for(var G=new TPixel(0,0,0,255),z=new TPixel(0,0,0,255),j=0;L>j;j++){for(var U=0;V>U;U++)switch(G.red=b[J],G.green=b[J+1],G.blue=b[J+2],G.alpha=b[J+3],J+=4,d&&(G.red=255-G.red,G.green=255-G.green,G.blue=255-G.blue,G.alpha=255-G.alpha),w&&(z.red=w[N],z.green=w[N+1],z.blue=w[N+2],z.alpha=w[N+3],N+=4),u&&(z.red=255-z.red,z.green=255-z.green,z.blue=255-z.blue,z.alpha=255-z.alpha),r){case ePixelFormat.R8G8B8:case ePixelFormat.B8G8R8:o[F+k]=G.red,o[F+H]=G.green,o[F+I]=G.blue,F+=3;break;case ePixelFormat.R8G8B8A8:case ePixelFormat.B8G8R8A8:case ePixelFormat.A8R8G8B8:case ePixelFormat.A8B8G8R8:switch(a){case ePixelMap.RGBToAlpha:o[F+k]=0,o[F+H]=255,o[F+I]=0,o[F+O]=w?(G.red+G.green+G.blue)/3&(z.red+z.green+z.blue)/3:(G.red+G.green+G.blue)/3,p&&(o[F+O]=o[F+O]<=127?0:255),F+=4;break;case ePixelMap.Default:default:o[F+k]=G.red,o[F+H]=G.green,o[F+I]=G.blue,o[F+O]=w?(z.red+z.green+z.blue)/3:G.alpha,p&&(o[F+O]=o[F+O]<=127?0:255),F+=4}break;case ePixelFormat.A8:o[F]=w?(z.red+z.green+z.blue)/3:(G.red+G.green+G.blue)/3,p&&(o[F]=o[F]<=127?0:255),F+=1}h&&(J-=2*g),w&&h&&(N-=2*A)}return this.frameRetrieved=!0,l},MediaPlayback.prototype.setAlphaChannel=function(t){this.alphaPlayback=t},StyleMgr.prototype=new AttributeContainer,StyleMgr.prototype.constructor=StyleMgr,StyleMgr.prototype.eventPerformed=function(t,e){var i=e.stylesMap.getStyles(t.type);i.styles&&i.enabled&&this.applyStyle(i.styles,i.target?i.target:e)},StyleMgr.prototype.applyStyle=function(t,e){e.styles.updateStyle(t)},GraphMgr.prototype=new AttributeContainer,GraphMgr.prototype.constructor=GraphMgr,GraphMgr.prototype.setRenderContext=function(t){this.renderContext=t,this.renderState=new RenderState(t)},GraphMgr.prototype.getAvailableLightIndex=function(){return this.lightIndex++},GraphMgr.prototype.getCurrentMaterial=function(){return this.material},GraphMgr.prototype.setCurrentMaterial=function(t){this.material=t},GraphMgr.prototype.getCurrentDissolve=function(){return this.dissolve},GraphMgr.prototype.setCurrentDissolve=function(t){this.dissolve=t},GraphMgr.prototype.getCurrentBalloonTipLabel=function(){return this.balloonTipLabel},GraphMgr.prototype.setCurrentBalloonTipLabel=function(t){this.balloonTipLabel=t},GraphMgr.prototype.getDrawTextures=function(){return this.drawTextures},GraphMgr.prototype.setDrawTextures=function(t){this.drawTextures=t},GraphMgr.prototype.getNextLabelIndex=function(){return this.labelIndex++},GraphMgr.prototype.getNextBalloonTipLabelIndex=function(){return this.balloonTipLabelIndex++},GraphMgr.prototype.reset=function(){this.lightIndex=0,this.labelIndex=1,this.balloonTipLabelIndex=1,this.setCurrentDissolve(null),this.setCurrentMaterial(null),this.setCurrentBalloonTipLabel(null),this.setDrawTextures(!0),this.collisions=new Array;for(var t=0;gl_MaxLights>t;t++)this.renderContext.enableLight(t,!1)},NodeRegistry.prototype=new AttributeContainer,NodeRegistry.prototype.constructor=NodeRegistry,NodeRegistry.prototype.register=function(t){this.nodes[t.__nodeId__]=t},NodeRegistry.prototype.unregister=function(){},NodeRegistry.prototype.clear=function(){this.nodes=[]};var g__nodeId__=0;Node.prototype=new AttributeContainer,Node.prototype.constructor=Node,Node.prototype.copyNode=function(t,e,i,r){var o=!1;if(!t){if(!(t=new Node))return-1;o=!0}if(t.synchronize(this,!1),i.push(this),r.push(this),e){var n;for(var a in this.children){n=a-this.children.start();var s=null;if(a.getCreatedByParent()){if(s=t.getChild(a-this.children.start()),a.copyNode(s,e,i,r))return-1}else{if(a.copyNode(s,e,i,r))return-1;t.getChildCount()>n?t.insertChild(s,n):t.addChild(s),a.postCloneChild(s,i,r)}}}this.postClone(t,i,r)},Node.prototype.searchTree=function(t,e,i,r,o,n,a,s,l){var c=[],h=[];c.push(t)&&h.push(e)&&this.searchesTree(c,h,i,r,o,n,a,s,l)},Node.prototype.searchesTree=function(t,e,i,r,o,n,a,s,l){var c=!1,h=!1,d=!1;if(i)for(var u=0;u<t.size();u++)if(this.name!=t[u]){h=!0;break}if(r)for(var u=0;u<e.size();u++)if(this.attrType==e[u]){d=!0;break}if(c=i&&r?h&&d:i?h:d,(!c||l.push(this))&&this!=s){if(o)for(var u=0;u<this.parents.size();u++)this.parents[u]!=a&&this.parents[u].searchesTree(t,e,i,r,o,this,null,s,l);for(var u=0;u<this.children.size();u++)this.children[u]!=n&&this.children[u].searchesTree(t,e,i,r,!1,null,null,s,l)}},Node.prototype.setCreatedByParent=function(t){this.createdByParent=t},Node.prototype.getCreatedByParent=function(){return this.createdByParent},Node.prototype.isNode=function(){return!0},Node.prototype.addChild=function(t){this.children.push(t),this.setModified(),t.addParent(this)},Node.prototype.insertChild=function(t,e){this.children.splice(e,0,t),this.setModified(),t.addParent(this)},Node.prototype.removeChild=function(t){this.children.splice(this.children.indexOf(t),1),this.setModified(),t.removeParent(this)},Node.prototype.replaceChild=function(t,e){this.children.splice(this.children.indexOf(t),1,e),t.removeParent(this),e.addParent(this)},Node.prototype.getChild=function(t){return this.children.length>t?this.children[t]:null},Node.prototype.getNamedChild=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name.getValueDirect().join("")==t)return this.children[e];return null},Node.prototype.getChildCount=function(){return this.children.length},Node.prototype.getParent=function(t){return this.parents.length>t?this.parents[t]:null},Node.prototype.getParentCount=function(){return this.parents.length},Node.prototype.addParent=function(t){this.parents.push(t)},Node.prototype.removeParent=function(t){this.parents.splice(this.parents.indexOf(t),1)},Node.prototype.update=function(t,e){if(t.visited.push(this),e)for(var i=0;i<this.children.length;i++)this.children[i].update(t,e)},Node.prototype.apply=function(t,e,i){switch(t){case"serialize":var r=new Context;r.attribute=this;var o=this.registry.find("AttributeFactory"),n=o.create("Serializer"),a=new XMLSerializer;n.getAttribute("format").setValueDirect("xml"),n.getAttribute("serializeMinimum").setValueDirect(!0),n.getAttribute("serializeChildren").setValueDirect(!0),n.serialize(r.attribute,r.item,r.attributeName,r.container);var s=a.serializeToString(n.DOM);"<__InitialRoot/>"!=s&&(e.serialized+=s),i=!1}if(i)if(e.path){if(e.path.length>e.pathIndex)for(var l=0;l<this.children.length;l++){var c=e.path[e.pathIndex];this.children[l]==c&&(e.pathIndex++,this.children[l].apply(t,e,i))}}else for(var l=0;l<this.children.length;l++)this.children[l].apply(t,e,i)},Node.prototype.applyNode=function(t,e,i,r){t.apply(e,i,r)},Node.prototype.setModified=function(){this.modified.pulse(),this.graphMgr&&this.graphMgr.updateRegistry.register(this)},Node.prototype.onRemove=function(){for(var t=0;t<this.children.length;t++)this.children[t].onRemove()},SGNode.prototype=new Node,SGNode.prototype.constructor=SGNode,SGNode.prototype.setGraphMgr=function(t){this.graphMgr=t},SGNode.prototype.update=function(t,e){this.recordDisplayList&&this.createDisplayList(),Node.prototype.update.call(this,t,e)},SGNode.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(r){var o=!1;switch(t){case"render":e.resetDisplayLists&&(this.recordDisplayList=!0),o=this.enableDisplayList.getValueDirect()&&null!=this.displayListObj&&null==e.displayListObj&&!e.disableDisplayLists,o&&(e.displayListObj=this.displayListObj,this.recordDisplayList?this.displayListObj.record_begin():(this.displayListObj.play(),i=!1));break;case"rayPick":e.currentNodePath.push(this);break;default:return void Node.prototype.apply.call(this,t,e,i)}if(i)if(e.path){if(e.path.length>e.pathIndex)for(var n=0;n<this.children.length;n++){var a=e.path[e.pathIndex];this.children[n]==a&&(e.pathIndex++,this.children[n].apply(t,e,i))}}else for(var n=0;n<this.children.length;n++)this.children[n].apply(t,e,i);switch(t){case"render":o&&(this.recordDisplayList&&(this.displayListObj.record_end(),this.recordDisplayList=!1),e.displayListObj=null);break;case"rayPick":e.currentNodePath.pop()}}},SGNode.prototype.isRecordingDisplayList=function(){return this.graphMgr.renderContext.getDisplayList()?!0:!1},SGNode.prototype.createDisplayList=function(){this.displayListObj=new DisplayListObj(this.graphMgr.renderContext)},SGNode.prototype.deleteDisplayList=function(){this.displayListObj=null},SGNode.prototype.enableDisplayListModified=function(){},SGNode.prototype.setModified=function(){Node.prototype.setModified.call(this),this.recordDisplayList=!0},RenderableElement.prototype=new SGNode,RenderableElement.prototype.constructor=RenderableElement,RenderableElement.prototype.setRegistry=function(t){this.stylesMap.setRegistry(t),SGNode.prototype.setRegistry.call(this,t)},RenderableElement.prototype.update=function(t,e){SGNode.prototype.update.call(this,t,e)},RenderableElement.prototype.apply=function(t,e,i){SGNode.prototype.apply.call(this,t,e,i)},ParentableMotionElement.prototype=new RenderableElement,ParentableMotionElement.prototype.constructor=ParentableMotionElement,ParentableMotionElement.prototype.getTransform=function(){var t=new Matrix4x4;return t.loadMatrix(this.transformCompound),t},ParentableMotionElement.prototype.getSectorTransform=function(){var t=new Matrix4x4;return t.loadMatrix(this.sectorTransformCompound),t},ParentableMotionElement.prototype.update=function(t,e){this.nonZeroVelocity&&this.updateVelocityMotion(t.timeIncrement),this.updateInheritance&&(this.updateInheritance=!1,this.inheritsPosition=this.inheritPosition_X.getValueDirect()&&this.inheritPosition_Y.getValueDirect()&&this.inheritPosition_Z.getValueDirect(),this.inheritsRotation=this.inheritRotation_X.getValueDirect()&&this.inheritRotation_Y.getValueDirect()&&this.inheritRotation_Z.getValueDirect(),this.inheritsScale=this.inheritScale_X.getValueDirect()&&this.inheritScale_Y.getValueDirect()&&this.inheritScale_Z.getValueDirect(),this.inheritsPivot=this.inheritPivot_X.getValueDirect()&&this.inheritPivot_Y.getValueDirect()&&this.inheritPivot_Z.getValueDirect()),this.updateSimpleTransform(),this.motionParent&&this.motionParent.update(t,!1),this.updateCompoundTransform(),this.updateWorldMotionInfo(),RenderableElement.prototype.update.call(this,t,e)},ParentableMotionElement.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void RenderableElement.prototype.apply.call(this,t,e,i);switch(t){case"render":var o=toScreenSpace(this.sectorWorldPosition.getValueDirect(),e.viewMatrix,e.projMatrix,e.viewport);this.screenPosition.setValueDirect(o.x,o.y,o.z)}RenderableElement.prototype.apply.call(this,t,e,i)},ParentableMotionElement.prototype.updateChildDisplayLists=function(){},ParentableMotionElement.prototype.applyTransform=function(){this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.leftMultMatrix(this.sectorTransformCompound),this.graphMgr.renderContext.applyWorldTransform()},ParentableMotionElement.prototype.updateVelocityMotion=function(t){var e=this.panVelocity.getValueDirect(),i=this.linearVelocity.getValueDirect();if(0!=e.x||0!=e.y||0!=e.z||0!=i.x||0!=i.y||0!=i.z){var r=this.position.getValueDirect(),o=this.getDirectionVectors(),n=this.linearVelocity_affectPosition_Y.getValueDirect();r.x=r.x+o.right.x*e.x*t+o.up.x*e.y*t+o.forward.x*e.z*t+i.x*t,n&&(r.y=r.y+o.right.y*e.x*t+o.up.y*e.y*t+o.forward.y*e.z*t+i.y*t),r.z=r.z+o.right.z*e.x*t+o.up.z*e.y*t+o.forward.z*e.z*t+i.z*t,this.position.setValueDirect(r.x,r.y,r.z)}var a=this.angularVelocity.getValueDirect();if(0!=a.x||0!=a.y||0!=a.z){var s=this.rotation.getValueDirect();s.x=s.x+a.x*t,s.y=s.y+a.y*t,s.z=s.z+a.z*t,this.rotation.setValueDirect(s.x,s.y,s.z)}var l=this.scalarVelocity.getValueDirect();if(0!=l.x||0!=l.y||0!=l.z){var c=this.scale.getValueDirect();c.x=c.x+l.x*t,c.y=c.y+l.y*t,c.z=c.z+l.z*t,this.scale.setValueDirect(c.x,c.y,c.z)}},ParentableMotionElement.prototype.updateSimpleTransform=function(){var t=!1;if(this.updatePosition||this.updateRotation||this.updateQuaternion||this.updateScale||this.updatePivot){var e;if(this.updatePosition&&(this.updatePosition=!1,e=this.position.getValueDirect(),this.translationMatrix.loadTranslation(e.x,e.y,e.z),t=!0),this.updateRotation){this.updateRotation=!1,e=this.rotation.getValueDirect();var i=new Quaternion;i.loadXYZAxisRotation(e.x,e.y,e.z),this.quaternion.setValueDirect(i),t=!0}if(this.updateQuaternion){this.updateQuaternion=!1;var i=this.quaternion.getValueDirect();this.rotationMatrix=i.getMatrix(),t=!0}if(this.updateScale&&(this.updateScale=!1,e=this.scale.getValueDirect(),this.scaleMatrix.loadScale(e.x,e.y,e.z),t=!0),this.updatePivot&&(this.updatePivot=!1,e=this.pivot.getValueDirect(),this.pivotMatrix.loadTranslation(-e.x,-e.y,-e.z),t=!0),this.updateSectorPosition&&(this.updateSectorPosition=!1,e=this.sectorPosition.getValueDirect(),this.sectorTranslationMatrix.loadTranslation(e.x,e.y,e.z),t=!0),t){this.transformModified.pulse();var r=new Matrix4x4;r.loadMatrix(this.pivotMatrix.multiply(this.scaleMatrix.multiply(this.rotationMatrix))),this.transformSimple.loadMatrix(r.multiply(this.translationMatrix)),this.sectorTransformSimple.loadMatrix(r.multiply(this.sectorTranslationMatrix)),this.updateChildDisplayLists()}}return t},ParentableMotionElement.prototype.updateCompoundTransform=function(){if(this.transformCompound.loadMatrix(this.transformSimple),this.sectorTransformCompound.loadMatrix(this.sectorTransformSimple),this.motionParent){var t=new Matrix4x4,e=getInspectionGroup(this.motionParent);if(e){var i=e.getChild(0),r=i.getAttribute("matrix").getValueDirect(),o=e.getChild(1),n=o.getAttribute("matrix").getValueDirect(),a=e.getChild(2),s=a.getAttribute("matrix").getValueDirect(),l=e.getChild(3),c=l.getAttribute("matrix").getValueDirect(),h=e.getChild(4),d=h.getAttribute("matrix").getValueDirect();t=d.multiply(c.multiply(s.multiply(n.multiply(r))))}this.inheritsPosition&&this.inheritsRotation&&this.inheritsScale&&this.inheritsPivot&&(this.transformCompound.loadMatrix(this.transformCompound.multiply(t.multiply(this.motionParent.transformCompound))),this.sectorTransformCompound.loadMatrix(this.sectorTransformCompound.multiply(t.multiply(this.motionParent.sectorTransformCompound))))}},ParentableMotionElement.prototype.updateWorldMotionInfo=function(){this.worldTransform.setValueDirect(this.transformCompound),this.sectorWorldTransform.setValueDirect(this.sectorTransformCompound),this.updateWorldCenter(),this.updateWorldPosition(),this.updateWorldRotation(),this.updateWorldScale()},ParentableMotionElement.prototype.updateWorldCenter=function(){var t=this.center.getValueDirect();t=this.transformCompound.transform(t.x,t.y,t.z,1),this.worldCenter.setValueDirect(t.x,t.y,t.z),t=this.center.getValueDirect(),t=this.sectorTransformCompound.transform(t.x,t.y,t.z,1),this.sectorWorldCenter.setValueDirect(t.x,t.y,t.z)},ParentableMotionElement.prototype.updateWorldPosition=function(){var t=this.transformCompound.transform(0,0,0,1);this.worldPosition.setValueDirect(t.x,t.y,t.z),t=this.sectorTransformCompound.transform(0,0,0,1),this.sectorWorldPosition.setValueDirect(t.x,t.y,t.z)},ParentableMotionElement.prototype.updateWorldRotation=function(){var t=this.transformCompound.getRotationAngles();this.worldRotation.setValueDirect(t.x,t.y,t.z)},ParentableMotionElement.prototype.updateWorldScale=function(){var t=this.transformCompound.getScalingFactors();this.worldScale.setValueDirect(t.x,t.y,t.z)},ParentableMotionElement.prototype.synchronizePosition=function(){var t=new Vector3D;this.motionParent?(t.x=0,t.y=0,t.z=0):t=this.sectorOrigin.getValueDirect();var e=this.sectorPosition.getValueDirect(),i=new Vector3D;i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,this.position.removeModifiedCB(ParentableMotionElement_PositionModifiedCB,this),this.position.setValueDirect(i.x,i.y,i.z),this.position.addModifiedCB(ParentableMotionElement_PositionModifiedCB,this),this.updatePosition=!0},ParentableMotionElement.prototype.synchronizeSectorPosition=function(){var t=new Vector3D;this.motionParent?(t.x=0,t.y=0,t.z=0):t=this.sectorOrigin.getValueDirect();var e=this.position.getValueDirect(),i=new Vector3D;i.x=e.x-t.x,i.y=e.y-t.y,i.z=e.z-t.z,this.sectorPosition.removeModifiedCB(ParentableMotionElement_SectorPositionModifiedCB,this),this.sectorPosition.setValueDirect(i.x,i.y,i.z),this.sectorPosition.addModifiedCB(ParentableMotionElement_SectorPositionModifiedCB,this),this.updateSectorPosition=!0},ParentableMotionElement.prototype.getDirectionVectors=function(){var t=this.sectorTransformCompound.transform(0,1,0,0),e=this.sectorTransformCompound.transform(1,0,0,0),i=this.sectorTransformCompound.transform(0,0,1,0);return{up:t,right:e,forward:i}},ParentableMotionElement.prototype.setMotionParent=function(t){if(t!=this){if(this.motionParent)for(var e=0;e<this.motionParent.motionChildren.length;e++)if(this.motionParent.motionChildren[e]==this){this.motionParent.motionChildren.splice(e,1);break}this.motionParent=t,t&&(t.motionChildren.push(this),this.parent.removeModifiedCB(ParentableMotionElement_ParentModifiedCB,this),this.parent.copyValue(t.name),this.parent.addModifiedCB(ParentableMotionElement_ParentModifiedCB,this)),this.synchronizeSectorPosition()}},ParentableMotionElement.prototype.isMotionAncestor=function(t){return t&&this.motionParent?this.motionParent==t?!0:this.motionParent.isMotionAncestor(t):!1},ParentableMotionElement.prototype.velocityModified=function(){this.nonZeroVelocity=this.panVelocity.isZero()&&this.linearVelocity.isZero()&&this.angularVelocity.isZero()&&this.scalarVelocity.isZero()?!1:!0
},ParentableMotionElement.prototype.setModified=function(){RenderableElement.prototype.setModified.call(this);for(var t=0;t<this.motionChildren.length;t++)this.motionChildren[t].setModified()},Directive.prototype=new AttributeContainer,Directive.prototype.constructor=Directive,SGDirective.prototype=new Directive,SGDirective.prototype.constructor=SGDirective,SGDirective.prototype.setGraphMgr=function(t){this.graphMgr=t},UpdateParams.prototype=new DirectiveParams,UpdateParams.prototype.constructor=UpdateParams(),UpdateDirective.prototype=new SGDirective,UpdateDirective.prototype.constructor=UpdateDirective,UpdateDirective.prototype.setRegistry=function(t){this.collideDirective.setRegistry(t),SGDirective.prototype.setRegistry.call(this,t)},UpdateDirective.prototype.setGraphMgr=function(t){SGDirective.prototype.setGraphMgr.call(this,t),this.collideDirective.setGraphMgr(t)},UpdateDirective.prototype.execute=function(t,e){t=t||this.rootNode.getValueDirect(),void 0==e&&(e=!0),this.update(),e&&(collideParams=new CollideParams,collideParams.directive=this.collideDirective,this.collideDirective.execute(t,collideParams),this.update())},UpdateDirective.prototype.update=function(){var t=new UpdateParams;t.directive=this.updateDirective,t.disableDisplayLists=this.resetDisplayLists,t.timeIncrement=this.timeIncrement.getValueDirect();for(var e in this.graphMgr.updateRegistry.nodes)this.graphMgr.updateRegistry.nodes[e].update(t,!1);this.graphMgr.updateRegistry.clear()},Camera.prototype=new ParentableMotionElement,Camera.prototype.constructor=Camera,Camera.prototype.update=function(t,e){this.updateNearDistance&&(this.updateNearDistance=!1,this.near=this.nearDistance.getValueDirect(),this.updateClipPlanes=!0),this.updateFarDistance&&(this.updateFarDistance=!1,this.far=this.farDistance.getValueDirect(),this.updateClipPlanes=!0),ParentableMotionElement.prototype.update.call(this,t,e)},Camera.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void ParentableMotionElement.prototype.apply.call(this,t,e,i);switch(t){case"render":this.applyTransform(),e.projMatrix.loadMatrix(this.projectionMatrix),e.viewMatrix.loadMatrix(this.sectorTransformCompound),e.viewMatrix.invert();break;case"rayPick":if(!e.camera||e.camera==this){var o=this.getViewSpaceRay(e.viewport,e.clickPoint);e.rayOrigin=o.origin,e.rayDir=o.direction,e.currentCamera=this,e.nearDistance=this.nearDistance.getValueDirect(),e.farDistance=this.farDistance.getValueDirect(),e.viewMatrix.loadMatrix(this.sectorTransformCompound),e.viewMatrix.invert()}break;case"bbox":e.viewMatrix.loadMatrix(this.sectorTransformCompound),e.viewMatrix.invert();break;case"highlight":e.projMatrix.loadMatrix(this.projectionMatrix),e.viewMatrix.loadMatrix(this.transformCompound),e.viewMatrix.invert(),e.camera=this,e.viewport=this.viewport}ParentableMotionElement.prototype.apply.call(this,t,e,i)},Camera.prototype.applyTransform=function(){var t=new Matrix4x4;t.loadMatrix(this.sectorTransformCompound),t.invert(),this.graphMgr.renderContext.setMatrixMode(RC_VIEW),this.graphMgr.renderContext.loadMatrix(t),this.graphMgr.renderContext.applyViewTransform()},OrthographicCamera.prototype=new Camera,OrthographicCamera.prototype.constructor=OrthographicCamera,OrthographicCamera.prototype.update=function(t,e){this.updateWidth&&(this.updateWidth=!1,this.updateClipPlanes=!0),Camera.prototype.update.call(this,t,e)},OrthographicCamera.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void Camera.prototype.apply.call(this,t,e,i);switch(t){case"render":this.viewport.equals(e.viewport)||(this.viewport=e.viewport,this.updateClipPlanes=!0),this.updateClipPlanes&&(this.updateClipPlanes=!1,this.setClipPlanes()),this.applyOrthographicTransform()}Camera.prototype.apply.call(this,t,e,i)},OrthographicCamera.prototype.setClipPlanes=function(){var t=this.width.getValueDirect(),e=t*this.viewport.height/this.viewport.width;this.top=e/2,this.bottom=-this.top,this.right=t/2,this.left=-this.right,this.projectionMatrix.loadMatrix(this.graphMgr.renderContext.orthographicMatrixLH(this.left,this.right,this.top,this.bottom,this.near,this.far));var i=new ViewVolume;i.setOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far),this.viewVolume.setValueDirect(i.left,i.right,i.top,i.bottom,i.near,i.far)},OrthographicCamera.prototype.applyOrthographicTransform=function(){this.graphMgr.renderContext.projectionMatrixStack.top().loadMatrix(this.projectionMatrix),this.graphMgr.renderContext.applyProjectionTransform()},OrthographicCamera.prototype.getViewSpaceRay=function(t,e){var i=(e.x-t.x)/t.width*2-1,r=-((e.y-t.y)/t.height*2-1),o=(this.right-this.left)/2,n=(this.top-this.bottom)/2,a=new Vector3D(i*o,r*n,this.near),s=new Vector3D(0,0,1);return{origin:a,direction:s}},PerspectiveCamera.prototype=new Camera,PerspectiveCamera.prototype.constructor=PerspectiveCamera,PerspectiveCamera.prototype.update=function(t,e){this.updateZoom&&(this.updateZoom=!1,this.fovyRadians=2*Math.atan2(1,this.zoom.getValueDirect()),this.updateClipPlanes=!0),Camera.prototype.update.call(this,t,e)},PerspectiveCamera.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void Camera.prototype.apply.call(this,t,e,i);switch(t){case"render":this.viewport.equals(e.viewport)||(this.viewport=e.viewport,this.updateClipPlanes=!0),this.updateClipPlanes&&(this.updateClipPlanes=!1,this.setClipPlanes()),this.applyPerspectiveTransform()}Camera.prototype.apply.call(this,t,e,i)},PerspectiveCamera.prototype.setClipPlanes=function(){this.top=Math.tan(this.fovyRadians/2)*this.near,this.bottom=-this.top,this.right=this.top*(this.viewport.width/this.viewport.height),this.left=-this.right,this.projectionMatrix.loadMatrix(this.graphMgr.renderContext.perspectiveMatrixLH(this.left,this.right,this.top,this.bottom,this.near,this.far));var t=new ViewVolume;t.setPerspective(this.fovyRadians,this.viewport.width/this.viewport.height,this.near,this.far),this.viewVolume.setValueDirect(t.left,t.right,t.top,t.bottom,t.near,t.far)},PerspectiveCamera.prototype.applyPerspectiveTransform=function(){this.graphMgr.renderContext.setMatrixMode(RC_PROJECTION),this.graphMgr.renderContext.loadMatrix(this.projectionMatrix),this.graphMgr.renderContext.applyProjectionTransform()},PerspectiveCamera.prototype.getViewSpaceRay=function(t,e){var i=(e.x-t.x)/t.width*2-1,r=-((e.y-t.y)/t.height*2-1),o=this.fovyRadians,n=2*Math.atan(t.width/t.height*Math.tan(o/2)),a=Math.tan(n/2)*this.far,s=Math.tan(o/2)*this.far,l=new Vector3D(0,0,0),c=new Vector3D(i*a,r*s,this.far);return{origin:l,direction:c}},Light.prototype=new ParentableMotionElement,Light.prototype.constructor=Light,Light.prototype.setGraphMgr=function(t){this.lightIndex=t.getAvailableLightIndex(),ParentableMotionElement.prototype.setGraphMgr.call(this,t)},Light.prototype.update=function(t,e){this.updateAmbient&&(this.updateAmbient=!1,this.lightDesc.ambient.copy(this.ambient.getValueDirect()),this.lightDesc.validMembersMask|=LIGHTDESC_AMBIENT_BIT),this.updateDiffuse&&(this.updateDiffuse=!1,this.lightDesc.diffuse.copy(this.diffuse.getValueDirect()),this.lightDesc.validMembersMask|=LIGHTDESC_DIFFUSE_BIT),this.updateSpecular&&(this.updateSpecular=!1,this.lightDesc.specular.copy(this.specular.getValueDirect()),this.lightDesc.validMembersMask|=LIGHTDESC_SPECULAR_BIT),this.updateConstantAttenuation&&(this.updateConstantAttenuation=!1,this.lightDesc.constantAttenuation=this.constantAttenuation.getValueDirect(),this.lightDesc.validMembersMask|=LIGHTDESC_CONSTANT_ATT_BIT),this.updateLinearAttenuation&&(this.updateLinearAttenuation=!1,this.lightDesc.linearAttenuation=this.linearAttenuation.getValueDirect(),this.lightDesc.validMembersMask|=LIGHTDESC_LINEAR_ATT_BIT),this.updateQuadraticAttenuation&&(this.updateQuadraticAttenuation=!1,this.lightDesc.quadraticAttenuation=this.quadraticAttenuation.getValueDirect(),this.lightDesc.validMembersMask|=LIGHTDESC_QUADRATIC_ATT_BIT),this.lightDesc.validMembersMask&&(this.setLightDesc=!0),this.setModified(),ParentableMotionElement.prototype.update.call(this,t,e)},Light.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r){switch(t){case"render":this.setLightEnabled()}return void ParentableMotionElement.prototype.apply.call(this,t,e,i)}switch(t){case"render":this.setLightDesc&&(this.setLightDesc=!1,this.applyLightDesc()),this.setLightEnabled(),e.lights.push(this)}ParentableMotionElement.prototype.apply.call(this,t,e,i)},Light.prototype.applyLightDesc=function(){this.graphMgr.renderContext.setLight(this.lightIndex,this.lightDesc)},Light.prototype.setLightEnabled=function(){this.graphMgr.renderContext.enableLight(this.lightIndex,this.enabled.getValueDirect()?1:0)},Light.prototype.onRemove=function(){this.graphMgr.renderContext.enableLight(this.lightIndex,0),ParentableMotionElement.prototype.onRemove.call(this)},DirectionalLight.prototype=new Light,DirectionalLight.prototype.constructor=DirectionalLight,DirectionalLight.prototype.update=function(t,e){this.validMembersMask=0,Light.prototype.update.call(this,t,e)},DirectionalLight.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void Light.prototype.apply.call(this,t,e,i);switch(t){case"render":var o=this.sectorTransformCompound.transform(0,0,1,0);this.lightDesc.direction.copy(o),this.lightDesc.validMembersMask|=LIGHTDESC_DIRECTION_BIT,this.setLightDesc=!0}Light.prototype.apply.call(this,t,e,i)},PointLight.prototype=new Light,PointLight.prototype.constructor=PointLight,PointLight.prototype.setGraphMgr=function(t){Light.prototype.setGraphMgr.call(this,t),this.range.setValueDirect(FLT_MAX)},PointLight.prototype.update=function(t,e){this.validMembersMask=0,this.updateRange&&(this.updateRange=!1,this.lightDesc.range=this.range.getValueDirect(),this.lightDesc.validMembersMask|=LIGHTDESC_RANGE_BIT),Light.prototype.update.call(this,t,e)},PointLight.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void Light.prototype.apply.call(this,t,e,i);switch(t){case"render":var o=this.sectorTransformCompound.transform(0,0,0,1);this.lightDesc.position.copy(o),this.lightDesc.validMembersMask|=LIGHTDESC_POSITION_BIT,this.lightDesc.outerConeDegrees=180,this.lightDesc.validMembersMask|=LIGHTDESC_OUTER_CONE_DEG_BIT,this.setLightDesc=!0}Light.prototype.apply.call(this,t,e,i)},GlobalIllumination.prototype=new SGNode,GlobalIllumination.prototype.constructor=GlobalIllumination,GlobalIllumination.prototype.update=function(t,e){this.updateAmbient&&(this.updateAmbient=!1,this.setGlobalIllumination=!0),SGNode.prototype.update.call(this,t,e)},GlobalIllumination.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void ParentableMotionElement.prototype.apply.call(this,t,e,i);switch(t){case"render":this.setGlobalIllumination&&(this.setGlobalIllumination=!1,this.applyGlobalIllumination())}SGNode.prototype.apply.call(this,t,e,i)},GlobalIllumination.prototype.applyGlobalIllumination=function(){this.graphMgr.renderContext.setGlobalIllumination(this.ambient.getValueDirect())},GlobalIllumination.prototype.onRemove=function(){var t=new Color(0,0,0,0);this.graphMgr.renderContext.setGlobalIllumination(t),SGNode.prototype.onRemove.call(this)},Group.prototype=new SGNode,Group.prototype.constructor=Group,Group.prototype.addChild=function(t){1==this.proxyChildAttrs.getValueDirect()&&this.proxyAttributes(t),SGNode.prototype.addChild.call(this,t)},Group.prototype.insertChild=function(t,e){1==this.proxyChildAttrs.getValueDirect()&&this.proxyAttributes(t),SGNode.prototype.insertChild.call(this,t,e)},Group.prototype.removeChild=function(t){return 1==this.proxyChildAttrs.getValueDirect()&&this.synchronizeProxiedAttributes(),SGNode.prototype.removeChild.call(this,t)},Group.prototype.replaceChild=function(t,e){return 1==this.proxyChildAttrs.getValueDirect()&&(this.proxyAttributes(t),this.synchronizeProxiedAttributes()),SGNode.prototype.replaceChild.call(this,t,e)},Group.prototype.update=function(t,e){SGNode.prototype.update.call(this,t,e)},Group.prototype.apply=function(t,e,i){SGNode.prototype.apply.call(this,t,e,i)},Group.prototype.proxyChildAttrsModified=function(){},Isolator.prototype=new Group,Isolator.prototype.constructor=Isolator,Isolator.prototype.update=function(t,e){Group.prototype.update.call(this,t,e)},Isolator.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void Group.prototype.apply.call(this,t,e,i);var o=this.isolateLights.values[0],n=this.isolateTransforms.values[0],a=this.isolateTextures.values[0],s=this.isolateDissolves.values[0],l=(this.isolateClipPlanes.values[0],0),c=null,h=null,d=null,u=null,p=null;switch(t){case"render":case"shadow":this.pushIsolatedStates(),o&&(p=e.lights.slice()),n&&(h=e.projMatrix,d=e.viewMatrix,u=e.worldMatrix,this.graphMgr.renderContext.setMatrixMode(RC_PROJECTION),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.setMatrixMode(RC_VIEW),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.pushMatrix()),a&&this.graphMgr.textureArrayStack.push(new TextureArray(this.graphMgr.textureArrayStack.top()));break;case"rayPick":s&&(l=e.dissolve,c=this.graphMgr.getCurrentDissolve());break;case"bbox":n&&(u=e.worldMatrix);break;case"collide":n&&(u=e.worldMatrix);break;case"highlight":n&&(u=e.worldMatrix)}switch(Group.prototype.apply.call(this,t,e,i),t){case"render":case"shadow":this.popIsolatedStates(),o&&(e.lights=p.slice()),n&&(e.projMatrix=h,e.viewMatrix=d,e.worldMatrix=u,this.graphMgr.renderContext.setMatrixMode(RC_PROJECTION),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.setMatrixMode(RC_VIEW),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.popMatrix()),a&&this.graphMgr.textureArrayStack.pop();break;case"rayPick":s&&(e.dissolve=l,this.graphMgr.setCurrentDissolve(c));break;case"bbox":n&&(e.worldMatrix=u);break;case"collide":n&&(e.worldMatrix=u);break;case"highlight":n&&(e.worldMatrix=u)}},Isolator.prototype.pushIsolatedStates=function(){},Isolator.prototype.popIsolatedStates=function(){},Selector.prototype=new Group,Selector.prototype.constructor=Selector,Selector.prototype.update=function(t,e){var i=this.selectee.getValueDirect();return e&&this.children.length>i?void this.children[i].update(t,e):void Group.prototype.update.call(this,t,e)},Selector.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void Group.prototype.apply.call(this,t,e,i);var o=this.selectee.getValueDirect();return i&&this.children.length>o?void this.children[o].apply(t,e,i):void Group.prototype.apply.call(this,t,e,i)},Dissolve.prototype=new SGNode,Dissolve.prototype.constructor=Dissolve,Dissolve.prototype.update=function(t,e){SGNode.prototype.update.call(this,t,e)},Dissolve.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void Group.prototype.apply.call(this,t,e,i);switch(t){case"render":case"shadow":var o=this.dissolve.getValueDirect();this.lastDissolve=o,e.dissolve=o;break;case"rayPick":e.dissolve=this.lastDissolve}SGNode.prototype.apply.call(this,t,e,i)},RenderParams.prototype=new DirectiveParams,RenderParams.prototype.constructor=RenderParams(),RenderDirective.prototype=new SGDirective,RenderDirective.prototype.constructor=RenderDirective,RenderDirective.prototype.setRegistry=function(t){this.distanceSortAgent.setRegistry(t),this.updateDirective.setRegistry(t),this.highlightDirective.setRegistry(t),this.shadowDirective.setRegistry(t),t.register(this.shadowDirective),this.backgroundScreen.setRegistry(t),this.backgroundTexture.setRegistry(t),this.backgroundScreenRect.setRegistry(t),SGDirective.prototype.setRegistry.call(this,t)},RenderDirective.prototype.setGraphMgr=function(t){this.distanceSortAgent.setGraphMgr(t),this.updateDirective.setGraphMgr(t),this.highlightDirective.setGraphMgr(t),this.shadowDirective.setGraphMgr(t),this.backgroundScreen.setGraphMgr(t),this.backgroundTexture.setGraphMgr(t),this.backgroundScreenRect.setGraphMgr(t),this.program=1==this.shadowsEnabled.getValueDirect()?t.renderContext.createProgram(pcf_shadow_mapping_render_pass_vs,pcf_shadow_mapping_render_pass_fs):t.renderContext.createProgram(default_fragment_lighting_vs,default_fragment_lighting_fs),SGDirective.prototype.setGraphMgr.call(this,t)},RenderDirective.prototype.execute=function(t){this.graphMgr.renderContext.useProgram(this.program),t=t||this.rootNode.getValueDirect(),this.updateDirective.execute(t),1==this.shadowsEnabled.getValueDirect()&&this.shadowDirective.execute(t),params=new RenderParams,params.directive=this,params.path=null,params.pathIndex=1,params.viewport.loadViewport(this.viewport.getValueDirect()),params.distanceSortAgent=this.distanceSortAgent,params.drawTextures=this.texturesEnabled.getValueDirect(),this.resetDisplayLists&&(params.resetDisplayLists=!0,this.resetDisplayLists=!1),t.apply("render",params,!0),this.distanceSortAgent.isEmpty()||(this.distanceSortAgent.sort(),this.distanceSortAgent.draw(),this.distanceSortAgent.clear()),this.drawHighlights(t)},RenderDirective.prototype.drawBackground=function(){if(this.backgroundImageSet){var t=this.updateDirective.execute(this.backgroundScreen,!1);params=new RenderParams,params.directive=this,params.path=null,params.pathIndex=1,params.viewport.loadViewport(this.viewport.getValueDirect()),t[0].apply("render",params,!0)}},RenderDirective.prototype.drawHighlights=function(t){switch(this.highlightType.getValueDirect()){case eHighlightType.FourPass:case eHighlightType.EightPass:this.highlightDirective.execute(t);break;case eHighlightType.None:}},RenderDirective.prototype.backgroundColorModified=function(){var t=this.backgroundColor.getValueDirect();this.graphMgr.renderContext.clearColor(t.r,t.g,t.b,t.a)},RayPickParams.prototype=new DirectiveParams,RayPickParams.prototype.constructor=RayPickParams(),RayPickDirective.prototype=new SGDirective,RayPickDirective.prototype.constructor=RayPickDirective,RayPickDirective.prototype.execute=function(t){t=t||this.rootNode.getValueDirect(),this.picked.length=0;var e=new RayPickParams;e.directive=this,e.camera=this.camera.getValueDirect(),e.viewport.loadViewport(this.viewport.getValueDirect()),e.clickPoint.copy(this.clickPoint.getValueDirect()),t.apply("rayPick",e,!0)},RayPickDirective.prototype.addPickRecord=function(t){for(var e=0;e<this.picked.length&&!(this.picked[e].intersectRecord.distance>t.intersectRecord.distance);e++);this.picked.splice(e,0,t)},BBoxParams.prototype=new DirectiveParams,BBoxParams.prototype.constructor=BBoxParams(),BBoxDirective.prototype=new SGDirective,BBoxDirective.prototype.constructor=BBoxDirective,BBoxDirective.prototype.execute=function(t){t=t||this.rootNode.getValueDirect();var e=new BBoxParams;e.viewSpace=this.viewSpace.getValueDirect();var i=this.viewTransform.getValueDirect();e.viewMatrix.load(i._11,i._12,i._13,i._14,i._21,i._22,i._23,i._24,i._31,i._32,i._33,i._34,i._41,i._42,i._43,i._44),t.apply("bbox",e,!0),this.min=e.minPoint,this.max=e.maxPoint},BBoxDirective.prototype.getBounds=function(){return{min:this.min,max:this.max}},Geometry.prototype=new RenderableElement,Geometry.prototype.constructor=Geometry,Geometry.prototype.update=function(t,e){this.updateBoundingTree&&(this.updateBoundingTree=!1,this.buildBoundingTree()),RenderableElement.prototype.update.call(this,t,e)},Geometry.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void RenderableElement.prototype.apply.call(this,t,e,i);switch(t){case"render":var o=!0,n=e.dissolve,a=e.opacity;if(1==n)o=!1;else if(n>0||1>a||this.graphMgr.textureArrayStack.top().textures[eTextureType.Transparency].length>0||this.graphMgr.projectionTextureArrayStack.top().textures[eTextureType.Transparency].length>0){var s=this.getBBox();e.distanceSortAgent.addGeometry(this,s.min,s.max,n),o=!1}o&&this.draw(n);break;case"rayPick":if(1==this.selectable.getValueDirect()&&e.opacity>0&&e.dissolve<1){var l=e.worldMatrix.multiply(e.viewMatrix),c=l.getScalingFactors(),h=rayPick(this.boundingTree,e.rayOrigin,e.rayDir,e.nearDistance,e.farDistance,e.worldMatrix,e.viewMatrix,max3(c.x,c.y,c.z),e.doubleSided,e.clipPlanes);h&&(e.currentNodePath.push(this),e.directive.addPickRecord(new RayPickRecord(e.currentNodePath,h,e.camera)),e.currentNodePath.pop())}break;case"bbox":var s=this.getBBox(),d=new Matrix4x4;d.loadMatrix(e.worldMatrix),e.viewSpace&&d.loadMatrix(d.multiply(e.viewMatrix));var u=d.transform(s.min.x,s.min.y,s.min.z,1),p=d.transform(s.max.x,s.max.y,s.max.z,1);e.minMaxSet?(e.minPoint.x=Math.min(e.minPoint.x,Math.min(u.x,p.x)),e.minPoint.y=Math.min(e.minPoint.y,Math.min(u.y,p.y)),e.minPoint.z=Math.min(e.minPoint.z,Math.min(u.z,p.z)),e.maxPoint.x=Math.max(e.maxPoint.x,Math.max(u.x,p.x)),e.maxPoint.y=Math.max(e.maxPoint.y,Math.max(u.y,p.y)),e.maxPoint.z=Math.max(e.maxPoint.z,Math.max(u.z,p.z))):(e.minPoint.x=Math.min(u.x,p.x),e.minPoint.y=Math.min(u.y,p.y),e.minPoint.z=Math.min(u.z,p.z),e.maxPoint.x=Math.max(u.x,p.x),e.maxPoint.y=Math.max(u.y,p.y),e.maxPoint.z=Math.max(u.z,p.z),e.minMaxSet=!0);break;case"highlight":this.highlight.getValueDirect()&&e.targets.length>0&&e.targets[e.targets.length-1].geometries.push(this)}RenderableElement.prototype.apply.call(this,t,e,i)},Geometry.prototype.draw=function(){},Geometry.prototype.drawPrimitives=function(){},Geometry.prototype.getBBox=function(){return{min:this.bbox.min.getValueDirect(),max:this.bbox.max.getValueDirect()}},Geometry.prototype.getTriangles=function(){return new Array},VertexGeometry.prototype=new Geometry,VertexGeometry.prototype.constructor=VertexGeometry,VertexGeometry.prototype.postCloneChild=function(t,e,i){var r,o,n;for(r=0;r<e.length();r++)if(o=e.stack[r],o.getAttribute()==eAttrType.Texture&&!n.push(o))return;var a;for(r=0;r<i.length();r++)if(o=i.stack[r],o.getAttribute()==eAttrType.Texture&&!a.push(o))return;var s=new NumberArrayAttr;for(r=0;r<n.size()&&r<a.size();r++)if(s=this.findUVCoords(n[r])){var l=new NumberArrayAttr;l=t.getUVCoords(a[r]),l.copyValue(s)}},VertexGeometry.prototype.getUVCoords=function(t){for(var e=0;e<this.uvCoords.length;e++)if(this.uvCoords[e].first==t)return this.uvCoords[e].second;var i=new NumberArrayAttr;return i.addModifiedCB(VertexGeometry_UVCoordsModifiedCB,this),this.uvCoords.push(new Pair(t,i)),i},VertexGeometry.prototype.findUVCoords=function(t){if(!t)return null;for(var e=0;e<this.uvCoords.length;e++)if(this.uvCoords[e].first==t)return this.uvCoords[e].second;return null},VertexGeometry.prototype.update=function(t,e){if(this.updateVertices){this.updateVertices=!1;var i=this.vertices.getValueDirect();this.vertexBuffer.setVertices(i),this.updateBoundingTree=!0,this.calculateBBox()}if(this.updateColors&&(this.updateColors=!1,this.vertexBuffer.setColors(this.colors.getValueDirect())),this.updateUVCoords.length){for(var r=0;r<this.updateUVCoords.length;r++)for(var o=0;o<this.uvCoords.length;o++)if(this.uvCoords[o].second==this.updateUVCoords[r]){this.vertexBuffer.setUVCoords(this.uvCoords[o].first.textureObj,this.uvCoords[o].second.getValueDirect());break}this.updateUVCoords.length=0}Geometry.prototype.update.call(this,t,e)},VertexGeometry.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void Geometry.prototype.apply.call(this,t,e,i);switch(t){case"render":break;case"shadow":{var o=!0,n=e.dissolve;e.opacity}1==n&&(o=!1),o&&this.vertexBuffer.draw()}Geometry.prototype.apply.call(this,t,e,i)},VertexGeometry.prototype.drawTextured=function(t){var e=null,i=null;this.graphMgr.renderContext.enable(eRenderMode.AlphaBlend),this.graphMgr.renderContext.setBlendFactor(RC_SRC_ALPHA,RC_ONE_MINUS_SRC_ALPHA);var r=this.graphMgr.renderContext.getMaxTextureStages(),o=this.graphMgr.textureArrayStack.top(),n=1,a=1,s=1,l=1,c=this.graphMgr.getCurrentMaterial();c&&(n=c.getAttribute("ambientLevel").getValueDirect(),a=c.getAttribute("diffuseLevel").getValueDirect(),s=c.getAttribute("specularLevel").getValueDirect(),l=c.getAttribute("emissiveLevel").getValueDirect());var h=this.graphMgr.renderContext.getFrontMaterial();if(this.graphMgr.renderState.push(RENDERSTATE_MATERIAL_BIT),t>0&&(h.ambient.a*=1-t,h.diffuse.a*=1-t,h.specular.a*=1-t,h.emissive.a*=1-t,this.graphMgr.renderContext.setFrontMaterial(h)),o.textures[eTextureType.Transparency].length){var d=o.textures[eTextureType.Transparency][0],u=this.getUVCoords(d);u&&u.getLength()>0&&(this.setTextureStage(0,eTextureType.Transparency,d,d.transformCompound),e=d),r>1&&(this.graphMgr.renderContext.enableTextureStage(1,0),i=null)}o.textures[eTextureType.Color].length&&this.setBlendingMaterial(o.textures[eTextureType.Color][0].getAttribute("opacity").getValueDirect(),n,a,s,l),this.graphMgr.renderContext.setTextureBlendFactor(h.diffuse.a*(1-t)),(0==o.textures[eTextureType.Color].length||o.textures[eTextureType.Color][0].getAttribute("opacity").getValueDirect()<1)&&this.vertexBuffer.draw(),e&&(this.graphMgr.renderContext.enableTextureStage(0,0),e=null),i&&(this.graphMgr.renderContext.enableTextureStage(1,0),i=null);for(var p=0;p<o.textures[eTextureType.Color].length;p++){var d=o.textures[eTextureType.Color][p],u=this.getUVCoords(d);u&&u.getLength()>0&&(this.setTextureStage(0,eTextureType.Color,d,d.transformCompound),e=d,this.setBlendingMaterial(d.getAttribute("opacity").getValueDirect(),n,a,s,l),this.graphMgr.renderContext.setTextureBlendFactor(h.diffuse.a*(1-t)*d.getAttribute("opacity").getValueDirect())),r>1&&o.textures[eTextureType.Transparency].length&&(d=o.textures[eTextureType.Transparency][0],u=this.getUVCoords(d),u&&u.getLength()>0&&(this.setTextureStage(1,eTextureType.Transparency,d,d.transformCompound),i=d)),this.vertexBuffer.draw(),e&&(this.graphMgr.renderContext.enableTextureStage(0,0),e=null),i&&(this.graphMgr.renderContext.enableTextureStage(1,0),i=null)}this.graphMgr.renderContext.enableTextureStage(0,0),this.graphMgr.renderContext.enableTextureStage(1,0),this.graphMgr.renderContext.disable(eRenderMode.AlphaBlend),this.graphMgr.renderState.pop(RENDERSTATE_MATERIAL_BIT)},VertexGeometry.prototype.drawPrimitives=function(){this.vertexBuffer.draw()},VertexGeometry.prototype.setTextureStage=function(t,e,i,r,o,n){r=r||new Matrix4x4,o=o||eTextureCoordSrc.VertexUVs,n=n||new Matrix4x4,this.graphMgr.renderContext.enableTextureStage(t,1);var a,s,l=i.getAttribute("widthWrap").getValueDirect(),c=i.getAttribute("heightWrap").getValueDirect();switch(l){case eTextureWrap.Clamp:a=RC_CLAMP_TO_EDGE;break;case eTextureWrap.Repeat:default:a=RC_REPEAT}switch(c){case eTextureWrap.Clamp:s=RC_CLAMP_TO_EDGE;break;case eTextureWrap.Repeat:default:s=RC_REPEAT}this.vertexBuffer.setTextureStage(t,i.textureObj,a,s,o,n),this.graphMgr.renderContext.setTextureBlendOp(i.blendOp.getValueDirect())},VertexGeometry.prototype.setBlendingMaterial=function(t,e,i,r,o){var n=this.graphMgr.renderContext.getFrontMaterial(),a=t*e,s=t*i,l=t*o;n.ambient.r=a+n.ambient.r*(1-t),n.ambient.g=a+n.ambient.g*(1-t),n.ambient.b=a+n.ambient.b*(1-t),n.diffuse.r=s+n.diffuse.r*(1-t),n.diffuse.g=s+n.diffuse.g*(1-t),n.diffuse.b=s+n.diffuse.b*(1-t),n.specular.r=0,n.specular.g=0,n.specular.b=0,n.glossiness=1,n.emissive.r=l+n.emissive.r*(1-t),n.emissive.g=l+n.emissive.g*(1-t),n.emissive.b=l+n.emissive.b*(1-t),n.validMembersMask=MATERIALDESC_ALL_BITS,this.graphMgr.renderContext.setFrontMaterial(n)},VertexGeometry.prototype.setSpecularMaterial=function(t,e){var i=new MaterialDesc;i.validMembersMask=MATERIALDESC_ALL_BITS,i.specular=t,i.glossiness=e,this.graphMgr.renderContext.setFrontMaterial(i),this.graphMgr.renderContext.setBlendFactor(RC_ONE_MINUS_SRC_ALPHA,RC_ONE)},VertexGeometry.prototype.calculateBBox=function(){var t=this.vertices.getValueDirect();if(!(t.length<3)){for(var e=new Vector3D(t[0],t[1],t[2]),i=new Vector3D(t[0],t[1],t[2]),r=3;r<t.length;r+=3)e.x=Math.min(e.x,t[r]),e.y=Math.min(e.y,t[r+1]),e.z=Math.min(e.z,t[r+2]),i.x=Math.max(i.x,t[r]),i.y=Math.max(i.y,t[r+1]),i.z=Math.max(i.z,t[r+2]);this.bbox.getAttribute("min").setValueDirect(e.x,e.y,e.z),this.bbox.getAttribute("max").setValueDirect(i.x,i.y,i.z)}},TriList.prototype=new VertexGeometry,TriList.prototype.constructor=TriList,TriList.prototype.update=function(t,e){this.vertexBuffer||(this.vertexBuffer=this.graphMgr.renderContext.createVertexBuffer(3),this.vertexBuffer.setPrimitiveType(this.primitiveType)),this.updateNormals&&(this.updateNormals=!1,this.vertexBuffer.setNormals(this.normals.getValueDirect())),VertexGeometry.prototype.update.call(this,t,e)},TriList.prototype.apply=function(t,e,i){VertexGeometry.prototype.apply.call(this,t,e,i)},TriList.prototype.draw=function(t){this.drawTextured(t)},TriList.prototype.buildBoundingTree=function(){var t=this.bbox.getAttribute("min").getValueDirect(),e=this.bbox.getAttribute("max").getValueDirect();this.boundingTree.setTriangles(this.getTriangles(),t,e),this.boundingTree.buildTree(this.approximationLevels.getValueDirect())},TriList.prototype.getTriangles=function(){for(var t=this.vertices.getValueDirect(),e=[],i=0,r=0;r+8<t.length;i++,r+=9)e.push(new Triangle(t[r],t[r+1],t[r+2],t[r+3],t[r+4],t[r+5],t[r+6],t[r+7],t[r+8]));return e},Material.prototype=new SGNode,Material.prototype.constructor=Material,Material.prototype.update=function(t,e){if(this.updateColor&&(this.updateColor=!1,this.updateAmbientLevel=!0,this.updateDiffuseLevel=!0,this.updateSpecularLevel=!0,this.updateEmissiveLevel=!0),this.updateAmbientLevel||this.updateDiffuseLevel||this.updateSpecularLevel||this.updateEmissiveLevel){var i=this.color.getValueDirect();if(this.updateAmbientLevel){this.updateAmbientLevel=!1;var r=this.ambientLevel.getValueDirect();this.ambient.setValueDirect(i.r*r,i.g*r,i.b*r,i.a)}if(this.updateDiffuseLevel){this.updateDiffuseLevel=!1;var r=this.diffuseLevel.getValueDirect();this.diffuse.setValueDirect(i.r*r,i.g*r,i.b*r,i.a)}if(this.updateSpecularLevel){this.updateSpecularLevel=!1;var r=this.specularLevel.getValueDirect();this.specular.setValueDirect(i.r*r,i.g*r,i.b*r,i.a)}if(this.updateEmissiveLevel){this.updateEmissiveLevel=!1;var r=this.emissiveLevel.getValueDirect();this.emissive.setValueDirect(i.r*r,i.g*r,i.b*r,i.a)}}var o=this.opacity.getValueDirect(),n=!1;this.updateOpacity&&(this.updateOpacity=!1,this.lastOpacity=o,n=!0),(this.updateAmbient||n)&&(this.updateAmbient=!1,this.materialDesc.ambient.copy(this.ambient.getValueDirect()),this.materialDesc.ambient.a*=o),(this.updateDiffuse||n)&&(this.updateDiffuse=!1,this.materialDesc.diffuse.copy(this.diffuse.getValueDirect()),this.materialDesc.diffuse.a*=o),(this.updateSpecular||n)&&(this.updateSpecular=!1,this.materialDesc.specular.copy(this.specular.getValueDirect()),this.materialDesc.specular.a*=o),(this.updateEmissive||n)&&(this.updateEmissive=!1,this.materialDesc.emissive.copy(this.emissive.getValueDirect()),this.materialDesc.emissive.a*=o),(this.updateGlossiness||n)&&(this.updateGlossiness=!1,this.materialDesc.glossiness=this.glossiness.getValueDirect()),SGNode.prototype.update.call(this,t,e)},Material.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void SGNode.prototype.apply.call(this,t,e,i);switch(this.graphMgr.setCurrentMaterial(this),t){case"render":e.opacity=this.lastOpacity,this.applyMaterialDesc();break;case"rayPick":e.doubleSided=this.lastDoubleSided,e.opacity=this.lastOpacity}SGNode.prototype.apply.call(this,t,e,i)},Material.prototype.applyMaterialDesc=function(){this.graphMgr.renderContext.setFrontMaterial(this.materialDesc);var t=this.doubleSided.getValueDirect();this.lastDoubleSided=t,t?this.graphMgr.renderContext.disable(eRenderMode.CullBackFace):this.graphMgr.renderContext.enable(eRenderMode.CullBackFace)},Surface.prototype=new Isolator,Surface.prototype.constructor=Surface,Surface.prototype.setGraphMgr=function(t){this.materialNode.setGraphMgr(t),this.colorTexturesNode.setGraphMgr(t),this.diffuseTexturesNode.setGraphMgr(t),this.luminosityTexturesNode.setGraphMgr(t),this.specularityTexturesNode.setGraphMgr(t),this.transparencyTexturesNode.setGraphMgr(t),Isolator.prototype.setGraphMgr.call(this,t)
},Surface.prototype.update=function(t,e){Isolator.prototype.update.call(this,t,e)},Surface.prototype.apply=function(t,e,i){Isolator.prototype.apply.call(this,t,e,i)},Surface.prototype.connectMaterialAttributes=function(t){this.connectMaterialAttribute(t,this.color,"color"),this.connectMaterialAttribute(t,this.ambientLevel,"ambientLevel"),this.connectMaterialAttribute(t,this.diffuseLevel,"diffuseLevel"),this.connectMaterialAttribute(t,this.specularLevel,"specularLevel"),this.connectMaterialAttribute(t,this.emissiveLevel,"emissiveLevel"),this.connectMaterialAttribute(t,this.ambient,"ambient"),this.connectMaterialAttribute(t,this.diffuse,"diffuse"),this.connectMaterialAttribute(t,this.specular,"specular"),this.connectMaterialAttribute(t,this.emissive,"emissive"),this.connectMaterialAttribute(t,this.glossiness,"glossiness"),this.connectMaterialAttribute(t,this.opacity,"opacity"),this.connectMaterialAttribute(t,this.doubleSided,"doubleSided")},Surface.prototype.connectMaterialAttribute=function(t,e,i){var r=e.modificationCount>0?!0:!1;e.addTarget(t.getAttribute(i),eAttrSetOp.Replace,null,r)},Surface.prototype.addTexture=function(t){t.getAttribute("modified").addTarget(this.modified),this.colorTexturesNode.addChild(t)},Model.prototype=new ParentableMotionElement,Model.prototype.constructor=Model,Model.prototype.copyModel=function(t,e,i,r){var o=!1;if(!t){if(!(t=new Model))return-1;o=!0}return this.copyNode(t,e,i,r)?-1:void 0},Model.prototype.initializeSurfaceAttrConnectionsMap=function(){this.surfaceAttrConnections.push(new Pair(this.color,!1)),this.surfaceAttrConnections.push(new Pair(this.ambientLevel,!1)),this.surfaceAttrConnections.push(new Pair(this.diffuseLevel,!1)),this.surfaceAttrConnections.push(new Pair(this.specularLevel,!1)),this.surfaceAttrConnections.push(new Pair(this.emissiveLevel,!1)),this.surfaceAttrConnections.push(new Pair(this.ambient,!1)),this.surfaceAttrConnections.push(new Pair(this.diffuse,!1)),this.surfaceAttrConnections.push(new Pair(this.specular,!1)),this.surfaceAttrConnections.push(new Pair(this.emissive,!1)),this.surfaceAttrConnections.push(new Pair(this.glossiness,!1)),this.surfaceAttrConnections.push(new Pair(this.opacity,!1)),this.surfaceAttrConnections.push(new Pair(this.doubleSided,!1)),this.surfaceAttrConnections.push(new Pair(this.texturesEnabled,!1)),this.surfaceAttrConnections.push(new Pair(this.renderSequenceSlot,!1))},Model.prototype.initializeGeometryAttrConnectionsMap=function(){this.geometryAttrConnections.push(new Pair(this.selectable,!1)),this.geometryAttrConnections.push(new Pair(this.cullable,!1)),this.geometryAttrConnections.push(new Pair(this.show,!1)),this.geometryAttrConnections.push(new Pair(this.approximationLevels,!1)),this.geometryAttrConnections.push(new Pair(this.showApproximationLevel,!1)),this.geometryAttrConnections.push(new Pair(this.sortPolygons,!1)),this.geometryAttrConnections.push(new Pair(this.flipPolygons,!1)),this.geometryAttrConnections.push(new Pair(this.intersector,!1)),this.geometryAttrConnections.push(new Pair(this.intersectee,!1)),this.geometryAttrConnections.push(new Pair(this.stationary,!1)),this.geometryAttrConnections.push(new Pair(this.shadowCaster,!1)),this.geometryAttrConnections.push(new Pair(this.shadowTarget,!1))},Model.prototype.clearSurfaceAttrConnectionMap=function(){this.surfaceAttrConnections=[],this.initializeSurfaceAttrConnectionsMap()},Model.prototype.clearGeometryAttrConnectionsMap=function(){this.geometryAttrConnections=[],this.initializeGeometryAttrConnectionsMap()},Model.prototype.setGraphMgr=function(t){this.isolatorNode.setGraphMgr(t),this.dissolveNode.setGraphMgr(t),this.surfacesNode.setGraphMgr(t),ParentableMotionElement.prototype.setGraphMgr.call(this,t)},Model.prototype.update=function(t,e){this.updateBoundingTree&&(this.updateBoundingTree=!1,this.buildBoundingTree()),ParentableMotionElement.prototype.update.call(this,t,e)},Model.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void ParentableMotionElement.prototype.apply.call(this,t,e,i);switch(t){case"render":case"shadow":var o=this.show.getValueDirect();if(!o)return void ParentableMotionElement.prototype.apply.call(this,t,e,i);var n=new Matrix4x4;n.loadMatrix(e.worldMatrix),e.worldMatrix=e.worldMatrix.multiply(this.sectorTransformCompound),this.pushMatrix(),this.applyTransform(),this.graphMgr.renderContext.setModelID(e.modelID++),ParentableMotionElement.prototype.apply.call(this,t,e,i),this.popMatrix(),e.worldMatrix.loadMatrix(n);break;case"rayPick":var n=new Matrix4x4;n.loadMatrix(e.worldMatrix);var a=new Vector3D(e.sectorOrigin.x,e.sectorOrigin.y,e.sectorOrigin.z);e.worldMatrix=e.worldMatrix.multiply(this.sectorTransformCompound),e.sectorOrigin.load(this.sectorOrigin.getValueDirect()),ParentableMotionElement.prototype.apply.call(this,t,e,i),e.worldMatrix.loadMatrix(n),e.sectorOrigin.copy(a);break;case"bbox":var n=new Matrix4x4;n.loadMatrix(e.worldMatrix),e.worldMatrix.loadMatrix(this.sectorTransformCompound.multiply(e.worldMatrix)),ParentableMotionElement.prototype.apply.call(this,t,e,i),e.worldMatrix.loadMatrix(n);break;case"collide":var n=new Matrix4x4;n.loadMatrix(e.worldMatrix),e.worldMatrix=e.worldMatrix.multiply(this.sectorTransformCompound),ParentableMotionElement.prototype.apply.call(this,t,e,i),this.detectCollision.getValueDirect()&&(this.boundingTree.setTransform(e.worldMatrix),e.detectCollisions[this.name.getValueDirect().join("")]=new CollideRec(this,this.boundingTree,e.worldMatrix)),e.worldMatrix.loadMatrix(n);break;case"highlight":if(this.highlight.getValueDirect()){var s=new HighlightTarget;s.projMatrix=e.projMatrix,s.viewMatrix=e.viewMatrix,s.worldMatrix=this.sectorTransformCompound.multiply(e.worldMatrix),s.camera=e.camera,s.viewport=e.viewport,s.center=this.center.getValueDirect();var l=this.highlightColor.getValueDirect();s.highlightColor_r=l.r,s.highlightColor_g=l.g,s.highlightColor_b=l.b,s.highlightColor_a=l.a,s.highlightWidth=this.highlightWidth.getValueDirect(),e.targets.push(s),ParentableMotionElement.prototype.apply.call(this,t,e,i)}break;default:ParentableMotionElement.prototype.apply.call(this,t,e,i)}},Model.prototype.onRemove=function(){for(var t=(this.name.getValueDirect().join(""),this.registry.getByType(eAttrType.PhysicsSimulator)),e=0;e<t.length;e++)t[e].deleteModel(this);ParentableMotionElement.prototype.onRemove.call(this)},Model.prototype.pushMatrix=function(){this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.pushMatrix()},Model.prototype.popMatrix=function(){this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.applyWorldTransform()},Model.prototype.addSurface=function(t){this.surfacesNode.addChild(t),this.registerAttribute(t,t.getAttribute("name").getValueDirect().join("")),this.connectSurfaceAttributes(t)},Model.prototype.addGeometry=function(t,e,i){i.addChild(t),this.connectGeometryAttributes(t),this.addGeometryBBox(t),this.geometry.push(t),this.geometryIndices.push(e),this.updateBoundingTree=!0},Model.prototype.connectSurfaceAttributes=function(t){this.connectSurfaceAttribute(t,this.color,"color"),this.connectSurfaceAttribute(t,this.ambientLevel,"ambientLevel"),this.connectSurfaceAttribute(t,this.diffuseLevel,"diffuseLevel"),this.connectSurfaceAttribute(t,this.specularLevel,"specularLevel"),this.connectSurfaceAttribute(t,this.emissiveLevel,"emissiveLevel"),this.connectSurfaceAttribute(t,this.ambient,"ambient"),this.connectSurfaceAttribute(t,this.diffuse,"diffuse"),this.connectSurfaceAttribute(t,this.specular,"specular"),this.connectSurfaceAttribute(t,this.emissive,"emissive"),this.connectSurfaceAttribute(t,this.glossiness,"glossiness"),this.connectSurfaceAttribute(t,this.opacity,"opacity"),this.connectSurfaceAttribute(t,this.doubleSided,"doubleSided"),this.connectSurfaceAttribute(t,this.texturesEnabled,"texturesEnabled"),this.connectSurfaceAttribute(t,this.enabled,"enabled")},Model.prototype.connectSurfaceAttribute=function(t,e,i){var r=e.modificationCount>0?!0:!1;e.addTarget(t.getAttribute(i),eAttrSetOp.Replace,null,r)},Model.prototype.connectGeometryAttributes=function(t){this.connectGeometryAttribute(t,this.name,"name"),this.connectGeometryAttribute(t,this.selectable,"selectable"),this.connectGeometryAttribute(t,this.cullable,"cullable"),this.connectGeometryAttribute(t,this.show,"show"),this.connectGeometryAttribute(t,this.approximationLevels,"approximationLevels"),this.connectGeometryAttribute(t,this.sortPolygons,"sortPolygons"),this.connectGeometryAttribute(t,this.flipPolygons,"flipPolygons"),this.connectGeometryAttribute(t,this.shadowCaster,"shadowCaster"),this.connectGeometryAttribute(t,this.shadowTarget,"shadowTarget"),this.connectGeometryAttribute(t,this.renderSequenceSlot,"renderSequenceSlot"),this.connectGeometryAttribute(t,this.highlight,"highlight")},Model.prototype.connectGeometryAttribute=function(t,e,i){var r=e.modificationCount>0?!0:!1;e.addTarget(t.getAttribute(i),eAttrSetOp.Replace,null,r)},Model.prototype.addGeometryBBox=function(t){null!=t&&void 0!=t&&(t.bbox.min.addModifiedCB(Model_GeometryBBoxModifiedCB,this),t.bbox.max.addModifiedCB(Model_GeometryBBoxModifiedCB,this),this.updateGeometryBBox(t))},Model.prototype.updateGeometryBBox=function(t){if(null!=t&&void 0!=t){var e=t.bbox.min.getValueDirect(),i=t.bbox.max.getValueDirect();this.geometryBBoxesMap.push(new Pair(e,i)),this.updateBBox()}},Model.prototype.updateBBox=function(){var t=new Vector3D,e=new Vector3D,i=!0;for(var r in this.geometryBBoxesMap)i?(t.x=this.geometryBBoxesMap[r].first.x,t.y=this.geometryBBoxesMap[r].first.y,t.z=this.geometryBBoxesMap[r].first.z,e.x=this.geometryBBoxesMap[r].second.x,e.y=this.geometryBBoxesMap[r].second.y,e.z=this.geometryBBoxesMap[r].second.z,i=!1):(t.x=Math.min(t.x,this.geometryBBoxesMap[r].first.x),t.y=Math.min(t.y,this.geometryBBoxesMap[r].first.y),t.z=Math.min(t.z,this.geometryBBoxesMap[r].first.z),e.x=Math.max(e.x,this.geometryBBoxesMap[r].second.x),e.y=Math.max(e.y,this.geometryBBoxesMap[r].second.y),e.z=Math.max(e.z,this.geometryBBoxesMap[r].second.z));this.bbox.min.setValueDirect(t.x,t.y,t.z),this.bbox.max.setValueDirect(e.x,e.y,e.z);var o=new Vector3D((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2);this.center.setValueDirect(o.x,o.y,o.z),this.updateBoundingTree=!0},Model.prototype.buildBoundingTree=function(){for(var t=[],e=0;e<this.geometry.length;e++)t=t.concat(this.geometry[e].getTriangles());this.boundingTree=new Octree,this.boundingTree.setTriangles(t,this.bbox.min.getValueDirect(),this.bbox.max.getValueDirect()),this.boundingTree.buildTree(this.approximationLevels.getValueDirect())},Model.prototype.collisionDetectedModified=function(){},Texture.prototype=new ParentableMotionElement,Texture.prototype.constructor=Texture,Texture.prototype.setGraphMgr=function(t){this.textureObj=t.renderContext.createTextureObject(),ParentableMotionElement.prototype.setGraphMgr.call(this,t)},Texture.prototype.update=function(t,e){this.updateImage&&(this.updateImage=!1,this.setImage=!0),this.updateMipmappingEnabled&&this.imageSet&&(this.setImage=!0,this.updateMipmappingEnabled=!1),this.setImage&&(this.setImage=!this.SetImage()),this.updatePosition||this.updateRotation||this.updateScale?ParentableMotionElement.prototype.update.call(this,t,e):SGNode.prototype.update.call(this,t,e)},Texture.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void ParentableMotionElement.prototype.apply.call(this,t,e,i);switch(t){case"render":if(this.imageSet){var o=e.drawTextures&&this.graphMgr.getDrawTextures();if(o){var n=this.graphMgr.textureArrayStack.top().textures,a=this.textureType.getValueDirect();n[a]&&n[a].push(this)}}}ParentableMotionElement.prototype.apply.call(this,t,e,i)},Texture.prototype.SetImage=function(){var t=this.image.width.getValueDirect(),e=this.image.height.getValueDirect(),i=this.image.pixelFormat.getValueDirect(),r=this.image.pixels.getValueDirect();if(0==t||0==e||i==ePixelFormat.Unknown||null==r)return!1;var o;switch(this.textureType.getValueDirect()){case eTextureType.Diffuse:case eTextureType.Luminosity:case eTextureType.Specularity:case eTextureType.Transparency:o=eImageFormat.Alpha;break;case eTextureType.Color:default:o=eImageFormat.RGBA}return this.textureObj.setImageData(t,e,i,o,r),this.imageSet=!0,!0},MediaTexture.prototype=new Texture,MediaTexture.prototype.constructor=MediaTexture,MediaTexture.prototype.setGraphMgr=function(t){Texture.prototype.setGraphMgr.call(this,t)},MediaTexture.prototype.update=function(t,e){(this.updateImageFilename||this.updateAlphaFilename)&&(this.updateImageFilename=!1,this.updateAlphaFilename=!1,this.frame.setValueDirect(-1),this.loadMedia()),this.updateTextureType&&(this.updateTextureType=!1,this.setImageSize(),this.forceImageUpdate=!0),this.updateNegateImage&&(this.updateNegateImage=!1,this.forceImageUpdate=!0),this.updateNegateAlpha&&(this.updateNegateAlpha=!1,this.forceImageUpdate=!0),this.enabled.getValueDirect()&&this.updateMediaTextureImage(),Texture.prototype.update.call(this,t,e)},MediaTexture.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();return r?void Texture.prototype.apply.call(this,t,e,i):void Texture.prototype.apply.call(this,t,e,i)},MediaTexture.prototype.loadMedia=function(){var t=this.imageFilename.getValueDirect().join("");(t&&""!=t&&!this.imagePlayback||this.imagePlayback&&this.imagePlayback.url!=t)&&(this.imagePlayback=new MediaPlayback(this,MediaTexture_OnImageLoad),this.imagePlayback.container=this,this.imagePlayback.loadImage(t));var e=this.alphaFilename.getValueDirect().join("");(e&&""!=e&&!this.alphaPlayback||this.alphaPlayback&&this.alphaPlayback.url!=e)&&(this.alphaPlayback=new MediaPlayback(this,MediaTexture_OnAlphaLoad),this.alphaPlayback.container=this,this.alphaPlayback.loadImage(e),this.imagePlayback&&this.imagePlayback.setAlphaChannel(this.alphaPlayback)),this.setModified()},MediaTexture.prototype.setImageSize=function(){if((this.textureType.getValueDirect()!=eTextureType.Color||this.alphaPlayback)&&this.imagePlayback){var t,e=this.imagePlayback.getFrameDimensions(),i=nextHighestPowerOfTwo(e.width),r=nextHighestPowerOfTwo(e.height);switch(this.textureType.getValueDirect()){case eTextureType.Diffuse:case eTextureType.Luminosity:case eTextureType.Specularity:case eTextureType.Transparency:case eTextureType.Clip:t=ePixelFormat.A8,this.pixelMap=ePixelMap.RGBToAlpha;break;case eTextureType.Color:default:t=this.imagePlayback.getPixelFormat(),this.pixelMap=ePixelMap.Default}if(this.alphaPlayback)switch(t){case ePixelFormat.R8G8B8:t=ePixelFormat.R8G8B8A8;break;case ePixelFormat.B8G8R8:t=ePixelFormat.B8G8R8A8}var o=this.imagePlayback.getPixelByteAlignment();this.pitch=i*BytesPerPixel(t),this.pitch+=(o-this.pitch%o)%o,this.image.width.setValueDirect(i),this.image.height.setValueDirect(r),this.image.pixelFormat.setValueDirect(t),this.image.byteAlignment.setValueDirect(o),this.image.pixels.setLength(r*this.pitch)}},MediaTexture.prototype.updateMediaTextureImage=function(){if(this.textureType.getValueDirect()!=eTextureType.Color||this.alphaPlayback){if(this.imagePlayback&&this.imagePlayback.ready&&(this.imagePlayback.newFrameDataAvailable()||this.alphaPlayback&&this.alphaPlayback.newFrameDataAvailable()||this.forceImageUpdate)){var t=this.image.width.getValueDirect(),e=this.image.height.getValueDirect(),i=this.image.pixelFormat.getValueDirect(),r=FRAME_FILTER_SCALE_FRAME_BIT;this.negateImage.getValueDirect()&&(r|=FRAME_FILTER_NEGATE_COLOR_BIT),this.negateAlpha.getValueDirect()&&(r|=FRAME_FILTER_NEGATE_ALPHA_BIT);var o=this.imagePlayback.getFrameData(t,e,this.pitch,i,this.image.pixels.values,r,this.pixelMap,this.frame.getValueDirect());this.frameRetrieved.setValueDirect(o),this.forceImageUpdate=!1}this.setModified()}},MediaTexture.prototype.onImageLoad=function(){return this.textureType.getValueDirect()!=eTextureType.Color||this.alphaPlayback?void this.setImageSize():(this.textureObj.setImage(this.imagePlayback.htmlImageElement,ePixelFormat.R8G8B8A8,eImageFormat.RGBA),this.imageSet=!0,void this.setModified())},MediaTexture.prototype.onAlphaLoad=function(){},MediaTexture.prototype.onVideoLoad=function(){this.textureObj.setVideo(this.htmlImageElement),this.textureObj.negate=this.negateImage.getValueDirect(),this.imageSet=!0},Evaluator.prototype=new Node,Evaluator.prototype.constructor=Evaluator,Evaluator.prototype.evaluate=function(){},Evaluator.prototype.update=function(t,e){var i=this.enabled.getValueDirect(),r=this.expired.getValueDirect();i&&!r&&this.evaluate(),Node.prototype.update.call(this,t,e)},SceneInspector.prototype=new Evaluator,SceneInspector.prototype.constructor=SceneInspector,SceneInspector.prototype.setCamera=function(t){this.camera=t},SceneInspector.prototype.getCamera=function(){return this.camera},SceneInspector.prototype.evaluate=function(){var t=this.enabled.getValueDirect();if(t){var e=this.viewPosition.getValueDirect(),i=this.viewRotation.getValueDirect(),r=this.translationDelta.getValueDirect(),o=this.panDelta.getValueDirect(),n=this.trackDelta.getValueDirect(),a=this.rotationDelta.getValueDirect(),s=this.viewRelativeXAxisRotation.getValueDirect(),l=this.viewRelativeYAxisRotation.getValueDirect(),c=this.viewRelativeZAxisRotation.getValueDirect(),h=this.pivotDistance.getValueDirect(),d=new Matrix4x4;d.loadTranslation(-e.x,-e.y,-e.z);var u=new Matrix4x4;u.loadXYZAxisRotation(-i.x,-i.y,-i.z);var p=d.multiply(u),f=this.transformDirectionVector(0,1,0,p),_=this.transformDirectionVector(1,0,0,p),m=this.transformDirectionVector(0,0,1,p),g=new Matrix4x4,y=new Matrix4x4,b=new Matrix4x4;s?g.loadRotation(_.x,_.y,_.z,-a.x):g.loadXAxisRotation(-a.x),l?y.loadRotation(f.x,f.y,f.z,-a.y):y.loadYAxisRotation(-a.y),c?b.loadRotation(m.x,m.y,m.z,-a.z):b.loadXAxisRotation(-a.z);var v=y.multiply(g.multiply(b)),M=new Matrix4x4;if(M.loadTranslation(r.x,-r.y,-r.z),0!=o.x||0!=o.y||0!=o.z||0!=n.x||0!=n.y||0!=n.z){var S=this.upVector.getValueDirect(),x=this.rightVector.getValueDirect(),T=this.forwardVector.getValueDirect();0==S.x&&0==S.y&&0==S.z&&(S=f),0==x.x&&0==x.y&&0==x.z&&(x=_),0==T.x&&0==T.y&&0==T.z&&(T=m);var E=S,C=x,A=T,w=new Matrix4x4;w.loadTranslation(C.x*o.x+E.x*-o.y+A.x*-o.z,C.y*o.x+E.y*-o.y+A.y*-o.z,C.z*o.x+E.z*-o.y+A.z*-o.z),M=M.multiply(w);{var R=new Matrix4x4,D=new Matrix4x4,P=!1;Math.abs(i.y),Math.abs(i.x),Math.abs(i.z)}i.z>=90&&i.z<=270?P=!0:i.z<=-90&&i.z>=-270?P=!0:(i.x<=-45||i.x>=45&&i.x<=90)&&(P=!0);var B=A;D.loadRotation(C.x,C.y,C.z,i.x),A=this.transformDirectionVector(A.x,A.y,A.z,D);{toDegrees(Math.acos(cosineAngleBetween(B,A)))}D.loadRotation(C.x,C.y,C.z,90),E=this.transformDirectionVector(E.x,E.y,E.z,D),R.loadTranslation(C.x*n.x+E.x*-n.y+A.x*-n.z,C.y*n.x+E.y*-n.y+0,C.z*n.x+E.z*-n.y+A.z*-n.z),M=M.multiply(R)}var V=new Matrix4x4;V.loadMatrix(p),V.invert();var L=new Vector3D;L.load(V._41,V._42,V._43);var k=new Vector3D;k.load(L.x+m.x*h,L.y+m.y*h,L.z+m.z*h),this.pivotPointWorld.setValueDirect(k.x,k.y,k.z);var H=new Matrix4x4,I=new Matrix4x4;H.loadTranslation(-k.x,-k.y,-k.z),I.loadTranslation(k.x,k.y,k.z);var O=M.multiply(H.multiply(v.multiply(I.multiply(p)))),J=O.getRotationAngles(),N=new Vector3D;N.load(O._41,O._42,O._43),O.transpose(),N=O.transform(N.x,N.y,N.z,0),this.resultPosition.setValueDirect(this.affectPosition_X.getValueDirect()?-N.x:e.x,this.affectPosition_Y.getValueDirect()?-N.y:e.y,this.affectPosition_Z.getValueDirect()?-N.z:e.z),this.resultRotation.setValueDirect(this.affectRotation_X.getValueDirect()?-J.x:i.x,this.affectRotation_Y.getValueDirect()?-J.y:i.y,this.affectRotation_Z.getValueDirect()?-J.z:i.z)}},SceneInspector.prototype.transformDirectionVector=function(t,e,i,r){var o=new Matrix4x4;return o.loadMatrix(r),o.transpose(),o.transform(t,e,i,0)},ArcballInspector.prototype=new Evaluator,ArcballInspector.prototype.constructor=ArcballInspector,ArcballInspector.prototype.evaluate=function(){if(this.enabled.getValueDirect()){var t=this.sphereCenter.getValueDirect(),e=this.sphereRadius.getValueDirect(),i=this.mouseDown.getValueDirect(),r=this.mouseNow.getValueDirect(),o=this.quatAtMouseDown.getValueDirect(),n=this.viewport,a=this.worldTransform.getValueDirect(),s=this.viewTransform.getValueDirect();a.invert(),s=s.multiply(a);var l=this.constrainToAxis.getValueDirect();t.x=2*(t.x-n.x)/n.width-1,t.y=2*(n.height-t.y-n.y)/n.height-1,i.x=2*(i.x-n.x)/n.width-1,i.y=2*(n.height-i.y-n.y)/n.height-1,r.x=2*(r.x-n.x)/n.width-1,r.y=2*(n.height-r.y-n.y)/n.height-1;var c,h;if(l){var d=this.constraintAxis.getValueDirect();c=this.getSpherePointAboutAxis(i,t,e,d),h=this.getSpherePointAboutAxis(r,t,e,d)}else c=this.getSpherePoint(i,t,e),h=this.getSpherePoint(r,t,e);var u=s.transform(c.x,c.y,c.z,0),p=s.transform(h.x,h.y,h.z,0);c.x=u.x,c.y=u.y,c.z=u.z,h.x=p.x,h.y=p.y,h.z=p.z,c.normalize(),h.normalize();var f=this.getQuatFromSpherePoints(c,h);f=f.multiply(o),this.resultQuat.setValueDirect(f)}},ArcballInspector.prototype.getSpherePoint=function(t,e,i){var r=new Vector3D;r.x=(t.x-e.x)/i,r.y=(t.y-e.y)/i;var o=r.x*r.x+r.y*r.y;if(o>1){var n=1/Math.sqrt(o);r.x*=n,r.y*=n,r.z=0}else r.z=-Math.sqrt(1-o);return r},ArcballInspector.prototype.getSpherePointAboutAxis=function(t,e,i,r){point=this.getSpherePoint(t,e,i);var o=dotProduct(point,r);r.multiplyScalar(o);var n=new Vector3D(point.x,point.y,point.z);n.subtractVector(r);var a=magnitude(n.x,n.y,n.z);if(point=null,a>0){var s=1/Math.sqrt(a);n.z<0&&(n.x=-n.x,n.y=-n.y,n.z=-n.z),point=n.multiplyScalar(s)}else 1==r.z?point=new Vector3D(1,0,0):point.normalize()},ArcballInspector.prototype.getQuatFromSpherePoints=function(t,e){var i=new Quaternion;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i.w=t.x*e.x+t.y*e.y+t.z*e.z,i},KeyframeInterpolator.prototype=new Evaluator,KeyframeInterpolator.prototype.constructor=KeyframeInterpolator,KeyframeInterpolator.prototype.setNumChannels=function(t){this.channels.resize(0),this.startKeys.resize(0),this.endKeys.resize(0),this.preBehaviors.resize(0),this.postBehaviors.resize(0),this.resultValues.resize(0);for(var e=0;t>e;e++)this.channels.push_back(new KeyframesAttr),this.startKeys.push_back(new NumberAttr(-1)),this.endKeys.push_back(new NumberAttr(-1)),this.preBehaviors.push_back(new NumberAttr(eEndBehavior.Reset)),this.postBehaviors.push_back(new NumberAttr(eEndBehavior.Reset)),this.resultValues.push_back(new NumberAttr(0))},KeyframeInterpolator.prototype.evaluate=function(){this.endState.initialized||(this.updateEndState(),this.endState.initialized=!0);for(var t,e,i,r,o=this.time.getValueDirect(),n=0;n<this.channels.vector.length;n++){var a=this.channels.getAt(n);if(0!=a.vector.length){t=this.endState.startKeyIts[n],e=this.endState.endKeyIts[n],i=this.preBehaviors.getAt(n).getValueDirect(),r=this.postBehaviors.getAt(n).getValueDirect();var s=interpolate(o,a,t,e,i,r);this.resultValues.getAt(n).setValueDirect(s)}}this.lastTime=o,this.evaluated=!0},KeyframeInterpolator.prototype.timeModified=function(){this.updateExpired()},KeyframeInterpolator.prototype.updateExpired=function(){this.expired.setValueDirect(!1);for(var t=!1,e=this.time.getValueDirect(),i=0,r=null,o=this.channels.vector.length,n=0;o>n;n++)if(r=this.postBehaviors.getAt(n),r&&(i=r.getValueDirect()),i!=eEndBehavior.Constant){t=!0;break}!t&&(e<this.endState.startTime||e>this.endState.endTime)&&this.expired.setValueDirect(!0)},KeyframeInterpolator.prototype.updateEndState=function(){var t=-1,e=-1,i=FLT_MAX,r=-FLT_MAX,o=-1,n=-1,a=null,s=this.channels.vector.length;this.startKeys.resize(s),this.endKeys.resize(s);for(var l=0;s>l;l++)a=this.channels.getAt(l),o=this.startKeys.vector.length>l?this.startKeys.getAt(l).getValueDirect():-1,n=this.endKeys.vector.length>l?this.endKeys.getAt(l).getValueDirect():-1,o>n&&(n=o),this.endState.startKeyIts[l]=a.getAt(0),this.endState.endKeyIts[l]=a.getAt(a.vector.length-1),this.endState.startKeyIts[l]&&this.endState.endKeyIts[l]&&(o>=0&&o<a.vector.length&&(this.endState.startKeyIts[l]=a.getAt(o)),n>=0&&n<a.vector.length&&(this.endState.endKeyIts[l]=a.getAt(n)),t=this.endState.startKeyIts[l].getTime(),e=this.endState.endKeyIts[l].getTime(),i=i>t?t:i,r=e>=r?e:r);this.endState.startTime=i,this.endState.endTime=r},BBoxLocator.prototype=new Evaluator,BBoxLocator.prototype.constructor=BBoxLocator,BBoxLocator.prototype.evaluate=function(){var t=this.viewPosition.getValueDirect(),e=this.viewTransform.getValueDirect(),i=this.viewVolume.left.getValueDirect(),r=this.viewVolume.right.getValueDirect(),o=this.viewVolume.top.getValueDirect(),n=this.viewVolume.bottom.getValueDirect(),a=this.viewVolume.near.getValueDirect(),s=(this.viewVolume.far.getValueDirect(),this.viewport.getValueDirect()),l=this.bbox.min.getValueDirect(),c=this.bbox.max.getValueDirect(),h=this.closeness.getValueDirect();if(0!=h){var d=c.x-l.x,u=c.y-l.y;d+=d*h,u+=u*h,s.width/s.height<d/u?(d=(d-(c.x-l.x))/2,l.x-=d,c.x+=d):(u=(u-(c.y-l.y))/2,l.y-=u,c.y+=u)}var p=new Array(8);p[0]=new Vector3D(l.x,l.y,l.z),p[1]=new Vector3D(l.x,l.y,c.z),p[2]=new Vector3D(l.x,c.y,l.z),p[3]=new Vector3D(l.x,c.y,c.z),p[4]=new Vector3D(c.x,l.y,l.z),p[5]=new Vector3D(c.x,l.y,c.z),p[6]=new Vector3D(c.x,c.y,l.z),p[7]=new Vector3D(c.x,c.y,c.z);var f=new Vector3D((l.x+c.x)/2,(l.y+c.y)/2,(l.z+c.z)/2),_=new Vector3D;_.copy(e.transform(0,0,1,0)),_.normalize();var m,g=0,y=planesIntersect(i,r);if(y){var b=new Array(5);b[0]=this.getPlane(i.point,f,i.normal,e),b[1]=this.getPlane(r.point,f,r.normal,e),b[2]=this.getPlane(o.point,f,o.normal,e),b[3]=this.getPlane(n.point,f,n.normal,e),b[4]=this.getPlane(a.point,f,a.normal,e);for(var v=0;8>v;v++)for(var M=0;5>M;M++)if(pointOnPositiveSideOfPlane(p[v],b[M])){var S=this.distanceFromPlane(p[v],_,b[M]);S.intersection&&(g=Math.max(g,S.distance))}m=new Vector3D(f.x,f.y,f.z),_.multiplyScalar(g),m.subtractVector(_)}else{m=new Vector3D(f.x,f.y,f.z),g=magnitude(t.x,t.y,t.z),_.multiplyScalar(g),m.subtractVector(_);var x=this.bboxView.min.getValueDirect(),T=this.bboxView.max.getValueDirect(),E=distanceBetweenPlanes(r,i),C=distanceBetweenPlanes(o,n),A=E/C,w=Math.abs(T.x-x.x),R=Math.abs(T.y-x.y);w>R?(E=w,C=E/A,R>C&&(C=R,E=C*A)):(C=R,E=C*A,w>E&&(E=w)),this.resultWidth.setValueDirect(E)}this.resultPosition.setValueDirect(m.x,m.y,m.z),g=0;for(var v=0;8>v;v++){{e.transform(p[v].x,p[v].y,p[v].z,1)}g=Math.max(g,distanceBetween(p[v],m))}this.resultFarDistance.setValueDirect(this.nearDistance.getValueDirect()+g),g=distanceBetween(m,new Vector3D(f.x,f.y,f.z)),this.resultPivotDistance.setValueDirect(g)},BBoxLocator.prototype.getPlane=function(t,e,i,r){var o=r.transformVector3D(t,0);o.x+=e.x,o.y+=e.y,o.z+=e.z;var n=r.transformVector3D(i,0),a=new Plane(new Vector3D(o.x,o.y,o.z),new Vector3D(n.x,n.y,n.z));return a},BBoxLocator.prototype.distanceFromPlane=function(t,e,i){var r,o=new Line(t,e),n=lineIntersectsPlane(o,i);switch(n.result){case 0:r=FLT_MAX;break;case 1:r=distanceBetween(t,n.point);break;case 2:default:r=0}return{intersection:n.result,distance:r}},RasterComponent.prototype=new ParentableMotionElement,RasterComponent.prototype.constructor=RasterComponent,RasterComponent.prototype.setRegistry=function(t){var e=t.find("Bridgeworks");e&&(this.rcEventListener=e.rasterComponentEventListener,this.rcEventListener&&(this.rcEventListener.registerComponent(this),this.rcEventListener.Listen(this))),ParentableMotionElement.prototype.setRegistry.call(this,t)},RasterComponent.prototype.isSelected=function(t,e){var i=this.show.getValueDirect();return i&&this.screenRect.containsPoint(t,e)?!0:!1},RasterComponent.prototype.stylesMapSizeModified=function(){for(var t=this.stylesMap.Size(),e=0;t>e;e++){var i=this.stylesMap.getAt(e);i&&(i.event.removeModifiedCB(RasterComponent_StylesMapElementEventModifiedCB,this),i.event.addModifiedCB(RasterComponent_StylesMapElementEventModifiedCB,this),RasterComponent_StylesMapElementEventModifiedCB(i.event,this))}},RasterComponent.prototype.stylesMapElementEventModified=function(t){this.rcEventListener.listenEvent(this,eEventNameMap[t])},RasterComponent.prototype.showModified=function(){},Label.prototype=new RasterComponent,Label.prototype.constructor=Label,Label.prototype.setGraphMgr=function(t){RasterComponent.prototype.setGraphMgr.call(this,t),this.id="Label"+this.graphMgr.getNextLabelIndex(),this.labelId=this.id+"_label",this.iconId=this.id+"_icon";var e=CreateHTMLLabel(this.id,this.labelId,this.iconId);this.htmlLabel=e.label,this.htmlIconImg=e.iconImg,this.htmlIconDiv=e.iconDiv,this.htmlIconImg.baseWidth=0,this.htmlIconImg.baseHeight=0,Label_LabelStyleBackgroundColorModifiedCB(this.labelStyle.backgroundColor,this),Label_LabelStyleBackgroundOpacityModifiedCB(this.labelStyle.backgroundOpacity,this),Label_LabelStyleFontBorderModifiedCB(null,this),Label_LabelStyleFontStyleColorModifiedCB(this.labelStyle.fontStyle.color,this),Label_LabelStyleFontStyleFontModifiedCB(this.labelStyle.fontStyle.font,this),Label_LabelStyleFontStyleOpacityModifiedCB(this.labelStyle.fontStyle.opacity,this),Label_LabelStyleFontStyleSizeModifiedCB(this.labelStyle.fontStyle.size,this),Label_LabelStyleFontStyleStyleModifiedCB(this.labelStyle.fontStyle.style,this),Label_LabelStyleFormatModifiedCB(this.labelStyle.format,this),Label_LabelStylePaddingModifiedCB(this.labelStyle.padding,this),Label_IconStyleUrlModifiedCB(this.iconStyle.url,this)},Label.prototype.update=function(t,e){this.updateIconScale(),RasterComponent.prototype.update.call(this,t,e)},Label.prototype.updateIconScale=function(){var t=this.iconStyle.scale.getValueDirect();0==this.htmlIconImg.baseWidth&&(this.htmlIconImg.baseWidth=this.htmlIconImg.offsetWidth,this.htmlIconImg.baseHeight=this.htmlIconImg.offsetHeight),this.htmlIconImg.baseWidth&&(this.htmlIconImg.width=this.htmlIconImg.baseWidth*t.x,this.htmlIconImg.height=this.htmlIconImg.baseHeight*t.y)},Label.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void RasterComponent.prototype.apply.call(this,t,e,i);switch(t){case"render":this.draw(e.viewport);break;case"rayPick":if(1==this.selectable.getValueDirect()&&1==this.show.getValueDirect()&&this.isSelected(e.clickPoint.x,e.clickPoint.y)){var o=new RayIntersectRecord;o.distance=0,e.currentNodePath.push(this),e.directive.addPickRecord(new RayPickRecord(e.currentNodePath,o,e.camera)),e.currentNodePath.pop()}}RasterComponent.prototype.apply.call(this,t,e,i)},Label.prototype.draw=function(){var t=this.registry.find("Bridgeworks");if(0==this.show.getValueDirect())return this.htmlLabel.style.visibility="hidden",void(this.htmlIconImg.style.visibility="hidden");this.htmlLabel.style.visibility="visible",this.htmlIconImg.style.visibility="visible",0==this.labelStyle.fontStyle.opacity.getValueDirect()&&(this.htmlLabel.style.visibility="hidden");var e=this.iconStyle.color.getValueDirect();(0==e.a||0==this.iconStyle.opacity.getValueDirect())&&(this.htmlIconImg.style.visibility="hidden");var i=this.getRenderingPositions(),r=this.htmlLabel.offsetWidth,o=this.htmlLabel.offsetHeight,n=this.htmlIconImg.offsetWidth,a=this.htmlIconImg.offsetHeight;(i.labelX<0||i.labelY<0||i.labelX+r>t.canvas.width||i.labelY+o>t.canvas.height)&&(this.htmlLabel.style.visibility="hidden"),(i.iconX<0||i.iconY<0||i.iconX+n>t.canvas.width||i.iconY+a>t.canvas.height)&&(this.htmlIconImg.style.visibility="hidden"),"visible"==this.htmlLabel.style.visibility?(this.htmlLabel.style.left=t.canvas.offsetLeft+i.labelX,this.htmlLabel.style.top=t.canvas.offsetTop+i.labelY,this.labelRect.load(t.canvas.offsetLeft+i.labelX,t.canvas.offsetTop+i.labelY,this.labelRect.left+r,this.labelRect.top+o)):this.labelRect.load(0,0,0,0),"visible"==this.htmlIconImg.style.visibility?(this.htmlIconDiv.style.left=t.canvas.offsetLeft+i.iconX,this.htmlIconDiv.style.top=t.canvas.offsetTop+i.iconY,this.iconRect.load(t.canvas.offsetLeft+i.iconX,t.canvas.offsetTop+i.iconY,this.iconRect.left+n,this.iconRect.top+a)):this.iconRect.load(0,0,0,0);var s=new Rect(0,0,0,0);"visible"==this.htmlLabel.style.visibility&&"visible"==this.htmlIconImg.style.visibility?(s.left=Math.min(this.labelRect.left,this.iconRect.left),s.top=Math.min(this.labelRect.top,this.iconRect.top),s.right=Math.max(this.labelRect.right,this.iconRect.right),s.bottom=Math.max(this.labelRect.bottom,this.iconRect.bottom)):"visible"==this.htmlLabel.style.visibility?s.loadRect(this.labelRect):"visible"==this.htmlIconImg.style.visibility&&s.loadRect(this.iconRect),this.screenRect.setValueDirect(s)
},Label.prototype.getRenderingPositions=function(){var t=0,e=0,i=0,r=0,o=this.screenPosition.getValueDirect(),n=this.anchor.getValueDirect(),a=this.labelStyle.offset.getValueDirect();if(this.htmlIconImg.offsetWidth>0&&this.htmlLabel.offsetWidth>0){var s=this.htmlLabel.offsetWidth,l=this.htmlLabel.offsetHeight,c=this.htmlIconImg.offsetWidth,h=this.htmlIconImg.offsetHeight;switch("bottomLeft"==this.origin.getValueDirect().join("")&&(n.y=h-n.y),i=o.x-n.x,r=o.y-n.y,t=i+a.x,e=r+a.y,this.labelStyle.textAlign.getValueDirect().join("")){case"topLeft":t-=s,e-=l/2;break;case"middleLeft":t-=s,e+=h/2-l/2;break;case"bottomLeft":t-=s,e+=h-l/2;break;case"topCenter":t+=c/2-s/2,e-=l;break;case"middleCenter":t+=c/2-s/2,e+=h/2-l/2;break;case"bottomCenter":t+=c/2-s/2,e+=h;break;case"topRight":t+=c,e-=l/2;break;case"bottomRight":t+=c,e+=h-l/2;break;case"middleRight":default:t+=c,e+=h/2-l/2}}else if(this.htmlLabel.offsetWidth>0){var s=this.htmlLabel.offsetWidth,l=this.htmlLabel.offsetHeight;switch(t=o.x+n.x+a.x,e=o.y-n.y+a.y,this.labelStyle.textAlign.getValueDirect().join("")){case"topLeft":t-=s,e-=l;break;case"middleLeft":t-=s,e-=l/2;break;case"bottomLeft":t-=s;break;case"topCenter":t-=s/2,e-=l;break;case"middleCenter":t-=s/2,e-=l/2;break;case"bottomCenter":t-=s/2;break;case"topRight":e-=l;break;case"bottomRight":break;case"middleRight":default:e-=l/2}}else{var c=this.htmlIconImg.offsetWidth,h=this.htmlIconImg.offsetHeight;n.y=h-n.y,i=o.x-n.x,r=o.y-n.y}return{labelX:t,labelY:e,iconX:i,iconY:r}},Label.prototype.eventPerformed=function(t){if(!this.show.getValueDirect())return!1;var e=this.isSelected(t.x,t.y);return e},Label.prototype.labelStyleFontBorderModified=function(){var t=this.labelStyle.fontStyle.borderColor.getValueDirect();t.a*=this.labelStyle.fontStyle.opacity.getValueDirect();for(var e=this.labelStyle.fontStyle.borderWidth.getValueDirect(),i="",r=0;r<t.a;r+=.2)r>0&&(i+=", "),i+="rgba("+255*t.r+","+255*t.g+","+255*t.b+","+t.a+") 0px 0px "+2*e+"px";this.htmlLabel.style.textShadow=i},BalloonTipLabel.prototype=new RasterComponent,BalloonTipLabel.prototype.constructor=BalloonTipLabel,BalloonTipLabel.prototype.setGraphMgr=function(t){RasterComponent.prototype.setGraphMgr.call(this,t),this.id="BalloonTipLabel"+this.graphMgr.getNextBalloonTipLabelIndex();var e=CreateHTMLBalloonTipLabel(this.id);this.htmlBalloonTipLabel=e.label,this.qtip=e.qtip,this.qtip_api=$("a[id="+this.id+"]").qtip("api")},BalloonTipLabel.prototype.update=function(t,e){if(t.userData){{t.userData}this.show.getValueDirect()&&(this.updateLabel=!1)}RasterComponent.prototype.update.call(this,t,e)},BalloonTipLabel.prototype.apply=function(t,e,i){var r=this.enabled.getValueDirect();if(!r)return void RasterComponent.prototype.apply.call(this,t,e,i);switch(t){case"render":this.draw(e.viewport)}RasterComponent.prototype.apply.call(this,t,e,i)},BalloonTipLabel.prototype.updateLabel=function(){},BalloonTipLabel.prototype.updateLabelDimensions=function(){},BalloonTipLabel.prototype.updateShowStates=function(){},BalloonTipLabel.prototype.draw=function(){if(!this.show.getValueDirect())return void(this.graphMgr.getCurrentBalloonTipLabel()==this&&this.graphMgr.setCurrentBalloonTipLabel(null));this.graphMgr.setCurrentBalloonTipLabel(this);var t=this.registry.find("Bridgeworks"),e=this.getRenderingPositions(),i=this.htmlBalloonTipLabel.offsetWidth,r=this.htmlBalloonTipLabel.offsetHeight;this.htmlBalloonTipLabel.style.left=t.canvas.offsetLeft+e.labelX,this.htmlBalloonTipLabel.style.top=t.canvas.offsetTop+e.labelY,this.labelRect.load(t.canvas.offsetLeft+e.labelX,t.canvas.offsetTop+e.labelY,this.labelRect.left+i,this.labelRect.top+r),this.qtip_api&&this.qtip_api.reposition(null,!1);var o=new Rect(0,0,0,0);o.loadRect(this.labelRect),this.screenRect.setValueDirect(o)},BalloonTipLabel.prototype.getRenderingPositions=function(){var t=0,e=0,i=this.screenPosition.getValueDirect(),r=this.anchor.getValueDirect();return t=i.x+r.x,e=i.y-r.y,{labelX:t,labelY:e}},BalloonTipLabel.prototype.eventPerformed=function(t){if(!this.show.getValueDirect())return!1;var e=this.isSelected(t.x,t.y);return e},BalloonTipLabel.prototype.balloonTipLabelStyleModified=function(){},BalloonTipLabel.prototype.balloonTipLabelStyleBgColorModified=function(){},BalloonTipLabel.prototype.balloonTipLabelStyleDisplayModeModified=function(t){switch(t){case"default":this.show.setValueDirect(!0,!1);break;case"hide":this.motionParent&&this.motionParent.getAttribute("hasFocus").getValueDirect()>0?this.hasFocus.setValueDirect(1):this.show.setValueDirect(!1,!1)}this.setModified()},BalloonTipLabel.prototype.balloonTipLabelStyleHtmlLabelStyleModified=function(){var t=this.balloonTipLabelStyle.htmlLabelStyle.html.getValueDirect().join("");this.qtip_api&&this.qtip_api.set("content.text",t),this.setModified()},BalloonTipLabel.prototype.renderSequenceSlotModified=function(){},BalloonTipLabel.prototype.showModified=function(t){this.qtip_api&&(t?this.qtip_api.show():this.qtip_api.hide())},LineList.prototype=new VertexGeometry,LineList.prototype.constructor=LineList,LineList.prototype.update=function(t,e){this.vertexBuffer||(this.vertexBuffer=this.graphMgr.renderContext.createVertexBuffer(3),this.vertexBuffer.setPrimitiveType(RC_LINES)),VertexGeometry.prototype.update.call(this,t,e)},LineList.prototype.apply=function(t,e,i){VertexGeometry.prototype.apply.call(this,t,e,i)},LineList.prototype.draw=function(){this.vertexBuffer.draw()},LineList.prototype.buildBoundingTree=function(){},PointList.prototype=new VertexGeometry,PointList.prototype.constructor=PointList,PointList.prototype.update=function(t,e){this.vertexBuffer||(this.vertexBuffer=this.graphMgr.renderContext.createVertexBuffer(3),this.vertexBuffer.setPrimitiveType(RC_POINTS)),VertexGeometry.prototype.update.call(this,t,e)},PointList.prototype.apply=function(t,e,i){VertexGeometry.prototype.apply.call(this,t,e,i)},PointList.prototype.draw=function(){this.vertexBuffer.draw()},PointList.prototype.buildBoundingTree=function(){},DistanceSortAgent.prototype=new Agent,DistanceSortAgent.prototype.constructor=DistanceSortAgent,DistanceSortAgent.prototype.setGraphMgr=function(t){this.graphMgr=t},DistanceSortAgent.prototype.isEmpty=function(){return 0==this.sortRecs.length},DistanceSortAgent.prototype.addGeometry=function(t,e,i,r){var o=new DistanceSortRec;o.geometry=t,o.dissolve=r,o.stateRec=GetCurrentState(this.graphMgr);var n=new Matrix4x4;n.loadMatrix(this.graphMgr.renderContext.worldMatrixStack.top()),o.distance=FLT_MAX;for(var a,s=0;8>s;s++){switch(s){case 0:a=new Vector3D(i.x,i.y,i.z);break;case 1:a=new Vector3D(i.x,i.y,e.z);break;case 2:a=new Vector3D(i.x,e.y,i.z);break;case 3:a=new Vector3D(i.x,e.y,e.z);break;case 4:a=new Vector3D(e.x,i.y,i.z);break;case 5:a=new Vector3D(e.x,i.y,e.z);break;case 6:a=new Vector3D(e.x,e.y,i.z);break;case 7:a=new Vector3D(e.x,e.y,e.z)}a=n.transform(a.x,a.y,a.z,1),o.distance=Math.min(a.z,o.distance)}this.sortRecs.push(o)},DistanceSortAgent.prototype.clear=function(){this.sortRecs.length=0},DistanceSortAgent.prototype.sort=function(){this.sortRecs.sort(DistanceSortAgent_CompareSortRecs)},DistanceSortAgent.prototype.draw=function(){if(0!=this.sortRecs.length){for(var t=GetCurrentState(this.graphMgr),e=0;e<this.sortRecs.length;e++)SetCurrentState(this.graphMgr,this.sortRecs[e].stateRec),this.sortRecs[e].geometry.draw(this.sortRecs[e].dissolve),this.graphMgr.renderState.setState(RENDERSTATE_CLIP_PLANE_BIT,t.renderStateRec);this.graphMgr.renderContext.enable(eRenderMode.DepthBufferWrite),SetCurrentState(this.graphMgr,t)}};var EARTH_RADIUS_KM_EQ=6378,EARTH_RADIUS_KM_P=6377,UTM_ZONE_WIDTH_KM=667.956,EQ_ARC_WIDTH_KM=40075.16,EQ_ARC_HEIGHT_KM=40008,EQ_ARC_ONE_DEG_LAT_KM=EQ_ARC_HEIGHT_KM/360,EQ_ARC_ONE_DEG_LON_KM=EQ_ARC_WIDTH_KM/360,EQ_ARC_WIDTH_MI=24902,EQ_ARC_HEIGHT_MI=24900,EQ_ARC_ONE_DEG_LAT_MI=EQ_ARC_HEIGHT_MI/360,EQ_ARC_ONE_DEG_LON_MI=EQ_ARC_WIDTH_MI/360;MapProjectionCalculator.prototype=new Evaluator,MapProjectionCalculator.prototype.constructor=MapProjectionCalculator,MapProjectionCalculator.prototype.evaluate=function(){var t=this.geoPosition.getValueDirect(),e=this.computePosition(t.x,t.y,t.z);this.resultPosition.setValueDirect(e.x,e.y,e.z);var i=this.computeGeoPosition(e.x,e.y,e.z);this.resultGeoPosition.setValueDirect(i.x,i.y,i.z)},MapProjectionCalculator.prototype.computePosition=function(t,e,i){var r=void 0,o=this.mapProjection.getValueDirect().join(""),n=this.positionCalculators[o];if(n){var a=this.center2D.getValueDirect();r=n(t,e,i,a.x,a.y,this.unitsMultiplier)}return r},MapProjectionCalculator.prototype.computeGeoPosition=function(t,e,i){var r=void 0,o=this.mapProjection.getValueDirect().join(""),n=this.geoPositionCalculators[o];if(n){var a=this.center2D.getValueDirect();r=n(t,e,i,a.x,a.y,this.unitsMultiplier)}return r},NullObject.prototype=new ParentableMotionElement,NullObject.prototype.constructor=NullObject,Transform.prototype=new SGNode,Transform.prototype.constructor=Transform,Transform.prototype.clone=function(t){this.matrix=t.matrix.clone(),this.updateMatrix=t.updateMatrix},Transform.prototype.update=function(t,e){this.updateMatrix&&(this.updateMatrix=!1,this.matrixTransform=this.matrix.getValueDirect()),SGNode.prototype.update.call(this,t,e)},Transform.prototype.apply=function(t,e,i){if(!this.enabled.getValueDirect())return void SGNode.prototype.apply.call(this,t,e,i);switch(t){case"render":case"shadow":e.worldMatrix=this.matrixTransform.multiply(e.worldMatrix),this.applyTransform();break;case"rayPick":case"bbox":case"collide":e.worldMatrix=this.matrixTransform.multiply(e.worldMatrix);break;case"highlight":e.worldMatrix=this.matrixTransform.multiply(e.worldMatrix),e.targets.length>0&&(e.targets[e.targets.length-1].worldMatrix=this.matrixTransform.multiply(e.targets[e.targets.length-1].worldMatrix))}SGNode.prototype.apply.call(this,t,e,i)},Transform.prototype.applyTransform=function(){this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.leftMultMatrix(this.matrixTransform),this.graphMgr.renderContext.applyWorldTransform()},QuaternionRotate.prototype=new Transform,QuaternionRotate.prototype.constructor=QuaternionRotate,QuaternionRotate.prototype.update=function(t,e){if(this.updateRotationQuat){this.updateRotationQuat=!1;var i=this.rotationQuat.getValueDirect(),r=i.getMatrix();this.matrix.setValueDirect(r);var o=r.getRotationAngles();this.rotation.setValueDirect(o.x,o.y,o.z)}Transform.prototype.update.call(this,t,e)},QuaternionRotate.prototype.apply=function(t,e,i){return this.enabled.getValueDirect()?void Transform.prototype.apply.call(this,t,e,i):void Transform.prototype.apply.call(this,t,e,i)},Rotate.prototype=new Transform,Rotate.prototype.constructor=Rotate,Rotate.prototype.update=function(t,e){if(this.updateRotation){this.updateRotation=!1;var i=this.rotation.getValueDirect(),r=new Matrix4x4;r.loadXYZAxisRotation(i.x,i.y,i.z),this.matrix.setValueDirect(r)}Transform.prototype.update.call(this,t,e)},Rotate.prototype.apply=function(t,e,i){return this.enabled.getValueDirect()?void Transform.prototype.apply.call(this,t,e,i):void Transform.prototype.apply.call(this,t,e,i)},Scale.prototype=new Transform,Scale.prototype.constructor=Scale,Scale.prototype.update=function(t,e){if(this.updateScale){this.updateScale=!1;var i=this.scale.getValueDirect(),r=new Matrix4x4;r.loadScale(i.x,i.y,i.z),this.matrix.setValueDirect(r)}Transform.prototype.update.call(this,t,e)},Scale.prototype.apply=function(t,e,i){return this.enabled.getValueDirect()?void Transform.prototype.apply.call(this,t,e,i):void Transform.prototype.apply.call(this,t,e,i)},Translate.prototype=new Transform,Translate.prototype.constructor=Translate,Translate.prototype.update=function(t,e){if(this.updateTranslation){this.updateTranslation=!1;var i=this.translation.getValueDirect(),r=new Matrix4x4;r.loadTranslation(i.x,i.y,i.z),this.matrix.setValueDirect(r)}Transform.prototype.update.call(this,t,e)},Translate.prototype.apply=function(t,e,i){return this.enabled.getValueDirect()?void Transform.prototype.apply.call(this,t,e,i):void Transform.prototype.apply.call(this,t,e,i)},MultiTargetObserver.prototype=new Evaluator,MultiTargetObserver.prototype.constructor=MultiTargetObserver,MultiTargetObserver.prototype.setNumberOfTargets=function(t){var e=this.targets.getValueDirect();if(e>0)for(var i=0;e>i;i++)this.unregisterAttribute(this.targetPosition[i]);if(this.targets.setValueDirect(t),t>0){this.targetPosition.length=t;for(var i=0;t>i;i++)this.targetPosition[i]=new Vector3DAttr(0,0,0),this.registerAttribute(this.targetPosition[i],"targetPosition"+i)}},MultiTargetObserver.prototype.evaluate=function(){if(this.enabled.getValueDirect()&&0!=this.targets.getValueDirect()){var t,e,i=this.getObserverAndTargetPositions(),r=i.observer,o=i.target,n=new Vector3D(o.x-r.x,o.y-r.y,o.z-r.z),a=XYZtoHP(n.x,n.y,n.z),t=a.heading,e=a.pitch,s=0;1==this.affectPitch.getValueDirect()&&(s=-toDegrees(e));var l=0;1==this.affectHeading.getValueDirect()&&(l=-toDegrees(t));var c=[r.x,r.y,r.z];this.resultPosition.setValue(c),1==this.affectPitch.getValueDirect()&&this.resultPitch.setValueDirect(s),1==this.affectHeading.getValueDirect()&&this.resultHeading.setValueDirect(l)}},MultiTargetObserver.prototype.getObserverAndTargetPositions=function(){var t,e;switch(this.targets.getValueDirect()){case 0:t=new Vector3D(0,0,0),e=new Vector3D(0,0,0);break;case 1:t=this.position.getValueDirect(),e=this.targetPosition[0].getValueDirect();break;case 2:var i=this.targetPosition[0].getValueDirect(),r=this.targetPosition[1].getValueDirect(),o=this.distanceFromFirstTarget.getValueDirect(),n=Normalize(i-r);t=n*o+i,e=0==o?i-n:i;break;default:t=new Vector3D(0,0,0),e=Vector3D(0,0,0)}return{observer:t,target:e}},SerializeParams.prototype=new DirectiveParams,SerializeParams.prototype.constructor=SerializeParams(),SerializeDirective.prototype=new SGDirective,SerializeDirective.prototype.constructor=SerializeDirective,SerializeDirective.prototype.execute=function(t){if(t){this.serialized=null;var e=new SerializeParams;e.serialized=new String,t.apply("serialize",e,!0),this.serialized=e.serialized}};var MAX_SEE_AHEAD=2;CollideParams.prototype=new DirectiveParams,CollideParams.prototype.constructor=CollideParams(),CollideDirective.prototype=new SGDirective,CollideDirective.prototype.constructor=CollideDirective,CollideDirective.prototype.setRegistry=function(t){this.physicsSim.setRegistry(t),SGDirective.prototype.setRegistry.call(this,t)},CollideDirective.prototype.execute=function(t){t=t||this.rootNode.getValueDirect();var e=new CollideParams;t.apply("collide",e,!0),this.detectCollisions(e.detectCollisions),this.detectObstructions(e.detectCollisions),this.detectSnapConnections(e.detectCollisions)},CollideDirective.prototype.detectCollisions=function(t){var e,i=[],r=new AttributeVector;for(e in t){var o=t[e].model;if(o.getAttribute("collisionDetected").setValueDirect(!1),o.getAttribute("collisionList").clear(),!o.motionParent){i.push(o);var n=new StringAttr(o.getAttribute("name").getValueDirect().join(""));r.push_back(n)}}for(this.physicsSim.getAttribute("bodies").synchronize(r),e=0;e<i.length;e++){var o=i[e],a=getInspectionGroup(o),s=a?a.getChild(2).getAttribute("rotationQuat").getValueDirect():new Quaternion;this.physicsSim.updatePhysicsBody(e),a&&a.getChild(2).getAttribute("rotationQuat").setValueDirect(s)}for(this.physicsSim.stepSimulation(1,1),e=0;e<i.length;e++){var o=i[e];if(this.isSelected(o)){var l=this.physicsSim.isColliding(o);if(l&&o.getAttribute("stopOnCollision").getValueDirect()){var c=new Ammo.btTransform;this.physicsSim.getPhysicsBody(o).getMotionState().getWorldTransform(c);var h=c.getOrigin();Ammo.destroy(c);var d=new Vector3D(h.x(),h.y(),h.z());o.getAttribute("sectorPosition").setValueDirect(d.x,d.y,d.z)}}}},CollideDirective.prototype.detectObstructions=function(t){var e,i,r=[],o=[],n=[];for(e in t)0!=t[e].model.getAttribute("detectObstruction").getValueDirect()&&(r.push(t[e].model),o.push(t[e].tree),n.push(!1),t[e].model.getAttribute("obstructionList").clear());var a=0,s=FLT_MAX;for(e=0;e<o.length;e++){var l=r[e].getDirectionVectors();for(l.forward.x*=MAX_SEE_AHEAD,l.forward.y*=MAX_SEE_AHEAD,l.forward.z*=MAX_SEE_AHEAD,i=0;i<o.length;i++)e!=i&&(a=o[i].obstructs(o[e],l.forward))>0&&s>a&&(r[e].getAttribute("obstructionList").clear(),r[e].getAttribute("obstructionList").push_back(r[i]),n[e]=!0,s=a)}for(e=0;e<n.length;e++)r[e].getAttribute("obstructionDetected").setValueDirect(n[e])},CollideDirective.prototype.detectSnapConnections=function(t){var e,i,r=[],o=[];for(e in t){var n=t[e].model.getAttribute("socketConnectors");for(i=0;i<n.Size();i++){var a=n.getAt(i);0==a.getAttribute("connected").getValueDirect()&&r.push(new Pair(a,t[e]))}if(!t[e].model.motionParent&&this.isSelected(t[e].model)){var s=t[e].model.getAttribute("plugConnectors");for(i=0;i<s.Size();i++){var l=s.getAt(i);0==l.getAttribute("connected").getValueDirect()&&o.push(new Pair(l,t[e]))}}}for(e=0;e<o.length;e++){var c=o[e].first.getAttribute("type").getValueDirect().join("");for(i=0;i<r.length;i++)if(o[e].second.model!=r[i].second.model&&!o[e].second.model.isMotionAncestor(r[i].second.model)&&!r[i].second.model.isMotionAncestor(o[e].second.model)){var h=r[i].first.getAttribute("type").getValueDirect().join("");if(c==h){var d=o[e].first.collides(r[i].first,o[e].second.worldMatrix,r[i].second.worldMatrix);if(d>0){var u=this.registry.find("ObjectInspector");u&&u.clearSelection(o[e].second.model);var p=this.registry.find("AttributeFactory"),f=p.create("SnapTo");f.getAttribute("target").copyValue(r[i].second.model.getAttribute("name")),f.getAttribute("plug").copyValue(o[e].second.model.getAttribute("name")),f.getAttribute("socketConnector").copyValue(r[i].first),f.getAttribute("plugConnector").copyValue(o[e].first),f.getAttribute("slot").setValueDirect(d),f.execute(),o[e].first.getAttribute("connected").setValueDirect(!0),r[i].first.getAttribute("connected").setValueDirect(!0);break}}}}},CollideDirective.prototype.isSelected=function(t){var e=t.getAttribute("selected").getValueDirect();if(!e)for(var i=0;i<t.motionChildren.length&&!e;i++)e=this.isSelected(t.motionChildren[i]);return e},HighlightParams.prototype=new DirectiveParams,HighlightParams.prototype.constructor=HighlightParams(),HighlightDirective.prototype=new SGDirective,HighlightDirective.prototype.constructor=HighlightDirective,HighlightDirective.prototype.setGraphMgr=function(t){SGDirective.prototype.setGraphMgr.call(this,t),this.initHighlightSquareVB()},HighlightDirective.prototype.execute=function(t){t=t||this.rootNode.getValueDirect();var e=new HighlightParams;t.apply("highlight",e,!0),this.drawHighlights(e)},HighlightDirective.prototype.drawHighlights=function(t){if(0!=t.targets.length){var e=this.graphMgr.renderContext;if(e)for(var i,r,o,n=this.highlightType.getValueDirect(),a=0;a<t.targets.length;a++){var s=t.targets[a],l=s.camera.getDirectionVectors();i=l.up,r=l.right,o=l.forward;var c=s.worldMatrix.getScalingFactors(),h=max3(c.x,c.y,c.z),d=this.getWorldUnitsPerPixel(s.center,s.worldMatrix,s.viewMatrix,s.camera,s.viewport)/h,u=s.highlightWidth*d;e.clearStencil(0),e.clear(RC_STENCIL_BUFFER_BIT);for(var p,f=0;f<s.geometries.length;f++)switch(n){case eHighlightType.FourPass:for(var _=0;4>_;_++)p=this.getWorldViewMatrix(n,u,_,i,r,o,s.worldMatrix,s.viewMatrix),this.configureStencil_Target(e,s.geometries[f],s.projMatrix,p,eStencilOp.Increment);break;case eHighlightType.EightPass:for(var _=0;8>_;_++)p=this.getWorldViewMatrix(n,u,_,i,r,o,s.worldMatrix,s.viewMatrix),this.configureStencil_Target(e,s.geometries[f],s.projMatrix,p,eStencilOp.Increment)}p=s.worldMatrix.multiply(s.viewMatrix);for(var f=0;f<s.geometries.length;f++)this.configureStencil_Target(e,s.geometries[f],s.projMatrix,p,eStencilOp.Zero);this.highlightColor.setValueDirect(s.highlightColor_r,s.highlightColor_g,s.highlightColor_b,s.highlightColor_a),this.renderHighlightSquare(t,e)}}},HighlightDirective.prototype.getWorldUnitsPerPixel=function(t,e,i,r,o){var n=e.multiply(i),a=n.transform(t.x,t.y,t.z,1),s=new Vector2D;switch(r.attrType){case eAttrType.PerspectiveCamera:var l=r.getAttribute("zoom").getValueDirect();s=worldUnitsPerPixelPersp(o,l,a.z);break;case eAttrType.OrthographicCamera:var c=r.getAttribute("width").getValueDirect();s=worldUnitsPerPixelOrtho(o,c)}return Math.max(s.x,s.y)},HighlightDirective.prototype.getWorldViewMatrix=function(t,e,i,r,o,n,a,s){var l=0;switch(t){case eHighlightType.FourPass:l=90;break;case eHighlightType.EightPass:l=45}var c=new Matrix4x4;c.loadZAxisRotation(l*i);var h=c.transform(1,0,0,0);h.x*=e,h.y*=e,h.z*=e;var d=new Matrix4x4;return d.loadTranslation(o.x*h.x+r.x*h.y,o.y*h.x+r.y*h.y,o.z*h.x+r.z*h.y),d.multiply(a.multiply(s))},HighlightDirective.prototype.configureStencil_Target=function(t,e,i,r,o){var n=t.enabled(eRenderMode.DepthBufferWrite),a=t.enabled(eRenderMode.StencilTest),s=t.enabled(eRenderMode.AlphaBlend);t.setEnabled(eRenderMode.DepthBufferWrite,!1),t.setEnabled(eRenderMode.StencilTest,!0),t.setDepthFunc(eDepthFunc.LessEqual),t.setShadeModel(eShadeModel.Flat),t.setStencilFunc(eStencilFunc.Always,0,255),t.setStencilMask(255),t.setStencilOp(eStencilOp.Keep,o,o),t.setEnabled(eRenderMode.AlphaBlend,!0),t.setBlendFactor(RC_ZERO,RC_ONE),t.setMatrixMode(RC_PROJECTION),t.pushMatrix(),t.loadMatrix(i),t.applyProjectionTransform(),t.setMatrixMode(RC_VIEW),t.pushMatrix(),t.loadMatrix(new Matrix4x4),t.applyViewTransform(),t.setMatrixMode(RC_WORLD),t.pushMatrix(),t.loadMatrix(r),t.applyWorldTransform(),e.drawPrimitives(),t.setMatrixMode(RC_PROJECTION),t.popMatrix(),t.setMatrixMode(RC_VIEW),t.popMatrix(),t.setMatrixMode(RC_WORLD),t.popMatrix(),t.setEnabled(eRenderMode.DepthBufferWrite,n),t.setEnabled(eRenderMode.StencilTest,a),t.setDepthFunc(eDepthFunc.LessEqual),t.setShadeModel(eShadeModel.Gouraud),t.setEnabled(eRenderMode.AlphaBlend,s)},HighlightDirective.prototype.renderHighlightSquare=function(t,e){var i=e.enabled(eRenderMode.DepthTest),r=e.enabled(eRenderMode.StencilTest),o=e.enabled(eRenderMode.AlphaBlend),n=e.enabled(eRenderMode.Lighting);e.setDepthFunc(eDepthFunc.LessEqual),e.setEnabled(eRenderMode.DepthTest,!1),e.setEnabled(eRenderMode.StencilTest,!0),e.setEnabled(eRenderMode.AlphaBlend,!0),e.setEnabled(eRenderMode.Lighting,!1),e.setBlendFactor(RC_SRC_ALPHA,RC_ONE_MINUS_SRC_ALPHA),e.setStencilFunc(eStencilFunc.LessEqual,1,255),e.setStencilOp(eStencilOp.Keep,eStencilOp.Keep,eStencilOp.Keep);var a=new Matrix4x4;a.loadIdentity(),e.setMatrixMode(RC_PROJECTION),e.pushMatrix(),e.loadMatrix(a),e.applyProjectionTransform(),e.setMatrixMode(RC_VIEW),e.pushMatrix(),e.loadMatrix(a),e.applyViewTransform(),e.setMatrixMode(RC_WORLD),e.pushMatrix(),e.loadMatrix(a),e.applyWorldTransform(),this.vertexBuffer.draw(),e.popMatrix(),e.setMatrixMode(RC_VIEW),e.popMatrix(),e.setMatrixMode(RC_PROJECTION),e.popMatrix(),e.setDepthFunc(eDepthFunc.LessEqual),e.setEnabled(eRenderMode.DepthTest,i),e.setEnabled(eRenderMode.StencilTest,r),e.setEnabled(eRenderMode.AlphaBlend,o),e.setEnabled(eRenderMode.Lighting,n),e.setMatrixMode(RC_WORLD)},HighlightDirective.prototype.initHighlightSquareVB=function(){this.vertexBuffer=this.graphMgr.renderContext.createVertexBuffer(3),this.vertexBuffer.setPrimitiveType(RC_TRIANGLE_STRIP);var t=[-1,-1,1,-1,1,1,1,-1,1,1,1,1],e=[0,0,-1,0,0,-1,0,0,-1,0,0,-1],i=this.highlightColor.getValueDirect(),r=[i.r,i.g,i.b,i.a,i.r,i.g,i.b,i.a,i.r,i.g,i.b,i.a,i.r,i.g,i.b,i.a];this.vertexBuffer.setVertices(t),this.vertexBuffer.setNormals(e),this.vertexBuffer.setColors(r)},HighlightDirective.prototype.highlightColorModified=function(){if(this.vertexBuffer){var t=this.highlightColor.getValueDirect(),e=[t.r,t.g,t.b,t.a,t.r,t.g,t.b,t.a,t.r,t.g,t.b,t.a,t.r,t.g,t.b,t.a];this.vertexBuffer.setColors(e)}},ShadowParams.prototype=new DirectiveParams,ShadowParams.prototype.constructor=ShadowParams(),ShadowDirective.prototype=new SGDirective,ShadowDirective.prototype.constructor=ShadowDirective,ShadowDirective.prototype.setGraphMgr=function(t){this.program=t.renderContext.createProgram(pcf_shadow_mapping_depth_pass_vs,pcf_shadow_mapping_depth_pass_fs),this.shadowFBO=t.renderContext.createShadowFramebufferObject(),this.displayListObj=new DisplayListObj(t.renderContext),SGDirective.prototype.setGraphMgr.call(this,t)},ShadowDirective.prototype.execute=function(t){t=t||this.rootNode.getValueDirect();var e=this.graphMgr.renderContext.getProgram(),i=this.graphMgr.renderContext.getDisplayList(),r=this.graphMgr.renderContext.getViewport(),o=this.graphMgr.renderContext.getClearColor();this.graphMgr.renderContext.useProgram(this.program);var n=toRadians(90),a=1024,s=1024,l=1,c=100,h=Math.tan(n/2)*l,d=-h,u=h*(s/a),p=-u,f=this.graphMgr.renderContext.perspectiveMatrixLH(p,u,h,d,l,c);this.graphMgr.renderContext.setMatrixMode(RC_PROJECTION),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.loadMatrix(f),this.graphMgr.renderContext.applyProjectionTransform(),worldPos=this.casterWorldPosition.getValueDirect(),this.graphMgr.renderContext.setShadowCasterWorldPosition(worldPos.x,worldPos.y,worldPos.z);var _=new Matrix4x4;_.loadTranslation(worldPos.x,worldPos.y,worldPos.z);var m=new Matrix4x4;m.loadYAxisRotation(90);var g=m.multiply(_);g.invert(),this.graphMgr.renderContext.setMatrixMode(RC_VIEW),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.loadMatrix(g),this.graphMgr.renderContext.applyViewTransform(),this.shadowFBO.bindForWriting(eCubeMapFace.Positive_X),this.graphMgr.renderContext.setDisplayList(this.displayListObj),this.displayListObj.record_begin();var y=new ShadowParams;t.apply("shadow",y,!0),this.displayListObj.record_end();for(var b=1;6>b;b++){switch(this.shadowFBO.bindForWriting(eCubeMapFace.Positive_X+b),eCubeMapFace.Positive_X+b){case eCubeMapFace.Negative_X:m.loadYAxisRotation(-90);break;case eCubeMapFace.Positive_Y:m.loadXAxisRotation(90);break;case eCubeMapFace.Negative_Y:m.loadXAxisRotation(-90);break;case eCubeMapFace.Positive_Z:m.loadYAxisRotation(0);break;case eCubeMapFace.Negative_Z:m.loadYAxisRotation(180)}g=m.multiply(_),g.invert(),this.graphMgr.renderContext.setMatrixMode(RC_VIEW),this.graphMgr.renderContext.loadMatrix(g),this.graphMgr.renderContext.applyViewTransform(),this.displayListObj.play()}this.graphMgr.renderContext.setMatrixMode(RC_PROJECTION),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.applyProjectionTransform(),this.graphMgr.renderContext.setMatrixMode(RC_VIEW),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.applyViewTransform(),this.graphMgr.renderContext.setDisplayList(i),this.graphMgr.renderContext.setViewport(r.x,r.y,r.width,r.height),this.graphMgr.renderContext.clearColor(o.r,o.g,o.b,o.a),this.graphMgr.renderContext.useProgram(e),this.graphMgr.renderContext.setShadowCasterWorldPosition(worldPos.x,worldPos.y,worldPos.z),this.shadowFBO.bindForReading()};var OBJECTMOTION_PAN_BIT=1,OBJECTMOTION_LINEAR_BIT=2,OBJECTMOTION_ANGULAR_BIT=4,OBJECTMOTION_SCALAR_BIT=8,OBJECTMOTION_ALL_BITS=15;ObjectMotionDesc.prototype.assign=function(t){this.validMembersMask=t.validMembersMask,this.panVelocity=t.panVelocity,this.linearVelocity=t.linearVelocity,this.angularVelocity=t.angularVelocity,this.scalarVelocity=t.scalarVelocity,this.duration=t.duration},ObjectMover.prototype=new Evaluator,ObjectMover.prototype.constructor=ObjectMover,ObjectMover.prototype.onUnregister=function(){this.motionQueue.clear(),this.panVelocity.setValueDirect(0,0,0),this.linearVelocity.setValueDirect(0,0,0),this.angularVelocity.setValueDirect(0,0,0),this.scalarVelocity.setValueDirect(0,0,0)},ObjectMover.prototype.evaluate=function(){var t=this.timeIncrement.getValueDirect();this.updateActiveMotion(t),this.setMotion(this.activeMotion)},ObjectMover.prototype.setMotion=function(t){t.validMembersMask&OBJECTMOTION_PAN_BIT&&this.panVelocity.setValueDirect(t.panVelocity.x,t.panVelocity.y,t.panVelocity.z),t.validMembersMask&OBJECTMOTION_LINEAR_BIT&&this.linearVelocity.setValueDirect(t.linearVelocity.x,t.linearVelocity.y,t.linearVelocity.z),t.validMembersMask&OBJECTMOTION_ANGULAR_BIT&&this.angularVelocity.setValueDirect(t.angularVelocity.x,t.angularVelocity.y,t.angularVelocity.z),t.validMembersMask&OBJECTMOTION_SCALAR_BIT&&this.scalarVelocity.setValueDirect(t.scalarVelocity.x,t.scalarVelocity.y,t.scalarVelocity.z)},ObjectMover.prototype.updateActiveMotion=function(t){(!this.activeMotion||this.activeDuration>=this.activeMotion.duration)&&(this.activeDuration=0,this.activeMotion=this.motionQueue.front()||new ObjectMotionDesc,this.motionQueue.pop()),this.activeDuration+=t},ObjectMover.prototype.connectTarget=function(t){this.panVelocity.removeAllTargets(),this.linearVelocity.removeAllTargets(),this.angularVelocity.removeAllTargets(),this.scalarVelocity.removeAllTargets(),t&&(this.panVelocity.addTarget(t.getAttribute("panVelocity")),this.linearVelocity.addTarget(t.getAttribute("linearVelocity")),this.angularVelocity.addTarget(t.getAttribute("angularVelocity")),this.scalarVelocity.addTarget(t.getAttribute("scalarVelocity")),t.getAttribute("detectCollision").setValueDirect(!0),t.getAttribute("collisionDetected").addModifiedCB(ObjectMover_TargetCollisionDetectedModifiedCB,this),t.getAttribute("detectObstruction").setValueDirect(!0),t.getAttribute("obstructionDetected").addModifiedCB(ObjectMover_TargetObstructionDetectedModifiedCB,this)),this.targetObject=t},ObjectMover.prototype.collisionDetected=function(){},ObjectMover.prototype.obstructionDetected=function(){};var ANIMALMOVER_MAX_QUEUE_LENGTH=2;AnimalMover.prototype=new ObjectMover,AnimalMover.prototype.constructor=AnimalMover,AnimalMover.prototype.evaluate=function(){if(0==this.motionQueue.length()){var t=Math.random(),e=.5>t?-1:1,i=new ObjectMotionDesc;i.duration=5*t,i.angularVelocity=new Vector3D(0,this.angularSpeed.getValueDirect()*t*e,0),i.panVelocity=new Vector3D(0,0,this.linearSpeed.getValueDirect()),this.motionQueue.push(i)}ObjectMover.prototype.evaluate.call(this)},AnimalMover.prototype.collisionDetected=function(){},AnimalMover.prototype.obstructionDetected=function(t){if(t.Size()>0){this.motionQueue.clear(),this.activeMotion=null;var e=this.targetObject.getDirectionVectors(),i=this.targetObject.getAttribute("sectorPosition").getValueDirect(),r=new Vector3D(e.forward.x,e.forward.y,e.forward.z),o=t.getAt(0).getAttribute("sectorPosition").getValueDirect(),n=toDegrees(Math.acos(cosineAngleBetween(e.forward,new Vector3D(o.x-i.x,o.y-i.y,o.z-i.z))));0==n&&(o.x+=.1,o.z+=.1);var a=distanceBetween(i,o),s=new Vector3D(e.forward.x*a-o.x,e.forward.y*a-o.y,e.forward.z*a-o.z);s.normalize(),r.addVector(s),r.normalize(),r.multiplyScalar(this.linearSpeed.getValueDirect()),this.linearDirection=r;var l=cosineAngleBetween(e.forward,this.linearDirection);if(n=toDegrees(Math.acos(l)),n>0){0>l&&(n=-n);var c=(this.targetObject.getAttribute("rotation").getValueDirect(),new ObjectMotionDesc);c.angularVelocity=new Vector3D(0,n,0),c.duration=n/this.angularSpeed.getValueDirect(),this.motionQueue.push(c)}}},WalkSimulator.prototype=new SceneInspector,WalkSimulator.prototype.constructor=WalkSimulator,WalkSimulator.prototype.evaluate=function(){var t=this.enabled.getValueDirect();if(t){var e=this.linearDelta.getValueDirect();e.x*=-1;var i=this.linearSensitivity.getValueDirect(),r=this.angularDelta.getValueDirect(),o=this.angularSensitivity.getValueDirect(),n=new Vector3D(e.x,e.y,e.z);n.multiplyVector(i);var a=new Vector3D(r.x,r.y,r.z);if(a.multiplyVector(o),0!=n.x||0!=n.y||0!=n.z||0!=a.x||0!=a.y||0!=a.z){this.panDelta.setValueDirect(n.x,n.y,n.z),this.rotationDelta.setValueDirect(a.x,a.y,a.z);var s=this.viewPosition.getValueDirect(),l=this.viewRotation.getValueDirect(),c=this.groundPlane.getValueDirect(),h=new Matrix4x4;h.loadTranslation(-s.x,-s.y,-s.z);var d=new Matrix4x4;d.loadXYZAxisRotation(-l.x,-l.y,-l.z);var u=h.multiply(d);this.upVector.setValueDirect(c.normal.x,c.normal.y,c.normal.z);var p=this.transformDirectionVector(0,0,1,u),f=planeProject(p,c),_=new Vector3D(f.x,f.y,f.z);_.normalize(),this.forwardVector.setValueDirect(_.x,_.y,_.z);var m=new Matrix4x4;m.loadYAxisRotation(90),p=m.transform(_.x,_.y,_.z,0),this.rightVector.setValueDirect(p.x,p.y,p.z),SceneInspector.prototype.evaluate.call(this)
}}},WalkSimulator.prototype.enabledModified=function(){var t=this.enabled.getValueDirect();t?(this.enableSceneInspectionState(),this.affectRotation_Z.setValueDirect(!1)):this.lastEnabled&&(this.restoreSceneInspectionState(),this.affectRotation_Z.setValueDirect(!0),this.upVector.setValueDirect(0,0,0,!1),this.rightVector.setValueDirect(0,0,0,!1),this.forwardVector.setValueDirect(0,0,0,!1)),this.lastEnabled=t},WalkSimulator.prototype.enableSceneInspectionState=function(){var t=this.registry.find("SceneInspector");t&&(t.enabled.setValueDirect(!0),this.sceneInspector_pivotDistanceValue=t.pivotDistance.getValueDirect(),t.pivotDistance.setValueDirect(0));var e=this.registry.find("Selector");e&&(this.selector_computePivotDistanceValue=e.computePivotDistance.getValueDirect(),e.computePivotDistance.setValueDirect(!1))},WalkSimulator.prototype.restoreSceneInspectionState=function(){var t=this.registry.find("SceneInspector");t&&t.pivotDistance.setValueDirect(this.sceneInspector_pivotDistanceValue);var e=this.registry.find("Selector");e&&e.computePivotDistance.setValueDirect(this.selector_computePivotDistanceValue)},Cube.prototype=new TriList,Cube.prototype.constructor=Cube,Cube.prototype.setGraphMgr=function(t){TriList.prototype.setGraphMgr.call(this,t),this.materialNode.setGraphMgr(t)},Cube.prototype.update=function(t,e){if(this.updateTransform){this.updateTransform=!1;var i=this.position.getValueDirect(),r=new Matrix4x4;r.loadTranslation(i.x,i.y,i.z);var o=this.rotation.getValueDirect(),n=new Matrix4x4;n.loadXYZAxisRotation(o.x,o.y,o.z);var a=this.scale.getValueDirect(),s=new Matrix4x4;s.loadScale(a.x,a.y,a.z),this.transform.loadMatrix(s.multiply(n.multiply(r)))}this.updateMaterial&&(this.updateMaterial=!1,this.materialNode.update(t,e)),this.updateTriList&&(this.updateTriList=!1,TriList.prototype.update.call(this,t,e))},Cube.prototype.apply=function(t,e,i){var r=this.show.getValueDirect(),o=this.enabled.getValueDirect();if(r&&o)switch(t){case"render":case"shadow":this.materialNode.apply(t,e,i),this.draw(e.dissolve)}},Cube.prototype.draw=function(){this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.leftMultMatrix(this.transform),this.graphMgr.renderContext.applyWorldTransform(),this.vertexBuffer.draw(),this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.applyWorldTransform()},ScreenRect.prototype=new TriList,ScreenRect.prototype.constructor=ScreenRect,ScreenRect.prototype.update=function(t,e){TriList.prototype.update.call(this,t,e)},ScreenRect.prototype.draw=function(t){var e=new Matrix4x4;this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.loadMatrix(e),this.graphMgr.renderContext.applyWorldTransform(),this.graphMgr.renderContext.setMatrixMode(RC_PROJECTION),this.graphMgr.renderContext.pushMatrix(),this.graphMgr.renderContext.loadMatrix(e),this.graphMgr.renderContext.applyProjectionTransform(),this.graphMgr.renderContext.disable(eRenderMode.DepthTest),this.graphMgr.renderContext.disable(eRenderMode.DepthBufferWrite),this.graphMgr.renderContext.disable(eRenderMode.Lighting);var i=this.textureColorMask.getValueDirect();this.graphMgr.renderContext.setTextureColorMask(i.r,i.g,i.b,i.a),TriList.prototype.draw.call(this,t),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.applyProjectionTransform(),this.graphMgr.renderContext.setMatrixMode(RC_WORLD),this.graphMgr.renderContext.popMatrix(),this.graphMgr.renderContext.applyWorldTransform(),this.graphMgr.renderContext.enable(eRenderMode.DepthTest),this.graphMgr.renderContext.enable(eRenderMode.DepthBufferWrite),this.graphMgr.renderContext.enable(eRenderMode.Lighting),this.graphMgr.renderContext.setTextureColorMask(2,2,2,2)},ScreenRect.prototype.setTexture=function(t){var e=[0,0,0,1,1,0,1,1],i=this.getUVCoords(t);i.setValueDirect(e)},MorphEffector.prototype=new Evaluator,MorphEffector.prototype.constructor=MorphEffector,MorphEffector.prototype.evaluate=function(){var t=this.morphAmt.getValueDirect(),e=this.morphIncr.getValueDirect();t+=e,t=clamp(t,0,1),this.morphAmt.setValueDirect(t);var i=this.sourceVertices.getValueDirect(),r=this.targetVertices.getValueDirect(),o=[],n=Math.min(i.length,r.length);o.length=n;for(var a=0;n>a;a++)o[a]=(r[a]-i[a])*t+i[a];this.resultVertices.setValue(o)},Bone.prototype=new AttributeContainer,Bone.prototype.constructor=Bone,Bone.prototype.addChild=function(t){return!t||t.parent?!1:(t.parent=this,this.transform.addTarget(t.parentTransform),this.restTransform.addTarget(t.parentRestTransform),this.children.push(t),!0)},Bone.prototype.removeChild=function(t){if(!t)return!1;for(var e=0;e<this.children.length;e++)if(this.children[e]==t){t.parent=null,this.transform.removeTarget(t.parentTransform),this.restTransform.removeTarget(t.parentRestTransform);var i=new Matrix4x4;return i.loadIdentity(),t.parentTransform.setValueDirect(i),t.parentRestTransform.setValueDirect(i),this.children.splice(e,1),!0}return!1},Bone.prototype.getChild=function(t){return t>=this.children.length?null:this.children[t]},Bone.prototype.getChildCount=function(){return this.children.length},Bone.prototype.getParent=function(){return this.parent},Bone.prototype.getScaledStrength=function(){var t=this.strength.getValueDirect();return this.scaleBoneStrength.getValueDirect()&&(t*=this.restLength.getValueDirect()),t},Bone.prototype.calculateFalloffValues=function(t){var e=this.restMatrix.transform(0,0,0,1),i=this.restMatrix.transform(0,0,1,0),r=this.restLength.getValueDirect(),o=new Vector3D(e.x,e.y,e.z),n=new Vector3D(e.x+i.x*r,e.y+i.y*r,e.z+i.z*r),a=t.length/3,s=this.falloffType.getValueDirect(),l=[];l.length=a;for(var c=0,h=0;a>c;c++,h+=3){var d=distanceBetweenLineSegmentAndPoint(o,n,new Vector3D(t[h],t[h+1],t[h+2]));switch(s){case eBoneFalloffType.InverseDistance:l[c]=1/d;break;case eBoneFalloffType.InverseDistance_2:l[c]=1/(d*d);break;case eBoneFalloffType.InverseDistance_4:l[c]=1/(d*d*d*d);break;case eBoneFalloffType.InverseDistance_8:l[c]=1/(d*d*d*d*d*d*d*d);break;case eBoneFalloffType.InverseDistance_16:l[c]=1/(d*d*d*d*d*d*d*d*d*d*d*d*d*d*d*d)}l[c]*=this.getScaledStrength()}return l},Bone.prototype.update=function(){var t=!1;if(this.updatePosition||this.updateRotation||this.updateScale||this.updatePivot||this.updateParentTransform){if(this.updatePosition){this.updatePosition=!1;var e=this.position.getValueDirect();this.translationMatrix.loadTranslation(e.x,e.y,e.z)}if(this.updateRotation){this.updateRotation=!1;var i=this.rotation.getValueDirect();this.rotationQuat.loadXYZAxisRotation(i.x,i.y,i.z),this.rotationMatrix=this.rotationQuat.getMatrix()}if(this.updateScale){this.updateScale=!1;var r=this.scale.getValueDirect();this.scaleMatrix.loadScale(r.x,r.y,r.z)}if(this.updatePivot){this.updatePivot=!1;var o=this.pivot.getValueDirect();this.pivotMatrix.loadTranslation(-o.x,-o.y,-o.z)}this.updateParentTransform&&(this.updateParentTransform=!1,this.parentMatrix=this.parentTransform.getValueDirect()),this.matrix=this.pivotMatrix.multiply(this.scaleMatrix.multiply(this.rotationMatrix.multiply(this.translationMatrix.multiply(this.parentMatrix)))),this.transform.setValueDirect(this.matrix),t=!0}if(this.updateRestPosition||this.updateRestRotation||this.updateParentRestTransform){this.updateRestPosition=!1,this.updateRestRotation=!1,this.updateParentRestTransform=!1;var n=this.restPosition.getValueDirect(),a=new Matrix4x4;a.loadTranslation(n.x,n.y,n.z);var s=this.restRotation.getValueDirect(),l=new Quaternion;l.loadXYZAxisRotation(s.x,s.y,s.z);var c=l.getMatrix(),h=this.parentRestTransform.getValueDirect();this.restMatrix=c.multiply(a.multiply(h)),this.restMatrixInv=new Matrix4x4,this.restMatrixInv.loadMatrix(this.restMatrix),this.restMatrixInv.invert(),this.restTransform.setValueDirect(this.restMatrix),t=!0}this.updateRestLength&&(this.updateRestLength=!1),t&&(this.boneMatrix=this.restMatrixInv.multiply(this.matrix))},BoneEffector.prototype=new Evaluator,BoneEffector.prototype.constructor=BoneEffector,BoneEffector.prototype.evaluate=function(){this.update();for(var t=0;t<this.bones.length;t++)this.updateBones(this.bones[t]);for(var t=0;t<this.bones.length;t++)this.evaluateBones(this.bones[t],0==t?!0:!1);this.resultVertices.setValueDirect(this.resultVerticesArray),this.resultNormals.setValueDirect(this.resultNormalsArray)},BoneEffector.prototype.addBoneHierarchy=function(t){return t?(this.bones.push(t),this.verticesArray.length>0&&this.calculateFalloffValues(),!0):!1},BoneEffector.prototype.update=function(){this.updateVertices&&(this.updateVertices=!1,this.verticesArray=this.vertices.getValueDirect(),this.resultVerticesArray.length=this.verticesArray.length,this.calculateFalloffValues()),this.updateNormals&&(this.updateNormals=!1,this.normalsArray=this.normals.getValueDirect(),this.resultNormalsArray.length=this.normalsArray.length)},BoneEffector.prototype.calculateFalloffValues=function(){this.boneFalloffValuesMap=[];for(var t=0;t<this.bones.length;t++)this.updateBones(this.bones[t]),this.calculateBoneFalloffValues(this.bones[t]);this.sumFalloffValues()},BoneEffector.prototype.calculateBoneFalloffValues=function(t){if(t&&0!=this.verticesArray.length){var e=t.calculateFalloffValues(this.verticesArray);this.boneFalloffValuesMap.push(new Pair(t,e));for(var i=0;i<t.getChildCount();i++){var r=t.getChild(i);r&&this.calculateBoneFalloffValues(r)}}},BoneEffector.prototype.sumFalloffValues=function(){if(0!=this.verticesArray.length){var t=this.verticesArray.length/3;this.falloffSums.length=t;for(var e=0;t>e;e++)this.falloffSums[e]=0;for(var e=0;e<this.boneFalloffValuesMap.length;e++)for(var i=this.boneFalloffValuesMap[e].second,r=0;t>r;r++)this.falloffSums[r]+=i[r];for(var e=0;e<this.boneFalloffValuesMap.length;e++)for(var i=this.boneFalloffValuesMap[e].second,r=0;t>r;r++)0!=this.falloffSums[r]?i[r]/=this.falloffSums[r]:i[r]=0}},BoneEffector.prototype.updateBones=function(t){if(t){t.update();for(var e=0;e<t.getChildCount();e++){var i=t.getChild(e);i&&this.updateBones(i)}}},BoneEffector.prototype.evaluateBones=function(t,e){if(t){for(var i=null,r=0;r<this.boneFalloffValuesMap.length;r++)if(this.boneFalloffValuesMap[r].first==t){i=this.boneFalloffValuesMap[r].second;break}for(var o=t.boneMatrix,n=this.verticesArray.length/3,r=0,a=0;n>r;r++,a+=3)if(i[r]>0){var s=o.transform(this.verticesArray[a],this.verticesArray[a+1],this.verticesArray[a+2],1);e?(this.resultVerticesArray[a]=s.x*i[r],this.resultVerticesArray[a+1]=s.y*i[r],this.resultVerticesArray[a+2]=s.z*i[r]):(this.resultVerticesArray[a]+=s.x*i[r],this.resultVerticesArray[a+1]+=s.y*i[r],this.resultVerticesArray[a+2]+=s.z*i[r])}else this.resultVerticesArray[a]=this.verticesArray[a],this.resultVerticesArray[a+1]=this.verticesArray[a+1],this.resultVerticesArray[a+2]=this.verticesArray[a+2];for(var l=this.normalsArray.length/3,r=0,a=0;l>r;r++,a+=3)if(i[r]>0){var s=o.transform(this.normalsArray[a],this.normalsArray[a+1],this.normalsArray[a+2],0);e?(this.resultNormalsArray[a]=s.x*i[r],this.resultNormalsArray[a+1]=s.y*i[r],this.resultNormalsArray[a+2]=s.z*i[r]):(this.resultNormalsArray[a]+=s.x*i[r],this.resultNormalsArray[a+1]+=s.y*i[r],this.resultNormalsArray[a+2]+=s.z*i[r])}else this.resultNormalsArray[a]=this.normalsArray[a],this.resultNormalsArray[a+1]=this.normalsArray[a+1],this.resultNormalsArray[a+2]=this.normalsArray[a+2];for(var r=0;r<t.getChildCount();r++){var c=t.getChild(r);c&&this.evaluateBones(c)}}},SnapConnector.prototype=new AttributeContainer,SnapConnector.prototype.constructor=SnapConnector,SocketConnector.prototype=new SnapConnector,SocketConnector.prototype.constructor=SocketConnector,PlugConnector.prototype=new SnapConnector,PlugConnector.prototype.constructor=PlugConnector,PlugConnector.prototype.collides=function(t,e,i){return this.pin1.sphere.setTransform(e),t.slot1.sphere.setTransform(i),this.pin1.sphere.intersects(t.slot1.sphere)?1:(this.pin2.sphere.setTransform(e),t.slot2.sphere.setTransform(i),this.pin2.sphere.intersects(t.slot2.sphere)?2:0)},SocketConnectors.prototype=new AttributeVector,SocketConnectors.prototype.constructor=SocketConnectors,SocketConnectorAllocator.prototype=new Allocator,SocketConnectorAllocator.prototype.constructor=SocketConnectorAllocator,SocketConnectorAllocator.prototype.allocate=function(){return new SocketConnector},PlugConnectors.prototype=new AttributeVector,PlugConnectors.prototype.constructor=PlugConnectors,PlugConnectorAllocator.prototype=new Allocator,PlugConnectorAllocator.prototype.constructor=PlugConnectorAllocator,PlugConnectorAllocator.prototype.allocate=function(){return new PlugConnector},PhysicsSimulator.prototype=new Evaluator,PhysicsSimulator.prototype.constructor=PhysicsSimulator,PhysicsSimulator.prototype.evaluate=function(){var t=this.timeIncrement.getValueDirect()*this.timeScale.getValueDirect();this.stepSimulation(t);for(var e=0;e<this.bodyModels.length;e++)switch(this.isSelected(this.bodyModels[e])){case 0:if(!this.bodyAdded[e])for(var i=0;i<this.physicsBodies.length;i++)this.updatePhysicsBody(i);break;case 1:this.bodyAdded[e]=!1}for(var r=new Ammo.btTransform,o=this.worldHalfExtents.getValueDirect(),n=[],e=0;e<this.physicsBodies.length;e++)if(this.bodyAdded[e]){this.physicsBodies[e].getMotionState().getWorldTransform(r);var a=r.getOrigin(),s=new Vector3D(a.x(),a.y(),a.z()),l=r.getRotation(),c=new Quaternion;c.load(l.w(),l.x(),l.y(),l.z()),this.bodyModels[e].getAttribute("sectorPosition").setValueDirect(s.x,s.y,s.z),this.bodyModels[e].getAttribute("quaternion").setValueDirect(c),(s.x<-o.x||s.x>o.x||s.y<-o.y||s.y>o.y||s.z<-o.z||s.z>o.z)&&n.push(this.bodyModels[e])}Ammo.destroy(r);for(var e=0;e<n.length;e++)this.deletePhysicsBody(n[e])},PhysicsSimulator.prototype.update=function(){this.updateWorld&&(this.updateWorld=!1,this.updateBodies=!0,this.initPhysics()),this.updateBodies&&(this.updateBodies=!1,this.updatePhysicsBodies())},PhysicsSimulator.prototype.stepSimulation=function(t,e){e=e||10,this.update(),this.world.stepSimulation(t,e)},PhysicsSimulator.prototype.isColliding=function(t){for(;t.motionParent;)t=t.motionParent;var e=this.getPhysicsBody(t);if(e)for(var i=this.world.getDispatcher().getNumManifolds(),r=0;i>r;r++){var o=this.world.getDispatcher().getManifoldByIndexInternal(r),n=o.getBody0(),a=o.getBody1(),s=o.getNumContacts();if(s>0){if(n.ptr==e.ptr)return!0;if(a.ptr==e.ptr)return!0}}return!1},PhysicsSimulator.prototype.getColliders=function(t){for(var e=[];t.motionParent;)t=t.motionParent;var i=this.getPhysicsBody(t);if(i)for(var r=this.world.getDispatcher().getNumManifolds(),o=0;r>o;o++){var n=this.world.getDispatcher().getManifoldByIndexInternal(o),a=n.getBody0(),s=n.getBody1(),l=n.getNumContacts();l>0&&(a.ptr==i.ptr?e.push(this.getBodyModel(s)):s.ptr==i.ptr&&e.push(this.getBodyModel(a)))}return e},PhysicsSimulator.prototype.getPhysicsBody=function(t){for(var e=0;e<this.bodyModels.length;e++)if(this.bodyModels[e]==t)return this.physicsBodies[e];return null},PhysicsSimulator.prototype.getBodyModel=function(t){for(var e=0;e<this.physicsBodies.length;e++)if(this.physicsBodies[e].ptr==t.ptr)return this.bodyModels[e];return null},PhysicsSimulator.prototype.isSelected=function(t){var e=t.getAttribute("selected").getValueDirect();if(!e)for(var i=0;i<t.motionChildren.length&&!e;i++)e=this.isSelected(t.motionChildren[i]);return e},PhysicsSimulator.prototype.updatePhysicsBodies=function(){for(;this.bodyModels.length>0;)this.deletePhysicsBody(this.bodyModels[0]);for(var t=0;t<this.bodies.Size();t++){var e=this.bodies.getAt(t).getValueDirect().join(""),i=this.registry.find(e);i&&this.createPhysicsBody(i)}},PhysicsSimulator.prototype.createPhysicsBody=function(t){if(t&&(t.getAttribute("scale").addModifiedCB(PhysicsSimulator_ModelScaleModifiedCB,this),t.getAttribute("parent").addModifiedCB(PhysicsSimulator_ModelParentModifiedCB,this),!t.motionParent)){var e=this.getCompoundShape(t),i=this.getNetMass(t),r=new Ammo.btTransform;r.setIdentity();var o=t.getAttribute("sectorPosition").getValueDirect();0==i&&(o.y-=.075);var n=new Ammo.btVector3(o.x,o.y,o.z);r.setOrigin(n),Ammo.destroy(n);var a=t.getAttribute("quaternion").getValueDirect(),s=new Ammo.btQuaternion(a.x,a.y,a.z,a.w);r.setRotation(s),Ammo.destroy(s);var l=0!=i,c=new Ammo.btVector3(0,0,0);l&&e.calculateLocalInertia(i,c);var h=new Ammo.btDefaultMotionState(r);Ammo.destroy(r);var d=new Ammo.btRigidBodyConstructionInfo(i,h,e,c);Ammo.destroy(c);var u=new Ammo.btRigidBody(d);Ammo.destroy(d),this.world.addRigidBody(u),this.bodyModels.push(t),this.physicsShapes.push(e),this.physicsBodies.push(u),this.bodyAdded.push(!0)}},PhysicsSimulator.prototype.deletePhysicsBody=function(t){for(var e=0;e<this.bodyModels.length;e++)if(this.bodyModels[e]==t)return this.bodyModels[e].getAttribute("scale").removeModifiedCB(PhysicsSimulator_ModelScaleModifiedCB,this),this.bodyModels[e].getAttribute("parent").removeModifiedCB(PhysicsSimulator_ModelParentModifiedCB,this),this.world.removeRigidBody(this.physicsBodies[e]),Ammo.destroy(this.physicsShapes[e]),Ammo.destroy(this.physicsBodies[e].getMotionState()),Ammo.destroy(this.physicsBodies[e]),this.physicsBodies.splice(e,1),this.physicsShapes.splice(e,1),this.bodyModels.splice(e,1),void this.bodyAdded.splice(e,1)},PhysicsSimulator.prototype.getCompoundShape=function(t){var e=new Ammo.btCompoundShape,i=new Vector3D,r=new Vector3D,o=t.getAttribute("scale").getValueDirect();return this.addCollisionShape(t,i,r,o,e),e},PhysicsSimulator.prototype.addCollisionShape=function(t,e,i,r,o){var n=this.getCollisionShape(t,r),a=new Ammo.btTransform;a.setIdentity();var s=new Ammo.btVector3(e.x,e.y,e.z);a.setOrigin(s),Ammo.destroy(s);var l=new Quaternion;l.loadXYZAxisRotation(i.x,i.y,i.z);var c=new Ammo.btQuaternion(l.x,l.y,l.z,l.w);a.setRotation(c),Ammo.destroy(c),o.addChildShape(a,n),Ammo.destroy(a);for(var h=0;h<t.motionChildren.length;h++){var d=t.motionChildren[h],u=d.getAttribute("position").getValueDirect();u.x+=e.x,u.y+=e.y,u.z+=e.z,childRotation=d.getAttribute("rotation").getValueDirect(),childRotation.x+=i.x,childRotation.y+=i.y,childRotation.z+=i.z;var p=d.getAttribute("scale").getValueDirect();p.x*=r.x,p.y*=r.y,p.z*=r.z,this.addCollisionShape(d,u,childRotation,p,o)}},PhysicsSimulator.prototype.getCollisionShape=function(t,e){var i=t.getAttribute("center").getValueDirect(),r=new Matrix4x4;r.loadScale(e.x,e.y,e.z);for(var o=r,n=new Ammo.btConvexHullShape,a=t.getAttribute("vertices").getValueDirect(),s=0;s<a.length;s+=3){var l=o.transform(a[s]-i.x,a[s+1]-i.y,a[s+2]-i.z,1),c=new Ammo.btVector3(l.x,l.y,l.z);n.addPoint(c),Ammo.destroy(c)}return n},PhysicsSimulator.prototype.getNetMass=function(t){for(var e=0,i=t.getAttribute("scale").getValueDirect(),r=(i.x+i.y+i.z)/3,o=t.getAttribute("physicalProperties"),e=o.getAttribute("mass").getValueDirect()*r,n=0;n<t.motionChildren.length;n++)e+=this.getNetMass(t.motionChildren[n]);return e},PhysicsSimulator.prototype.updatePhysicsShape=function(t){for(var e=-1,i=0;i<this.bodyModels.length;i++)if(this.bodyModels[i]==t){e=i;break}if(-1!=e){var r=this.getCompoundShape(t),o=this.getNetMass(t),n=0!=o,a=new Ammo.btVector3(0,0,0);n&&r.calculateLocalInertia(o,a);var s=this.physicsBodies[e].getMotionState(),l=new Ammo.btRigidBodyConstructionInfo(o,s,r,a);Ammo.destroy(a);var c=new Ammo.btRigidBody(l);Ammo.destroy(l),this.world.removeRigidBody(this.physicsBodies[e]),Ammo.destroy(this.physicsBodies[e]),this.world.addRigidBody(c),this.physicsBodies[e]=c,this.physicsShapes[e]=r}},PhysicsSimulator.prototype.updatePhysicsBody=function(t){this.removePhysicsBody(t),this.restorePhysicsBody(t)},PhysicsSimulator.prototype.removePhysicsBody=function(t){var e=this.physicsBodies[t];e&&(this.world.removeRigidBody(e),Ammo.destroy(e.getMotionState()),Ammo.destroy(e),this.bodyAdded[t]=!1)},PhysicsSimulator.prototype.restorePhysicsBody=function(t){var e=this.bodyModels[t];if(e){var i=this.physicsShapes[t];if(i){var r=new Ammo.btTransform;r.setIdentity();var o=e.getAttribute("sectorPosition").getValueDirect(),n=new Ammo.btVector3(o.x,o.y,o.z);r.setOrigin(n),Ammo.destroy(n);var a=getInspectionGroup(e);if(a){var s=a.getChild(2).getAttribute("rotationQuat").getValueDirect(),l=new Quaternion;l.load(s.w,s.x,s.y,s.z);var c=e.getAttribute("quaternion").getValueDirect(),h=new Quaternion;h.load(c.w,c.x,c.y,c.z);var d=h.multiply(l),u=new Ammo.btQuaternion(d.x,d.y,d.z,d.w);r.setRotation(u),Ammo.destroy(u),a.getChild(2).getAttribute("rotationQuat").setValueDirect(new Quaternion)}var p=this.getNetMass(e),f=0!=p,_=new Ammo.btVector3(0,0,0);f&&i.calculateLocalInertia(p,_);var m=new Ammo.btDefaultMotionState(r);Ammo.destroy(r);var g=new Ammo.btRigidBodyConstructionInfo(p,m,i,_);Ammo.destroy(_);var y=new Ammo.btRigidBody(g);Ammo.destroy(g),this.world.addRigidBody(y),this.physicsBodies[t]=y,this.bodyAdded[t]=!0}}},PhysicsSimulator.prototype.initPhysics=function(){this.collisionConfiguration&&Ammo.destroy(this.collisionConfiguration),this.dispatcher&&Ammo.destroy(this.dispatcher),this.overlappingPairCache&&Ammo.destroy(this.overlappingPairCache),this.solver&&Ammo.destroy(this.solver),this.collisionConfiguration=new Ammo.btDefaultCollisionConfiguration,this.dispatcher=new Ammo.btCollisionDispatcher(this.collisionConfiguration),this.overlappingPairCache=new Ammo.btDbvtBroadphase,this.solver=new Ammo.btSequentialImpulseConstraintSolver,this.world=new Ammo.btDiscreteDynamicsWorld(this.dispatcher,this.overlappingPairCache,this.solver,this.collisionConfiguration);var t=this.gravity.getValueDirect();this.world.setGravity(new Ammo.btVector3(t.x,t.y,t.z))},PhysicsSimulator.prototype.bodiesModified=function(){this.updateBodies=!0};var eEventType={Unknown:-1,Render_First:0,RenderBegin:1,RenderEnd:2,Render_End:9,Mouse_First:100,MouseMove:101,MouseDown:102,MouseLeftDown:103,MouseMiddleDown:104,MouseRightDown:105,MouseAllDown:106,MouseBothDown:107,MouseWheelDown:108,MouseUp:109,MouseLeftUp:110,MouseRightUp:111,MouseMiddleUp:112,MouseWheelUp:113,MouseLeftClick:114,MouseMiddleClick:115,MouseRightClick:116,MouseLeftDblClick:117,MouseMiddleDblClick:118,MouseRightDblClick:119,MouseDrag:120,MouseWheelForward:121,MouseWheelBackward:122,MouseHover:123,MouseLeave:124,MouseOver:125,MouseOut:126,Mouse_Last:199,Key_First:200,KeyDown_First:201,KeyDown_Last:500,KeyUp_First:501,KeyUp_Last:798,Key_Last:799,Element_First:800,ElementSelected:801,ElementUnselected:802,ElementFocus:803,ElementBlur:804,Element_Last:899,UserDefined:2e3},eEventNameMap={MButton1:eEventType.MouseLeftDown,"MButton1.Down":eEventType.MouseLeftDown,MButton2:eEventType.MouseMiddleDown,"MButton2.Down":eEventType.MouseMiddleDown,MButton3:eEventType.MouseRightDown,"MButton3.Down":eEventType.MouseRightDown,"MButton1+MButton2.Down":eEventType.MouseBothDown,"MButton2+MButton3.Down":eEventType.MouseBothDown,"MButton1+MButton3.Down":eEventType.MouseBothDown,"MButton1.Click":eEventType.MouseLeftClick,"MButton1.DoubleClick":eEventType.MouseLeftDblClick,"MButton1.Up":eEventType.MouseLeftUp,"MButton2.Click":eEventType.MouseMiddleClick,"MButton2.DoubleClick":eEventType.MouseMiddleDblClick,"MButton2.Up":eEventType.MouseMiddleUp,"MButton3.Click":eEventType.MouseRightClick,"MButton3.DoubleClick":eEventType.MouseRightDblClick,"MButton3.Up":eEventType.MouseRightUp,MWheel:eEventType.MouseWheelDown,"MWheel.Down":eEventType.MouseWheelDown,"MWheel.Click":eEventType.MouseWheelUp,"MWheel.Up":eEventType.MouseWheelUp,"Mouse.Move":eEventType.MouseMove,"Mouse.Hover":eEventType.MouseHover,"Mouse.Leave":eEventType.MouseLeave,"Mouse.Over":eEventType.MouseOver,"Mouse.Out":eEventType.MouseOut,"Element.Selected":eEventType.ElementSelected,"Element.Unselected":eEventType.ElementUnselected,"Element.Focus":eEventType.ElementFocus,"Element.Blur":eEventType.ElementBlur},eKeyCodeMap={VK_BACK:8,VK_TAB:9,VK_ENTER:13,VK_SHIFT:16,VK_CONTROL:17,VK_ALT:18,VK_PAUSE:19,VK_CAPITAL:20,VK_ESCAPE:27,VK_PAGEUP:33,VK_PAGEDOWN:34,VK_END:35,VK_HOME:36,VK_LEFT:37,VK_UP:38,VK_RIGHT:39,VK_DOWN:40,VK_INSERT:45,VK_DELETE:46,VK_0:48,VK_1:49,VK_2:50,VK_3:51,VK_4:52,VK_5:53,VK_6:54,VK_7:55,VK_8:56,VK_9:57,VK_A:65,VK_B:66,VK_C:67,VK_D:68,VK_E:69,VK_F:70,VK_G:71,VK_H:72,VK_I:73,VK_J:74,VK_K:75,VK_L:76,VK_M:77,VK_N:78,VK_O:79,VK_P:80,VK_Q:81,VK_R:82,VK_S:83,VK_T:84,VK_U:85,VK_V:86,VK_W:87,VK_X:88,VK_Y:89,VK_Z:90,VK_COMMA:189,VK_PERIOD:190,VK_SLASH:191};Event.prototype=new AttributeContainer,Event.prototype.constructor=Event,Event.prototype.synchronize=function(t){this.type=t.type,this.time=t.time,this.userData=t.userData},InputEvent.prototype=new Event,InputEvent.prototype.constructor=InputEvent,InputEvent.prototype.synchronize=function(t){this.inputId=t.inputId,this.modifiers=t.modifiers,this.state=t.state,Event.prototype.synchronize.call(this,t)};var MOUSEEVENT_LEFT_BUTTON=1,MOUSEEVENT_MIDDLE_BUTTON=2,MOUSEEVENT_RIGHT_BUTTON=4;MouseEvent.prototype=new InputEvent,MouseEvent.prototype.constructor=MouseEvent,KeyboardEvent.prototype=new InputEvent,KeyboardEvent.prototype.constructor=KeyboardEvent,EventAdapter.prototype=new AttributeContainer,EventAdapter.prototype.constructor=EventAdapter,EventAdapter.prototype.createKeyboardEvent=function(t,e){var i=new Date,r=eEventType.Unknown,o=i.getTime(),n=t.keyCode,a=0,s=0,e=e||t.type;switch(e){case"keydown":r=eEventType.KeyDown_First+n;break;case"keypress":r=eEventType.KeyDown_First+n-32;break;case"keyup":r=eEventType.KeyUp_First+n}var l=new KeyboardEvent(r,o,n,a,s);return l},EventAdapter.prototype.createMouseEvent=function(t){var e=new Date,i=eEventType.Unknown,r=e.getTime(),o=0,n=0,a=0,s=t.canvasX,l=t.canvasY;switch(t.type){case"click":switch(t.button){case 0:i=eEventType.MouseLeftClick;break;case 1:i=eEventType.MouseMiddleDown;break;case 2:i=eEventType.MouseRightClick}break;case"dblclick":switch(t.button){case 0:i=eEventType.MouseLeftDblClick;break;case 1:i=eEventType.MouseMiddleDblClick;break;case 2:i=eEventType.MouseRightDblClick}break;case"mousedown":switch(t.button){case 0:i=this.mouseState.rightButtonDown?eEventType.MouseBothDown:eEventType.MouseLeftDown,this.mouseState.leftButtonDown=!0;break;case 1:i=eEventType.MouseMiddleDown,this.mouseState.middleButtonDown=!0;break;case 2:i=this.mouseState.leftButtonDown?eEventType.MouseBothDown:eEventType.MouseRightDown,this.mouseState.rightButtonDown=!0}break;case"mouseup":switch(t.button){case 0:i=eEventType.MouseLeftUp,this.mouseState.leftButtonDown=!1;break;case 1:i=eEventType.MouseMiddleUp,this.mouseState.middleButtonDown=!1;break;case 2:i=eEventType.MouseRightUp,this.mouseState.rightButtonDown=!1}break;case"mousemove":i=eEventType.MouseMove;break;default:i=eEventType.UserDefined}this.mouseState.leftButtonDown&&(o|=MOUSEEVENT_LEFT_BUTTON),this.mouseState.middleButtonDown&&(o|=MOUSEEVENT_MIDDLE_BUTTON),this.mouseState.rightButtonDown&&(o|=MOUSEEVENT_RIGHT_BUTTON);var c=new MouseEvent(i,r,o,n,a,s,l);return c},EventListener.prototype=new Agent,EventListener.prototype.constructor=EventListener,EventListener.prototype.addEventType=function(t){this.events.push(t);var e=this.event.getValueDirect().join(""),i=new StringAttr(e);i.flagDeserializedFromXML(),this.events.push(i),this.registerAttribute(i,"event")},EventListener.prototype.getEventTypes=function(){return this.events},EventListener.prototype.eventPerformed=function(){var t=this.numResponses.getValueDirect();t>0&&this.numResponses.setValueDirect(t-1)},EventListener.prototype.getTrigger=function(){this.trigger},EventListener.prototype.setTrigger=function(t){t&&(this.trigger=t)},EventMgr.prototype=new AttributeContainer,EventMgr.prototype.constructor=EventMgr,EventMgr.prototype.addListener=function(t,e){void 0==this.listeners[t]&&(this.listeners[t]=[]),-1==this.listeners[t].indexOf(e)&&this.listeners[t].push(e)},EventMgr.prototype.removeListener=function(t,e){this.listeners[t]&&this.listeners[t].splice(this.listeners[t].indexOf(e),1)},EventMgr.prototype.processEvent=function(t){var e=t.type,i=[];if(this.listeners[e])for(var r=0;r<this.listeners[e].length;r++){this.listeners[e][r].eventPerformed(t);var o=this.listeners[e][r].getAttribute("numResponses");o&&0==o.getValueDirect()&&i.push(this.listeners[e][r])}for(var r=0;r<i.length;r++)this.removeListener(e,i[r]),this.registry.unregister(i[r])},EventMgr.prototype.clearEvents=function(){this.listeners.length=0},DeviceHandler.prototype=new EventListener,DeviceHandler.prototype.constructor=DeviceHandler,DeviceHandler.prototype.eventPerformed=function(t){this.inputMessage.setValueDirect(t.type),this.inputId.setValueDirect(t.inputId),this.inputState.setValueDirect(t.state),this.inputModifier.setValueDirect(t.modifiers)},MouseHandler.prototype=new DeviceHandler,MouseHandler.prototype.constructor=MouseHandler,MouseHandler.prototype.eventPerformed=function(t){var e=t.x,i=t.y;switch(t.type){case eEventType.MouseMove:break;default:this.lastX=e,this.lastY=i}this.x.setValueDirect(e),this.y.setValueDirect(i),this.deltaX.setValueDirect(this.lastX-e),this.deltaY.setValueDirect(this.lastY-i),this.delta.setValueDirect(this.lastX-e,this.lastY-i),this.lastX=e,this.lastY=i,DeviceHandler.prototype.eventPerformed.call(this,t),this.deltaX.setValueDirect(0),this.deltaY.setValueDirect(0),this.delta.setValueDirect(0,0)},KeyboardHandler.prototype=new DeviceHandler,KeyboardHandler.prototype.constructor=KeyboardHandler,KeyboardHandler.prototype.eventPerformed=function(){},Command.prototype=new EventListener,Command.prototype.constructor=Command,Command.prototype.finalize=function(){},Command.prototype.eventPerformed=function(t){1==this.listen.getValueDirect()&&this.execute(),EventListener.prototype.eventPerformed.call(this,t)},Command.prototype.isBorrowed=function(t){for(var e=0;e<this.borrowedAttributes.length;e++)if(t==this.borrowedAttributes[e])return!0;return!1},Command.prototype.isBorrowedAndValueModified=function(t){if(this.isBorrowed(t))for(var e=0;e<this.attributeValuePairs.length;e++)if(t==this.attributeValuePairs[e].first)return{borrowed:!0,value:this.attributeValuePairs[e].second};return{borrowed:!1,value:null}},Command.prototype.isBorrowedAndReferenceModified=function(t){if(this.isBorrowed(t))for(var e=0;e<this.attributeRefPairs.length;e++)if(t==this.attributeRefPairs[e].second)return{borrowed:!0,reference:this.attributeRefPairs[e].first};return{borrowed:!1,reference:null}},SetCommand.prototype=new Command,SetCommand.prototype.constructor=SetCommand,SetCommand.prototype.execute=function(){this.applyAttributeValues()},SetCommand.prototype.applyAttributeValues=function(){for(var t=0;t<this.attributeValuePairs.length;t++)setAttributeValue(this.attributeValuePairs[t].first,this.attributeValuePairs[t].second)},SetCommand.prototype.registerTargetAttributes=function(t,e){for(var i,r=t.getAttributeCount(),o=0;r>o;o++){var n=t.getAttributeAt(o),a=t.getAttributeNameAt(o);null!=(i=this.getAttribute(a))?(sName=e+"_",sName+=a):sName=a,this.registerAttribute(n,sName),this.borrowedAttributes.push(n)}};var gConnectionHelpers=[];ConnectAttributesCommand.prototype=new Command,ConnectAttributesCommand.prototype.constructor=ConnectAttributesCommand,ConnectAttributesCommand.prototype.finalize=function(){for(var t=0;t<this.connections.length()-2;t++){var e=this.connections.getAt(t);if(e.sourceAttribute&&e.targetAttribute){var i=new StringAttr(e.sourceAttributeName);i.flagDeserializedFromXML(),this.registerAttribute(i,"sourceAttribute");var r=new StringAttr(e.targetAttributeName);r.flagDeserializedFromXML(),this.registerAttribute(r,"targetAttribute")}}Command.prototype.finalize.call(this)},ConnectAttributesCommand.prototype.eventPerformed=function(t){Command.prototype.eventPerformed.call(this,t)},ConnectAttributesCommand.prototype.execute=function(){var t=this.connections.top(),e=this.persist.getValueDirect(),i=null;if(t.sourceContainer&&t.sourceContainer.attrType>=eAttrType.Evaluator&&t.sourceContainer.attrType<=eAttrType.Evaluator_End&&(i=t.sourceContainer),0==this.negate.getValueDirect())this.connectionHelper.first?(this.connectionHelper.first(t.sourceContainer,t.targetContainer),!e&&this.connectionHelper.second&&(i&&i.evalute(),this.connectionHelper.second(t.sourceContainer,t.targetContainer))):(this.addOrRemoveTargets(!0),e||(i&&i.evalute(),this.addOrRemoveTargets(!1)));
else if(this.connectionHelper.second){var t=this.connections.top();this.connectionHelper.second(t.sourceContainer,t.targetContainer),i&&i.evalute()}else this.addOrRemoveTargets(!1),i&&i.evalute()},ConnectAttributesCommand.prototype.addOrRemoveTargets=function(t){for(var e=0;e<this.connections.length();e++){var i=this.connections.getAt(e);if(i.sourceAttribute&&i.targetAttribute){i.sourceAttribute.removeElementTarget(i.targetAttribute,i.sourceIndex,i.targetIndex),t&&i.sourceAttribute.addElementTarget(i.targetAttribute,i.sourceIndex,i.targetIndex);var r=i.sourceAttribute.getContainer();if(r){var o=r.getAttribute("screenPosition");if(o&&o==i.sourceAttribute){var n=r.getAttribute("autoDisplayList");n&&n.setValueDirect(!1);var a=r.getAttribute("enableDisplayList");a&&a.setValueDirect(!1)}}}}},AutoInterpolateCommand.prototype=new Command,AutoInterpolateCommand.prototype.constructor=AutoInterpolateCommand,AutoInterpolateCommand.prototype.execute=function(){this.buildMotion(),this.kfi&&(this.kfi.getAttribute("time").setValueDirect(0),this.kfi.getAttribute("enabled").setValueDirect(!0))},AutoInterpolateCommand.prototype.buildMotion=function(){var t=this.registry.find("AttributeFactory");if(this.kfi=t.create("KeyframeInterpolator"),this.kfi){this.kfi.getAttribute("enabled").setValueDirect(!1),this.kfi.getAttribute("renderAndRelease").copyValue(this.renderAndRelease);for(var e=0;e<this.attributeValuePairs.length;e++)this.numValueChannels+=this.attributeValuePairs[e].first.getLength();for(var e=0;e<this.attributeRefPairs.length;e++)this.numReferenceChannels+=this.attributeRefPairs[e].first.getLength();this.numChannels=this.numValueChannels+this.numReferenceChannels,this.kfi.setNumChannels(this.numChannels);for(var i=this.preBehavior.getValueDirect(),r=this.postBehavior.getValueDirect(),e=0;e<this.numChannels;e++)this.kfi.getAttribute("preBehaviors").getAt(e).setValueDirect(i),this.kfi.getAttribute("postBehaviors").getAt(e).setValueDirect(r);this.applyAttributeValues(),this.applyAttributeRefs()}},AutoInterpolateCommand.prototype.applyAttributeValues=function(){var t,e,i;for(t=0,i=0;i<this.attributeValuePairs.length;i++){var r=this.attributeValuePairs[i].first,o=this.attributeValuePairs[i].second;for(e=0;e<r.getLength();e++){var n=this.kfi.getAttribute("channels").getAt(t+e),a=new KeyframeAttr,s=new KeyframeAttr;a.getAttribute("time").setValueDirect(0),s.getAttribute("time").setValueDirect(this.duration.getValueDirect()),a.getAttribute("shape").setValueDirect(this.shape.getValueDirect()),s.getAttribute("shape").setValueDirect(this.shape.getValueDirect());var l=parseFloat(r.getElement(e)),c=parseFloat(r.getLength()>1?o[e]:o);if(this.isAttributeRotational(r)){var h=this.shortestPath(l,c);l=h.start,c=h.end}a.getAttribute("value").setValueDirect(l),s.getAttribute("value").setValueDirect(c),n.push_back(a),n.push_back(s),this.kfi.getAttribute("resultValues").getAt(t+e).addElementTarget(r,0,e)}t+=e}},AutoInterpolateCommand.prototype.applyAttributeRefs=function(){var t,e,i;for(t=0,i=0;i<this.attributeRefPairs.length;i++){var r=this.attributeRefPairs[i].first,o=this.attributeRefPairs[i].second;for(e=0;e<o.getLength();e++){var n=this.kfi.getAttribute("channels").getAt(t+e),a=new KeyframeAttr,s=new KeyframeAttr;a.getAttribute("time").setValueDirect(0),s.getAttribute("time").setValueDirect(this.duration.getValueDirect()),a.getAttribute("shape").setValueDirect(this.shape.getValueDirect()),s.getAttribute("shape").setValueDirect(this.shape.getValueDirect());var l=parseFloat(o.getElement(e)),c=parseFloat(r.getElement(e));if(this.isAttributeRotational(o)){var h=this.shortestPath(l,c);l=h.start,c=h.end}a.getAttribute("value").setValueDirect(l),s.getAttribute("value").setValueDirect(c),n.push_back(a),n.push_back(s),this.kfi.getAttribute("resultValues").getAt(t+e).addElementTarget(o,0,e)}t+=e}},AutoInterpolateCommand.prototype.registerTargetAttributes=function(t,e){for(var i,r=t.getAttributeCount(),o=0;r>o;o++){var n=t.getAttributeAt(o),a=t.getAttributeNameAt(o);null!=(i=this.getAttribute(a))?(sName=e+"_",sName+=a):sName=a,this.registerAttribute(n,sName),this.borrowedAttributes.push(n)}},AutoInterpolateCommand.prototype.isAttributeRotational=function(t){var e=t.getContainer();if(e){var i=e.getAttributeName(t);if(i&&("rotation"==i||"angle"==i))return!0}return!1},AutoInterpolateCommand.prototype.shortestPath=function(t,e){var i=degreeNormalize(t),r=degreeNormalize(e),o=r-i;if(180>=o&&o>=-180)return{start:t,end:e};var n=0;return n=o>180?360-o:360+o,t=i,e=r>i?i-n:i+n,{start:t,end:e}},MotionInterpolateCommand.prototype=new AutoInterpolateCommand,MotionInterpolateCommand.prototype.constructor=MotionInterpolateCommand,MotionInterpolateCommand.prototype.execute=function(){AutoInterpolateCommand.prototype.execute.call(this)},MotionInterpolateCommand.prototype.buildMotion=function(){var t=this.registry.find("AttributeFactory");if(this.kfi=t.create("KeyframeInterpolator"),this.kfi){this.kfi.getAttribute("enabled").setValueDirect(!1),this.kfi.getAttribute("renderAndRelease").copyValue(this.renderAndRelease),this.numChannels=3,this.kfi.setNumChannels(this.numChannels);for(var e=this.preBehavior.getValueDirect(),i=this.postBehavior.getValueDirect(),r=0;r<this.numChannels;r++)this.kfi.getAttribute("preBehaviors").getAt(r).setValueDirect(e),this.kfi.getAttribute("postBehaviors").getAt(r).setValueDirect(i);this.setKeyframes()}},MotionInterpolateCommand.prototype.setKeyframes=function(){var t=this.startPosition.getValueDirect(),e=this.endPosition.getValueDirect(),i=distanceBetween(t,e),r=new Vector3D;r.copy(this.positionControl.getValueDirect()),r.normalize();var o=new Vector3D((t.x+e.x)/2+r.x*(i/2),(t.y+e.y)/2+r.y*(i/2),(t.z+e.z)/2+r.z*(i/2));this.midPosition.setValueDirect(o.x,o.y,o.z);for(var n=(this.easeIn.getValueDirect(),this.easeOut.getValueDirect(),this.shape.getValueDirect()),a=this.duration.getValueDirect(),s=0;s<this.numChannels;s++){var l=this.kfi.getAttribute("channels").getAt(s),c=new KeyframeAttr,h=new KeyframeAttr,d=new KeyframeAttr;c.getAttribute("time").setValueDirect(0),h.getAttribute("time").setValueDirect(.5*a),d.getAttribute("time").setValueDirect(a),c.getAttribute("shape").setValueDirect(n),h.getAttribute("shape").setValueDirect(n),d.getAttribute("shape").setValueDirect(n),c.getAttribute("value").setValueDirect(this.startPosition.getElement(s)),h.getAttribute("value").setValueDirect(this.midPosition.getElement(s)),d.getAttribute("value").setValueDirect(this.endPosition.getElement(s)),l.push_back(c),l.push_back(h),l.push_back(d),this.kfi.getAttribute("resultValues").getAt(s).addElementTarget(this.resultPosition,0,s)}},LocateCommand.prototype=new Command,LocateCommand.prototype.constructor=LocateCommand,LocateCommand.prototype.execute=function(){this.targetNode&&this.locate()},LocateCommand.prototype.locate=function(){var t=this.registry.find("Selector"),e=this.registry.find("ViewportMgr"),i=t.getAttribute("clickPoint").getValueDirect(),r=e.getViewportAtScreenXY(i.x,i.y),o=r.camera,n=r.viewport;this.directive.execute(this.targetNode);var a=this.directive.getBounds();this.locator.getAttribute("bbox").setValueDirect(a.min,a.max);var s=r.camera.getTransform();s.invert(),this.directive.getAttribute("viewTransform").setValueDirect(s),this.directive.getAttribute("viewSpace").setValueDirect(!0),this.directive.execute(this.targetNode),a=this.directive.getBounds(),this.locator.getAttribute("bboxView").setValueDirect(a.min,a.max),this.locator.getAttribute("viewport").setValueDirect(n.x,n.y,n.width,n.height);var l=this.locator.getAttribute("nearDistance"),c=this.locator.getAttribute("viewVolume"),h=this.locator.getAttribute("viewPosition"),d=this.locator.getAttribute("viewTransform"),u=this.locator.getAttribute("resultPosition"),p=this.locator.getAttribute("resultWidth"),f=this.locator.getAttribute("resultFarDistance"),_=this.locator.getAttribute("resultPivotDistance"),m=null,g=this.updateClipPlanes.getValueDirect(),y=this.transition.getValueDirect();if(this.inspector&&(m=this.inspector.getAttribute("pivotDistance")),_&&m&&_.addTarget(m),cameraNear=o.getAttribute("nearDistance"),cameraFar=o.getAttribute("farDistance"),cameraWidth=o.getAttribute("width"),cameraVolume=o.getAttribute("viewVolume"),cameraPosition=o.getAttribute("sectorPosition"),cameraWorldPosition=o.getAttribute("sectorWorldPosition"),cameraWorldTransform=o.getAttribute("sectorWorldTransform"),cameraNear.addTarget(l),cameraVolume.addTarget(c),cameraWorldPosition.addTarget(h),cameraWorldTransform.addTarget(d),0==y)u.addTarget(cameraPosition),p.addTarget(cameraWidth),g&&f.addTarget(cameraFar),this.locator.evaluate(),u.removeTarget(cameraPosition),p.removeTarget(cameraWidth),f.removeTarget(cameraFar);else{switch(u.addTarget(this.resultPosition),p.addTarget(this.resultWidth),g&&f.addTarget(this.resultFarDistance),this.locator.evaluate(),u.removeTarget(this.resultPosition),p.removeTarget(this.resultWidth),f.removeTarget(this.resultFarDistance),this.shape.getValueDirect()){case eKeyframeShape.Stepped:case eKeyframeShape.TCB:case eKeyframeShape.Bezier1D:case eKeyframeShape.Bezier2D:var b=this.registry.find("AttributeFactory"),v=b.create("MotionInterpolate");v.getAttribute("shape").copyValue(this.shape),v.getAttribute("easeIn").copyValue(this.easeIn),v.getAttribute("easeOut").copyValue(this.easeOut),v.getAttribute("startPosition").copyValue(cameraPosition),v.getAttribute("endPosition").copyValue(this.resultPosition),v.getAttribute("resultPosition").addTarget(cameraPosition,eAttrSetOp.Replace,null,!1);var M=o.getDirectionVectors();v.getAttribute("positionControl").setValueDirect(-M.forward.x,-M.forward.y,-M.forward.z);break;case eKeyframeShape.Linear:default:var b=this.registry.find("AttributeFactory"),v=b.create("AutoInterpolate");v.attributeRefPairs.push(new Pair(this.resultPosition,cameraPosition))}g&&(cameraWidth&&v.attributeRefPairs.push(new Pair(this.resultWidth,cameraWidth)),cameraFar&&v.attributeRefPairs.push(new Pair(this.resultFarDistance,cameraFar))),v.target=o,v.getAttribute("duration").copyValue(this.duration),v.execute(),this.registry.unregister(v)}_&&m&&_.removeTarget(m)},PlayCommand.prototype=new Command,PlayCommand.prototype.constructor=PlayCommand,PlayCommand.prototype.execute=function(){var t=this.registry.find("RenderAgent");if(t)if(this.evaluators.length<1)t.setEvaluatorsPlayState(0==this.negate.getValueDirect()?ePlayState.Play:ePlayState.Pause);else for(var e=0;e<this.evaluators.length;e++)0==this.negate.getValueDirect()?t.setEvaluatorPlayState(evaluators[e],ePlayState.Play):t.setEvaluatorPlayState(evaluators[e],ePlayState.Pause)},RemoveCommand.prototype=new Command,RemoveCommand.prototype.constructor=RemoveCommand,RemoveCommand.prototype.execute=function(){if(this.targetAttribute){if(this.targetAttribute.isNode()){for(var t=0,e=null;e=this.targetAttribute.getParent(t++);)e.removeChild(this.targetAttribute);this.removeChildren(this.targetAttribute),this.targetAttribute.onRemove()}this.registry.unregister(this.targetAttribute),this.targetAttribute.destroy()}},RemoveCommand.prototype.removeChildren=function(t){for(var e=null;e=t.getChild(0);)this.removeChildren(e),this.registry.unregister(e),t.removeChild(e)},StopCommand.prototype=new Command,StopCommand.prototype.constructor=StopCommand,StopCommand.prototype.execute=function(){var t=this.registry.find("RenderAgent");if(t)if(this.evaluators.length<1)t.setEvaluatorsPlayState(ePlayState.Stop);else for(var e=0;e<this.evaluators.length;e++)t.setEvaluatorPlayState(evaluators[e],ePlayState.Stop)},CommandSequence.prototype=new Command,CommandSequence.prototype.constructor=CommandSequence,CommandSequence.prototype.execute=function(){for(var t=0;t<this.sequence.length;t++)this.sequence[t].execute()},CommandSequence.prototype.addCommand=function(t){this.sequence.push(t);var e=this.sequence.length-1,i="Command("+e.toString()+")";this.registerAttribute(t,i)},CommandMgr.prototype=new AttributeContainer,CommandMgr.prototype.constructor=CommandMgr,CommandMgr.prototype.pushCommandSequence=function(t){this.commandSeqStack.push(t)},CommandMgr.prototype.popCommandSequence=function(){this.commandSeqStack.pop()},CommandMgr.prototype.clearCommandSequenceStack=function(){this.commandSeqStack.clear()},CommandMgr.prototype.addCommand=function(t){if(setAttributeBin(null),setAttributePairs(null),this.commandSeqStack.length()>0)return this.commandSeqStack.top().addCommand(t),void this.registry.unregister(t);var e=t.getEventTypes(),i=t.getAttribute("trigger");if(e.length>0){var r=this.registry.find("EventMgr");if(r)for(var o=0;o<e.length;o++)r.addListener(e[o],t)}else i.getLength()>0?(i.addModifiedCB(CommandMgr_CommandTriggerModifiedCB,this),this.createCommandTrigger(t,i)):(t.execute(),this.registry.unregister(t))},CommandMgr.prototype.createCommandTrigger=function(t,e){var i=0,r=0,o=0,n=0,a="";if(a=e.getValueDirect().join(""),i=a.lastIndexOf("/"),-1!=i){var s=a.substring(0,i),l=bridgeworks.registry.find(s);if(l){var c=!1,h="",d="",u="",p="";if(r=a.lastIndexOf("!"),r>0&&(a.replace("!",""),c=!0),r=a.lastIndexOf("="),r>0){if(n=a.lastIndexOf("["),n>0){var f=a.lastIndexOf("]",n);d=a.substring(n+1,f-n-1)}var _=FLT_MAX,o=a.lastIndexOf(",");if(o>0){var p=a.substring(o+1,e.length()-o-1);_=p.parseFloat()}o=-1==o?a.length:o,u=a.substring(r+1,r+(o-r))}else if(n=a.lastIndexOf("["),n>0){var f=a.lastIndexOf("]",n);d=a.substring(n+1,f-n-1)}r=-1==n?-1==r?a.length():r:n,h=a.substring(i+1,r);var m=l.getAttribute(h),g=this.createAttribute(m,u);if(g){var y=-1;""!=d&&(y=parseInt(d));var b=t.numResponses,v=new AttributeTrigger(m,g,t,y,c,b);t.setTrigger(v)}a=s+"/"+h,console.debug(e),console.debug("\n")}}},CommandMgr.prototype.createAttribute=function(t,e){var i=null;if(t){{t.attrType,t.getLength()}i=new NumberAttr,i.setValueDirect(parseFloat(e))}return i},AttributeTrigger.prototype=new Command,AttributeTrigger.prototype.constructor=AttributeTrigger,AttributeTrigger.prototype.execute=function(){if(this.target){var t=this.trigger.attrType;switch(t){case eAttrType.StringAttr:var e=[],i=[];this.input.getValue(e),this.trigger.getValue(i);var r=e[0]==i[0]?!0:!1;if(r=this.not?!r:r){var o=this.executionCount.getValueDirect()-1;this.executionCount.setValueDirect(o)}0==this.executionCount&&(this.target=null);break;default:var e=[],i=[];if(this.input.getValue(e),this.trigger.getValue(i),-1!=this.item){var r=e[this.item]==i[0]||this.lastValues[this.item]>e[this.item]&&e[this.item]<i[0]||this.lastValues[this.item]<e[this.item]&&e[this.item]>i[0];if(r=this.not?!r:r){this.target.execute();var o=this.executionCount.getValueDirect()-1;this.executionCount.setValueDirect(o)}}else{for(var n=this.input.getLength(),a=0,s=0;n>s;++s){var r=e[s]==i[s]||this.lastValues[s]>e[s]&&e[s]<i[s]||this.lastValues[s]<e[s]&&e[s]>i[s];r=this.not?!r:r,r&&++a}(a=n)&&(err=this.target.execute(),this.executionCount.setValueDirect(--this.executionCount))}0==this.executionCount.getValueDirect()?(this.target=null,this.input.removeModifiedCB(AttributeTrigger_InputModifiedCB,this)):this.lastValues=e}}},BwRegistry.prototype=new AttributeRegistry,BwRegistry.prototype.constructor=BwRegistry,BwRegistry.prototype.find=function(t){if(!t)return null;for(var e=[],i=0;(i=t.indexOf("/"))>-1;)e.push(t.substring(0,i)),t=t.substring(i+1,t.length);e.push(t);var r=this.getByName(e[0]);r&&(r=r[0]);for(var o=1;o<e.length&&r;o++)r=r.getAttribute(e[o]);return r},BwRegistry.prototype.findContext=function(){},BwRegistry.prototype.registerResource=function(t){t.isNode()&&0==t.getAttribute("orphan").getValueDirect()&&this.updateTree(t)},BwRegistry.prototype.finalizeResource=function(t){t.isNode()&&t.getParentCount()>0&&this.subtreePtr.setValueDirect(t.getParent(0))},BwRegistry.prototype.register=function(t){AttributeRegistry.prototype.register.call(this,t)},BwRegistry.prototype.unregister=function(t){AttributeRegistry.prototype.unregister.call(this,t)},BwRegistry.prototype.clear=function(){this.rootPtr.setValueDirect(null),this.subtreePtr.setValueDirect(null),this.sgPointer.setValueDirect(null),AttributeRegistry.prototype.clear.call(this)},BwRegistry.prototype.updateTree=function(t){var e=this.rootPtr.getValueDirect(),i=this.subtreePtr.getValueDirect();null==e?e=i=t:(i?i.addChild(t):e.addChild(t),i=t),this.rootPtr.setValueDirect(e),this.subtreePtr.setValueDirect(i)},BwRegistry.prototype.updateMaxAnimationTime=function(){},BwRegistry.prototype.formatContext=function(){},BwRegistry.prototype.sgPointerModified=function(){var t=this.find(this.sgPointer.getValueDirect().join(""));t&&this.subtreePtr.setValueDirect(t)},BwSceneInspector.prototype=new SceneInspector,BwSceneInspector.prototype.constructor=BwSceneInspector,BwSceneInspector.prototype.evaluate=function(){SceneInspector.prototype.evaluate.call(this)},BwSceneInspector.prototype.translate=function(t){if(0!=t.x||0!=t.y||0!=t.z){var e=this.translationSensitivity.getValueDirect();t.x*=e.x,t.y*=e.y,t.z*=e.z;var i=[t.x,t.y,t.z],r=new AttributeSetParams(-1,-1,0,!0,!1);this.translationDelta.setValue(i,r),this.evaluate();var o=[0,0,0];this.translationDelta.setValue(o,r),this.invertedTranslationDelta.setValue(o,r)}},BwSceneInspector.prototype.pan=function(t){if(0!=t.x||0!=t.y||0!=t.z){if(0==this.worldUnitsPerPixel.x&&0==this.worldUnitsPerPixel.y){var e=this.getWorldUnitsPerPixel(this.pivotDistance.getValueDirect());this.worldUnitsPerPixel.x=e.x,this.worldUnitsPerPixel.y=e.y}var i=this.panSensitivity.getValueDirect();t.x*=i.x*this.worldUnitsPerPixel.x,t.y*=i.y*this.worldUnitsPerPixel.y,t.z*=i.z*this.worldUnitsPerPixel.y;var r=[t.x,t.y,t.z],o=new AttributeSetParams(-1,-1,0,!0,!1);if(this.panDelta.setValue(r,o),0!=t.z){var n=this.pivotDistance.getValueDirect();n-=t.z,this.pivotDistance.setValueDirect(n)}this.evaluate();var a=[0,0,0];this.panDelta.setValue(a,o),this.invertedPanDelta.setValue(a,o)}},BwSceneInspector.prototype.track=function(t){if((0!=t.x||0!=t.y||0!=t.z)&&null!=this.camera&&this.camera.attrType!=eAttrType.OrthographicCamera&&!(this.viewport.width<=0||this.viewport.height<=0)){if(0==this.worldUnitsPerPixel.x&&0==this.worldUnitsPerPixel.y){var e=this.getWorldUnitsPerPixel(this.pivotDistance.getValueDirect());this.worldUnitsPerPixel.x=e.x,this.worldUnitsPerPixel.y=e.y}var i=this.trackSensitivity.getValueDirect();if(t.x*=i.x*this.worldUnitsPerPixel.x,t.y*=i.y*this.worldUnitsPerPixel.y,0!=t.z){var r=this.camera.getAttribute("position").getValueDirect(),o=this.camera.getAttribute("rotation").getValueDirect(),n=r.y-this.clickPosWorld.y,a=distanceBetween(r,this.clickPosWorld),s=Math.sqrt(a*a-n*n),l=this.camera.getAttribute("zoom").getValueDirect(),c=2*Math.atan2(1,l),h=c/this.viewport.height,d=Math.acos(n/a),u=d+t.z*h,p=Math.tan(u)*n,f=p-s;d>=toRadians(88)&&d<=toRadians(92)&&(f=0>f?-Math.abs(this.last_d3):Math.abs(this.last_d3));var _=Math.abs(o.z),m=!1;_>=90&&270>=_&&o.x>-45&&o.x<45&&(m=!0),m&&(f=-f),this.last_d3=f,t.z=f*i.z*(0>n?-1:1);var g=this.camera.getDirectionVectors();v=new Vector3D(g.forward.x,g.forward.y,g.forward.z),v.y=0,v.normalize();var y=subtract3D(this.clickPosWorld,r);y.y=0,y.normalize();var b,M=cosineAngleBetween(y,v),S=Math.acos(M),x=2*Math.atan(this.viewport.width/this.viewport.height*Math.tan(c/2)),T=x/this.viewport.width,E=this.registry.find("Selector");E&&(b=E.getAttribute("clickPoint").getValueDirect());var C=Math.abs(this.viewport.width/2-b.x)*T;S=C;var A=Math.tan(S)*f,w=new Plane(r,g.right);pointOnNegativeSideOfPlane(this.clickPosWorld,w)&&(A*=-1),m&&(A*=-1),t.x+=-A}var R=[t.x,t.y,t.z],D=new AttributeSetParams(-1,-1,0,!0,!1);this.trackDelta.setValue(R,D),this.evaluate();var P=[0,0,0];this.trackDelta.setValue(P,D),this.invertedTrackDelta.setValue(P,D)}},BwSceneInspector.prototype.rotate=function(t){if(0!=t.x||0!=t.y||0!=t.z){var e=this.rotationSensitivity.getValueDirect();t.x*=e.x,t.y*=e.y,t.z*=e.z;var i=[t.x,t.y,t.z],r=new AttributeSetParams(-1,-1,0,!0,!1);this.rotationDelta.setValue(i,r),this.evaluate();var o=[0,0,0];this.rotationDelta.setValue(o,r),this.invertedRotationDelta.setValue(o,r)}},BwSceneInspector.prototype.zoom=function(t){if(0!=t&&this.camera)switch(this.camera.className){case"PerspectiveCamera":var e=this.camera.getAttribute("zoom").getValueDirect();e+=t*this.zoomSensitivity.getValueDirect(),0>e&&(e=.05),this.camera.getAttribute("zoom").setValueDirect(e);break;case"OrthographicCamera":var i=this.camera.getAttribute("width").getValueDirect();i+=t*this.zoomSensitivity.getValueDirect(),0>i&&(i=0),this.camera.getAttribute("width").setValueDirect(i)}},BwSceneInspector.prototype.getWorldUnitsPerPixel=function(t){var e=0,i=0,r=this.registry.find("Selector");if(r){var o=r.selections.viewports[r.selections.viewports.length-1];if(this.camera)switch(this.camera.attrType){case eAttrType.PerspectiveCamera:var n=this.camera.getAttribute("zoom").getValueDirect(),a=worldUnitsPerPixelPersp(o,n,t);e=a.x,i=a.y;break;case eAttrType.OrthographicCamera:var s=this.camera.getAttribute("width").getValueDirect(),a=worldUnitsPerPixelOrtho(o,s);e=a.x,i=a.y}}return{x:e,y:i}},ObjectInspector.prototype=new ArcballInspector,ObjectInspector.prototype.constructor=ObjectInspector,ObjectInspector.prototype.applyCameraRelativeRotation=function(t){var e=null,i=null,r=null,o=null,n=this.viewport,a=this.camera;e=t.worldCenter.getValueDirect(),r=a.getTransform(),r.invert(),projection=a.projectionMatrix,i=toScreenSpace(e,r,projection,n),this.sphereCenter.setValueDirect(i.x,i.y,0),this.sphereRadius.setValueDirect(.75),o=t.getTransform(),this.worldTransform.setValueDirect(o),r=a.getTransform(),this.viewTransform.setValueDirect(r)},ObjectInspector.prototype.applyCameraRelativeTranslation=function(t){var e=this.camera,i=this.translationDelta.getValueDirect();if(0!=i.x||0!=i.y||0!=i.z){var r=e.getSectorTransform();r.invert();var o=t.sectorWorldCenter.getValueDirect(),n=e.sectorWorldPosition.getValueDirect(),a=new Vector3D(o.x-n.x,o.y-n.y,o.z-n.z);a.normalize();var s=this.viewport,l=this.pointView.getValueDirect(),c=new Vector3D(l.x,l.y,l.z),h=null,d=new Vector3D(1,0,0),u=new Vector3D(0,1,0),p=new Vector3D(a.x,a.y,a.z),f=new Vector3D(l.x,l.y,l.z),_=t.motionParent,m=null;_&&(m=_.getTransform(),m.invert());var g=-1,y=-1;switch(e.attrType){case eAttrType.PerspectiveCamera:y=e.zoom.getValueDirect(),g=worldUnitsPerPixelPersp(s,y,c.z);break;case eAttrType.OrthographicCamera:y=e.width.getValueDirect(),g=worldUnitsPerPixelOrtho(s,y)}d.multiplyScalar(g.x),d.multiplyScalar(-i.x),u.multiplyScalar(g.y),u.multiplyScalar(i.y),p.multiplyScalar(g.y),p.multiplyScalar(i.z),f.addVector(d),f.addVector(u),r.invert(),m&&(r=r.multiply(m),p=m.transform(p.x,p.y,p.z,0)),c=r.transform(c.x,c.y,c.z,1),f=r.transform(f.x,f.y,f.z,1),h=new Vector3D(f.x,f.y,f.z),h.subtractVector(c),h.addVector(p);var b=new AttributeSetParams(-1,-1,eAttrSetOp.Add,!0,!0),v=[h.x,h.y,h.z];t.sectorPosition.setValue(v,b);{t.sectorPosition.getValueDirect()}}},ObjectInspector.prototype.translationDeltaModified=function(){for(var t=null,e=0;e<this.selectedObjects.length;e++)if(t=this.getInspectionObject(this.selectedObjects[e])){var i=t.getAttribute("moveable").getValueDirect();i&&this.applyCameraRelativeTranslation(t)}var r=[0,0,0],o=new AttributeSetParams(0,0,0,!0,!1);this.translationDelta.setValue(r,o)},ObjectInspector.prototype.rotationDeltaModified=function(){for(var t=null,e=0;e<this.selectedObjects.length;e++)if(t=this.getInspectionObject(this.selectedObjects[e])){var i=t.moveable.getValueDirect();if(i){this.applyCameraRelativeRotation(t);var r=this.mouseNow.getValueDirect(),o=this.rotationDelta.getValueDirect();r.x-=o.x,r.y-=o.y,this.mouseNow.setValueDirect(r.y,r.x),this.evaluate()}}},ObjectInspector.prototype.rotationNowModified=function(){if(null!=this.selectedObjects&&void 0!=this.selectedObjects)for(var t=null,e=0;e<this.selectedObjects.length;e++){t=this.getInspectionObject(this.selectedObjects[e]);var i=t.moveable.getValueDirect();if(i){this.applyCameraRelativeRotation(t);var r=this.rotationNow.getValueDirect();this.mouseNow.setValueDirect(r.y,r.x),this.evaluate()}}},ObjectInspector.prototype.runSelectionOccurred=function(){var t=this.registry.find("Selector"),e=this.registry.find("ViewportMgr");if(t&&e){var i=t.getAttribute("clickPoint").getValueDirect(),r=e.getViewportAtScreenXY(i.x,i.y);this.viewport=r.viewport,this.camera=r.camera,this.selectedObjects=t.selections.models.slice();for(var o=this.resultQuat,n=this.quatAtMouseDown,a=this.mouseDown,s=this.mouseNow,l=null,c=null,h=null,d=null,u=0,p=0;p<this.selectedObjects.length;p++)if(o.removeAllTargets(),a.setValueDirect(i.x,i.y),s.setValueDirect(i.x,i.y),l=this.getInspectionObject(this.selectedObjects[p]),c=getInspectionGroup(l),c&&(h=c.getChild(2))){var f=[!0],_=new AttributeSetParams(-1,-1,eAttrSetOp.Replace,!0,!0);h.enabled.setValue(f,_),d=h.rotationQuat,o.addTarget(d,eAttrSetOp.Replace,null,!1);var m=d.getValueDirect();n.setValueDirect(m);var g=l.bbox,y=g.min.getValueDirect(),b=g.max.getValueDirect();u=new Vector3D(y.x,y.y,y.z),u.addVector(b),u.multiplyScalar(.5);var v=l.pivot.getValueDirect();l.pivotAboutGeometricCenter.getValueDirect()&&(v=u);var M=new Vector3D(v.x,v.y,v.z);M.multiplyScalar(-1),f=[v.x,v.y,v.z],c.getChild(0).translation.setValue(f,_);var S=l.worldScale.getValueDirect(),x=new Vector3D(1/S.x,1/S.y,1/S.z);f[0]=x.x,f[1]=x.y,f[2]=x.z,c.getChild(1).scale.setValue(f,_),f[0]=S.x,f[1]=S.y,f[2]=S.z,c.getChild(3).scale.setValue(f,_),f[0]=M.x,f[1]=M.y,f[2]=M.z,c.getChild(4).translation.setValue(f,_),l.getAttribute("stopOnCollision").setValueDirect(!0)}}},ObjectInspector.prototype.runSelectionCleared=function(){for(var t=0;t<this.selectedObjects.length;t++)this.getInspectionObject(this.selectedObjects[t]).getAttribute("stopOnCollision").setValueDirect(!1);this.selectedObjects=[]},ObjectInspector.prototype.getInspectionObject=function(t){for(;t.motionParent;)t=t.motionParent;return t},ObjectInspector.prototype.clearSelection=function(t){for(var e=0;e<this.selectedObjects.length;e++)this.selectedObjects[e]==t&&this.selectedObjects.splice(e,1)},ConnectionMgr.prototype=new AttributeContainer,ConnectionMgr.prototype.constructor=ConnectionMgr,ConnectionMgr.prototype.connectSceneInspection=function(t,e){if(t&&e){var i=t.getCamera();i!=e&&(i&&this.disconnectSceneInspection(t,i),e.getAttribute("sectorPosition").addTarget(t.getAttribute("viewPosition"),eAttrSetOp.Replace,null,!0),e.getAttribute("rotation").addTarget(t.getAttribute("viewRotation"),eAttrSetOp.Replace,null,!0),t.getAttribute("resultPosition").addTarget(e.getAttribute("sectorPosition"),eAttrSetOp.Replace,null,!1),t.getAttribute("resultRotation").addTarget(e.getAttribute("rotation"),eAttrSetOp.Replace,null,!1),t.setCamera(e))}},ConnectionMgr.prototype.disconnectAllTargets=function(t){if(t)for(var e=t.getAttributeCount(),i=0;e>i;i++){var r=t.getAttributeAt(i);r&&r.removeAllTargets()}},ConnectionMgr.prototype.disconnectSceneInspection=function(t,e){t&&e&&(e.getAttribute("sectorPosition").removeTarget(t.getAttribute("viewPosition")),e.getAttribute("rotation").removeTarget(t.getAttribute("viewRotation")),t.getAttribute("resultPosition").removeTarget(e.getAttribute("sectorPosition")),t.getAttribute("resultRotation").removeTarget(e.getAttribute("rotation")),t.setCamera(null))},ConnectionMgr.prototype.connectMapProjectionCalculator=function(t,e){t&&e&&(t.getAttribute("resultPosition").addTarget(e.getAttribute("position")),t.evaluate())},ConnectionMgr.prototype.disconnectMapProjectionCalculator=function(t,e){t&&e&&t.getAttribute("resultPosition").removeTarget(e.getAttribute("position"))},ConnectionMgr.prototype.connectDissolve=function(t,e){if(t&&e){var i=e.getAttribute("dissolve");if(i){var r=t.getAttribute("resultValues");if(r){var o=r.getAt(0);o&&o.addTarget(i)}}}},ConnectionMgr.prototype.disconnectDissolve=function(t,e){if(t&&e){var i=e.getAttribute("dissolve");if(i){var r=t.getAttribute("resultValues");if(r){var o=r.getAt(0);o&&o.removeTarget(i)}}}},ConnectionMgr.prototype.connectWalkSimulation=function(t,e){ConnectionMgr.prototype.connectSceneInspection.call(null,t,e)},ConnectionMgr.prototype.disconnectWalkSimulation=function(t,e){ConnectionMgr.prototype.disconnectSceneInspection.call(null,t,e)},ConnectionMgr.prototype.connectModelsToMorph=function(t,e,i){if(t&&e)for(var r=this.registry.find("AttributeFactory"),o=e.getAttribute("vertices").getValueDirect(),n=0;n<t.geometry.length;n++){var a=t.geometryIndices[n];if(a){var s=r.create("MorphEffector");s.getAttribute("renderAndRelease").setValueDirect(!0),s.getAttribute("morphIncr").setValueDirect(i);var l=t.geometry[n].getAttribute("vertices").getValueDirect();s.getAttribute("sourceVertices").setValueDirect(l);for(var c=[],h=0;h<a.length;h++){var d=a[h];3*d+2<o.length?(c.push(o[3*d]),c.push(o[3*d+1]),c.push(o[3*d+2])):(c.push(l[3*h]),c.push(l[3*h+1]),c.push(l[3*h+2]))}s.getAttribute("targetVertices").setValueDirect(c),s.getAttribute("resultVertices").addTarget(t.geometry[n].getAttribute("vertices"))}}},RenderAgent.prototype=new Agent,RenderAgent.prototype.constructor=RenderAgent;var ePlayState={Unknown:-1,Play:0,Pause:1,Stop:2};RenderAgent.prototype.render=function(){this.timer.stop();var t=this.timer.getTime();this.timer.start(),this.timeIncrement.setValueDirect(t);var e=this.elapsedTimeInSecs.getValueDirect()+t;this.elapsedTimeInSecs.setValueDirect(e),this.frameRate.setValueDirect(1/t),this.animateEvaluators(t),this.executeRenderDirectives()},RenderAgent.prototype.animateEvaluators=function(t){for(var e=this.registry.getByType(eAttrType.Evaluator),i=0;i<e.length;i++)this.animateEvaluator(e[i],t)},RenderAgent.prototype.animateEvaluator=function(t,e){var i=t.getAttribute("enabled").getValueDirect(),r=t.getAttribute("expired").getValueDirect(),o=t.getAttribute("orphan").getValueDirect();if(i&&!r){switch(t.className){case"KeyframeInterpolator":var n=new AttributeSetParams(-1,-1,eAttrSetOp.Add,!0,!0);t.getAttribute("time").setValue(e,n);break;case"ObjectMover":case"AnimalMover":case"PhysicsSimulator":t.getAttribute("timeIncrement").setValueDirect(e)}o||t.evaluate()}r&&t.getAttribute("renderAndRelease").getValueDirect()&&this.registry.unregister(t)},RenderAgent.prototype.executeRenderDirectives=function(){var t=this.registry.getByType(eAttrType.RenderDirective);if(t){this.bridgeworks.viewportMgr.layoutDirectives(t);for(var e=0;e<t.length;e++)t[e].getAttribute("timeIncrement").setValueDirect(this.timeIncrement.getValueDirect()),t[e].execute()}},RenderAgent.prototype.globalTimeInSecsModified=function(){var t=this.globalTimeInSecs.getValueDirect();if(this.elapsedTimeInSecs.setValueDirect(t),this.registry){var e=this.registry.getByType(eAttrType.Evaluator);if(e)for(var i=0;i<e.length;i++){var r=e[i];if(r){var o=r.getAttribute("time");if(o){var n=r.getAttribute("globalTimeSyncEnabled");(n&&n.getValueDirect()||!n)&&o.setValueDirect(t)}r.evaluate()}}var a=this.registry.getByType(eAttrType.Model);if(a)for(var i=0;i<a.length;i++)setInspectionGroupActivationState(a[i],!1)}},RenderAgent.prototype.setEvaluatorPlayState=function(t,e){if(!t)return this.setEvaluatorPlayState(e);var i=t.getAttribute("enabled");switch(e){case ePlayState.Play:i.setValueDirect(!0);break;case ePlayState.Pause:i.setValueDirect(!1);break;case ePlayState.Stop:switch(i.setValueDirect(!1),t.className){case"KeyframeInterpolator":t.getAttribute("time").setValueDirect(0),t.evaluate()}}clearObjectPositionMap()},RenderAgent.prototype.setEvaluatorsPlayState=function(t){if(this.registry){var e=this.registry.getByType(eAttrType.Evaluator);if(e)for(i=0;i<e.length;i++){var r=e[i],o=(r.attrType,r.getAttribute("orphan").getValueDirect());o||this.setEvaluatorPlayState(r,t)}}},RenderAgent.prototype.setDesiredFrameRate=function(t){this.desiredFrameRate.setValueDirect(t)};var FRAME_RATE_DEFAULT=30,FRAME_RATE_MAX=32*FRAME_RATE_DEFAULT,FRAME_RATE_MIN=-32*FRAME_RATE_DEFAULT;RenderController.prototype=new AttributeContainer,RenderController.prototype.constructor=RenderController,RenderController.prototype.fastForward=function(){this.play();var t=this.renderAgent.frameRate.getValueDirect();0>t&&this.renderAgent.desiredFrameRate.setValueDirect(FRAME_RATE_DEFAULT),this.renderAgent.desiredFrameRate.setValueDirect(FRAME_RATE_MAX>t?2*Math.abs(this.renderAgent.frameRate):FRAME_RATE_MAX)
},RenderController.prototype.pause=function(){this.renderAgent.desiredFrameRate.setValueDirect(FRAME_RATE_DEFAULT),this.renderAgent.setEvaluatorsPlayState(ePlayState.Pause)},RenderController.prototype.play=function(){this.renderAgent.desiredFrameRate.setValueDirect(FRAME_RATE_DEFAULT),this.renderAgent.setEvaluatorsPlayState(ePlayState.Play)},RenderController.prototype.rewind=function(){this.play();var t=this.renderAgent.frameRate.getValueDirect();t>0&&this.renderAgent.desiredFrameRate.setValueDirect(FRAME_RATE_DEFAULT),this.renderAgent.desiredFrameRate.setValueDirect(t>FRAME_RATE_MIN?-2*Math.abs(this.renderAgent.frameRate):FRAME_RATE_MIN)},RenderController.prototype.stop=function(){this.renderAgent.setEvaluatorsPlayState(ePlayState.Stop),this.renderAgent.desiredFrameRate.setValueDirect(1)},SelectionListener.prototype=new EventListener,SelectionListener.prototype.constructor=SelectionListener,SelectionListener.prototype.setRayPick=function(t){this.rayPick=t;var e=this.rayPick.getAttribute("clickPoint");this.registerAttribute(e,"clickPoint"),e.addModifiedCB(SelectionListener_ClickPointModifiedCB,this)},SelectionListener.prototype.eventPerformed=function(t){switch(t.type){case eEventType.MouseMove:if(t.inputId&MOUSEEVENT_LEFT_BUTTON||t.inputId&MOUSEEVENT_MIDDLE_BUTTON||t.inputId&MOUSEEVENT_RIGHT_BUTTON)return}this.clearSelections(),this.getAttribute("clickPoint").setValueDirect(t.x,t.y)},SelectionListener.prototype.registerSelection=function(t,e){if(!this.selected){this.selected=t;var i=t.getAttribute("selected");i&&i.setValueDirect(1);var r=this.selected.getContainer();this.registerAttribute(this.selected,"Selected"),this.selected.setContainer(r);var o=t.getAttribute("name").getValueDirect().join("");this.selectedName.setValueDirect(o),e>=0&&(this.selectedElement.setValueDirect(e),this.selected.registerAttribute(this.selectedElement,"selectedElement"))}},SelectionListener.prototype.clearSelections=function(){if(this.selections.clear(),this.selectedElement.setValueDirect(-1),this.selected){var t=this.selected.getAttribute("selected");t&&t.setValueDirect(0),this.selected.getAttribute("selectedElement")&&this.selected.unregisterAttribute(this.selectedElement),this.selectedName.setValueDirect(""),this.unregisterAttribute(this.selected),this.selected=null}this.selectionCleared.pulse()},SelectionListener.prototype.processPick=function(t){for(var e=0;e<t.path.length;e++){var i=t.path[e],r=i.getAttribute("selectable"),o=i.getAttribute("show"),n=i.getAttribute("flipPolygons");if(!(r&&0==r.getValueDirect()||o&&0==o.getValueDirect()||n&&1==n.getValueDirect())){var a=-1;switch(i.attrType){case eAttrType.PerspectiveCamera:case eAttrType.OrthographicCamera:this.selections.cameras.push(i);break;case eAttrType.DirectionalLight:case eAttrType.PointLight:case eAttrType.SpotLight:this.selections.lights.push(i);break;case eAttrType.Model:this.selections.models.push(i),this.registerSelection(i,a);break;case eAttrType.Surface:this.selections.surfaces.push(i);break;case eAttrType.Label:this.selections.labels.push(i),this.registerRasterComponentSelection(i,a)}}}return this.selected&&(this.pointObject.setValueDirect(t.intersectRecord.pointModel.x,t.intersectRecord.pointModel.y,t.intersectRecord.pointModel.z),this.pointWorld.setValueDirect(t.intersectRecord.pointWorld.x,t.intersectRecord.pointWorld.y,t.intersectRecord.pointWorld.z),this.pointView.setValueDirect(t.intersectRecord.pointView.x,t.intersectRecord.pointView.y,t.intersectRecord.pointView.z),this.triIndex.setValueDirect(t.intersectRecord.triIndex),this.distance.setValueDirect(t.intersectRecord.distance)),this.selected?!0:!1},SelectionListener.prototype.processPicks=function(t){for(var e=0;e<t.length;e++)if(1==this.processPick(t[e]))return!0;return!1},SelectionListener.prototype.registerRasterComponentSelection=function(t,e){if(this.selected){var i=this.selected;if(i){var r=t.renderedSlot.getValueDirect(),o=i.renderedSlot.getValueDirect();if(r>o)return this.registerSelection(t,e,!0)}}else this.registerSelection(t,e)},SelectionListener.prototype.clickPointModified=function(){var t=this.getAttribute("clickPoint").getValueDirect(),e=this.registry.find("ViewportMgr"),i=e.getViewportAtScreenXY(t.x,t.y);this.selections.viewports.push(i.viewport),this.rayPick.getAttribute("viewport").setValueDirect(i.viewport.x,i.viewport.y,i.viewport.width,i.viewport.height),this.rayPick.getAttribute("camera").setValueDirect(i.camera);var r=this.registry.getAttribute("rootPtr").getValueDirect();this.rayPick.execute(r),this.rayPick.picked.length>0&&(this.processPicks(this.rayPick.picked),this.selectionOccurred.pulse()),this.updateDistanceFromScreenCenter(r),this.updateSceneInspectionCamera(i.camera)},SelectionListener.prototype.updateDistanceFromScreenCenter=function(t){if(0!=this.computePivotDistance.getValueDirect()){var e=this.registry.find("Bridgeworks");if(e){var i=e.canvas.width/2,r=e.canvas.height/2,o=this.rayPick.getAttribute("clickPoint").getValueDirect(),n=new AttributeSetParams(-1,-1,0,!1,!1);this.rayPick.getAttribute("clickPoint").setValueDirect(i,r,n),this.rayPick.execute(t);for(var a=!1,s=0;s<this.rayPick.picked.length&&!a;s++)if(0!=this.rayPick.picked[s].intersectRecord.distance){this.distanceFromScreenCenter.setValueDirect(this.rayPick.picked[s].intersectRecord.distance),a=!0;break}this.rayPick.getAttribute("clickPoint").setValueDirect(o.x,o.y,n)}}},SelectionListener.prototype.updateSceneInspectionCamera=function(t){var e=this.registry.find("SceneInspector");if(e){if(e.getCamera()==t)return;var i=this.registry.find("ConnectionMgr");i&&(i.disconnectSceneInspection(e,e.getCamera()),i.connectSceneInspection(e,t))}},ViewportLayout.prototype=new AttributeContainer,ViewportLayout.prototype.constructor=ViewportLayout,ViewportLayout.prototype.initialize=function(){},ViewportLayout.prototype.layoutDirectives=function(){},GridLayout.prototype=new ViewportLayout,GridLayout.prototype.constructor=GridLayout,GridLayout.prototype.initialize=function(){this.rows.setValueDirect(1),this.cols.setValueDirect(1),ViewportLayout.prototype.initialize.call(this)},GridLayout.prototype.layoutDirectives=function(t){if(t){var e=this.width.getValueDirect(),i=this.height.getValueDirect(),r=this.rows.getValueDirect(),o=this.cols.getValueDirect();if(!(0>=e||0>=i||0>=r||0>=o))for(var n=0,a=0,s=e/o,l=i/r,c=new Array(4),h=t.length,d=0,u=0;r>d&&h>u;d++){for(var p=0;o>p&&h>u;p++,u++)c[0]=n,c[1]=a,c[2]=s,c[3]=l,t[u].getAttribute("viewport").setValue(c),n+=s;n=0,a+=l}}},ViewportMgr.prototype=new AttributeContainer,ViewportMgr.prototype.constructor=ViewportMgr,ViewportMgr.prototype.initLayout=function(){var t=this.layout.getValueDirect();t&&t.initialize()},ViewportMgr.prototype.layoutDirectives=function(t){var e=this.layout.getValueDirect();e&&e.layoutDirectives(t)},ViewportMgr.prototype.getViewportAtScreenXY=function(t,e){var i=this.width.getValueDirect(),r=this.height.getValueDirect();t=clamp(t,0,i),e=clamp(e,0,r);for(var o,n,a=this.registry.getByType(eAttrType.Camera),s=i,l=r,c=0;c<a.length;c++)a[c].viewport.containsPoint(t,e)&&a[c].viewport.width<=s&&a[c].viewport.height<=l&&(o=a[c],n=a[c].viewport,s=a[c].viewport.width,l=a[c].viewport.height);return{viewport:n,camera:o}},RasterComponentEventListener.prototype=new EventListener,RasterComponentEventListener.prototype.constructor=Command,RasterComponentEventListener.prototype.eventPerformed=function(t){var e=this.enabled.getValueDirect();if(e)for(var i,r,o,n=0;n<this.rcs.length;n++)if(this.isListening(this.rcs[n])){if(r=this.rcsSelectionState[n],i=this.rcs[n].eventPerformed(t),this.styleMgr)if(i)switch(this.styleMgr.eventPerformed(t,this.rcs[n]),t.type){case eEventType.MouseLeftClick:this.isListeningEvent(this.rcs[n],eEventType.ElementFocus)&&this.rcs[n].hasFocus.getValueDirect()<=0&&(this.selectionEvent.synchronize(t),this.selectionEvent.type=eEventType.ElementFocus,o=m_rcs[n].eventPerformed(this.selectionEvent),this.styleMgr.eventPerformed(this.selectionEvent,this.rcs[n]),this.rcs[n].hasFocus.setValueDirect(1));break;case eEventType.MouseMove:this.isListeningEvent(this.rcs[n],eEventType.ElementSelected)&&this.rcs[n].selected.getValueDirect()<=0&&(this.selectionEvent.synchronize(t),this.selectionEvent.type=eEventType.ElementSelected,o=this.rcs[n].eventPerformed(this.selectionEvent),this.styleMgr.eventPerformed(this.selectionEvent,this.rcs[n]),this.rcs[n].selected.setValueDirect(1)),!r&&this.isListeningEvent(this.rcs[n],eEventType.MouseOver)&&(this.selectionEvent.synchronize(t),this.selectionEvent.type=eEventType.MouseOver,o=this.rcs[n].eventPerformed(this.selectionEvent),this.styleMgr.eventPerformed(this.selectionEvent,this.rcs[n]))}else switch(t.type){case eEventType.MouseLeftDown:case eEventType.MouseLeftClick:case eEventType.MouseLeftDblClick:case eEventType.MouseMiddleDown:case eEventType.MouseMiddleClick:case eEventType.MouseMiddleDblClick:case eEventType.MouseRightDown:case eEventType.MouseRightClick:case eEventType.MouseRightDblClick:case eEventType.MouseWheelDown:case eEventType.MouseBothDown:this.isListeningEvent(this.rcs[n],eEventType.ElementBlur)&&this.rcs[n].hasFocus.getValueDirect()>0&&(this.selectionEvent.synchronize(t),this.selectionEvent.type=eEventType.ElementBlur,o=this.rcs[n].eventPerformed(this.selectionEvent),this.styleMgr.eventPerformed(this.selectionEvent,this.rcs[n]),this.rcs[n].hasFocus.setValueDirect(-1));break;case eEventType.MouseMove:this.isListeningEvent(this.rcs[n],eEventType.ElementUnselected)&&this.rcs[n].selected.getValueDirect()>0&&(this.selectionEvent.synchronize(t),this.selectionEvent.type=eEventType.ElementUnselected,o=this.rcs[n].eventPerformed(this.selectionEvent),this.styleMgr.eventPerformed(this.selectionEvent,this.rcs[n]),this.rcs[n].selected.setValueDirect(-1)),r&&this.isListeningEvent(this.rcs[n],eEventType.MouseOut)&&(this.selectionEvent.synchronize(t),this.selectionEvent.type=eEventType.MouseOut,o=this.rcs[n].eventPerformed(this.selectionEvent),this.styleMgr.eventPerformed(this.selectionEvent,this.rcs[n]))}this.rcsSelectionState[n]=i}},RasterComponentEventListener.prototype.registerComponent=function(t,e){if(t)if(e){var i=this.rcs.indexOf(e);0>i&&(i=this.rcs.length),this.rcs.splice(i,0,t),this.rcsSelectionState.splice(i,0,t)}else this.rcs.push(t),this.rcsSelectionState.push(t)},RasterComponentEventListener.prototype.unregisterComponent=function(t){t&&this.rcs.splice(this.rcs.indexOf(t),1)},RasterComponentEventListener.prototype.Listen=function(t){t&&(this.rcListenMap[t]=!0)},RasterComponentEventListener.prototype.Ignore=function(t){t&&(this.rcListenMap[t]=!1)},RasterComponentEventListener.prototype.listenEvent=function(t,e){t&&(void 0==this.rcEventMap[t]&&(this.rcEventMap[t]=new Array),this.rcEventMap[t].push(e))},RasterComponentEventListener.prototype.ignoreEvent=function(t,e){t&&this.rcEventMap[t]&&this.rcEventMap[t].splice(this.rcEventMap[t].indexOf(e),1)},RasterComponentEventListener.prototype.setStyleMgr=function(t){this.styleMgr=t},RasterComponentEventListener.prototype.setSelectionState=function(t,e){this.rcsSelectionState[t]=e},RasterComponentEventListener.prototype.getComponent=function(t){return t<this.rcs.length?this.rcs[t]:null},RasterComponentEventListener.prototype.isListening=function(t){return t&&this.rcListenMap[t]?this.rcListenMap[t]:!1},RasterComponentEventListener.prototype.isListeningEvent=function(t,e){return t&&this.rcEventMap[t]&&this.rcEventMap[t].indexOf(e)>=0?!0:!1};var g_objPosMap={};SerializeCommand.prototype=new Command,SerializeCommand.prototype.constructor=SerializeCommand,SerializeCommand.prototype.execute=function(){this.directive&&this.serializeScene()},SerializeCommand.prototype.serializeScene=function(){var t,e=null,i=new Context;this.serialized='<?xml version="1.0" encoding="UTF-8"?><?bw onload="initialize"?><Session broadcast="false">';var r=bridgeworks.registry;if(r){var o=this.registry.find("AttributeFactory"),n=o.create("Serializer"),a=new XMLSerializer;n.serializeMinimum.setValueDirect(!0);var t,s=r.getObjectCount();for(t=0;s>t;t++)if(e=r.getObject(t))if(e.attrType>eAttrType.DeviceHandler&&e.attrType<eAttrType.DeviceHandler_End){i.attribute=e,n.serialize(i.attribute,i.item,i.attributeName,i.container);var l=a.serializeToString(n.DOM);if("<__InitialRoot/>"==l)continue;this.serialized+=l}else if(e.attrType>eAttrType.Node&&e.attrType<eAttrType.Node_End)0==e.getParentCount()&&(this.directive.execute(e),this.serialized+=this.directive.serialized);else if(e.attrType>eAttrType.Directive&&e.attrType<eAttrType.Directive_End){i.attribute=e,n.serialize(i.attribute,i.item,i.attributeName,i.container);var l=a.serializeToString(n.DOM);if("<__InitialRoot/>"==l)continue;this.serialized+=l}else if("SelectionListener"==e.className){var c=e.getAttribute("computePivotDistance").getValueDirect();this.serialized+='<Set target="Selector" computePivotDistance="',this.serialized+=c?"true":"false",this.serialized+='"/>'}for(t=0;s>t;t++)if(e=r.getObject(t),e&&"DisconnectAttributes"==e.className){i.attribute=e,n.serialize(i.attribute,i.item,i.attributeName,i.container);var l=a.serializeToString(n.DOM);if("<__InitialRoot/>"==l)continue;this.serialized+=l}for(t=0;s>t;t++)if(e=r.getObject(t),e&&e.attrType>eAttrType.Command&&e.attrType<eAttrType.Command_End&&"DisconnectAttributes"!=e.className){i.attribute=e,n.serialize(i.attribute,i.item,i.attributeName,i.container);var l=a.serializeToString(n.DOM);if("<__InitialRoot/>"==l)continue;this.serialized+=l}}this.serialized+="</Session>",serializedScene+=this.serialized},SerializeCommand.prototype.undo=function(){},SerializeCommand.prototype.setRegistry=function(t){var e=bridgeworks.registry.find("AttributeFactory");this.directive=e.create("SerializeDirective"),Command.prototype.setRegistry.call(this,t)},SerializeCommand.prototype.getSerialized=function(){return this.serialized},ScreenCaptureCommand.prototype=new Command,ScreenCaptureCommand.prototype.constructor=ScreenCaptureCommand,ScreenCaptureCommand.prototype.execute=function(){var t=this.registry.find("Bridgeworks");t.eventMgr.addListener(eEventType.RenderBegin,this),t.eventMgr.addListener(eEventType.RenderEnd,this)},ScreenCaptureCommand.prototype.screenCapture=function(t){var e=document.getElementById(t),i=e.toDataURL("image/png");cimageData=i;var r=i.lastIndexOf(",")+1;i=i.substr(r),imgeData=Base64Binary.decode(i)},ScreenCaptureCommand.prototype.get2DElementCanvas=function(t){var e=document.createElement("canvas");e.id="canvas2D",e.width=t.width,e.height=t.height;for(var i=e.getContext("2d"),r=this.registry.getByType(eAttrType.Label),o="black",n="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='"+e.width+"' height='"+e.height+"'><foreignObject width='100%' height='100%'><div xmlns='http://www.w3.org/1999/xhtml' style='background:"+o+";'>",a=0;a<r.length;a++){var s=r[a].htmlLabel.style;n+="<span style='position:absolute; font-family:"+s.fontFamily+"; font-size:"+s.fontSize+"; font-weight:"+s.fontWeight+"; color:"+s.color+"; background-color:"+s.backgroundColor+"; text-shadow:"+s.textShadow+"; visibility:"+s.visibility+"; left:"+s.left+"; top:"+s.top+"; padding-left:"+s.paddingLeft+"; padding-right:"+s.paddingRight+"; padding-top:"+s.paddingTop+"; padding-bottom:"+s.paddingBottom+"; '>"+r[a].text.getValueDirect().join("")+"</span>"}n+="</div></foreignObject></svg>";var l=new Image;return l.src=n,i.fillStyle=o,i.fillRect(0,0,e.width,e.height),i.drawImage(l,0,0),{canvas:e,maskColor:o}},ScreenCaptureCommand.prototype.eventPerformed=function(t){switch(t.type){case eEventType.RenderBegin:var e=this.registry.find("ScreenCaptureRect"),i=this.registry.find("ScreenCaptureTexture");if(e&&i){var r=this.get2DElementCanvas(document.getElementById(this.canvasId.getValueDirect().join("")));i.textureObj.setImageWithCanvas(r.canvas),i.imageSet=!0,e.setTexture(i),e.enabled.setValueDirect(!0)}break;case eEventType.RenderEnd:this.screenCapture(this.canvasId.getValueDirect().join(""));var e=this.registry.find("ScreenCaptureRect");e&&e.enabled.setValueDirect(!1)}},ExportCommand.prototype=new Command,ExportCommand.prototype.constructor=ExportCommand,ExportCommand.prototype.execute=function(){if(this.targetNode){var t=this.url.getValueDirect().join("");switch(getFileExtension(t)){case"stl":this.exportSTL(this.targetNode,t)}}},ExportCommand.prototype.exportSTL=function(t,e){for(var i=t.name.getValueDirect().join(""),r=[],o=[],n=0;n<t.geometry.length;n++){var a=t.geometry[n];switch(a.attrType){case eAttrType.TriList:r=r.concat(a.vertices.getValueDirect()),o=o.concat(a.vertices.getValueDirect())}}if(0!=r.length){for(var s=FLT_MAX,l=FLT_MAX,c=FLT_MAX,n=0;n<r.length;n+=3)s=Math.min(s,r[n]),l=Math.min(l,r[n+1]),c=Math.min(c,r[n+2]);if(0>s){s=Math.abs(s);for(var n=0;n<r.length;n+=3)r[n]+=s}if(0>l){l=Math.abs(l);for(var n=0;n<r.length;n+=3)r[n+1]+=l}if(0>c){c=Math.abs(c);for(var n=0;n<r.length;n+=3)r[n+2]+=c}var h="";h+="solid "+i+"\r\n";for(var d=0,u=0;d<r.length&&u<o.length;d+=9,u+=9)h+="   facet normal "+o[u].toExponential()+" "+o[u+1].toExponential()+" "+o[u+2].toExponential()+"\r\n",h+="      outer loop\r\n",h+="         vertex "+r[d].toExponential()+" "+r[d+1].toExponential()+" "+r[d+2].toExponential()+"\r\n",h+="         vertex "+r[d+3].toExponential()+" "+r[d+4].toExponential()+" "+r[d+5].toExponential()+"\r\n",h+="         vertex "+r[d+6].toExponential()+" "+r[d+7].toExponential()+" "+r[d+8].toExponential()+"\r\n",h+="      endloop\r\n",h+="   end facet\r\n";h+="endsolid "+i;var p=new Blob([h],{type:"text/plain"});saveAs(p,e)}},MorphCommand.prototype=new Command,MorphCommand.prototype.constructor=MorphCommand,MorphCommand.prototype.execute=function(){if(this.sourceModel&&this.targetModel){var t=this.registry.find("ConnectionMgr");t&&t.connectModelsToMorph(this.sourceModel,this.targetModel,this.morphIncr.getValueDirect())}},SnapToCommand.prototype=new Command,SnapToCommand.prototype.constructor=SnapToCommand,SnapToCommand.prototype.execute=function(){this.socketModel&&this.plugModel&&this.snapTo(this.socketModel,this.plugModel)},SnapToCommand.prototype.snapTo=function(t,e){e.setMotionParent(t),e.getAttribute("position").setValueDirect(0,0,0),e.getAttribute("rotation").setValueDirect(0,0,0),e.getAttribute("scale").setValueDirect(1,1,1),zeroInspectionGroup(e);var i=new Matrix4x4,r=this.socketConnector.getAttribute("normal").getValueDirect();r=new Vector3D(r.x,r.y,r.z),r.normalize();var o=this.plugConnector.getAttribute("normal").getValueDirect();o=new Vector3D(o.x,o.y,o.z),o.normalize();var n=crossProduct(r,o),a=cosineAngleBetween(r,o);if(angleBetween=180-toDegrees(Math.acos(a)),angleBetween>0){var s=new Matrix4x4;s.loadRotation(n.x,n.y,n.z,angleBetween),i=s}var l=this.plugConnector.getAttribute("pin1").getAttribute("center").getValueDirect(),c=this.socketConnector.getAttribute("slot1").getAttribute("center").getValueDirect(),h=this.plugConnector.getAttribute("pin2").getAttribute("center").getValueDirect(),d=this.socketConnector.getAttribute("slot2").getAttribute("center").getValueDirect();l=i.transform(l.x,l.y,l.z,1),h=i.transform(h.x,h.y,h.z,1);var u,p;switch(this.slot.getValueDirect()){case 1:u=new Vector3D(h.x-l.x,h.y-l.y,h.z-l.z),p=new Vector3D(d.x-c.x,d.y-c.y,d.z-c.z);break;case 2:u=new Vector3D(l.x-h.x,l.y-h.y,l.z-h.z),p=new Vector3D(c.x-d.x,c.y-d.y,c.z-d.z);break;default:return}if(a=cosineAngleBetween(u,p),angleBetween=toDegrees(Math.acos(a)),angleBetween>0){var s=new Matrix4x4;s.loadRotation(o.x,o.y,o.z,angleBetween),i=i.multiply(s)}var f=i.getRotationAngles();e.getAttribute("rotation").setValueDirect(f.x,f.y,f.z);var _,m;switch(this.slot.getValueDirect()){case 1:_=this.plugConnector.getAttribute("pin1").getAttribute("center").getValueDirect(),m=this.socketConnector.getAttribute("slot1").getAttribute("center").getValueDirect();break;case 2:_=this.plugConnector.getAttribute("pin2").getAttribute("center").getValueDirect(),m=this.socketConnector.getAttribute("slot2").getAttribute("center").getValueDirect();break;default:return}_=i.transform(_.x,_.y,_.z,1),e.getAttribute("sectorPosition").setValueDirect(m.x-_.x,m.y-_.y,m.z-_.z)};var eLWObjectTokens={COLR:1129270354,DIFF:1145652806,LUMI:1280658761,SPEC:1397769539,TRAN:1414676814};LWObjectHandler.prototype=new ContentHandler,LWObjectHandler.prototype.constructor=LWObjectHandler,LWObjectHandler.prototype.addObjectHandler=function(t,e){this.lwo2DataHandlers.push(t),this.lwo2DataHandlersData.push(e)},LWObjectHandler.prototype.parseFileStream=function(t){var e=formFullPath(t,this.contentDirectory.getValueDirect().join("")),i=loadBinaryResource(e);if(null==i)return-2;var r=new BinaryParser(i,!0);if(70!=r.readUInt8()||79!=r.readUInt8()||82!=r.readUInt8()||77!=r.readUInt8())return-1;var o=r.readUInt32();if(76!=r.readUInt8()||87!=r.readUInt8()||79!=r.readUInt8()||50!=r.readUInt8())return-1;o-=4;var n=new LWO2Data;n.contentDir=this.contentDirectory.getValueDirect().join("");var a=t.lastIndexOf("/"),s=t.lastIndexOf(".");for(n.name=t.substring(a+1,s);o>0;)o-=this.parseChunk(r,n);for(var l=0;l<this.lwo2DataHandlers.length;l++)this.lwo2DataHandlers[l](n,this.lwo2DataHandlersData[l]);return 0},LWObjectHandler.prototype.parseChunk=function(t,e){var i=0,r=t.readUInt32(),o=t.readUInt32();switch(r){case 1279351122:var n=t.readUInt16();i+=2;var a=t.readUInt16();i+=2;var s=t.readFloat32();i+=4;var l=t.readFloat32();i+=4;var c=t.readFloat32();i+=4;var h=this.readString(t);if(i+=h.bytesRead,o>i){{t.readUInt16()}i+=2}e.addLayer(n),e.currentLayer().name=h.string,e.currentLayer().pivot.x=s,e.currentLayer().pivot.y=l,e.currentLayer().pivot.z=c;break;case 1347310675:for(var d=o/12,u=0;d>u;u++){var s=t.readFloat32();i+=4;var l=t.readFloat32();i+=4;var c=t.readFloat32();i+=4,e.currentLayer().pnts[u]=new Vector3D,e.currentLayer().pnts[u].x=s,e.currentLayer().pnts[u].y=l,e.currentLayer().pnts[u].z=c}break;case 1347374163:var p=t.readUInt32();i+=4;for(var a,f;o>i;){var _=[];a=t.readUInt16(),i+=2,f=1023&a;for(var u=0;f>u;u++){var m=this.readVariableLengthIndex(t);i+=m.bytesRead,_.push(m.index)}e.currentLayer().pols.push(_)}break;case 1413564243:for(;o>i;){var g=this.readString(t);i+=g.bytesRead,e.tags.push(g.string)}break;case 1347699015:var p=t.readUInt32();for(i+=4;o>i;){var y=new LWO2PTAGData,m=this.readVariableLengthIndex(t);switch(i+=m.bytesRead,y.poly=m.index,y.tag=t.readUInt16(),i+=2,p){case 1398100550:e.currentLayer().putPtag(y),e.currentLayer().ptagsSURFMaxIndex=Math.max(y.tag,e.currentLayer().ptagsSURFMaxIndex)}}break;case 1447903568:var p=t.readUInt32();i+=4;var b=t.readUInt16();i+=2;var h=this.readString(t);i+=h.bytesRead;for(var v,M,S;o>i;){var m=this.readVariableLengthIndex(t);switch(i+=m.bytesRead,p){case 1415075158:v=t.readFloat32(),i+=4,M=t.readFloat32(),i+=4;var x=new LWO2VMAPData;x.vertex=m.index,x.u=v,x.v=M,e.currentLayer().putVmap("TXUV",h.string,x);break;default:for(var u=0;b>u;u++)S=t.readFloat32(),i+=4}}break;case 1447903556:var p=t.readUInt32();i+=4;var b=t.readUInt16();i+=2;var h=this.readString(t);i+=h.bytesRead;for(var v,M,S;o>i;){var T=this.readVariableLengthIndex(t);i+=T.bytesRead;var E=this.readVariableLengthIndex(t);switch(i+=E.bytesRead,p){case 1415075158:v=t.readFloat32(),i+=4,M=t.readFloat32(),i+=4;var C=new LWO2VMADData;C.vertex=T.index,C.poly=E.index,C.u=v,C.v=M,e.currentLayer().putVmad("TXUV",h.string,C);break;default:for(var u=0;b>u;u++)S=t.readFloat32(),i+=4}}break;case 1398100550:var h=this.readString(t);i+=h.bytesRead;var A=this.readString(t);for(i+=A.bytesRead,e.addSurface(h.string,A.string);o>i;)i+=this.parseSubChunk(t,e);break;case 1129072976:var m=t.readUInt32();for(i+=4,e.addClip(m),e.subChunkContext=r;o>i;)i+=this.parseSubChunk(t,e);break;case 1162761804:var m=this.readVariableLengthIndex(t);for(i+=m.bytesRead,e.addEnvelope(m.index);o>i;)i+=this.parseSubChunk(t,e);break;default:for(;o>i;)t.readUInt8(),i++}return 1&o&&(t.readUInt8(),i++),i+=8},LWObjectHandler.prototype.parseSubChunk=function(t,e){var i=0,r=t.readUInt32();i+=4;var o=t.readUInt16();switch(i+=2,r){case 1129270354:if(e.currentSurface().color.x=t.readFloat32(),i+=4,e.currentSurface().color.y=t.readFloat32(),i+=4,e.currentSurface().color.z=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1145652806:if(e.currentSurface().diffuseLevel=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1280658761:if(e.currentSurface().luminosityLevel=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1397769539:if(e.currentSurface().specularLevel=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1414676814:if(e.currentSurface().transparencyLevel=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1196183379:if(e.currentSurface().glossiness=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1397310533:e.currentSurface().doubleSided=3==t.readUInt16()?!0:!1,i+=2;break;case 1397571918:e.currentSurface().smoothingAngle=t.readFloat32(),i+=4;break;case 1398032716:case 1095649613:case 1230194001:var a=this.readString(t);for(i+=a.bytesRead;o>i-6;)t.readUInt8(),i+=1;e.currentClip().type=r,e.currentClip().setFilename(a.string);break;case 1313163073:var s=t.readUInt16();i+=2,"IMAP"==e.subChunkContext?e.currentSurface().currentBlock().negative=s:"CLIP"==e.subChunkContext&&(e.currentClip().negative=s);break;case 1112297291:e.currentSurface().addBlock();break;case 1229799760:var l=this.readString(t);i+=l.bytesRead,e.currentSurface().currentBlock().type="IMAP",e.currentSurface().currentBlock().ordinal=l.string,e.subChunkContext="IMAP";break;case 1128808782:var c=t.readUInt32();i+=4,"IMAP"==e.subChunkContext&&(e.currentSurface().currentBlock().channel=c);break;case 1162756418:e.currentSurface().currentBlock().enable=t.readUInt16(),i+=2;break;case 1330659651:if(e.currentSurface().currentBlock().opacityType=t.readUInt16(),i+=2,e.currentSurface().currentBlock().opacity=t.readFloat32(),i+=4,o>i-6){var h=this.readVariableLengthIndex(t);i+=h.bytesRead,e.currentSurface().currentBlock().opacityEnvelope=h.index}break;case 1414349136:break;case 1129206866:for(e.currentSurface().currentBlock().center.x=t.readFloat32(),i+=4,e.currentSurface().currentBlock().center.y=t.readFloat32(),i+=4,e.currentSurface().currentBlock().center.z=t.readFloat32(),i+=4;o>i-6;){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1397316165:for(e.currentSurface().currentBlock().size.x=t.readFloat32(),i+=4,e.currentSurface().currentBlock().size.y=t.readFloat32(),i+=4,e.currentSurface().currentBlock().size.z=t.readFloat32(),i+=4;o>i-6;){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1129535827:e.currentSurface().currentBlock().coordSys=t.readUInt16(),i+=2;break;case 1347571530:e.currentSurface().currentBlock().projMode=t.readUInt16(),i+=2;break;case 1096304979:var d=t.readUInt16();i+=2,"IMAP"==e.subChunkContext&&(e.currentSurface().currentBlock().axis=d);break;case 1229799751:var u=this.readVariableLengthIndex(t);i+=u.bytesRead,e.currentSurface().currentBlock().imageIndex=u.index;break;case 1465008464:e.currentSurface().currentBlock().widthWrap=t.readUInt16(),i+=2,e.currentSurface().currentBlock().heightWrap=t.readUInt16(),i+=2;break;case 1465012311:if(e.currentSurface().currentBlock().widthWrapAmt=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1465012296:if(e.currentSurface().currentBlock().heightWrapAmt=t.readFloat32(),i+=4,o>i-6){var n=this.readVariableLengthIndex(t);i+=n.bytesRead}break;case 1447903568:var p=this.readString(t);i+=p.bytesRead,e.currentSurface().currentBlock().uvMapName=p.string;break;case 1415139397:e.currentEnvelope().userFormat=t.readUInt8(),i+=1,e.currentEnvelope().type=t.readUInt8(),i+=1;break;case 1347568928:e.currentEnvelope().preBehavior=t.readUInt16(),i+=2;break;case 1347375956:e.currentEnvelope().postBehavior=t.readUInt16(),i+=2;break;default:for(;o>i-6;)t.readUInt8(),i+=1}return 1&o&&(t.readUInt8(),i+=1),i},LWObjectHandler.prototype.readString=function(t){var e="",i=0,r=0;do i=t.readUInt8(),r++,e+=String.fromCharCode(i);while(i);return 1&r&&(t.readUInt8(),r++),{string:e,bytesRead:r}},LWObjectHandler.prototype.readVariableLengthIndex=function(t){var e=0,i=new Array(4),r=0;return i[0]=t.readUInt8(),r++,i[1]=t.readUInt8(),r++,i[0]<65280?e=i[0]<<8|i[1]:(i[2]=t.readUInt8(),r++,i[3]=t.readUInt8(),r++,e=i[1]<<16|i[2]<<8|i[3]),{index:e,bytesRead:r}},LWObjectHandler.prototype.matchesType=function(t){return"lwo"==t},LWObjectBuilder.prototype=new ContentBuilder,LWObjectBuilder.prototype.constructor=LWObjectBuilder,LWObjectBuilder.prototype.visitHandler=function(t){t.addObjectHandler(LWObjectBuilder_ObjectHandler,this)},LWObjectBuilder.prototype.finalize=function(){},LWObjectBuilder.prototype.matchesType=function(t){return"lwo"==t},LWObjectBuilder.prototype.allocateModel=function(t){var e=null,i=this.layer;if(0==i)for(var r=0;r<t.layers.length;r++){if(this.models[0])e=this.models[0];else{var o=this.registry.find("AttributeFactory");e=o.create("Model"),this.models.push(e)}this.describeModel(t,t.layers[r],e)}else if(i<=t.layers.length){if(this.models[0])e=this.models[0];else{var o=this.registry.find("AttributeFactory");e=o.create("Model"),this.models.push(e)}this.describeModel(t,t.layers[i-1],e)}},LWObjectBuilder.prototype.describeModel=function(t,e,i){var r=this.registry.find("AttributeFactory"),o=i.getAttribute("name");if(0==o.modificationCount){var n=t.name;t.layers.length>1&&(n+=":Layer"+this.layer),o.setValueDirect(n)}var a=i.getAttribute("pivot");0==a.modificationCount&&a.setValue(e.pivot.v());for(var s=e.ptagsSURFMaxIndex+1,l=new Array(s),c=new Array(s),h=new Array(s),d=new Array(s),u=0;s>u;u++)l[u]=[],c[u]=[],h[u]=[],d[u]=[];for(var p,f,_=e.ptagsSURF.length,m=0;_>m;m++)switch(p=e.ptagsSURF[m].poly,f=e.ptagsSURF[m].tag,e.pols[p].length){case 3:l[f].push(p);break;case 2:c[f].push(p);break;case 1:h[f].push(p);break;default:d[f].push(p)}for(var g=new Array(s),f=0;s>f;f++)g[f]=this.allocateSurface(t,e,f),i.addSurface(g[f]);for(var y=new Array(3*e.pnts.length),b=0;b<e.pnts.length;b++)y[3*b]=e.pnts[b].x,y[3*b+1]=e.pnts[b].y,y[3*b+2]=e.pnts[b].z;i.getAttribute("vertices").setValue(y);var v=[],M=[],S=[],x=[],T=[],E=[],C=[],A=[],w=new Vector3D,R=new Vector3D;v.length=e.pnts.length;for(var u=0;u<v.length;u++)v[u]=[];M.length=s,S.length=s,x.length=s,T.length=s,E.length=s,C.length=s,A.length=s;for(var f=0;f<g.length;f++){var D=[],P=[];M[f]=[],S[f]=[],x[f]=new Pair,x[f].first=x[f].second=0,T[f]=[],A[f]=[];for(var B=d[f],V=B.length,p=0;V>p;p++){for(var L=new JSM.Polygon,k=e.pols[B[p]],H=0;H<k.length;H++){var I=e.pnts[k[H]];D.push([I.x,I.y,I.z]),L.AddVertex(I.x,I.y,I.z)}for(var O=JSM.PolygonTriangulate(L),u=0;u<O.length;u++){var J=[];J.push(k[O[u][0]]),J.push(k[O[u][1]]),J.push(k[O[u][2]]),e.pols.push(J),l[f].push(e.pols.length-1)}}D=[],B=l[f],V=B.length;for(var p=0;V>p;p++){for(var k=e.pols[B[p]],H=0;3>H;H++){var I=e.pnts[k[H]];D.push(I.x),D.push(I.y),D.push(I.z),S[f].push(k[H]),x[f].first=Math.min(k[H],x[f].first),x[f].second=Math.min(k[H],x[f].second),T[f].push(B[p])}var N=k[0],F=k[1],G=k[2],z=e.pnts[N],j=e.pnts[F],U=e.pnts[G];w.load(j.x-z.x,j.y-z.y,j.z-z.z),R.load(U.x-z.x,U.y-z.y,U.z-z.z);var W=crossProduct(w,R);W.normalize(),P.push(W.x),P.push(W.y),P.push(W.z),P.push(W.x),P.push(W.y),P.push(W.z),P.push(W.x),P.push(W.y),P.push(W.z),M[f].push(new Pair(N,W)),M[f].push(new Pair(F,W)),M[f].push(new Pair(G,W)),v[N].push(W),v[F].push(W),v[G].push(W),A[f].push(W),A[f].push(W),A[f].push(W)}if(D.length){var X=r.create("TriList");i.addGeometry(X,S[f],g[f]),X.getAttribute("vertices").setValue(D),X.getAttribute("normals").setValue(P),E[f]=X,C[f]=D}D=[],B=c[f],V=B.length;for(var p=0;V>p;p++){var k=e.pols[p];if(!(k.length<2))for(var H=0;2>H;H++){var I=e.pnts[k[H]];D.push(I.x),D.push(I.y),D.push(I.z)}}if(D.length){var q=r.create("LineList");i.addGeometry(q,null,g[f]),q.getAttribute("vertices").setValue(D)}D=[],B=h[f],V=B.length;for(var p=0;V>p;p++){var k=e.pols[p],I=e.pnts[k[0]];D.push(I.x),D.push(I.y),D.push(I.z)}if(D.length){var K=r.create("PointList");
i.addGeometry(K,null,g[f]),K.getAttribute("vertices").setValue(D)}}for(var Y=[],f=0;f<g.length;f++)if(E[f]){var Q=t.getSurface(t.tags[f]);if(Q){var Z=Q.smoothingAngle;if(!(0>=Z)){{Math.cos(Z)}Y.length=M[f].length;for(var u=0;u<Y.length;u++)Y[u]=new Vector3D;for(var $=0;$<M[f].length;$++){for(var te=M[f][$].first,ee=M[f][$].second,ie=0;ie<v[te].length;ie++){var re=v[te][ie],oe=cosineAngleBetween(ee,re);Math.acos(oe)<=Z&&(Y[$].x+=re.x,Y[$].y+=re.y,Y[$].z+=re.z)}Y[$].normalize()}for(var ne=[],u=0;u<Y.length;u++)ne.push(Y[u].x),ne.push(Y[u].y),ne.push(Y[u].z);Y.length=0,E[f].getAttribute("normals").setValue(ne)}}}for(var f=0;f<g.length;f++){var ae=t.getSurface(g[f].getAttribute("name").getValueDirect().join(""));if(ae)for(var se=this.loadTextures(t,e,ae,g[f]),u=0;u<se.length;u++){var le=this.calculateTextureCoords(t,e,se[u].second,C[f],A[f],S[f],T[f]);le&&E[f].getUVCoords(se[u].first).setValueDirect(le)}}},LWObjectBuilder.prototype.allocateSurface=function(t,e,i){var r=this.registry.find("AttributeFactory");surface=r.create("Surface");var o=t.tags[i];return surface.getAttribute("name").setValueDirect(o),this.describeSurface(t.getSurface(o),surface),surface},LWObjectBuilder.prototype.describeSurface=function(t,e){if(t){var i=[];i.push(t.color.x),i.push(t.color.y),i.push(t.color.z),i.push(1),e.getAttribute("color").setValue(i),e.getAttribute("ambientLevel").setValueDirect(t.diffuseLevel),e.getAttribute("diffuseLevel").setValueDirect(t.diffuseLevel),e.getAttribute("specularLevel").setValueDirect(t.specularLevel),e.getAttribute("emissiveLevel").setValueDirect(t.luminosityLevel),e.getAttribute("glossiness").setValueDirect(t.glossiness),e.getAttribute("opacity").setValueDirect(1-t.transparencyLevel),e.getAttribute("doubleSided").setValueDirect(t.doubleSided?!0:!1)}},LWObjectBuilder.prototype.loadTextures=function(t,e,i,r){for(var o=[],n=[],a=0;a<i.blocks.length;a++){var s=i.blocks[a];"IMAP"==s.type&&(n[s.channel]||(n[s.channel]=[]),n[s.channel].push(s))}return n[eLWObjectTokens.COLR]&&this.allocateTextures(eTextureType.Color,t,e,n[eLWObjectTokens.COLR],r,o),n[eLWObjectTokens.DIFF]&&this.allocateTextures(eTextureType.Diffuse,t,e,n[eLWObjectTokens.DIFF],r,o),n[eLWObjectTokens.LUMI]&&this.allocateTextures(eTextureType.Luminosity,t,e,n[eLWObjectTokens.LUMI],r,o),n[eLWObjectTokens.SPEC]&&this.allocateTextures(eTextureType.Specular,t,e,n[eLWObjectTokens.SPEC],r,o),n[eLWObjectTokens.TRAN]&&this.allocateTextures(eTextureType.Transparency,t,e,n[eLWObjectTokens.TRAN],r,o),o},LWObjectBuilder.prototype.allocateTextures=function(t,e,i,r,o,n){for(var a=0;a<r.length;a++){var s=r[a];if(0==s.opacityType||7==s.opacityType){var l=e.clips[s.imageIndex];if(l){var c=null;a+1<r.length&&5==r[a+1].opacityType&&(c=e.clips[r[a+1].imageIndex]);var h,d;switch(s.widthWrap){case 0:h=eTextureWrap.None;break;case 1:h=eTextureWrap.Repeat;break;case 2:h=eTextureWrap.Mirror;break;case 3:h=eTextureWrap.Clamp}switch(s.heightWrap){case 0:d=eTextureWrap.None;break;case 1:d=eTextureWrap.Repeat;break;case 2:d=eTextureWrap.Mirror;break;case 3:d=eTextureWrap.Clamp}var u=l.getFilename(),p=u.lastIndexOf("/");u=-1===p?u:u.substring(p+1);var f=e.contentDir+"images/"+u,_=s.negative?!0:!1;!this.invertAlpha||t!=eTextureType.Transparency&&t!=eTextureType.Diffuse&&t!=eTextureType.Luminosity&&t!=eTextureType.Specularity||(_=!_);var m=!1;c&&(m=r[a+1].negative?!0:!1,this.invertAlpha&&(m=!m));var g=null,y=this.registry.find("AttributeFactory");g=y.create("MediaTexture"),g.getAttribute("name").setValueDirect(""),g.getAttribute("textureType").setValueDirect(t),g.getAttribute("opacity").setValueDirect(s.opacity),g.getAttribute("widthWrap").setValueDirect(h),g.getAttribute("heightWrap").setValueDirect(d),g.getAttribute("mipmappingEnabled").setValueDirect(!1),g.getAttribute("imageFilename").setValueDirect(f),g.getAttribute("negateImage").setValueDirect(_),g.getAttribute("negateAlpha").setValueDirect(m),c&&g.getAttribute("alphaFilename").setValueDirect(e.contentDir+c.getFilename()),n.push(new Pair(g,s)),o.addTexture(g)}}}},LWObjectBuilder.prototype.calculateTextureCoords=function(t,e,i,r,o,n,a){if(!(t&&e&&i&&r&&o&&n&&a))return null;var s=[],l=r.length/3;switch(i.projMode){case 0:case 1:case 2:var c,h,d;for(c=0,h=0,d=0;l>c;c++,h+=3,d+=2)d=this.mapXYZtoUV(r[h],r[h+1],r[h+2],i.center,i.size,i.projMode,i.axis,i.widthWrapAmt,i.heightWrapAmt),s.push(d.u),s.push(d.v);break;case 3:var c,h,d;for(c=0,h=0,d=0;l>c;c++,h+=3,d+=2)polyNormal=o[c],axis=Math.acos(cosineAngleBetween(polyNormal,new Vector3D(1,0,0)))<=QUARTERPI||Math.acos(cosineAngleBetween(polyNormal,new Vector3D(-1,0,0)))<=QUARTERPI?0:Math.acos(cosineAngleBetween(polyNormal,new Vector3D(0,1,0)))<=QUARTERPI||Math.acos(cosineAngleBetween(polyNormal,new Vector3D(0,-1,0)))<=QUARTERPI?1:2,d=this.mapXYZtoUV(r[h],r[h+1],r[h+2],i.center,i.size,0,axis,i.widthWrapAmt,i.heightWrapAmt),s.push(d.u),s.push(d.v);break;case 5:var c,u,p,d,f,_=e.getVmap("TXUV",i.uvMapName),m=e.getVmad("TXUV",i.uvMapName);for(c=0,d=0;l>c;c++,d+=2){if(u=n[c],p=a[c],f=!1,m&&m.length){for(var g=0;g<m.length&&!(m[g].poly>p);g++)if(m[g].poly==p&&m[g].vertex==u){s[d]=m[g].u,s[d+1]=m[g].v,f=!0;break}if(f)continue}if(_&&_.length)for(var y=0;y<_.length&&!(_[y].vertex>u);y++)if(_[y].vertex==u){s[d]=_[y].u,s[d+1]=_[y].v,f=!0;break}f||(s[d]=0,s[d+1]=0)}}return s},LWObjectBuilder.prototype.mapXYZtoUV=function(t,e,i,r,o,n,a,s,l){var c,h,d=0,u=0;switch(n){case 0:switch(a){case 0:d=(i-r.z)/o.z+.5,u=(e-r.y)/o.y+.5;break;case 1:d=(t-r.x)/o.x+.5,u=(i-r.z)/o.z+.5;break;case 2:default:d=(t-r.x)/o.x+.5,u=(e-r.y)/o.y+.5}break;case 1:switch(t-=r.x,e-=r.y,i-=r.z,a){case 0:c=XYZtoH(i,t,e),d=c/(TWOPI*s),u=t/o.x+.5;break;case 1:c=XYZtoH(t,e,i),d=c/(TWOPI*s),u=e/o.y+.5;break;case 2:default:c=XYZtoH(-t,i,-e),d=c/(TWOPI*s),u=-i/o.z+.5}d=modf(d).fractionalPart,0>d&&(d+=1);break;case 2:switch(t-=r.x,e-=r.y,i-=r.z,a){case 0:var p=XYZtoHP(i,t,-e);c=p.heading,h=p.pitch;break;case 1:var p=XYZtoHP(-t,e,i);c=p.heading,h=p.pitch;break;case 2:default:var p=XYZtoHP(-t,i,-e);c=p.heading,h=p.pitch}d=modf(1-c/TWOPI*s).fractionalPart,u=1-modf(.5-h/Math.PI*l).fractionalPart}return{u:d,v:u}},LWSceneHandler.prototype=new ContentHandler,LWSceneHandler.prototype.constructor=LWSceneHandler,LWSceneHandler.prototype.addTokenHandler=function(t,e){this.tokenHandlers.push(t),this.tokenHandlersData.push(e)},LWSceneHandler.prototype.parseFileStream=function(t){var e=formFullPath(t,this.contentDirectory.getValueDirect().join("")),i=loadTextResource(e);if(null==i)return-2;for(var r,o=new TextParser(i);r=o.readLineTokens();)if(0!=r.length){-1!=r[0].indexOf('"')&&(r.push(r[0].substring(1,r[0].length-1)),r[0]="String");for(var n=0;n<this.tokenHandlers.length;n++)this.tokenHandlers[n](r,this.tokenHandlersData[n])}for(var n=0;n<this.tokenHandlers.length;n++)this.tokenHandlers[n](new Array("EOF"),this.tokenHandlersData[n])},LWSceneBuilder.prototype=new ContentBuilder,LWSceneBuilder.prototype.constructor=LWSceneBuilder,LWSceneBuilder.prototype.visitHandler=function(t){t.addTokenHandler(LWSceneBuilder_TokenHandler,this)},LWSceneBuilder.prototype.finalize=function(){},LWSceneBuilder.prototype.matchesType=function(t){return"lws"==t||"mot"==t},LWSceneBuilder.prototype.handleToken=function(t,e){switch(t){case"LWSC":this.handleSceneToken(e);break;case"LWMO":this.handleMotionToken(e);break;default:this.handleCommandToken(t,e)}},LWSceneBuilder.prototype.handleSceneToken=function(){this.allocateSceneGraph()},LWSceneBuilder.prototype.handleMotionToken=function(){},LWSceneBuilder.prototype.handleCommandToken=function(t,e){this.allocateSceneElement(t,e)},LWSceneBuilder.prototype.allocateSceneGraph=function(){return this.root=this.factory.create("Isolator"),this.root.name.setValueDirect("Root"),this.root.isolateLights.setValueDirect(!0),this.registry.rootPtr.setValueDirect(this.root),this.evaluatorsGroup=this.factory.create("Group"),this.evaluatorsGroup.name.setValueDirect("Evaluators"),this.root.addChild(this.evaluatorsGroup),this.camerasSelector=this.factory.create("Selector"),this.camerasSelector.name.setValueDirect("Cameras"),this.camerasSelector.selectee.setValueDirect(0),this.root.addChild(this.camerasSelector),this.lightsGroup=this.factory.create("Group"),this.lightsGroup.name.setValueDirect("Lights"),this.root.addChild(this.lightsGroup),this.modelsGroup=this.factory.create("Group"),this.modelsGroup.name.setValueDirect("Models"),this.root.addChild(this.modelsGroup),this.renderDirective=this.factory.create("RenderDirective"),this.renderDirective.name.setValueDirect("RenderDirective"),this.renderDirective.rootNode.setValueDirect(this.root),!0},LWSceneBuilder.prototype.allocateSceneElement=function(t,e){switch(t){case"LoadObjectLayer":var i=this.factory.create("Model");this.currElement=i;var r=e[0];i.layer.setValueDirect(r);var o=e.slice(1).join();o=addSlashAfterDriveSpecifier(o),i.url.setValueDirect(o),i.disableOnDissolve.setValueDirect(!1),this.models.push(i),this.modelsGroup.addChild(i),finalizeModel(i,this.factory),this.objectBones.push(new Array);break;case"ObjectMotion":var n=this.factory.create("KeyframeInterpolator");n.name.setValueDirect("Motion"),this.evaluators.push(n),this.evaluatorsGroup.addChild(n);break;case"NumChannels":if(this.evaluators.length>0){var n=this.evaluators[this.evaluators.length-1],a=parseInt(e[0]);this.initializeKeyframeInterpolator(n,a);var s=this.currElement||this.registry.find(n.getAttribute("target").getValueDirect().join(""));if(s)switch(a){case 1:this.attachDissolveInterpolator(n,s);break;default:this.attachKeyframeInterpolator(n,s)}}break;case"Channel":this.currChannel=parseInt(e[0]);break;case"Key":if(this.evaluators.length>0){for(var n=this.evaluators[this.evaluators.length-1],l=n.channels.getAt(this.currChannel),c=new KeyframeAttr,h=0;h<e.length;h++)switch(h){case 0:var d=parseFloat(e[h]);(3==this.currChannel||4==this.currChannel||5==this.currChannel)&&(d=toDegrees(d)),c.value.setValueDirect(d);break;case 1:c.time.setValueDirect(parseFloat(e[h]));break;case 2:var u=parseInt(e[h]);switch(u){case 0:c.shape.setValueDirect(eKeyframeShape.TCB);break;case 1:c.shape.setValueDirect(eKeyframeShape.Hermite);break;case 2:c.shape.setValueDirect(eKeyframeShape.Bezier1D);break;case 3:c.shape.setValueDirect(eKeyframeShape.Linear);break;case 4:c.shape.setValueDirect(eKeyframeShape.Stepped);break;case 5:c.shape.setValueDirect(eKeyframeShape.Bezier2D);break;default:c.shape.setValueDirect(eKeyframeShape.Linear)}break;case 3:case 4:case 5:case 6:case 7:case 8:c.params.getAt(h-3).setValueDirect(parseFloat(e[h]))}l.push_back(c)}break;case"Behaviors":if(this.evaluators.length>0){var n=this.evaluators[this.evaluators.length-1];n.preBehaviors.getAt(this.currChannel).setValueDirect(parseInt(e[0])),n.postBehaviors.getAt(this.currChannel).setValueDirect(parseInt(e[1]))}break;case"ObjectDissolve":if("(envelope)"==e[0]){var n=this.factory.create("KeyframeInterpolator");n.name.setValueDirect("Dissolve"),this.initializeKeyframeInterpolator(n,1),this.attachDissolveInterpolator(n,this.models[this.models.length-1]),this.evaluators.push(n),this.evaluatorsGroup.addChild(n)}else this.models.length>0&&this.models[this.models.length-1].dissolve.setValueDirect(parseFloat(e[0]));break;case"AddCamera":var p=this.factory.create("PerspectiveCamera");this.currElement=p,this.cameras.push(p),this.camerasSelector.addChild(p);break;case"CameraName":this.cameras.length>0&&this.cameras[this.cameras.length-1].name.setValueDirect(e[0]);break;case"CameraMotion":var n=this.factory.create("KeyframeInterpolator");n.name.setValueDirect("Motion"),this.evaluators.push(n),this.evaluatorsGroup.addChild(n);break;case"ZoomFactor":this.cameras.length>0&&this.cameras[this.cameras.length-1].zoom.setValueDirect(parseFloat(e[0]));break;case"AmbientColor":this.ambientLightDesc.colorR=parseFloat(e[0]),this.ambientLightDesc.colorG=parseFloat(e[1]),this.ambientLightDesc.colorB=parseFloat(e[2]);break;case"AmbientIntensity":var f=this.factory.create("GlobalIllumination");f.name.setValueDirect("GLight");var _=parseFloat(e[0]);f.ambient.setValueDirect(this.ambientLightDesc.colorR*_,this.ambientLightDesc.colorG*_,this.ambientLightDesc.colorB*_,1),this.lightsGroup.addChild(f);break;case"GlobalLightIntensity":this.globalLightDesc.intensity=parseFloat(e[0]);break;case"AddLight":var m=new TLWSCv3LightDesc;m.range=Math.sqrt(FLT_MAX),this.lightDescs.push(m),this.currElement=null;break;case"LightName":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].name=e[0]);break;case"LightMotion":var n=this.factory.create("KeyframeInterpolator");n.name.setValueDirect("Motion"),this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].motion=n),this.evaluators.push(n),this.evaluatorsGroup.addChild(n);break;case"LightColor":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].colorR=parseFloat(e[0]),this.lightDescs[this.lightDescs.length-1].colorG=parseFloat(e[1]),this.lightDescs[this.lightDescs.length-1].colorB=parseFloat(e[2]));break;case"LightIntensity":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].intensity=parseFloat(e[0]));break;case"LightRange":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].range=parseFloat(e[0]));break;case"LightConeAngle":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].coneAngle=parseFloat(e[0]));break;case"LightEdgeAngle":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].edgeAngle=parseFloat(e[0]));break;case"LightType":this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].type=parseInt(e[0]));break;case"AddNullObject":var g=this.factory.create("NullObject");this.currElement=g,this.models.push(g),this.modelsGroup.addChild(g),e[0]&&g.name.setValueDirect(e[0]);break;case"PivotPosition":this.currElement&&this.currElement.pivot.setValueDirect(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]));break;case"BoneFalloffType":this.boneFalloffType=parseInt(e[0]);break;case"AddBone":var y=this.factory.create("Bone");y.falloffType.setValueDirect(this.boneFalloffType),this.currElement=y,this.bones.push(y),this.objectBones[this.objectBones.length-1].push(y);break;case"BoneName":var y=this.bones.length>0?this.bones[this.bones.length-1]:null;if(y){for(var b=0,h=0;h<this.bones.length;h++)e[0]==this.bones[h].name.getValueDirect().join("")&&b++;b>0&&(e[0]+="("+b+"1)"),y.name.setValueDirect(e[0])}break;case"BoneRestPosition":var y=this.bones.length>0?this.bones[this.bones.length-1]:null;y&&y.restPosition.setValueDirect(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]));break;case"BoneRestDirection":var y=this.bones.length>0?this.bones[this.bones.length-1]:null;y&&y.restRotation.setValueDirect(parseFloat(e[1]),parseFloat(e[0]),parseFloat(e[2]));break;case"BoneRestLength":var y=this.bones.length>0?this.bones[this.bones.length-1]:null;y&&y.restLength.setValueDirect(parseFloat(e[0]));break;case"BoneStrength":var y=this.bones.length>0?this.bones[this.bones.length-1]:null;y&&y.strength.setValueDirect(parseFloat(e[0]));break;case"BoneScaleBoneStrength":var y=this.bones.length>0?this.bones[this.bones.length-1]:null;y&&y.scaleBoneStrength.setValueDirect(parseFloat(e[0]));break;case"BoneMotion":var n=this.factory.create("KeyframeInterpolator");n.name.setValueDirect("Motion"),this.bones.length>0&&(this.bones[this.bones.length-1].motion=n),this.evaluators.push(n),this.evaluatorsGroup.addChild(n);break;case"ParentItem":this.currElement?this.parentItems.push(new Pair(this.currElement,e[0])):this.lightDescs.length>0&&(this.lightDescs[this.lightDescs.length-1].parentItem=e[0]);case"GridSize":this.sceneData.gridSize=parseFloat(e[0]);case"NearClipDistance":this.cameras.length>0&&this.cameras[this.cameras.length-1].nearDistance.setValueDirect(parseFloat(e[0]));break;case"FramesPerSecond":this.sceneData.fps=parseFloat(e[0]);break;case"BackdropColor":this.sceneData.backgroundColorR=parseFloat(e[0]),this.sceneData.backgroundColorG=parseFloat(e[1]),this.sceneData.backgroundColorB=parseFloat(e[2]);break;case"}":this.currChannel=0,""!=this.imagePath&&(this.parsingBgImage?(this.renderDirective.backgroundImageFilename.setValueDirect(this.imagePath),this.parsingBgImage=!1):this.parsingFgImage?(this.renderDirective.foregroundImageFilename.setValueDirect(this.imagePath),this.parsingFgImage=!1):this.parsingFgAlphaImage&&(this.renderDirective.foregroundAlphaImageFilename.setValueDirect(this.imagePath),this.parsingFgAlphaImage=!1),this.imagePath="");break;case"String":(this.parsingBgImage||this.parsingFgImage||this.parsingFgAlphaImage)&&(this.imagePath=e[0]);break;case"BGImage":this.parsingBgImage=!0;break;case"FGImage":this.parsingFgImage=!0;break;case"FGAlphaImage":this.parsingFgAlphaImage=!0;break;case"EOF":this.finalize()}},LWSceneBuilder.prototype.finalize=function(){for(var t=[],e=0;e<this.models.length;e++){var i=this.models[e].name.getValueDirect().join("");void 0==t[i]&&(t[i]=new Array),t[i].push(this.models[e])}for(var i in t)if(t[i].length>1)for(var e=0;e<t[i].length;e++)t[i][e].name.setValueDirect(i+" ("+(e+1)+")");for(var r,o,e=0;e<this.cameras.length;e++){var n=this.cameras[e].zoom.getValueDirect();r=.1*this.sceneData.gridSize*n,o=1e5*r,this.cameras[e].nearDistance.setValueDirect(r),this.cameras[e].farDistance.setValueDirect(o)}for(var e=0;e<this.lightDescs.length;e++){var a=this.allocateLight(this.lightDescs[e]);this.lightDescs[e].parentItem&&this.parentItems.push(new Pair(a,this.lightDescs[e].parentItem)),this.lights.push(a),this.lightsGroup.addChild(a)}for(var e=0;e<this.parentItems.length;e++)this.setParentItem(this.parentItems[e].first,this.parentItems[e].second);for(var e=0;e<this.models.length;e++){var s=this.models[e];s.bones.length>0&&this.attachBoneEffectors(s,s.bones)}for(var e=0;e<this.evaluators.length;e++)this.evaluators[e].evaluate()},LWSceneBuilder.prototype.allocateLight=function(t){var e=null;switch(t.type){case 0:case 3:e=this.factory.create("DirectionalLight");break;case 1:e=this.factory.create("PointLight");break;case 2:case 4:e=this.factory.create("SpotLight")}if(!e)return null;t.motion&&this.attachKeyframeInterpolator(t.motion,e),e.name.setValueDirect(t.name);var i=t.colorR*t.intensity*this.globalLightDesc.intensity,r=t.colorR*t.intensity*this.globalLightDesc.intensity,o=t.colorR*t.intensity*this.globalLightDesc.intensity,n=1;switch(e.ambient.setValueDirect(this.ambientLightDesc.colorR*this.ambientLightDesc.intensity,this.ambientLightDesc.colorG*this.ambientLightDesc.intensity,this.ambientLightDesc.colorB*this.ambientLightDesc.intensity,1),e.diffuse.setValueDirect(i,r,o,n),e.specular.setValueDirect(i,r,o,n),t.type){case 0:case 3:break;case 1:e.range.setValueDirect(t.range);break;case 2:case 4:e.range.setValueDirect(t.range),e.innerConeDegrees.setValueDirect(t.coneAngle),e.outerConeDegrees.setValueDirect(t.edgeAngle),e.coneFalloff.setValueDirect(1)}return e},LWSceneBuilder.prototype.initializeKeyframeInterpolator=function(t,e){t.setNumChannels(e)},LWSceneBuilder.prototype.attachKeyframeInterpolator=function(t,e){if(t&&e){for(var i=t.getAttribute("channels").vector.length,r=0;i>r;r++){var o=t.getAttribute("resultValues").getAt(r);switch(r){case 0:o.addElementTarget(e.getAttribute("position"),0,0);break;case 1:o.addElementTarget(e.getAttribute("position"),0,1);break;case 2:o.addElementTarget(e.getAttribute("position"),0,2);break;case 3:o.addElementTarget(e.getAttribute("rotation"),0,1);break;case 4:o.addElementTarget(e.getAttribute("rotation"),0,0);break;case 5:o.addElementTarget(e.getAttribute("rotation"),0,2);break;case 6:o.addElementTarget(e.getAttribute("scale"),0,0);break;case 7:o.addElementTarget(e.getAttribute("scale"),0,1);break;case 8:o.addElementTarget(e.getAttribute("scale"),0,2)}}t.getAttribute("time").setValueDirect(0)}},LWSceneBuilder.prototype.attachDissolveInterpolator=function(t,e){if(t&&e){var i=t.getAttribute("resultValues").getAt(0);i.addElementTarget(e.getAttribute("dissolve"),0,0)}},LWSceneBuilder.prototype.attachBoneEffectors=function(t,e){for(var i=0;i<t.geometry.length;i++){var r=t.geometry[i],o=this.factory.create("BoneEffector");this.evaluators.push(o),this.evaluatorsGroup.addChild(o);for(var n=0;n<e.length;n++)o.addBoneHierarchy(e[n]);var a=r.getAttribute("vertices"),s=a.getValueDirect(),l=r.getAttribute("normals"),c=l.getValueDirect();o.getAttribute("vertices").setValueDirect(s),o.getAttribute("normals").setValueDirect(c),o.getAttribute("resultVertices").addTarget(a),o.getAttribute("resultNormals").addTarget(l)}},LWSceneBuilder.prototype.setParentItem=function(t,e){var i=hexStrToULong(e.substring(1)),r=null;switch(e.charAt(0)){case"1":r=this.models[i],t.attrType==eAttrType.Bone&&r.bones.push(t);break;case"2":r=this.lights[i];break;case"3":r=this.cameras[i];break;case"4":var o=hexStrToULong(e.substring(1,4)),n=hexStrToULong(e.substring(4));if(this.bones.length>o){var a=t,s=null;this.objectBones.length>n&&this.objectBones[n].length>o&&(s=this.objectBones[n][o]),s&&a&&s.addChild(a)}break;default:return}switch(t.attrType){case eAttrType.Bone:break;default:t.setMotionParent(r)}},AttributeFactory.prototype=new AttributeContainer,AttributeFactory.prototype.constructor=AttributeFactory,AttributeFactory.prototype.create=function(t){var e=null,i=this.newResourceProcs[t];if(i&&(e=i(t,this)),!e)return null;var r=this.configureProcs[t];return r&&r(e,this),e.isContainer()&&(e.getAttribute("name")||e.registerAttribute(new StringAttr(""),"name"),e.getAttribute("userData")||e.registerAttribute(new StringAttr(""),"userData")),this.registry&&(this.registry.register(e),e.setRegistry(this.registry)),e},AttributeFactory.prototype.finalize=function(t,e){var i=this.finalizeProcs[t];i&&i(e,this)},AttributeFactory.prototype.initializeNewResourceMap=function(){this.newResourceProcs.Styles=newAttribute,this.newResourceProcs.StyleMap=newAttribute,this.newResourceProcs.StylesMap=newAttribute,this.newResourceProcs.LabelStyle=newAttribute,this.newResourceProcs.IconStyle=newAttribute,this.newResourceProcs.FontStyle=newAttribute,this.newResourceProcs.HTMLLabelStyle=newAttribute,this.newResourceProcs.BalloonTipLabelStyle=newAttribute,this.newResourceProcs.RenderableElementStyle=newAttribute,this.newResourceProcs.Serializer=newAttribute,this.newResourceProcs.Bone=newAttribute,this.newResourceProcs.DirectionalLight=newSGNode,this.newResourceProcs.GlobalIllumination=newSGNode,this.newResourceProcs.Group=newSGNode,this.newResourceProcs.Isolator=newSGNode,this.newResourceProcs.Label=newSGNode,this.newResourceProcs.HTMLLabel=newSGNode,this.newResourceProcs.BalloonTipLabel=newSGNode,this.newResourceProcs.LineList=newSGNode,this.newResourceProcs.MediaTexture=newSGNode,this.newResourceProcs.Model=newModel,this.newResourceProcs.OrthographicCamera=newSGNode,this.newResourceProcs.PerspectiveCamera=newSGNode,this.newResourceProcs.PointLight=newSGNode,this.newResourceProcs.PointList=newSGNode,this.newResourceProcs.QuaternionRotate=newSGNode,this.newResourceProcs.Rotate=newSGNode,this.newResourceProcs.Scale=newSGNode,this.newResourceProcs.Selector=newSGNode,this.newResourceProcs.Surface=newSGNode,this.newResourceProcs.Translate=newSGNode,this.newResourceProcs.Transform=newSGNode,this.newResourceProcs.TriList=newSGNode,this.newResourceProcs.NullObject=newSGNode,this.newResourceProcs.Material=newSGNode,this.newResourceProcs.Cube=newSGNode,this.newResourceProcs.ScreenRect=newSGNode,this.newResourceProcs.BBoxDirective=newSGDirective,this.newResourceProcs.RayPickDirective=newSGDirective,this.newResourceProcs.RenderDirective=newSGDirective,this.newResourceProcs.SerializeDirective=newSGDirective,this.newResourceProcs.UpdateDirective=newSGDirective,this.newResourceProcs.CollideDirective=newSGDirective,this.newResourceProcs.HighlightDirective=newSGDirective,this.newResourceProcs.BBoxLocator=newBBoxLocator,this.newResourceProcs.KeyframeInterpolator=newKeyframeInterpolator,this.newResourceProcs.MapProjectionCalculator=newMapProjectionCalculator,this.newResourceProcs.ObjectInspector=newObjectInspector,this.newResourceProcs.SceneInspector=newSceneInspector,this.newResourceProcs.TargetObserver=newTargetObserver,this.newResourceProcs.AnimalMover=newAnimalMover,this.newResourceProcs.WalkSimulator=newWalkSimulator,this.newResourceProcs.MorphEffector=newMorphEffector,this.newResourceProcs.BoneEffector=newBoneEffector,this.newResourceProcs.PhysicsSimulator=newPhysicsSimulator,this.newResourceProcs.AppendNode=newCommand,this.newResourceProcs.AutoInterpolate=newCommand,this.newResourceProcs.CommandSequence=newCommand,this.newResourceProcs.ConnectAttributes=newCommand,this.newResourceProcs.ConnectOutputs=newCommand,this.newResourceProcs.DisconnectAttributes=newCommand,this.newResourceProcs.DisconnectOutputs=newCommand,this.newResourceProcs.Export=newCommand,this.newResourceProcs.Locate=newCommand,this.newResourceProcs.MotionInterpolate=newCommand,this.newResourceProcs.Pause=newCommand,this.newResourceProcs.Play=newCommand,this.newResourceProcs.Remove=newCommand,this.newResourceProcs.ScreenCapture=newCommand,this.newResourceProcs.Serialize=newCommand,this.newResourceProcs.Set=newCommand,this.newResourceProcs.Stop=newCommand,this.newResourceProcs.Morph=newCommand,this.newResourceProcs.SnapTo=newCommand,this.newResourceProcs.MouseHandler=newDeviceHandler,this.newResourceProcs.KeyboardHandler=newDeviceHandler},AttributeFactory.prototype.initializeConfigureMap=function(){this.configureProcs.Model=configureModel,this.configureProcs.BBoxDirective=configureDirective,this.configureProcs.RayPickDirective=configureDirective,this.configureProcs.RenderDirective=configureDirective,this.configureProcs.SerializeDirective=configureDirective,this.configureProcs.UpdateDirective=configureDirective,this.configureProcs.CollideDirective=configureDirective,this.configureProcs.HighlightDirective=configureDirective},AttributeFactory.prototype.initializeFinalizeMap=function(){this.finalizeProcs.Model=finalizeModel,this.finalizeProcs.BBoxDirective=finalizeDirective,this.finalizeProcs.RayPickDirective=finalizeDirective,this.finalizeProcs.RenderDirective=finalizeDirective,this.finalizeProcs.SerializeDirective=finalizeDirective,this.finalizeProcs.UpdateDirective=finalizeDirective,this.finalizeProcs.CollideDirective=finalizeDirective,this.finalizeProcs.HighlightDirective=finalizeDirective,this.finalizeProcs.KeyframeInterpolator=finalizeEvaluator,this.finalizeProcs.AppendNode=finalizeCommand,this.finalizeProcs.AutoInterpolate=finalizeCommand,this.finalizeProcs.CommandSequence=finalizeCommand,this.finalizeProcs.ConnectAttributes=finalizeCommand,this.finalizeProcs.ConnectOutputs=finalizeCommand,this.finalizeProcs.DisconnectAttributes=finalizeCommand,this.finalizeProcs.DisconnectOutputs=finalizeCommand,this.finalizeProcs.Export=finalizeCommand,this.finalizeProcs.Locate=finalizeCommand,this.finalizeProcs.MotionInterpolate=finalizeCommand,this.finalizeProcs.Pause=finalizeCommand,this.finalizeProcs.Play=finalizeCommand,this.finalizeProcs.Remove=finalizeCommand,this.finalizeProcs.ScreenCapture=finalizeCommand,this.finalizeProcs.Serialize=finalizeCommand,this.finalizeProcs.Set=finalizeCommand,this.finalizeProcs.Stop=finalizeCommand,this.finalizeProcs.Morph=finalizeCommand,this.finalizeProcs.SnapTo=finalizeCommand,this.finalizeProcs.MouseHandler=finalizeDeviceHandler,this.finalizeProcs.KeyboardHandler=finalizeDeviceHandler},AttributeFactory.prototype.setRegistry=function(t){this.registry=t},AttributeFactory.prototype.setGraphMgr=function(t){this.graphMgr=t};var bridgeworks=null;Bridgeworks.prototype=new AttributeContainer,Bridgeworks.prototype.constructor=Bridgeworks,Bridgeworks.prototype.get=function(t){return this.registry.find(t)},Bridgeworks.prototype.handleEvent=function(t,e){var i=null;switch(getObjectClassName(t)){case"MouseEvent":case"MouseEventConstructor":var r=getElementAbsolutePos(this.canvas);t.canvasX=t.clientX-r.x,t.canvasY=t.clientY-r.y,i=this.eventAdapter.createMouseEvent(t);break;case"KeyboardEvent":case"KeyboardEventConstructor":i=this.eventAdapter.createKeyboardEvent(t,e)}i&&this.eventMgr.processEvent(i)},Bridgeworks.prototype.initRegistry=function(){this.registry.register(this),this.registry.register(this.graphMgr),this.registry.register(this.factory),this.registry.register(this.eventAdapter),this.registry.register(this.eventMgr),this.registry.register(this.commandMgr),this.registry.register(this.connectionMgr),this.registry.register(this.viewportMgr),this.registry.register(this.selector),this.registry.register(this.renderAgent),this.registry.register(this.layout),this.registry.register(this.mapProjectionCalculator),this.registry.registerByName(this.renderAgent,"AnimationAgent")},Bridgeworks.prototype.initEventListeners=function(){this.eventMgr.addListener(eEventType.MouseLeftDown,this.selector),this.eventMgr.addListener(eEventType.MouseMiddleDown,this.selector),this.eventMgr.addListener(eEventType.MouseRightDown,this.selector),this.eventMgr.addListener(eEventType.MouseBothDown,this.selector),this.eventMgr.addListener(eEventType.MouseHover,this.selector),this.eventMgr.addListener(eEventType.MouseLeftDown,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseLeftUp,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseLeftClick,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseLeftDblClick,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseMiddleDown,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseMiddleUp,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseMiddleClick,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseMiddleDblClick,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseRightDown,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseRightUp,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseRightClick,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseRightDblClick,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseWheelDown,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseWheelUp,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseBothDown,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseHover,this.rasterComponentEventListener),this.eventMgr.addListener(eEventType.MouseMove,this.rasterComponentEventListener)},Bridgeworks.prototype.onLoadModified=function(){this.renderAgent.stop(),this.selector.stop(),this.rasterComponentEventListener.stop(),this.commandMgr.clearCommandSequenceStack(),this.eventMgr.clearEvents(),$("#RasterComponents").empty(),this.selector.clearSelections(),this.selector.getAttribute("lastSelectedName").setValueDirect(""),this.viewportMgr.initLayout(),this.registry.clear(),g__nodeId__=0,this.initEventListeners(),this.initRegistry(),this.renderAgent.getAttribute("globalTimeInSecs").setValueDirect(0),this.graphMgr.reset(),this.renderAgent.start(),this.selector.start(),this.rasterComponentEventListener.start(),console.debug("TODO: "+arguments.callee.name)},Bridgeworks.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e,this.renderContext.setViewport(this.canvas.offsetLeft,this.canvas.offsetTop,t,e),this.viewportMgr.getAttribute("width").setValueDirect(t),this.viewportMgr.getAttribute("height").setValueDirect(e)},Bridgeworks.prototype.render=function(){this.eventMgr.processEvent(new Event(eEventType.RenderBegin)),this.renderContext.clear(),this.renderAgent.render(),this.eventMgr.processEvent(new Event(eEventType.RenderEnd))},Bridgeworks.prototype.setRenderContext=function(t){this.renderContext=t,this.graphMgr.setRenderContext(t)},Bridgeworks.prototype.updateScene=function(t){var e=new String(t),i=e.substr(e.length-3,3);"xml"==i&&(t=loadXMLResource(this.contentDir+"/"+t)),this.parser.parse(t)},function(t,e){function i(t){var e=t.length,i=he.type(t);return he.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||"function"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t)
}function r(t){var e=Ee[t]={};return he.each(t.match(ue)||[],function(t,i){e[i]=!0}),e}function o(t,i,r,o){if(he.acceptData(t)){var n,a,s=he.expando,l=t.nodeType,c=l?he.cache:t,h=l?t[s]:t[s]&&s;if(h&&c[h]&&(o||c[h].data)||r!==e||"string"!=typeof i)return h||(h=l?t[s]=ee.pop()||he.guid++:s),c[h]||(c[h]=l?{}:{toJSON:he.noop}),("object"==typeof i||"function"==typeof i)&&(o?c[h]=he.extend(c[h],i):c[h].data=he.extend(c[h].data,i)),a=c[h],o||(a.data||(a.data={}),a=a.data),r!==e&&(a[he.camelCase(i)]=r),"string"==typeof i?(n=a[i],null==n&&(n=a[he.camelCase(i)])):n=a,n}}function n(t,e,i){if(he.acceptData(t)){var r,o,n=t.nodeType,a=n?he.cache:t,l=n?t[he.expando]:he.expando;if(a[l]){if(e&&(r=i?a[l]:a[l].data)){he.isArray(e)?e=e.concat(he.map(e,he.camelCase)):e in r?e=[e]:(e=he.camelCase(e),e=e in r?[e]:e.split(" ")),o=e.length;for(;o--;)delete r[e[o]];if(i?!s(r):!he.isEmptyObject(r))return}(i||(delete a[l].data,s(a[l])))&&(n?he.cleanData([t],!0):he.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}}function a(t,i,r){if(r===e&&1===t.nodeType){var o="data-"+i.replace(Ae,"-$1").toLowerCase();if(r=t.getAttribute(o),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:Ce.test(r)?he.parseJSON(r):r}catch(n){}he.data(t,i,r)}else r=e}return r}function s(t){var e;for(e in t)if(("data"!==e||!he.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function c(){return!1}function h(){try{return Y.activeElement}catch(t){}}function d(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function u(t,e,i){if(he.isFunction(e))return he.grep(t,function(t,r){return!!e.call(t,r,t)!==i});if(e.nodeType)return he.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(Ge.test(e))return he.filter(e,t,i);e=he.filter(e,t)}return he.grep(t,function(t){return he.inArray(t,e)>=0!==i})}function p(t){var e=We.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){return he.nodeName(t,"table")&&he.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function _(t){return t.type=(null!==he.find.attr(t,"type"))+"/"+t.type,t}function m(t){var e=oi.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var i,r=0;null!=(i=t[r]);r++)he._data(i,"globalEval",!e||he._data(e[r],"globalEval"))}function y(t,e){if(1===e.nodeType&&he.hasData(t)){var i,r,o,n=he._data(t),a=he._data(e,n),s=n.events;if(s){delete a.handle,a.events={};for(i in s)for(r=0,o=s[i].length;o>r;r++)he.event.add(e,i,s[i][r])}a.data&&(a.data=he.extend({},a.data))}}function b(t,e){var i,r,o;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!he.support.noCloneEvent&&e[he.expando]){o=he._data(e);for(r in o.events)he.removeEvent(e,r,o.handle);e.removeAttribute(he.expando)}"script"===i&&e.text!==t.text?(_(e).text=t.text,m(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),he.support.html5Clone&&t.innerHTML&&!he.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&ei.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function v(t,i){var r,o,n=0,a=typeof t.getElementsByTagName!==q?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll!==q?t.querySelectorAll(i||"*"):e;if(!a)for(a=[],r=t.childNodes||t;null!=(o=r[n]);n++)!i||he.nodeName(o,i)?a.push(o):he.merge(a,v(o,i));return i===e||i&&he.nodeName(t,i)?he.merge([t],a):a}function M(t){ei.test(t.type)&&(t.defaultChecked=t.checked)}function S(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),r=e,o=Ti.length;o--;)if(e=Ti[o]+i,e in t)return e;return r}function x(t,e){return t=e||t,"none"===he.css(t,"display")||!he.contains(t.ownerDocument,t)}function T(t,e){for(var i,r,o,n=[],a=0,s=t.length;s>a;a++)r=t[a],r.style&&(n[a]=he._data(r,"olddisplay"),i=r.style.display,e?(n[a]||"none"!==i||(r.style.display=""),""===r.style.display&&x(r)&&(n[a]=he._data(r,"olddisplay",w(r.nodeName)))):n[a]||(o=x(r),(i&&"none"!==i||!o)&&he._data(r,"olddisplay",o?i:he.css(r,"display"))));for(a=0;s>a;a++)r=t[a],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?n[a]||"":"none"));return t}function E(t,e,i){var r=gi.exec(e);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):e}function C(t,e,i,r,o){for(var n=i===(r?"border":"content")?4:"width"===e?1:0,a=0;4>n;n+=2)"margin"===i&&(a+=he.css(t,i+xi[n],!0,o)),r?("content"===i&&(a-=he.css(t,"padding"+xi[n],!0,o)),"margin"!==i&&(a-=he.css(t,"border"+xi[n]+"Width",!0,o))):(a+=he.css(t,"padding"+xi[n],!0,o),"padding"!==i&&(a+=he.css(t,"border"+xi[n]+"Width",!0,o)));return a}function A(t,e,i){var r=!0,o="width"===e?t.offsetWidth:t.offsetHeight,n=hi(t),a=he.support.boxSizing&&"border-box"===he.css(t,"boxSizing",!1,n);if(0>=o||null==o){if(o=di(t,e,n),(0>o||null==o)&&(o=t.style[e]),yi.test(o))return o;r=a&&(he.support.boxSizingReliable||o===t.style[e]),o=parseFloat(o)||0}return o+C(t,e,i||(a?"border":"content"),r,n)+"px"}function w(t){var e=Y,i=vi[t];return i||(i=R(t,e),"none"!==i&&i||(ci=(ci||he("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ci[0].contentWindow||ci[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),i=R(t,e),ci.detach()),vi[t]=i),i}function R(t,e){var i=he(e.createElement(t)).appendTo(e.body),r=he.css(i[0],"display");return i.remove(),r}function D(t,e,i,r){var o;if(he.isArray(e))he.each(e,function(e,o){i||Ci.test(t)?r(t,o):D(t+"["+("object"==typeof o?e:"")+"]",o,i,r)});else if(i||"object"!==he.type(e))r(t,e);else for(o in e)D(t+"["+o+"]",e[o],i,r)}function P(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var r,o=0,n=e.toLowerCase().match(ue)||[];if(he.isFunction(i))for(;r=n[o++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(i)):(t[r]=t[r]||[]).push(i)}}function B(t,i,r,o){function n(l){var c;return a[l]=!0,he.each(t[l]||[],function(t,l){var h=l(i,r,o);return"string"!=typeof h||s||a[h]?s?!(c=h):e:(i.dataTypes.unshift(h),n(h),!1)}),c}var a={},s=t===zi;return n(i.dataTypes[0])||!a["*"]&&n("*")}function V(t,i){var r,o,n=he.ajaxSettings.flatOptions||{};for(o in i)i[o]!==e&&((n[o]?t:r||(r={}))[o]=i[o]);return r&&he.extend(!0,t,r),t}function L(t,i,r){for(var o,n,a,s,l=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),n===e&&(n=t.mimeType||i.getResponseHeader("Content-Type"));if(n)for(s in l)if(l[s]&&l[s].test(n)){c.unshift(s);break}if(c[0]in r)a=c[0];else{for(s in r){if(!c[0]||t.converters[s+" "+c[0]]){a=s;break}o||(o=s)}a=a||o}return a?(a!==c[0]&&c.unshift(a),r[a]):e}function k(t,e,i,r){var o,n,a,s,l,c={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(n=h.shift();n;)if(t.responseFields[n]&&(i[t.responseFields[n]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=n,n=h.shift())if("*"===n)n=l;else if("*"!==l&&l!==n){if(a=c[l+" "+n]||c["* "+n],!a)for(o in c)if(s=o.split(" "),s[1]===n&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(n=s[0],h.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+n}}}return{state:"success",data:e}}function H(){try{return new t.XMLHttpRequest}catch(e){}}function I(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function O(){return setTimeout(function(){Zi=e}),Zi=he.now()}function J(t,e,i){for(var r,o=(or[e]||[]).concat(or["*"]),n=0,a=o.length;a>n;n++)if(r=o[n].call(i,e,t))return r}function N(t,e,i){var r,o,n=0,a=rr.length,s=he.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Zi||O(),i=Math.max(0,c.startTime+c.duration-e),r=i/c.duration||0,n=1-r,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(n);return s.notifyWith(t,[c,n,i]),1>n&&l?i:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:he.extend({},e),opts:he.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Zi||O(),duration:i.duration,tweens:[],createTween:function(e,i){var r=he.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var i=0,r=e?c.tweens.length:0;if(o)return this;for(o=!0;r>i;i++)c.tweens[i].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),h=c.props;for(F(h,c.opts.specialEasing);a>n;n++)if(r=rr[n].call(c,t,h,c.opts))return r;return he.map(h,J,c),he.isFunction(c.opts.start)&&c.opts.start.call(t,c),he.fx.timer(he.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function F(t,e){var i,r,o,n,a;for(i in t)if(r=he.camelCase(i),o=e[r],n=t[i],he.isArray(n)&&(o=n[1],n=t[i]=n[0]),i!==r&&(t[r]=n,delete t[i]),a=he.cssHooks[r],a&&"expand"in a){n=a.expand(n),delete t[r];for(i in n)i in t||(t[i]=n[i],e[i]=o)}else e[r]=o}function G(t,e,i){var r,o,n,a,s,l,c=this,h={},d=t.style,u=t.nodeType&&x(t),p=he._data(t,"fxshow");i.queue||(s=he._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,he.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===he.css(t,"display")&&"none"===he.css(t,"float")&&(he.support.inlineBlockNeedsLayout&&"inline"!==w(t.nodeName)?d.zoom=1:d.display="inline-block")),i.overflow&&(d.overflow="hidden",he.support.shrinkWrapBlocks||c.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(r in e)if(o=e[r],tr.exec(o)){if(delete e[r],n=n||"toggle"===o,o===(u?"hide":"show"))continue;h[r]=p&&p[r]||he.style(t,r)}if(!he.isEmptyObject(h)){p?"hidden"in p&&(u=p.hidden):p=he._data(t,"fxshow",{}),n&&(p.hidden=!u),u?he(t).show():c.done(function(){he(t).hide()}),c.done(function(){var e;he._removeData(t,"fxshow");for(e in h)he.style(t,e,h[e])});for(r in h)a=J(u?p[r]:0,r,c),r in p||(p[r]=a.start,u&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function z(t,e,i,r,o){return new z.prototype.init(t,e,i,r,o)}function j(t,e){var i,r={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)i=xi[o],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function U(t){return he.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var W,X,q=typeof e,K=t.location,Y=t.document,Q=Y.documentElement,Z=t.jQuery,$=t.$,te={},ee=[],ie="1.10.2",re=ee.concat,oe=ee.push,ne=ee.slice,ae=ee.indexOf,se=te.toString,le=te.hasOwnProperty,ce=ie.trim,he=function(t,e){return new he.fn.init(t,e,X)},de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ue=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,_e=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,me=/^[\],:{}\s]*$/,ge=/(?:^|:|,)(?:\s*\[)+/g,ye=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ve=/^-ms-/,Me=/-([\da-z])/gi,Se=function(t,e){return e.toUpperCase()},xe=function(t){(Y.addEventListener||"load"===t.type||"complete"===Y.readyState)&&(Te(),he.ready())},Te=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",xe,!1),t.removeEventListener("load",xe,!1)):(Y.detachEvent("onreadystatechange",xe),t.detachEvent("onload",xe))};he.fn=he.prototype={jquery:ie,constructor:he,init:function(t,i,r){var o,n;if(!t)return this;if("string"==typeof t){if(o="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:fe.exec(t),!o||!o[1]&&i)return!i||i.jquery?(i||r).find(t):this.constructor(i).find(t);if(o[1]){if(i=i instanceof he?i[0]:i,he.merge(this,he.parseHTML(o[1],i&&i.nodeType?i.ownerDocument||i:Y,!0)),_e.test(o[1])&&he.isPlainObject(i))for(o in i)he.isFunction(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}if(n=Y.getElementById(o[2]),n&&n.parentNode){if(n.id!==o[2])return r.find(t);this.length=1,this[0]=n}return this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):he.isFunction(t)?r.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),he.makeArray(t,this))},selector:"",length:0,toArray:function(){return ne.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=he.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return he.each(this,t,e)},ready:function(t){return he.ready.promise().done(t),this},slice:function(){return this.pushStack(ne.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},map:function(t){return this.pushStack(he.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:oe,sort:[].sort,splice:[].splice},he.fn.init.prototype=he.fn,he.extend=he.fn.extend=function(){var t,i,r,o,n,a,s=arguments[0]||{},l=1,c=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[1]||{},l=2),"object"==typeof s||he.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(n=arguments[l]))for(o in n)t=s[o],r=n[o],s!==r&&(h&&r&&(he.isPlainObject(r)||(i=he.isArray(r)))?(i?(i=!1,a=t&&he.isArray(t)?t:[]):a=t&&he.isPlainObject(t)?t:{},s[o]=he.extend(h,a,r)):r!==e&&(s[o]=r));return s},he.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===he&&(t.$=$),e&&t.jQuery===he&&(t.jQuery=Z),he},isReady:!1,readyWait:1,holdReady:function(t){t?he.readyWait++:he.ready(!0)},ready:function(t){if(t===!0?!--he.readyWait:!he.isReady){if(!Y.body)return setTimeout(he.ready);he.isReady=!0,t!==!0&&--he.readyWait>0||(W.resolveWith(Y,[he]),he.fn.trigger&&he(Y).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===he.type(t)},isArray:Array.isArray||function(t){return"array"===he.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?te[se.call(t)]||"object":typeof t},isPlainObject:function(t){var i;if(!t||"object"!==he.type(t)||t.nodeType||he.isWindow(t))return!1;try{if(t.constructor&&!le.call(t,"constructor")&&!le.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(he.support.ownLast)for(i in t)return le.call(t,i);for(i in t);return i===e||le.call(t,i)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw Error(t)},parseHTML:function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||Y;var r=_e.exec(t),o=!i&&[];return r?[e.createElement(r[1])]:(r=he.buildFragment([t],e,o),o&&he(o).remove(),he.merge([],r.childNodes))},parseJSON:function(i){return t.JSON&&t.JSON.parse?t.JSON.parse(i):null===i?i:"string"==typeof i&&(i=he.trim(i),i&&me.test(i.replace(ye,"@").replace(be,"]").replace(ge,"")))?Function("return "+i)():(he.error("Invalid JSON: "+i),e)},parseXML:function(i){var r,o;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(o=new DOMParser,r=o.parseFromString(i,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(i))}catch(n){r=e}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+i),r},noop:function(){},globalEval:function(e){e&&he.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ve,"ms-").replace(Me,Se)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var o,n=0,a=t.length,s=i(t);if(r){if(s)for(;a>n&&(o=e.apply(t[n],r),o!==!1);n++);else for(n in t)if(o=e.apply(t[n],r),o===!1)break}else if(s)for(;a>n&&(o=e.call(t[n],n,t[n]),o!==!1);n++);else for(n in t)if(o=e.call(t[n],n,t[n]),o===!1)break;return t},trim:ce&&!ce.call("﻿ ")?function(t){return null==t?"":ce.call(t)}:function(t){return null==t?"":(t+"").replace(pe,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(i(Object(t))?he.merge(r,"string"==typeof t?[t]:t):oe.call(r,t)),r},inArray:function(t,e,i){var r;if(e){if(ae)return ae.call(e,t,i);for(r=e.length,i=i?0>i?Math.max(0,r+i):i:0;r>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var r=i.length,o=t.length,n=0;if("number"==typeof r)for(;r>n;n++)t[o++]=i[n];else for(;i[n]!==e;)t[o++]=i[n++];return t.length=o,t},grep:function(t,e,i){var r,o=[],n=0,a=t.length;for(i=!!i;a>n;n++)r=!!e(t[n],n),i!==r&&o.push(t[n]);return o},map:function(t,e,r){var o,n=0,a=t.length,s=i(t),l=[];if(s)for(;a>n;n++)o=e(t[n],n,r),null!=o&&(l[l.length]=o);else for(n in t)o=e(t[n],n,r),null!=o&&(l[l.length]=o);return re.apply([],l)},guid:1,proxy:function(t,i){var r,o,n;return"string"==typeof i&&(n=t[i],i=t,t=n),he.isFunction(t)?(r=ne.call(arguments,2),o=function(){return t.apply(i||this,r.concat(ne.call(arguments)))},o.guid=t.guid=t.guid||he.guid++,o):e},access:function(t,i,r,o,n,a,s){var l=0,c=t.length,h=null==r;if("object"===he.type(r)){n=!0;for(l in r)he.access(t,i,l,r[l],!0,a,s)}else if(o!==e&&(n=!0,he.isFunction(o)||(s=!0),h&&(s?(i.call(t,o),i=null):(h=i,i=function(t,e,i){return h.call(he(t),i)})),i))for(;c>l;l++)i(t[l],r,s?o:o.call(t[l],l,i(t[l],r)));return n?t:h?i.call(t):c?i(t[0],r):a},now:function(){return(new Date).getTime()},swap:function(t,e,i,r){var o,n,a={};for(n in e)a[n]=t.style[n],t.style[n]=e[n];o=i.apply(t,r||[]);for(n in e)t.style[n]=a[n];return o}}),he.ready.promise=function(e){if(!W)if(W=he.Deferred(),"complete"===Y.readyState)setTimeout(he.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",xe,!1),t.addEventListener("load",xe,!1);else{Y.attachEvent("onreadystatechange",xe),t.attachEvent("onload",xe);var i=!1;try{i=null==t.frameElement&&Y.documentElement}catch(r){}i&&i.doScroll&&function o(){if(!he.isReady){try{i.doScroll("left")}catch(t){return setTimeout(o,50)}Te(),he.ready()}}()}return W.promise(e)},he.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()}),X=he(Y),function(t,e){function i(t,e,i,r){var o,n,a,s,l,c,h,d,f,_;if((e?e.ownerDocument||e:N)!==B&&P(e),e=e||B,i=i||[],!t||"string"!=typeof t)return i;if(1!==(s=e.nodeType)&&9!==s)return[];if(L&&!r){if(o=be.exec(t))if(a=o[1]){if(9===s){if(n=e.getElementById(a),!n||!n.parentNode)return i;if(n.id===a)return i.push(n),i}else if(e.ownerDocument&&(n=e.ownerDocument.getElementById(a))&&O(e,n)&&n.id===a)return i.push(n),i}else{if(o[2])return te.apply(i,e.getElementsByTagName(t)),i;if((a=o[3])&&x.getElementsByClassName&&e.getElementsByClassName)return te.apply(i,e.getElementsByClassName(a)),i}if(x.qsa&&(!k||!k.test(t))){if(d=h=J,f=e,_=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=u(t),(h=e.getAttribute("id"))?d=h.replace(Se,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+p(c[l]);f=pe.test(t)&&e.parentNode||e,_=c.join(",")}if(_)try{return te.apply(i,f.querySelectorAll(_)),i}catch(m){}finally{h||e.removeAttribute("id")}}}return M(t.replace(ce,"$1"),e,i,r)}function r(){function t(i,r){return e.push(i+=" ")>E.cacheLength&&delete t[e.shift()],t[i]=r}var e=[];return t}function o(t){return t[J]=!0,t}function n(t){var e=B.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var i=t.split("|"),r=t.length;r--;)E.attrHandle[i[r]]=e}function s(t,e){var i=e&&t,r=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(r)return r;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function l(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function c(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function h(t){return o(function(e){return e=+e,o(function(i,r){for(var o,n=t([],i.length,e),a=n.length;a--;)i[o=n[a]]&&(i[o]=!(r[o]=i[o]))})})}function d(){}function u(t,e){var r,o,n,a,s,l,c,h=j[t+" "];if(h)return e?0:h.slice(0);for(s=t,l=[],c=E.preFilter;s;){(!r||(o=de.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(n=[])),r=!1,(o=ue.exec(s))&&(r=o.shift(),n.push({value:r,type:o[0].replace(ce," ")}),s=s.slice(r.length));for(a in E.filter)!(o=ge[a].exec(s))||c[a]&&!(o=c[a](o))||(r=o.shift(),n.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return e?s.length:s?i.error(t):j(t,l).slice(0)}function p(t){for(var e=0,i=t.length,r="";i>e;e++)r+=t[e].value;return r}function f(t,e,i){var r=e.dir,o=i&&"parentNode"===r,n=G++;return e.first?function(e,i,n){for(;e=e[r];)if(1===e.nodeType||o)return t(e,i,n)}:function(e,i,a){var s,l,c,h=F+" "+n;if(a){for(;e=e[r];)if((1===e.nodeType||o)&&t(e,i,a))return!0}else for(;e=e[r];)if(1===e.nodeType||o)if(c=e[J]||(e[J]={}),(l=c[r])&&l[0]===h){if((s=l[1])===!0||s===T)return s===!0}else if(l=c[r]=[h],l[1]=t(e,i,a)||T,l[1]===!0)return!0}}function _(t){return t.length>1?function(e,i,r){for(var o=t.length;o--;)if(!t[o](e,i,r))return!1;return!0}:t[0]}function m(t,e,i,r,o){for(var n,a=[],s=0,l=t.length,c=null!=e;l>s;s++)(n=t[s])&&(!i||i(n,r,o))&&(a.push(n),c&&e.push(s));return a}function g(t,e,i,r,n,a){return r&&!r[J]&&(r=g(r)),n&&!n[J]&&(n=g(n,a)),o(function(o,a,s,l){var c,h,d,u=[],p=[],f=a.length,_=o||v(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?_:m(_,u,t,s,l),y=i?n||(o?t:f||r)?[]:a:g;if(i&&i(g,y,s,l),r)for(c=m(y,p),r(c,[],s,l),h=c.length;h--;)(d=c[h])&&(y[p[h]]=!(g[p[h]]=d));if(o){if(n||t){if(n){for(c=[],h=y.length;h--;)(d=y[h])&&c.push(g[h]=d);n(null,y=[],c,l)}for(h=y.length;h--;)(d=y[h])&&(c=n?ie.call(o,d):u[h])>-1&&(o[c]=!(a[c]=d))}}else y=m(y===a?y.splice(f,y.length):y),n?n(null,a,y,l):te.apply(a,y)})}function y(t){for(var e,i,r,o=t.length,n=E.relative[t[0].type],a=n||E.relative[" "],s=n?1:0,l=f(function(t){return t===e},a,!0),c=f(function(t){return ie.call(e,t)>-1},a,!0),h=[function(t,i,r){return!n&&(r||i!==R)||((e=i).nodeType?l(t,i,r):c(t,i,r))}];o>s;s++)if(i=E.relative[t[s].type])h=[f(_(h),i)];else{if(i=E.filter[t[s].type].apply(null,t[s].matches),i[J]){for(r=++s;o>r&&!E.relative[t[r].type];r++);return g(s>1&&_(h),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ce,"$1"),i,r>s&&y(t.slice(s,r)),o>r&&y(t=t.slice(r)),o>r&&p(t))}h.push(i)}return _(h)}function b(t,e){var r=0,n=e.length>0,a=t.length>0,s=function(o,s,l,c,h){var d,u,p,f=[],_=0,g="0",y=o&&[],b=null!=h,v=R,M=o||a&&E.find.TAG("*",h&&s.parentNode||s),S=F+=null==v?1:Math.random()||.1;for(b&&(R=s!==B&&s,T=r);null!=(d=M[g]);g++){if(a&&d){for(u=0;p=t[u++];)if(p(d,s,l)){c.push(d);break}b&&(F=S,T=++r)}n&&((d=!p&&d)&&_--,o&&y.push(d))}if(_+=g,n&&g!==_){for(u=0;p=e[u++];)p(y,f,s,l);if(o){if(_>0)for(;g--;)y[g]||f[g]||(f[g]=Z.call(c));f=m(f)}te.apply(c,f),b&&!o&&f.length>0&&_+e.length>1&&i.uniqueSort(c)}return b&&(F=S,R=v),y};return n?o(s):s}function v(t,e,r){for(var o=0,n=e.length;n>o;o++)i(t,e[o],r);return r}function M(t,e,i,r){var o,n,a,s,l,c=u(t);if(!r&&1===c.length){if(n=c[0]=c[0].slice(0),n.length>2&&"ID"===(a=n[0]).type&&x.getById&&9===e.nodeType&&L&&E.relative[n[1].type]){if(e=(E.find.ID(a.matches[0].replace(xe,Te),e)||[])[0],!e)return i;t=t.slice(n.shift().value.length)}for(o=ge.needsContext.test(t)?0:n.length;o--&&(a=n[o],!E.relative[s=a.type]);)if((l=E.find[s])&&(r=l(a.matches[0].replace(xe,Te),pe.test(n[0].type)&&e.parentNode||e))){if(n.splice(o,1),t=r.length&&p(n),!t)return te.apply(i,r),i;break}}return w(t,c)(r,e,!L,i,pe.test(t)),i}var S,x,T,E,C,A,w,R,D,P,B,V,L,k,H,I,O,J="sizzle"+-new Date,N=t.document,F=0,G=0,z=r(),j=r(),U=r(),W=!1,X=function(t,e){return t===e?(W=!0,0):0},q=typeof e,K=1<<31,Y={}.hasOwnProperty,Q=[],Z=Q.pop,$=Q.push,te=Q.push,ee=Q.slice,ie=Q.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},re="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oe="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=ne.replace("w","w#"),se="\\["+oe+"*("+ne+")"+oe+"*(?:([*^$|!~]?=)"+oe+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+oe+"*\\]",le=":("+ne+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+se.replace(3,8)+")*)|.*)\\)|)",ce=RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g"),de=RegExp("^"+oe+"*,"+oe+"*"),ue=RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),pe=RegExp(oe+"*[+~]"),fe=RegExp("="+oe+"*([^\\]'\"]*)"+oe+"*\\]","g"),_e=RegExp(le),me=RegExp("^"+ae+"$"),ge={ID:RegExp("^#("+ne+")"),CLASS:RegExp("^\\.("+ne+")"),TAG:RegExp("^("+ne.replace("w","w*")+")"),ATTR:RegExp("^"+se),PSEUDO:RegExp("^"+le),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:RegExp("^(?:"+re+")$","i"),needsContext:RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/^(?:input|select|textarea|button)$/i,Me=/^h\d$/i,Se=/'|\\/g,xe=RegExp("\\\\([\\da-f]{1,6}"+oe+"?|("+oe+")|.)","ig"),Te=function(t,e,i){var r="0x"+e-65536;return r!==r||i?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{te.apply(Q=ee.call(N.childNodes),N.childNodes),Q[N.childNodes.length].nodeType}catch(Ee){te={apply:Q.length?function(t,e){$.apply(t,ee.call(e))}:function(t,e){for(var i=t.length,r=0;t[i++]=e[r++];);t.length=i-1}}}A=i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},x=i.support={},P=i.setDocument=function(t){var i=t?t.ownerDocument||t:N,r=i.defaultView;return i!==B&&9===i.nodeType&&i.documentElement?(B=i,V=i.documentElement,L=!A(i),r&&r.attachEvent&&r!==r.top&&r.attachEvent("onbeforeunload",function(){P()}),x.attributes=n(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=n(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=n(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),x.getById=n(function(t){return V.appendChild(t).id=J,!i.getElementsByName||!i.getElementsByName(J).length}),x.getById?(E.find.ID=function(t,e){if(typeof e.getElementById!==q&&L){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},E.filter.ID=function(t){var e=t.replace(xe,Te);return function(t){return t.getAttribute("id")===e}}):(delete E.find.ID,E.filter.ID=function(t){var e=t.replace(xe,Te);return function(t){var i=typeof t.getAttributeNode!==q&&t.getAttributeNode("id");return i&&i.value===e}}),E.find.TAG=x.getElementsByTagName?function(t,i){return typeof i.getElementsByTagName!==q?i.getElementsByTagName(t):e}:function(t,e){var i,r=[],o=0,n=e.getElementsByTagName(t);if("*"===t){for(;i=n[o++];)1===i.nodeType&&r.push(i);return r}return n},E.find.CLASS=x.getElementsByClassName&&function(t,i){return typeof i.getElementsByClassName!==q&&L?i.getElementsByClassName(t):e},H=[],k=[],(x.qsa=ye.test(i.querySelectorAll))&&(n(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||k.push("\\["+oe+"*(?:value|"+re+")"),t.querySelectorAll(":checked").length||k.push(":checked")}),n(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&k.push("[*^$]="+oe+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||k.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),k.push(",.*:")})),(x.matchesSelector=ye.test(I=V.webkitMatchesSelector||V.mozMatchesSelector||V.oMatchesSelector||V.msMatchesSelector))&&n(function(t){x.disconnectedMatch=I.call(t,"div"),I.call(t,"[s!='']:x"),H.push("!=",le)}),k=k.length&&RegExp(k.join("|")),H=H.length&&RegExp(H.join("|")),O=ye.test(V.contains)||V.compareDocumentPosition?function(t,e){var i=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(i.contains?i.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=V.compareDocumentPosition?function(t,e){if(t===e)return W=!0,0;var r=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e);return r?1&r||!x.sortDetached&&e.compareDocumentPosition(t)===r?t===i||O(N,t)?-1:e===i||O(N,e)?1:D?ie.call(D,t)-ie.call(D,e):0:4&r?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var r,o=0,n=t.parentNode,a=e.parentNode,l=[t],c=[e];if(t===e)return W=!0,0;if(!n||!a)return t===i?-1:e===i?1:n?-1:a?1:D?ie.call(D,t)-ie.call(D,e):0;if(n===a)return s(t,e);for(r=t;r=r.parentNode;)l.unshift(r);for(r=e;r=r.parentNode;)c.unshift(r);for(;l[o]===c[o];)o++;return o?s(l[o],c[o]):l[o]===N?-1:c[o]===N?1:0},i):B},i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){if((t.ownerDocument||t)!==B&&P(t),e=e.replace(fe,"='$1']"),!(!x.matchesSelector||!L||H&&H.test(e)||k&&k.test(e)))try{var r=I.call(t,e);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(o){}return i(e,B,null,[t]).length>0},i.contains=function(t,e){return(t.ownerDocument||t)!==B&&P(t),O(t,e)},i.attr=function(t,i){(t.ownerDocument||t)!==B&&P(t);var r=E.attrHandle[i.toLowerCase()],o=r&&Y.call(E.attrHandle,i.toLowerCase())?r(t,i,!L):e;return o===e?x.attributes||!L?t.getAttribute(i):(o=t.getAttributeNode(i))&&o.specified?o.value:null:o},i.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},i.uniqueSort=function(t){var e,i=[],r=0,o=0;if(W=!x.detectDuplicates,D=!x.sortStable&&t.slice(0),t.sort(X),W){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return t},C=i.getText=function(t){var e,i="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=C(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r];r++)i+=C(e);return i},E=i.selectors={cacheLength:50,createPseudo:o,match:ge,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xe,Te),t[3]=(t[4]||t[5]||"").replace(xe,Te),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||i.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&i.error(t[0]),t},PSEUDO:function(t){var i,r=!t[5]&&t[2];return ge.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:r&&_e.test(r)&&(i=u(r,!0))&&(i=r.indexOf(")",r.length-i)-r.length)&&(t[0]=t[0].slice(0,i),t[2]=r.slice(0,i)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xe,Te).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=RegExp("(^|"+oe+")"+t+"("+oe+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==q&&t.getAttribute("class")||"")})},ATTR:function(t,e,r){return function(o){var n=i.attr(o,t);return null==n?"!="===e:e?(n+="","="===e?n===r:"!="===e?n!==r:"^="===e?r&&0===n.indexOf(r):"*="===e?r&&n.indexOf(r)>-1:"$="===e?r&&n.slice(-r.length)===r:"~="===e?(" "+n+" ").indexOf(r)>-1:"|="===e?n===r||n.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,i,r,o){var n="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var c,h,d,u,p,f,_=n!==a?"nextSibling":"previousSibling",m=e.parentNode,g=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(n){for(;_;){for(d=e;d=d[_];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;f=_="only"===t&&!f&&"nextSibling"
}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(h=m[J]||(m[J]={}),c=h[t]||[],p=c[0]===F&&c[1],u=c[0]===F&&c[2],d=p&&m.childNodes[p];d=++p&&d&&d[_]||(u=p=0)||f.pop();)if(1===d.nodeType&&++u&&d===e){h[t]=[F,p,u];break}}else if(y&&(c=(e[J]||(e[J]={}))[t])&&c[0]===F)u=c[1];else for(;(d=++p&&d&&d[_]||(u=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++u||(y&&((d[J]||(d[J]={}))[t]=[F,u]),d!==e)););return u-=o,u===r||0===u%r&&u/r>=0}}},PSEUDO:function(t,e){var r,n=E.pseudos[t]||E.setFilters[t.toLowerCase()]||i.error("unsupported pseudo: "+t);return n[J]?n(e):n.length>1?(r=[t,t,"",e],E.setFilters.hasOwnProperty(t.toLowerCase())?o(function(t,i){for(var r,o=n(t,e),a=o.length;a--;)r=ie.call(t,o[a]),t[r]=!(i[r]=o[a])}):function(t){return n(t,0,r)}):n}},pseudos:{not:o(function(t){var e=[],i=[],r=w(t.replace(ce,"$1"));return r[J]?o(function(t,e,i,o){for(var n,a=r(t,null,o,[]),s=t.length;s--;)(n=a[s])&&(t[s]=!(e[s]=n))}):function(t,o,n){return e[0]=t,r(e,null,n,i),!i.pop()}}),has:o(function(t){return function(e){return i(t,e).length>0}}),contains:o(function(t){return function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:o(function(t){return me.test(t||"")||i.error("unsupported lang: "+t),t=t.replace(xe,Te).toLowerCase(),function(e){var i;do if(i=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===V},focus:function(t){return t===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!E.pseudos.empty(t)},header:function(t){return Me.test(t.nodeName)},input:function(t){return ve.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,i){return[0>i?i+e:i]}),even:h(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:h(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:h(function(t,e,i){for(var r=0>i?i+e:i;--r>=0;)t.push(r);return t}),gt:h(function(t,e,i){for(var r=0>i?i+e:i;e>++r;)t.push(r);return t})}},E.pseudos.nth=E.pseudos.eq;for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[S]=l(S);for(S in{submit:!0,reset:!0})E.pseudos[S]=c(S);d.prototype=E.filters=E.pseudos,E.setFilters=new d,w=i.compile=function(t,e){var i,r=[],o=[],n=U[t+" "];if(!n){for(e||(e=u(t)),i=e.length;i--;)n=y(e[i]),n[J]?r.push(n):o.push(n);n=U(t,b(o,r))}return n},x.sortStable=J.split("").sort(X).join("")===J,x.detectDuplicates=W,P(),x.sortDetached=n(function(t){return 1&t.compareDocumentPosition(B.createElement("div"))}),n(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,i,r){return r?e:t.getAttribute(i,"type"===i.toLowerCase()?1:2)}),x.attributes&&n(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,i,r){return r||"input"!==t.nodeName.toLowerCase()?e:t.defaultValue}),n(function(t){return null==t.getAttribute("disabled")})||a(re,function(t,i,r){var o;return r?e:(o=t.getAttributeNode(i))&&o.specified?o.value:t[i]===!0?i.toLowerCase():null}),he.find=i,he.expr=i.selectors,he.expr[":"]=he.expr.pseudos,he.unique=i.uniqueSort,he.text=i.getText,he.isXMLDoc=i.isXML,he.contains=i.contains}(t);var Ee={};he.Callbacks=function(t){t="string"==typeof t?Ee[t]||r(t):he.extend({},t);var i,o,n,a,s,l,c=[],h=!t.once&&[],d=function(e){for(o=t.memory&&e,n=!0,s=l||0,l=0,a=c.length,i=!0;c&&a>s;s++)if(c[s].apply(e[0],e[1])===!1&&t.stopOnFalse){o=!1;break}i=!1,c&&(h?h.length&&d(h.shift()):o?c=[]:u.disable())},u={add:function(){if(c){var e=c.length;!function r(e){he.each(e,function(e,i){var o=he.type(i);"function"===o?t.unique&&u.has(i)||c.push(i):i&&i.length&&"string"!==o&&r(i)})}(arguments),i?a=c.length:o&&(l=e,d(o))}return this},remove:function(){return c&&he.each(arguments,function(t,e){for(var r;(r=he.inArray(e,c,r))>-1;)c.splice(r,1),i&&(a>=r&&a--,s>=r&&s--)}),this},has:function(t){return t?he.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=h=o=e,this},disabled:function(){return!c},lock:function(){return h=e,o||u.disable(),this},locked:function(){return!h},fireWith:function(t,e){return!c||n&&!h||(e=e||[],e=[t,e.slice?e.slice():e],i?h.push(e):d(e)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},he.extend({Deferred:function(t){var e=[["resolve","done",he.Callbacks("once memory"),"resolved"],["reject","fail",he.Callbacks("once memory"),"rejected"],["notify","progress",he.Callbacks("memory")]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return he.Deferred(function(i){he.each(e,function(e,n){var a=n[0],s=he.isFunction(t[e])&&t[e];o[n[1]](function(){var t=s&&s.apply(this,arguments);t&&he.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a+"With"](this===r?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?he.extend(t,r):r}},o={};return r.pipe=r.then,he.each(e,function(t,n){var a=n[2],s=n[3];r[n[1]]=a.add,s&&a.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),o[n[0]]=function(){return o[n[0]+"With"](this===o?r:this,arguments),this},o[n[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,r,o=0,n=ne.call(arguments),a=n.length,s=1!==a||t&&he.isFunction(t.promise)?a:0,l=1===s?t:he.Deferred(),c=function(t,i,r){return function(o){i[t]=this,r[t]=arguments.length>1?ne.call(arguments):o,r===e?l.notifyWith(i,r):--s||l.resolveWith(i,r)}};if(a>1)for(e=Array(a),i=Array(a),r=Array(a);a>o;o++)n[o]&&he.isFunction(n[o].promise)?n[o].promise().done(c(o,r,n)).fail(l.reject).progress(c(o,i,e)):--s;return s||l.resolveWith(r,n),l.promise()}}),he.support=function(e){var i,r,o,n,a,s,l,c,h,d=Y.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!i.length)return e;n=Y.createElement("select"),s=n.appendChild(Y.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==d.className,e.leadingWhitespace=3===d.firstChild.nodeType,e.tbody=!d.getElementsByTagName("tbody").length,e.htmlSerialize=!!d.getElementsByTagName("link").length,e.style=/top/.test(r.getAttribute("style")),e.hrefNormalized="/a"===r.getAttribute("href"),e.opacity=/^0.5/.test(r.style.opacity),e.cssFloat=!!r.style.cssFloat,e.checkOn=!!o.value,e.optSelected=s.selected,e.enctype=!!Y.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,o.checked=!0,e.noCloneChecked=o.cloneNode(!0).checked,n.disabled=!0,e.optDisabled=!s.disabled;try{delete d.test}catch(u){e.deleteExpando=!1}o=Y.createElement("input"),o.setAttribute("value",""),e.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),e.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),a=Y.createDocumentFragment(),a.appendChild(o),e.appendChecked=o.checked,e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){e.noCloneEvent=!1}),d.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+h,"t"),e[h+"Bubbles"]=l in t||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===d.style.backgroundClip;for(h in he(e))break;return e.ownLast="0"!==h,he(function(){var i,r,o,n="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=Y.getElementsByTagName("body")[0];a&&(i=Y.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(i).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",e.reliableHiddenOffsets=c&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",he.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===d.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(d,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(Y.createElement("div")),r.style.cssText=d.style.cssText=n,r.style.marginRight=r.style.width="0",d.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==q&&(d.innerHTML="",d.style.cssText=n+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==d.offsetWidth,e.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(i),i=d=o=r=null)}),i=n=a=s=r=o=null,e}({});var Ce=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ae=/([A-Z])/g;he.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?he.cache[t[he.expando]]:t[he.expando],!!t&&!s(t)},data:function(t,e,i){return o(t,e,i)},removeData:function(t,e){return n(t,e)},_data:function(t,e,i){return o(t,e,i,!0)},_removeData:function(t,e){return n(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&he.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),he.fn.extend({data:function(t,i){var r,o,n=null,s=0,l=this[0];if(t===e){if(this.length&&(n=he.data(l),1===l.nodeType&&!he._data(l,"parsedAttrs"))){for(r=l.attributes;r.length>s;s++)o=r[s].name,0===o.indexOf("data-")&&(o=he.camelCase(o.slice(5)),a(l,o,n[o]));he._data(l,"parsedAttrs",!0)}return n}return"object"==typeof t?this.each(function(){he.data(this,t)}):arguments.length>1?this.each(function(){he.data(this,t,i)}):l?a(l,t,he.data(l,t)):null},removeData:function(t){return this.each(function(){he.removeData(this,t)})}}),he.extend({queue:function(t,i,r){var o;return t?(i=(i||"fx")+"queue",o=he._data(t,i),r&&(!o||he.isArray(r)?o=he._data(t,i,he.makeArray(r)):o.push(r)),o||[]):e},dequeue:function(t,e){e=e||"fx";var i=he.queue(t,e),r=i.length,o=i.shift(),n=he._queueHooks(t,e),a=function(){he.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),r--),o&&("fx"===e&&i.unshift("inprogress"),delete n.stop,o.call(t,a,n)),!r&&n&&n.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return he._data(t,i)||he._data(t,i,{empty:he.Callbacks("once memory").add(function(){he._removeData(t,e+"queue"),he._removeData(t,i)})})}}),he.fn.extend({queue:function(t,i){var r=2;return"string"!=typeof t&&(i=t,t="fx",r--),r>arguments.length?he.queue(this[0],t):i===e?this:this.each(function(){var e=he.queue(this,t,i);he._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&he.dequeue(this,t)})},dequeue:function(t){return this.each(function(){he.dequeue(this,t)})},delay:function(t,e){return t=he.fx?he.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var r=setTimeout(e,t);i.stop=function(){clearTimeout(r)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var r,o=1,n=he.Deferred(),a=this,s=this.length,l=function(){--o||n.resolveWith(a,[a])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";s--;)r=he._data(a[s],t+"queueHooks"),r&&r.empty&&(o++,r.empty.add(l));return l(),n.promise(i)}});var we,Re,De=/[\t\r\n\f]/g,Pe=/\r/g,Be=/^(?:input|select|textarea|button|object)$/i,Ve=/^(?:a|area)$/i,Le=/^(?:checked|selected)$/i,ke=he.support.getSetAttribute,He=he.support.input;he.fn.extend({attr:function(t,e){return he.access(this,he.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){he.removeAttr(this,t)})},prop:function(t,e){return he.access(this,he.prop,t,e,arguments.length>1)},removeProp:function(t){return t=he.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,r,o,n,a=0,s=this.length,l="string"==typeof t&&t;if(he.isFunction(t))return this.each(function(e){he(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ue)||[];s>a;a++)if(i=this[a],r=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(De," "):" ")){for(n=0;o=e[n++];)0>r.indexOf(" "+o+" ")&&(r+=o+" ");i.className=he.trim(r)}return this},removeClass:function(t){var e,i,r,o,n,a=0,s=this.length,l=0===arguments.length||"string"==typeof t&&t;if(he.isFunction(t))return this.each(function(e){he(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ue)||[];s>a;a++)if(i=this[a],r=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(De," "):"")){for(n=0;o=e[n++];)for(;r.indexOf(" "+o+" ")>=0;)r=r.replace(" "+o+" "," ");i.className=t?he.trim(r):""}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):this.each(he.isFunction(t)?function(i){he(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var e,r=0,o=he(this),n=t.match(ue)||[];e=n[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(i===q||"boolean"===i)&&(this.className&&he._data(this,"__className__",this.className),this.className=this.className||t===!1?"":he._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,r=this.length;r>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(De," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,r,o,n=this[0];return arguments.length?(o=he.isFunction(t),this.each(function(i){var n;1===this.nodeType&&(n=o?t.call(this,i,he(this).val()):t,null==n?n="":"number"==typeof n?n+="":he.isArray(n)&&(n=he.map(n,function(t){return null==t?"":t+""})),r=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,n,"value")!==e||(this.value=n))})):n?(r=he.valHooks[n.type]||he.valHooks[n.nodeName.toLowerCase()],r&&"get"in r&&(i=r.get(n,"value"))!==e?i:(i=n.value,"string"==typeof i?i.replace(Pe,""):null==i?"":i)):void 0}}),he.extend({valHooks:{option:{get:function(t){var e=he.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,i,r=t.options,o=t.selectedIndex,n="select-one"===t.type||0>o,a=n?null:[],s=n?o+1:r.length,l=0>o?s:n?o:0;s>l;l++)if(i=r[l],!(!i.selected&&l!==o||(he.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&he.nodeName(i.parentNode,"optgroup"))){if(e=he(i).val(),n)return e;a.push(e)}return a},set:function(t,e){for(var i,r,o=t.options,n=he.makeArray(e),a=o.length;a--;)r=o[a],(r.selected=he.inArray(he(r).val(),n)>=0)&&(i=!0);return i||(t.selectedIndex=-1),n}}},attr:function(t,i,r){var o,n,a=t.nodeType;return t&&3!==a&&8!==a&&2!==a?typeof t.getAttribute===q?he.prop(t,i,r):(1===a&&he.isXMLDoc(t)||(i=i.toLowerCase(),o=he.attrHooks[i]||(he.expr.match.bool.test(i)?Re:we)),r===e?o&&"get"in o&&null!==(n=o.get(t,i))?n:(n=he.find.attr(t,i),null==n?e:n):null!==r?o&&"set"in o&&(n=o.set(t,r,i))!==e?n:(t.setAttribute(i,r+""),r):(he.removeAttr(t,i),e)):void 0},removeAttr:function(t,e){var i,r,o=0,n=e&&e.match(ue);if(n&&1===t.nodeType)for(;i=n[o++];)r=he.propFix[i]||i,he.expr.match.bool.test(i)?He&&ke||!Le.test(i)?t[r]=!1:t[he.camelCase("default-"+i)]=t[r]=!1:he.attr(t,i,""),t.removeAttribute(ke?i:r)},attrHooks:{type:{set:function(t,e){if(!he.support.radioValue&&"radio"===e&&he.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,i,r){var o,n,a,s=t.nodeType;return t&&3!==s&&8!==s&&2!==s?(a=1!==s||!he.isXMLDoc(t),a&&(i=he.propFix[i]||i,n=he.propHooks[i]),r!==e?n&&"set"in n&&(o=n.set(t,r,i))!==e?o:t[i]=r:n&&"get"in n&&null!==(o=n.get(t,i))?o:t[i]):void 0},propHooks:{tabIndex:{get:function(t){var e=he.find.attr(t,"tabindex");return e?parseInt(e,10):Be.test(t.nodeName)||Ve.test(t.nodeName)&&t.href?0:-1}}}}),Re={set:function(t,e,i){return e===!1?he.removeAttr(t,i):He&&ke||!Le.test(i)?t.setAttribute(!ke&&he.propFix[i]||i,i):t[he.camelCase("default-"+i)]=t[i]=!0,i}},he.each(he.expr.match.bool.source.match(/\w+/g),function(t,i){var r=he.expr.attrHandle[i]||he.find.attr;he.expr.attrHandle[i]=He&&ke||!Le.test(i)?function(t,i,o){var n=he.expr.attrHandle[i],a=o?e:(he.expr.attrHandle[i]=e)!=r(t,i,o)?i.toLowerCase():null;return he.expr.attrHandle[i]=n,a}:function(t,i,r){return r?e:t[he.camelCase("default-"+i)]?i.toLowerCase():null}}),He&&ke||(he.attrHooks.value={set:function(t,i,r){return he.nodeName(t,"input")?(t.defaultValue=i,e):we&&we.set(t,i,r)}}),ke||(we={set:function(t,i,r){var o=t.getAttributeNode(r);return o||t.setAttributeNode(o=t.ownerDocument.createAttribute(r)),o.value=i+="","value"===r||i===t.getAttribute(r)?i:e}},he.expr.attrHandle.id=he.expr.attrHandle.name=he.expr.attrHandle.coords=function(t,i,r){var o;return r?e:(o=t.getAttributeNode(i))&&""!==o.value?o.value:null},he.valHooks.button={get:function(t,i){var r=t.getAttributeNode(i);return r&&r.specified?r.value:e},set:we.set},he.attrHooks.contenteditable={set:function(t,e,i){we.set(t,""===e?!1:e,i)}},he.each(["width","height"],function(t,i){he.attrHooks[i]={set:function(t,r){return""===r?(t.setAttribute(i,"auto"),r):e}}})),he.support.hrefNormalized||he.each(["href","src"],function(t,e){he.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),he.support.style||(he.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),he.support.optSelected||(he.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),he.support.enctype||(he.propFix.enctype="encoding"),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(t,i){return he.isArray(i)?t.checked=he.inArray(he(t).val(),i)>=0:e}},he.support.checkOn||(he.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ie=/^(?:input|select|textarea)$/i,Oe=/^key/,Je=/^(?:mouse|contextmenu)|click/,Ne=/^(?:focusinfocus|focusoutblur)$/,Fe=/^([^.]*)(?:\.(.+)|)$/;he.event={global:{},add:function(t,i,r,o,n){var a,s,l,c,h,d,u,p,f,_,m,g=he._data(t);if(g){for(r.handler&&(c=r,r=c.handler,n=c.selector),r.guid||(r.guid=he.guid++),(s=g.events)||(s=g.events={}),(d=g.handle)||(d=g.handle=function(t){return typeof he===q||t&&he.event.triggered===t.type?e:he.event.dispatch.apply(d.elem,arguments)},d.elem=t),i=(i||"").match(ue)||[""],l=i.length;l--;)a=Fe.exec(i[l])||[],f=m=a[1],_=(a[2]||"").split(".").sort(),f&&(h=he.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,h=he.event.special[f]||{},u=he.extend({type:f,origType:m,data:o,handler:r,guid:r.guid,selector:n,needsContext:n&&he.expr.match.needsContext.test(n),namespace:_.join(".")},c),(p=s[f])||(p=s[f]=[],p.delegateCount=0,h.setup&&h.setup.call(t,o,_,d)!==!1||(t.addEventListener?t.addEventListener(f,d,!1):t.attachEvent&&t.attachEvent("on"+f,d))),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=r.guid)),n?p.splice(p.delegateCount++,0,u):p.push(u),he.event.global[f]=!0);t=null}},remove:function(t,e,i,r,o){var n,a,s,l,c,h,d,u,p,f,_,m=he.hasData(t)&&he._data(t);if(m&&(h=m.events)){for(e=(e||"").match(ue)||[""],c=e.length;c--;)if(s=Fe.exec(e[c])||[],p=_=s[1],f=(s[2]||"").split(".").sort(),p){for(d=he.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,u=h[p]||[],s=s[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=n=u.length;n--;)a=u[n],!o&&_!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(u.splice(n,1),a.selector&&u.delegateCount--,d.remove&&d.remove.call(t,a));l&&!u.length&&(d.teardown&&d.teardown.call(t,f,m.handle)!==!1||he.removeEvent(t,p,m.handle),delete h[p])}else for(p in h)he.event.remove(t,p+e[c],i,r,!0);he.isEmptyObject(h)&&(delete m.handle,he._removeData(t,"events"))}},trigger:function(i,r,o,n){var a,s,l,c,h,d,u,p=[o||Y],f=le.call(i,"type")?i.type:i,_=le.call(i,"namespace")?i.namespace.split("."):[];if(l=d=o=o||Y,3!==o.nodeType&&8!==o.nodeType&&!Ne.test(f+he.event.triggered)&&(f.indexOf(".")>=0&&(_=f.split("."),f=_.shift(),_.sort()),s=0>f.indexOf(":")&&"on"+f,i=i[he.expando]?i:new he.Event(f,"object"==typeof i&&i),i.isTrigger=n?2:3,i.namespace=_.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=e,i.target||(i.target=o),r=null==r?[i]:he.makeArray(r,[i]),h=he.event.special[f]||{},n||!h.trigger||h.trigger.apply(o,r)!==!1)){if(!n&&!h.noBubble&&!he.isWindow(o)){for(c=h.delegateType||f,Ne.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),d=l;d===(o.ownerDocument||Y)&&p.push(d.defaultView||d.parentWindow||t)}for(u=0;(l=p[u++])&&!i.isPropagationStopped();)i.type=u>1?c:h.bindType||f,a=(he._data(l,"events")||{})[i.type]&&he._data(l,"handle"),a&&a.apply(l,r),a=s&&l[s],a&&he.acceptData(l)&&a.apply&&a.apply(l,r)===!1&&i.preventDefault();if(i.type=f,!n&&!i.isDefaultPrevented()&&(!h._default||h._default.apply(p.pop(),r)===!1)&&he.acceptData(o)&&s&&o[f]&&!he.isWindow(o)){d=o[s],d&&(o[s]=null),he.event.triggered=f;try{o[f]()}catch(m){}he.event.triggered=e,d&&(o[s]=d)}return i.result}},dispatch:function(t){t=he.event.fix(t);var i,r,o,n,a,s=[],l=ne.call(arguments),c=(he._data(this,"events")||{})[t.type]||[],h=he.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,t)!==!1){for(s=he.event.handlers.call(this,t,c),i=0;(n=s[i++])&&!t.isPropagationStopped();)for(t.currentTarget=n.elem,a=0;(o=n.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((he.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,l),r!==e&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,i){var r,o,n,a,s=[],l=i.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(n=[],a=0;l>a;a++)o=i[a],r=o.selector+" ",n[r]===e&&(n[r]=o.needsContext?he(r,this).index(c)>=0:he.find(r,this,null,[c]).length),n[r]&&n.push(o);n.length&&s.push({elem:c,handlers:n})}return i.length>l&&s.push({elem:this,handlers:i.slice(l)}),s},fix:function(t){if(t[he.expando])return t;var e,i,r,o=t.type,n=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Je.test(o)?this.mouseHooks:Oe.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new he.Event(n),e=r.length;e--;)i=r[e],t[i]=n[i];return t.target||(t.target=n.srcElement||Y),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,n):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var r,o,n,a=i.button,s=i.fromElement;return null==t.pageX&&null!=i.clientX&&(o=t.target.ownerDocument||Y,n=o.documentElement,r=o.body,t.pageX=i.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=i.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?i.toElement:s),t.which||a===e||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):e},delegateType:"focusout"},click:{trigger:function(){return he.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):e},_default:function(t){return he.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,r){var o=he.extend(new he.Event,i,{type:t,isSimulated:!0,originalEvent:{}});r?he.event.trigger(o,null,e):he.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},he.removeEvent=Y.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var r="on"+e;t.detachEvent&&(typeof t[r]===q&&(t[r]=null),t.detachEvent(r,i))},he.Event=function(t,i){return this instanceof he.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:c):this.type=t,i&&he.extend(this,i),this.timeStamp=t&&t.timeStamp||he.now(),this[he.expando]=!0,e):new he.Event(t,i)},he.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},he.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){he.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,r=this,o=t.relatedTarget,n=t.handleObj;return(!o||o!==r&&!he.contains(r,o))&&(t.type=n.origType,i=n.handler.apply(this,arguments),t.type=e),i}}}),he.support.submitBubbles||(he.event.special.submit={setup:function(){return he.nodeName(this,"form")?!1:(he.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,r=he.nodeName(i,"input")||he.nodeName(i,"button")?i.form:e;r&&!he._data(r,"submitBubbles")&&(he.event.add(r,"submit._submit",function(t){t._submit_bubble=!0}),he._data(r,"submitBubbles",!0))}),e)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&he.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return he.nodeName(this,"form")?!1:(he.event.remove(this,"._submit"),e)}}),he.support.changeBubbles||(he.event.special.change={setup:function(){return Ie.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(he.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),he.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),he.event.simulate("change",this,t,!0)})),!1):(he.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ie.test(e.nodeName)&&!he._data(e,"changeBubbles")&&(he.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||he.event.simulate("change",this.parentNode,t,!0)}),he._data(e,"changeBubbles",!0))}),e)},handle:function(t){var i=t.target;return this!==i||t.isSimulated||t.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?t.handleObj.handler.apply(this,arguments):e},teardown:function(){return he.event.remove(this,"._change"),!Ie.test(this.nodeName)}}),he.support.focusinBubbles||he.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,r=function(t){he.event.simulate(e,t.target,he.event.fix(t),!0)};he.event.special[e]={setup:function(){0===i++&&Y.addEventListener(t,r,!0)},teardown:function(){0===--i&&Y.removeEventListener(t,r,!0)}}}),he.fn.extend({on:function(t,i,r,o,n){var a,s;if("object"==typeof t){"string"!=typeof i&&(r=r||i,i=e);for(a in t)this.on(a,i,r,t[a],n);return this}if(null==r&&null==o?(o=i,r=i=e):null==o&&("string"==typeof i?(o=r,r=e):(o=r,r=i,i=e)),o===!1)o=c;else if(!o)return this;return 1===n&&(s=o,o=function(t){return he().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=he.guid++)),this.each(function(){he.event.add(this,t,o,r,i)})},one:function(t,e,i,r){return this.on(t,e,i,r,1)},off:function(t,i,r){var o,n;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,he(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(n in t)this.off(n,i,t[n]);return this}return(i===!1||"function"==typeof i)&&(r=i,i=e),r===!1&&(r=c),this.each(function(){he.event.remove(this,t,r,i)})},trigger:function(t,e){return this.each(function(){he.event.trigger(t,e,this)})},triggerHandler:function(t,i){var r=this[0];return r?he.event.trigger(t,i,r,!0):e}});var Ge=/^.[^:#\[\.,]*$/,ze=/^(?:parents|prev(?:Until|All))/,je=he.expr.match.needsContext,Ue={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({find:function(t){var e,i=[],r=this,o=r.length;if("string"!=typeof t)return this.pushStack(he(t).filter(function(){for(e=0;o>e;e++)if(he.contains(r[e],this))return!0}));for(e=0;o>e;e++)he.find(t,r[e],i);return i=this.pushStack(o>1?he.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},has:function(t){var e,i=he(t,this),r=i.length;return this.filter(function(){for(e=0;r>e;e++)if(he.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(u(this,t||[],!0))},filter:function(t){return this.pushStack(u(this,t||[],!1))},is:function(t){return!!u(this,"string"==typeof t&&je.test(t)?he(t):t||[],!1).length},closest:function(t,e){for(var i,r=0,o=this.length,n=[],a=je.test(t)||"string"!=typeof t?he(t,e||this.context):0;o>r;r++)for(i=this[r];i&&i!==e;i=i.parentNode)if(11>i.nodeType&&(a?a.index(i)>-1:1===i.nodeType&&he.find.matchesSelector(i,t))){i=n.push(i);break}return this.pushStack(n.length>1?he.unique(n):n)},index:function(t){return t?"string"==typeof t?he.inArray(this[0],he(t)):he.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var i="string"==typeof t?he(t,e):he.makeArray(t&&t.nodeType?[t]:t),r=he.merge(this.get(),i);return this.pushStack(he.unique(r))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),he.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return he.dir(t,"parentNode")},parentsUntil:function(t,e,i){return he.dir(t,"parentNode",i)},next:function(t){return d(t,"nextSibling")},prev:function(t){return d(t,"previousSibling")},nextAll:function(t){return he.dir(t,"nextSibling")},prevAll:function(t){return he.dir(t,"previousSibling")},nextUntil:function(t,e,i){return he.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return he.dir(t,"previousSibling",i)
},siblings:function(t){return he.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return he.sibling(t.firstChild)},contents:function(t){return he.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:he.merge([],t.childNodes)}},function(t,e){he.fn[t]=function(i,r){var o=he.map(this,e,i);return"Until"!==t.slice(-5)&&(r=i),r&&"string"==typeof r&&(o=he.filter(r,o)),this.length>1&&(Ue[t]||(o=he.unique(o)),ze.test(t)&&(o=o.reverse())),this.pushStack(o)}}),he.extend({filter:function(t,e,i){var r=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?he.find.matchesSelector(r,t)?[r]:[]:he.find.matches(t,he.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,i,r){for(var o=[],n=t[i];n&&9!==n.nodeType&&(r===e||1!==n.nodeType||!he(n).is(r));)1===n.nodeType&&o.push(n),n=n[i];return o},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var We="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Xe=/ jQuery\d+="(?:null|\d+)"/g,qe=RegExp("<(?:"+We+")[\\s/>]","i"),Ke=/^\s+/,Ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qe=/<([\w:]+)/,Ze=/<tbody/i,$e=/<|&#?\w+;/,ti=/<(?:script|style|link)/i,ei=/^(?:checkbox|radio)$/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ri=/^$|\/(?:java|ecma)script/i,oi=/^true\/(.*)/,ni=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ai={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:he.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},si=p(Y),li=si.appendChild(Y.createElement("div"));ai.optgroup=ai.option,ai.tbody=ai.tfoot=ai.colgroup=ai.caption=ai.thead,ai.th=ai.td,he.fn.extend({text:function(t){return he.access(this,function(t){return t===e?he.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,r=t?he.filter(t,this):this,o=0;null!=(i=r[o]);o++)e||1!==i.nodeType||he.cleanData(v(i)),i.parentNode&&(e&&he.contains(i.ownerDocument,i)&&g(v(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&he.cleanData(v(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&he.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return he.clone(this,t,e)})},html:function(t){return he.access(this,function(t){var i=this[0]||{},r=0,o=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(Xe,""):e;if(!("string"!=typeof t||ti.test(t)||!he.support.htmlSerialize&&qe.test(t)||!he.support.leadingWhitespace&&Ke.test(t)||ai[(Qe.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ye,"<$1></$2>");try{for(;o>r;r++)i=this[r]||{},1===i.nodeType&&(he.cleanData(v(i,!1)),i.innerHTML=t);i=0}catch(n){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=he.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(i){var r=t[e++],o=t[e++];o&&(r&&r.parentNode!==o&&(r=this.nextSibling),he(this).remove(),o.insertBefore(i,r))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,i){t=re.apply([],t);var r,o,n,a,s,l,c=0,h=this.length,d=this,u=h-1,p=t[0],f=he.isFunction(p);if(f||!(1>=h||"string"!=typeof p||he.support.checkClone)&&ii.test(p))return this.each(function(r){var o=d.eq(r);f&&(t[0]=p.call(this,r,o.html())),o.domManip(t,e,i)});if(h&&(l=he.buildFragment(t,this[0].ownerDocument,!1,!i&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=he.map(v(l,"script"),_),n=a.length;h>c;c++)o=l,c!==u&&(o=he.clone(o,!0,!0),n&&he.merge(a,v(o,"script"))),e.call(this[c],o,c);if(n)for(s=a[a.length-1].ownerDocument,he.map(a,m),c=0;n>c;c++)o=a[c],ri.test(o.type||"")&&!he._data(o,"globalEval")&&he.contains(s,o)&&(o.src?he._evalUrl(o.src):he.globalEval((o.text||o.textContent||o.innerHTML||"").replace(ni,"")));l=r=null}return this}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){he.fn[t]=function(t){for(var i,r=0,o=[],n=he(t),a=n.length-1;a>=r;r++)i=r===a?this:this.clone(!0),he(n[r])[e](i),oe.apply(o,i.get());return this.pushStack(o)}}),he.extend({clone:function(t,e,i){var r,o,n,a,s,l=he.contains(t.ownerDocument,t);if(he.support.html5Clone||he.isXMLDoc(t)||!qe.test("<"+t.nodeName+">")?n=t.cloneNode(!0):(li.innerHTML=t.outerHTML,li.removeChild(n=li.firstChild)),!(he.support.noCloneEvent&&he.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||he.isXMLDoc(t)))for(r=v(n),s=v(t),a=0;null!=(o=s[a]);++a)r[a]&&b(o,r[a]);if(e)if(i)for(s=s||v(t),r=r||v(n),a=0;null!=(o=s[a]);a++)y(o,r[a]);else y(t,n);return r=v(n,"script"),r.length>0&&g(r,!l&&v(t,"script")),r=s=o=null,n},buildFragment:function(t,e,i,r){for(var o,n,a,s,l,c,h,d=t.length,u=p(e),f=[],_=0;d>_;_++)if(n=t[_],n||0===n)if("object"===he.type(n))he.merge(f,n.nodeType?[n]:n);else if($e.test(n)){for(s=s||u.appendChild(e.createElement("div")),l=(Qe.exec(n)||["",""])[1].toLowerCase(),h=ai[l]||ai._default,s.innerHTML=h[1]+n.replace(Ye,"<$1></$2>")+h[2],o=h[0];o--;)s=s.lastChild;if(!he.support.leadingWhitespace&&Ke.test(n)&&f.push(e.createTextNode(Ke.exec(n)[0])),!he.support.tbody)for(n="table"!==l||Ze.test(n)?"<table>"!==h[1]||Ze.test(n)?0:s:s.firstChild,o=n&&n.childNodes.length;o--;)he.nodeName(c=n.childNodes[o],"tbody")&&!c.childNodes.length&&n.removeChild(c);for(he.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=u.lastChild}else f.push(e.createTextNode(n));for(s&&u.removeChild(s),he.support.appendChecked||he.grep(v(f,"input"),M),_=0;n=f[_++];)if((!r||-1===he.inArray(n,r))&&(a=he.contains(n.ownerDocument,n),s=v(u.appendChild(n),"script"),a&&g(s),i))for(o=0;n=s[o++];)ri.test(n.type||"")&&i.push(n);return s=null,u},cleanData:function(t,e){for(var i,r,o,n,a=0,s=he.expando,l=he.cache,c=he.support.deleteExpando,h=he.event.special;null!=(i=t[a]);a++)if((e||he.acceptData(i))&&(o=i[s],n=o&&l[o])){if(n.events)for(r in n.events)h[r]?he.event.remove(i,r):he.removeEvent(i,r,n.handle);l[o]&&(delete l[o],c?delete i[s]:typeof i.removeAttribute!==q?i.removeAttribute(s):i[s]=null,ee.push(o))}},_evalUrl:function(t){return he.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),he.fn.extend({wrapAll:function(t){if(he.isFunction(t))return this.each(function(e){he(this).wrapAll(t.call(this,e))});if(this[0]){var e=he(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(he.isFunction(t)?function(e){he(this).wrapInner(t.call(this,e))}:function(){var e=he(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=he.isFunction(t);return this.each(function(i){he(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){he.nodeName(this,"body")||he(this).replaceWith(this.childNodes)}).end()}});var ci,hi,di,ui=/alpha\([^)]*\)/i,pi=/opacity\s*=\s*([^)]*)/,fi=/^(top|right|bottom|left)$/,_i=/^(none|table(?!-c[ea]).+)/,mi=/^margin/,gi=RegExp("^("+de+")(.*)$","i"),yi=RegExp("^("+de+")(?!px)[a-z%]+$","i"),bi=RegExp("^([+-])=("+de+")","i"),vi={BODY:"block"},Mi={position:"absolute",visibility:"hidden",display:"block"},Si={letterSpacing:0,fontWeight:400},xi=["Top","Right","Bottom","Left"],Ti=["Webkit","O","Moz","ms"];he.fn.extend({css:function(t,i){return he.access(this,function(t,i,r){var o,n,a={},s=0;if(he.isArray(i)){for(n=hi(t),o=i.length;o>s;s++)a[i[s]]=he.css(t,i[s],!1,n);return a}return r!==e?he.style(t,i,r):he.css(t,i)},t,i,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){x(this)?he(this).show():he(this).hide()})}}),he.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=di(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":he.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,r,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,a,s,l=he.camelCase(i),c=t.style;if(i=he.cssProps[l]||(he.cssProps[l]=S(c,l)),s=he.cssHooks[i]||he.cssHooks[l],r===e)return s&&"get"in s&&(n=s.get(t,!1,o))!==e?n:c[i];if(a=typeof r,"string"===a&&(n=bi.exec(r))&&(r=(n[1]+1)*n[2]+parseFloat(he.css(t,i)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||he.cssNumber[l]||(r+="px"),he.support.clearCloneStyle||""!==r||0!==i.indexOf("background")||(c[i]="inherit"),s&&"set"in s&&(r=s.set(t,r,o))===e)))try{c[i]=r}catch(h){}}},css:function(t,i,r,o){var n,a,s,l=he.camelCase(i);return i=he.cssProps[l]||(he.cssProps[l]=S(t.style,l)),s=he.cssHooks[i]||he.cssHooks[l],s&&"get"in s&&(a=s.get(t,!0,r)),a===e&&(a=di(t,i,o)),"normal"===a&&i in Si&&(a=Si[i]),""===r||r?(n=parseFloat(a),r===!0||he.isNumeric(n)?n||0:a):a}}),t.getComputedStyle?(hi=function(e){return t.getComputedStyle(e,null)},di=function(t,i,r){var o,n,a,s=r||hi(t),l=s?s.getPropertyValue(i)||s[i]:e,c=t.style;return s&&(""!==l||he.contains(t.ownerDocument,t)||(l=he.style(t,i)),yi.test(l)&&mi.test(i)&&(o=c.width,n=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=o,c.minWidth=n,c.maxWidth=a)),l}):Y.documentElement.currentStyle&&(hi=function(t){return t.currentStyle},di=function(t,i,r){var o,n,a,s=r||hi(t),l=s?s[i]:e,c=t.style;return null==l&&c&&c[i]&&(l=c[i]),yi.test(l)&&!fi.test(i)&&(o=c.left,n=t.runtimeStyle,a=n&&n.left,a&&(n.left=t.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=o,a&&(n.left=a)),""===l?"auto":l}),he.each(["height","width"],function(t,i){he.cssHooks[i]={get:function(t,r,o){return r?0===t.offsetWidth&&_i.test(he.css(t,"display"))?he.swap(t,Mi,function(){return A(t,i,o)}):A(t,i,o):e},set:function(t,e,r){var o=r&&hi(t);return E(t,e,r?C(t,i,r,he.support.boxSizing&&"border-box"===he.css(t,"boxSizing",!1,o),o):0)}}}),he.support.opacity||(he.cssHooks.opacity={get:function(t,e){return pi.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,r=t.currentStyle,o=he.isNumeric(e)?"alpha(opacity="+100*e+")":"",n=r&&r.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===he.trim(n.replace(ui,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||r&&!r.filter)||(i.filter=ui.test(n)?n.replace(ui,o):n+" "+o)}}),he(function(){he.support.reliableMarginRight||(he.cssHooks.marginRight={get:function(t,i){return i?he.swap(t,{display:"inline-block"},di,[t,"marginRight"]):e}}),!he.support.pixelPosition&&he.fn.position&&he.each(["top","left"],function(t,i){he.cssHooks[i]={get:function(t,r){return r?(r=di(t,i),yi.test(r)?he(t).position()[i]+"px":r):e}}})}),he.expr&&he.expr.filters&&(he.expr.filters.hidden=function(t){return 0>=t.offsetWidth&&0>=t.offsetHeight||!he.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||he.css(t,"display"))},he.expr.filters.visible=function(t){return!he.expr.filters.hidden(t)}),he.each({margin:"",padding:"",border:"Width"},function(t,e){he.cssHooks[t+e]={expand:function(i){for(var r=0,o={},n="string"==typeof i?i.split(" "):[i];4>r;r++)o[t+xi[r]+e]=n[r]||n[r-2]||n[0];return o}},mi.test(t)||(he.cssHooks[t+e].set=E)});var Ei=/%20/g,Ci=/\[\]$/,Ai=/\r?\n/g,wi=/^(?:submit|button|image|reset|file)$/i,Ri=/^(?:input|select|textarea|keygen)/i;he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=he.prop(this,"elements");return t?he.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!he(this).is(":disabled")&&Ri.test(this.nodeName)&&!wi.test(t)&&(this.checked||!ei.test(t))}).map(function(t,e){var i=he(this).val();return null==i?null:he.isArray(i)?he.map(i,function(t){return{name:e.name,value:t.replace(Ai,"\r\n")}}):{name:e.name,value:i.replace(Ai,"\r\n")}}).get()}}),he.param=function(t,i){var r,o=[],n=function(t,e){e=he.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=he.ajaxSettings&&he.ajaxSettings.traditional),he.isArray(t)||t.jquery&&!he.isPlainObject(t))he.each(t,function(){n(this.name,this.value)});else for(r in t)D(r,t[r],i,n);return o.join("&").replace(Ei,"+")},he.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){he.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),he.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,r){return this.on(e,t,i,r)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Di,Pi,Bi=he.now(),Vi=/\?/,Li=/#.*$/,ki=/([?&])_=[^&]*/,Hi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ii=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Oi=/^(?:GET|HEAD)$/,Ji=/^\/\//,Ni=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Fi=he.fn.load,Gi={},zi={},ji="*/".concat("*");try{Pi=K.href}catch(Ui){Pi=Y.createElement("a"),Pi.href="",Pi=Pi.href}Di=Ni.exec(Pi.toLowerCase())||[],he.fn.load=function(t,i,r){if("string"!=typeof t&&Fi)return Fi.apply(this,arguments);var o,n,a,s=this,l=t.indexOf(" ");return l>=0&&(o=t.slice(l,t.length),t=t.slice(0,l)),he.isFunction(i)?(r=i,i=e):i&&"object"==typeof i&&(a="POST"),s.length>0&&he.ajax({url:t,type:a,dataType:"html",data:i}).done(function(t){n=arguments,s.html(o?he("<div>").append(he.parseHTML(t)).find(o):t)}).complete(r&&function(t,e){s.each(r,n||[t.responseText,e,t])}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){he.fn[e]=function(t){return this.on(e,t)}}),he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pi,type:"GET",isLocal:Ii.test(Di[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ji,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":he.parseJSON,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?V(V(t,he.ajaxSettings),e):V(he.ajaxSettings,t)},ajaxPrefilter:P(Gi),ajaxTransport:P(zi),ajax:function(t,i){function r(t,i,r,o){var n,d,y,b,M,x=i;2!==v&&(v=2,l&&clearTimeout(l),h=e,s=o||"",S.readyState=t>0?4:0,n=t>=200&&300>t||304===t,r&&(b=L(u,S,r)),b=k(u,b,S,n),n?(u.ifModified&&(M=S.getResponseHeader("Last-Modified"),M&&(he.lastModified[a]=M),M=S.getResponseHeader("etag"),M&&(he.etag[a]=M)),204===t||"HEAD"===u.type?x="nocontent":304===t?x="notmodified":(x=b.state,d=b.data,y=b.error,n=!y)):(y=x,(t||!x)&&(x="error",0>t&&(t=0))),S.status=t,S.statusText=(i||x)+"",n?_.resolveWith(p,[d,x,S]):_.rejectWith(p,[S,x,y]),S.statusCode(g),g=e,c&&f.trigger(n?"ajaxSuccess":"ajaxError",[S,u,n?d:y]),m.fireWith(p,[S,x]),c&&(f.trigger("ajaxComplete",[S,u]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var o,n,a,s,l,c,h,d,u=he.ajaxSetup({},i),p=u.context||u,f=u.context&&(p.nodeType||p.jquery)?he(p):he.event,_=he.Deferred(),m=he.Callbacks("once memory"),g=u.statusCode||{},y={},b={},v=0,M="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(2===v){if(!d)for(d={};e=Hi.exec(s);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===v?s:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return v||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return v||(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>v)for(e in t)g[e]=[g[e],t[e]];else S.always(t[S.status]);return this},abort:function(t){var e=t||M;return h&&h.abort(e),r(0,e),this}};if(_.promise(S).complete=m.add,S.success=S.done,S.error=S.fail,u.url=((t||u.url||Pi)+"").replace(Li,"").replace(Ji,Di[1]+"//"),u.type=i.method||i.type||u.method||u.type,u.dataTypes=he.trim(u.dataType||"*").toLowerCase().match(ue)||[""],null==u.crossDomain&&(o=Ni.exec(u.url.toLowerCase()),u.crossDomain=!(!o||o[1]===Di[1]&&o[2]===Di[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Di[3]||("http:"===Di[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=he.param(u.data,u.traditional)),B(Gi,u,i,S),2===v)return S;c=u.global,c&&0===he.active++&&he.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Oi.test(u.type),a=u.url,u.hasContent||(u.data&&(a=u.url+=(Vi.test(a)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=ki.test(a)?a.replace(ki,"$1_="+Bi++):a+(Vi.test(a)?"&":"?")+"_="+Bi++)),u.ifModified&&(he.lastModified[a]&&S.setRequestHeader("If-Modified-Since",he.lastModified[a]),he.etag[a]&&S.setRequestHeader("If-None-Match",he.etag[a])),(u.data&&u.hasContent&&u.contentType!==!1||i.contentType)&&S.setRequestHeader("Content-Type",u.contentType),S.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+ji+"; q=0.01":""):u.accepts["*"]);for(n in u.headers)S.setRequestHeader(n,u.headers[n]);if(u.beforeSend&&(u.beforeSend.call(p,S,u)===!1||2===v))return S.abort();M="abort";for(n in{success:1,error:1,complete:1})S[n](u[n]);if(h=B(zi,u,i,S)){S.readyState=1,c&&f.trigger("ajaxSend",[S,u]),u.async&&u.timeout>0&&(l=setTimeout(function(){S.abort("timeout")},u.timeout));try{v=1,h.send(y,r)}catch(x){if(!(2>v))throw x;r(-1,x)}}else r(-1,"No Transport");return S},getJSON:function(t,e,i){return he.get(t,e,i,"json")},getScript:function(t,i){return he.get(t,e,i,"script")}}),he.each(["get","post"],function(t,i){he[i]=function(t,r,o,n){return he.isFunction(r)&&(n=n||o,o=r,r=e),he.ajax({url:t,type:i,dataType:n,data:r,success:o})}}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return he.globalEval(t),t}}}),he.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),he.ajaxTransport("script",function(t){if(t.crossDomain){var i,r=Y.head||he("head")[0]||Y.documentElement;return{send:function(e,o){i=Y.createElement("script"),i.async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||o(200,"success"))},r.insertBefore(i,r.firstChild)},abort:function(){i&&i.onload(e,!0)}}}});var Wi=[],Xi=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Wi.pop()||he.expando+"_"+Bi++;return this[t]=!0,t}}),he.ajaxPrefilter("json jsonp",function(i,r,o){var n,a,s,l=i.jsonp!==!1&&(Xi.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xi.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(n=i.jsonpCallback=he.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Xi,"$1"+n):i.jsonp!==!1&&(i.url+=(Vi.test(i.url)?"&":"?")+i.jsonp+"="+n),i.converters["script json"]=function(){return s||he.error(n+" was not called"),s[0]},i.dataTypes[0]="json",a=t[n],t[n]=function(){s=arguments},o.always(function(){t[n]=a,i[n]&&(i.jsonpCallback=r.jsonpCallback,Wi.push(n)),s&&he.isFunction(a)&&a(s[0]),s=a=e}),"script"):e});var qi,Ki,Yi=0,Qi=t.ActiveXObject&&function(){var t;for(t in qi)qi[t](e,!0)};he.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&H()||I()}:H,Ki=he.ajaxSettings.xhr(),he.support.cors=!!Ki&&"withCredentials"in Ki,Ki=he.support.ajax=!!Ki,Ki&&he.ajaxTransport(function(i){if(!i.crossDomain||he.support.cors){var r;return{send:function(o,n){var a,s,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(s in i.xhrFields)l[s]=i.xhrFields[s];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(s in o)l.setRequestHeader(s,o[s])}catch(c){}l.send(i.hasContent&&i.data||null),r=function(t,o){var s,c,h,d;try{if(r&&(o||4===l.readyState))if(r=e,a&&(l.onreadystatechange=he.noop,Qi&&delete qi[a]),o)4!==l.readyState&&l.abort();else{d={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{h=l.statusText}catch(u){h=""}s||!i.isLocal||i.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(p){o||n(-1,p)}d&&n(s,h,d,c)},i.async?4===l.readyState?setTimeout(r):(a=++Yi,Qi&&(qi||(qi={},he(t).unload(Qi)),qi[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(e,!0)}}}});var Zi,$i,tr=/^(?:toggle|show|hide)$/,er=RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),ir=/queueHooks$/,rr=[G],or={"*":[function(t,e){var i=this.createTween(t,e),r=i.cur(),o=er.exec(e),n=o&&o[3]||(he.cssNumber[t]?"":"px"),a=(he.cssNumber[t]||"px"!==n&&+r)&&er.exec(he.css(i.elem,t)),s=1,l=20;if(a&&a[3]!==n){n=n||a[3],o=o||[],a=+r||1;do s=s||".5",a/=s,he.style(i.elem,t,a+n);while(s!==(s=i.cur()/r)&&1!==s&&--l)}return o&&(a=i.start=+a||+r||0,i.unit=n,i.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),i}]};he.Animation=he.extend(N,{tweener:function(t,e){he.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,r=0,o=t.length;o>r;r++)i=t[r],or[i]=or[i]||[],or[i].unshift(e)},prefilter:function(t,e){e?rr.unshift(t):rr.push(t)}}),he.Tween=z,z.prototype={constructor:z,init:function(t,e,i,r,o,n){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=n||(he.cssNumber[i]?"":"px")},cur:function(){var t=z.propHooks[this.prop];return t&&t.get?t.get(this):z.propHooks._default.get(this)},run:function(t){var e,i=z.propHooks[this.prop];return this.pos=e=this.options.duration?he.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=he.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){he.fx.step[t.prop]?he.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[he.cssProps[t.prop]]||he.cssHooks[t.prop])?he.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},he.each(["toggle","show","hide"],function(t,e){var i=he.fn[e];he.fn[e]=function(t,r,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(j(e,!0),t,r,o)}}),he.fn.extend({fadeTo:function(t,e,i,r){return this.filter(x).css("opacity",0).show().end().animate({opacity:e},t,i,r)},animate:function(t,e,i,r){var o=he.isEmptyObject(t),n=he.speed(e,i,r),a=function(){var e=N(this,he.extend({},t),n);(o||he._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||n.queue===!1?this.each(a):this.queue(n.queue,a)},stop:function(t,i,r){var o=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",n=he.timers,a=he._data(this);if(i)a[i]&&a[i].stop&&o(a[i]);else for(i in a)a[i]&&a[i].stop&&ir.test(i)&&o(a[i]);for(i=n.length;i--;)n[i].elem!==this||null!=t&&n[i].queue!==t||(n[i].anim.stop(r),e=!1,n.splice(i,1));(e||!r)&&he.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=he._data(this),r=i[t+"queue"],o=i[t+"queueHooks"],n=he.timers,a=r?r.length:0;for(i.finish=!0,he.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=n.length;e--;)n[e].elem===this&&n[e].queue===t&&(n[e].anim.stop(!0),n.splice(e,1));for(e=0;a>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete i.finish})}}),he.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){he.fn[t]=function(t,i,r){return this.animate(e,t,i,r)}}),he.speed=function(t,e,i){var r=t&&"object"==typeof t?he.extend({},t):{complete:i||!i&&e||he.isFunction(t)&&t,duration:t,easing:i&&e||e&&!he.isFunction(e)&&e};return r.duration=he.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in he.fx.speeds?he.fx.speeds[r.duration]:he.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){he.isFunction(r.old)&&r.old.call(this),r.queue&&he.dequeue(this,r.queue)},r},he.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},he.timers=[],he.fx=z.prototype.init,he.fx.tick=function(){var t,i=he.timers,r=0;for(Zi=he.now();i.length>r;r++)t=i[r],t()||i[r]!==t||i.splice(r--,1);i.length||he.fx.stop(),Zi=e},he.fx.timer=function(t){t()&&he.timers.push(t)&&he.fx.start()},he.fx.interval=13,he.fx.start=function(){$i||($i=setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){clearInterval($i),$i=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fx.step={},he.expr&&he.expr.filters&&(he.expr.filters.animated=function(t){return he.grep(he.timers,function(e){return t===e.elem}).length}),he.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){he.offset.setOffset(this,t,e)});var i,r,o={top:0,left:0},n=this[0],a=n&&n.ownerDocument;return a?(i=a.documentElement,he.contains(i,n)?(typeof n.getBoundingClientRect!==q&&(o=n.getBoundingClientRect()),r=U(a),{top:o.top+(r.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(r.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):o):void 0},he.offset={setOffset:function(t,e,i){var r=he.css(t,"position");"static"===r&&(t.style.position="relative");var o,n,a=he(t),s=a.offset(),l=he.css(t,"top"),c=he.css(t,"left"),h=("absolute"===r||"fixed"===r)&&he.inArray("auto",[l,c])>-1,d={},u={};h?(u=a.position(),o=u.top,n=u.left):(o=parseFloat(l)||0,n=parseFloat(c)||0),he.isFunction(e)&&(e=e.call(t,i,s)),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+n),"using"in e?e.using.call(t,d):a.css(d)}},he.fn.extend({position:function(){if(this[0]){var t,e,i={top:0,left:0},r=this[0];return"fixed"===he.css(r,"position")?e=r.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),he.nodeName(t[0],"html")||(i=t.offset()),i.top+=he.css(t[0],"borderTopWidth",!0),i.left+=he.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-he.css(r,"marginTop",!0),left:e.left-i.left-he.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Q;t&&!he.nodeName(t,"html")&&"static"===he.css(t,"position");)t=t.offsetParent;return t||Q})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var r=/Y/.test(i);he.fn[t]=function(o){return he.access(this,function(t,o,n){var a=U(t);return n===e?a?i in a?a[i]:a.document.documentElement[o]:t[o]:(a?a.scrollTo(r?he(a).scrollLeft():n,r?n:he(a).scrollTop()):t[o]=n,e)},t,o,arguments.length,null)}}),he.each({Height:"height",Width:"width"},function(t,i){he.each({padding:"inner"+t,content:i,"":"outer"+t},function(r,o){he.fn[o]=function(o,n){var a=arguments.length&&(r||"boolean"!=typeof o),s=r||(o===!0||n===!0?"margin":"border");return he.access(this,function(i,r,o){var n;return he.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(n=i.documentElement,Math.max(i.body["scroll"+t],n["scroll"+t],i.body["offset"+t],n["offset"+t],n["client"+t])):o===e?he.css(i,r,s):he.style(i,r,o,s)},i,a?o:e,a,null)}})}),he.fn.size=function(){return this.length},he.fn.andSelf=he.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=he:(t.jQuery=t.$=he,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he}))}(window),!function(t,e,i){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}(function(r){"use strict";function o(t,e,i,o){this.id=i,this.target=t,this.tooltip=C,this.elements={target:t},this._id=k+"-"+i,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:r(),disabled:E,attr:o,onTooltip:E,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=E}function n(t){return t===C||"object"!==r.type(t)}function a(t){return!(r.isFunction(t)||t&&t.attr||t.length||"object"===r.type(t)&&(t.jquery||t.then))}function s(t){var e,i,o,s;return n(t)?E:(n(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(e=t.content,n(e)||e.jquery||e.done?e=t.content={text:i=a(e)?E:e}:i=e.text,"ajax"in e&&(o=e.ajax,s=o&&o.once!==E,delete e.ajax,e.text=function(t,e){var n=i||r(this).attr(e.options.content.attr)||"Loading...",a=r.ajax(r.extend({},o,{context:e})).then(o.success,C,o.error).then(function(t){return t&&s&&e.set("content.text",t),t},function(t,i,r){e.destroyed||0===t.status||e.set("content.text",i+": "+r)});return s?n:(e.set("content.text",n),a)}),"title"in e&&(n(e.title)||(e.button=e.title.button,e.title=e.title.text),a(e.title||E)&&(e.title=E))),"position"in t&&n(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&n(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===T?{ready:T}:{event:t.show}),"hide"in t&&n(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&n(t.style)&&(t.style={classes:t.style}),r.each(L,function(){this.sanitize&&this.sanitize(t)}),t)}function l(t,e){for(var i,r=0,o=t,n=e.split(".");o=o[n[r++]];)r<n.length&&(i=o);return[i||t,n.pop()]}function c(t,e){var i,r,o;for(i in this.checks)for(r in this.checks[i])(o=new RegExp(r,"i").exec(t))&&(e.push(o),("builtin"===i||this.plugins[i])&&this.checks[i][r].apply(this.plugins[i]||this,e))}function h(t){return O.concat("").join(t?"-"+t+" ":" ")}function d(i){return i&&{type:i.type,pageX:i.pageX,pageY:i.pageY,target:i.target,relatedTarget:i.relatedTarget,scrollX:i.scrollX||t.pageXOffset||e.body.scrollLeft||e.documentElement.scrollLeft,scrollY:i.scrollY||t.pageYOffset||e.body.scrollTop||e.documentElement.scrollTop}||{}}function u(t,e){return e>0?setTimeout(r.proxy(t,this),e):void t.call(this)}function p(t){return this.tooltip.hasClass(U)?E:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),void(this.timers.show=u.call(this,function(){this.toggle(T,t)},this.options.show.delay)))}function f(t){if(this.tooltip.hasClass(U))return E;var e=r(t.relatedTarget),i=e.closest(J)[0]===this.tooltip[0],o=e[0]===this.options.show.target[0];
if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(i||o))try{t.preventDefault(),t.stopImmediatePropagation()}catch(n){}else this.timers.hide=u.call(this,function(){this.toggle(E,t)},this.options.hide.delay,this)}function _(t){return this.tooltip.hasClass(U)||!this.options.hide.inactive?E:(clearTimeout(this.timers.inactive),void(this.timers.inactive=u.call(this,function(){this.hide(t)},this.options.hide.inactive)))}function m(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function g(t,i,o){r(e.body).delegate(t,(i.split?i:i.join(Z+" "))+Z,function(){var t=b.api[r.attr(this,I)];t&&!t.disabled&&o.apply(t,arguments)})}function y(t,i,n){var a,l,c,h,d,u=r(e.body),p=t[0]===e?u:t,f=t.metadata?t.metadata(n.metadata):C,_="html5"===n.metadata.type&&f?f[n.metadata.name]:C,m=t.data(n.metadata.name||"qtipopts");try{m="string"==typeof m?r.parseJSON(m):m}catch(g){}if(h=r.extend(T,{},b.defaults,n,"object"==typeof m?s(m):C,s(_||f)),l=h.position,h.id=i,"boolean"==typeof h.content.text){if(c=t.attr(h.content.attr),h.content.attr===E||!c)return E;h.content.text=c}if(l.container.length||(l.container=u),l.target===E&&(l.target=p),h.show.target===E&&(h.show.target=p),h.show.solo===T&&(h.show.solo=l.container.closest("body")),h.hide.target===E&&(h.hide.target=p),h.position.viewport===T&&(h.position.viewport=l.container),l.container=l.container.eq(0),l.at=new M(l.at,T),l.my=new M(l.my),t.data(k))if(h.overwrite)t.qtip("destroy",!0);else if(h.overwrite===E)return E;return t.attr(H,i),h.suppress&&(d=t.attr("title"))&&t.removeAttr("title").attr(X,d).attr("title",""),a=new o(t,h,i,!!c),t.data(k,a),t.one("remove.qtip-"+i+" removeqtip.qtip-"+i,function(){var t;(t=r(this).data(k))&&t.destroy(!0)}),a}var b,v,M,S,x,T=!0,E=!1,C=null,A="x",w="y",R="top",D="left",P="bottom",B="right",V="center",L={},k="qtip",H="data-hasqtip",I="data-qtip-id",O=["ui-widget","ui-tooltip"],J="."+k,N="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),F=k+"-fixed",G=k+"-default",z=k+"-focus",j=k+"-hover",U=k+"-disabled",W="_replacedByqTip",X="oldtitle",q={ie:function(){for(var t=3,i=e.createElement("div");(i.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];);return t>4?t:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||E};v=o.prototype,v._when=function(t){return r.when.apply(r,t)},v.render=function(t){if(this.rendered||this.destroyed)return this;var e,i=this,o=this.options,n=this.cache,a=this.elements,s=o.content.text,l=o.content.title,c=o.content.button,h=o.position,d=("."+this._id+" ",[]);return r.attr(this.target[0],"aria-describedby",this._id),this.tooltip=a.tooltip=e=r("<div/>",{id:this._id,"class":[k,G,o.style.classes,k+"-pos-"+o.position.my.abbrev()].join(" "),width:o.style.width||"",height:o.style.height||"",tracking:"mouse"===h.target&&h.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":E,"aria-describedby":this._id+"-content","aria-hidden":T}).toggleClass(U,this.disabled).attr(I,this.id).data(k,this).appendTo(h.container).append(a.content=r("<div />",{"class":k+"-content",id:this._id+"-content","aria-atomic":T})),this.rendered=-1,this.positioning=T,l&&(this._createTitle(),r.isFunction(l)||d.push(this._updateTitle(l,E))),c&&this._createButton(),r.isFunction(s)||d.push(this._updateContent(s,E)),this.rendered=T,this._setWidget(),r.each(L,function(t){var e;"render"===this.initialize&&(e=this(i))&&(i.plugins[t]=e)}),this._unassignEvents(),this._assignEvents(),this._when(d).then(function(){i._trigger("render"),i.positioning=E,i.hiddenDuringWait||!o.show.ready&&!t||i.toggle(T,n.event,E),i.hiddenDuringWait=E}),b.api[this.id]=this,this},v.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=T;var t=this.target,e=t.attr(X);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),r.each(this.plugins,function(){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),t.removeData(k).removeAttr(I).removeAttr(H).removeAttr("aria-describedby"),this.options.suppress&&e&&t.attr("title",e).removeAttr(X),this._unbind(t),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=C,delete b.api[this.id]}}return this.destroyed?this.target:(t===T&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",r.proxy(e,this)),!this.triggering&&this.hide()),this.target)},S=v.checks={builtin:{"^id$":function(t,e,i,o){var n=i===T?b.nextid:i,a=k+"-"+n;n!==E&&n.length>0&&!r("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=o},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,r){this.options.content.text===this.target.attr(r)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(t[e]=new M(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(T)||this.toggle(T))},"^style.classes$":function(t,e,i,r){this.rendered&&this.tooltip.removeClass(r).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass(G,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,i){this.rendered&&this.tooltip[(r.isFunction(i)?"":"un")+"bind"]("tooltip"+e,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},v.get=function(t){if(this.destroyed)return this;var e=l(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var K=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,Y=/^prerender|show\.ready/i;v.set=function(t,e){if(this.destroyed)return this;var i,o=this.rendered,n=E,a=this.options;return this.checks,"string"==typeof t?(i=t,t={},t[i]=e):t=r.extend({},t),r.each(t,function(e,i){if(o&&Y.test(e))return void delete t[e];var s,c=l(a,e.toLowerCase());s=c[0][c[1]],c[0][c[1]]=i&&i.nodeType?r(i):i,n=K.test(e)||n,t[e]=[c[0],c[1],i,s]}),s(a),this.positioning=T,r.each(t,r.proxy(c,this)),this.positioning=E,this.rendered&&this.tooltip[0].offsetWidth>0&&n&&this.reposition("mouse"===a.position.target?C:this.cache.event),this},v._update=function(t,e){var i=this,o=this.cache;return this.rendered&&t?(r.isFunction(t)&&(t=t.call(this.elements.target,o.event,this)||""),r.isFunction(t.then)?(o.waiting=T,t.then(function(t){return o.waiting=E,i._update(t,e)},C,function(t){return i._update(t,e)})):t===E||!t&&""!==t?E:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then(function(t){t.images&&t.images.length&&i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(o.event,!t.length)}))):E},v._waitForContent=function(t){var e=this.cache;return e.waiting=T,(r.fn.imagesLoaded?t.imagesLoaded():r.Deferred().resolve([])).done(function(){e.waiting=E}).promise()},v._updateContent=function(t,e){this._update(t,this.elements.content,e)},v._updateTitle=function(t,e){this._update(t,this.elements.title,e)===E&&this._removeTitle(E)},v._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=r("<div />",{"class":k+"-titlebar "+(this.options.style.widget?h("header"):"")}).append(t.title=r("<div />",{id:e,"class":k+"-title","aria-atomic":T})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(t){r(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(t){r(this).toggleClass("ui-state-hover","mouseover"===t.type)}),this.options.content.button&&this._createButton()},v._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=C,t!==E&&this.reposition())},v.reposition=function(i,o){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=T;var n,a,s=this.cache,l=this.tooltip,c=this.options.position,h=c.target,d=c.my,u=c.at,p=c.viewport,f=c.container,_=c.adjust,m=_.method.split(" "),g=l.outerWidth(E),y=l.outerHeight(E),b=0,v=0,M=l.css("position"),S={left:0,top:0},x=l[0].offsetWidth>0,C=i&&"scroll"===i.type,A=r(t),w=f[0].ownerDocument,k=this.mouse;if(r.isArray(h)&&2===h.length)u={x:D,y:R},S={left:h[0],top:h[1]};else if("mouse"===h)u={x:D,y:R},!k||!k.pageX||!_.mouse&&i&&i.pageX?i&&i.pageX||((!_.mouse||this.options.show.distance)&&s.origin&&s.origin.pageX?i=s.origin:(!i||i&&("resize"===i.type||"scroll"===i.type))&&(i=s.event)):i=k,"static"!==M&&(S=f.offset()),w.body.offsetWidth!==(t.innerWidth||w.documentElement.clientWidth)&&(a=r(e.body).offset()),S={left:i.pageX-S.left+(a&&a.left||0),top:i.pageY-S.top+(a&&a.top||0)},_.mouse&&C&&k&&(S.left-=(k.scrollX||0)-A.scrollLeft(),S.top-=(k.scrollY||0)-A.scrollTop());else{if("event"===h?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?s.target=r(i.target):i.target||(s.target=this.elements.target):"event"!==h&&(s.target=r(h.jquery?h:this.elements.target)),h=s.target,h=r(h).eq(0),0===h.length)return this;h[0]===e||h[0]===t?(b=q.iOS?t.innerWidth:h.width(),v=q.iOS?t.innerHeight:h.height(),h[0]===t&&(S={top:(p||h).scrollTop(),left:(p||h).scrollLeft()})):L.imagemap&&h.is("area")?n=L.imagemap(this,h,u,L.viewport?m:E):L.svg&&h&&h[0].ownerSVGElement?n=L.svg(this,h,u,L.viewport?m:E):(b=h.outerWidth(E),v=h.outerHeight(E),S=h.offset()),n&&(b=n.width,v=n.height,a=n.offset,S=n.position),S=this.reposition.offset(h,S,f),(q.iOS>3.1&&q.iOS<4.1||q.iOS>=4.3&&q.iOS<4.33||!q.iOS&&"fixed"===M)&&(S.left-=A.scrollLeft(),S.top-=A.scrollTop()),(!n||n&&n.adjustable!==E)&&(S.left+=u.x===B?b:u.x===V?b/2:0,S.top+=u.y===P?v:u.y===V?v/2:0)}return S.left+=_.x+(d.x===B?-g:d.x===V?-g/2:0),S.top+=_.y+(d.y===P?-y:d.y===V?-y/2:0),L.viewport?(S.adjusted=L.viewport(this,S,c,b,v,g,y),a&&S.adjusted.left&&(S.left+=a.left),a&&S.adjusted.top&&(S.top+=a.top)):S.adjusted={left:0,top:0},this._trigger("move",[S,p.elem||p],i)?(delete S.adjusted,o===E||!x||isNaN(S.left)||isNaN(S.top)||"mouse"===h||!r.isFunction(c.effect)?l.css(S):r.isFunction(c.effect)&&(c.effect.call(l,this,r.extend({},S)),l.queue(function(t){r(this).css({opacity:"",height:""}),q.ie&&this.style.removeAttribute("filter"),t()})),this.positioning=E,this):this},v.reposition.offset=function(t,i,o){function n(t,e){i.left+=e*t.scrollLeft(),i.top+=e*t.scrollTop()}if(!o[0])return i;var a,s,l,c,h=r(t[0].ownerDocument),d=!!q.ie&&"CSS1Compat"!==e.compatMode,u=o[0];do"static"!==(s=r.css(u,"position"))&&("fixed"===s?(l=u.getBoundingClientRect(),n(h,-1)):(l=r(u).position(),l.left+=parseFloat(r.css(u,"borderLeftWidth"))||0,l.top+=parseFloat(r.css(u,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(r.css(u,"marginLeft"))||0),i.top-=l.top+(parseFloat(r.css(u,"marginTop"))||0),a||"hidden"===(c=r.css(u,"overflow"))||"visible"===c||(a=r(u)));while(u=u.offsetParent);return a&&(a[0]!==h[0]||d)&&n(a,1),i};var Q=(M=v.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,V).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?w:A}).prototype;Q.invert=function(t,e){this[t]=this[t]===D?B:this[t]===B?D:e||this[t]},Q.string=function(){var t=this.x,e=this.y;return t===e?t:this.precedance===w||this.forceY&&"center"!==e?e+" "+t:t+" "+e},Q.abbrev=function(){var t=this.string().split(" ");return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},Q.clone=function(){return new M(this.string(),this.forceY)},v.toggle=function(t,i){var o=this.cache,n=this.options,a=this.tooltip;if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(o.event.type)&&n.show.target.add(i.target).length===n.show.target.length&&a.has(i.relatedTarget).length)return this;o.event=d(i)}if(this.waiting&&!t&&(this.hiddenDuringWait=T),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var s,l,c,h=t?"show":"hide",u=this.options[h],p=(this.options[t?"hide":"show"],this.options.position),f=this.options.content,_=this.tooltip.css("width"),m=this.tooltip.is(":visible"),g=t||1===u.target.length,y=!i||u.target.length<2||o.target[0]===i.target;return(typeof t).search("boolean|number")&&(t=!m),s=!a.is(":animated")&&m===t&&y,l=s?C:!!this._trigger(h,[90]),this.destroyed?this:(l!==E&&t&&this.focus(i),!l||s?this:(r.attr(a[0],"aria-hidden",!t),t?(o.origin=d(this.mouse),r.isFunction(f.text)&&this._updateContent(f.text,E),r.isFunction(f.title)&&this._updateTitle(f.title,E),!x&&"mouse"===p.target&&p.adjust.mouse&&(r(e).bind("mousemove."+k,this._storeMouse),x=T),_||a.css("width",a.outerWidth(E)),this.reposition(i,arguments[2]),_||a.css("width",""),u.solo&&("string"==typeof u.solo?r(u.solo):r(J,u.solo)).not(a).not(u.target).qtip("hide",r.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,x&&!r(J+'[tracking="true"]:visible',u.solo).not(a).length&&(r(e).unbind("mousemove."+k),x=E),this.blur(i)),c=r.proxy(function(){t?(q.ie&&a[0].style.removeAttribute("filter"),a.css("overflow",""),"string"==typeof u.autofocus&&r(this.options.show.autofocus,a).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):a.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")},this),u.effect===E||g===E?(a[h](),c()):r.isFunction(u.effect)?(a.stop(1,1),u.effect.call(a,this),a.queue("fx",function(t){c(),t()})):a.fadeTo(90,t?1:0,c),t&&u.target.trigger("qtip-"+this.id+"-inactive"),this))},v.show=function(t){return this.toggle(T,t)},v.hide=function(t){return this.toggle(E,t)},v.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=r(J),i=this.tooltip,o=parseInt(i[0].style.zIndex,10),n=b.zindex+e.length;return i.hasClass(z)||this._trigger("focus",[n],t)&&(o!==n&&(e.each(function(){this.style.zIndex>o&&(this.style.zIndex=this.style.zIndex-1)}),e.filter("."+z).qtip("blur",t)),i.addClass(z)[0].style.zIndex=n),this},v.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(z),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},v.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(U):this.disabled):"boolean"!=typeof t&&(t=T),this.rendered&&this.tooltip.toggleClass(U,t).attr("aria-disabled",t),this.disabled=!!t,this)},v.enable=function(){return this.disable(E)},v._createButton=function(){var t=this,e=this.elements,i=e.tooltip,o=this.options.content.button,n="string"==typeof o,a=n?o:"Close tooltip";e.button&&e.button.remove(),e.button=o.jquery?o:r("<a />",{"class":"qtip-close "+(this.options.style.widget?"":k+"-icon"),title:a,"aria-label":a}).prepend(r("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||i).attr("role","button").click(function(e){return i.hasClass(U)||t.hide(e),E})},v._updateButton=function(t){if(!this.rendered)return E;var e=this.elements.button;t?this._createButton():e.remove()},v._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,r=i.hasClass(U);i.removeClass(U),U=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(U,r),i.toggleClass("ui-helper-reset "+h(),t).toggleClass(G,this.options.style.def&&!t),e.content&&e.content.toggleClass(h("content"),t),e.titlebar&&e.titlebar.toggleClass(h("header"),t),e.button&&e.button.toggleClass(k+"-icon",!t)},v._storeMouse=function(t){(this.mouse=d(t)).type="mousemove"},v._bind=function(t,e,i,o,n){var a="."+this._id+(o?"-"+o:"");e.length&&r(t).bind((e.split?e:e.join(a+" "))+a,r.proxy(i,n||this))},v._unbind=function(t,e){r(t).unbind("."+this._id+(e?"-"+e:""))};var Z="."+k;r(function(){g(J,["mouseenter","mouseleave"],function(t){var e="mouseenter"===t.type,i=r(t.currentTarget),o=r(t.relatedTarget||t.target),n=this.options;e?(this.focus(t),i.hasClass(F)&&!i.hasClass(U)&&clearTimeout(this.timers.hide)):"mouse"===n.position.target&&n.hide.event&&n.show.target&&!o.closest(n.show.target[0]).length&&this.hide(t),i.toggleClass(j,e)}),g("["+I+"]",N,_)}),v._trigger=function(t,e,i){var o=r.Event("tooltip"+t);return o.originalEvent=i&&r.extend({},i)||this.cache.event||C,this.triggering=t,this.tooltip.trigger(o,[this].concat(e||[])),this.triggering=E,!o.isDefaultPrevented()},v._bindEvents=function(t,e,i,o,n,a){if(o.add(i).length===o.length){var s=[];e=r.map(e,function(e){var i=r.inArray(e,t);return i>-1?void s.push(t.splice(i,1)[0]):e}),s.length&&this._bind(i,s,function(t){var e=this.rendered?this.tooltip[0].offsetWidth>0:!1;(e?a:n).call(this,t)})}this._bind(i,t,n),this._bind(o,e,a)},v._assignInitialEvents=function(t){function e(t){return this.disabled||this.destroyed?E:(this.cache.event=d(t),this.cache.target=t?r(t.target):[i],clearTimeout(this.timers.show),void(this.timers.show=u.call(this,function(){this.render("object"==typeof t||o.show.ready)},o.show.delay)))}var o=this.options,n=o.show.target,a=o.hide.target,s=o.show.event?r.trim(""+o.show.event).split(" "):[],l=o.hide.event?r.trim(""+o.hide.event).split(" "):[];/mouse(over|enter)/i.test(o.show.event)&&!/mouse(out|leave)/i.test(o.hide.event)&&l.push("mouseleave"),this._bind(n,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=T}),this._bindEvents(s,l,n,a,e,function(){clearTimeout(this.timers.show)}),(o.show.ready||o.prerender)&&e.call(this,t)},v._assignEvents=function(){var i=this,o=this.options,n=o.position,a=this.tooltip,s=o.show.target,l=o.hide.target,c=n.container,h=n.viewport,d=r(e),u=(r(e.body),r(t)),g=o.show.event?r.trim(""+o.show.event).split(" "):[],y=o.hide.event?r.trim(""+o.hide.event).split(" "):[];r.each(o.events,function(t,e){i._bind(a,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,a)}),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&this._bind(d,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),o.hide.fixed?l=l.add(a.addClass(F)):/mouse(over|enter)/i.test(o.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+o.hide.event).indexOf("unfocus")>-1&&this._bind(c.closest("html"),["mousedown","touchstart"],function(t){var e=r(t.target),i=this.rendered&&!this.tooltip.hasClass(U)&&this.tooltip[0].offsetWidth>0,o=e.parents(J).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||o||this.target.has(e[0]).length||!i||this.hide(t)}),"number"==typeof o.hide.inactive&&(this._bind(s,"qtip-"+this.id+"-inactive",_),this._bind(l.add(a),b.inactiveEvents,_,"-inactive")),this._bindEvents(g,y,s,l,p,f),this._bind(s.add(a),"mousemove",function(t){if("number"==typeof o.hide.distance){var e=this.cache.origin||{},i=this.options.hide.distance,r=Math.abs;(r(t.pageX-e.pageX)>=i||r(t.pageY-e.pageY)>=i)&&this.hide(t)}this._storeMouse(t)}),"mouse"===n.target&&n.adjust.mouse&&(o.hide.event&&this._bind(s,["mouseenter","mouseleave"],function(t){this.cache.onTarget="mouseenter"===t.type}),this._bind(d,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(U)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(n.adjust.resize||h.length)&&this._bind(r.event.special.resize?h:u,"resize",m),n.adjust.scroll&&this._bind(u.add(n.container),"scroll",m)},v._unassignEvents=function(){var i=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],t,e];this._unbind(r([]).pushStack(r.grep(i,function(t){return"object"==typeof t})))},b=r.fn.qtip=function(t,e,o){var n=(""+t).toLowerCase(),a=C,l=r.makeArray(arguments).slice(1),c=l[l.length-1],h=this[0]?r.data(this[0],k):C;return!arguments.length&&h||"api"===n?h:"string"==typeof t?(this.each(function(){var t=r.data(this,k);if(!t)return T;if(c&&c.timeStamp&&(t.cache.event=c),!e||"option"!==n&&"options"!==n)t[n]&&t[n].apply(t,l);else{if(o===i&&!r.isPlainObject(e))return a=t.get(e),E;t.set(e,o)}}),a!==C?a:this):"object"!=typeof t&&arguments.length?void 0:(h=s(r.extend(T,{},t)),this.each(function(t){var e,i;return i=r.isArray(h.id)?h.id[t]:h.id,i=!i||i===E||i.length<1||b.api[i]?b.nextid++:i,e=y(r(this),i,h),e===E?T:(b.api[i]=e,r.each(L,function(){"initialize"===this.initialize&&this(e)}),void e._assignInitialEvents(c))}))},r.qtip=o,b.api={},r.each({attr:function(t,e){if(this.length){var i=this[0],o="title",n=r.data(i,"qtip");if(t===o&&n&&"object"==typeof n&&n.options.suppress)return arguments.length<2?r.attr(i,X):(n&&n.options.content.attr===o&&n.cache.attr&&n.set("content.text",e),this.attr(X,e))}return r.fn["attr"+W].apply(this,arguments)},clone:function(t){var e=(r([]),r.fn["clone"+W].apply(this,arguments));return t||e.filter("["+X+"]").attr("title",function(){return r.attr(this,X)}).removeAttr(X),e}},function(t,e){if(!e||r.fn[t+W])return T;var i=r.fn[t+W]=r.fn[t];r.fn[t]=function(){return e.apply(this,arguments)||i.apply(this,arguments)}}),r.ui||(r["cleanData"+W]=r.cleanData,r.cleanData=function(t){for(var e,i=0;(e=r(t[i])).length;i++)if(e.attr(H))try{e.triggerHandler("removeqtip")}catch(o){}r["cleanData"+W].apply(this,arguments)}),b.version="2.2.0",b.nextid=0,b.inactiveEvents=N,b.zindex=15e3,b.defaults={prerender:E,id:E,overwrite:T,suppress:T,content:{text:T,attr:"title",title:E,button:E},position:{my:"top left",at:"bottom right",target:E,container:E,viewport:E,adjust:{x:0,y:0,mouse:T,scroll:T,resize:T,method:"flipinvert flipinvert"},effect:function(t,e){r(this).animate(e,{duration:200,queue:E})}},show:{target:E,event:"mouseenter",effect:T,delay:90,solo:E,ready:E,autofocus:E},hide:{target:E,event:"mouseleave",effect:T,delay:0,fixed:E,inactive:E,leave:"window",distance:E},style:{classes:"",widget:E,width:E,height:E,def:T},events:{render:C,move:C,show:C,hide:C,toggle:C,visible:C,hidden:C,focus:C,blur:C}}})}(window,document),function(t){t.fn.hoverIntent=function(e,i){var r={sensitivity:7,interval:100,timeout:0};r=t.extend(r,i?{over:e,out:i}:e);var o,n,a,s,l=function(t){o=t.pageX,n=t.pageY},c=function(e,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.abs(a-o)+Math.abs(s-n)<r.sensitivity?(t(i).unbind("mousemove",l),i.hoverIntent_s=1,r.over.apply(i,[e])):(a=o,s=n,i.hoverIntent_t=setTimeout(function(){c(e,i)},r.interval),void 0)},h=function(t,e){return e.hoverIntent_t=clearTimeout(e.hoverIntent_t),e.hoverIntent_s=0,r.out.apply(e,[t])},d=function(e){for(var i=("mouseover"==e.type?e.fromElement:e.toElement)||e.relatedTarget;i&&i!=this;)try{i=i.parentNode}catch(e){i=this}if(i==this)return!1;var o=jQuery.extend({},e),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseover"==e.type?(a=o.pageX,s=o.pageY,t(n).bind("mousemove",l),1!=n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){c(o,n)},r.interval))):(t(n).unbind("mousemove",l),1==n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){h(o,n)},r.timeout)))};return this.mouseover(d).mouseout(d)}}(jQuery),function(t){t.fn.bgIframe=t.fn.bgiframe=function(e){if(t.browser.msie&&/6.0/.test(navigator.userAgent)){e=t.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;"},e||{});var i=function(t){return t&&t.constructor==Number?t+"px":t},r='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+e.src+'"style="display:block;position:absolute;z-index:-1;'+(e.opacity!==!1?"filter:Alpha(Opacity='0');":"")+"top:"+("auto"==e.top?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":i(e.top))+";left:"+("auto"==e.left?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":i(e.left))+";width:"+("auto"==e.width?"expression(this.parentNode.offsetWidth+'px')":i(e.width))+";height:"+("auto"==e.height?"expression(this.parentNode.offsetHeight+'px')":i(e.height))+';"/>';return this.each(function(){0==t("> iframe.bgiframe",this).length&&this.insertBefore(document.createElement(r),this.firstChild)})}return this}}(jQuery);var THREE={REVISION:"69"};"object"==typeof module&&(module.exports=THREE),void 0===Math.sign&&(Math.sign=function(t){return 0>t?-1:t>0?1:0}),THREE.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},THREE.CullFaceNone=0,THREE.CullFaceBack=1,THREE.CullFaceFront=2,THREE.CullFaceFrontBack=3,THREE.FrontFaceDirectionCW=0,THREE.FrontFaceDirectionCCW=1,THREE.BasicShadowMap=0,THREE.PCFShadowMap=1,THREE.PCFSoftShadowMap=2,THREE.FrontSide=0,THREE.BackSide=1,THREE.DoubleSide=2,THREE.NoShading=0,THREE.FlatShading=1,THREE.SmoothShading=2,THREE.NoColors=0,THREE.FaceColors=1,THREE.VertexColors=2,THREE.NoBlending=0,THREE.NormalBlending=1,THREE.AdditiveBlending=2,THREE.SubtractiveBlending=3,THREE.MultiplyBlending=4,THREE.CustomBlending=5,THREE.AddEquation=100,THREE.SubtractEquation=101,THREE.ReverseSubtractEquation=102,THREE.MinEquation=103,THREE.MaxEquation=104,THREE.ZeroFactor=200,THREE.OneFactor=201,THREE.SrcColorFactor=202,THREE.OneMinusSrcColorFactor=203,THREE.SrcAlphaFactor=204,THREE.OneMinusSrcAlphaFactor=205,THREE.DstAlphaFactor=206,THREE.OneMinusDstAlphaFactor=207,THREE.DstColorFactor=208,THREE.OneMinusDstColorFactor=209,THREE.SrcAlphaSaturateFactor=210,THREE.MultiplyOperation=0,THREE.MixOperation=1,THREE.AddOperation=2,THREE.UVMapping=function(){},THREE.CubeReflectionMapping=function(){},THREE.CubeRefractionMapping=function(){},THREE.SphericalReflectionMapping=function(){},THREE.SphericalRefractionMapping=function(){},THREE.RepeatWrapping=1e3,THREE.ClampToEdgeWrapping=1001,THREE.MirroredRepeatWrapping=1002,THREE.NearestFilter=1003,THREE.NearestMipMapNearestFilter=1004,THREE.NearestMipMapLinearFilter=1005,THREE.LinearFilter=1006,THREE.LinearMipMapNearestFilter=1007,THREE.LinearMipMapLinearFilter=1008,THREE.UnsignedByteType=1009,THREE.ByteType=1010,THREE.ShortType=1011,THREE.UnsignedShortType=1012,THREE.IntType=1013,THREE.UnsignedIntType=1014,THREE.FloatType=1015,THREE.UnsignedShort4444Type=1016,THREE.UnsignedShort5551Type=1017,THREE.UnsignedShort565Type=1018,THREE.AlphaFormat=1019,THREE.RGBFormat=1020,THREE.RGBAFormat=1021,THREE.LuminanceFormat=1022,THREE.LuminanceAlphaFormat=1023,THREE.RGB_S3TC_DXT1_Format=2001,THREE.RGBA_S3TC_DXT1_Format=2002,THREE.RGBA_S3TC_DXT3_Format=2003,THREE.RGBA_S3TC_DXT5_Format=2004,THREE.RGB_PVRTC_4BPPV1_Format=2100,THREE.RGB_PVRTC_2BPPV1_Format=2101,THREE.RGBA_PVRTC_4BPPV1_Format=2102,THREE.RGBA_PVRTC_2BPPV1_Format=2103,THREE.Color=function(t){return 3===arguments.length?this.setRGB(arguments[0],arguments[1],arguments[2]):this.set(t)},THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(t){return t instanceof THREE.Color?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(t,e,i){if(0===e)this.r=this.g=this.b=i;else{var r=function(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+6*(e-t)*(2/3-i):t},o=.5>=i?i*(1+e):i+e-i*e,n=2*i-o;this.r=r(n,o,t+1/3),this.g=r(n,o,t),this.b=r(n,o,t-1/3)}return this},setStyle:function(t){if(/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(t)){var e=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(t);return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,this}if(/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(t)){var e=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(t);return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,this}if(/^\#([0-9a-f]{6})$/i.test(t)){var e=/^\#([0-9a-f]{6})$/i.exec(t);return this.setHex(parseInt(e[1],16)),this}if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(t)){var e=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t);return this.setHex(parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3],16)),this}return/^(\w+)$/i.test(t)?(this.setHex(THREE.ColorKeywords[t]),this):void 0},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t){return this.r=t.r*t.r,this.g=t.g*t.g,this.b=t.b*t.b,this},copyLinearToGamma:function(t){return this.r=Math.sqrt(t.r),this.g=Math.sqrt(t.g),this.b=Math.sqrt(t.b),this},convertGammaToLinear:function(){var t=this.r,e=this.g,i=this.b;return this.r=t*t,this.g=e*e,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,i,r=t||{h:0,s:0,l:0},o=this.r,n=this.g,a=this.b,s=Math.max(o,n,a),l=Math.min(o,n,a),c=(l+s)/2;if(l===s)e=0,i=0;else{var h=s-l;switch(i=.5>=c?h/(s+l):h/(2-s-l),s){case o:e=(n-a)/h+(a>n?6:0);break;case n:e=(a-o)/h+2;break;case a:e=(o-n)/h+4}e/=6}return r.h=e,r.s=i,r.l=c,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,i){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=i,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t){return this.r=t[0],this.g=t[1],this.b=t[2],this},toArray:function(){return[this.r,this.g,this.b]},clone:function(){return(new THREE.Color).setRGB(this.r,this.g,this.b)}},THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},THREE.Quaternion=function(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==r?r:1
},THREE.Quaternion.prototype={constructor:THREE.Quaternion,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this.onChangeCallback(),this},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(t instanceof THREE.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var i=Math.cos(t._x/2),r=Math.cos(t._y/2),o=Math.cos(t._z/2),n=Math.sin(t._x/2),a=Math.sin(t._y/2),s=Math.sin(t._z/2);return"XYZ"===t.order?(this._x=n*r*o+i*a*s,this._y=i*a*o-n*r*s,this._z=i*r*s+n*a*o,this._w=i*r*o-n*a*s):"YXZ"===t.order?(this._x=n*r*o+i*a*s,this._y=i*a*o-n*r*s,this._z=i*r*s-n*a*o,this._w=i*r*o+n*a*s):"ZXY"===t.order?(this._x=n*r*o-i*a*s,this._y=i*a*o+n*r*s,this._z=i*r*s+n*a*o,this._w=i*r*o-n*a*s):"ZYX"===t.order?(this._x=n*r*o-i*a*s,this._y=i*a*o+n*r*s,this._z=i*r*s-n*a*o,this._w=i*r*o+n*a*s):"YZX"===t.order?(this._x=n*r*o+i*a*s,this._y=i*a*o+n*r*s,this._z=i*r*s-n*a*o,this._w=i*r*o-n*a*s):"XZY"===t.order&&(this._x=n*r*o-i*a*s,this._y=i*a*o-n*r*s,this._z=i*r*s+n*a*o,this._w=i*r*o+n*a*s),e!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,r=i[0],o=i[4],n=i[8],a=i[1],s=i[5],l=i[9],c=i[2],h=i[6],d=i[10],u=r+s+d;return u>0?(e=.5/Math.sqrt(u+1),this._w=.25/e,this._x=(h-l)*e,this._y=(n-c)*e,this._z=(a-o)*e):r>s&&r>d?(e=2*Math.sqrt(1+r-s-d),this._w=(h-l)/e,this._x=.25*e,this._y=(o+a)/e,this._z=(n+c)/e):s>d?(e=2*Math.sqrt(1+s-r-d),this._w=(n-c)/e,this._x=(o+a)/e,this._y=.25*e,this._z=(l+h)/e):(e=2*Math.sqrt(1+d-r-s),this._w=(a-o)/e,this._x=(n+c)/e,this._y=(l+h)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e,i=1e-6;return function(r,o){return void 0===t&&(t=new THREE.Vector3),e=r.dot(o)+1,i>e?(e=0,Math.abs(r.x)>Math.abs(r.z)?t.set(-r.y,r.x,0):t.set(0,-r.z,r.y)):t.crossVectors(r,o),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,e){var i=t._x,r=t._y,o=t._z,n=t._w,a=e._x,s=e._y,l=e._z,c=e._w;return this._x=i*c+n*a+r*l-o*s,this._y=r*c+n*s+o*a-i*l,this._z=o*c+n*l+i*s-r*a,this._w=n*c-i*a-r*s-o*l,this.onChangeCallback(),this},multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,r=this._y,o=this._z,n=this._w,a=n*t._w+i*t._x+r*t._y+o*t._z;if(0>a?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=n,this._x=i,this._y=r,this._z=o,this;var s=Math.acos(a),l=Math.sqrt(1-a*a);if(Math.abs(l)<.001)return this._w=.5*(n+this._w),this._x=.5*(i+this._x),this._y=.5*(r+this._y),this._z=.5*(o+this._z),this;var c=Math.sin((1-e)*s)/l,h=Math.sin(e*s)/l;return this._w=n*c+this._w*h,this._x=i*c+this._x*h,this._y=r*c+this._y*h,this._z=o*c+this._z*h,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){},clone:function(){return new THREE.Quaternion(this._x,this._y,this._z,this._w)}},THREE.Quaternion.slerp=function(t,e,i,r){return i.copy(t).slerp(e,r)},THREE.Vector2=function(t,e){this.x=t||0,this.y=e||0},THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScalar:function(t){return this.x+=t,this.y+=t,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e}else this.x=0,this.y=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this},clampScalar:function(){var t,e;return function(i,r){return void 0===t&&(t=new THREE.Vector2,e=new THREE.Vector2),t.set(i,i),e.set(r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},clone:function(){return new THREE.Vector2(this.x,this.y)}},THREE.Vector3=function(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0},THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return e instanceof THREE.Euler==!1&&console.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===t&&(t=new THREE.Quaternion),this.applyQuaternion(t.setFromEuler(e)),this}}(),applyAxisAngle:function(){var t;return function(e,i){return void 0===t&&(t=new THREE.Quaternion),this.applyQuaternion(t.setFromAxisAngle(e,i)),this}}(),applyMatrix3:function(t){var e=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[3]*i+o[6]*r,this.y=o[1]*e+o[4]*i+o[7]*r,this.z=o[2]*e+o[5]*i+o[8]*r,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*r+o[12],this.y=o[1]*e+o[5]*i+o[9]*r+o[13],this.z=o[2]*e+o[6]*i+o[10]*r+o[14],this},applyProjection:function(t){var e=this.x,i=this.y,r=this.z,o=t.elements,n=1/(o[3]*e+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*e+o[4]*i+o[8]*r+o[12])*n,this.y=(o[1]*e+o[5]*i+o[9]*r+o[13])*n,this.z=(o[2]*e+o[6]*i+o[10]*r+o[14])*n,this},applyQuaternion:function(t){var e=this.x,i=this.y,r=this.z,o=t.x,n=t.y,a=t.z,s=t.w,l=s*e+n*r-a*i,c=s*i+a*e-o*r,h=s*r+o*i-n*e,d=-o*e-n*i-a*r;return this.x=l*s+d*-o+c*-a-h*-n,this.y=c*s+d*-n+h*-o-l*-a,this.z=h*s+d*-a+l*-n-c*-o,this},project:function(){var t;return function(e){return void 0===t&&(t=new THREE.Matrix4),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyProjection(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new THREE.Matrix4),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*r,this.y=o[1]*e+o[5]*i+o[9]*r,this.z=o[2]*e+o[6]*i+o[10]*r,this.normalize(),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e,this.z*=e}else this.x=0,this.y=0,this.z=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this.z>t.z&&(this.z=t.z),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this.z<t.z&&(this.z=t.z),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this.z<t.z?this.z=t.z:this.z>e.z&&(this.z=e.z),this},clampScalar:function(){var t,e;return function(i,r){return void 0===t&&(t=new THREE.Vector3,e=new THREE.Vector3),t.set(i,i,i),e.set(r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var i=this.x,r=this.y,o=this.z;return this.x=r*t.z-o*t.y,this.y=o*t.x-i*t.z,this.z=i*t.y-r*t.x,this},crossVectors:function(t,e){var i=t.x,r=t.y,o=t.z,n=e.x,a=e.y,s=e.z;return this.x=r*s-o*a,this.y=o*n-i*s,this.z=i*a-r*n,this},projectOnVector:function(){var t,e;return function(i){return void 0===t&&(t=new THREE.Vector3),t.copy(i).normalize(),e=this.dot(t),this.copy(t).multiplyScalar(e)}}(),projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new THREE.Vector3),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new THREE.Vector3),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/(this.length()*t.length());return Math.acos(THREE.Math.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r},setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},setFromMatrixPosition:function(t){return this.x=t.elements[12],this.y=t.elements[13],this.z=t.elements[14],this},setFromMatrixScale:function(t){var e=this.set(t.elements[0],t.elements[1],t.elements[2]).length(),i=this.set(t.elements[4],t.elements[5],t.elements[6]).length(),r=this.set(t.elements[8],t.elements[9],t.elements[10]).length();return this.x=e,this.y=i,this.z=r,this},setFromMatrixColumn:function(t,e){var i=4*t,r=e.elements;return this.x=r[i],this.y=r[i+1],this.z=r[i+2],this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}},THREE.Vector4=function(t,e,i,r){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==r?r:1},THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,o=this.w,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*r+n[12]*o,this.y=n[1]*e+n[5]*i+n[9]*r+n[13]*o,this.z=n[2]*e+n[6]*i+n[10]*r+n[14]*o,this.w=n[3]*e+n[7]*i+n[11]*r+n[15]*o,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e,this.z*=e,this.w*=e}else this.x=0,this.y=0,this.z=0,this.w=1;return this},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return 1e-4>e?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,r,o,n=.01,a=.1,s=t.elements,l=s[0],c=s[4],h=s[8],d=s[1],u=s[5],p=s[9],f=s[2],_=s[6],m=s[10];if(Math.abs(c-d)<n&&Math.abs(h-f)<n&&Math.abs(p-_)<n){if(Math.abs(c+d)<a&&Math.abs(h+f)<a&&Math.abs(p+_)<a&&Math.abs(l+u+m-3)<a)return this.set(1,0,0,0),this;e=Math.PI;var g=(l+1)/2,y=(u+1)/2,b=(m+1)/2,v=(c+d)/4,M=(h+f)/4,S=(p+_)/4;return g>y&&g>b?n>g?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(g),r=v/i,o=M/i):y>b?n>y?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(y),i=v/r,o=S/r):n>b?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(b),i=M/o,r=S/o),this.set(i,r,o,e),this}var x=Math.sqrt((_-p)*(_-p)+(h-f)*(h-f)+(d-c)*(d-c));return Math.abs(x)<.001&&(x=1),this.x=(_-p)/x,this.y=(h-f)/x,this.z=(d-c)/x,this.w=Math.acos((l+u+m-1)/2),this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this.z>t.z&&(this.z=t.z),this.w>t.w&&(this.w=t.w),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this.z<t.z&&(this.z=t.z),this.w<t.w&&(this.w=t.w),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this.z<t.z?this.z=t.z:this.z>e.z&&(this.z=e.z),this.w<t.w?this.w=t.w:this.w>e.w&&(this.w=e.w),this},clampScalar:function(){var t,e;return function(i,r){return void 0===t&&(t=new THREE.Vector4,e=new THREE.Vector4),t.set(i,i,i,i),e.set(r,r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)}},THREE.Euler=function(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._order=r||THREE.Euler.DefaultOrder},THREE.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],THREE.Euler.DefaultOrder="XYZ",THREE.Euler.prototype={constructor:THREE.Euler,_x:0,_y:0,_z:0,_order:THREE.Euler.DefaultOrder,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e){var i=THREE.Math.clamp,r=t.elements,o=r[0],n=r[4],a=r[8],s=r[1],l=r[5],c=r[9],h=r[2],d=r[6],u=r[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-c,u),this._z=Math.atan2(-n,o)):(this._x=Math.atan2(d,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-i(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(a,u),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,u),this._z=Math.atan2(-n,l)):(this._y=0,this._z=Math.atan2(s,o))):"ZYX"===e?(this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,u),this._z=Math.atan2(s,o)):(this._x=0,this._z=Math.atan2(-n,l))):"YZX"===e?(this._z=Math.asin(i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,u))):"XZY"===e?(this._z=Math.asin(-i(n,-1,1)),Math.abs(n)<.99999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-c,u),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,this.onChangeCallback(),this},setFromQuaternion:function(t,e,i){var r=THREE.Math.clamp,o=t.x*t.x,n=t.y*t.y,a=t.z*t.z,s=t.w*t.w;return e=e||this._order,"XYZ"===e?(this._x=Math.atan2(2*(t.x*t.w-t.y*t.z),s-o-n+a),this._y=Math.asin(r(2*(t.x*t.z+t.y*t.w),-1,1)),this._z=Math.atan2(2*(t.z*t.w-t.x*t.y),s+o-n-a)):"YXZ"===e?(this._x=Math.asin(r(2*(t.x*t.w-t.y*t.z),-1,1)),this._y=Math.atan2(2*(t.x*t.z+t.y*t.w),s-o-n+a),this._z=Math.atan2(2*(t.x*t.y+t.z*t.w),s-o+n-a)):"ZXY"===e?(this._x=Math.asin(r(2*(t.x*t.w+t.y*t.z),-1,1)),this._y=Math.atan2(2*(t.y*t.w-t.z*t.x),s-o-n+a),this._z=Math.atan2(2*(t.z*t.w-t.x*t.y),s-o+n-a)):"ZYX"===e?(this._x=Math.atan2(2*(t.x*t.w+t.z*t.y),s-o-n+a),this._y=Math.asin(r(2*(t.y*t.w-t.x*t.z),-1,1)),this._z=Math.atan2(2*(t.x*t.y+t.z*t.w),s+o-n-a)):"YZX"===e?(this._x=Math.atan2(2*(t.x*t.w-t.z*t.y),s-o+n-a),this._y=Math.atan2(2*(t.y*t.w-t.x*t.z),s+o-n-a),this._z=Math.asin(r(2*(t.x*t.y+t.z*t.w),-1,1))):"XZY"===e?(this._x=Math.atan2(2*(t.x*t.w+t.y*t.z),s-o+n-a),this._y=Math.atan2(2*(t.x*t.z+t.y*t.w),s+o-n-a),this._z=Math.asin(r(2*(t.z*t.w-t.x*t.y),-1,1))):console.warn("THREE.Euler: .setFromQuaternion() given unsupported order: "+e),this._order=e,i!==!1&&this.onChangeCallback(),this},reorder:function(){var t=new THREE.Quaternion;return function(e){t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(){return[this._x,this._y,this._z,this._order]},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){},clone:function(){return new THREE.Euler(this._x,this._y,this._z,this._order)}},THREE.Line3=function(t,e){this.start=void 0!==t?t:new THREE.Vector3,this.end=void 0!==e?e:new THREE.Vector3},THREE.Line3.prototype={constructor:THREE.Line3,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},center:function(t){var e=t||new THREE.Vector3;return e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){var e=t||new THREE.Vector3;return e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var i=e||new THREE.Vector3;return this.delta(i).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(i,r){t.subVectors(i,this.start),e.subVectors(this.end,this.start);var o=e.dot(e),n=e.dot(t),a=n/o;return r&&(a=THREE.Math.clamp(a,0,1)),a}}(),closestPointToPoint:function(t,e,i){var r=this.closestPointToPointParameter(t,e),o=i||new THREE.Vector3;return this.delta(o).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)},clone:function(){return(new THREE.Line3).copy(this)}},THREE.Box2=function(t,e){this.min=void 0!==t?t:new THREE.Vector2(1/0,1/0),this.max=void 0!==e?e:new THREE.Vector2(-1/0,-1/0)},THREE.Box2.prototype={constructor:THREE.Box2,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;i>e;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new THREE.Vector2;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(t){var e=t||new THREE.Vector2;return e.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){var e=t||new THREE.Vector2;return e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y?!1:!0},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y?!0:!1},getParameter:function(t,e){var i=e||new THREE.Vector2;return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(t){return t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y?!1:!0},clampPoint:function(t,e){var i=e||new THREE.Vector2;return i.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new THREE.Vector2;return function(e){var i=t.copy(e).clamp(this.min,this.max);return i.sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},clone:function(){return(new THREE.Box2).copy(this)}},THREE.Box3=function(t,e){this.min=void 0!==t?t:new THREE.Vector3(1/0,1/0,1/0),this.max=void 0!==e?e:new THREE.Vector3(-1/0,-1/0,-1/0)},THREE.Box3.prototype={constructor:THREE.Box3,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;i>e;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new THREE.Vector3;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(){var t=new THREE.Vector3;return function(e){var i=this;return e.updateMatrixWorld(!0),this.makeEmpty(),e.traverse(function(e){var r=e.geometry;if(void 0!==r)if(r instanceof THREE.Geometry)for(var o=r.vertices,n=0,a=o.length;a>n;n++)t.copy(o[n]),t.applyMatrix4(e.matrixWorld),i.expandByPoint(t);else if(r instanceof THREE.BufferGeometry&&void 0!==r.attributes.position)for(var s=r.attributes.position.array,n=0,a=s.length;a>n;n+=3)t.set(s[n],s[n+1],s[n+2]),t.applyMatrix4(e.matrixWorld),i.expandByPoint(t)}),this}}(),copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(t){var e=t||new THREE.Vector3;return e.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){var e=t||new THREE.Vector3;return e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z?!1:!0},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z?!0:!1},getParameter:function(t,e){var i=e||new THREE.Vector3;return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(t){return t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z?!1:!0},clampPoint:function(t,e){var i=e||new THREE.Vector3;return i.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new THREE.Vector3;return function(e){var i=t.copy(e).clamp(this.min,this.max);return i.sub(e).length()}}(),getBoundingSphere:function(){var t=new THREE.Vector3;return function(e){var i=e||new THREE.Sphere;return i.center=this.center(),i.radius=.5*this.size(t).length(),i}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(e){return t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.makeEmpty(),this.setFromPoints(t),this
}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},clone:function(){return(new THREE.Box3).copy(this)}},THREE.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(t,e,i,r,o,n,a,s,l){var c=this.elements;return c[0]=t,c[3]=e,c[6]=i,c[1]=r,c[4]=o,c[7]=n,c[2]=a,c[5]=s,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToVector3Array:function(){var t=new THREE.Vector3;return function(e,i,r){void 0===i&&(i=0),void 0===r&&(r=e.length);for(var o=0,n=i;r>o;o+=3,n+=3)t.x=e[n],t.y=e[n+1],t.z=e[n+2],t.applyMatrix3(this),e[n]=t.x,e[n+1]=t.y,e[n+2]=t.z;return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],r=t[2],o=t[3],n=t[4],a=t[5],s=t[6],l=t[7],c=t[8];return e*n*c-e*a*l-i*o*c+i*a*s+r*o*l-r*n*s},getInverse:function(t,e){var i=t.elements,r=this.elements;r[0]=i[10]*i[5]-i[6]*i[9],r[1]=-i[10]*i[1]+i[2]*i[9],r[2]=i[6]*i[1]-i[2]*i[5],r[3]=-i[10]*i[4]+i[6]*i[8],r[4]=i[10]*i[0]-i[2]*i[8],r[5]=-i[6]*i[0]+i[2]*i[4],r[6]=i[9]*i[4]-i[5]*i[8],r[7]=-i[9]*i[0]+i[1]*i[8],r[8]=i[5]*i[0]-i[1]*i[4];var o=i[0]*r[0]+i[1]*r[3]+i[2]*r[6];if(0===o){var n="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(n);return console.warn(n),this.identity(),this}return this.multiplyScalar(1/o),this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t},getNormalMatrix:function(t){return this.getInverse(t).transpose(),this},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},clone:function(){return(new THREE.Matrix3).fromArray(this.elements)}},THREE.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(t,e,i,r,o,n,a,s,l,c,h,d,u,p,f,_){var m=this.elements;return m[0]=t,m[4]=e,m[8]=i,m[12]=r,m[1]=o,m[5]=n,m[9]=a,m[13]=s,m[2]=l,m[6]=c,m[10]=h,m[14]=d,m[3]=u,m[7]=p,m[11]=f,m[15]=_,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(t){return this.elements.set(t.elements),this},extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractRotation:function(){var t=new THREE.Vector3;return function(e){var i=this.elements,r=e.elements,o=1/t.set(r[0],r[1],r[2]).length(),n=1/t.set(r[4],r[5],r[6]).length(),a=1/t.set(r[8],r[9],r[10]).length();return i[0]=r[0]*o,i[1]=r[1]*o,i[2]=r[2]*o,i[4]=r[4]*n,i[5]=r[5]*n,i[6]=r[6]*n,i[8]=r[8]*a,i[9]=r[9]*a,i[10]=r[10]*a,this}}(),makeRotationFromEuler:function(t){t instanceof THREE.Euler==!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,i=t.x,r=t.y,o=t.z,n=Math.cos(i),a=Math.sin(i),s=Math.cos(r),l=Math.sin(r),c=Math.cos(o),h=Math.sin(o);if("XYZ"===t.order){var d=n*c,u=n*h,p=a*c,f=a*h;e[0]=s*c,e[4]=-s*h,e[8]=l,e[1]=u+p*l,e[5]=d-f*l,e[9]=-a*s,e[2]=f-d*l,e[6]=p+u*l,e[10]=n*s}else if("YXZ"===t.order){var _=s*c,m=s*h,g=l*c,y=l*h;e[0]=_+y*a,e[4]=g*a-m,e[8]=n*l,e[1]=n*h,e[5]=n*c,e[9]=-a,e[2]=m*a-g,e[6]=y+_*a,e[10]=n*s}else if("ZXY"===t.order){var _=s*c,m=s*h,g=l*c,y=l*h;e[0]=_-y*a,e[4]=-n*h,e[8]=g+m*a,e[1]=m+g*a,e[5]=n*c,e[9]=y-_*a,e[2]=-n*l,e[6]=a,e[10]=n*s}else if("ZYX"===t.order){var d=n*c,u=n*h,p=a*c,f=a*h;e[0]=s*c,e[4]=p*l-u,e[8]=d*l+f,e[1]=s*h,e[5]=f*l+d,e[9]=u*l-p,e[2]=-l,e[6]=a*s,e[10]=n*s}else if("YZX"===t.order){var b=n*s,v=n*l,M=a*s,S=a*l;e[0]=s*c,e[4]=S-b*h,e[8]=M*h+v,e[1]=h,e[5]=n*c,e[9]=-a*c,e[2]=-l*c,e[6]=v*h+M,e[10]=b-S*h}else if("XZY"===t.order){var b=n*s,v=n*l,M=a*s,S=a*l;e[0]=s*c,e[4]=-h,e[8]=l*c,e[1]=b*h+S,e[5]=n*c,e[9]=v*h-M,e[2]=M*h-v,e[6]=a*c,e[10]=S*h+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},makeRotationFromQuaternion:function(t){var e=this.elements,i=t.x,r=t.y,o=t.z,n=t.w,a=i+i,s=r+r,l=o+o,c=i*a,h=i*s,d=i*l,u=r*s,p=r*l,f=o*l,_=n*a,m=n*s,g=n*l;return e[0]=1-(u+f),e[4]=h-g,e[8]=d+m,e[1]=h+g,e[5]=1-(c+f),e[9]=p-_,e[2]=d-m,e[6]=p+_,e[10]=1-(c+u),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Vector3;return function(r,o,n){var a=this.elements;return i.subVectors(r,o).normalize(),0===i.length()&&(i.z=1),t.crossVectors(n,i).normalize(),0===t.length()&&(i.x+=1e-4,t.crossVectors(n,i).normalize()),e.crossVectors(i,t),a[0]=t.x,a[4]=e.x,a[8]=i.x,a[1]=t.y,a[5]=e.y,a[9]=i.y,a[2]=t.z,a[6]=e.z,a[10]=i.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,o=this.elements,n=i[0],a=i[4],s=i[8],l=i[12],c=i[1],h=i[5],d=i[9],u=i[13],p=i[2],f=i[6],_=i[10],m=i[14],g=i[3],y=i[7],b=i[11],v=i[15],M=r[0],S=r[4],x=r[8],T=r[12],E=r[1],C=r[5],A=r[9],w=r[13],R=r[2],D=r[6],P=r[10],B=r[14],V=r[3],L=r[7],k=r[11],H=r[15];return o[0]=n*M+a*E+s*R+l*V,o[4]=n*S+a*C+s*D+l*L,o[8]=n*x+a*A+s*P+l*k,o[12]=n*T+a*w+s*B+l*H,o[1]=c*M+h*E+d*R+u*V,o[5]=c*S+h*C+d*D+u*L,o[9]=c*x+h*A+d*P+u*k,o[13]=c*T+h*w+d*B+u*H,o[2]=p*M+f*E+_*R+m*V,o[6]=p*S+f*C+_*D+m*L,o[10]=p*x+f*A+_*P+m*k,o[14]=p*T+f*w+_*B+m*H,o[3]=g*M+y*E+b*R+v*V,o[7]=g*S+y*C+b*D+v*L,o[11]=g*x+y*A+b*P+v*k,o[15]=g*T+y*w+b*B+v*H,this},multiplyToArray:function(t,e,i){var r=this.elements;return this.multiplyMatrices(t,e),i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),t.applyProjection(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToVector3Array:function(){var t=new THREE.Vector3;return function(e,i,r){void 0===i&&(i=0),void 0===r&&(r=e.length);for(var o=0,n=i;r>o;o+=3,n+=3)t.x=e[n],t.y=e[n+1],t.z=e[n+2],t.applyMatrix4(this),e[n]=t.x,e[n+1]=t.y,e[n+2]=t.z;return e}}(),rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},determinant:function(){var t=this.elements,e=t[0],i=t[4],r=t[8],o=t[12],n=t[1],a=t[5],s=t[9],l=t[13],c=t[2],h=t[6],d=t[10],u=t[14],p=t[3],f=t[7],_=t[11],m=t[15];return p*(+o*s*h-r*l*h-o*a*d+i*l*d+r*a*u-i*s*u)+f*(+e*s*u-e*l*d+o*n*d-r*n*u+r*l*c-o*s*c)+_*(+e*l*h-e*a*u-o*n*h+i*n*u+o*a*c-i*l*c)+m*(-r*a*c-e*s*h+e*a*d+r*n*h-i*n*d+i*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t},getPosition:function(){var t=new THREE.Vector3;return function(){console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var e=this.elements;return t.set(e[12],e[13],e[14])}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var i=this.elements,r=t.elements,o=r[0],n=r[4],a=r[8],s=r[12],l=r[1],c=r[5],h=r[9],d=r[13],u=r[2],p=r[6],f=r[10],_=r[14],m=r[3],g=r[7],y=r[11],b=r[15];i[0]=h*_*g-d*f*g+d*p*y-c*_*y-h*p*b+c*f*b,i[4]=s*f*g-a*_*g-s*p*y+n*_*y+a*p*b-n*f*b,i[8]=a*d*g-s*h*g+s*c*y-n*d*y-a*c*b+n*h*b,i[12]=s*h*p-a*d*p-s*c*f+n*d*f+a*c*_-n*h*_,i[1]=d*f*m-h*_*m-d*u*y+l*_*y+h*u*b-l*f*b,i[5]=a*_*m-s*f*m+s*u*y-o*_*y-a*u*b+o*f*b,i[9]=s*h*m-a*d*m-s*l*y+o*d*y+a*l*b-o*h*b,i[13]=a*d*u-s*h*u+s*l*f-o*d*f-a*l*_+o*h*_,i[2]=c*_*m-d*p*m+d*u*g-l*_*g-c*u*b+l*p*b,i[6]=s*p*m-n*_*m-s*u*g+o*_*g+n*u*b-o*p*b,i[10]=n*d*m-s*c*m+s*l*g-o*d*g-n*l*b+o*c*b,i[14]=s*c*u-n*d*u-s*l*p+o*d*p+n*l*_-o*c*_,i[3]=h*p*m-c*f*m-h*u*g+l*f*g+c*u*y-l*p*y,i[7]=n*f*m-a*p*m+a*u*g-o*f*g-n*u*y+o*p*y,i[11]=a*c*m-n*h*m-a*l*g+o*h*g+n*l*y-o*c*y,i[15]=n*h*u-a*c*u+a*l*p-o*h*p-n*l*f+o*c*f;var v=o*i[0]+l*i[4]+u*i[8]+m*i[12];if(0==v){var M="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(M);return console.warn(M),this.identity(),this}return this.multiplyScalar(1/v),this},translate:function(){console.warn("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.warn("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.warn("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.warn("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.warn("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(t){var e=this.elements,i=t.x,r=t.y,o=t.z;return e[0]*=i,e[4]*=r,e[8]*=o,e[1]*=i,e[5]*=r,e[9]*=o,e[2]*=i,e[6]*=r,e[10]*=o,e[3]*=i,e[7]*=r,e[11]*=o,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,Math.max(i,r)))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),r=Math.sin(e),o=1-i,n=t.x,a=t.y,s=t.z,l=o*n,c=o*a;return this.set(l*n+i,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+i,c*s-r*n,0,l*s-r*a,c*s+r*n,o*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},compose:function(t,e,i){return this.makeRotationFromQuaternion(e),this.scale(i),this.setPosition(t),this},decompose:function(){var t=new THREE.Vector3,e=new THREE.Matrix4;return function(i,r,o){var n=this.elements,a=t.set(n[0],n[1],n[2]).length(),s=t.set(n[4],n[5],n[6]).length(),l=t.set(n[8],n[9],n[10]).length(),c=this.determinant();0>c&&(a=-a),i.x=n[12],i.y=n[13],i.z=n[14],e.elements.set(this.elements);var h=1/a,d=1/s,u=1/l;return e.elements[0]*=h,e.elements[1]*=h,e.elements[2]*=h,e.elements[4]*=d,e.elements[5]*=d,e.elements[6]*=d,e.elements[8]*=u,e.elements[9]*=u,e.elements[10]*=u,r.setFromRotationMatrix(e),o.x=a,o.y=s,o.z=l,this}}(),makeFrustum:function(t,e,i,r,o,n){var a=this.elements,s=2*o/(e-t),l=2*o/(r-i),c=(e+t)/(e-t),h=(r+i)/(r-i),d=-(n+o)/(n-o),u=-2*n*o/(n-o);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=u,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(t,e,i,r){var o=i*Math.tan(THREE.Math.degToRad(.5*t)),n=-o,a=n*e,s=o*e;return this.makeFrustum(a,s,n,o,i,r)},makeOrthographic:function(t,e,i,r,o,n){var a=this.elements,s=e-t,l=i-r,c=n-o,h=(e+t)/s,d=(i+r)/l,u=(n+o)/c;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2/l,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2/c,a[14]=-u,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},clone:function(){return(new THREE.Matrix4).fromArray(this.elements)}},THREE.Ray=function(t,e){this.origin=void 0!==t?t:new THREE.Vector3,this.direction=void 0!==e?e:new THREE.Vector3},THREE.Ray.prototype={constructor:THREE.Ray,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){var i=e||new THREE.Vector3;return i.copy(this.direction).multiplyScalar(t).add(this.origin)},recast:function(){var t=new THREE.Vector3;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var i=e||new THREE.Vector3;i.subVectors(t,this.origin);var r=i.dot(this.direction);return 0>r?i.copy(this.origin):i.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(){var t=new THREE.Vector3;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return 0>i?this.origin.distanceTo(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceTo(e))}}(),distanceSqToSegment:function(t,e,i,r){var o,n,a,s,l=t.clone().add(e).multiplyScalar(.5),c=e.clone().sub(t).normalize(),h=.5*t.distanceTo(e),d=this.origin.clone().sub(l),u=-this.direction.dot(c),p=d.dot(this.direction),f=-d.dot(c),_=d.lengthSq(),m=Math.abs(1-u*u);if(m>=0)if(o=u*f-p,n=u*p-f,s=h*m,o>=0)if(n>=-s)if(s>=n){var g=1/m;o*=g,n*=g,a=o*(o+u*n+2*p)+n*(u*o+n+2*f)+_}else n=h,o=Math.max(0,-(u*n+p)),a=-o*o+n*(n+2*f)+_;else n=-h,o=Math.max(0,-(u*n+p)),a=-o*o+n*(n+2*f)+_;else-s>=n?(o=Math.max(0,-(-u*h+p)),n=o>0?-h:Math.min(Math.max(-h,-f),h),a=-o*o+n*(n+2*f)+_):s>=n?(o=0,n=Math.min(Math.max(-h,-f),h),a=n*(n+2*f)+_):(o=Math.max(0,-(u*h+p)),n=o>0?h:Math.min(Math.max(-h,-f),h),a=-o*o+n*(n+2*f)+_);else n=u>0?-h:h,o=Math.max(0,-(u*n+p)),a=-o*o+n*(n+2*f)+_;return i&&i.copy(this.direction.clone().multiplyScalar(o).add(this.origin)),r&&r.copy(c.clone().multiplyScalar(n).add(l)),a},isIntersectionSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},intersectSphere:function(){var t=new THREE.Vector3;return function(e,i){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),o=t.dot(t)-r*r,n=e.radius*e.radius;if(o>n)return null;var a=Math.sqrt(n-o),s=r-a,l=r+a;return 0>s&&0>l?null:0>s?this.at(l,i):this.at(s,i)}}(),isIntersectionPlane:function(t){var e=t.distanceToPoint(this.origin);if(0===e)return!0;var i=t.normal.dot(this.direction);return 0>i*e?!0:!1},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0==e)return 0==t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},isIntersectionBox:function(){var t=new THREE.Vector3;return function(e){return null!==this.intersectBox(e,t)}}(),intersectBox:function(t,e){var i,r,o,n,a,s,l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,d=this.origin;return l>=0?(i=(t.min.x-d.x)*l,r=(t.max.x-d.x)*l):(i=(t.max.x-d.x)*l,r=(t.min.x-d.x)*l),c>=0?(o=(t.min.y-d.y)*c,n=(t.max.y-d.y)*c):(o=(t.max.y-d.y)*c,n=(t.min.y-d.y)*c),i>n||o>r?null:((o>i||i!==i)&&(i=o),(r>n||r!==r)&&(r=n),h>=0?(a=(t.min.z-d.z)*h,s=(t.max.z-d.z)*h):(a=(t.max.z-d.z)*h,s=(t.min.z-d.z)*h),i>s||a>r?null:((a>i||i!==i)&&(i=a),(r>s||r!==r)&&(r=s),0>r?null:this.at(i>=0?i:r,e)))},intersectTriangle:function(){var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Vector3,r=new THREE.Vector3;return function(o,n,a,s,l){e.subVectors(n,o),i.subVectors(a,o),r.crossVectors(e,i);var c,h=this.direction.dot(r);if(h>0){if(s)return null;c=1}else{if(!(0>h))return null;c=-1,h=-h}t.subVectors(this.origin,o);var d=c*this.direction.dot(i.crossVectors(t,i));if(0>d)return null;var u=c*this.direction.dot(e.cross(t));if(0>u)return null;if(d+u>h)return null;var p=-c*t.dot(r);return 0>p?null:this.at(p/h,l)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)},clone:function(){return(new THREE.Ray).copy(this)}},THREE.Sphere=function(t,e){this.center=void 0!==t?t:new THREE.Vector3,this.radius=void 0!==e?e:0},THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new THREE.Box3;return function(e,i){var r=this.center;void 0!==i?r.copy(i):t.setFromPoints(e).center(r);for(var o=0,n=0,a=e.length;a>n;n++)o=Math.max(o,r.distanceToSquared(e[n]));return this.radius=Math.sqrt(o),this}}(),copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},clampPoint:function(t,e){var i=this.center.distanceToSquared(t),r=e||new THREE.Vector3;return r.copy(t),i>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new THREE.Box3;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius},clone:function(){return(new THREE.Sphere).copy(this)}},THREE.Frustum=function(t,e,i,r,o,n){this.planes=[void 0!==t?t:new THREE.Plane,void 0!==e?e:new THREE.Plane,void 0!==i?i:new THREE.Plane,void 0!==r?r:new THREE.Plane,void 0!==o?o:new THREE.Plane,void 0!==n?n:new THREE.Plane]},THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(t,e,i,r,o,n){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(i),a[3].copy(r),a[4].copy(o),a[5].copy(n),this},copy:function(t){for(var e=this.planes,i=0;6>i;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,i=t.elements,r=i[0],o=i[1],n=i[2],a=i[3],s=i[4],l=i[5],c=i[6],h=i[7],d=i[8],u=i[9],p=i[10],f=i[11],_=i[12],m=i[13],g=i[14],y=i[15];return e[0].setComponents(a-r,h-s,f-d,y-_).normalize(),e[1].setComponents(a+r,h+s,f+d,y+_).normalize(),e[2].setComponents(a+o,h+l,f+u,y+m).normalize(),e[3].setComponents(a-o,h-l,f-u,y-m).normalize(),e[4].setComponents(a-n,h-c,f-p,y-g).normalize(),e[5].setComponents(a+n,h+c,f+p,y+g).normalize(),this},intersectsObject:function(){var t=new THREE.Sphere;return function(e){var i=e.geometry;return null===i.boundingSphere&&i.computeBoundingSphere(),t.copy(i.boundingSphere),t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,i=t.center,r=-t.radius,o=0;6>o;o++){var n=e[o].distanceToPoint(i);if(r>n)return!1}return!0},intersectsBox:function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(i){for(var r=this.planes,o=0;6>o;o++){var n=r[o];t.x=n.normal.x>0?i.min.x:i.max.x,e.x=n.normal.x>0?i.max.x:i.min.x,t.y=n.normal.y>0?i.min.y:i.max.y,e.y=n.normal.y>0?i.max.y:i.min.y,t.z=n.normal.z>0?i.min.z:i.max.z,e.z=n.normal.z>0?i.max.z:i.min.z;var a=n.distanceToPoint(t),s=n.distanceToPoint(e);if(0>a&&0>s)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,i=0;6>i;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0},clone:function(){return(new THREE.Frustum).copy(this)}},THREE.Plane=function(t,e){this.normal=void 0!==t?t:new THREE.Vector3(1,0,0),this.constant=void 0!==e?e:0},THREE.Plane.prototype={constructor:THREE.Plane,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(i,r,o){var n=t.subVectors(o,r).cross(e.subVectors(i,r)).normalize();return this.setFromNormalAndCoplanarPoint(n,i),this}}(),copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var i=this.distanceToPoint(t),r=e||new THREE.Vector3;return r.copy(this.normal).multiplyScalar(i)},isIntersectionLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return 0>e&&i>0||0>i&&e>0},intersectLine:function(){var t=new THREE.Vector3;return function(e,i){var r=i||new THREE.Vector3,o=e.delta(t),n=this.normal.dot(o);if(0==n)return 0==this.distanceToPoint(e.start)?r.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/n;return 0>a||a>1?void 0:r.copy(o).multiplyScalar(a).add(e.start)}}(),coplanarPoint:function(t){var e=t||new THREE.Vector3;return e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Matrix3;return function(r,o){var n=o||i.getNormalMatrix(r),a=t.copy(this.normal).applyMatrix3(n),s=this.coplanarPoint(e);return s.applyMatrix4(r),this.setFromNormalAndCoplanarPoint(a,s),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant==this.constant},clone:function(){return(new THREE.Plane).copy(this)}},THREE.Math={generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=new Array(36),r=0;return function(){for(var o=0;36>o;o++)8==o||13==o||18==o||23==o?i[o]="-":14==o?i[o]="4":(2>=r&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,i[o]=e[19==o?3&t|8:t]);return i.join("")}}(),clamp:function(t,e,i){return e>t?e:t>i?i:t},clampBottom:function(t,e){return e>t?e:t},mapLinear:function(t,e,i,r,o){return r+(t-e)*(o-r)/(i-e)},smoothstep:function(t,e,i){return e>=t?0:t>=i?1:(t=(t-e)/(i-e),t*t*(3-2*t))},smootherstep:function(t,e,i){return e>=t?0:t>=i?1:(t=(t-e)/(i-e),t*t*t*(t*(6*t-15)+10))},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(){var t=Math.PI/180;return function(e){return e*t}}(),radToDeg:function(){var t=180/Math.PI;return function(e){return e*t}}(),isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t}},THREE.Spline=function(t){function e(t,e,i,r,o,n,a){var s=.5*(i-t),l=.5*(r-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*n+s*o+e}this.points=t;var i,r,o,n,a,s,l,c,h,d=[],u={x:0,y:0,z:0};this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return i=(this.points.length-1)*t,r=Math.floor(i),o=i-r,d[0]=0===r?r:r-1,d[1]=r,d[2]=r>this.points.length-2?this.points.length-1:r+1,d[3]=r>this.points.length-3?this.points.length-1:r+2,s=this.points[d[0]],l=this.points[d[1]],c=this.points[d[2]],h=this.points[d[3]],n=o*o,a=o*n,u.x=e(s.x,l.x,c.x,h.x,o,n,a),u.y=e(s.y,l.y,c.y,h.y,o,n,a),u.z=e(s.z,l.z,c.z,h.z,o,n,a),u},this.getControlPointsArray=function(){var t,e,i=this.points.length,r=[];for(t=0;i>t;t++)e=this.points[t],r[t]=[e.x,e.y,e.z];return r},this.getLength=function(t){var e,i,r,o,n=0,a=0,s=0,l=new THREE.Vector3,c=new THREE.Vector3,h=[],d=0;for(h[0]=0,t||(t=100),r=this.points.length*t,l.copy(this.points[0]),e=1;r>e;e++)i=e/r,o=this.getPoint(i),c.copy(o),d+=c.distanceTo(l),l.copy(o),n=(this.points.length-1)*i,a=Math.floor(n),a!=s&&(h[a]=d,s=a);return h[h.length]=d,{chunks:h,total:d}},this.reparametrizeByArcLength=function(t){var e,i,r,o,n,a,s,l,c=[],h=new THREE.Vector3,d=this.getLength();for(c.push(h.copy(this.points[0]).clone()),e=1;e<this.points.length;e++){for(a=d.chunks[e]-d.chunks[e-1],s=Math.ceil(t*a/d.total),o=(e-1)/(this.points.length-1),n=e/(this.points.length-1),i=1;s-1>i;i++)r=o+i*(1/s)*(n-o),l=this.getPoint(r),c.push(h.copy(l).clone());c.push(h.copy(this.points[e]).clone())}this.points=c}},THREE.Triangle=function(t,e,i){this.a=void 0!==t?t:new THREE.Vector3,this.b=void 0!==e?e:new THREE.Vector3,this.c=void 0!==i?i:new THREE.Vector3},THREE.Triangle.normal=function(){var t=new THREE.Vector3;return function(e,i,r,o){var n=o||new THREE.Vector3;n.subVectors(r,i),t.subVectors(e,i),n.cross(t);var a=n.lengthSq();return a>0?n.multiplyScalar(1/Math.sqrt(a)):n.set(0,0,0)}}(),THREE.Triangle.barycoordFromPoint=function(){var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Vector3;return function(r,o,n,a,s){t.subVectors(a,o),e.subVectors(n,o),i.subVectors(r,o);var l=t.dot(t),c=t.dot(e),h=t.dot(i),d=e.dot(e),u=e.dot(i),p=l*d-c*c,f=s||new THREE.Vector3;if(0==p)return f.set(-2,-1,-1);var _=1/p,m=(d*h-c*u)*_,g=(l*u-c*h)*_;return f.set(1-m-g,g,m)}}(),THREE.Triangle.containsPoint=function(){var t=new THREE.Vector3;return function(e,i,r,o){var n=THREE.Triangle.barycoordFromPoint(e,i,r,o,t);return n.x>=0&&n.y>=0&&n.x+n.y<=1}}(),THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){var e=t||new THREE.Vector3;return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return THREE.Triangle.normal(this.a,this.b,this.c,t)},plane:function(t){var e=t||new THREE.Plane;return e.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return THREE.Triangle.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return THREE.Triangle.containsPoint(t,this.a,this.b,this.c)},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)},clone:function(){return(new THREE.Triangle).copy(this)}},THREE.Clock=function(t){this.autoStart=void 0!==t?t:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.startTime=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now();t=.001*(e-this.oldTime),this.oldTime=e,this.elapsedTime+=t}return t}},THREE.EventDispatcher=function(){},THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(t){t.addEventListener=THREE.EventDispatcher.prototype.addEventListener,t.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener,t.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener,t.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent},addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)?!0:!1},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners,r=i[t];if(void 0!==r){var o=r.indexOf(e);-1!==o&&r.splice(o,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,i=e[t.type];if(void 0!==i){t.target=this;for(var r=[],o=i.length,n=0;o>n;n++)r[n]=i[n];for(var n=0;o>n;n++)r[n].call(this,t)}}}},function(t){t.Raycaster=function(e,i,r,o){this.ray=new t.Ray(e,i),this.near=r||0,this.far=o||1/0,this.params={Sprite:{},Mesh:{},PointCloud:{threshold:1},LOD:{},Line:{}}};var e=function(t,e){return t.distance-e.distance},i=function(t,e,r,o){if(t.raycast(e,r),o===!0)for(var n=t.children,a=0,s=n.length;s>a;a++)i(n[a],e,r,!0)};t.Raycaster.prototype={constructor:t.Raycaster,precision:1e-4,linePrecision:1,set:function(t,e){this.ray.set(t,e)},intersectObject:function(t,r){var o=[];return i(t,this,o,r),o.sort(e),o},intersectObjects:function(t,r){var o=[];if(t instanceof Array==!1)return console.log("THREE.Raycaster.intersectObjects: objects is not an Array."),o;for(var n=0,a=t.length;a>n;n++)i(t[n],this,o,r);return o.sort(e),o}}}(THREE),THREE.Object3D=function(){Object.defineProperty(this,"id",{value:THREE.Object3DIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=void 0,this.children=[],this.up=THREE.Object3D.DefaultUp.clone();var t=new THREE.Vector3,e=new THREE.Euler,i=new THREE.Quaternion,r=new THREE.Vector3(1,1,1),o=function(){i.setFromEuler(e,!1)},n=function(){e.setFromQuaternion(i,void 0,!1)};e.onChange(o),i.onChange(n),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:r}}),this.renderDepth=null,this.rotationAutoUpdate=!0,this.matrix=new THREE.Matrix4,this.matrixWorld=new THREE.Matrix4,this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.userData={}},THREE.Object3D.DefaultUp=new THREE.Vector3(0,1,0),THREE.Object3D.prototype={constructor:THREE.Object3D,get eulerOrder(){return console.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order."),this.rotation.order
},set eulerOrder(t){console.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order."),this.rotation.order=t},get useQuaternion(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(t){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new THREE.Quaternion;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new THREE.Vector3(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new THREE.Vector3(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new THREE.Vector3(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new THREE.Vector3;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},translateX:function(){var t=new THREE.Vector3(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new THREE.Vector3(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new THREE.Vector3(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new THREE.Matrix4;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new THREE.Matrix4;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add:",t,"can't be added as a child of itself."),this):(t instanceof THREE.Object3D?(void 0!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add:",t,"is not an instance of THREE.Object3D."),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var i=this.children.indexOf(t);-1!==i&&(t.parent=void 0,t.dispatchEvent({type:"removed"}),this.children.splice(i,1))},getChildByName:function(t,e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t,e)},getObjectById:function(t,e){if(this.id===t)return this;for(var i=0,r=this.children.length;r>i;i++){var o=this.children[i],n=o.getObjectById(t,e);if(void 0!==n)return n}return void 0},getObjectByName:function(t,e){if(this.name===t)return this;for(var i=0,r=this.children.length;r>i;i++){var o=this.children[i],n=o.getObjectByName(t,e);if(void 0!==n)return n}return void 0},getWorldPosition:function(t){var e=t||new THREE.Vector3;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(i){var r=i||new THREE.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,e),r}}(),getWorldRotation:function(){var t=new THREE.Quaternion;return function(e){var i=e||new THREE.Euler;return this.getWorldQuaternion(t),i.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new THREE.Vector3,e=new THREE.Quaternion;return function(i){var r=i||new THREE.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new THREE.Quaternion;return function(e){var i=e||new THREE.Vector3;return this.getWorldQuaternion(t),i.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=0,i=this.children.length;i>e;e++)this.children[e].traverse(t)},traverseVisible:function(t){if(this.visible!==!1){t(this);for(var e=0,i=this.children.length;i>e;e++)this.children[e].traverseVisible(t)}},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||t===!0)&&(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=0,i=this.children.length;i>e;e++)this.children[e].updateMatrixWorld(t)},toJSON:function(){var t={metadata:{version:4.3,type:"Object",generator:"ObjectExporter"}},e={},i=function(i){if(void 0===t.geometries&&(t.geometries=[]),void 0===e[i.uuid]){var r=i.toJSON();delete r.metadata,e[i.uuid]=r,t.geometries.push(r)}return i.uuid},r={},o=function(e){if(void 0===t.materials&&(t.materials=[]),void 0===r[e.uuid]){var i=e.toJSON();delete i.metadata,r[e.uuid]=i,t.materials.push(i)}return e.uuid},n=function(t){var e={};if(e.uuid=t.uuid,e.type=t.type,""!==t.name&&(e.name=t.name),"{}"!==JSON.stringify(t.userData)&&(e.userData=t.userData),t.visible!==!0&&(e.visible=t.visible),t instanceof THREE.PerspectiveCamera?(e.fov=t.fov,e.aspect=t.aspect,e.near=t.near,e.far=t.far):t instanceof THREE.OrthographicCamera?(e.left=t.left,e.right=t.right,e.top=t.top,e.bottom=t.bottom,e.near=t.near,e.far=t.far):t instanceof THREE.AmbientLight?e.color=t.color.getHex():t instanceof THREE.DirectionalLight?(e.color=t.color.getHex(),e.intensity=t.intensity):t instanceof THREE.PointLight?(e.color=t.color.getHex(),e.intensity=t.intensity,e.distance=t.distance):t instanceof THREE.SpotLight?(e.color=t.color.getHex(),e.intensity=t.intensity,e.distance=t.distance,e.angle=t.angle,e.exponent=t.exponent):t instanceof THREE.HemisphereLight?(e.color=t.color.getHex(),e.groundColor=t.groundColor.getHex()):t instanceof THREE.Mesh?(e.geometry=i(t.geometry),e.material=o(t.material)):t instanceof THREE.Line?(e.geometry=i(t.geometry),e.material=o(t.material)):t instanceof THREE.Sprite&&(e.material=o(t.material)),e.matrix=t.matrix.toArray(),t.children.length>0){e.children=[];for(var r=0;r<t.children.length;r++)e.children.push(n(t.children[r]))}return e};return t.object=n(this),t},clone:function(t,e){if(void 0===t&&(t=new THREE.Object3D),void 0===e&&(e=!0),t.name=this.name,t.up.copy(this.up),t.position.copy(this.position),t.quaternion.copy(this.quaternion),t.scale.copy(this.scale),t.renderDepth=this.renderDepth,t.rotationAutoUpdate=this.rotationAutoUpdate,t.matrix.copy(this.matrix),t.matrixWorld.copy(this.matrixWorld),t.matrixAutoUpdate=this.matrixAutoUpdate,t.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,t.visible=this.visible,t.castShadow=this.castShadow,t.receiveShadow=this.receiveShadow,t.frustumCulled=this.frustumCulled,t.userData=JSON.parse(JSON.stringify(this.userData)),e===!0)for(var i=0;i<this.children.length;i++){var r=this.children[i];t.add(r.clone())}return t}},THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype),THREE.Object3DIdCount=0,THREE.Projector=function(){console.warn("THREE.Projector has been moved to /examples/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() has been removed.")}},THREE.Face3=function(t,e,i,r,o,n){this.a=t,this.b=e,this.c=i,this.normal=r instanceof THREE.Vector3?r:new THREE.Vector3,this.vertexNormals=r instanceof Array?r:[],this.color=o instanceof THREE.Color?o:new THREE.Color,this.vertexColors=o instanceof Array?o:[],this.vertexTangents=[],this.materialIndex=void 0!==n?n:0},THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){var t=new THREE.Face3(this.a,this.b,this.c);t.normal.copy(this.normal),t.color.copy(this.color),t.materialIndex=this.materialIndex;for(var e=0,i=this.vertexNormals.length;i>e;e++)t.vertexNormals[e]=this.vertexNormals[e].clone();for(var e=0,i=this.vertexColors.length;i>e;e++)t.vertexColors[e]=this.vertexColors[e].clone();for(var e=0,i=this.vertexTangents.length;i>e;e++)t.vertexTangents[e]=this.vertexTangents[e].clone();return t}},THREE.Face4=function(t,e,i,r,o,n,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new THREE.Face3(t,e,i,o,n,a)},THREE.BufferAttribute=function(t,e){this.array=t,this.itemSize=e,this.needsUpdate=!1},THREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get length(){return this.array.length},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var r=0,o=this.itemSize;o>r;r++)this.array[t+r]=e.array[i+r]},set:function(t){return this.array.set(t),this},setX:function(t,e){return this.array[t*this.itemSize]=e,this},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t*=this.itemSize,this.array[t]=e,this.array[t+1]=i,this.array[t+2]=r,this},setXYZW:function(t,e,i,r,o){return t*=this.itemSize,this.array[t]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=o,this},clone:function(){return new THREE.BufferAttribute(new this.array.constructor(this.array),this.itemSize)}},THREE.Int8Attribute=function(t,e){return console.warn("THREE.Int8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Uint8Attribute=function(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Uint8ClampedAttribute=function(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Int16Attribute=function(t,e){return console.warn("THREE.Int16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Uint16Attribute=function(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Int32Attribute=function(t,e){return console.warn("THREE.Int32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Uint32Attribute=function(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Float32Attribute=function(t,e){return console.warn("THREE.Float32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.Float64Attribute=function(t,e){return console.warn("THREE.Float64Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(t,e)},THREE.BufferGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.attributes={},this.attributesKeys=[],this.drawcalls=[],this.offsets=this.drawcalls,this.boundingBox=null,this.boundingSphere=null},THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,addAttribute:function(t,e){return e instanceof THREE.BufferAttribute==!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void(this.attributes[t]={array:arguments[1],itemSize:arguments[2]})):(this.attributes[t]=e,void(this.attributesKeys=Object.keys(this.attributes)))},getAttribute:function(t){return this.attributes[t]},addDrawCall:function(t,e,i){this.drawcalls.push({start:t,count:e,index:void 0!==i?i:0})},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToVector3Array(e.array),e.needsUpdate=!0);var i=this.attributes.normal;if(void 0!==i){var r=(new THREE.Matrix3).getNormalMatrix(t);r.applyToVector3Array(i.array),i.needsUpdate=!0}},center:function(){},fromGeometry:function(t,e){e=e||{vertexColors:THREE.NoColors};var i=t.vertices,r=t.faces,o=t.faceVertexUvs,n=e.vertexColors,a=o[0].length>0,s=3==r[0].vertexNormals.length,l=new Float32Array(3*r.length*3);this.addAttribute("position",new THREE.BufferAttribute(l,3));var c=new Float32Array(3*r.length*3);if(this.addAttribute("normal",new THREE.BufferAttribute(c,3)),n!==THREE.NoColors){var h=new Float32Array(3*r.length*3);this.addAttribute("color",new THREE.BufferAttribute(h,3))}if(a===!0){var d=new Float32Array(3*r.length*2);this.addAttribute("uv",new THREE.BufferAttribute(d,2))}for(var u=0,p=0,f=0;u<r.length;u++,p+=6,f+=9){var _=r[u],m=i[_.a],g=i[_.b],y=i[_.c];if(l[f]=m.x,l[f+1]=m.y,l[f+2]=m.z,l[f+3]=g.x,l[f+4]=g.y,l[f+5]=g.z,l[f+6]=y.x,l[f+7]=y.y,l[f+8]=y.z,s===!0){var b=_.vertexNormals[0],v=_.vertexNormals[1],M=_.vertexNormals[2];c[f]=b.x,c[f+1]=b.y,c[f+2]=b.z,c[f+3]=v.x,c[f+4]=v.y,c[f+5]=v.z,c[f+6]=M.x,c[f+7]=M.y,c[f+8]=M.z}else{var S=_.normal;c[f]=S.x,c[f+1]=S.y,c[f+2]=S.z,c[f+3]=S.x,c[f+4]=S.y,c[f+5]=S.z,c[f+6]=S.x,c[f+7]=S.y,c[f+8]=S.z}if(n===THREE.FaceColors){var x=_.color;h[f]=x.r,h[f+1]=x.g,h[f+2]=x.b,h[f+3]=x.r,h[f+4]=x.g,h[f+5]=x.b,h[f+6]=x.r,h[f+7]=x.g,h[f+8]=x.b}else if(n===THREE.VertexColors){var T=_.vertexColors[0],E=_.vertexColors[1],C=_.vertexColors[2];h[f]=T.r,h[f+1]=T.g,h[f+2]=T.b,h[f+3]=E.r,h[f+4]=E.g,h[f+5]=E.b,h[f+6]=C.r,h[f+7]=C.g,h[f+8]=C.b}if(a===!0){var A=o[0][u][0],w=o[0][u][1],R=o[0][u][2];d[p]=A.x,d[p+1]=A.y,d[p+2]=w.x,d[p+3]=w.y,d[p+4]=R.x,d[p+5]=R.y}}return this.computeBoundingSphere(),this},computeBoundingBox:function(){var t=new THREE.Vector3;return function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.attributes.position.array;if(e){var i=this.boundingBox;i.makeEmpty();for(var r=0,o=e.length;o>r;r+=3)t.set(e[r],e[r+1],e[r+2]),i.expandByPoint(t)}(void 0===e||0===e.length)&&(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.')}}(),computeBoundingSphere:function(){var t=new THREE.Box3,e=new THREE.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var i=this.attributes.position.array;if(i){t.makeEmpty();for(var r=this.boundingSphere.center,o=0,n=i.length;n>o;o+=3)e.set(i[o],i[o+1],i[o+2]),t.expandByPoint(e);t.center(r);for(var a=0,o=0,n=i.length;n>o;o+=3)e.set(i[o],i[o+1],i[o+2]),a=Math.max(a,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.attributes;if(t.position){var e=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(e.length),3));else for(var i=t.normal.array,r=0,o=i.length;o>r;r++)i[r]=0;var n,a,s,i=t.normal.array,l=new THREE.Vector3,c=new THREE.Vector3,h=new THREE.Vector3,d=new THREE.Vector3,u=new THREE.Vector3;if(t.index)for(var p=t.index.array,f=this.offsets.length>0?this.offsets:[{start:0,count:p.length,index:0}],_=0,m=f.length;m>_;++_)for(var g=f[_].start,y=f[_].count,b=f[_].index,r=g,o=g+y;o>r;r+=3)n=3*(b+p[r]),a=3*(b+p[r+1]),s=3*(b+p[r+2]),l.fromArray(e,n),c.fromArray(e,a),h.fromArray(e,s),d.subVectors(h,c),u.subVectors(l,c),d.cross(u),i[n]+=d.x,i[n+1]+=d.y,i[n+2]+=d.z,i[a]+=d.x,i[a+1]+=d.y,i[a+2]+=d.z,i[s]+=d.x,i[s+1]+=d.y,i[s+2]+=d.z;else for(var r=0,o=e.length;o>r;r+=9)l.fromArray(e,r),c.fromArray(e,r+3),h.fromArray(e,r+6),d.subVectors(h,c),u.subVectors(l,c),d.cross(u),i[r]=d.x,i[r+1]=d.y,i[r+2]=d.z,i[r+3]=d.x,i[r+4]=d.y,i[r+5]=d.z,i[r+6]=d.x,i[r+7]=d.y,i[r+8]=d.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},computeTangents:function(){function t(t,e,i){R.fromArray(r,3*t),D.fromArray(r,3*e),P.fromArray(r,3*i),B.fromArray(n,2*t),V.fromArray(n,2*e),L.fromArray(n,2*i),d=D.x-R.x,u=P.x-R.x,p=D.y-R.y,f=P.y-R.y,_=D.z-R.z,m=P.z-R.z,g=V.x-B.x,y=L.x-B.x,b=V.y-B.y,v=L.y-B.y,M=1/(g*v-y*b),k.set((v*d-b*u)*M,(v*p-b*f)*M,(v*_-b*m)*M),H.set((g*u-y*d)*M,(g*f-y*p)*M,(g*m-y*_)*M),l[t].add(k),l[e].add(k),l[i].add(k),c[t].add(H),c[e].add(H),c[i].add(H)}function e(t){W.fromArray(o,3*t),X.copy(W),G=l[t],j.copy(G),j.sub(W.multiplyScalar(W.dot(G))).normalize(),U.crossVectors(X,G),z=U.dot(c[t]),F=0>z?-1:1,s[4*t]=j.x,s[4*t+1]=j.y,s[4*t+2]=j.z,s[4*t+3]=F}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.normal||void 0===this.attributes.uv)return void console.warn("Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");var i=this.attributes.index.array,r=this.attributes.position.array,o=this.attributes.normal.array,n=this.attributes.uv.array,a=r.length/3;void 0===this.attributes.tangent&&this.addAttribute("tangent",new THREE.BufferAttribute(new Float32Array(4*a),4));for(var s=this.attributes.tangent.array,l=[],c=[],h=0;a>h;h++)l[h]=new THREE.Vector3,c[h]=new THREE.Vector3;var d,u,p,f,_,m,g,y,b,v,M,S,x,T,E,C,A,w,R=new THREE.Vector3,D=new THREE.Vector3,P=new THREE.Vector3,B=new THREE.Vector2,V=new THREE.Vector2,L=new THREE.Vector2,k=new THREE.Vector3,H=new THREE.Vector3;0===this.drawcalls.length&&this.addDrawCall(0,i.length,0);var I=this.drawcalls;for(T=0,E=I.length;E>T;++T){var O=I[T].start,J=I[T].count,N=I[T].index;for(S=O,x=O+J;x>S;S+=3)C=N+i[S],A=N+i[S+1],w=N+i[S+2],t(C,A,w)}var F,G,z,j=new THREE.Vector3,U=new THREE.Vector3,W=new THREE.Vector3,X=new THREE.Vector3;for(T=0,E=I.length;E>T;++T){var O=I[T].start,J=I[T].count,N=I[T].index;for(S=O,x=O+J;x>S;S+=3)C=N+i[S],A=N+i[S+1],w=N+i[S+2],e(C),e(A),e(w)}},computeOffsets:function(t){var e=t;void 0===t&&(e=65535);for(var i=(Date.now(),this.attributes.index.array),r=this.attributes.position.array,o=(r.length/3,i.length/3),n=new Uint16Array(i.length),a=0,s=0,l=[{start:0,count:0,index:0}],c=l[0],h=0,d=0,u=new Int32Array(6),p=new Int32Array(r.length),f=new Int32Array(r.length),_=0;_<r.length;_++)p[_]=-1,f[_]=-1;for(var m=0;o>m;m++){d=0;for(var g=0;3>g;g++){var y=i[3*m+g];-1==p[y]?(u[2*g]=y,u[2*g+1]=-1,d++):p[y]<c.index?(u[2*g]=y,u[2*g+1]=-1,h++):(u[2*g]=y,u[2*g+1]=p[y])}var b=s+d;if(b>c.index+e){var v={start:a,count:0,index:s};l.push(v),c=v;for(var M=0;6>M;M+=2){var S=u[M+1];S>-1&&S<c.index&&(u[M+1]=-1)}}for(var M=0;6>M;M+=2){var y=u[M],S=u[M+1];-1===S&&(S=s++),p[y]=S,f[S]=y,n[a++]=S-c.index,c.count++}}return this.reorderBuffers(n,f,s),this.offsets=l,l},merge:function(){console.log("BufferGeometry.merge(): TODO")},normalizeNormals:function(){for(var t,e,i,r,o=this.attributes.normal.array,n=0,a=o.length;a>n;n+=3)t=o[n],e=o[n+1],i=o[n+2],r=1/Math.sqrt(t*t+e*e+i*i),o[n]*=r,o[n+1]*=r,o[n+2]*=r},reorderBuffers:function(t,e,i){var r={};for(var o in this.attributes)if("index"!=o){var n=this.attributes[o].array;r[o]=new n.constructor(this.attributes[o].itemSize*i)}for(var a=0;i>a;a++){var s=e[a];for(var o in this.attributes)if("index"!=o)for(var l=this.attributes[o].array,c=this.attributes[o].itemSize,h=r[o],d=0;c>d;d++)h[a*c+d]=l[s*c+d]}this.attributes.index.array=t;for(var o in this.attributes)"index"!=o&&(this.attributes[o].array=r[o],this.attributes[o].numItems=this.attributes[o].itemSize*i)},toJSON:function(){var t={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type,data:{attributes:{}}},e=this.attributes,i=this.offsets,r=this.boundingSphere;for(var o in e){for(var n=e[o],a=[],s=n.array,l=0,c=s.length;c>l;l++)a[l]=s[l];t.data.attributes[o]={itemSize:n.itemSize,type:n.array.constructor.name,array:a}}return i.length>0&&(t.data.offsets=JSON.parse(JSON.stringify(i))),null!==r&&(t.data.boundingSphere={center:r.center.toArray(),radius:r.radius}),t},clone:function(){var t=new THREE.BufferGeometry;for(var e in this.attributes){var i=this.attributes[e];t.addAttribute(e,i.clone())}for(var r=0,o=this.offsets.length;o>r;r++){var n=this.offsets[r];t.offsets.push({start:n.start,index:n.index,count:n.count})}return t},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype),THREE.Geometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphColors=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.tangentsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(t){for(var e=(new THREE.Matrix3).getNormalMatrix(t),i=0,r=this.vertices.length;r>i;i++){var o=this.vertices[i];o.applyMatrix4(t)}for(var i=0,r=this.faces.length;r>i;i++){var n=this.faces[i];n.normal.applyMatrix3(e).normalize();for(var a=0,s=n.vertexNormals.length;s>a;a++)n.vertexNormals[a].applyMatrix3(e).normalize()}this.boundingBox instanceof THREE.Box3&&this.computeBoundingBox(),this.boundingSphere instanceof THREE.Sphere&&this.computeBoundingSphere()},fromBufferGeometry:function(t){for(var e=this,i=t.attributes,r=i.position.array,o=void 0!==i.index?i.index.array:void 0,n=void 0!==i.normal?i.normal.array:void 0,a=void 0!==i.color?i.color.array:void 0,s=void 0!==i.uv?i.uv.array:void 0,l=[],c=[],h=0,d=0;h<r.length;h+=3,d+=2)e.vertices.push(new THREE.Vector3(r[h],r[h+1],r[h+2])),void 0!==n&&l.push(new THREE.Vector3(n[h],n[h+1],n[h+2])),void 0!==a&&e.colors.push(new THREE.Color(a[h],a[h+1],a[h+2])),void 0!==s&&c.push(new THREE.Vector2(s[d],s[d+1]));var u=function(t,i,r){var o=void 0!==n?[l[t].clone(),l[i].clone(),l[r].clone()]:[],s=void 0!==a?[e.colors[t].clone(),e.colors[i].clone(),e.colors[r].clone()]:[];e.faces.push(new THREE.Face3(t,i,r,o,s)),e.faceVertexUvs[0].push([c[t],c[i],c[r]])};if(void 0!==o)for(var h=0;h<o.length;h+=3)u(o[h],o[h+1],o[h+2]);else for(var h=0;h<r.length/3;h+=3)u(h,h+1,h+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=new THREE.Vector3;return t.addVectors(this.boundingBox.min,this.boundingBox.max),t.multiplyScalar(-.5),this.applyMatrix((new THREE.Matrix4).makeTranslation(t.x,t.y,t.z)),this.computeBoundingBox(),t},computeFaceNormals:function(){for(var t=new THREE.Vector3,e=new THREE.Vector3,i=0,r=this.faces.length;r>i;i++){var o=this.faces[i],n=this.vertices[o.a],a=this.vertices[o.b],s=this.vertices[o.c];t.subVectors(s,a),e.subVectors(n,a),t.cross(e),t.normalize(),o.normal.copy(t)}},computeVertexNormals:function(t){var e,i,r,o,n,a;for(a=new Array(this.vertices.length),e=0,i=this.vertices.length;i>e;e++)a[e]=new THREE.Vector3;if(t){{var s,l,c,h=new THREE.Vector3,d=new THREE.Vector3;new THREE.Vector3,new THREE.Vector3,new THREE.Vector3}for(r=0,o=this.faces.length;o>r;r++)n=this.faces[r],s=this.vertices[n.a],l=this.vertices[n.b],c=this.vertices[n.c],h.subVectors(c,l),d.subVectors(s,l),h.cross(d),a[n.a].add(h),a[n.b].add(h),a[n.c].add(h)}else for(r=0,o=this.faces.length;o>r;r++)n=this.faces[r],a[n.a].add(n.normal),a[n.b].add(n.normal),a[n.c].add(n.normal);for(e=0,i=this.vertices.length;i>e;e++)a[e].normalize();for(r=0,o=this.faces.length;o>r;r++)n=this.faces[r],n.vertexNormals[0]=a[n.a].clone(),n.vertexNormals[1]=a[n.b].clone(),n.vertexNormals[2]=a[n.c].clone()},computeMorphNormals:function(){var t,e,i,r,o;for(i=0,r=this.faces.length;r>i;i++)for(o=this.faces[i],o.__originalFaceNormal?o.__originalFaceNormal.copy(o.normal):o.__originalFaceNormal=o.normal.clone(),o.__originalVertexNormals||(o.__originalVertexNormals=[]),t=0,e=o.vertexNormals.length;e>t;t++)o.__originalVertexNormals[t]?o.__originalVertexNormals[t].copy(o.vertexNormals[t]):o.__originalVertexNormals[t]=o.vertexNormals[t].clone();var n=new THREE.Geometry;for(n.faces=this.faces,t=0,e=this.morphTargets.length;e>t;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a,s,l=this.morphNormals[t].faceNormals,c=this.morphNormals[t].vertexNormals;for(i=0,r=this.faces.length;r>i;i++)a=new THREE.Vector3,s={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3},l.push(a),c.push(s)}var h=this.morphNormals[t];n.vertices=this.morphTargets[t].vertices,n.computeFaceNormals(),n.computeVertexNormals();var a,s;for(i=0,r=this.faces.length;r>i;i++)o=this.faces[i],a=h.faceNormals[i],s=h.vertexNormals[i],a.copy(o.normal),s.a.copy(o.vertexNormals[0]),s.b.copy(o.vertexNormals[1]),s.c.copy(o.vertexNormals[2])}for(i=0,r=this.faces.length;r>i;i++)o=this.faces[i],o.normal=o.__originalFaceNormal,o.vertexNormals=o.__originalVertexNormals},computeTangents:function(){function t(t,e,i,r,o,n,a){c=t.vertices[e],h=t.vertices[i],d=t.vertices[r],u=l[o],p=l[n],f=l[a],_=h.x-c.x,m=d.x-c.x,g=h.y-c.y,y=d.y-c.y,b=h.z-c.z,v=d.z-c.z,M=p.x-u.x,S=f.x-u.x,x=p.y-u.y,T=f.y-u.y,E=1/(M*T-S*x),P.set((T*_-x*m)*E,(T*g-x*y)*E,(T*b-x*v)*E),B.set((M*m-S*_)*E,(M*y-S*g)*E,(M*v-S*b)*E),R[e].add(P),R[i].add(P),R[r].add(P),D[e].add(B),D[i].add(B),D[r].add(B)}var e,i,r,o,n,a,s,l,c,h,d,u,p,f,_,m,g,y,b,v,M,S,x,T,E,C,A,w,R=[],D=[],P=new THREE.Vector3,B=new THREE.Vector3,V=new THREE.Vector3,L=new THREE.Vector3,k=new THREE.Vector3;for(r=0,o=this.vertices.length;o>r;r++)R[r]=new THREE.Vector3,D[r]=new THREE.Vector3;for(e=0,i=this.faces.length;i>e;e++)s=this.faces[e],l=this.faceVertexUvs[0][e],t(this,s.a,s.b,s.c,0,1,2);var H=["a","b","c","d"];for(e=0,i=this.faces.length;i>e;e++)for(s=this.faces[e],n=0;n<Math.min(s.vertexNormals.length,3);n++)k.copy(s.vertexNormals[n]),a=s[H[n]],C=R[a],V.copy(C),V.sub(k.multiplyScalar(k.dot(C))).normalize(),L.crossVectors(s.vertexNormals[n],C),A=L.dot(D[a]),w=0>A?-1:1,s.vertexTangents[n]=new THREE.Vector4(V.x,V.y,V.z,w);this.hasTangents=!0},computeLineDistances:function(){for(var t=0,e=this.vertices,i=0,r=e.length;r>i;i++)i>0&&(t+=e[i].distanceTo(e[i-1])),this.lineDistances[i]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(t instanceof THREE.Geometry==!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var r,o=this.vertices.length,n=this.vertices,a=t.vertices,s=this.faces,l=t.faces,c=this.faceVertexUvs[0],h=t.faceVertexUvs[0];void 0===i&&(i=0),void 0!==e&&(r=(new THREE.Matrix3).getNormalMatrix(e));for(var d=0,u=a.length;u>d;d++){var p=a[d],f=p.clone();void 0!==e&&f.applyMatrix4(e),n.push(f)}for(d=0,u=l.length;u>d;d++){var _,m,g,y=l[d],b=y.vertexNormals,v=y.vertexColors;_=new THREE.Face3(y.a+o,y.b+o,y.c+o),_.normal.copy(y.normal),void 0!==r&&_.normal.applyMatrix3(r).normalize();for(var M=0,S=b.length;S>M;M++)m=b[M].clone(),void 0!==r&&m.applyMatrix3(r).normalize(),_.vertexNormals.push(m);_.color.copy(y.color);for(var M=0,S=v.length;S>M;M++)g=v[M],_.vertexColors.push(g.clone());_.materialIndex=y.materialIndex+i,s.push(_)}for(d=0,u=h.length;u>d;d++){var x=h[d],T=[];if(void 0!==x){for(var M=0,S=x.length;S>M;M++)T.push(new THREE.Vector2(x[M].x,x[M].y));c.push(T)}}},mergeVertices:function(){var t,e,i,r,o,n,a,s,l={},c=[],h=[],d=4,u=Math.pow(10,d);for(i=0,r=this.vertices.length;r>i;i++)t=this.vertices[i],e=Math.round(t.x*u)+"_"+Math.round(t.y*u)+"_"+Math.round(t.z*u),void 0===l[e]?(l[e]=i,c.push(this.vertices[i]),h[i]=c.length-1):h[i]=h[l[e]];var p=[];for(i=0,r=this.faces.length;r>i;i++){o=this.faces[i],o.a=h[o.a],o.b=h[o.b],o.c=h[o.c],n=[o.a,o.b,o.c];for(var f=-1,_=0;3>_;_++)if(n[_]==n[(_+1)%3]){f=_,p.push(i);break}}for(i=p.length-1;i>=0;i--){var m=p[i];for(this.faces.splice(m,1),a=0,s=this.faceVertexUvs.length;s>a;a++)this.faceVertexUvs[a].splice(m,1)}var g=this.vertices.length-c.length;return this.vertices=c,g},toJSON:function(){function t(t,e,i){return i?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==u[e]?u[e]:(u[e]=d.length/3,d.push(t.x,t.y,t.z),u[e])}function i(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==f[e]?f[e]:(f[e]=p.length,p.push(t.getHex()),f[e])}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==m[e]?m[e]:(m[e]=_.length/2,_.push(t.x,t.y),m[e])}var o={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type};if(""!==this.name&&(o.name=this.name),void 0!==this.parameters){var n=this.parameters;for(var a in n)void 0!==n[a]&&(o[a]=n[a]);return o}for(var s=[],l=0;l<this.vertices.length;l++){var c=this.vertices[l];s.push(c.x,c.y,c.z)}for(var h=[],d=[],u={},p=[],f={},_=[],m={},l=0;l<this.faces.length;l++){var g=this.faces[l],y=!1,b=!1,v=void 0!==this.faceVertexUvs[0][l],M=g.normal.length()>0,S=g.vertexNormals.length>0,x=1!==g.color.r||1!==g.color.g||1!==g.color.b,T=g.vertexColors.length>0,E=0;if(E=t(E,0,0),E=t(E,1,y),E=t(E,2,b),E=t(E,3,v),E=t(E,4,M),E=t(E,5,S),E=t(E,6,x),E=t(E,7,T),h.push(E),h.push(g.a,g.b,g.c),v){var C=this.faceVertexUvs[0][l];h.push(r(C[0]),r(C[1]),r(C[2]))}if(M&&h.push(e(g.normal)),S){var A=g.vertexNormals;h.push(e(A[0]),e(A[1]),e(A[2]))}if(x&&h.push(i(g.color)),T){var w=g.vertexColors;h.push(i(w[0]),i(w[1]),i(w[2]))}}return o.data={},o.data.vertices=s,o.data.normals=d,p.length>0&&(o.data.colors=p),_.length>0&&(o.data.uvs=[_]),o.data.faces=h,o},clone:function(){for(var t=new THREE.Geometry,e=this.vertices,i=0,r=e.length;r>i;i++)t.vertices.push(e[i].clone());for(var o=this.faces,i=0,r=o.length;r>i;i++)t.faces.push(o[i].clone());for(var n=this.faceVertexUvs[0],i=0,r=n.length;r>i;i++){for(var a=n[i],s=[],l=0,c=a.length;c>l;l++)s.push(new THREE.Vector2(a[l].x,a[l].y));t.faceVertexUvs[0].push(s)}return t},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype),THREE.GeometryIdCount=0,THREE.Camera=function(){THREE.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new THREE.Matrix4,this.projectionMatrix=new THREE.Matrix4},THREE.Camera.prototype=Object.create(THREE.Object3D.prototype),THREE.Camera.prototype.getWorldDirection=function(){var t=new THREE.Quaternion;return function(e){var i=e||new THREE.Vector3;return this.getWorldQuaternion(t),i.set(0,0,-1).applyQuaternion(t)}}(),THREE.Camera.prototype.lookAt=function(){var t=new THREE.Matrix4;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),THREE.Camera.prototype.clone=function(t){return void 0===t&&(t=new THREE.Camera),THREE.Object3D.prototype.clone.call(this,t),t.matrixWorldInverse.copy(this.matrixWorldInverse),t.projectionMatrix.copy(this.projectionMatrix),t},THREE.CubeCamera=function(t,e,i){THREE.Object3D.call(this),this.type="CubeCamera";
var r=90,o=1,n=new THREE.PerspectiveCamera(r,o,t,e);n.up.set(0,-1,0),n.lookAt(new THREE.Vector3(1,0,0)),this.add(n);var a=new THREE.PerspectiveCamera(r,o,t,e);a.up.set(0,-1,0),a.lookAt(new THREE.Vector3(-1,0,0)),this.add(a);var s=new THREE.PerspectiveCamera(r,o,t,e);s.up.set(0,0,1),s.lookAt(new THREE.Vector3(0,1,0)),this.add(s);var l=new THREE.PerspectiveCamera(r,o,t,e);l.up.set(0,0,-1),l.lookAt(new THREE.Vector3(0,-1,0)),this.add(l);var c=new THREE.PerspectiveCamera(r,o,t,e);c.up.set(0,-1,0),c.lookAt(new THREE.Vector3(0,0,1)),this.add(c);var h=new THREE.PerspectiveCamera(r,o,t,e);h.up.set(0,-1,0),h.lookAt(new THREE.Vector3(0,0,-1)),this.add(h),this.renderTarget=new THREE.WebGLRenderTargetCube(i,i,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter}),this.updateCubeMap=function(t,e){var i=this.renderTarget,r=i.generateMipmaps;i.generateMipmaps=!1,i.activeCubeFace=0,t.render(e,n,i),i.activeCubeFace=1,t.render(e,a,i),i.activeCubeFace=2,t.render(e,s,i),i.activeCubeFace=3,t.render(e,l,i),i.activeCubeFace=4,t.render(e,c,i),i.generateMipmaps=r,i.activeCubeFace=5,t.render(e,h,i)}},THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype),THREE.OrthographicCamera=function(t,e,i,r,o,n){THREE.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=t,this.right=e,this.top=i,this.bottom=r,this.near=void 0!==o?o:.1,this.far=void 0!==n?n:2e3,this.updateProjectionMatrix()},THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype),THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(i-t,i+t,r+e,r-e,this.near,this.far)},THREE.OrthographicCamera.prototype.clone=function(){var t=new THREE.OrthographicCamera;return THREE.Camera.prototype.clone.call(this,t),t.zoom=this.zoom,t.left=this.left,t.right=this.right,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t.projectionMatrix.copy(this.projectionMatrix),t},THREE.PerspectiveCamera=function(t,e,i,r){THREE.Camera.call(this),this.type="PerspectiveCamera",this.zoom=1,this.fov=void 0!==t?t:50,this.aspect=void 0!==e?e:1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype),THREE.PerspectiveCamera.prototype.setLens=function(t,e){void 0===e&&(e=24),this.fov=2*THREE.Math.radToDeg(Math.atan(e/(2*t))),this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.setViewOffset=function(t,e,i,r,o,n){this.fullWidth=t,this.fullHeight=e,this.x=i,this.y=r,this.width=o,this.height=n,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var t=THREE.Math.radToDeg(2*Math.atan(Math.tan(.5*THREE.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var e=this.fullWidth/this.fullHeight,i=Math.tan(THREE.Math.degToRad(.5*t))*this.near,r=-i,o=e*r,n=e*i,a=Math.abs(n-o),s=Math.abs(i-r);this.projectionMatrix.makeFrustum(o+this.x*a/this.fullWidth,o+(this.x+this.width)*a/this.fullWidth,i-(this.y+this.height)*s/this.fullHeight,i-this.y*s/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(t,this.aspect,this.near,this.far)},THREE.PerspectiveCamera.prototype.clone=function(){var t=new THREE.PerspectiveCamera;return THREE.Camera.prototype.clone.call(this,t),t.zoom=this.zoom,t.fov=this.fov,t.aspect=this.aspect,t.near=this.near,t.far=this.far,t.projectionMatrix.copy(this.projectionMatrix),t},THREE.Light=function(t){THREE.Object3D.call(this),this.type="Light",this.color=new THREE.Color(t)},THREE.Light.prototype=Object.create(THREE.Object3D.prototype),THREE.Light.prototype.clone=function(t){return void 0===t&&(t=new THREE.Light),THREE.Object3D.prototype.clone.call(this,t),t.color.copy(this.color),t},THREE.AmbientLight=function(t){THREE.Light.call(this,t),this.type="AmbientLight"},THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype),THREE.AmbientLight.prototype.clone=function(){var t=new THREE.AmbientLight;return THREE.Light.prototype.clone.call(this,t),t},THREE.AreaLight=function(t,e){THREE.Light.call(this,t),this.type="AreaLight",this.normal=new THREE.Vector3(0,-1,0),this.right=new THREE.Vector3(1,0,0),this.intensity=void 0!==e?e:1,this.width=1,this.height=1,this.constantAttenuation=1.5,this.linearAttenuation=.5,this.quadraticAttenuation=.1},THREE.AreaLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight=function(t,e){THREE.Light.call(this,t),this.type="DirectionalLight",this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=void 0!==e?e:1,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraLeft=-500,this.shadowCameraRight=500,this.shadowCameraTop=500,this.shadowCameraBottom=-500,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowCascade=!1,this.shadowCascadeOffset=new THREE.Vector3(0,0,-1e3),this.shadowCascadeCount=2,this.shadowCascadeBias=[0,0,0],this.shadowCascadeWidth=[512,512,512],this.shadowCascadeHeight=[512,512,512],this.shadowCascadeNearZ=[-1,.99,.998],this.shadowCascadeFarZ=[.99,.998,1],this.shadowCascadeArray=[],this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight.prototype.clone=function(){var t=new THREE.DirectionalLight;return THREE.Light.prototype.clone.call(this,t),t.target=this.target.clone(),t.intensity=this.intensity,t.castShadow=this.castShadow,t.onlyShadow=this.onlyShadow,t.shadowCameraNear=this.shadowCameraNear,t.shadowCameraFar=this.shadowCameraFar,t.shadowCameraLeft=this.shadowCameraLeft,t.shadowCameraRight=this.shadowCameraRight,t.shadowCameraTop=this.shadowCameraTop,t.shadowCameraBottom=this.shadowCameraBottom,t.shadowCameraVisible=this.shadowCameraVisible,t.shadowBias=this.shadowBias,t.shadowDarkness=this.shadowDarkness,t.shadowMapWidth=this.shadowMapWidth,t.shadowMapHeight=this.shadowMapHeight,t.shadowCascade=this.shadowCascade,t.shadowCascadeOffset.copy(this.shadowCascadeOffset),t.shadowCascadeCount=this.shadowCascadeCount,t.shadowCascadeBias=this.shadowCascadeBias.slice(0),t.shadowCascadeWidth=this.shadowCascadeWidth.slice(0),t.shadowCascadeHeight=this.shadowCascadeHeight.slice(0),t.shadowCascadeNearZ=this.shadowCascadeNearZ.slice(0),t.shadowCascadeFarZ=this.shadowCascadeFarZ.slice(0),t},THREE.HemisphereLight=function(t,e,i){THREE.Light.call(this,t),this.type="HemisphereLight",this.position.set(0,100,0),this.groundColor=new THREE.Color(e),this.intensity=void 0!==i?i:1},THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype),THREE.HemisphereLight.prototype.clone=function(){var t=new THREE.HemisphereLight;return THREE.Light.prototype.clone.call(this,t),t.groundColor.copy(this.groundColor),t.intensity=this.intensity,t},THREE.PointLight=function(t,e,i){THREE.Light.call(this,t),this.type="PointLight",this.intensity=void 0!==e?e:1,this.distance=void 0!==i?i:0},THREE.PointLight.prototype=Object.create(THREE.Light.prototype),THREE.PointLight.prototype.clone=function(){var t=new THREE.PointLight;return THREE.Light.prototype.clone.call(this,t),t.intensity=this.intensity,t.distance=this.distance,t},THREE.SpotLight=function(t,e,i,r,o){THREE.Light.call(this,t),this.type="SpotLight",this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=void 0!==e?e:1,this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/3,this.exponent=void 0!==o?o:10,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraFov=50,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},THREE.SpotLight.prototype=Object.create(THREE.Light.prototype),THREE.SpotLight.prototype.clone=function(){var t=new THREE.SpotLight;return THREE.Light.prototype.clone.call(this,t),t.target=this.target.clone(),t.intensity=this.intensity,t.distance=this.distance,t.angle=this.angle,t.exponent=this.exponent,t.castShadow=this.castShadow,t.onlyShadow=this.onlyShadow,t.shadowCameraNear=this.shadowCameraNear,t.shadowCameraFar=this.shadowCameraFar,t.shadowCameraFov=this.shadowCameraFov,t.shadowCameraVisible=this.shadowCameraVisible,t.shadowBias=this.shadowBias,t.shadowDarkness=this.shadowDarkness,t.shadowMapWidth=this.shadowMapWidth,t.shadowMapHeight=this.shadowMapHeight,t},THREE.Cache=function(){this.files={}},THREE.Cache.prototype={constructor:THREE.Cache,add:function(t,e){this.files[t]=e},get:function(t){return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},THREE.Loader=function(t){this.showStatus=t,this.statusDomElement=t?THREE.Loader.prototype.addStatusElement():null,this.imageLoader=new THREE.ImageLoader,this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:void 0,addStatusElement:function(){var t=document.createElement("div");return t.style.position="absolute",t.style.right="0px",t.style.top="0px",t.style.fontSize="0.8em",t.style.textAlign="left",t.style.background="rgba(0,0,0,0.25)",t.style.color="#fff",t.style.width="120px",t.style.padding="0.5em 0.5em 0.5em 0.5em",t.style.zIndex=1e3,t.innerHTML="Loading ...",t},updateProgress:function(t){var e="Loaded ";e+=t.total?(100*t.loaded/t.total).toFixed(0)+"%":(t.loaded/1024).toFixed(2)+" KB",this.statusDomElement.innerHTML=e},extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e){for(var i=[],r=0;r<t.length;++r)i[r]=this.createMaterial(t[r],e);return i},needsTangents:function(t){for(var e=0,i=t.length;i>e;e++){var r=t[e];if(r instanceof THREE.ShaderMaterial)return!0}return!1},createMaterial:function(t,e){function i(t){var e=Math.log(t)/Math.LN2;return Math.pow(2,Math.round(e))}function r(t,r,o,a,s,l,c){var h,d=e+o,u=THREE.Loader.Handlers.get(d);if(null!==u?h=u.load(d):(h=new THREE.Texture,u=n.imageLoader,u.crossOrigin=n.crossOrigin,u.load(d,function(t){if(THREE.Math.isPowerOfTwo(t.width)===!1||THREE.Math.isPowerOfTwo(t.height)===!1){var e=i(t.width),r=i(t.height),o=document.createElement("canvas");o.width=e,o.height=r;var n=o.getContext("2d");n.drawImage(t,0,0,e,r),h.image=o}else h.image=t;h.needsUpdate=!0})),h.sourceFile=o,a&&(h.repeat.set(a[0],a[1]),1!==a[0]&&(h.wrapS=THREE.RepeatWrapping),1!==a[1]&&(h.wrapT=THREE.RepeatWrapping)),s&&h.offset.set(s[0],s[1]),l){var p={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping};void 0!==p[l[0]]&&(h.wrapS=p[l[0]]),void 0!==p[l[1]]&&(h.wrapT=p[l[1]])}c&&(h.anisotropy=c),t[r]=h}function o(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]}var n=this,a="MeshLambertMaterial",s={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(t.shading){var l=t.shading.toLowerCase();"phong"===l?a="MeshPhongMaterial":"basic"===l&&(a="MeshBasicMaterial")}if(void 0!==t.blending&&void 0!==THREE[t.blending]&&(s.blending=THREE[t.blending]),(void 0!==t.transparent||t.opacity<1)&&(s.transparent=t.transparent),void 0!==t.depthTest&&(s.depthTest=t.depthTest),void 0!==t.depthWrite&&(s.depthWrite=t.depthWrite),void 0!==t.visible&&(s.visible=t.visible),void 0!==t.flipSided&&(s.side=THREE.BackSide),void 0!==t.doubleSided&&(s.side=THREE.DoubleSide),void 0!==t.wireframe&&(s.wireframe=t.wireframe),void 0!==t.vertexColors&&("face"===t.vertexColors?s.vertexColors=THREE.FaceColors:t.vertexColors&&(s.vertexColors=THREE.VertexColors)),t.colorDiffuse?s.color=o(t.colorDiffuse):t.DbgColor&&(s.color=t.DbgColor),t.colorSpecular&&(s.specular=o(t.colorSpecular)),t.colorAmbient&&(s.ambient=o(t.colorAmbient)),t.colorEmissive&&(s.emissive=o(t.colorEmissive)),t.transparency&&(s.opacity=t.transparency),t.specularCoef&&(s.shininess=t.specularCoef),t.mapDiffuse&&e&&r(s,"map",t.mapDiffuse,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy),t.mapLight&&e&&r(s,"lightMap",t.mapLight,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy),t.mapBump&&e&&r(s,"bumpMap",t.mapBump,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy),t.mapNormal&&e&&r(s,"normalMap",t.mapNormal,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy),t.mapSpecular&&e&&r(s,"specularMap",t.mapSpecular,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy),t.mapAlpha&&e&&r(s,"alphaMap",t.mapAlpha,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy),t.mapBumpScale&&(s.bumpScale=t.mapBumpScale),t.mapNormal){var c=THREE.ShaderLib.normalmap,h=THREE.UniformsUtils.clone(c.uniforms);h.tNormal.value=s.normalMap,t.mapNormalFactor&&h.uNormalScale.value.set(t.mapNormalFactor,t.mapNormalFactor),s.map&&(h.tDiffuse.value=s.map,h.enableDiffuse.value=!0),s.specularMap&&(h.tSpecular.value=s.specularMap,h.enableSpecular.value=!0),s.lightMap&&(h.tAO.value=s.lightMap,h.enableAO.value=!0),h.diffuse.value.setHex(s.color),h.specular.value.setHex(s.specular),h.ambient.value.setHex(s.ambient),h.shininess.value=s.shininess,void 0!==s.opacity&&(h.opacity.value=s.opacity);var d={fragmentShader:c.fragmentShader,vertexShader:c.vertexShader,uniforms:h,lights:!0,fog:!0},u=new THREE.ShaderMaterial(d);s.transparent&&(u.transparent=!0)}else var u=new THREE[a](s);return void 0!==t.DbgName&&(u.name=t.DbgName),u}},THREE.Loader.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=0,i=this.handlers.length;i>e;e+=2){var r=this.handlers[e],o=this.handlers[e+1];if(r.test(t))return o}return null}},THREE.XHRLoader=function(t){this.cache=new THREE.Cache,this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(t,e,i,r){var o=this,n=o.cache.get(t);if(void 0!==n)return void(e&&e(n));var a=new XMLHttpRequest;a.open("GET",t,!0),a.addEventListener("load",function(){o.cache.add(t,this.response),e&&e(this.response),o.manager.itemEnd(t)},!1),void 0!==i&&a.addEventListener("progress",function(t){i(t)},!1),void 0!==r&&a.addEventListener("error",function(t){r(t)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),void 0!==this.responseType&&(a.responseType=this.responseType),a.send(null),o.manager.itemStart(t)},setResponseType:function(t){this.responseType=t},setCrossOrigin:function(t){this.crossOrigin=t}},THREE.ImageLoader=function(t){this.cache=new THREE.Cache,this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(t,e,i,r){var o=this,n=o.cache.get(t);if(void 0!==n)return void e(n);var a=document.createElement("img");return void 0!==e&&a.addEventListener("load",function(){o.cache.add(t,this),e(this),o.manager.itemEnd(t)},!1),void 0!==i&&a.addEventListener("progress",function(t){i(t)},!1),void 0!==r&&a.addEventListener("error",function(t){r(t)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),a.src=t,o.manager.itemStart(t),a},setCrossOrigin:function(t){this.crossOrigin=t}},THREE.JSONLoader=function(t){THREE.Loader.call(this,t),this.withCredentials=!1},THREE.JSONLoader.prototype=Object.create(THREE.Loader.prototype),THREE.JSONLoader.prototype.load=function(t,e,i){i=i&&"string"==typeof i?i:this.extractUrlBase(t),this.onLoadStart(),this.loadAjaxJSON(this,t,e,i)},THREE.JSONLoader.prototype.loadAjaxJSON=function(t,e,i,r,o){var n=new XMLHttpRequest,a=0;n.onreadystatechange=function(){if(n.readyState===n.DONE)if(200===n.status||0===n.status){if(n.responseText){var s=JSON.parse(n.responseText);if(void 0!==s.metadata&&"scene"===s.metadata.type)return void console.error('THREE.JSONLoader: "'+e+'" seems to be a Scene. Use THREE.SceneLoader instead.');var l=t.parse(s,r);i(l.geometry,l.materials)}else console.error('THREE.JSONLoader: "'+e+'" seems to be unreachable or the file is empty.');t.onLoadComplete()}else console.error("THREE.JSONLoader: Couldn't load \""+e+'" ('+n.status+")");else n.readyState===n.LOADING?o&&(0===a&&(a=n.getResponseHeader("Content-Length")),o({total:a,loaded:n.responseText.length})):n.readyState===n.HEADERS_RECEIVED&&void 0!==o&&(a=n.getResponseHeader("Content-Length"))},n.open("GET",e,!0),n.withCredentials=this.withCredentials,n.send(null)},THREE.JSONLoader.prototype.parse=function(t,e){function i(e){function i(t,e){return t&1<<e}var r,o,a,s,l,c,h,d,u,p,f,_,m,g,y,b,v,M,S,x,T,E,C,A,w,R,D,P=t.faces,B=t.vertices,V=t.normals,L=t.colors,k=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&k++;for(r=0;k>r;r++)n.faceVertexUvs[r]=[]}for(s=0,l=B.length;l>s;)M=new THREE.Vector3,M.x=B[s++]*e,M.y=B[s++]*e,M.z=B[s++]*e,n.vertices.push(M);for(s=0,l=P.length;l>s;)if(p=P[s++],f=i(p,0),_=i(p,1),m=i(p,3),g=i(p,4),y=i(p,5),b=i(p,6),v=i(p,7),f){if(x=new THREE.Face3,x.a=P[s],x.b=P[s+1],x.c=P[s+3],T=new THREE.Face3,T.a=P[s+1],T.b=P[s+2],T.c=P[s+3],s+=4,_&&(u=P[s++],x.materialIndex=u,T.materialIndex=u),a=n.faces.length,m)for(r=0;k>r;r++)for(A=t.uvs[r],n.faceVertexUvs[r][a]=[],n.faceVertexUvs[r][a+1]=[],o=0;4>o;o++)d=P[s++],R=A[2*d],D=A[2*d+1],w=new THREE.Vector2(R,D),2!==o&&n.faceVertexUvs[r][a].push(w),0!==o&&n.faceVertexUvs[r][a+1].push(w);if(g&&(h=3*P[s++],x.normal.set(V[h++],V[h++],V[h]),T.normal.copy(x.normal)),y)for(r=0;4>r;r++)h=3*P[s++],C=new THREE.Vector3(V[h++],V[h++],V[h]),2!==r&&x.vertexNormals.push(C),0!==r&&T.vertexNormals.push(C);if(b&&(c=P[s++],E=L[c],x.color.setHex(E),T.color.setHex(E)),v)for(r=0;4>r;r++)c=P[s++],E=L[c],2!==r&&x.vertexColors.push(new THREE.Color(E)),0!==r&&T.vertexColors.push(new THREE.Color(E));n.faces.push(x),n.faces.push(T)}else{if(S=new THREE.Face3,S.a=P[s++],S.b=P[s++],S.c=P[s++],_&&(u=P[s++],S.materialIndex=u),a=n.faces.length,m)for(r=0;k>r;r++)for(A=t.uvs[r],n.faceVertexUvs[r][a]=[],o=0;3>o;o++)d=P[s++],R=A[2*d],D=A[2*d+1],w=new THREE.Vector2(R,D),n.faceVertexUvs[r][a].push(w);if(g&&(h=3*P[s++],S.normal.set(V[h++],V[h++],V[h])),y)for(r=0;3>r;r++)h=3*P[s++],C=new THREE.Vector3(V[h++],V[h++],V[h]),S.vertexNormals.push(C);if(b&&(c=P[s++],S.color.setHex(L[c])),v)for(r=0;3>r;r++)c=P[s++],S.vertexColors.push(new THREE.Color(L[c]));n.faces.push(S)}}function r(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var i=0,r=t.skinWeights.length;r>i;i+=e){var o=t.skinWeights[i],a=e>1?t.skinWeights[i+1]:0,s=e>2?t.skinWeights[i+2]:0,l=e>3?t.skinWeights[i+3]:0;n.skinWeights.push(new THREE.Vector4(o,a,s,l))}if(t.skinIndices)for(var i=0,r=t.skinIndices.length;r>i;i+=e){var c=t.skinIndices[i],h=e>1?t.skinIndices[i+1]:0,d=e>2?t.skinIndices[i+2]:0,u=e>3?t.skinIndices[i+3]:0;n.skinIndices.push(new THREE.Vector4(c,h,d,u))}n.bones=t.bones,n.bones&&n.bones.length>0&&(n.skinWeights.length!==n.skinIndices.length||n.skinIndices.length!==n.vertices.length)&&console.warn("When skinning, number of vertices ("+n.vertices.length+"), skinIndices ("+n.skinIndices.length+"), and skinWeights ("+n.skinWeights.length+") should match."),n.animation=t.animation,n.animations=t.animations}function o(e){if(void 0!==t.morphTargets){var i,r,o,a,s,l;for(i=0,r=t.morphTargets.length;r>i;i++)for(n.morphTargets[i]={},n.morphTargets[i].name=t.morphTargets[i].name,n.morphTargets[i].vertices=[],s=n.morphTargets[i].vertices,l=t.morphTargets[i].vertices,o=0,a=l.length;a>o;o+=3){var c=new THREE.Vector3;c.x=l[o]*e,c.y=l[o+1]*e,c.z=l[o+2]*e,s.push(c)}}if(void 0!==t.morphColors){var i,r,h,d,u,p,f;for(i=0,r=t.morphColors.length;r>i;i++)for(n.morphColors[i]={},n.morphColors[i].name=t.morphColors[i].name,n.morphColors[i].colors=[],u=n.morphColors[i].colors,p=t.morphColors[i].colors,h=0,d=p.length;d>h;h+=3)f=new THREE.Color(16755200),f.setRGB(p[h],p[h+1],p[h+2]),u.push(f)}}var n=new THREE.Geometry,a=void 0!==t.scale?1/t.scale:1;if(i(a),r(),o(a),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:n};var s=this.initMaterials(t.materials,e);return this.needsTangents(s)&&n.computeTangents(),{geometry:n,materials:s}},THREE.LoadingManager=function(t,e,i){var r=this,o=0,n=0;this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(){n++},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,n),o===n&&void 0!==r.onLoad&&r.onLoad()}},THREE.DefaultLoadingManager=new THREE.LoadingManager,THREE.BufferGeometryLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(t,e,i,r){var o=this,n=new THREE.XHRLoader;n.setCrossOrigin(this.crossOrigin),n.load(t,function(t){e(o.parse(JSON.parse(t)))},i,r)},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t){var e=new THREE.BufferGeometry,i=t.attributes;for(var r in i){var o=i[r],n=new self[o.type](o.array);e.addAttribute(r,new THREE.BufferAttribute(n,o.itemSize))}var a=t.offsets;void 0!==a&&(e.offsets=JSON.parse(JSON.stringify(a)));var s=t.boundingSphere;if(void 0!==s){var l=new THREE.Vector3;void 0!==s.center&&l.fromArray(s.center),e.boundingSphere=new THREE.Sphere(l,s.radius)}return e}},THREE.MaterialLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(t,e,i,r){var o=this,n=new THREE.XHRLoader;n.setCrossOrigin(this.crossOrigin),n.load(t,function(t){e(o.parse(JSON.parse(t)))},i,r)},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t){var e=new THREE[t.type];if(void 0!==t.color&&e.color.setHex(t.color),void 0!==t.ambient&&e.ambient.setHex(t.ambient),void 0!==t.emissive&&e.emissive.setHex(t.emissive),void 0!==t.specular&&e.specular.setHex(t.specular),void 0!==t.shininess&&(e.shininess=t.shininess),void 0!==t.uniforms&&(e.uniforms=t.uniforms),void 0!==t.vertexShader&&(e.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(e.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(e.vertexColors=t.vertexColors),void 0!==t.shading&&(e.shading=t.shading),void 0!==t.blending&&(e.blending=t.blending),void 0!==t.side&&(e.side=t.side),void 0!==t.opacity&&(e.opacity=t.opacity),void 0!==t.transparent&&(e.transparent=t.transparent),void 0!==t.wireframe&&(e.wireframe=t.wireframe),void 0!==t.materials)for(var i=0,r=t.materials.length;r>i;i++)e.materials.push(this.parse(t.materials[i]));return e}},THREE.ObjectLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(t,e,i,r){var o=this,n=new THREE.XHRLoader(o.manager);n.setCrossOrigin(this.crossOrigin),n.load(t,function(t){e(o.parse(JSON.parse(t)))},i,r)},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t){var e=this.parseGeometries(t.geometries),i=this.parseMaterials(t.materials),r=this.parseObject(t.object,e,i);return r},parseGeometries:function(t){var e={};if(void 0!==t)for(var i=new THREE.JSONLoader,r=new THREE.BufferGeometryLoader,o=0,n=t.length;n>o;o++){var a,s=t[o];switch(s.type){case"PlaneGeometry":a=new THREE.PlaneGeometry(s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"CubeGeometry":a=new THREE.BoxGeometry(s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":a=new THREE.CircleGeometry(s.radius,s.segments);break;case"CylinderGeometry":a=new THREE.CylinderGeometry(s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded);break;case"SphereGeometry":a=new THREE.SphereGeometry(s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"IcosahedronGeometry":a=new THREE.IcosahedronGeometry(s.radius,s.detail);break;case"TorusGeometry":a=new THREE.TorusGeometry(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":a=new THREE.TorusKnotGeometry(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.p,s.q,s.heightScale);break;case"BufferGeometry":a=r.parse(s.data);break;case"Geometry":a=i.parse(s.data).geometry}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t){var e={};if(void 0!==t)for(var i=new THREE.MaterialLoader,r=0,o=t.length;o>r;r++){var n=t[r],a=i.parse(n);a.uuid=n.uuid,void 0!==n.name&&(a.name=n.name),e[n.uuid]=a}return e},parseObject:function(){var t=new THREE.Matrix4;return function(e,i,r){var o;switch(e.type){case"Scene":o=new THREE.Scene;break;case"PerspectiveCamera":o=new THREE.PerspectiveCamera(e.fov,e.aspect,e.near,e.far);break;case"OrthographicCamera":o=new THREE.OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":o=new THREE.AmbientLight(e.color);break;case"DirectionalLight":o=new THREE.DirectionalLight(e.color,e.intensity);break;case"PointLight":o=new THREE.PointLight(e.color,e.intensity,e.distance);break;case"SpotLight":o=new THREE.SpotLight(e.color,e.intensity,e.distance,e.angle,e.exponent);break;case"HemisphereLight":o=new THREE.HemisphereLight(e.color,e.groundColor,e.intensity);break;case"Mesh":var n=i[e.geometry],a=r[e.material];void 0===n&&console.warn("THREE.ObjectLoader: Undefined geometry",e.geometry),void 0===a&&console.warn("THREE.ObjectLoader: Undefined material",e.material),o=new THREE.Mesh(n,a);break;case"Line":var n=i[e.geometry],a=r[e.material];void 0===n&&console.warn("THREE.ObjectLoader: Undefined geometry",e.geometry),void 0===a&&console.warn("THREE.ObjectLoader: Undefined material",e.material),o=new THREE.Line(n,a);break;case"Sprite":var a=r[e.material];void 0===a&&console.warn("THREE.ObjectLoader: Undefined material",e.material),o=new THREE.Sprite(a);break;case"Group":o=new THREE.Group;break;default:o=new THREE.Object3D}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.children)for(var s in e.children)o.add(this.parseObject(e.children[s],i,r));return o}}()},THREE.TextureLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(t,e,i,r){var o=this,n=new THREE.ImageLoader(o.manager);n.setCrossOrigin(this.crossOrigin),n.load(t,function(t){var i=new THREE.Texture(t);i.needsUpdate=!0,void 0!==e&&e(i)},i,r)},setCrossOrigin:function(t){this.crossOrigin=t}},THREE.CompressedTextureLoader=function(){this._parser=null},THREE.CompressedTextureLoader.prototype={constructor:THREE.CompressedTextureLoader,load:function(t,e){var i=this,r=[],o=new THREE.CompressedTexture;o.image=r;var n=new THREE.XHRLoader;if(n.setResponseType("arraybuffer"),t instanceof Array)for(var a=0,s=function(s){n.load(t[s],function(t){var n=i._parser(t,!0);r[s]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},a+=1,6===a&&(1==n.mipmapCount&&(o.minFilter=THREE.LinearFilter),o.format=n.format,o.needsUpdate=!0,e&&e(o))})},l=0,c=t.length;c>l;++l)s(l);else n.load(t,function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var a=n.mipmaps.length/n.mipmapCount,s=0;a>s;s++){r[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)r[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),r[s].format=n.format,r[s].width=n.width,r[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=THREE.LinearFilter),o.format=n.format,o.needsUpdate=!0,e&&e(o)});return o}},THREE.Material=function(){Object.defineProperty(this,"id",{value:THREE.MaterialIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Material",this.side=THREE.FrontSide,this.opacity=1,this.transparent=!1,this.blending=THREE.NormalBlending,this.blendSrc=THREE.SrcAlphaFactor,this.blendDst=THREE.OneMinusSrcAlphaFactor,this.blendEquation=THREE.AddEquation,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this.needsUpdate=!0},THREE.Material.prototype={constructor:THREE.Material,setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i){if(e in this){var r=this[e];r instanceof THREE.Color?r.set(i):r instanceof THREE.Vector3&&i instanceof THREE.Vector3?r.copy(i):this[e]="overdraw"==e?Number(i):i}}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(){var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type};return""!==this.name&&(t.name=this.name),this instanceof THREE.MeshBasicMaterial?(t.color=this.color.getHex(),this.vertexColors!==THREE.NoColors&&(t.vertexColors=this.vertexColors),this.blending!==THREE.NormalBlending&&(t.blending=this.blending),this.side!==THREE.FrontSide&&(t.side=this.side)):this instanceof THREE.MeshLambertMaterial?(t.color=this.color.getHex(),t.ambient=this.ambient.getHex(),t.emissive=this.emissive.getHex(),this.vertexColors!==THREE.NoColors&&(t.vertexColors=this.vertexColors),this.blending!==THREE.NormalBlending&&(t.blending=this.blending),this.side!==THREE.FrontSide&&(t.side=this.side)):this instanceof THREE.MeshPhongMaterial?(t.color=this.color.getHex(),t.ambient=this.ambient.getHex(),t.emissive=this.emissive.getHex(),t.specular=this.specular.getHex(),t.shininess=this.shininess,this.vertexColors!==THREE.NoColors&&(t.vertexColors=this.vertexColors),this.blending!==THREE.NormalBlending&&(t.blending=this.blending),this.side!==THREE.FrontSide&&(t.side=this.side)):this instanceof THREE.MeshNormalMaterial?(this.shading!==THREE.FlatShading&&(t.shading=this.shading),this.blending!==THREE.NormalBlending&&(t.blending=this.blending),this.side!==THREE.FrontSide&&(t.side=this.side)):this instanceof THREE.MeshDepthMaterial?(this.blending!==THREE.NormalBlending&&(t.blending=this.blending),this.side!==THREE.FrontSide&&(t.side=this.side)):this instanceof THREE.ShaderMaterial?(t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader):this instanceof THREE.SpriteMaterial&&(t.color=this.color.getHex()),this.opacity<1&&(t.opacity=this.opacity),this.transparent!==!1&&(t.transparent=this.transparent),this.wireframe!==!1&&(t.wireframe=this.wireframe),t},clone:function(t){return void 0===t&&(t=new THREE.Material),t.name=this.name,t.side=this.side,t.opacity=this.opacity,t.transparent=this.transparent,t.blending=this.blending,t.blendSrc=this.blendSrc,t.blendDst=this.blendDst,t.blendEquation=this.blendEquation,t.depthTest=this.depthTest,t.depthWrite=this.depthWrite,t.polygonOffset=this.polygonOffset,t.polygonOffsetFactor=this.polygonOffsetFactor,t.polygonOffsetUnits=this.polygonOffsetUnits,t.alphaTest=this.alphaTest,t.overdraw=this.overdraw,t.visible=this.visible,t},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Material.prototype),THREE.MaterialIdCount=0,THREE.LineBasicMaterial=function(t){THREE.Material.call(this),this.type="LineBasicMaterial",this.color=new THREE.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=THREE.NoColors,this.fog=!0,this.setValues(t)},THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineBasicMaterial.prototype.clone=function(){var t=new THREE.LineBasicMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.linewidth=this.linewidth,t.linecap=this.linecap,t.linejoin=this.linejoin,t.vertexColors=this.vertexColors,t.fog=this.fog,t},THREE.LineDashedMaterial=function(t){THREE.Material.call(this),this.type="LineDashedMaterial",this.color=new THREE.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(t)
},THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineDashedMaterial.prototype.clone=function(){var t=new THREE.LineDashedMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.linewidth=this.linewidth,t.scale=this.scale,t.dashSize=this.dashSize,t.gapSize=this.gapSize,t.vertexColors=this.vertexColors,t.fog=this.fog,t},THREE.MeshBasicMaterial=function(t){THREE.Material.call(this),this.type="MeshBasicMaterial",this.color=new THREE.Color(16777215),this.map=null,this.lightMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(t)},THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshBasicMaterial.prototype.clone=function(){var t=new THREE.MeshBasicMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.map=this.map,t.lightMap=this.lightMap,t.specularMap=this.specularMap,t.alphaMap=this.alphaMap,t.envMap=this.envMap,t.combine=this.combine,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,t.fog=this.fog,t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t.wireframeLinecap=this.wireframeLinecap,t.wireframeLinejoin=this.wireframeLinejoin,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t},THREE.MeshLambertMaterial=function(t){THREE.Material.call(this),this.type="MeshLambertMaterial",this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.wrapAround=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.map=null,this.lightMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshLambertMaterial.prototype.clone=function(){var t=new THREE.MeshLambertMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.ambient.copy(this.ambient),t.emissive.copy(this.emissive),t.wrapAround=this.wrapAround,t.wrapRGB.copy(this.wrapRGB),t.map=this.map,t.lightMap=this.lightMap,t.specularMap=this.specularMap,t.alphaMap=this.alphaMap,t.envMap=this.envMap,t.combine=this.combine,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,t.fog=this.fog,t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t.wireframeLinecap=this.wireframeLinecap,t.wireframeLinejoin=this.wireframeLinejoin,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t.morphNormals=this.morphNormals,t},THREE.MeshPhongMaterial=function(t){THREE.Material.call(this),this.type="MeshPhongMaterial",this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.specular=new THREE.Color(1118481),this.shininess=30,this.metal=!1,this.wrapAround=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.map=null,this.lightMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new THREE.Vector2(1,1),this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshPhongMaterial.prototype.clone=function(){var t=new THREE.MeshPhongMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.ambient.copy(this.ambient),t.emissive.copy(this.emissive),t.specular.copy(this.specular),t.shininess=this.shininess,t.metal=this.metal,t.wrapAround=this.wrapAround,t.wrapRGB.copy(this.wrapRGB),t.map=this.map,t.lightMap=this.lightMap,t.bumpMap=this.bumpMap,t.bumpScale=this.bumpScale,t.normalMap=this.normalMap,t.normalScale.copy(this.normalScale),t.specularMap=this.specularMap,t.alphaMap=this.alphaMap,t.envMap=this.envMap,t.combine=this.combine,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,t.fog=this.fog,t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t.wireframeLinecap=this.wireframeLinecap,t.wireframeLinejoin=this.wireframeLinejoin,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t.morphNormals=this.morphNormals,t},THREE.MeshDepthMaterial=function(t){THREE.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)},THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshDepthMaterial.prototype.clone=function(){var t=new THREE.MeshDepthMaterial;return THREE.Material.prototype.clone.call(this,t),t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t},THREE.MeshNormalMaterial=function(t){THREE.Material.call(this,t),this.type="MeshNormalMaterial",this.shading=THREE.FlatShading,this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(t)},THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshNormalMaterial.prototype.clone=function(){var t=new THREE.MeshNormalMaterial;return THREE.Material.prototype.clone.call(this,t),t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t},THREE.MeshFaceMaterial=function(t){this.uuid=THREE.Math.generateUUID(),this.type="MeshFaceMaterial",this.materials=t instanceof Array?t:[]},THREE.MeshFaceMaterial.prototype={constructor:THREE.MeshFaceMaterial,toJSON:function(){for(var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},e=0,i=this.materials.length;i>e;e++)t.materials.push(this.materials[e].toJSON());return t},clone:function(){for(var t=new THREE.MeshFaceMaterial,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t}},THREE.PointCloudMaterial=function(t){THREE.Material.call(this),this.type="PointCloudMaterial",this.color=new THREE.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=THREE.NoColors,this.fog=!0,this.setValues(t)},THREE.PointCloudMaterial.prototype=Object.create(THREE.Material.prototype),THREE.PointCloudMaterial.prototype.clone=function(){var t=new THREE.PointCloudMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.map=this.map,t.size=this.size,t.sizeAttenuation=this.sizeAttenuation,t.vertexColors=this.vertexColors,t.fog=this.fog,t},THREE.ParticleBasicMaterial=function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointCloudMaterial."),new THREE.PointCloudMaterial(t)},THREE.ParticleSystemMaterial=function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointCloudMaterial."),new THREE.PointCloudMaterial(t)},THREE.ShaderMaterial=function(t){THREE.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.attributes=null,this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.shading=THREE.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.setValues(t)},THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ShaderMaterial.prototype.clone=function(){var t=new THREE.ShaderMaterial;return THREE.Material.prototype.clone.call(this,t),t.fragmentShader=this.fragmentShader,t.vertexShader=this.vertexShader,t.uniforms=THREE.UniformsUtils.clone(this.uniforms),t.attributes=this.attributes,t.defines=this.defines,t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t.fog=this.fog,t.lights=this.lights,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t.morphNormals=this.morphNormals,t},THREE.RawShaderMaterial=function(t){THREE.ShaderMaterial.call(this,t),this.type="RawShaderMaterial"},THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype),THREE.RawShaderMaterial.prototype.clone=function(){var t=new THREE.RawShaderMaterial;return THREE.ShaderMaterial.prototype.clone.call(this,t),t},THREE.SpriteMaterial=function(t){THREE.Material.call(this),this.type="SpriteMaterial",this.color=new THREE.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(t)},THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype),THREE.SpriteMaterial.prototype.clone=function(){var t=new THREE.SpriteMaterial;return THREE.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.map=this.map,t.rotation=this.rotation,t.fog=this.fog,t},THREE.Texture=function(t,e,i,r,o,n,a,s,l){Object.defineProperty(this,"id",{value:THREE.TextureIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.image=void 0!==t?t:THREE.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:THREE.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==r?r:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==o?o:THREE.LinearFilter,this.minFilter=void 0!==n?n:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==l?l:1,this.format=void 0!==a?a:THREE.RGBAFormat,this.type=void 0!==s?s:THREE.UnsignedByteType,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this._needsUpdate=!1,this.onUpdate=null},THREE.Texture.DEFAULT_IMAGE=void 0,THREE.Texture.DEFAULT_MAPPING=new THREE.UVMapping,THREE.Texture.prototype={constructor:THREE.Texture,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){t===!0&&this.update(),this._needsUpdate=t},clone:function(t){return void 0===t&&(t=new THREE.Texture),t.image=this.image,t.mipmaps=this.mipmaps.slice(0),t.mapping=this.mapping,t.wrapS=this.wrapS,t.wrapT=this.wrapT,t.magFilter=this.magFilter,t.minFilter=this.minFilter,t.anisotropy=this.anisotropy,t.format=this.format,t.type=this.type,t.offset.copy(this.offset),t.repeat.copy(this.repeat),t.generateMipmaps=this.generateMipmaps,t.premultiplyAlpha=this.premultiplyAlpha,t.flipY=this.flipY,t.unpackAlignment=this.unpackAlignment,t},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype),THREE.TextureIdCount=0,THREE.CubeTexture=function(t,e,i,r,o,n,a,s,l){THREE.Texture.call(this,t,e,i,r,o,n,a,s,l),this.images=t},THREE.CubeTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CubeTexture.clone=function(t){return void 0===t&&(t=new THREE.CubeTexture),THREE.Texture.prototype.clone.call(this,t),t.images=this.images,t},THREE.CompressedTexture=function(t,e,i,r,o,n,a,s,l,c,h){THREE.Texture.call(this,null,n,a,s,l,c,r,o,h),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1},THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CompressedTexture.prototype.clone=function(){var t=new THREE.CompressedTexture;return THREE.Texture.prototype.clone.call(this,t),t},THREE.DataTexture=function(t,e,i,r,o,n,a,s,l,c,h){THREE.Texture.call(this,null,n,a,s,l,c,r,o,h),this.image={data:t,width:e,height:i}},THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype),THREE.DataTexture.prototype.clone=function(){var t=new THREE.DataTexture;return THREE.Texture.prototype.clone.call(this,t),t},THREE.VideoTexture=function(t,e,i,r,o,n,a,s,l){THREE.Texture.call(this,t,e,i,r,o,n,a,s,l),this.generateMipmaps=!1;var c=this,h=function(){requestAnimationFrame(h),t.readyState===t.HAVE_ENOUGH_DATA&&(c.needsUpdate=!0)};h()},THREE.VideoTexture.prototype=Object.create(THREE.Texture.prototype),THREE.Group=function(){THREE.Object3D.call(this),this.type="Group"},THREE.Group.prototype=Object.create(THREE.Object3D.prototype),THREE.PointCloud=function(t,e){THREE.Object3D.call(this),this.type="PointCloud",this.geometry=void 0!==t?t:new THREE.Geometry,this.material=void 0!==e?e:new THREE.PointCloudMaterial({color:16777215*Math.random()}),this.sortParticles=!1},THREE.PointCloud.prototype=Object.create(THREE.Object3D.prototype),THREE.PointCloud.prototype.raycast=function(){var t=new THREE.Matrix4,e=new THREE.Ray;return function(i,r){var o=this,n=o.geometry,a=i.params.PointCloud.threshold;if(t.getInverse(this.matrixWorld),e.copy(i.ray).applyMatrix4(t),null===n.boundingBox||e.isIntersectionBox(n.boundingBox)!==!1){var s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=new THREE.Vector3,c=function(t,n){var a=e.distanceToPoint(t);if(s>a){var l=e.closestPointToPoint(t);l.applyMatrix4(o.matrixWorld);var c=i.ray.origin.distanceTo(l);r.push({distance:c,distanceToRay:a,point:l.clone(),index:n,face:null,object:o})}};if(n instanceof THREE.BufferGeometry){var h=n.attributes,d=h.position.array;if(void 0!==h.index){var u=h.index.array,p=n.offsets;if(0===p.length){var f={start:0,count:u.length,index:0};p=[f]}for(var _=0,m=p.length;m>_;++_)for(var g=p[_].start,y=p[_].count,b=p[_].index,v=g,M=g+y;M>v;v++){var S=b+u[v];l.fromArray(d,3*S),c(l,S)}}else for(var x=d.length/3,v=0;x>v;v++)l.set(d[3*v],d[3*v+1],d[3*v+2]),c(l,v)}else for(var T=this.geometry.vertices,v=0;v<T.length;v++)c(T[v],v)}}}(),THREE.PointCloud.prototype.clone=function(t){return void 0===t&&(t=new THREE.PointCloud(this.geometry,this.material)),t.sortParticles=this.sortParticles,THREE.Object3D.prototype.clone.call(this,t),t},THREE.ParticleSystem=function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.PointCloud."),new THREE.PointCloud(t,e)},THREE.Line=function(t,e,i){THREE.Object3D.call(this),this.type="Line",this.geometry=void 0!==t?t:new THREE.Geometry,this.material=void 0!==e?e:new THREE.LineBasicMaterial({color:16777215*Math.random()}),this.mode=void 0!==i?i:THREE.LineStrip},THREE.LineStrip=0,THREE.LinePieces=1,THREE.Line.prototype=Object.create(THREE.Object3D.prototype),THREE.Line.prototype.raycast=function(){var t=new THREE.Matrix4,e=new THREE.Ray,i=new THREE.Sphere;return function(r,o){var n=r.linePrecision,a=n*n,s=this.geometry;if(null===s.boundingSphere&&s.computeBoundingSphere(),i.copy(s.boundingSphere),i.applyMatrix4(this.matrixWorld),r.ray.isIntersectionSphere(i)!==!1&&(t.getInverse(this.matrixWorld),e.copy(r.ray).applyMatrix4(t),s instanceof THREE.Geometry))for(var l=s.vertices,c=l.length,h=new THREE.Vector3,d=new THREE.Vector3,u=this.mode===THREE.LineStrip?1:2,p=0;c-1>p;p+=u){var f=e.distanceSqToSegment(l[p],l[p+1],d,h);if(!(f>a)){var _=e.origin.distanceTo(d);_<r.near||_>r.far||o.push({distance:_,point:h.clone().applyMatrix4(this.matrixWorld),face:null,faceIndex:null,object:this})}}}}(),THREE.Line.prototype.clone=function(t){return void 0===t&&(t=new THREE.Line(this.geometry,this.material,this.mode)),THREE.Object3D.prototype.clone.call(this,t),t},THREE.Mesh=function(t,e){THREE.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new THREE.Geometry,this.material=void 0!==e?e:new THREE.MeshBasicMaterial({color:16777215*Math.random()}),this.updateMorphTargets()},THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype),THREE.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetForcedOrder=[],this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var t=0,e=this.geometry.morphTargets.length;e>t;t++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[t].name]=t}},THREE.Mesh.prototype.getMorphTargetIndexByName=function(t){return void 0!==this.morphTargetDictionary[t]?this.morphTargetDictionary[t]:(console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+t+" does not exist. Returning 0."),0)},THREE.Mesh.prototype.raycast=function(){var t=new THREE.Matrix4,e=new THREE.Ray,i=new THREE.Sphere,r=new THREE.Vector3,o=new THREE.Vector3,n=new THREE.Vector3;return function(a,s){var l=this.geometry;if(null===l.boundingSphere&&l.computeBoundingSphere(),i.copy(l.boundingSphere),i.applyMatrix4(this.matrixWorld),a.ray.isIntersectionSphere(i)!==!1&&(t.getInverse(this.matrixWorld),e.copy(a.ray).applyMatrix4(t),null===l.boundingBox||e.isIntersectionBox(l.boundingBox)!==!1))if(l instanceof THREE.BufferGeometry){var c=this.material;if(void 0===c)return;var h,d,u,p=l.attributes,f=a.precision;if(void 0!==p.index){var _=p.index.array,m=p.position.array,g=l.offsets;0===g.length&&(g=[{start:0,count:_.length,index:0}]);for(var y=0,b=g.length;b>y;++y)for(var v=g[y].start,M=g[y].count,S=g[y].index,x=v,T=v+M;T>x;x+=3){if(h=S+_[x],d=S+_[x+1],u=S+_[x+2],r.fromArray(m,3*h),o.fromArray(m,3*d),n.fromArray(m,3*u),c.side===THREE.BackSide)var E=e.intersectTriangle(n,o,r,!0);else var E=e.intersectTriangle(r,o,n,c.side!==THREE.DoubleSide);if(null!==E){E.applyMatrix4(this.matrixWorld);var C=a.ray.origin.distanceTo(E);f>C||C<a.near||C>a.far||s.push({distance:C,point:E,face:new THREE.Face3(h,d,u,THREE.Triangle.normal(r,o,n)),faceIndex:null,object:this})}}}else for(var m=p.position.array,x=0,A=0,T=m.length;T>x;x+=3,A+=9){if(h=x,d=x+1,u=x+2,r.fromArray(m,A),o.fromArray(m,A+3),n.fromArray(m,A+6),c.side===THREE.BackSide)var E=e.intersectTriangle(n,o,r,!0);else var E=e.intersectTriangle(r,o,n,c.side!==THREE.DoubleSide);if(null!==E){E.applyMatrix4(this.matrixWorld);var C=a.ray.origin.distanceTo(E);f>C||C<a.near||C>a.far||s.push({distance:C,point:E,face:new THREE.Face3(h,d,u,THREE.Triangle.normal(r,o,n)),faceIndex:null,object:this})}}}else if(l instanceof THREE.Geometry)for(var h,d,u,w=this.material instanceof THREE.MeshFaceMaterial,R=w===!0?this.material.materials:null,f=a.precision,D=l.vertices,P=0,B=l.faces.length;B>P;P++){var V=l.faces[P],c=w===!0?R[V.materialIndex]:this.material;if(void 0!==c){if(h=D[V.a],d=D[V.b],u=D[V.c],c.morphTargets===!0){var L=l.morphTargets,k=this.morphTargetInfluences;r.set(0,0,0),o.set(0,0,0),n.set(0,0,0);for(var H=0,I=L.length;I>H;H++){var O=k[H];if(0!==O){var J=L[H].vertices;r.x+=(J[V.a].x-h.x)*O,r.y+=(J[V.a].y-h.y)*O,r.z+=(J[V.a].z-h.z)*O,o.x+=(J[V.b].x-d.x)*O,o.y+=(J[V.b].y-d.y)*O,o.z+=(J[V.b].z-d.z)*O,n.x+=(J[V.c].x-u.x)*O,n.y+=(J[V.c].y-u.y)*O,n.z+=(J[V.c].z-u.z)*O}}r.add(h),o.add(d),n.add(u),h=r,d=o,u=n}if(c.side===THREE.BackSide)var E=e.intersectTriangle(u,d,h,!0);else var E=e.intersectTriangle(h,d,u,c.side!==THREE.DoubleSide);if(null!==E){E.applyMatrix4(this.matrixWorld);var C=a.ray.origin.distanceTo(E);f>C||C<a.near||C>a.far||s.push({distance:C,point:E,face:V,faceIndex:P,object:this})}}}}}(),THREE.Mesh.prototype.clone=function(t,e){return void 0===t&&(t=new THREE.Mesh(this.geometry,this.material)),THREE.Object3D.prototype.clone.call(this,t,e),t},THREE.Bone=function(t){THREE.Object3D.call(this),this.skin=t},THREE.Bone.prototype=Object.create(THREE.Object3D.prototype),THREE.Skeleton=function(t,e,i){if(this.useVertexTexture=void 0!==i?i:!0,this.identityMatrix=new THREE.Matrix4,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var r;r=this.bones.length>256?64:this.bones.length>64?32:this.bones.length>16?16:8,this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType),this.boneTexture.minFilter=THREE.NearestFilter,this.boneTexture.magFilter=THREE.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var o=0,n=this.bones.length;n>o;o++)this.boneInverses.push(new THREE.Matrix4)}},THREE.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var t=0,e=this.bones.length;e>t;t++){var i=new THREE.Matrix4;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},THREE.Skeleton.prototype.pose=function(){for(var t,e=0,i=this.bones.length;i>e;e++)t=this.bones[e],t&&t.matrixWorld.getInverse(this.boneInverses[e]);for(var e=0,i=this.bones.length;i>e;e++)t=this.bones[e],t&&(t.parent?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},THREE.Skeleton.prototype.update=function(){var t=new THREE.Matrix4;return function(){for(var e=0,i=this.bones.length;i>e;e++){var r=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;t.multiplyMatrices(r,this.boneInverses[e]),t.flattenToArrayOffset(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),THREE.SkinnedMesh=function(t,e,i){THREE.Mesh.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new THREE.Matrix4,this.bindMatrixInverse=new THREE.Matrix4;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var o,n,a,s,l,c=0,h=this.geometry.bones.length;h>c;++c)n=this.geometry.bones[c],a=n.pos,s=n.rotq,l=n.scl,o=new THREE.Bone(this),r.push(o),o.name=n.name,o.position.set(a[0],a[1],a[2]),o.quaternion.set(s[0],s[1],s[2],s[3]),void 0!==l?o.scale.set(l[0],l[1],l[2]):o.scale.set(1,1,1);for(var c=0,h=this.geometry.bones.length;h>c;++c)n=this.geometry.bones[c],-1!==n.parent?r[n.parent].add(r[c]):this.add(r[c])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new THREE.Skeleton(r,void 0,i))},THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.SkinnedMesh.prototype.bind=function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},THREE.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry)for(var t=0;t<this.geometry.skinIndices.length;t++){var e=this.geometry.skinWeights[t],i=1/e.lengthManhattan();1/0!==i?e.multiplyScalar(i):e.set(1)}},THREE.SkinnedMesh.prototype.updateMatrixWorld=function(){THREE.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unreckognized bindMode: "+this.bindMode)},THREE.SkinnedMesh.prototype.clone=function(t){return void 0===t&&(t=new THREE.SkinnedMesh(this.geometry,this.material,this.useVertexTexture)),THREE.Mesh.prototype.clone.call(this,t),t},THREE.MorphAnimMesh=function(t,e){THREE.Mesh.call(this,t,e),this.type="MorphAnimMesh",this.duration=1e3,this.mirroredLoop=!1,this.time=0,this.lastKeyframe=0,this.currentKeyframe=0,this.direction=1,this.directionBackwards=!1,this.setFrameRange(0,this.geometry.morphTargets.length-1)},THREE.MorphAnimMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphAnimMesh.prototype.setFrameRange=function(t,e){this.startKeyframe=t,this.endKeyframe=e,this.length=this.endKeyframe-this.startKeyframe+1},THREE.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1,this.directionBackwards=!1},THREE.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1,this.directionBackwards=!0},THREE.MorphAnimMesh.prototype.parseAnimations=function(){var t=this.geometry;t.animations||(t.animations={});for(var e,i=t.animations,r=/([a-z]+)_?(\d+)/,o=0,n=t.morphTargets.length;n>o;o++){var a=t.morphTargets[o],s=a.name.match(r);if(s&&s.length>1){{var l=s[1];s[2]}i[l]||(i[l]={start:1/0,end:-1/0});var c=i[l];o<c.start&&(c.start=o),o>c.end&&(c.end=o),e||(e=l)}}t.firstAnimation=e},THREE.MorphAnimMesh.prototype.setAnimationLabel=function(t,e,i){this.geometry.animations||(this.geometry.animations={}),this.geometry.animations[t]={start:e,end:i}},THREE.MorphAnimMesh.prototype.playAnimation=function(t,e){var i=this.geometry.animations[t];i?(this.setFrameRange(i.start,i.end),this.duration=1e3*((i.end-i.start)/e),this.time=0):console.warn("animation["+t+"] undefined")},THREE.MorphAnimMesh.prototype.updateAnimation=function(t){var e=this.duration/this.length;this.time+=this.direction*t,this.mirroredLoop?(this.time>this.duration||this.time<0)&&(this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),this.time<0&&(this.time=0,this.directionBackwards=!1)):(this.time=this.time%this.duration,this.time<0&&(this.time+=this.duration));var i=this.startKeyframe+THREE.Math.clamp(Math.floor(this.time/e),0,this.length-1);i!==this.currentKeyframe&&(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[i]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=i);var r=this.time%e/e;this.directionBackwards&&(r=1-r),this.morphTargetInfluences[this.currentKeyframe]=r,this.morphTargetInfluences[this.lastKeyframe]=1-r},THREE.MorphAnimMesh.prototype.interpolateTargets=function(t,e,i){for(var r=this.morphTargetInfluences,o=0,n=r.length;n>o;o++)r[o]=0;t>-1&&(r[t]=1-i),e>-1&&(r[e]=i)},THREE.MorphAnimMesh.prototype.clone=function(t){return void 0===t&&(t=new THREE.MorphAnimMesh(this.geometry,this.material)),t.duration=this.duration,t.mirroredLoop=this.mirroredLoop,t.time=this.time,t.lastKeyframe=this.lastKeyframe,t.currentKeyframe=this.currentKeyframe,t.direction=this.direction,t.directionBackwards=this.directionBackwards,THREE.Mesh.prototype.clone.call(this,t),t},THREE.LOD=function(){THREE.Object3D.call(this),this.objects=[]},THREE.LOD.prototype=Object.create(THREE.Object3D.prototype),THREE.LOD.prototype.addLevel=function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=0;i<this.objects.length&&!(e<this.objects[i].distance);i++);this.objects.splice(i,0,{distance:e,object:t}),this.add(t)},THREE.LOD.prototype.getObjectForDistance=function(t){for(var e=1,i=this.objects.length;i>e&&!(t<this.objects[e].distance);e++);return this.objects[e-1].object},THREE.LOD.prototype.raycast=function(){var t=new THREE.Vector3;return function(e,i){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(t);this.getObjectForDistance(r).raycast(e,i)}}(),THREE.LOD.prototype.update=function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(i){if(this.objects.length>1){t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var r=t.distanceTo(e);this.objects[0].object.visible=!0;for(var o=1,n=this.objects.length;n>o&&r>=this.objects[o].distance;o++)this.objects[o-1].object.visible=!1,this.objects[o].object.visible=!0;for(;n>o;o++)this.objects[o].object.visible=!1}}}(),THREE.LOD.prototype.clone=function(t){void 0===t&&(t=new THREE.LOD),THREE.Object3D.prototype.clone.call(this,t);for(var e=0,i=this.objects.length;i>e;e++){var r=this.objects[e].object.clone();r.visible=0===e,t.addLevel(r,this.objects[e].distance)}return t},THREE.Sprite=function(){var t=new Uint16Array([0,1,2,0,2,3]),e=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),i=new Float32Array([0,0,1,0,1,1,0,1]),r=new THREE.BufferGeometry;return r.addAttribute("index",new THREE.BufferAttribute(t,1)),r.addAttribute("position",new THREE.BufferAttribute(e,3)),r.addAttribute("uv",new THREE.BufferAttribute(i,2)),function(t){THREE.Object3D.call(this),this.type="Sprite",this.geometry=r,this.material=void 0!==t?t:new THREE.SpriteMaterial}}(),THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype),THREE.Sprite.prototype.raycast=function(){var t=new THREE.Vector3;return function(e,i){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.distanceToPoint(t);r>this.scale.x||i.push({distance:r,point:this.position,face:null,object:this})}}(),THREE.Sprite.prototype.clone=function(t){return void 0===t&&(t=new THREE.Sprite(this.material)),THREE.Object3D.prototype.clone.call(this,t),t},THREE.Particle=THREE.Sprite,THREE.LensFlare=function(t,e,i,r,o){THREE.Object3D.call(this),this.lensFlares=[],this.positionScreen=new THREE.Vector3,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,i,r,o)},THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype),THREE.LensFlare.prototype.add=function(t,e,i,r,o,n){void 0===e&&(e=-1),void 0===i&&(i=0),void 0===n&&(n=1),void 0===o&&(o=new THREE.Color(16777215)),void 0===r&&(r=THREE.NormalBlending),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:t,size:e,distance:i,x:0,y:0,z:0,scale:1,rotation:1,opacity:n,color:o,blending:r})},THREE.LensFlare.prototype.updateLensFlares=function(){var t,e,i=this.lensFlares.length,r=2*-this.positionScreen.x,o=2*-this.positionScreen.y;for(t=0;i>t;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+o*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)},THREE.Scene=function(){THREE.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},THREE.Scene.prototype=Object.create(THREE.Object3D.prototype),THREE.Scene.prototype.clone=function(t){return void 0===t&&(t=new THREE.Scene),THREE.Object3D.prototype.clone.call(this,t),null!==this.fog&&(t.fog=this.fog.clone()),null!==this.overrideMaterial&&(t.overrideMaterial=this.overrideMaterial.clone()),t.autoUpdate=this.autoUpdate,t.matrixAutoUpdate=this.matrixAutoUpdate,t},THREE.Fog=function(t,e,i){this.name="",this.color=new THREE.Color(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3},THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)},THREE.FogExp2=function(t,e){this.name="",this.color=new THREE.Color(t),this.density=void 0!==e?e:25e-5},THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)},THREE.ShaderChunk={},THREE.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\n	if ( gl_FragColor.a < ALPHATEST ) discard;\n\n#endif\n",THREE.ShaderChunk.lights_lambert_vertex="vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\n	vLightBack = vec3( 0.0 );\n\n#endif\n\ntransformedNormal = normalize( transformedNormal );\n\n#if MAX_DIR_LIGHTS > 0\n\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n	vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n	vec3 dirVector = normalize( lDirection.xyz );\n\n	float dotProduct = dot( transformedNormal, dirVector );\n	vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n	#ifdef DOUBLE_SIDED\n\n		vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n		#ifdef WRAP_AROUND\n\n			vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n		#endif\n\n	#endif\n\n	#ifdef WRAP_AROUND\n\n		vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n		directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n\n		#ifdef DOUBLE_SIDED\n\n			directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n\n		#endif\n\n	#endif\n\n	vLightFront += directionalLightColor[ i ] * directionalLightWeighting;\n\n	#ifdef DOUBLE_SIDED\n\n		vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\n\n	#endif\n\n}\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n		float lDistance = 1.0;\n		if ( pointLightDistance[ i ] > 0.0 )\n			lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n\n		lVector = normalize( lVector );\n		float dotProduct = dot( transformedNormal, lVector );\n\n		vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n		#ifdef DOUBLE_SIDED\n\n			vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n			#ifdef WRAP_AROUND\n\n				vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n			#endif\n\n		#endif\n\n		#ifdef WRAP_AROUND\n\n			vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n			pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n\n			#ifdef DOUBLE_SIDED\n\n				pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n\n			#endif\n\n		#endif\n\n		vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;\n\n		#ifdef DOUBLE_SIDED\n\n			vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;\n\n		#endif\n\n	}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\n\n		if ( spotEffect > spotLightAngleCos[ i ] ) {\n\n			spotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n			float lDistance = 1.0;\n			if ( spotLightDistance[ i ] > 0.0 )\n				lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n\n			lVector = normalize( lVector );\n\n			float dotProduct = dot( transformedNormal, lVector );\n			vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n			#ifdef DOUBLE_SIDED\n\n				vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n				#ifdef WRAP_AROUND\n\n					vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n				#endif\n\n			#endif\n\n			#ifdef WRAP_AROUND\n\n				vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n				spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n\n				#ifdef DOUBLE_SIDED\n\n					spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n\n				#endif\n\n			#endif\n\n			vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;\n\n			#ifdef DOUBLE_SIDED\n\n				vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;\n\n			#endif\n\n		}\n\n	}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n		vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n		vec3 lVector = normalize( lDirection.xyz );\n\n		float dotProduct = dot( transformedNormal, lVector );\n\n		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n		float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\n\n		vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n		#ifdef DOUBLE_SIDED\n\n			vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n		#endif\n\n	}\n\n#endif\n\nvLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n\n#ifdef DOUBLE_SIDED\n\n	vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;\n\n#endif",THREE.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\n	uniform sampler2D map;\n\n#endif",THREE.ShaderChunk.default_vertex="vec4 mvPosition;\n\n#ifdef USE_SKINNING\n\n	mvPosition = modelViewMatrix * skinned;\n\n#endif\n\n#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )\n\n	mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n\n#endif\n\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )\n\n	mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n#endif\n\ngl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.map_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n	varying vec2 vUv;\n\n#endif\n\n#ifdef USE_MAP\n\n	uniform sampler2D map;\n\n#endif",THREE.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n	#ifdef USE_MORPHNORMALS\n\n	vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n\n	#else\n\n	vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n\n	#endif\n\n#endif\n",THREE.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		varying float vFragDepth;\n\n	#endif\n\n	uniform float logDepthBufFC;\n\n#endif",THREE.ShaderChunk.lightmap_pars_vertex="#ifdef USE_LIGHTMAP\n\n	varying vec2 vUv2;\n\n#endif",THREE.ShaderChunk.lights_phong_fragment="vec3 normal = normalize( vNormal );\nvec3 viewPosition = normalize( vViewPosition );\n\n#ifdef DOUBLE_SIDED\n\n	normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n	normal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE_BUMPMAP )\n\n	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	vec3 pointDiffuse = vec3( 0.0 );\n	vec3 pointSpecular = vec3( 0.0 );\n\n	for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n		float lDistance = 1.0;\n		if ( pointLightDistance[ i ] > 0.0 )\n			lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n\n		lVector = normalize( lVector );\n\n				// diffuse\n\n		float dotProduct = dot( normal, lVector );\n\n		#ifdef WRAP_AROUND\n\n			float pointDiffuseWeightFull = max( dotProduct, 0.0 );\n			float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n			vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n\n		#else\n\n			float pointDiffuseWeight = max( dotProduct, 0.0 );\n\n		#endif\n\n		pointDiffuse += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\n\n				// specular\n\n		vec3 pointHalfVector = normalize( lVector + viewPosition );\n		float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n		float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n\n		float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\n		pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\n\n	}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	vec3 spotDiffuse = vec3( 0.0 );\n	vec3 spotSpecular = vec3( 0.0 );\n\n	for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n		float lDistance = 1.0;\n		if ( spotLightDistance[ i ] > 0.0 )\n			lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n\n		lVector = normalize( lVector );\n\n		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\n\n		if ( spotEffect > spotLightAngleCos[ i ] ) {\n\n			spotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n					// diffuse\n\n			float dotProduct = dot( normal, lVector );\n\n			#ifdef WRAP_AROUND\n\n				float spotDiffuseWeightFull = max( dotProduct, 0.0 );\n				float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n				vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n\n			#else\n\n				float spotDiffuseWeight = max( dotProduct, 0.0 );\n\n			#endif\n\n			spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;\n\n					// specular\n\n			vec3 spotHalfVector = normalize( lVector + viewPosition );\n			float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n			float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n\n			float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );\n			spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;\n\n		}\n\n	}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n	vec3 dirDiffuse = vec3( 0.0 );\n	vec3 dirSpecular = vec3( 0.0 );\n\n	for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n		vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n		vec3 dirVector = normalize( lDirection.xyz );\n\n				// diffuse\n\n		float dotProduct = dot( normal, dirVector );\n\n		#ifdef WRAP_AROUND\n\n			float dirDiffuseWeightFull = max( dotProduct, 0.0 );\n			float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n			vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n\n		#else\n\n			float dirDiffuseWeight = max( dotProduct, 0.0 );\n\n		#endif\n\n		dirDiffuse += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\n\n		// specular\n\n		vec3 dirHalfVector = normalize( dirVector + viewPosition );\n		float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n		float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n\n		/*\n		// fresnel term from skin shader\n		const float F0 = 0.128;\n\n		float base = 1.0 - dot( viewPosition, dirHalfVector );\n		float exponential = pow( base, 5.0 );\n\n		float fresnel = exponential + F0 * ( 1.0 - exponential );\n		*/\n\n		/*\n		// fresnel term from fresnel shader\n		const float mFresnelBias = 0.08;\n		const float mFresnelScale = 0.3;\n		const float mFresnelPower = 5.0;\n\n		float fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );\n		*/\n\n		float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n		// 		dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;\n\n		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\n		dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n\n\n	}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	vec3 hemiDiffuse = vec3( 0.0 );\n	vec3 hemiSpecular = vec3( 0.0 );\n\n	for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n		vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n		vec3 lVector = normalize( lDirection.xyz );\n\n		// diffuse\n\n		float dotProduct = dot( normal, lVector );\n		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n		vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n		hemiDiffuse += diffuse * hemiColor;\n\n		// specular (sky light)\n\n		vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n		float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n		float hemiSpecularWeightSky = specularStrength * max( pow( max( hemiDotNormalHalfSky, 0.0 ), shininess ), 0.0 );\n\n		// specular (ground light)\n\n		vec3 lVectorGround = -lVector;\n\n		vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n		float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n		float hemiSpecularWeightGround = specularStrength * max( pow( max( hemiDotNormalHalfGround, 0.0 ), shininess ), 0.0 );\n\n		float dotProductGround = dot( normal, lVectorGround );\n\n		float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n		vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );\n		vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );\n		hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n\n	}\n\n#endif\n\nvec3 totalDiffuse = vec3( 0.0 );\nvec3 totalSpecular = vec3( 0.0 );\n\n#if MAX_DIR_LIGHTS > 0\n\n	totalDiffuse += dirDiffuse;\n	totalSpecular += dirSpecular;\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	totalDiffuse += hemiDiffuse;\n	totalSpecular += hemiSpecular;\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	totalDiffuse += pointDiffuse;\n	totalSpecular += pointSpecular;\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	totalDiffuse += spotDiffuse;\n	totalSpecular += spotSpecular;\n\n#endif\n\n#ifdef METAL\n\n	gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );\n\n#else\n\n	gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n\n#endif",THREE.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\n	uniform vec3 fogColor;\n\n	#ifdef FOG_EXP2\n\n		uniform float fogDensity;\n\n	#else\n\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n\n#endif",THREE.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\n	vec3 morphedNormal = vec3( 0.0 );\n\n	morphedNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n	morphedNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n	morphedNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n	morphedNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n	morphedNormal += normal;\n\n#endif",THREE.ShaderChunk.envmap_pars_fragment="#ifdef USE_ENVMAP\n\n	uniform float reflectivity;\n	uniform samplerCube envMap;\n	uniform float flipEnvMap;\n	uniform int combine;\n\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n		uniform bool useRefract;\n		uniform float refractionRatio;\n\n	#else\n\n		varying vec3 vReflect;\n\n	#endif\n\n#endif",THREE.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\n	gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n\n#endif",THREE.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n\n			// Per-Pixel Tangent Space Normal Mapping\n			// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( vUv.st );\n		vec2 st1 = dFdy( vUv.st );\n\n		vec3 S = normalize( q0 * st1.t - q1 * st0.t );\n		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n		vec3 N = normalize( surf_norm );\n\n		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n		mapN.xy = normalScale * mapN.xy;\n		mat3 tsn = mat3( S, T, N );\n		return normalize( tsn * mapN );\n\n	}\n\n#endif\n",THREE.ShaderChunk.lights_phong_pars_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n	varying vec3 vWorldPosition;\n\n#endif\n",THREE.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\n	varying vec2 vUv2;\n	uniform sampler2D lightMap;\n\n#endif",THREE.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\n	for( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n		vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\n	}\n\n#endif",THREE.ShaderChunk.lights_phong_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n	vWorldPosition = worldPosition.xyz;\n\n#endif",THREE.ShaderChunk.map_fragment="#ifdef USE_MAP\n\n	vec4 texelColor = texture2D( map, vUv );\n\n	#ifdef GAMMA_INPUT\n\n		texelColor.xyz *= texelColor.xyz;\n\n	#endif\n\n	gl_FragColor = gl_FragColor * texelColor;\n\n#endif",THREE.ShaderChunk.lightmap_vertex="#ifdef USE_LIGHTMAP\n\n	vUv2 = uv2;\n\n#endif",THREE.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\n	gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );\n\n#endif",THREE.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\n	varying vec3 vColor;\n\n#endif\n",THREE.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\n	#ifdef GAMMA_INPUT\n\n		vColor = color * color;\n\n	#else\n\n		vColor = color;\n\n	#endif\n\n#endif",THREE.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\n	#ifdef USE_MORPHTARGETS\n\n	vec4 skinVertex = bindMatrix * vec4( morphed, 1.0 );\n\n	#else\n\n	vec4 skinVertex = bindMatrix * vec4( position, 1.0 );\n\n	#endif\n\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	skinned  = bindMatrixInverse * skinned;\n\n#endif\n",THREE.ShaderChunk.envmap_pars_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n	varying vec3 vReflect;\n\n	uniform float refractionRatio;\n	uniform bool useRefract;\n\n#endif\n",THREE.ShaderChunk.linear_to_gamma_fragment="#ifdef GAMMA_OUTPUT\n\n	gl_FragColor.xyz = sqrt( gl_FragColor.xyz );\n\n#endif",THREE.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\n	varying vec3 vColor;\n\n#endif",THREE.ShaderChunk.lights_lambert_pars_vertex="uniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\n\nuniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#ifdef WRAP_AROUND\n\n	uniform vec3 wrapRGB;\n\n#endif\n",THREE.ShaderChunk.map_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n	varying vec2 vUv;\n	uniform vec4 offsetRepeat;\n\n#endif\n",THREE.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\n	vec3 reflectVec;\n\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n		// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\n		// Transforming Normal Vectors with the Inverse Transformation\n\n		vec3 worldNormal = normalize( vec3( vec4( normal, 0.0 ) * viewMatrix ) );\n\n		if ( useRefract ) {\n\n			reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n		} else { \n\n			reflectVec = reflect( cameraToVertex, worldNormal );\n\n		}\n\n	#else\n\n		reflectVec = vReflect;\n\n	#endif\n\n	#ifdef DOUBLE_SIDED\n\n		float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n		vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n	#else\n\n		vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n	#endif\n\n	#ifdef GAMMA_INPUT\n\n		cubeColor.xyz *= cubeColor.xyz;\n\n	#endif\n\n	if ( combine == 1 ) {\n\n		gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );\n\n	} else if ( combine == 2 ) {\n\n		gl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;\n\n	} else {\n\n		gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );\n\n	}\n\n#endif",THREE.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\n	uniform sampler2D specularMap;\n\n#endif",THREE.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\n	gl_Position.z = log2(max(1e-6, gl_Position.w + 1.0)) * logDepthBufFC;\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		vFragDepth = 1.0 + gl_Position.w;\n\n#else\n\n		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\n	#endif\n\n#endif",THREE.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\n	#ifndef USE_MORPHNORMALS\n\n	uniform float morphTargetInfluences[ 8 ];\n\n	#else\n\n	uniform float morphTargetInfluences[ 4 ];\n\n	#endif\n\n#endif",THREE.ShaderChunk.specularmap_fragment="float specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n\n#else\n\n	specularStrength = 1.0;\n\n#endif",THREE.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		float depth = gl_FragDepthEXT / gl_FragCoord.w;\n\n	#else\n\n		float depth = gl_FragCoord.z / gl_FragCoord.w;\n\n	#endif\n\n	#ifdef FOG_EXP2\n\n		const float LOG2 = 1.442695;\n		float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\n		fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n\n	#else\n\n		float fogFactor = smoothstep( fogNear, fogFar, depth );\n\n	#endif\n	\n	gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\n#endif",THREE.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n\n			// Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen\n			//	http://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html\n\n			// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n	vec2 dHdxy_fwd() {\n\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n		return vec2( dBx, dBy );\n\n	}\n\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n		vec3 vSigmaX = dFdx( surf_pos );\n		vec3 vSigmaY = dFdy( surf_pos );\n		vec3 vN = surf_norm;		// normalized\n\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n\n		float fDet = dot( vSigmaX, R1 );\n\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n\n	}\n\n#endif",THREE.ShaderChunk.defaultnormal_vertex="vec3 objectNormal;\n\n#ifdef USE_SKINNING\n\n	objectNormal = skinnedNormal.xyz;\n\n#endif\n\n#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )\n\n	objectNormal = morphedNormal;\n\n#endif\n\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )\n\n	objectNormal = normal;\n\n#endif\n\n#ifdef FLIP_SIDED\n\n	objectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix * objectNormal;",THREE.ShaderChunk.lights_phong_pars_fragment="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\n	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n	varying vec3 vWorldPosition;\n\n#endif\n\n#ifdef WRAP_AROUND\n\n	uniform vec3 wrapRGB;\n\n#endif\n\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",THREE.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif",THREE.ShaderChunk.map_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n	vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n\n#endif",THREE.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\n	gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );\n\n#endif",THREE.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\n	varying vec4 vShadowCoord[ MAX_SHADOWS ];\n	uniform mat4 shadowMatrix[ MAX_SHADOWS ];\n\n#endif",THREE.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\n	gl_FragColor = gl_FragColor * vec4( vColor, 1.0 );\n\n#endif",THREE.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\n	vec3 morphed = vec3( 0.0 );\n	morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n	morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n	morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n	morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n	#ifndef USE_MORPHNORMALS\n\n	morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n	morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n	morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n	morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n	#endif\n\n	morphed += position;\n\n#endif",THREE.ShaderChunk.envmap_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n	vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;\n	worldNormal = normalize( worldNormal );\n\n	vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n	if ( useRefract ) {\n\n		vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n	} else {\n\n		vReflect = reflect( cameraToVertex, worldNormal );\n\n	}\n\n#endif",THREE.ShaderChunk.shadowmap_fragment="#ifdef USE_SHADOWMAP\n\n	#ifdef SHADOWMAP_DEBUG\n\n		vec3 frustumColors[3];\n		frustumColors[0] = vec3( 1.0, 0.5, 0.0 );\n		frustumColors[1] = vec3( 0.0, 1.0, 0.8 );\n		frustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n\n	#endif\n\n	#ifdef SHADOWMAP_CASCADE\n\n		int inFrustumCount = 0;\n\n	#endif\n\n	float fDepth;\n	vec3 shadowColor = vec3( 1.0 );\n\n	for( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n		vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n				// if ( something && something ) breaks ATI OpenGL shader compiler\n				// if ( all( something, something ) ) using this instead\n\n		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n		bool inFrustum = all( inFrustumVec );\n\n				// don't shadow pixels outside of light frustum\n				// use just first frustum (for cascades)\n				// don't shadow pixels behind far plane of light frustum\n\n		#ifdef SHADOWMAP_CASCADE\n\n			inFrustumCount += int( inFrustum );\n			bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n\n		#else\n\n			bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n		#endif\n\n		bool frustumTest = all( frustumTestVec );\n\n		if ( frustumTest ) {\n\n			shadowCoord.z += shadowBias[ i ];\n\n			#if defined( SHADOWMAP_TYPE_PCF )\n\n						// Percentage-close filtering\n						// (9 pixel kernel)\n						// http://fabiensanglard.net/shadowmappingPCF/\n\n				float shadow = 0.0;\n\n		/*\n						// nested loops breaks shader compiler / validator on some ATI cards when using OpenGL\n						// must enroll loop manually\n\n				for ( float y = -1.25; y <= 1.25; y += 1.25 )\n					for ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n\n						vec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\n\n								// doesn't seem to produce any noticeable visual difference compared to simple texture2D lookup\n								//vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );\n\n						float fDepth = unpackDepth( rgbaDepth );\n\n						if ( fDepth < shadowCoord.z )\n							shadow += 1.0;\n\n				}\n\n				shadow /= 9.0;\n\n		*/\n\n				const float shadowDelta = 1.0 / 9.0;\n\n				float xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n				float yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n				float dx0 = -1.25 * xPixelOffset;\n				float dy0 = -1.25 * yPixelOffset;\n				float dx1 = 1.25 * xPixelOffset;\n				float dy1 = 1.25 * yPixelOffset;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n			#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n						// Percentage-close filtering\n						// (9 pixel kernel)\n						// http://fabiensanglard.net/shadowmappingPCF/\n\n				float shadow = 0.0;\n\n				float xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n				float yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n				float dx0 = -1.0 * xPixelOffset;\n				float dy0 = -1.0 * yPixelOffset;\n				float dx1 = 1.0 * xPixelOffset;\n				float dy1 = 1.0 * yPixelOffset;\n\n				mat3 shadowKernel;\n				mat3 depthKernel;\n\n				depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n				depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n				depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n				depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n				depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n				depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n				depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n				depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n				depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n				vec3 shadowZ = vec3( shadowCoord.z );\n				shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\n				shadowKernel[0] *= vec3(0.25);\n\n				shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\n				shadowKernel[1] *= vec3(0.25);\n\n				shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\n				shadowKernel[2] *= vec3(0.25);\n\n				vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\n\n				shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\n				shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\n\n				vec4 shadowValues;\n				shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\n				shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\n				shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\n				shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\n\n				shadow = dot( shadowValues, vec4( 1.0 ) );\n\n				shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n			#else\n\n				vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n				float fDepth = unpackDepth( rgbaDepth );\n\n				if ( fDepth < shadowCoord.z )\n\n		// spot with multiple shadows is darker\n\n					shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n\n		// spot with multiple shadows has the same color as single shadow spot\n\n		// 					shadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );\n\n			#endif\n\n		}\n\n\n		#ifdef SHADOWMAP_DEBUG\n\n			#ifdef SHADOWMAP_CASCADE\n\n				if ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];\n\n			#else\n\n				if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];\n\n			#endif\n\n		#endif\n\n	}\n\n	#ifdef GAMMA_OUTPUT\n\n		shadowColor *= shadowColor;\n\n	#endif\n\n	gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;\n\n#endif\n",THREE.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\n	#ifdef USE_SKINNING\n\n		vec4 worldPosition = modelMatrix * skinned;\n\n	#endif\n\n	#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\n\n		vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n\n	#endif\n\n	#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\n\n		vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\n	#endif\n\n#endif",THREE.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\n	uniform sampler2D shadowMap[ MAX_SHADOWS ];\n	uniform vec2 shadowMapSize[ MAX_SHADOWS ];\n\n	uniform float shadowDarkness[ MAX_SHADOWS ];\n	uniform float shadowBias[ MAX_SHADOWS ];\n\n	varying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n	float unpackDepth( const in vec4 rgba_depth ) {\n\n		const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n		float depth = dot( rgba_depth, bit_shift );\n		return depth;\n\n	}\n\n#endif",THREE.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n\n	#ifdef BONE_TEXTURE\n\n		uniform sampler2D boneTexture;\n		uniform int boneTextureWidth;\n		uniform int boneTextureHeight;\n\n		mat4 getBoneMatrix( const in float i ) {\n\n			float j = i * 4.0;\n			float x = mod( j, float( boneTextureWidth ) );\n			float y = floor( j / float( boneTextureWidth ) );\n\n			float dx = 1.0 / float( boneTextureWidth );\n			float dy = 1.0 / float( boneTextureHeight );\n\n			y = dy * ( y + 0.5 );\n\n			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n			mat4 bone = mat4( v1, v2, v3, v4 );\n\n			return bone;\n\n		}\n\n	#else\n\n		uniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\n		mat4 getBoneMatrix( const in float i ) {\n\n			mat4 bone = boneGlobalMatrices[ int(i) ];\n			return bone;\n\n		}\n\n	#endif\n\n#endif\n",THREE.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\n	uniform float logDepthBufFC;\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		#extension GL_EXT_frag_depth : enable\n		varying float vFragDepth;\n\n	#endif\n\n#endif",THREE.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\n	gl_FragColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",THREE.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\n	uniform sampler2D alphaMap;\n\n#endif\n",THREE.UniformsUtils={merge:function(t){for(var e={},i=0;i<t.length;i++){var r=this.clone(t[i]);
for(var o in r)e[o]=r[o]}return e},clone:function(t){var e={};for(var i in t){e[i]={};for(var r in t[i]){var o=t[i][r];e[i][r]=o instanceof THREE.Color||o instanceof THREE.Vector2||o instanceof THREE.Vector3||o instanceof THREE.Vector4||o instanceof THREE.Matrix4||o instanceof THREE.Texture?o.clone():o instanceof Array?o.slice():o}}return e}},THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},useRefract:{type:"i",value:0},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},combine:{type:"i",value:0},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new THREE.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinbase_vertex,"	#ifdef USE_ENVMAP",THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"	#endif",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","#endif",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_lambert_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_lambert_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","#endif",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( vec3( 1.0 ), opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,"	#ifdef DOUBLE_SIDED","		if ( gl_FrontFacing )","			gl_FragColor.xyz *= vLightFront;","		else","			gl_FragColor.xyz *= vLightBack;","	#else","		gl_FragColor.xyz *= vLightFront;","	#endif",THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.bump,THREE.UniformsLib.normalmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","varying vec3 vNormal;",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_phong_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"	vNormal = normalize( transformedNormal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"	vViewPosition = -mvPosition.xyz;",THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_phong_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform float opacity;","uniform vec3 ambient;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_phong_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.bumpmap_pars_fragment,THREE.ShaderChunk.normalmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( vec3( 1.0 ), opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lights_phong_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.particle,THREE.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","	#ifdef USE_SIZEATTENUATION","		gl_PointSize = size * ( scale / length( mvPosition.xyz ) );","	#else","		gl_PointSize = size;","	#endif","	gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_particle_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( psColor, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_particle_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"	vLineDistance = scale * lineDistance;","	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","	gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	if ( mod( vLineDistance, totalSize ) > dashSize ) {","		discard;","	}","	gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",THREE.ShaderChunk.logdepthbuf_fragment,"	#ifdef USE_LOGDEPTHBUF_EXT","		float depth = gl_FragDepthEXT / gl_FragCoord.w;","	#else","		float depth = gl_FragCoord.z / gl_FragCoord.w;","	#endif","	float color = 1.0 - smoothstep( mNear, mFar, depth );","	gl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","	vNormal = normalize( normalMatrix * normal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},normalmap:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{enableAO:{type:"i",value:0},enableDiffuse:{type:"i",value:0},enableSpecular:{type:"i",value:0},enableReflection:{type:"i",value:0},enableDisplacement:{type:"i",value:0},tDisplacement:{type:"t",value:null},tDiffuse:{type:"t",value:null},tCube:{type:"t",value:null},tNormal:{type:"t",value:null},tSpecular:{type:"t",value:null},tAO:{type:"t",value:null},uNormalScale:{type:"v2",value:new THREE.Vector2(1,1)},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},diffuse:{type:"c",value:new THREE.Color(16777215)},specular:{type:"c",value:new THREE.Color(1118481)},ambient:{type:"c",value:new THREE.Color(16777215)},shininess:{type:"f",value:30},opacity:{type:"f",value:1},useRefract:{type:"i",value:0},refractionRatio:{type:"f",value:.98},reflectivity:{type:"f",value:.5},uOffset:{type:"v2",value:new THREE.Vector2(0,0)},uRepeat:{type:"v2",value:new THREE.Vector2(1,1)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),fragmentShader:["uniform vec3 ambient;","uniform vec3 diffuse;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;","uniform bool enableDiffuse;","uniform bool enableSpecular;","uniform bool enableAO;","uniform bool enableReflection;","uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tSpecular;","uniform sampler2D tAO;","uniform samplerCube tCube;","uniform vec2 uNormalScale;","uniform bool useRefract;","uniform float refractionRatio;","uniform float reflectivity;","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","#endif","#ifdef WRAP_AROUND","	uniform vec3 wrapRGB;","#endif","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",THREE.ShaderChunk.logdepthbuf_fragment,"	gl_FragColor = vec4( vec3( 1.0 ), opacity );","	vec3 specularTex = vec3( 1.0 );","	vec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;","	normalTex.xy *= uNormalScale;","	normalTex = normalize( normalTex );","	if( enableDiffuse ) {","		#ifdef GAMMA_INPUT","			vec4 texelColor = texture2D( tDiffuse, vUv );","			texelColor.xyz *= texelColor.xyz;","			gl_FragColor = gl_FragColor * texelColor;","		#else","			gl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );","		#endif","	}","	if( enableAO ) {","		#ifdef GAMMA_INPUT","			vec4 aoColor = texture2D( tAO, vUv );","			aoColor.xyz *= aoColor.xyz;","			gl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;","		#else","			gl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;","		#endif","	}",THREE.ShaderChunk.alphatest_fragment,"	if( enableSpecular )","		specularTex = texture2D( tSpecular, vUv ).xyz;","	mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );","	vec3 finalNormal = tsb * normalTex;","	#ifdef FLIP_SIDED","		finalNormal = -finalNormal;","	#endif","	vec3 normal = normalize( finalNormal );","	vec3 viewPosition = normalize( vViewPosition );","	#if MAX_POINT_LIGHTS > 0","		vec3 pointDiffuse = vec3( 0.0 );","		vec3 pointSpecular = vec3( 0.0 );","		for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","			vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","			vec3 pointVector = lPosition.xyz + vViewPosition.xyz;","			float pointDistance = 1.0;","			if ( pointLightDistance[ i ] > 0.0 )","				pointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );","			pointVector = normalize( pointVector );","			#ifdef WRAP_AROUND","				float pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );","				float pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );","				vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );","			#else","				float pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );","			#endif","			pointDiffuse += pointDistance * pointLightColor[ i ] * diffuse * pointDiffuseWeight;","			vec3 pointHalfVector = normalize( pointVector + viewPosition );","			float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );","			float pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, shininess ), 0.0 );","			float specularNormalization = ( shininess + 2.0 ) / 8.0;","			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( pointVector, pointHalfVector ), 0.0 ), 5.0 );","			pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;","		}","	#endif","	#if MAX_SPOT_LIGHTS > 0","		vec3 spotDiffuse = vec3( 0.0 );","		vec3 spotSpecular = vec3( 0.0 );","		for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","			vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","			vec3 spotVector = lPosition.xyz + vViewPosition.xyz;","			float spotDistance = 1.0;","			if ( spotLightDistance[ i ] > 0.0 )","				spotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );","			spotVector = normalize( spotVector );","			float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );","			if ( spotEffect > spotLightAngleCos[ i ] ) {","				spotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );","				#ifdef WRAP_AROUND","					float spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );","					float spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );","					vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );","				#else","					float spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );","				#endif","				spotDiffuse += spotDistance * spotLightColor[ i ] * diffuse * spotDiffuseWeight * spotEffect;","				vec3 spotHalfVector = normalize( spotVector + viewPosition );","				float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );","				float spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, shininess ), 0.0 );","				float specularNormalization = ( shininess + 2.0 ) / 8.0;","				vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( spotVector, spotHalfVector ), 0.0 ), 5.0 );","				spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;","			}","		}","	#endif","	#if MAX_DIR_LIGHTS > 0","		vec3 dirDiffuse = vec3( 0.0 );","		vec3 dirSpecular = vec3( 0.0 );","		for( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {","			vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","			vec3 dirVector = normalize( lDirection.xyz );","			#ifdef WRAP_AROUND","				float directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );","				float directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );","				vec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );","			#else","				float dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );","			#endif","			dirDiffuse += directionalLightColor[ i ] * diffuse * dirDiffuseWeight;","			vec3 dirHalfVector = normalize( dirVector + viewPosition );","			float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );","			float dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, shininess ), 0.0 );","			float specularNormalization = ( shininess + 2.0 ) / 8.0;","			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );","			dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;","		}","	#endif","	#if MAX_HEMI_LIGHTS > 0","		vec3 hemiDiffuse = vec3( 0.0 );","		vec3 hemiSpecular = vec3( 0.0 );","		for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","			vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","			vec3 lVector = normalize( lDirection.xyz );","			float dotProduct = dot( normal, lVector );","			float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","			vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","			hemiDiffuse += diffuse * hemiColor;","			vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );","			float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;","			float hemiSpecularWeightSky = specularTex.r * max( pow( max( hemiDotNormalHalfSky, 0.0 ), shininess ), 0.0 );","			vec3 lVectorGround = -lVector;","			vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );","			float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;","			float hemiSpecularWeightGround = specularTex.r * max( pow( max( hemiDotNormalHalfGround, 0.0 ), shininess ), 0.0 );","			float dotProductGround = dot( normal, lVectorGround );","			float specularNormalization = ( shininess + 2.0 ) / 8.0;","			vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );","			vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );","			hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );","		}","	#endif","	vec3 totalDiffuse = vec3( 0.0 );","	vec3 totalSpecular = vec3( 0.0 );","	#if MAX_DIR_LIGHTS > 0","		totalDiffuse += dirDiffuse;","		totalSpecular += dirSpecular;","	#endif","	#if MAX_HEMI_LIGHTS > 0","		totalDiffuse += hemiDiffuse;","		totalSpecular += hemiSpecular;","	#endif","	#if MAX_POINT_LIGHTS > 0","		totalDiffuse += pointDiffuse;","		totalSpecular += pointSpecular;","	#endif","	#if MAX_SPOT_LIGHTS > 0","		totalDiffuse += spotDiffuse;","		totalSpecular += spotSpecular;","	#endif","	#ifdef METAL","		gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient + totalSpecular );","	#else","		gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient ) + totalSpecular;","	#endif","	if ( enableReflection ) {","		vec3 vReflect;","		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );","		if ( useRefract ) {","			vReflect = refract( cameraToVertex, normal, refractionRatio );","		} else {","			vReflect = reflect( cameraToVertex, normal );","		}","		vec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );","		#ifdef GAMMA_INPUT","			cubeColor.xyz *= cubeColor.xyz;","		#endif","		gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * reflectivity );","	}",THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n"),vertexShader:["attribute vec4 tangent;","uniform vec2 uOffset;","uniform vec2 uRepeat;","uniform bool enableDisplacement;","#ifdef VERTEX_TEXTURES","	uniform sampler2D tDisplacement;","	uniform float uDisplacementScale;","	uniform float uDisplacementBias;","#endif","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,"	#ifdef USE_SKINNING","		vNormal = normalize( normalMatrix * skinnedNormal.xyz );","		vec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );","		vTangent = normalize( normalMatrix * skinnedTangent.xyz );","	#else","		vNormal = normalize( normalMatrix * normal );","		vTangent = normalize( normalMatrix * tangent.xyz );","	#endif","	vBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );","	vUv = uv * uRepeat + uOffset;","	vec3 displacedPosition;","	#ifdef VERTEX_TEXTURES","		if ( enableDisplacement ) {","			vec3 dv = texture2D( tDisplacement, uv ).xyz;","			float df = uDisplacementScale * dv.x + uDisplacementBias;","			displacedPosition = position + normalize( normal ) * df;","		} else {","			#ifdef USE_SKINNING","				vec4 skinVertex = bindMatrix * vec4( position, 1.0 );","				vec4 skinned = vec4( 0.0 );","				skinned += boneMatX * skinVertex * skinWeight.x;","				skinned += boneMatY * skinVertex * skinWeight.y;","				skinned += boneMatZ * skinVertex * skinWeight.z;","				skinned += boneMatW * skinVertex * skinWeight.w;","				skinned  = bindMatrixInverse * skinned;","				displacedPosition = skinned.xyz;","			#else","				displacedPosition = position;","			#endif","		}","	#else","		#ifdef USE_SKINNING","			vec4 skinVertex = bindMatrix * vec4( position, 1.0 );","			vec4 skinned = vec4( 0.0 );","			skinned += boneMatX * skinVertex * skinWeight.x;","			skinned += boneMatY * skinVertex * skinWeight.y;","			skinned += boneMatZ * skinVertex * skinWeight.z;","			skinned += boneMatW * skinVertex * skinWeight.w;","			skinned  = bindMatrixInverse * skinned;","			displacedPosition = skinned.xyz;","		#else","			displacedPosition = position;","		#endif","	#endif","	vec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );","	vec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );","	gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.logdepthbuf_vertex,"	vWorldPosition = worldPosition.xyz;","	vViewPosition = -mvPosition.xyz;","	#ifdef USE_SHADOWMAP","		for( int i = 0; i < MAX_SHADOWS; i ++ ) {","			vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;","		}","	#endif","}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","	vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","	vWorldPosition = worldPosition.xyz;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",THREE.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[THREE.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {","	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","	const vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","	vec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","	res -= res.xxyz * bit_mask;","	return res;","}","void main() {",THREE.ShaderChunk.logdepthbuf_fragment,"	#ifdef USE_LOGDEPTHBUF_EXT","		gl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );","	#else","		gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","	#endif","}"].join("\n")}},THREE.WebGLRenderer=function(t){function e(){He.clearColor(0,0,0,1),He.clearDepth(1),He.clearStencil(0),He.enable(He.DEPTH_TEST),He.depthFunc(He.LEQUAL),He.frontFace(He.CCW),He.cullFace(He.BACK),He.enable(He.CULL_FACE),He.enable(He.BLEND),He.blendEquation(He.FUNC_ADD),He.blendFunc(He.SRC_ALPHA,He.ONE_MINUS_SRC_ALPHA),He.viewport(ri,oi,ni,ai),He.clearColor(Ae.r,Ae.g,Ae.b,we)}function i(t){t.__webglVertexBuffer=He.createBuffer(),t.__webglColorBuffer=He.createBuffer(),Ie.info.memory.geometries++}function r(t){t.__webglVertexBuffer=He.createBuffer(),t.__webglColorBuffer=He.createBuffer(),t.__webglLineDistanceBuffer=He.createBuffer(),Ie.info.memory.geometries++}function o(t){t.__webglVertexBuffer=He.createBuffer(),t.__webglNormalBuffer=He.createBuffer(),t.__webglTangentBuffer=He.createBuffer(),t.__webglColorBuffer=He.createBuffer(),t.__webglUVBuffer=He.createBuffer(),t.__webglUV2Buffer=He.createBuffer(),t.__webglSkinIndicesBuffer=He.createBuffer(),t.__webglSkinWeightsBuffer=He.createBuffer(),t.__webglFaceBuffer=He.createBuffer(),t.__webglLineBuffer=He.createBuffer();var e,i;if(t.numMorphTargets)for(t.__webglMorphTargetsBuffers=[],e=0,i=t.numMorphTargets;i>e;e++)t.__webglMorphTargetsBuffers.push(He.createBuffer());if(t.numMorphNormals)for(t.__webglMorphNormalsBuffers=[],e=0,i=t.numMorphNormals;i>e;e++)t.__webglMorphNormalsBuffers.push(He.createBuffer());Ie.info.memory.geometries++}function n(t){var e=t.geometry,i=t.material,r=e.vertices.length;if(i.attributes){void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]);for(var o in i.attributes){var n=i.attributes[o];if(!n.__webglInitialized||n.createUniqueBuffers){n.__webglInitialized=!0;var a=1;"v2"===n.type?a=2:"v3"===n.type?a=3:"v4"===n.type?a=4:"c"===n.type&&(a=3),n.size=a,n.array=new Float32Array(r*a),n.buffer=He.createBuffer(),n.buffer.belongsToAttribute=o,n.needsUpdate=!0}e.__webglCustomAttributesList.push(n)}}}function a(t,e){var i=t.vertices.length;t.__vertexArray=new Float32Array(3*i),t.__colorArray=new Float32Array(3*i),t.__sortArray=[],t.__webglParticleCount=i,n(e)}function s(t,e){var i=t.vertices.length;t.__vertexArray=new Float32Array(3*i),t.__colorArray=new Float32Array(3*i),t.__lineDistanceArray=new Float32Array(1*i),t.__webglLineCount=i,n(e)}function l(t,e){var i=e.geometry,r=t.faces3,o=3*r.length,n=1*r.length,a=3*r.length,s=c(e,t);t.__vertexArray=new Float32Array(3*o),t.__normalArray=new Float32Array(3*o),t.__colorArray=new Float32Array(3*o),t.__uvArray=new Float32Array(2*o),i.faceVertexUvs.length>1&&(t.__uv2Array=new Float32Array(2*o)),i.hasTangents&&(t.__tangentArray=new Float32Array(4*o)),e.geometry.skinWeights.length&&e.geometry.skinIndices.length&&(t.__skinIndexArray=new Float32Array(4*o),t.__skinWeightArray=new Float32Array(4*o));
var l=null!==vi.get("OES_element_index_uint")&&n>21845?Uint32Array:Uint16Array;t.__typeArray=l,t.__faceArray=new l(3*n),t.__lineArray=new l(2*a);var h,d;if(t.numMorphTargets)for(t.__morphTargetsArrays=[],h=0,d=t.numMorphTargets;d>h;h++)t.__morphTargetsArrays.push(new Float32Array(3*o));if(t.numMorphNormals)for(t.__morphNormalsArrays=[],h=0,d=t.numMorphNormals;d>h;h++)t.__morphNormalsArrays.push(new Float32Array(3*o));if(t.__webglFaceCount=3*n,t.__webglLineCount=2*a,s.attributes){void 0===t.__webglCustomAttributesList&&(t.__webglCustomAttributesList=[]);for(var u in s.attributes){var p=s.attributes[u],f={};for(var _ in p)f[_]=p[_];if(!f.__webglInitialized||f.createUniqueBuffers){f.__webglInitialized=!0;var m=1;"v2"===f.type?m=2:"v3"===f.type?m=3:"v4"===f.type?m=4:"c"===f.type&&(m=3),f.size=m,f.array=new Float32Array(o*m),f.buffer=He.createBuffer(),f.buffer.belongsToAttribute=u,p.needsUpdate=!0,f.__original=p}t.__webglCustomAttributesList.push(f)}}t.__inittedArrays=!0}function c(t,e){return t.material instanceof THREE.MeshFaceMaterial?t.material.materials[e.materialIndex]:t.material}function h(t){return t&&void 0!==t.shading&&t.shading===THREE.SmoothShading}function d(t,e,i){var r,o,n,a,s,l,c,h,d,u,p,f,_=t.vertices,m=_.length,g=t.colors,y=g.length,b=t.__vertexArray,v=t.__colorArray,M=t.__sortArray,x=t.verticesNeedUpdate,T=(t.elementsNeedUpdate,t.colorsNeedUpdate),E=t.__webglCustomAttributesList;if(i.sortParticles){for(pi.copy(ui),pi.multiply(i.matrixWorld),r=0;m>r;r++)n=_[r],fi.copy(n),fi.applyProjection(pi),M[r]=[fi.z,r];for(M.sort(S),r=0;m>r;r++)n=_[M[r][1]],a=3*r,b[a]=n.x,b[a+1]=n.y,b[a+2]=n.z;for(o=0;y>o;o++)a=3*o,l=g[M[o][1]],v[a]=l.r,v[a+1]=l.g,v[a+2]=l.b;if(E)for(c=0,h=E.length;h>c;c++)if(f=E[c],void 0===f.boundTo||"vertices"===f.boundTo)if(a=0,u=f.value.length,1===f.size)for(d=0;u>d;d++)s=M[d][1],f.array[d]=f.value[s];else if(2===f.size)for(d=0;u>d;d++)s=M[d][1],p=f.value[s],f.array[a]=p.x,f.array[a+1]=p.y,a+=2;else if(3===f.size)if("c"===f.type)for(d=0;u>d;d++)s=M[d][1],p=f.value[s],f.array[a]=p.r,f.array[a+1]=p.g,f.array[a+2]=p.b,a+=3;else for(d=0;u>d;d++)s=M[d][1],p=f.value[s],f.array[a]=p.x,f.array[a+1]=p.y,f.array[a+2]=p.z,a+=3;else if(4===f.size)for(d=0;u>d;d++)s=M[d][1],p=f.value[s],f.array[a]=p.x,f.array[a+1]=p.y,f.array[a+2]=p.z,f.array[a+3]=p.w,a+=4}else{if(x)for(r=0;m>r;r++)n=_[r],a=3*r,b[a]=n.x,b[a+1]=n.y,b[a+2]=n.z;if(T)for(o=0;y>o;o++)l=g[o],a=3*o,v[a]=l.r,v[a+1]=l.g,v[a+2]=l.b;if(E)for(c=0,h=E.length;h>c;c++)if(f=E[c],f.needsUpdate&&(void 0===f.boundTo||"vertices"===f.boundTo))if(u=f.value.length,a=0,1===f.size)for(d=0;u>d;d++)f.array[d]=f.value[d];else if(2===f.size)for(d=0;u>d;d++)p=f.value[d],f.array[a]=p.x,f.array[a+1]=p.y,a+=2;else if(3===f.size)if("c"===f.type)for(d=0;u>d;d++)p=f.value[d],f.array[a]=p.r,f.array[a+1]=p.g,f.array[a+2]=p.b,a+=3;else for(d=0;u>d;d++)p=f.value[d],f.array[a]=p.x,f.array[a+1]=p.y,f.array[a+2]=p.z,a+=3;else if(4===f.size)for(d=0;u>d;d++)p=f.value[d],f.array[a]=p.x,f.array[a+1]=p.y,f.array[a+2]=p.z,f.array[a+3]=p.w,a+=4}if((x||i.sortParticles)&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglVertexBuffer),He.bufferData(He.ARRAY_BUFFER,b,e)),(T||i.sortParticles)&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglColorBuffer),He.bufferData(He.ARRAY_BUFFER,v,e)),E)for(c=0,h=E.length;h>c;c++)f=E[c],(f.needsUpdate||i.sortParticles)&&(He.bindBuffer(He.ARRAY_BUFFER,f.buffer),He.bufferData(He.ARRAY_BUFFER,f.array,e))}function u(t,e){var i,r,o,n,a,s,l,c,h,d,u,p,f=t.vertices,_=t.colors,m=t.lineDistances,g=f.length,y=_.length,b=m.length,v=t.__vertexArray,M=t.__colorArray,S=t.__lineDistanceArray,x=t.verticesNeedUpdate,T=t.colorsNeedUpdate,E=t.lineDistancesNeedUpdate,C=t.__webglCustomAttributesList;if(x){for(i=0;g>i;i++)n=f[i],a=3*i,v[a]=n.x,v[a+1]=n.y,v[a+2]=n.z;He.bindBuffer(He.ARRAY_BUFFER,t.__webglVertexBuffer),He.bufferData(He.ARRAY_BUFFER,v,e)}if(T){for(r=0;y>r;r++)s=_[r],a=3*r,M[a]=s.r,M[a+1]=s.g,M[a+2]=s.b;He.bindBuffer(He.ARRAY_BUFFER,t.__webglColorBuffer),He.bufferData(He.ARRAY_BUFFER,M,e)}if(E){for(o=0;b>o;o++)S[o]=m[o];He.bindBuffer(He.ARRAY_BUFFER,t.__webglLineDistanceBuffer),He.bufferData(He.ARRAY_BUFFER,S,e)}if(C)for(l=0,c=C.length;c>l;l++)if(p=C[l],p.needsUpdate&&(void 0===p.boundTo||"vertices"===p.boundTo)){if(a=0,d=p.value.length,1===p.size)for(h=0;d>h;h++)p.array[h]=p.value[h];else if(2===p.size)for(h=0;d>h;h++)u=p.value[h],p.array[a]=u.x,p.array[a+1]=u.y,a+=2;else if(3===p.size)if("c"===p.type)for(h=0;d>h;h++)u=p.value[h],p.array[a]=u.r,p.array[a+1]=u.g,p.array[a+2]=u.b,a+=3;else for(h=0;d>h;h++)u=p.value[h],p.array[a]=u.x,p.array[a+1]=u.y,p.array[a+2]=u.z,a+=3;else if(4===p.size)for(h=0;d>h;h++)u=p.value[h],p.array[a]=u.x,p.array[a+1]=u.y,p.array[a+2]=u.z,p.array[a+3]=u.w,a+=4;He.bindBuffer(He.ARRAY_BUFFER,p.buffer),He.bufferData(He.ARRAY_BUFFER,p.array,e)}}function p(t,e,i,r,o){if(t.__inittedArrays){var n,a,s,l,c,d,u,p,f,_,m,g,y,b,v,M,S,x,T,E,C,A,w,R,D,P,B,V,L,k,H,I,O,J,N,F,G,z,j,U,W,X,q=h(o),K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0,ie=0,re=0,oe=0,ne=0,ae=0,se=0,le=t.__vertexArray,ce=t.__uvArray,he=t.__uv2Array,de=t.__normalArray,ue=t.__tangentArray,pe=t.__colorArray,fe=t.__skinIndexArray,_e=t.__skinWeightArray,me=t.__morphTargetsArrays,ge=t.__morphNormalsArrays,ye=t.__webglCustomAttributesList,be=t.__faceArray,ve=t.__lineArray,Me=e.geometry,Se=Me.verticesNeedUpdate,xe=Me.elementsNeedUpdate,Te=Me.uvsNeedUpdate,Ee=Me.normalsNeedUpdate,Ce=Me.tangentsNeedUpdate,Ae=Me.colorsNeedUpdate,we=Me.morphTargetsNeedUpdate,Re=Me.vertices,De=t.faces3,Pe=Me.faces,Be=Me.faceVertexUvs[0],Ve=Me.faceVertexUvs[1],Le=(Me.colors,Me.skinIndices),ke=Me.skinWeights,Ie=Me.morphTargets,Oe=Me.morphNormals;if(Se){for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],g=Re[l.a],y=Re[l.b],b=Re[l.c],le[Y]=g.x,le[Y+1]=g.y,le[Y+2]=g.z,le[Y+3]=y.x,le[Y+4]=y.y,le[Y+5]=y.z,le[Y+6]=b.x,le[Y+7]=b.y,le[Y+8]=b.z,Y+=9;He.bindBuffer(He.ARRAY_BUFFER,t.__webglVertexBuffer),He.bufferData(He.ARRAY_BUFFER,le,i)}if(we)for(N=0,F=Ie.length;F>N;N++){for(ne=0,n=0,a=De.length;a>n;n++)j=De[n],l=Pe[j],g=Ie[N].vertices[l.a],y=Ie[N].vertices[l.b],b=Ie[N].vertices[l.c],G=me[N],G[ne]=g.x,G[ne+1]=g.y,G[ne+2]=g.z,G[ne+3]=y.x,G[ne+4]=y.y,G[ne+5]=y.z,G[ne+6]=b.x,G[ne+7]=b.y,G[ne+8]=b.z,o.morphNormals&&(q?(U=Oe[N].vertexNormals[j],x=U.a,T=U.b,E=U.c):(x=Oe[N].faceNormals[j],T=x,E=x),z=ge[N],z[ne]=x.x,z[ne+1]=x.y,z[ne+2]=x.z,z[ne+3]=T.x,z[ne+4]=T.y,z[ne+5]=T.z,z[ne+6]=E.x,z[ne+7]=E.y,z[ne+8]=E.z),ne+=9;He.bindBuffer(He.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[N]),He.bufferData(He.ARRAY_BUFFER,me[N],i),o.morphNormals&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[N]),He.bufferData(He.ARRAY_BUFFER,ge[N],i))}if(ke.length){for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],R=ke[l.a],D=ke[l.b],P=ke[l.c],_e[oe]=R.x,_e[oe+1]=R.y,_e[oe+2]=R.z,_e[oe+3]=R.w,_e[oe+4]=D.x,_e[oe+5]=D.y,_e[oe+6]=D.z,_e[oe+7]=D.w,_e[oe+8]=P.x,_e[oe+9]=P.y,_e[oe+10]=P.z,_e[oe+11]=P.w,B=Le[l.a],V=Le[l.b],L=Le[l.c],fe[oe]=B.x,fe[oe+1]=B.y,fe[oe+2]=B.z,fe[oe+3]=B.w,fe[oe+4]=V.x,fe[oe+5]=V.y,fe[oe+6]=V.z,fe[oe+7]=V.w,fe[oe+8]=L.x,fe[oe+9]=L.y,fe[oe+10]=L.z,fe[oe+11]=L.w,oe+=12;oe>0&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglSkinIndicesBuffer),He.bufferData(He.ARRAY_BUFFER,fe,i),He.bindBuffer(He.ARRAY_BUFFER,t.__webglSkinWeightsBuffer),He.bufferData(He.ARRAY_BUFFER,_e,i))}if(Ae){for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],u=l.vertexColors,p=l.color,3===u.length&&o.vertexColors===THREE.VertexColors?(C=u[0],A=u[1],w=u[2]):(C=p,A=p,w=p),pe[re]=C.r,pe[re+1]=C.g,pe[re+2]=C.b,pe[re+3]=A.r,pe[re+4]=A.g,pe[re+5]=A.b,pe[re+6]=w.r,pe[re+7]=w.g,pe[re+8]=w.b,re+=9;re>0&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglColorBuffer),He.bufferData(He.ARRAY_BUFFER,pe,i))}if(Ce&&Me.hasTangents){for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],f=l.vertexTangents,v=f[0],M=f[1],S=f[2],ue[ee]=v.x,ue[ee+1]=v.y,ue[ee+2]=v.z,ue[ee+3]=v.w,ue[ee+4]=M.x,ue[ee+5]=M.y,ue[ee+6]=M.z,ue[ee+7]=M.w,ue[ee+8]=S.x,ue[ee+9]=S.y,ue[ee+10]=S.z,ue[ee+11]=S.w,ee+=12;He.bindBuffer(He.ARRAY_BUFFER,t.__webglTangentBuffer),He.bufferData(He.ARRAY_BUFFER,ue,i)}if(Ee){for(n=0,a=De.length;a>n;n++)if(l=Pe[De[n]],c=l.vertexNormals,d=l.normal,3===c.length&&q)for(k=0;3>k;k++)I=c[k],de[te]=I.x,de[te+1]=I.y,de[te+2]=I.z,te+=3;else for(k=0;3>k;k++)de[te]=d.x,de[te+1]=d.y,de[te+2]=d.z,te+=3;He.bindBuffer(He.ARRAY_BUFFER,t.__webglNormalBuffer),He.bufferData(He.ARRAY_BUFFER,de,i)}if(Te&&Be){for(n=0,a=De.length;a>n;n++)if(s=De[n],_=Be[s],void 0!==_)for(k=0;3>k;k++)O=_[k],ce[Q]=O.x,ce[Q+1]=O.y,Q+=2;Q>0&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglUVBuffer),He.bufferData(He.ARRAY_BUFFER,ce,i))}if(Te&&Ve){for(n=0,a=De.length;a>n;n++)if(s=De[n],m=Ve[s],void 0!==m)for(k=0;3>k;k++)J=m[k],he[Z]=J.x,he[Z+1]=J.y,Z+=2;Z>0&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglUV2Buffer),He.bufferData(He.ARRAY_BUFFER,he,i))}if(xe){for(n=0,a=De.length;a>n;n++)be[$]=K,be[$+1]=K+1,be[$+2]=K+2,$+=3,ve[ie]=K,ve[ie+1]=K+1,ve[ie+2]=K,ve[ie+3]=K+2,ve[ie+4]=K+1,ve[ie+5]=K+2,ie+=6,K+=3;He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,t.__webglFaceBuffer),He.bufferData(He.ELEMENT_ARRAY_BUFFER,be,i),He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,t.__webglLineBuffer),He.bufferData(He.ELEMENT_ARRAY_BUFFER,ve,i)}if(ye)for(k=0,H=ye.length;H>k;k++)if(X=ye[k],X.__original.needsUpdate){if(ae=0,se=0,1===X.size){if(void 0===X.boundTo||"vertices"===X.boundTo)for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],X.array[ae]=X.value[l.a],X.array[ae+1]=X.value[l.b],X.array[ae+2]=X.value[l.c],ae+=3;else if("faces"===X.boundTo)for(n=0,a=De.length;a>n;n++)W=X.value[De[n]],X.array[ae]=W,X.array[ae+1]=W,X.array[ae+2]=W,ae+=3}else if(2===X.size){if(void 0===X.boundTo||"vertices"===X.boundTo)for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],g=X.value[l.a],y=X.value[l.b],b=X.value[l.c],X.array[ae]=g.x,X.array[ae+1]=g.y,X.array[ae+2]=y.x,X.array[ae+3]=y.y,X.array[ae+4]=b.x,X.array[ae+5]=b.y,ae+=6;else if("faces"===X.boundTo)for(n=0,a=De.length;a>n;n++)W=X.value[De[n]],g=W,y=W,b=W,X.array[ae]=g.x,X.array[ae+1]=g.y,X.array[ae+2]=y.x,X.array[ae+3]=y.y,X.array[ae+4]=b.x,X.array[ae+5]=b.y,ae+=6}else if(3===X.size){var Je;if(Je="c"===X.type?["r","g","b"]:["x","y","z"],void 0===X.boundTo||"vertices"===X.boundTo)for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],g=X.value[l.a],y=X.value[l.b],b=X.value[l.c],X.array[ae]=g[Je[0]],X.array[ae+1]=g[Je[1]],X.array[ae+2]=g[Je[2]],X.array[ae+3]=y[Je[0]],X.array[ae+4]=y[Je[1]],X.array[ae+5]=y[Je[2]],X.array[ae+6]=b[Je[0]],X.array[ae+7]=b[Je[1]],X.array[ae+8]=b[Je[2]],ae+=9;else if("faces"===X.boundTo)for(n=0,a=De.length;a>n;n++)W=X.value[De[n]],g=W,y=W,b=W,X.array[ae]=g[Je[0]],X.array[ae+1]=g[Je[1]],X.array[ae+2]=g[Je[2]],X.array[ae+3]=y[Je[0]],X.array[ae+4]=y[Je[1]],X.array[ae+5]=y[Je[2]],X.array[ae+6]=b[Je[0]],X.array[ae+7]=b[Je[1]],X.array[ae+8]=b[Je[2]],ae+=9;else if("faceVertices"===X.boundTo)for(n=0,a=De.length;a>n;n++)W=X.value[De[n]],g=W[0],y=W[1],b=W[2],X.array[ae]=g[Je[0]],X.array[ae+1]=g[Je[1]],X.array[ae+2]=g[Je[2]],X.array[ae+3]=y[Je[0]],X.array[ae+4]=y[Je[1]],X.array[ae+5]=y[Je[2]],X.array[ae+6]=b[Je[0]],X.array[ae+7]=b[Je[1]],X.array[ae+8]=b[Je[2]],ae+=9}else if(4===X.size)if(void 0===X.boundTo||"vertices"===X.boundTo)for(n=0,a=De.length;a>n;n++)l=Pe[De[n]],g=X.value[l.a],y=X.value[l.b],b=X.value[l.c],X.array[ae]=g.x,X.array[ae+1]=g.y,X.array[ae+2]=g.z,X.array[ae+3]=g.w,X.array[ae+4]=y.x,X.array[ae+5]=y.y,X.array[ae+6]=y.z,X.array[ae+7]=y.w,X.array[ae+8]=b.x,X.array[ae+9]=b.y,X.array[ae+10]=b.z,X.array[ae+11]=b.w,ae+=12;else if("faces"===X.boundTo)for(n=0,a=De.length;a>n;n++)W=X.value[De[n]],g=W,y=W,b=W,X.array[ae]=g.x,X.array[ae+1]=g.y,X.array[ae+2]=g.z,X.array[ae+3]=g.w,X.array[ae+4]=y.x,X.array[ae+5]=y.y,X.array[ae+6]=y.z,X.array[ae+7]=y.w,X.array[ae+8]=b.x,X.array[ae+9]=b.y,X.array[ae+10]=b.z,X.array[ae+11]=b.w,ae+=12;else if("faceVertices"===X.boundTo)for(n=0,a=De.length;a>n;n++)W=X.value[De[n]],g=W[0],y=W[1],b=W[2],X.array[ae]=g.x,X.array[ae+1]=g.y,X.array[ae+2]=g.z,X.array[ae+3]=g.w,X.array[ae+4]=y.x,X.array[ae+5]=y.y,X.array[ae+6]=y.z,X.array[ae+7]=y.w,X.array[ae+8]=b.x,X.array[ae+9]=b.y,X.array[ae+10]=b.z,X.array[ae+11]=b.w,ae+=12;He.bindBuffer(He.ARRAY_BUFFER,X.buffer),He.bufferData(He.ARRAY_BUFFER,X.array,i)}r&&(delete t.__inittedArrays,delete t.__colorArray,delete t.__normalArray,delete t.__tangentArray,delete t.__uvArray,delete t.__uv2Array,delete t.__faceArray,delete t.__vertexArray,delete t.__lineArray,delete t.__skinIndexArray,delete t.__skinWeightArray)}}function f(t){for(var e=t.attributes,i=t.attributesKeys,r=0,o=i.length;o>r;r++){var n=i[r],a=e[n];if(void 0===a.buffer&&(a.buffer=He.createBuffer(),a.needsUpdate=!0),a.needsUpdate===!0){var s="index"===n?He.ELEMENT_ARRAY_BUFFER:He.ARRAY_BUFFER;He.bindBuffer(s,a.buffer),He.bufferData(s,a.array,He.STATIC_DRAW),a.needsUpdate=!1}}}function _(t,e,i,r){for(var o=i.attributes,n=e.attributes,a=e.attributesKeys,s=0,l=a.length;l>s;s++){var c=a[s],h=n[c];if(h>=0){var d=o[c];if(void 0!==d){var u=d.itemSize;He.bindBuffer(He.ARRAY_BUFFER,d.buffer),g(h),He.vertexAttribPointer(h,u,He.FLOAT,!1,0,r*u*4)}else void 0!==t.defaultAttributeValues&&(2===t.defaultAttributeValues[c].length?He.vertexAttrib2fv(h,t.defaultAttributeValues[c]):3===t.defaultAttributeValues[c].length&&He.vertexAttrib3fv(h,t.defaultAttributeValues[c]))}}y()}function m(){for(var t=0,e=ci.length;e>t;t++)ci[t]=0}function g(t){ci[t]=1,0===hi[t]&&(He.enableVertexAttribArray(t),hi[t]=1)}function y(){for(var t=0,e=hi.length;e>t;t++)hi[t]!==ci[t]&&(He.disableVertexAttribArray(t),hi[t]=0)}function b(t,e,i){var r=t.program.attributes;if(-1!==i.morphTargetBase&&r.position>=0?(He.bindBuffer(He.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[i.morphTargetBase]),g(r.position),He.vertexAttribPointer(r.position,3,He.FLOAT,!1,0,0)):r.position>=0&&(He.bindBuffer(He.ARRAY_BUFFER,e.__webglVertexBuffer),g(r.position),He.vertexAttribPointer(r.position,3,He.FLOAT,!1,0,0)),i.morphTargetForcedOrder.length)for(var o=0,n=i.morphTargetForcedOrder,a=i.morphTargetInfluences;o<t.numSupportedMorphTargets&&o<n.length;)r["morphTarget"+o]>=0&&(He.bindBuffer(He.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[n[o]]),g(r["morphTarget"+o]),He.vertexAttribPointer(r["morphTarget"+o],3,He.FLOAT,!1,0,0)),r["morphNormal"+o]>=0&&t.morphNormals&&(He.bindBuffer(He.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[n[o]]),g(r["morphNormal"+o]),He.vertexAttribPointer(r["morphNormal"+o],3,He.FLOAT,!1,0,0)),i.__webglMorphTargetInfluences[o]=a[n[o]],o++;else{var s,l,c=[],a=i.morphTargetInfluences,h=a.length;for(l=0;h>l;l++)s=a[l],s>0&&c.push([s,l]);c.length>t.numSupportedMorphTargets?(c.sort(S),c.length=t.numSupportedMorphTargets):c.length>t.numSupportedMorphNormals?c.sort(S):0===c.length&&c.push([0,0]);for(var d,o=0;o<t.numSupportedMorphTargets;)c[o]?(d=c[o][1],r["morphTarget"+o]>=0&&(He.bindBuffer(He.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[d]),g(r["morphTarget"+o]),He.vertexAttribPointer(r["morphTarget"+o],3,He.FLOAT,!1,0,0)),r["morphNormal"+o]>=0&&t.morphNormals&&(He.bindBuffer(He.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[d]),g(r["morphNormal"+o]),He.vertexAttribPointer(r["morphNormal"+o],3,He.FLOAT,!1,0,0)),i.__webglMorphTargetInfluences[o]=a[d]):i.__webglMorphTargetInfluences[o]=0,o++}null!==t.program.uniforms.morphTargetInfluences&&He.uniform1fv(t.program.uniforms.morphTargetInfluences,i.__webglMorphTargetInfluences)}function v(t,e){return t.material.id!==e.material.id?e.material.id-t.material.id:t.z!==e.z?e.z-t.z:t.id-e.id}function M(t,e){return t.z!==e.z?t.z-e.z:t.id-e.id}function S(t,e){return e[0]-t[0]}function x(t,e){if(e.visible!==!1){if(e instanceof THREE.Scene||e instanceof THREE.Group);else if(w(e,t),e instanceof THREE.Light)Re.push(e);else if(e instanceof THREE.Sprite)Le.push(e);else if(e instanceof THREE.LensFlare)ke.push(e);else{var i=De[e.id];if(i&&(e.frustumCulled===!1||di.intersectsObject(e)===!0)){V(e,t);for(var r=0,o=i.length;o>r;r++){var n=i[r];A(n),n.render=!0,Ie.sortObjects===!0&&(null!==e.renderDepth?n.z=e.renderDepth:(fi.setFromMatrixPosition(e.matrixWorld),fi.applyProjection(ui),n.z=fi.z))}}}for(var r=0,o=e.children.length;o>r;r++)x(t,e.children[r])}}function T(t,e,i,r,o,n){for(var a,s=t.length-1;-1!==s;s--){var l=t[s],c=l.object,h=l.buffer;if($(c,e),n)a=n;else{if(a=l.material,!a)continue;o&&Ie.setBlending(a.blending,a.blendEquation,a.blendSrc,a.blendDst),Ie.setDepthTest(a.depthTest),Ie.setDepthWrite(a.depthWrite),oe(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)}Ie.setMaterialFaces(a),h instanceof THREE.BufferGeometry?Ie.renderBufferDirect(e,i,r,a,h,c):Ie.renderBuffer(e,i,r,a,h,c)}}function E(t,e,i,r,o,n,a){for(var s,l=0,c=t.length;c>l;l++){var h=t[l],d=h.object;if(d.visible){if(a)s=a;else{if(s=h[e],!s)continue;n&&Ie.setBlending(s.blending,s.blendEquation,s.blendSrc,s.blendDst),Ie.setDepthTest(s.depthTest),Ie.setDepthWrite(s.depthWrite),oe(s.polygonOffset,s.polygonOffsetFactor,s.polygonOffsetUnits)}Ie.renderImmediateObject(i,r,o,s,d)}}}function C(t){var e=t.object,i=e.material;i.transparent?(t.transparent=i,t.opaque=null):(t.opaque=i,t.transparent=null)}function A(t){var e=t.object,i=t.buffer,r=e.geometry,o=e.material;if(o instanceof THREE.MeshFaceMaterial){var n=r instanceof THREE.BufferGeometry?0:i.materialIndex;o=o.materials[n],t.material=o,o.transparent?Ve.push(t):Be.push(t)}else o&&(t.material=o,o.transparent?Ve.push(t):Be.push(t))}function w(t,e){void 0===t.__webglInit&&(t.__webglInit=!0,t._modelViewMatrix=new THREE.Matrix4,t._normalMatrix=new THREE.Matrix3,t.addEventListener("removed",Ii));var o=t.geometry;if(void 0===o||void 0===o.__webglInit&&(o.__webglInit=!0,o.addEventListener("dispose",Oi),o instanceof THREE.BufferGeometry||(t instanceof THREE.Mesh?D(e,t,o):t instanceof THREE.Line?void 0===o.__webglVertexBuffer&&(r(o),s(o,t),o.verticesNeedUpdate=!0,o.colorsNeedUpdate=!0,o.lineDistancesNeedUpdate=!0):t instanceof THREE.PointCloud&&void 0===o.__webglVertexBuffer&&(i(o),a(o,t),o.verticesNeedUpdate=!0,o.colorsNeedUpdate=!0))),void 0===t.__webglActive)if(t.__webglActive=!0,t instanceof THREE.Mesh){if(o instanceof THREE.BufferGeometry)P(De,o,t);else if(o instanceof THREE.Geometry)for(var n=Xi[o.id],l=0,c=n.length;c>l;l++)P(De,n[l],t)}else t instanceof THREE.Line||t instanceof THREE.PointCloud?P(De,o,t):(t instanceof THREE.ImmediateRenderObject||t.immediateRenderCallback)&&B(Pe,t)}function R(t,e){for(var i,r,o=vi.get("OES_element_index_uint")?4294967296:65535,n={},a=t.morphTargets.length,s=t.morphNormals.length,l={},c=[],h=0,d=t.faces.length;d>h;h++){var u=t.faces[h],p=e?u.materialIndex:0;p in n||(n[p]={hash:p,counter:0}),i=n[p].hash+"_"+n[p].counter,i in l||(r={id:qi++,faces3:[],materialIndex:p,vertices:0,numMorphTargets:a,numMorphNormals:s},l[i]=r,c.push(r)),l[i].vertices+3>o&&(n[p].counter+=1,i=n[p].hash+"_"+n[p].counter,i in l||(r={id:qi++,faces3:[],materialIndex:p,vertices:0,numMorphTargets:a,numMorphNormals:s},l[i]=r,c.push(r))),l[i].faces3.push(h),l[i].vertices+=3}return c}function D(t,e,i){var r=e.material,n=!1;(void 0===Xi[i.id]||i.groupsNeedUpdate===!0)&&(delete De[e.id],Xi[i.id]=R(i,r instanceof THREE.MeshFaceMaterial),i.groupsNeedUpdate=!1);for(var a=Xi[i.id],s=0,c=a.length;c>s;s++){var h=a[s];void 0===h.__webglVertexBuffer?(o(h),l(h,e),i.verticesNeedUpdate=!0,i.morphTargetsNeedUpdate=!0,i.elementsNeedUpdate=!0,i.uvsNeedUpdate=!0,i.normalsNeedUpdate=!0,i.tangentsNeedUpdate=!0,i.colorsNeedUpdate=!0,n=!0):n=!1,(n||void 0===e.__webglActive)&&P(De,h,e)}e.__webglActive=!0}function P(t,e,i){var r=i.id;t[r]=t[r]||[],t[r].push({id:r,buffer:e,object:i,material:null,z:0})}function B(t,e){t.push({id:null,object:e,opaque:null,transparent:null,z:0})}function V(t,e){var i,r,o=t.geometry;if(o instanceof THREE.BufferGeometry)f(o);else if(t instanceof THREE.Mesh){o.groupsNeedUpdate===!0&&D(e,t,o);for(var n=Xi[o.id],a=0,s=n.length;s>a;a++){var h=n[a];r=c(t,h),o.groupsNeedUpdate===!0&&l(h,t),i=r.attributes&&L(r),(o.verticesNeedUpdate||o.morphTargetsNeedUpdate||o.elementsNeedUpdate||o.uvsNeedUpdate||o.normalsNeedUpdate||o.colorsNeedUpdate||o.tangentsNeedUpdate||i)&&p(h,t,He.DYNAMIC_DRAW,!o.dynamic,r)}o.verticesNeedUpdate=!1,o.morphTargetsNeedUpdate=!1,o.elementsNeedUpdate=!1,o.uvsNeedUpdate=!1,o.normalsNeedUpdate=!1,o.colorsNeedUpdate=!1,o.tangentsNeedUpdate=!1,r.attributes&&k(r)}else t instanceof THREE.Line?(r=c(t,o),i=r.attributes&&L(r),(o.verticesNeedUpdate||o.colorsNeedUpdate||o.lineDistancesNeedUpdate||i)&&u(o,He.DYNAMIC_DRAW),o.verticesNeedUpdate=!1,o.colorsNeedUpdate=!1,o.lineDistancesNeedUpdate=!1,r.attributes&&k(r)):t instanceof THREE.PointCloud&&(r=c(t,o),i=r.attributes&&L(r),(o.verticesNeedUpdate||o.colorsNeedUpdate||t.sortParticles||i)&&d(o,He.DYNAMIC_DRAW,t),o.verticesNeedUpdate=!1,o.colorsNeedUpdate=!1,r.attributes&&k(r))}function L(t){for(var e in t.attributes)if(t.attributes[e].needsUpdate)return!0;return!1}function k(t){for(var e in t.attributes)t.attributes[e].needsUpdate=!1}function H(t){t instanceof THREE.Mesh||t instanceof THREE.PointCloud||t instanceof THREE.Line?delete De[t.id]:(t instanceof THREE.ImmediateRenderObject||t.immediateRenderCallback)&&I(Pe,t),delete t.__webglInit,delete t._modelViewMatrix,delete t._normalMatrix,delete t.__webglActive}function I(t,e){for(var i=t.length-1;i>=0;i--)t[i].object===e&&t.splice(i,1)}function O(t,e,i,r){t.addEventListener("dispose",Fi);var o;if(t instanceof THREE.MeshDepthMaterial?o="depth":t instanceof THREE.MeshNormalMaterial?o="normal":t instanceof THREE.MeshBasicMaterial?o="basic":t instanceof THREE.MeshLambertMaterial?o="lambert":t instanceof THREE.MeshPhongMaterial?o="phong":t instanceof THREE.LineBasicMaterial?o="basic":t instanceof THREE.LineDashedMaterial?o="dashed":t instanceof THREE.PointCloudMaterial&&(o="particle_basic"),o){var n=THREE.ShaderLib[o];t.__webglShader={uniforms:THREE.UniformsUtils.clone(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}}else t.__webglShader={uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};var a=_e(e),s=me(e),l=fe(r),c={precision:be,supportsVertexTextures:Ei,map:!!t.map,envMap:!!t.envMap,lightMap:!!t.lightMap,bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,vertexColors:t.vertexColors,fog:i,useFog:t.fog,fogExp:i instanceof THREE.FogExp2,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:Ce,skinning:t.skinning,maxBones:l,useVertexTexture:Ci&&r&&r.skeleton&&r.skeleton.useVertexTexture,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:Ie.maxMorphTargets,maxMorphNormals:Ie.maxMorphNormals,maxDirLights:a.directional,maxPointLights:a.point,maxSpotLights:a.spot,maxHemiLights:a.hemi,maxShadows:s,shadowMapEnabled:Ie.shadowMapEnabled&&r.receiveShadow&&s>0,shadowMapType:Ie.shadowMapType,shadowMapDebug:Ie.shadowMapDebug,shadowMapCascade:Ie.shadowMapCascade,alphaTest:t.alphaTest,metal:t.metal,wrapAround:t.wrapAround,doubleSided:t.side===THREE.DoubleSide,flipSided:t.side===THREE.BackSide},h=[];if(o?h.push(o):(h.push(t.fragmentShader),h.push(t.vertexShader)),void 0!==t.defines)for(var d in t.defines)h.push(d),h.push(t.defines[d]);for(var d in c)h.push(d),h.push(c[d]);for(var u,p=h.join(),f=0,_=Oe.length;_>f;f++){var m=Oe[f];if(m.code===p){u=m,u.usedTimes++;break}}void 0===u&&(u=new THREE.WebGLProgram(Ie,p,t,c),Oe.push(u),Ie.info.memory.programs=Oe.length),t.program=u;var g=u.attributes;if(t.morphTargets){t.numSupportedMorphTargets=0;for(var y,b="morphTarget",v=0;v<Ie.maxMorphTargets;v++)y=b+v,g[y]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;var y,b="morphNormal";for(v=0;v<Ie.maxMorphNormals;v++)y=b+v,g[y]>=0&&t.numSupportedMorphNormals++}t.uniformsList=[];for(var M in t.__webglShader.uniforms){var S=t.program.uniforms[M];S&&t.uniformsList.push([t.__webglShader.uniforms[M],S])}}function J(t,e,i,r,o){je=0,r.needsUpdate&&(r.program&&Wi(r),O(r,e,i,o),r.needsUpdate=!1),r.morphTargets&&(o.__webglMorphTargetInfluences||(o.__webglMorphTargetInfluences=new Float32Array(Ie.maxMorphTargets)));var n=!1,a=!1,s=!1,l=r.program,c=l.uniforms,h=r.__webglShader.uniforms;if(l.id!==Je&&(He.useProgram(l.program),Je=l.id,n=!0,a=!0,s=!0),r.id!==Fe&&(-1===Fe&&(s=!0),Fe=r.id,a=!0),(n||t!==ze)&&(He.uniformMatrix4fv(c.projectionMatrix,!1,t.projectionMatrix.elements),Ce&&He.uniform1f(c.logDepthBufFC,2/(Math.log(t.far+1)/Math.LN2)),t!==ze&&(ze=t),(r instanceof THREE.ShaderMaterial||r instanceof THREE.MeshPhongMaterial||r.envMap)&&null!==c.cameraPosition&&(fi.setFromMatrixPosition(t.matrixWorld),He.uniform3f(c.cameraPosition,fi.x,fi.y,fi.z)),(r instanceof THREE.MeshPhongMaterial||r instanceof THREE.MeshLambertMaterial||r instanceof THREE.ShaderMaterial||r.skinning)&&null!==c.viewMatrix&&He.uniformMatrix4fv(c.viewMatrix,!1,t.matrixWorldInverse.elements)),r.skinning)if(o.bindMatrix&&null!==c.bindMatrix&&He.uniformMatrix4fv(c.bindMatrix,!1,o.bindMatrix.elements),o.bindMatrixInverse&&null!==c.bindMatrixInverse&&He.uniformMatrix4fv(c.bindMatrixInverse,!1,o.bindMatrixInverse.elements),Ci&&o.skeleton&&o.skeleton.useVertexTexture){if(null!==c.boneTexture){var d=Q();He.uniform1i(c.boneTexture,d),Ie.setTexture(o.skeleton.boneTexture,d)}null!==c.boneTextureWidth&&He.uniform1i(c.boneTextureWidth,o.skeleton.boneTextureWidth),null!==c.boneTextureHeight&&He.uniform1i(c.boneTextureHeight,o.skeleton.boneTextureHeight)}else o.skeleton&&o.skeleton.boneMatrices&&null!==c.boneGlobalMatrices&&He.uniformMatrix4fv(c.boneGlobalMatrices,!1,o.skeleton.boneMatrices);return a&&(i&&r.fog&&j(h,i),(r instanceof THREE.MeshPhongMaterial||r instanceof THREE.MeshLambertMaterial||r.lights)&&(mi&&(s=!0,ie(e),mi=!1),s?(X(h,gi),q(h,!0)):q(h,!1)),(r instanceof THREE.MeshBasicMaterial||r instanceof THREE.MeshLambertMaterial||r instanceof THREE.MeshPhongMaterial)&&N(h,r),r instanceof THREE.LineBasicMaterial?F(h,r):r instanceof THREE.LineDashedMaterial?(F(h,r),G(h,r)):r instanceof THREE.PointCloudMaterial?z(h,r):r instanceof THREE.MeshPhongMaterial?U(h,r):r instanceof THREE.MeshLambertMaterial?W(h,r):r instanceof THREE.MeshDepthMaterial?(h.mNear.value=t.near,h.mFar.value=t.far,h.opacity.value=r.opacity):r instanceof THREE.MeshNormalMaterial&&(h.opacity.value=r.opacity),o.receiveShadow&&!r._shadowPass&&K(h,e),Z(r.uniformsList)),Y(c,o),null!==c.modelMatrix&&He.uniformMatrix4fv(c.modelMatrix,!1,o.matrixWorld.elements),l}function N(t,e){t.opacity.value=e.opacity,Ie.gammaInput?t.diffuse.value.copyGammaToLinear(e.color):t.diffuse.value=e.color,t.map.value=e.map,t.lightMap.value=e.lightMap,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale));var i;if(e.map?i=e.map:e.specularMap?i=e.specularMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.alphaMap&&(i=e.alphaMap),void 0!==i){var r=i.offset,o=i.repeat;t.offsetRepeat.value.set(r.x,r.y,o.x,o.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap instanceof THREE.WebGLRenderTargetCube?1:-1,t.reflectivity.value=Ie.gammaInput?e.reflectivity:e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.combine.value=e.combine,t.useRefract.value=e.envMap&&e.envMap.mapping instanceof THREE.CubeRefractionMapping}function F(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function G(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function z(t,e){t.psColor.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size,t.scale.value=ge.height/2,t.map.value=e.map}function j(t,e){t.fogColor.value=e.color,e instanceof THREE.Fog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e instanceof THREE.FogExp2&&(t.fogDensity.value=e.density)}function U(t,e){t.shininess.value=e.shininess,Ie.gammaInput?(t.ambient.value.copyGammaToLinear(e.ambient),t.emissive.value.copyGammaToLinear(e.emissive),t.specular.value.copyGammaToLinear(e.specular)):(t.ambient.value=e.ambient,t.emissive.value=e.emissive,t.specular.value=e.specular),e.wrapAround&&t.wrapRGB.value.copy(e.wrapRGB)}function W(t,e){Ie.gammaInput?(t.ambient.value.copyGammaToLinear(e.ambient),t.emissive.value.copyGammaToLinear(e.emissive)):(t.ambient.value=e.ambient,t.emissive.value=e.emissive),e.wrapAround&&t.wrapRGB.value.copy(e.wrapRGB)}function X(t,e){t.ambientLightColor.value=e.ambient,t.directionalLightColor.value=e.directional.colors,t.directionalLightDirection.value=e.directional.positions,t.pointLightColor.value=e.point.colors,t.pointLightPosition.value=e.point.positions,t.pointLightDistance.value=e.point.distances,t.spotLightColor.value=e.spot.colors,t.spotLightPosition.value=e.spot.positions,t.spotLightDistance.value=e.spot.distances,t.spotLightDirection.value=e.spot.directions,t.spotLightAngleCos.value=e.spot.anglesCos,t.spotLightExponent.value=e.spot.exponents,t.hemisphereLightSkyColor.value=e.hemi.skyColors,t.hemisphereLightGroundColor.value=e.hemi.groundColors,t.hemisphereLightDirection.value=e.hemi.positions}function q(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLightColor.needsUpdate=e,t.directionalLightDirection.needsUpdate=e,t.pointLightColor.needsUpdate=e,t.pointLightPosition.needsUpdate=e,t.pointLightDistance.needsUpdate=e,t.spotLightColor.needsUpdate=e,t.spotLightPosition.needsUpdate=e,t.spotLightDistance.needsUpdate=e,t.spotLightDirection.needsUpdate=e,t.spotLightAngleCos.needsUpdate=e,t.spotLightExponent.needsUpdate=e,t.hemisphereLightSkyColor.needsUpdate=e,t.hemisphereLightGroundColor.needsUpdate=e,t.hemisphereLightDirection.needsUpdate=e}function K(t,e){if(t.shadowMatrix)for(var i=0,r=0,o=e.length;o>r;r++){var n=e[r];n.castShadow&&(n instanceof THREE.SpotLight||n instanceof THREE.DirectionalLight&&!n.shadowCascade)&&(t.shadowMap.value[i]=n.shadowMap,t.shadowMapSize.value[i]=n.shadowMapSize,t.shadowMatrix.value[i]=n.shadowMatrix,t.shadowDarkness.value[i]=n.shadowDarkness,t.shadowBias.value[i]=n.shadowBias,i++)}}function Y(t,e){He.uniformMatrix4fv(t.modelViewMatrix,!1,e._modelViewMatrix.elements),t.normalMatrix&&He.uniformMatrix3fv(t.normalMatrix,!1,e._normalMatrix.elements)}function Q(){var t=je;return t>=Mi&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+Mi),je+=1,t}function Z(t){for(var e,i,r,o=0,n=t.length;n>o;o++){var a=t[o][0];if(a.needsUpdate!==!1){var s=a.type,l=a.value,c=t[o][1];switch(s){case"1i":He.uniform1i(c,l);break;case"1f":He.uniform1f(c,l);break;case"2f":He.uniform2f(c,l[0],l[1]);break;case"3f":He.uniform3f(c,l[0],l[1],l[2]);break;case"4f":He.uniform4f(c,l[0],l[1],l[2],l[3]);break;case"1iv":He.uniform1iv(c,l);break;case"3iv":He.uniform3iv(c,l);break;case"1fv":He.uniform1fv(c,l);break;case"2fv":He.uniform2fv(c,l);break;case"3fv":He.uniform3fv(c,l);break;case"4fv":He.uniform4fv(c,l);break;case"Matrix3fv":He.uniformMatrix3fv(c,!1,l);break;case"Matrix4fv":He.uniformMatrix4fv(c,!1,l);break;case"i":He.uniform1i(c,l);break;case"f":He.uniform1f(c,l);break;case"v2":He.uniform2f(c,l.x,l.y);break;case"v3":He.uniform3f(c,l.x,l.y,l.z);break;case"v4":He.uniform4f(c,l.x,l.y,l.z,l.w);break;case"c":He.uniform3f(c,l.r,l.g,l.b);break;case"iv1":He.uniform1iv(c,l);break;case"iv":He.uniform3iv(c,l);break;case"fv1":He.uniform1fv(c,l);break;case"fv":He.uniform3fv(c,l);break;case"v2v":void 0===a._array&&(a._array=new Float32Array(2*l.length));for(var h=0,d=l.length;d>h;h++)r=2*h,a._array[r]=l[h].x,a._array[r+1]=l[h].y;He.uniform2fv(c,a._array);break;case"v3v":void 0===a._array&&(a._array=new Float32Array(3*l.length));for(var h=0,d=l.length;d>h;h++)r=3*h,a._array[r]=l[h].x,a._array[r+1]=l[h].y,a._array[r+2]=l[h].z;He.uniform3fv(c,a._array);break;case"v4v":void 0===a._array&&(a._array=new Float32Array(4*l.length));for(var h=0,d=l.length;d>h;h++)r=4*h,a._array[r]=l[h].x,a._array[r+1]=l[h].y,a._array[r+2]=l[h].z,a._array[r+3]=l[h].w;He.uniform4fv(c,a._array);break;case"m3":He.uniformMatrix3fv(c,!1,l.elements);break;case"m3v":void 0===a._array&&(a._array=new Float32Array(9*l.length));for(var h=0,d=l.length;d>h;h++)l[h].flattenToArrayOffset(a._array,9*h);He.uniformMatrix3fv(c,!1,a._array);break;case"m4":He.uniformMatrix4fv(c,!1,l.elements);break;case"m4v":void 0===a._array&&(a._array=new Float32Array(16*l.length));for(var h=0,d=l.length;d>h;h++)l[h].flattenToArrayOffset(a._array,16*h);He.uniformMatrix4fv(c,!1,a._array);
break;case"t":if(e=l,i=Q(),He.uniform1i(c,i),!e)continue;e instanceof THREE.CubeTexture||e.image instanceof Array&&6===e.image.length?se(e,i):e instanceof THREE.WebGLRenderTargetCube?le(e,i):Ie.setTexture(e,i);break;case"tv":void 0===a._array&&(a._array=[]);for(var h=0,d=a.value.length;d>h;h++)a._array[h]=Q();He.uniform1iv(c,a._array);for(var h=0,d=a.value.length;d>h;h++)e=a.value[h],i=a._array[h],e&&Ie.setTexture(e,i);break;default:console.warn("THREE.WebGLRenderer: Unknown uniform type: "+s)}}}}function $(t,e){t._modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,t.matrixWorld),t._normalMatrix.getNormalMatrix(t._modelViewMatrix)}function te(t,e,i,r){t[e]=i.r*i.r*r,t[e+1]=i.g*i.g*r,t[e+2]=i.b*i.b*r}function ee(t,e,i,r){t[e]=i.r*r,t[e+1]=i.g*r,t[e+2]=i.b*r}function ie(t){var e,i,r,o,n,a,s,l,c,h=0,d=0,u=0,p=gi,f=p.directional.colors,_=p.directional.positions,m=p.point.colors,g=p.point.positions,y=p.point.distances,b=p.spot.colors,v=p.spot.positions,M=p.spot.distances,S=p.spot.directions,x=p.spot.anglesCos,T=p.spot.exponents,E=p.hemi.skyColors,C=p.hemi.groundColors,A=p.hemi.positions,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0;for(e=0,i=t.length;i>e;e++)if(r=t[e],!r.onlyShadow)if(o=r.color,s=r.intensity,c=r.distance,r instanceof THREE.AmbientLight){if(!r.visible)continue;Ie.gammaInput?(h+=o.r*o.r,d+=o.g*o.g,u+=o.b*o.b):(h+=o.r,d+=o.g,u+=o.b)}else if(r instanceof THREE.DirectionalLight){if(B+=1,!r.visible)continue;_i.setFromMatrixPosition(r.matrixWorld),fi.setFromMatrixPosition(r.target.matrixWorld),_i.sub(fi),_i.normalize(),H=3*w,_[H]=_i.x,_[H+1]=_i.y,_[H+2]=_i.z,Ie.gammaInput?te(f,H,o,s*s):ee(f,H,o,s),w+=1}else if(r instanceof THREE.PointLight){if(V+=1,!r.visible)continue;I=3*R,Ie.gammaInput?te(m,I,o,s*s):ee(m,I,o,s),fi.setFromMatrixPosition(r.matrixWorld),g[I]=fi.x,g[I+1]=fi.y,g[I+2]=fi.z,y[R]=c,R+=1}else if(r instanceof THREE.SpotLight){if(L+=1,!r.visible)continue;O=3*D,Ie.gammaInput?te(b,O,o,s*s):ee(b,O,o,s),_i.setFromMatrixPosition(r.matrixWorld),v[O]=_i.x,v[O+1]=_i.y,v[O+2]=_i.z,M[D]=c,fi.setFromMatrixPosition(r.target.matrixWorld),_i.sub(fi),_i.normalize(),S[O]=_i.x,S[O+1]=_i.y,S[O+2]=_i.z,x[D]=Math.cos(r.angle),T[D]=r.exponent,D+=1}else if(r instanceof THREE.HemisphereLight){if(k+=1,!r.visible)continue;_i.setFromMatrixPosition(r.matrixWorld),_i.normalize(),J=3*P,A[J]=_i.x,A[J+1]=_i.y,A[J+2]=_i.z,n=r.color,a=r.groundColor,Ie.gammaInput?(l=s*s,te(E,J,n,l),te(C,J,a,l)):(ee(E,J,n,s),ee(C,J,a,s)),P+=1}for(e=3*w,i=Math.max(f.length,3*B);i>e;e++)f[e]=0;for(e=3*R,i=Math.max(m.length,3*V);i>e;e++)m[e]=0;for(e=3*D,i=Math.max(b.length,3*L);i>e;e++)b[e]=0;for(e=3*P,i=Math.max(E.length,3*k);i>e;e++)E[e]=0;for(e=3*P,i=Math.max(C.length,3*k);i>e;e++)C[e]=0;p.directional.length=w,p.point.length=R,p.spot.length=D,p.hemi.length=P,p.ambient[0]=h,p.ambient[1]=d,p.ambient[2]=u}function re(t){t!==ii&&(He.lineWidth(t),ii=t)}function oe(t,e,i){$e!==t&&(t?He.enable(He.POLYGON_OFFSET_FILL):He.disable(He.POLYGON_OFFSET_FILL),$e=t),!t||ti===e&&ei===i||(He.polygonOffset(e,i),ti=e,ei=i)}function ne(t,e,i){var r;i?(He.texParameteri(t,He.TEXTURE_WRAP_S,pe(e.wrapS)),He.texParameteri(t,He.TEXTURE_WRAP_T,pe(e.wrapT)),He.texParameteri(t,He.TEXTURE_MAG_FILTER,pe(e.magFilter)),He.texParameteri(t,He.TEXTURE_MIN_FILTER,pe(e.minFilter))):(He.texParameteri(t,He.TEXTURE_WRAP_S,He.CLAMP_TO_EDGE),He.texParameteri(t,He.TEXTURE_WRAP_T,He.CLAMP_TO_EDGE),He.texParameteri(t,He.TEXTURE_MAG_FILTER,ue(e.magFilter)),He.texParameteri(t,He.TEXTURE_MIN_FILTER,ue(e.minFilter))),r=vi.get("EXT_texture_filter_anisotropic"),r&&e.type!==THREE.FloatType&&(e.anisotropy>1||e.__oldAnisotropy)&&(He.texParameterf(t,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,Ie.getMaxAnisotropy())),e.__oldAnisotropy=e.anisotropy)}function ae(t,e){if(t.width>e||t.height>e){var i=e/Math.max(t.width,t.height),r=document.createElement("canvas");r.width=Math.floor(t.width*i),r.height=Math.floor(t.height*i);var o=r.getContext("2d");return o.drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.log("THREE.WebGLRenderer:",t,"is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height+"."),r}return t}function se(t,e){if(6===t.image.length)if(t.needsUpdate){t.image.__webglTextureCube||(t.addEventListener("dispose",Ji),t.image.__webglTextureCube=He.createTexture(),Ie.info.memory.textures++),He.activeTexture(He.TEXTURE0+e),He.bindTexture(He.TEXTURE_CUBE_MAP,t.image.__webglTextureCube),He.pixelStorei(He.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var i=t instanceof THREE.CompressedTexture,r=t.image[0]instanceof THREE.DataTexture,o=[],n=0;6>n;n++)o[n]=!Ie.autoScaleCubemaps||i||r?r?t.image[n].image:t.image[n]:ae(t.image[n],Ti);var a=o[0],s=THREE.Math.isPowerOfTwo(a.width)&&THREE.Math.isPowerOfTwo(a.height),l=pe(t.format),c=pe(t.type);ne(He.TEXTURE_CUBE_MAP,t,s);for(var n=0;6>n;n++)if(i)for(var h,d=o[n].mipmaps,u=0,p=d.length;p>u;u++)h=d[u],t.format!==THREE.RGBAFormat&&t.format!==THREE.RGBFormat?Pi().indexOf(l)>-1?He.compressedTexImage2D(He.TEXTURE_CUBE_MAP_POSITIVE_X+n,u,l,h.width,h.height,0,h.data):console.warn("Attempt to load unsupported compressed texture format"):He.texImage2D(He.TEXTURE_CUBE_MAP_POSITIVE_X+n,u,l,h.width,h.height,0,l,c,h.data);else r?He.texImage2D(He.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,l,o[n].width,o[n].height,0,l,c,o[n].data):He.texImage2D(He.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,l,l,c,o[n]);t.generateMipmaps&&s&&He.generateMipmap(He.TEXTURE_CUBE_MAP),t.needsUpdate=!1,t.onUpdate&&t.onUpdate()}else He.activeTexture(He.TEXTURE0+e),He.bindTexture(He.TEXTURE_CUBE_MAP,t.image.__webglTextureCube)}function le(t,e){He.activeTexture(He.TEXTURE0+e),He.bindTexture(He.TEXTURE_CUBE_MAP,t.__webglTexture)}function ce(t,e,i){He.bindFramebuffer(He.FRAMEBUFFER,t),He.framebufferTexture2D(He.FRAMEBUFFER,He.COLOR_ATTACHMENT0,i,e.__webglTexture,0)}function he(t,e){He.bindRenderbuffer(He.RENDERBUFFER,t),e.depthBuffer&&!e.stencilBuffer?(He.renderbufferStorage(He.RENDERBUFFER,He.DEPTH_COMPONENT16,e.width,e.height),He.framebufferRenderbuffer(He.FRAMEBUFFER,He.DEPTH_ATTACHMENT,He.RENDERBUFFER,t)):e.depthBuffer&&e.stencilBuffer?(He.renderbufferStorage(He.RENDERBUFFER,He.DEPTH_STENCIL,e.width,e.height),He.framebufferRenderbuffer(He.FRAMEBUFFER,He.DEPTH_STENCIL_ATTACHMENT,He.RENDERBUFFER,t)):He.renderbufferStorage(He.RENDERBUFFER,He.RGBA4,e.width,e.height)}function de(t){t instanceof THREE.WebGLRenderTargetCube?(He.bindTexture(He.TEXTURE_CUBE_MAP,t.__webglTexture),He.generateMipmap(He.TEXTURE_CUBE_MAP),He.bindTexture(He.TEXTURE_CUBE_MAP,null)):(He.bindTexture(He.TEXTURE_2D,t.__webglTexture),He.generateMipmap(He.TEXTURE_2D),He.bindTexture(He.TEXTURE_2D,null))}function ue(t){return t===THREE.NearestFilter||t===THREE.NearestMipMapNearestFilter||t===THREE.NearestMipMapLinearFilter?He.NEAREST:He.LINEAR}function pe(t){var e;if(t===THREE.RepeatWrapping)return He.REPEAT;if(t===THREE.ClampToEdgeWrapping)return He.CLAMP_TO_EDGE;if(t===THREE.MirroredRepeatWrapping)return He.MIRRORED_REPEAT;if(t===THREE.NearestFilter)return He.NEAREST;if(t===THREE.NearestMipMapNearestFilter)return He.NEAREST_MIPMAP_NEAREST;if(t===THREE.NearestMipMapLinearFilter)return He.NEAREST_MIPMAP_LINEAR;if(t===THREE.LinearFilter)return He.LINEAR;if(t===THREE.LinearMipMapNearestFilter)return He.LINEAR_MIPMAP_NEAREST;if(t===THREE.LinearMipMapLinearFilter)return He.LINEAR_MIPMAP_LINEAR;if(t===THREE.UnsignedByteType)return He.UNSIGNED_BYTE;if(t===THREE.UnsignedShort4444Type)return He.UNSIGNED_SHORT_4_4_4_4;if(t===THREE.UnsignedShort5551Type)return He.UNSIGNED_SHORT_5_5_5_1;if(t===THREE.UnsignedShort565Type)return He.UNSIGNED_SHORT_5_6_5;if(t===THREE.ByteType)return He.BYTE;if(t===THREE.ShortType)return He.SHORT;if(t===THREE.UnsignedShortType)return He.UNSIGNED_SHORT;if(t===THREE.IntType)return He.INT;if(t===THREE.UnsignedIntType)return He.UNSIGNED_INT;if(t===THREE.FloatType)return He.FLOAT;if(t===THREE.AlphaFormat)return He.ALPHA;if(t===THREE.RGBFormat)return He.RGB;if(t===THREE.RGBAFormat)return He.RGBA;if(t===THREE.LuminanceFormat)return He.LUMINANCE;if(t===THREE.LuminanceAlphaFormat)return He.LUMINANCE_ALPHA;if(t===THREE.AddEquation)return He.FUNC_ADD;if(t===THREE.SubtractEquation)return He.FUNC_SUBTRACT;if(t===THREE.ReverseSubtractEquation)return He.FUNC_REVERSE_SUBTRACT;if(t===THREE.ZeroFactor)return He.ZERO;if(t===THREE.OneFactor)return He.ONE;if(t===THREE.SrcColorFactor)return He.SRC_COLOR;if(t===THREE.OneMinusSrcColorFactor)return He.ONE_MINUS_SRC_COLOR;if(t===THREE.SrcAlphaFactor)return He.SRC_ALPHA;if(t===THREE.OneMinusSrcAlphaFactor)return He.ONE_MINUS_SRC_ALPHA;if(t===THREE.DstAlphaFactor)return He.DST_ALPHA;if(t===THREE.OneMinusDstAlphaFactor)return He.ONE_MINUS_DST_ALPHA;if(t===THREE.DstColorFactor)return He.DST_COLOR;if(t===THREE.OneMinusDstColorFactor)return He.ONE_MINUS_DST_COLOR;if(t===THREE.SrcAlphaSaturateFactor)return He.SRC_ALPHA_SATURATE;if(e=vi.get("WEBGL_compressed_texture_s3tc"),null!==e){if(t===THREE.RGB_S3TC_DXT1_Format)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===THREE.RGBA_S3TC_DXT1_Format)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===THREE.RGBA_S3TC_DXT3_Format)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===THREE.RGBA_S3TC_DXT5_Format)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e=vi.get("WEBGL_compressed_texture_pvrtc"),null!==e){if(t===THREE.RGB_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===THREE.RGB_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===THREE.RGBA_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===THREE.RGBA_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e=vi.get("EXT_blend_minmax"),null!==e){if(t===THREE.MinEquation)return e.MIN_EXT;if(t===THREE.MaxEquation)return e.MAX_EXT}return 0}function fe(t){if(Ci&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var e=He.getParameter(He.MAX_VERTEX_UNIFORM_VECTORS),i=Math.floor((e-20)/4),r=i;return void 0!==t&&t instanceof THREE.SkinnedMesh&&(r=Math.min(t.skeleton.bones.length,r),r<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+r+" (try OpenGL instead of ANGLE)")),r}function _e(t){for(var e=0,i=0,r=0,o=0,n=0,a=t.length;a>n;n++){var s=t[n];s.onlyShadow||s.visible===!1||(s instanceof THREE.DirectionalLight&&e++,s instanceof THREE.PointLight&&i++,s instanceof THREE.SpotLight&&r++,s instanceof THREE.HemisphereLight&&o++)}return{directional:e,point:i,spot:r,hemi:o}}function me(t){for(var e=0,i=0,r=t.length;r>i;i++){var o=t[i];o.castShadow&&(o instanceof THREE.SpotLight&&e++,o instanceof THREE.DirectionalLight&&!o.shadowCascade&&e++)}return e}console.log("THREE.WebGLRenderer",THREE.REVISION),t=t||{};var ge=void 0!==t.canvas?t.canvas:document.createElement("canvas"),ye=void 0!==t.context?t.context:null,be=void 0!==t.precision?t.precision:"highp",ve=void 0!==t.alpha?t.alpha:!1,Me=void 0!==t.depth?t.depth:!0,Se=void 0!==t.stencil?t.stencil:!0,xe=void 0!==t.antialias?t.antialias:!1,Te=void 0!==t.premultipliedAlpha?t.premultipliedAlpha:!0,Ee=void 0!==t.preserveDrawingBuffer?t.preserveDrawingBuffer:!1,Ce=void 0!==t.logarithmicDepthBuffer?t.logarithmicDepthBuffer:!1,Ae=new THREE.Color(0),we=0,Re=[],De={},Pe=[],Be=[],Ve=[],Le=[],ke=[];this.domElement=ge,this.context=null,this.devicePixelRatio=void 0!==t.devicePixelRatio?t.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaInput=!1,this.gammaOutput=!1,this.shadowMapEnabled=!1,this.shadowMapType=THREE.PCFShadowMap,this.shadowMapCullFace=THREE.CullFaceFront,this.shadowMapDebug=!1,this.shadowMapCascade=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var He,Ie=this,Oe=[],Je=null,Ne=null,Fe=-1,Ge=-1,ze=null,je=0,Ue=-1,We=-1,Xe=-1,qe=-1,Ke=-1,Ye=-1,Qe=-1,Ze=-1,$e=null,ti=null,ei=null,ii=null,ri=0,oi=0,ni=ge.width,ai=ge.height,si=0,li=0,ci=new Uint8Array(16),hi=new Uint8Array(16),di=new THREE.Frustum,ui=new THREE.Matrix4,pi=new THREE.Matrix4,fi=new THREE.Vector3,_i=new THREE.Vector3,mi=!0,gi={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}};try{var yi={alpha:ve,depth:Me,stencil:Se,antialias:xe,premultipliedAlpha:Te,preserveDrawingBuffer:Ee};if(He=ye||ge.getContext("webgl",yi)||ge.getContext("experimental-webgl",yi),null===He)throw null!==ge.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context."}catch(bi){console.error(bi)}void 0===He.getShaderPrecisionFormat&&(He.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});var vi=new THREE.WebGLExtensions(He);vi.get("OES_texture_float"),vi.get("OES_texture_float_linear"),vi.get("OES_standard_derivatives"),Ce&&vi.get("EXT_frag_depth"),e(),this.context=He;var Mi=He.getParameter(He.MAX_TEXTURE_IMAGE_UNITS),Si=He.getParameter(He.MAX_VERTEX_TEXTURE_IMAGE_UNITS),xi=He.getParameter(He.MAX_TEXTURE_SIZE),Ti=He.getParameter(He.MAX_CUBE_MAP_TEXTURE_SIZE),Ei=Si>0,Ci=Ei&&vi.get("OES_texture_float"),Ai=He.getShaderPrecisionFormat(He.VERTEX_SHADER,He.HIGH_FLOAT),wi=He.getShaderPrecisionFormat(He.VERTEX_SHADER,He.MEDIUM_FLOAT),Ri=(He.getShaderPrecisionFormat(He.VERTEX_SHADER,He.LOW_FLOAT),He.getShaderPrecisionFormat(He.FRAGMENT_SHADER,He.HIGH_FLOAT)),Di=He.getShaderPrecisionFormat(He.FRAGMENT_SHADER,He.MEDIUM_FLOAT),Pi=(He.getShaderPrecisionFormat(He.FRAGMENT_SHADER,He.LOW_FLOAT),function(){var t;return function(){if(void 0!==t)return t;if(t=[],vi.get("WEBGL_compressed_texture_pvrtc")||vi.get("WEBGL_compressed_texture_s3tc"))for(var e=He.getParameter(He.COMPRESSED_TEXTURE_FORMATS),i=0;i<e.length;i++)t.push(e[i]);return t}}()),Bi=Ai.precision>0&&Ri.precision>0,Vi=wi.precision>0&&Di.precision>0;"highp"!==be||Bi||(Vi?(be="mediump",console.warn("THREE.WebGLRenderer: highp not supported, using mediump.")):(be="lowp",console.warn("THREE.WebGLRenderer: highp and mediump not supported, using lowp."))),"mediump"!==be||Vi||(be="lowp",console.warn("THREE.WebGLRenderer: mediump not supported, using lowp."));var Li=new THREE.ShadowMapPlugin(this,Re,De,Pe),ki=new THREE.SpritePlugin(this,Le),Hi=new THREE.LensFlarePlugin(this,ke);this.getContext=function(){return He},this.supportsVertexTextures=function(){return Ei},this.supportsFloatTextures=function(){return vi.get("OES_texture_float")},this.supportsStandardDerivatives=function(){return vi.get("OES_standard_derivatives")},this.supportsCompressedTextureS3TC=function(){return vi.get("WEBGL_compressed_texture_s3tc")},this.supportsCompressedTexturePVRTC=function(){return vi.get("WEBGL_compressed_texture_pvrtc")},this.supportsBlendMinMax=function(){return vi.get("EXT_blend_minmax")},this.getMaxAnisotropy=function(){var t;return function(){if(void 0!==t)return t;var e=vi.get("EXT_texture_filter_anisotropic");return t=null!==e?He.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}}(),this.getPrecision=function(){return be},this.setSize=function(t,e,i){ge.width=t*this.devicePixelRatio,ge.height=e*this.devicePixelRatio,i!==!1&&(ge.style.width=t+"px",ge.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,i,r){ri=t*this.devicePixelRatio,oi=e*this.devicePixelRatio,ni=i*this.devicePixelRatio,ai=r*this.devicePixelRatio,He.viewport(ri,oi,ni,ai)},this.setScissor=function(t,e,i,r){He.scissor(t*this.devicePixelRatio,e*this.devicePixelRatio,i*this.devicePixelRatio,r*this.devicePixelRatio)},this.enableScissorTest=function(t){t?He.enable(He.SCISSOR_TEST):He.disable(He.SCISSOR_TEST)},this.setClearColor=function(t,e){Ae.set(t),we=void 0!==e?e:1,He.clearColor(Ae.r,Ae.g,Ae.b,we)},this.setClearColorHex=function(t,e){console.warn("THREE.WebGLRenderer: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(t,e)},this.getClearColor=function(){return Ae},this.getClearAlpha=function(){return we},this.clear=function(t,e,i){var r=0;(void 0===t||t)&&(r|=He.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=He.DEPTH_BUFFER_BIT),(void 0===i||i)&&(r|=He.STENCIL_BUFFER_BIT),He.clear(r)},this.clearColor=function(){He.clear(He.COLOR_BUFFER_BIT)},this.clearDepth=function(){He.clear(He.DEPTH_BUFFER_BIT)},this.clearStencil=function(){He.clear(He.STENCIL_BUFFER_BIT)},this.clearTarget=function(t,e,i,r){this.setRenderTarget(t),this.clear(e,i,r)},this.resetGLState=function(){Je=null,ze=null,Xe=-1,Qe=-1,Ze=-1,Ue=-1,We=-1,Ge=-1,Fe=-1,mi=!0};var Ii=function(t){var e=t.target;e.traverse(function(t){t.removeEventListener("remove",Ii),H(t)})},Oi=function(t){var e=t.target;e.removeEventListener("dispose",Oi),zi(e)},Ji=function(t){var e=t.target;e.removeEventListener("dispose",Ji),ji(e),Ie.info.memory.textures--},Ni=function(t){var e=t.target;e.removeEventListener("dispose",Ni),Ui(e),Ie.info.memory.textures--},Fi=function(t){var e=t.target;e.removeEventListener("dispose",Fi),Wi(e)},Gi=function(t){for(var e=["__webglVertexBuffer","__webglNormalBuffer","__webglTangentBuffer","__webglColorBuffer","__webglUVBuffer","__webglUV2Buffer","__webglSkinIndicesBuffer","__webglSkinWeightsBuffer","__webglFaceBuffer","__webglLineBuffer","__webglLineDistanceBuffer"],i=0,r=e.length;r>i;i++){var o=e[i];void 0!==t[o]&&(He.deleteBuffer(t[o]),delete t[o])}if(void 0!==t.__webglCustomAttributesList){for(var o in t.__webglCustomAttributesList)He.deleteBuffer(t.__webglCustomAttributesList[o].buffer);delete t.__webglCustomAttributesList}Ie.info.memory.geometries--},zi=function(t){if(delete t.__webglInit,t instanceof THREE.BufferGeometry){for(var e in t.attributes){var i=t.attributes[e];void 0!==i.buffer&&(He.deleteBuffer(i.buffer),delete i.buffer)}Ie.info.memory.geometries--}else{var r=Xi[t.id];if(void 0!==r){for(var o=0,n=r.length;n>o;o++){var a=r[o];if(void 0!==a.numMorphTargets){for(var s=0,l=a.numMorphTargets;l>s;s++)He.deleteBuffer(a.__webglMorphTargetsBuffers[s]);delete a.__webglMorphTargetsBuffers}if(void 0!==a.numMorphNormals){for(var s=0,l=a.numMorphNormals;l>s;s++)He.deleteBuffer(a.__webglMorphNormalsBuffers[s]);delete a.__webglMorphNormalsBuffers}Gi(a)}delete Xi[t.id]}else Gi(t)}Ge=-1},ji=function(t){if(t.image&&t.image.__webglTextureCube)He.deleteTexture(t.image.__webglTextureCube),delete t.image.__webglTextureCube;else{if(void 0===t.__webglInit)return;He.deleteTexture(t.__webglTexture),delete t.__webglTexture,delete t.__webglInit}},Ui=function(t){if(t&&void 0!==t.__webglTexture){if(He.deleteTexture(t.__webglTexture),delete t.__webglTexture,t instanceof THREE.WebGLRenderTargetCube)for(var e=0;6>e;e++)He.deleteFramebuffer(t.__webglFramebuffer[e]),He.deleteRenderbuffer(t.__webglRenderbuffer[e]);else He.deleteFramebuffer(t.__webglFramebuffer),He.deleteRenderbuffer(t.__webglRenderbuffer);delete t.__webglFramebuffer,delete t.__webglRenderbuffer}},Wi=function(t){var e=t.program.program;if(void 0!==e){t.program=void 0;var i,r,o,n=!1;for(i=0,r=Oe.length;r>i;i++)if(o=Oe[i],o.program===e){o.usedTimes--,0===o.usedTimes&&(n=!0);break}if(n===!0){var a=[];for(i=0,r=Oe.length;r>i;i++)o=Oe[i],o.program!==e&&a.push(o);Oe=a,He.deleteProgram(e),Ie.info.memory.programs--}}};this.renderBufferImmediate=function(t,e,i){if(m(),t.hasPositions&&!t.__webglVertexBuffer&&(t.__webglVertexBuffer=He.createBuffer()),t.hasNormals&&!t.__webglNormalBuffer&&(t.__webglNormalBuffer=He.createBuffer()),t.hasUvs&&!t.__webglUvBuffer&&(t.__webglUvBuffer=He.createBuffer()),t.hasColors&&!t.__webglColorBuffer&&(t.__webglColorBuffer=He.createBuffer()),t.hasPositions&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglVertexBuffer),He.bufferData(He.ARRAY_BUFFER,t.positionArray,He.DYNAMIC_DRAW),g(e.attributes.position),He.vertexAttribPointer(e.attributes.position,3,He.FLOAT,!1,0,0)),t.hasNormals){if(He.bindBuffer(He.ARRAY_BUFFER,t.__webglNormalBuffer),i.shading===THREE.FlatShading){var r,o,n,a,s,l,c,h,d,u,p,f,_,b,v=3*t.count;for(b=0;v>b;b+=9)_=t.normalArray,a=_[b],c=_[b+1],u=_[b+2],s=_[b+3],h=_[b+4],p=_[b+5],l=_[b+6],d=_[b+7],f=_[b+8],r=(a+s+l)/3,o=(c+h+d)/3,n=(u+p+f)/3,_[b]=r,_[b+1]=o,_[b+2]=n,_[b+3]=r,_[b+4]=o,_[b+5]=n,_[b+6]=r,_[b+7]=o,_[b+8]=n}He.bufferData(He.ARRAY_BUFFER,t.normalArray,He.DYNAMIC_DRAW),g(e.attributes.normal),He.vertexAttribPointer(e.attributes.normal,3,He.FLOAT,!1,0,0)}t.hasUvs&&i.map&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglUvBuffer),He.bufferData(He.ARRAY_BUFFER,t.uvArray,He.DYNAMIC_DRAW),g(e.attributes.uv),He.vertexAttribPointer(e.attributes.uv,2,He.FLOAT,!1,0,0)),t.hasColors&&i.vertexColors!==THREE.NoColors&&(He.bindBuffer(He.ARRAY_BUFFER,t.__webglColorBuffer),He.bufferData(He.ARRAY_BUFFER,t.colorArray,He.DYNAMIC_DRAW),g(e.attributes.color),He.vertexAttribPointer(e.attributes.color,3,He.FLOAT,!1,0,0)),y(),He.drawArrays(He.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,r,o,n){if(r.visible!==!1){var a=J(t,e,i,r,n),s=!1,l=r.wireframe?1:0,c=16777215*o.id+2*a.id+l;if(c!==Ge&&(Ge=c,s=!0),s&&m(),n instanceof THREE.Mesh){var h=r.wireframe===!0?He.LINES:He.TRIANGLES,d=o.attributes.index;if(d){var u,p;d.array instanceof Uint32Array&&vi.get("OES_element_index_uint")?(u=He.UNSIGNED_INT,p=4):(u=He.UNSIGNED_SHORT,p=2);var f=o.offsets;if(0===f.length)s&&(_(r,a,o,0),He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,d.buffer)),He.drawElements(h,d.array.length,u,0),Ie.info.render.calls++,Ie.info.render.vertices+=d.array.length,Ie.info.render.faces+=d.array.length/3;else{s=!0;for(var g=0,y=f.length;y>g;g++){var b=f[g].index;s&&(_(r,a,o,b),He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,d.buffer)),He.drawElements(h,f[g].count,u,f[g].start*p),Ie.info.render.calls++,Ie.info.render.vertices+=f[g].count,Ie.info.render.faces+=f[g].count/3}}}else{s&&_(r,a,o,0);var v=o.attributes.position;He.drawArrays(h,0,v.array.length/3),Ie.info.render.calls++,Ie.info.render.vertices+=v.array.length/3,Ie.info.render.faces+=v.array.length/9}}else if(n instanceof THREE.PointCloud){s&&_(r,a,o,0);var v=o.attributes.position;He.drawArrays(He.POINTS,0,v.array.length/3),Ie.info.render.calls++,Ie.info.render.points+=v.array.length/3}else if(n instanceof THREE.Line){var h=n.mode===THREE.LineStrip?He.LINE_STRIP:He.LINES;re(r.linewidth);var d=o.attributes.index;if(d){var u,p;d.array instanceof Uint32Array?(u=He.UNSIGNED_INT,p=4):(u=He.UNSIGNED_SHORT,p=2);var f=o.offsets;if(0===f.length)s&&(_(r,a,o,0),He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,d.buffer)),He.drawElements(h,d.array.length,u,0),Ie.info.render.calls++,Ie.info.render.vertices+=d.array.length;else{f.length>1&&(s=!0);for(var g=0,y=f.length;y>g;g++){var b=f[g].index;s&&(_(r,a,o,b),He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,d.buffer)),He.drawElements(h,f[g].count,u,f[g].start*p),Ie.info.render.calls++,Ie.info.render.vertices+=f[g].count}}}else{s&&_(r,a,o,0);var v=o.attributes.position;He.drawArrays(h,0,v.array.length/3),Ie.info.render.calls++,Ie.info.render.points+=v.array.length/3}}}},this.renderBuffer=function(t,e,i,r,o,n){if(r.visible!==!1){var a=J(t,e,i,r,n),s=a.attributes,l=!1,c=r.wireframe?1:0,h=16777215*o.id+2*a.id+c;if(h!==Ge&&(Ge=h,l=!0),l&&m(),!r.morphTargets&&s.position>=0?l&&(He.bindBuffer(He.ARRAY_BUFFER,o.__webglVertexBuffer),g(s.position),He.vertexAttribPointer(s.position,3,He.FLOAT,!1,0,0)):n.morphTargetBase&&b(r,o,n),l){if(o.__webglCustomAttributesList)for(var d=0,u=o.__webglCustomAttributesList.length;u>d;d++){var p=o.__webglCustomAttributesList[d];s[p.buffer.belongsToAttribute]>=0&&(He.bindBuffer(He.ARRAY_BUFFER,p.buffer),g(s[p.buffer.belongsToAttribute]),He.vertexAttribPointer(s[p.buffer.belongsToAttribute],p.size,He.FLOAT,!1,0,0))}s.color>=0&&(n.geometry.colors.length>0||n.geometry.faces.length>0?(He.bindBuffer(He.ARRAY_BUFFER,o.__webglColorBuffer),g(s.color),He.vertexAttribPointer(s.color,3,He.FLOAT,!1,0,0)):void 0!==r.defaultAttributeValues&&He.vertexAttrib3fv(s.color,r.defaultAttributeValues.color)),s.normal>=0&&(He.bindBuffer(He.ARRAY_BUFFER,o.__webglNormalBuffer),g(s.normal),He.vertexAttribPointer(s.normal,3,He.FLOAT,!1,0,0)),s.tangent>=0&&(He.bindBuffer(He.ARRAY_BUFFER,o.__webglTangentBuffer),g(s.tangent),He.vertexAttribPointer(s.tangent,4,He.FLOAT,!1,0,0)),s.uv>=0&&(n.geometry.faceVertexUvs[0]?(He.bindBuffer(He.ARRAY_BUFFER,o.__webglUVBuffer),g(s.uv),He.vertexAttribPointer(s.uv,2,He.FLOAT,!1,0,0)):void 0!==r.defaultAttributeValues&&He.vertexAttrib2fv(s.uv,r.defaultAttributeValues.uv)),s.uv2>=0&&(n.geometry.faceVertexUvs[1]?(He.bindBuffer(He.ARRAY_BUFFER,o.__webglUV2Buffer),g(s.uv2),He.vertexAttribPointer(s.uv2,2,He.FLOAT,!1,0,0)):void 0!==r.defaultAttributeValues&&He.vertexAttrib2fv(s.uv2,r.defaultAttributeValues.uv2)),r.skinning&&s.skinIndex>=0&&s.skinWeight>=0&&(He.bindBuffer(He.ARRAY_BUFFER,o.__webglSkinIndicesBuffer),g(s.skinIndex),He.vertexAttribPointer(s.skinIndex,4,He.FLOAT,!1,0,0),He.bindBuffer(He.ARRAY_BUFFER,o.__webglSkinWeightsBuffer),g(s.skinWeight),He.vertexAttribPointer(s.skinWeight,4,He.FLOAT,!1,0,0)),s.lineDistance>=0&&(He.bindBuffer(He.ARRAY_BUFFER,o.__webglLineDistanceBuffer),g(s.lineDistance),He.vertexAttribPointer(s.lineDistance,1,He.FLOAT,!1,0,0))}if(y(),n instanceof THREE.Mesh){var f=o.__typeArray===Uint32Array?He.UNSIGNED_INT:He.UNSIGNED_SHORT;r.wireframe?(re(r.wireframeLinewidth),l&&He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,o.__webglLineBuffer),He.drawElements(He.LINES,o.__webglLineCount,f,0)):(l&&He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,o.__webglFaceBuffer),He.drawElements(He.TRIANGLES,o.__webglFaceCount,f,0)),Ie.info.render.calls++,Ie.info.render.vertices+=o.__webglFaceCount,Ie.info.render.faces+=o.__webglFaceCount/3}else if(n instanceof THREE.Line){var _=n.mode===THREE.LineStrip?He.LINE_STRIP:He.LINES;re(r.linewidth),He.drawArrays(_,0,o.__webglLineCount),Ie.info.render.calls++}else n instanceof THREE.PointCloud&&(He.drawArrays(He.POINTS,0,o.__webglParticleCount),Ie.info.render.calls++,Ie.info.render.points+=o.__webglParticleCount)}},this.render=function(t,e,i,r){if(e instanceof THREE.Camera==!1)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");var o=t.fog;Ge=-1,Fe=-1,ze=null,mi=!0,t.autoUpdate===!0&&t.updateMatrixWorld(),void 0===e.parent&&e.updateMatrixWorld(),t.traverse(function(t){t instanceof THREE.SkinnedMesh&&t.skeleton.update()}),e.matrixWorldInverse.getInverse(e.matrixWorld),ui.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),di.setFromMatrix(ui),Re.length=0,Be.length=0,Ve.length=0,Le.length=0,ke.length=0,x(t,t),Ie.sortObjects===!0&&(Be.sort(v),Ve.sort(M)),Li.render(t,e),Ie.info.render.calls=0,Ie.info.render.vertices=0,Ie.info.render.faces=0,Ie.info.render.points=0,this.setRenderTarget(i),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);for(var n=0,a=Pe.length;a>n;n++){var s=Pe[n],l=s.object;l.visible&&($(l,e),C(s))}if(t.overrideMaterial){var c=t.overrideMaterial;this.setBlending(c.blending,c.blendEquation,c.blendSrc,c.blendDst),this.setDepthTest(c.depthTest),this.setDepthWrite(c.depthWrite),oe(c.polygonOffset,c.polygonOffsetFactor,c.polygonOffsetUnits),T(Be,e,Re,o,!0,c),T(Ve,e,Re,o,!0,c),E(Pe,"",e,Re,o,!1,c)}else{var c=null;this.setBlending(THREE.NoBlending),T(Be,e,Re,o,!1,c),E(Pe,"opaque",e,Re,o,!1,c),T(Ve,e,Re,o,!0,c),E(Pe,"transparent",e,Re,o,!0,c)}ki.render(t,e),Hi.render(t,e,si,li),i&&i.generateMipmaps&&i.minFilter!==THREE.NearestFilter&&i.minFilter!==THREE.LinearFilter&&de(i),this.setDepthTest(!0),this.setDepthWrite(!0)},this.renderImmediateObject=function(t,e,i,r,o){var n=J(t,e,i,r,o);Ge=-1,Ie.setMaterialFaces(r),o.immediateRenderCallback?o.immediateRenderCallback(n,He,di):o.render(function(t){Ie.renderBufferImmediate(t,n,r)})};var Xi={},qi=0;this.setFaceCulling=function(t,e){t===THREE.CullFaceNone?He.disable(He.CULL_FACE):(He.frontFace(e===THREE.FrontFaceDirectionCW?He.CW:He.CCW),He.cullFace(t===THREE.CullFaceBack?He.BACK:t===THREE.CullFaceFront?He.FRONT:He.FRONT_AND_BACK),He.enable(He.CULL_FACE))},this.setMaterialFaces=function(t){var e=t.side===THREE.DoubleSide,i=t.side===THREE.BackSide;Ue!==e&&(e?He.disable(He.CULL_FACE):He.enable(He.CULL_FACE),Ue=e),We!==i&&(He.frontFace(i?He.CW:He.CCW),We=i)},this.setDepthTest=function(t){Qe!==t&&(t?He.enable(He.DEPTH_TEST):He.disable(He.DEPTH_TEST),Qe=t)},this.setDepthWrite=function(t){Ze!==t&&(He.depthMask(t),Ze=t)},this.setBlending=function(t,e,i,r){t!==Xe&&(t===THREE.NoBlending?He.disable(He.BLEND):t===THREE.AdditiveBlending?(He.enable(He.BLEND),He.blendEquation(He.FUNC_ADD),He.blendFunc(He.SRC_ALPHA,He.ONE)):t===THREE.SubtractiveBlending?(He.enable(He.BLEND),He.blendEquation(He.FUNC_ADD),He.blendFunc(He.ZERO,He.ONE_MINUS_SRC_COLOR)):t===THREE.MultiplyBlending?(He.enable(He.BLEND),He.blendEquation(He.FUNC_ADD),He.blendFunc(He.ZERO,He.SRC_COLOR)):t===THREE.CustomBlending?He.enable(He.BLEND):(He.enable(He.BLEND),He.blendEquationSeparate(He.FUNC_ADD,He.FUNC_ADD),He.blendFuncSeparate(He.SRC_ALPHA,He.ONE_MINUS_SRC_ALPHA,He.ONE,He.ONE_MINUS_SRC_ALPHA)),Xe=t),t===THREE.CustomBlending?(e!==qe&&(He.blendEquation(pe(e)),qe=e),(i!==Ke||r!==Ye)&&(He.blendFunc(pe(i),pe(r)),Ke=i,Ye=r)):(qe=null,Ke=null,Ye=null)},this.uploadTexture=function(t){void 0===t.__webglInit&&(t.__webglInit=!0,t.addEventListener("dispose",Ji),t.__webglTexture=He.createTexture(),Ie.info.memory.textures++),He.bindTexture(He.TEXTURE_2D,t.__webglTexture),He.pixelStorei(He.UNPACK_FLIP_Y_WEBGL,t.flipY),He.pixelStorei(He.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),He.pixelStorei(He.UNPACK_ALIGNMENT,t.unpackAlignment),t.image=ae(t.image,xi);var e=t.image,i=THREE.Math.isPowerOfTwo(e.width)&&THREE.Math.isPowerOfTwo(e.height),r=pe(t.format),o=pe(t.type);ne(He.TEXTURE_2D,t,i);var n,a=t.mipmaps;if(t instanceof THREE.DataTexture)if(a.length>0&&i){for(var s=0,l=a.length;l>s;s++)n=a[s],He.texImage2D(He.TEXTURE_2D,s,r,n.width,n.height,0,r,o,n.data);t.generateMipmaps=!1}else He.texImage2D(He.TEXTURE_2D,0,r,e.width,e.height,0,r,o,e.data);else if(t instanceof THREE.CompressedTexture)for(var s=0,l=a.length;l>s;s++)n=a[s],t.format!==THREE.RGBAFormat&&t.format!==THREE.RGBFormat?Pi().indexOf(r)>-1?He.compressedTexImage2D(He.TEXTURE_2D,s,r,n.width,n.height,0,n.data):console.warn("Attempt to load unsupported compressed texture format"):He.texImage2D(He.TEXTURE_2D,s,r,n.width,n.height,0,r,o,n.data);else if(a.length>0&&i){for(var s=0,l=a.length;l>s;s++)n=a[s],He.texImage2D(He.TEXTURE_2D,s,r,r,o,n);t.generateMipmaps=!1}else He.texImage2D(He.TEXTURE_2D,0,r,r,o,t.image);t.generateMipmaps&&i&&He.generateMipmap(He.TEXTURE_2D),t.needsUpdate=!1,t.onUpdate&&t.onUpdate()},this.setTexture=function(t,e){He.activeTexture(He.TEXTURE0+e),t.needsUpdate?Ie.uploadTexture(t):He.bindTexture(He.TEXTURE_2D,t.__webglTexture)},this.setRenderTarget=function(t){var e=t instanceof THREE.WebGLRenderTargetCube;if(t&&void 0===t.__webglFramebuffer){void 0===t.depthBuffer&&(t.depthBuffer=!0),void 0===t.stencilBuffer&&(t.stencilBuffer=!0),t.addEventListener("dispose",Ni),t.__webglTexture=He.createTexture(),Ie.info.memory.textures++;var i=THREE.Math.isPowerOfTwo(t.width)&&THREE.Math.isPowerOfTwo(t.height),r=pe(t.format),o=pe(t.type);if(e){t.__webglFramebuffer=[],t.__webglRenderbuffer=[],He.bindTexture(He.TEXTURE_CUBE_MAP,t.__webglTexture),ne(He.TEXTURE_CUBE_MAP,t,i);for(var n=0;6>n;n++)t.__webglFramebuffer[n]=He.createFramebuffer(),t.__webglRenderbuffer[n]=He.createRenderbuffer(),He.texImage2D(He.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,r,t.width,t.height,0,r,o,null),ce(t.__webglFramebuffer[n],t,He.TEXTURE_CUBE_MAP_POSITIVE_X+n),he(t.__webglRenderbuffer[n],t);i&&He.generateMipmap(He.TEXTURE_CUBE_MAP)}else t.__webglFramebuffer=He.createFramebuffer(),t.__webglRenderbuffer=t.shareDepthFrom?t.shareDepthFrom.__webglRenderbuffer:He.createRenderbuffer(),He.bindTexture(He.TEXTURE_2D,t.__webglTexture),ne(He.TEXTURE_2D,t,i),He.texImage2D(He.TEXTURE_2D,0,r,t.width,t.height,0,r,o,null),ce(t.__webglFramebuffer,t,He.TEXTURE_2D),t.shareDepthFrom?t.depthBuffer&&!t.stencilBuffer?He.framebufferRenderbuffer(He.FRAMEBUFFER,He.DEPTH_ATTACHMENT,He.RENDERBUFFER,t.__webglRenderbuffer):t.depthBuffer&&t.stencilBuffer&&He.framebufferRenderbuffer(He.FRAMEBUFFER,He.DEPTH_STENCIL_ATTACHMENT,He.RENDERBUFFER,t.__webglRenderbuffer):he(t.__webglRenderbuffer,t),i&&He.generateMipmap(He.TEXTURE_2D);
e?He.bindTexture(He.TEXTURE_CUBE_MAP,null):He.bindTexture(He.TEXTURE_2D,null),He.bindRenderbuffer(He.RENDERBUFFER,null),He.bindFramebuffer(He.FRAMEBUFFER,null)}var a,s,l,c,h;t?(a=e?t.__webglFramebuffer[t.activeCubeFace]:t.__webglFramebuffer,s=t.width,l=t.height,c=0,h=0):(a=null,s=ni,l=ai,c=ri,h=oi),a!==Ne&&(He.bindFramebuffer(He.FRAMEBUFFER,a),He.viewport(c,h,s,l),Ne=a),si=s,li=l},this.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},this.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},this.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},this.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}},THREE.WebGLRenderTarget=function(t,e,i){this.width=t,this.height=e,i=i||{},this.wrapS=void 0!==i.wrapS?i.wrapS:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==i.wrapT?i.wrapT:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==i.magFilter?i.magFilter:THREE.LinearFilter,this.minFilter=void 0!==i.minFilter?i.minFilter:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.format=void 0!==i.format?i.format:THREE.RGBAFormat,this.type=void 0!==i.type?i.type:THREE.UnsignedByteType,this.depthBuffer=void 0!==i.depthBuffer?i.depthBuffer:!0,this.stencilBuffer=void 0!==i.stencilBuffer?i.stencilBuffer:!0,this.generateMipmaps=!0,this.shareDepthFrom=null},THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,setSize:function(t,e){this.width=t,this.height=e},clone:function(){var t=new THREE.WebGLRenderTarget(this.width,this.height);return t.wrapS=this.wrapS,t.wrapT=this.wrapT,t.magFilter=this.magFilter,t.minFilter=this.minFilter,t.anisotropy=this.anisotropy,t.offset.copy(this.offset),t.repeat.copy(this.repeat),t.format=this.format,t.type=this.type,t.depthBuffer=this.depthBuffer,t.stencilBuffer=this.stencilBuffer,t.generateMipmaps=this.generateMipmaps,t.shareDepthFrom=this.shareDepthFrom,t},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype),THREE.WebGLRenderTargetCube=function(t,e,i){THREE.WebGLRenderTarget.call(this,t,e,i),this.activeCubeFace=0},THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype),THREE.WebGLExtensions=function(t){var e={};this.get=function(i){if(void 0!==e[i])return e[i];var r;switch(i){case"OES_texture_float":r=t.getExtension("OES_texture_float");break;case"OES_texture_float_linear":r=t.getExtension("OES_texture_float_linear");break;case"OES_standard_derivatives":r=t.getExtension("OES_standard_derivatives");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"OES_element_index_uint":r=t.getExtension("OES_element_index_uint");break;case"EXT_blend_minmax":r=t.getExtension("EXT_blend_minmax");break;case"EXT_frag_depth":r=t.getExtension("EXT_frag_depth")}return null===r&&console.log("THREE.WebGLRenderer: "+i+" extension not supported."),e[i]=r,r}},THREE.WebGLProgram=function(){var t=0,e=function(t){var e,i,r=[];for(var o in t)e=t[o],e!==!1&&(i="#define "+o+" "+e,r.push(i));return r.join("\n")},i=function(t,e,i){for(var r={},o=0,n=i.length;n>o;o++){var a=i[o];r[a]=t.getUniformLocation(e,a)}return r},r=function(t,e,i){for(var r={},o=0,n=i.length;n>o;o++){var a=i[o];r[a]=t.getAttribLocation(e,a)}return r};return function(o,n,a,s){var l=o,c=l.context,h=a.defines,d=a.__webglShader.uniforms,u=a.attributes,p=a.__webglShader.vertexShader,f=a.__webglShader.fragmentShader,_=a.index0AttributeName;void 0===_&&s.morphTargets===!0&&(_="position");var m="SHADOWMAP_TYPE_BASIC";s.shadowMapType===THREE.PCFShadowMap?m="SHADOWMAP_TYPE_PCF":s.shadowMapType===THREE.PCFSoftShadowMap&&(m="SHADOWMAP_TYPE_PCF_SOFT");var g,y,b=e(h),v=c.createProgram();a instanceof THREE.RawShaderMaterial?(g="",y=""):(g=["precision "+s.precision+" float;","precision "+s.precision+" int;",b,s.supportsVertexTextures?"#define VERTEX_TEXTURES":"",l.gammaInput?"#define GAMMA_INPUT":"",l.gammaOutput?"#define GAMMA_OUTPUT":"","#define MAX_DIR_LIGHTS "+s.maxDirLights,"#define MAX_POINT_LIGHTS "+s.maxPointLights,"#define MAX_SPOT_LIGHTS "+s.maxSpotLights,"#define MAX_HEMI_LIGHTS "+s.maxHemiLights,"#define MAX_SHADOWS "+s.maxShadows,"#define MAX_BONES "+s.maxBones,s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.lightMap?"#define USE_LIGHTMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.skinning?"#define USE_SKINNING":"",s.useVertexTexture?"#define BONE_TEXTURE":"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals?"#define USE_MORPHNORMALS":"",s.wrapAround?"#define WRAP_AROUND":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+m:"",s.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",s.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","attribute vec2 uv2;","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",""].join("\n"),y=["precision "+s.precision+" float;","precision "+s.precision+" int;",s.bumpMap||s.normalMap?"#extension GL_OES_standard_derivatives : enable":"",b,"#define MAX_DIR_LIGHTS "+s.maxDirLights,"#define MAX_POINT_LIGHTS "+s.maxPointLights,"#define MAX_SPOT_LIGHTS "+s.maxSpotLights,"#define MAX_HEMI_LIGHTS "+s.maxHemiLights,"#define MAX_SHADOWS "+s.maxShadows,s.alphaTest?"#define ALPHATEST "+s.alphaTest:"",l.gammaInput?"#define GAMMA_INPUT":"",l.gammaOutput?"#define GAMMA_OUTPUT":"",s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.lightMap?"#define USE_LIGHTMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.metal?"#define METAL":"",s.wrapAround?"#define WRAP_AROUND":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+m:"",s.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",s.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",""].join("\n"));var M=new THREE.WebGLShader(c,c.VERTEX_SHADER,g+p),S=new THREE.WebGLShader(c,c.FRAGMENT_SHADER,y+f);c.attachShader(v,M),c.attachShader(v,S),void 0!==_&&c.bindAttribLocation(v,0,_),c.linkProgram(v),c.getProgramParameter(v,c.LINK_STATUS)===!1&&(console.error("THREE.WebGLProgram: Could not initialise shader."),console.error("gl.VALIDATE_STATUS",c.getProgramParameter(v,c.VALIDATE_STATUS)),console.error("gl.getError()",c.getError())),""!==c.getProgramInfoLog(v)&&console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",c.getProgramInfoLog(v)),c.deleteShader(M),c.deleteShader(S);var x=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","modelMatrix","cameraPosition","morphTargetInfluences","bindMatrix","bindMatrixInverse"];s.useVertexTexture?(x.push("boneTexture"),x.push("boneTextureWidth"),x.push("boneTextureHeight")):x.push("boneGlobalMatrices"),s.logarithmicDepthBuffer&&x.push("logDepthBufFC");for(var T in d)x.push(T);this.uniforms=i(c,v,x),x=["position","normal","uv","uv2","tangent","color","skinIndex","skinWeight","lineDistance"];for(var E=0;E<s.maxMorphTargets;E++)x.push("morphTarget"+E);for(var E=0;E<s.maxMorphNormals;E++)x.push("morphNormal"+E);for(var C in u)x.push(C);return this.attributes=r(c,v,x),this.attributesKeys=Object.keys(this.attributes),this.id=t++,this.code=n,this.usedTimes=1,this.program=v,this.vertexShader=M,this.fragmentShader=S,this}}(),THREE.WebGLShader=function(){var t=function(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];return e.join("\n")};return function(e,i,r){var o=e.createShader(i);return e.shaderSource(o,r),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(o)&&(console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e.getShaderInfoLog(o)),console.warn(t(r))),o}}(),THREE.LensFlarePlugin=function(t,e){function i(e){var i=d.createProgram(),r=d.createShader(d.FRAGMENT_SHADER),o=d.createShader(d.VERTEX_SHADER),n="precision "+t.getPrecision()+" float;\n";return d.shaderSource(r,n+e.fragmentShader),d.shaderSource(o,n+e.vertexShader),d.compileShader(r),d.compileShader(o),d.attachShader(i,r),d.attachShader(i,o),d.linkProgram(i),i}var r,o,n,a,s,l,c,h,d=t.context,u=function(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);r=d.createBuffer(),o=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,r),d.bufferData(d.ARRAY_BUFFER,t,d.STATIC_DRAW),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,o),d.bufferData(d.ELEMENT_ARRAY_BUFFER,e,d.STATIC_DRAW),c=d.createTexture(),h=d.createTexture(),d.bindTexture(d.TEXTURE_2D,c),d.texImage2D(d.TEXTURE_2D,0,d.RGB,16,16,0,d.RGB,d.UNSIGNED_BYTE,null),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.bindTexture(d.TEXTURE_2D,h),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,16,16,0,d.RGBA,d.UNSIGNED_BYTE,null),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),l=d.getParameter(d.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;var u;u=l?{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},n=i(u),a={vertex:d.getAttribLocation(n,"position"),uv:d.getAttribLocation(n,"uv")},s={renderType:d.getUniformLocation(n,"renderType"),map:d.getUniformLocation(n,"map"),occlusionMap:d.getUniformLocation(n,"occlusionMap"),opacity:d.getUniformLocation(n,"opacity"),color:d.getUniformLocation(n,"color"),scale:d.getUniformLocation(n,"scale"),rotation:d.getUniformLocation(n,"rotation"),screenPosition:d.getUniformLocation(n,"screenPosition")}};this.render=function(i,p,f,_){if(0!==e.length){var m=new THREE.Vector3,g=_/f,y=.5*f,b=.5*_,v=16/_,M=new THREE.Vector2(v*g,v),S=new THREE.Vector3(1,1,0),x=new THREE.Vector2(1,1);void 0===n&&u(),d.useProgram(n),d.enableVertexAttribArray(a.vertex),d.enableVertexAttribArray(a.uv),d.uniform1i(s.occlusionMap,0),d.uniform1i(s.map,1),d.bindBuffer(d.ARRAY_BUFFER,r),d.vertexAttribPointer(a.vertex,2,d.FLOAT,!1,16,0),d.vertexAttribPointer(a.uv,2,d.FLOAT,!1,16,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,o),d.disable(d.CULL_FACE),d.depthMask(!1);for(var T=0,E=e.length;E>T;T++){v=16/_,M.set(v*g,v);var C=e[T];if(m.set(C.matrixWorld.elements[12],C.matrixWorld.elements[13],C.matrixWorld.elements[14]),m.applyMatrix4(p.matrixWorldInverse),m.applyProjection(p.projectionMatrix),S.copy(m),x.x=S.x*y+y,x.y=S.y*b+b,l||x.x>0&&x.x<f&&x.y>0&&x.y<_){d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,c),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGB,x.x-8,x.y-8,16,16,0),d.uniform1i(s.renderType,0),d.uniform2f(s.scale,M.x,M.y),d.uniform3f(s.screenPosition,S.x,S.y,S.z),d.disable(d.BLEND),d.enable(d.DEPTH_TEST),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,h),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,x.x-8,x.y-8,16,16,0),d.uniform1i(s.renderType,1),d.disable(d.DEPTH_TEST),d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,c),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0),C.positionScreen.copy(S),C.customUpdateCallback?C.customUpdateCallback(C):C.updateLensFlares(),d.uniform1i(s.renderType,2),d.enable(d.BLEND);for(var A=0,w=C.lensFlares.length;w>A;A++){var R=C.lensFlares[A];R.opacity>.001&&R.scale>.001&&(S.x=R.x,S.y=R.y,S.z=R.z,v=R.size*R.scale/_,M.x=v*g,M.y=v,d.uniform3f(s.screenPosition,S.x,S.y,S.z),d.uniform2f(s.scale,M.x,M.y),d.uniform1f(s.rotation,R.rotation),d.uniform1f(s.opacity,R.opacity),d.uniform3f(s.color,R.color.r,R.color.g,R.color.b),t.setBlending(R.blending,R.blendEquation,R.blendSrc,R.blendDst),t.setTexture(R.texture,1),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0))}}}d.enable(d.CULL_FACE),d.enable(d.DEPTH_TEST),d.depthMask(!0),t.resetGLState()}}},THREE.ShadowMapPlugin=function(t,e,i,r){function o(t,e,r){if(e.visible){var n=i[e.id];if(n&&e.castShadow&&(e.frustumCulled===!1||f.intersectsObject(e)===!0))for(var a=0,s=n.length;s>a;a++){var l=n[a];e._modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),b.push(l)}for(var a=0,s=e.children.length;s>a;a++)o(t,e.children[a],r)}}function n(t,e){var i=new THREE.DirectionalLight;i.isVirtual=!0,i.onlyShadow=!0,i.castShadow=!0,i.shadowCameraNear=t.shadowCameraNear,i.shadowCameraFar=t.shadowCameraFar,i.shadowCameraLeft=t.shadowCameraLeft,i.shadowCameraRight=t.shadowCameraRight,i.shadowCameraBottom=t.shadowCameraBottom,i.shadowCameraTop=t.shadowCameraTop,i.shadowCameraVisible=t.shadowCameraVisible,i.shadowDarkness=t.shadowDarkness,i.shadowBias=t.shadowCascadeBias[e],i.shadowMapWidth=t.shadowCascadeWidth[e],i.shadowMapHeight=t.shadowCascadeHeight[e],i.pointsWorld=[],i.pointsFrustum=[];for(var r=i.pointsWorld,o=i.pointsFrustum,n=0;8>n;n++)r[n]=new THREE.Vector3,o[n]=new THREE.Vector3;var a=t.shadowCascadeNearZ[e],s=t.shadowCascadeFarZ[e];return o[0].set(-1,-1,a),o[1].set(1,-1,a),o[2].set(-1,1,a),o[3].set(1,1,a),o[4].set(-1,-1,s),o[5].set(1,-1,s),o[6].set(-1,1,s),o[7].set(1,1,s),i}function a(t,e){var i=t.shadowCascadeArray[e];i.position.copy(t.position),i.target.position.copy(t.target.position),i.lookAt(i.target),i.shadowCameraVisible=t.shadowCameraVisible,i.shadowDarkness=t.shadowDarkness,i.shadowBias=t.shadowCascadeBias[e];var r=t.shadowCascadeNearZ[e],o=t.shadowCascadeFarZ[e],n=i.pointsFrustum;n[0].z=r,n[1].z=r,n[2].z=r,n[3].z=r,n[4].z=o,n[5].z=o,n[6].z=o,n[7].z=o}function s(t,e){var i=e.shadowCamera,r=e.pointsFrustum,o=e.pointsWorld;m.set(1/0,1/0,1/0),g.set(-1/0,-1/0,-1/0);for(var n=0;8>n;n++){var a=o[n];a.copy(r[n]),a.unproject(t),a.applyMatrix4(i.matrixWorldInverse),a.x<m.x&&(m.x=a.x),a.x>g.x&&(g.x=a.x),a.y<m.y&&(m.y=a.y),a.y>g.y&&(g.y=a.y),a.z<m.z&&(m.z=a.z),a.z>g.z&&(g.z=a.z)}i.left=m.x,i.right=g.x,i.top=g.y,i.bottom=m.y,i.updateProjectionMatrix()}function l(t){return t.material instanceof THREE.MeshFaceMaterial?t.material.materials[0]:t.material}var c,h,d,u,p=t.context,f=new THREE.Frustum,_=new THREE.Matrix4,m=new THREE.Vector3,g=new THREE.Vector3,y=new THREE.Vector3,b=[],v=THREE.ShaderLib.depthRGBA,M=THREE.UniformsUtils.clone(v.uniforms);c=new THREE.ShaderMaterial({uniforms:M,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader}),h=new THREE.ShaderMaterial({uniforms:M,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader,morphTargets:!0}),d=new THREE.ShaderMaterial({uniforms:M,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader,skinning:!0}),u=new THREE.ShaderMaterial({uniforms:M,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader,morphTargets:!0,skinning:!0}),c._shadowPass=!0,h._shadowPass=!0,d._shadowPass=!0,u._shadowPass=!0,this.render=function(i,m){if(t.shadowMapEnabled!==!1){var g,v,M,S,x,T,E,C,A,w,R,D,P,B=[],V=0,L=null;for(p.clearColor(1,1,1,1),p.disable(p.BLEND),p.enable(p.CULL_FACE),p.frontFace(p.CCW),p.cullFace(t.shadowMapCullFace===THREE.CullFaceFront?p.FRONT:p.BACK),t.setDepthTest(!0),g=0,v=e.length;v>g;g++)if(P=e[g],P.castShadow)if(P instanceof THREE.DirectionalLight&&P.shadowCascade)for(x=0;x<P.shadowCascadeCount;x++){var k;if(P.shadowCascadeArray[x])k=P.shadowCascadeArray[x];else{k=n(P,x),k.originalCamera=m;var H=new THREE.Gyroscope;H.position.copy(P.shadowCascadeOffset),H.add(k),H.add(k.target),m.add(H),P.shadowCascadeArray[x]=k,console.log("Created virtualLight",k)}a(P,x),B[V]=k,V++}else B[V]=P,V++;for(g=0,v=B.length;v>g;g++){if(P=B[g],!P.shadowMap){var I=THREE.LinearFilter;t.shadowMapType===THREE.PCFSoftShadowMap&&(I=THREE.NearestFilter);var O={minFilter:I,magFilter:I,format:THREE.RGBAFormat};P.shadowMap=new THREE.WebGLRenderTarget(P.shadowMapWidth,P.shadowMapHeight,O),P.shadowMapSize=new THREE.Vector2(P.shadowMapWidth,P.shadowMapHeight),P.shadowMatrix=new THREE.Matrix4}if(!P.shadowCamera){if(P instanceof THREE.SpotLight)P.shadowCamera=new THREE.PerspectiveCamera(P.shadowCameraFov,P.shadowMapWidth/P.shadowMapHeight,P.shadowCameraNear,P.shadowCameraFar);else{if(!(P instanceof THREE.DirectionalLight)){console.error("Unsupported light type for shadow");continue}P.shadowCamera=new THREE.OrthographicCamera(P.shadowCameraLeft,P.shadowCameraRight,P.shadowCameraTop,P.shadowCameraBottom,P.shadowCameraNear,P.shadowCameraFar)}i.add(P.shadowCamera),i.autoUpdate===!0&&i.updateMatrixWorld()}P.shadowCameraVisible&&!P.cameraHelper&&(P.cameraHelper=new THREE.CameraHelper(P.shadowCamera),i.add(P.cameraHelper)),P.isVirtual&&k.originalCamera==m&&s(m,P),T=P.shadowMap,E=P.shadowMatrix,C=P.shadowCamera,C.position.setFromMatrixPosition(P.matrixWorld),y.setFromMatrixPosition(P.target.matrixWorld),C.lookAt(y),C.updateMatrixWorld(),C.matrixWorldInverse.getInverse(C.matrixWorld),P.cameraHelper&&(P.cameraHelper.visible=P.shadowCameraVisible),P.shadowCameraVisible&&P.cameraHelper.update(),E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),E.multiply(C.projectionMatrix),E.multiply(C.matrixWorldInverse),_.multiplyMatrices(C.projectionMatrix,C.matrixWorldInverse),f.setFromMatrix(_),t.setRenderTarget(T),t.clear(),b.length=0,o(i,i,C);var J,N,F;for(M=0,S=b.length;S>M;M++)R=b[M],D=R.object,A=R.buffer,J=l(D),N=void 0!==D.geometry.morphTargets&&D.geometry.morphTargets.length>0&&J.morphTargets,F=D instanceof THREE.SkinnedMesh&&J.skinning,w=D.customDepthMaterial?D.customDepthMaterial:F?N?u:d:N?h:c,t.setMaterialFaces(J),A instanceof THREE.BufferGeometry?t.renderBufferDirect(C,e,L,w,A,D):t.renderBuffer(C,e,L,w,A,D);for(M=0,S=r.length;S>M;M++)R=r[M],D=R.object,D.visible&&D.castShadow&&(D._modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,D.matrixWorld),t.renderImmediateObject(C,e,L,c,D))}var G=t.getClearColor(),z=t.getClearAlpha();p.clearColor(G.r,G.g,G.b,z),p.enable(p.BLEND),t.shadowMapCullFace===THREE.CullFaceFront&&p.cullFace(p.BACK),t.resetGLState()}}},THREE.SpritePlugin=function(t,e){function i(){var e=h.createProgram(),i=h.createShader(h.VERTEX_SHADER),r=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(i,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),h.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),h.compileShader(i),h.compileShader(r),h.attachShader(e,i),h.attachShader(e,r),h.linkProgram(e),e}function r(t,e){return t.z!==e.z?e.z-t.z:e.id-t.id}var o,n,a,s,l,c,h=t.context,d=function(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);o=h.createBuffer(),n=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,o),h.bufferData(h.ARRAY_BUFFER,t,h.STATIC_DRAW),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,n),h.bufferData(h.ELEMENT_ARRAY_BUFFER,e,h.STATIC_DRAW),a=i(),s={position:h.getAttribLocation(a,"position"),uv:h.getAttribLocation(a,"uv")},l={uvOffset:h.getUniformLocation(a,"uvOffset"),uvScale:h.getUniformLocation(a,"uvScale"),rotation:h.getUniformLocation(a,"rotation"),scale:h.getUniformLocation(a,"scale"),color:h.getUniformLocation(a,"color"),map:h.getUniformLocation(a,"map"),opacity:h.getUniformLocation(a,"opacity"),modelViewMatrix:h.getUniformLocation(a,"modelViewMatrix"),projectionMatrix:h.getUniformLocation(a,"projectionMatrix"),fogType:h.getUniformLocation(a,"fogType"),fogDensity:h.getUniformLocation(a,"fogDensity"),fogNear:h.getUniformLocation(a,"fogNear"),fogFar:h.getUniformLocation(a,"fogFar"),fogColor:h.getUniformLocation(a,"fogColor"),alphaTest:h.getUniformLocation(a,"alphaTest")};var r=document.createElement("canvas");r.width=8,r.height=8;var d=r.getContext("2d");d.fillStyle="white",d.fillRect(0,0,8,8),c=new THREE.Texture(r),c.needsUpdate=!0};this.render=function(i,u){if(0!==e.length){void 0===a&&d(),h.useProgram(a),h.enableVertexAttribArray(s.position),h.enableVertexAttribArray(s.uv),h.disable(h.CULL_FACE),h.enable(h.BLEND),h.bindBuffer(h.ARRAY_BUFFER,o),h.vertexAttribPointer(s.position,2,h.FLOAT,!1,16,0),h.vertexAttribPointer(s.uv,2,h.FLOAT,!1,16,8),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,n),h.uniformMatrix4fv(l.projectionMatrix,!1,u.projectionMatrix.elements),h.activeTexture(h.TEXTURE0),h.uniform1i(l.map,0);var p=0,f=0,_=i.fog;_?(h.uniform3f(l.fogColor,_.color.r,_.color.g,_.color.b),_ instanceof THREE.Fog?(h.uniform1f(l.fogNear,_.near),h.uniform1f(l.fogFar,_.far),h.uniform1i(l.fogType,1),p=1,f=1):_ instanceof THREE.FogExp2&&(h.uniform1f(l.fogDensity,_.density),h.uniform1i(l.fogType,2),p=2,f=2)):(h.uniform1i(l.fogType,0),p=0,f=0);for(var m=0,g=e.length;g>m;m++){var y=e[m];y._modelViewMatrix.multiplyMatrices(u.matrixWorldInverse,y.matrixWorld),y.z=null===y.renderDepth?-y._modelViewMatrix.elements[14]:y.renderDepth}e.sort(r);for(var b=[],m=0,g=e.length;g>m;m++){var y=e[m],v=y.material;h.uniform1f(l.alphaTest,v.alphaTest),h.uniformMatrix4fv(l.modelViewMatrix,!1,y._modelViewMatrix.elements),b[0]=y.scale.x,b[1]=y.scale.y;var M=0;i.fog&&v.fog&&(M=f),p!==M&&(h.uniform1i(l.fogType,M),p=M),null!==v.map?(h.uniform2f(l.uvOffset,v.map.offset.x,v.map.offset.y),h.uniform2f(l.uvScale,v.map.repeat.x,v.map.repeat.y)):(h.uniform2f(l.uvOffset,0,0),h.uniform2f(l.uvScale,1,1)),h.uniform1f(l.opacity,v.opacity),h.uniform3f(l.color,v.color.r,v.color.g,v.color.b),h.uniform1f(l.rotation,v.rotation),h.uniform2fv(l.scale,b),t.setBlending(v.blending,v.blendEquation,v.blendSrc,v.blendDst),t.setDepthTest(v.depthTest),t.setDepthWrite(v.depthWrite),v.map&&v.map.image&&v.map.image.width?t.setTexture(v.map,0):t.setTexture(c,0),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0)}h.enable(h.CULL_FACE),t.resetGLState()}}},THREE.GeometryUtils={merge:function(t,e,i){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;e instanceof THREE.Mesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,i)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},THREE.ImageUtils={crossOrigin:void 0,loadTexture:function(t,e,i,r){var o=new THREE.ImageLoader;o.crossOrigin=this.crossOrigin;var n=new THREE.Texture(void 0,e);return o.load(t,function(t){n.image=t,n.needsUpdate=!0,i&&i(n)},void 0,function(t){r&&r(t)}),n.sourceFile=t,n},loadTextureCube:function(t,e,i){var r=[],o=new THREE.ImageLoader;o.crossOrigin=this.crossOrigin;var n=new THREE.CubeTexture(r,e);n.flipY=!1;for(var a=0,s=function(e){o.load(t[e],function(t){n.images[e]=t,a+=1,6===a&&(n.needsUpdate=!0,i&&i(n))})},l=0,c=t.length;c>l;++l)s(l);return n},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},getNormalMap:function(t,e){var i=function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},r=function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]},o=function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return[t[0]/e,t[1]/e,t[2]/e]};e=1|e;var n=t.width,a=t.height,s=document.createElement("canvas");s.width=n,s.height=a;var l=s.getContext("2d");l.drawImage(t,0,0);for(var c=l.getImageData(0,0,n,a).data,h=l.createImageData(n,a),d=h.data,u=0;n>u;u++)for(var p=0;a>p;p++){var f=0>p-1?0:p-1,_=p+1>a-1?a-1:p+1,m=0>u-1?0:u-1,g=u+1>n-1?n-1:u+1,y=[],b=[0,0,c[4*(p*n+u)]/255*e];y.push([-1,0,c[4*(p*n+m)]/255*e]),y.push([-1,-1,c[4*(f*n+m)]/255*e]),y.push([0,-1,c[4*(f*n+u)]/255*e]),y.push([1,-1,c[4*(f*n+g)]/255*e]),y.push([1,0,c[4*(p*n+g)]/255*e]),y.push([1,1,c[4*(_*n+g)]/255*e]),y.push([0,1,c[4*(_*n+u)]/255*e]),y.push([-1,1,c[4*(_*n+m)]/255*e]);for(var v=[],M=y.length,S=0;M>S;S++){var x=y[S],T=y[(S+1)%M];x=r(x,b),T=r(T,b),v.push(o(i(x,T)))}for(var E=[0,0,0],S=0;S<v.length;S++)E[0]+=v[S][0],E[1]+=v[S][1],E[2]+=v[S][2];E[0]/=v.length,E[1]/=v.length,E[2]/=v.length;var C=4*(p*n+u);d[C]=(E[0]+1)/2*255|0,d[C+1]=(E[1]+1)/2*255|0,d[C+2]=255*E[2]|0,d[C+3]=255}return l.putImageData(h,0,0),s},generateDataTexture:function(t,e,i){for(var r=t*e,o=new Uint8Array(3*r),n=Math.floor(255*i.r),a=Math.floor(255*i.g),s=Math.floor(255*i.b),l=0;r>l;l++)o[3*l]=n,o[3*l+1]=a,o[3*l+2]=s;var c=new THREE.DataTexture(o,t,e,THREE.RGBFormat);return c.needsUpdate=!0,c}},THREE.SceneUtils={createMultiMaterialObject:function(t,e){for(var i=new THREE.Object3D,r=0,o=e.length;o>r;r++)i.add(new THREE.Mesh(t,e[r]));return i},detach:function(t,e,i){t.applyMatrix(e.matrixWorld),e.remove(t),i.add(t)},attach:function(t,e,i){var r=new THREE.Matrix4;r.getInverse(i.matrixWorld),t.applyMatrix(r),e.remove(t),i.add(t)}},THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){try{return this.faces[this.face][this.weight][this.style]}catch(t){throw"The font "+this.face+" with "+this.weight+" weight and "+this.style+" style is missing."}},loadFace:function(t){var e=t.familyName.toLowerCase(),i=this;i.faces[e]=i.faces[e]||{},i.faces[e][t.cssFontWeight]=i.faces[e][t.cssFontWeight]||{},i.faces[e][t.cssFontWeight][t.cssFontStyle]=t;i.faces[e][t.cssFontWeight][t.cssFontStyle]=t;return t},drawText:function(t){var e,i=this.getFace(),r=this.size/i.resolution,o=0,n=String(t).split(""),a=n.length,s=[];for(e=0;a>e;e++){var l=new THREE.Path,c=this.extractGlyphPoints(n[e],i,r,o,l);o+=c.offset,s.push(c.path)}var h=o/2;return{paths:s,offset:h}},extractGlyphPoints:function(t,e,i,r,o){var n,a,s,l,c,h,d,u,p,f,_,m,g,y,b,v,M,S,x,T=[],E=e.glyphs[t]||e.glyphs["?"];
if(E){if(E.o)for(l=E._cachedOutline||(E._cachedOutline=E.o.split(" ")),h=l.length,d=i,u=i,n=0;h>n;)switch(c=l[n++]){case"m":p=l[n++]*d+r,f=l[n++]*u,o.moveTo(p,f);break;case"l":p=l[n++]*d+r,f=l[n++]*u,o.lineTo(p,f);break;case"q":if(_=l[n++]*d+r,m=l[n++]*u,b=l[n++]*d+r,v=l[n++]*u,o.quadraticCurveTo(b,v,_,m),x=T[T.length-1])for(g=x.x,y=x.y,a=1,s=this.divisions;s>=a;a++){var C=a/s;THREE.Shape.Utils.b2(C,g,b,_),THREE.Shape.Utils.b2(C,y,v,m)}break;case"b":if(_=l[n++]*d+r,m=l[n++]*u,b=l[n++]*d+r,v=l[n++]*u,M=l[n++]*d+r,S=l[n++]*u,o.bezierCurveTo(b,v,M,S,_,m),x=T[T.length-1])for(g=x.x,y=x.y,a=1,s=this.divisions;s>=a;a++){var C=a/s;THREE.Shape.Utils.b3(C,g,b,M,_),THREE.Shape.Utils.b3(C,y,v,S,m)}}return{offset:E.ha*i,path:o}}}},THREE.FontUtils.generateShapes=function(t,e){e=e||{};var i=void 0!==e.size?e.size:100,r=void 0!==e.curveSegments?e.curveSegments:4,o=void 0!==e.font?e.font:"helvetiker",n=void 0!==e.weight?e.weight:"normal",a=void 0!==e.style?e.style:"normal";THREE.FontUtils.size=i,THREE.FontUtils.divisions=r,THREE.FontUtils.face=o,THREE.FontUtils.weight=n,THREE.FontUtils.style=a;for(var s=THREE.FontUtils.drawText(t),l=s.paths,c=[],h=0,d=l.length;d>h;h++)Array.prototype.push.apply(c,l[h].toShapes());return c},function(t){var e=1e-10,i=function(t,e){var i=t.length;if(3>i)return null;var n,a,s,l=[],c=[],h=[];if(r(t)>0)for(a=0;i>a;a++)c[a]=a;else for(a=0;i>a;a++)c[a]=i-1-a;var d=i,u=2*d;for(a=d-1;d>2;){if(u--<=0)return console.log("Warning, unable to triangulate polygon!"),e?h:l;if(n=a,n>=d&&(n=0),a=n+1,a>=d&&(a=0),s=a+1,s>=d&&(s=0),o(t,n,a,s,d,c)){var p,f,_,m,g;for(p=c[n],f=c[a],_=c[s],l.push([t[p],t[f],t[_]]),h.push([c[n],c[a],c[s]]),m=a,g=a+1;d>g;m++,g++)c[m]=c[g];d--,u=2*d}}return e?h:l},r=function(t){for(var e=t.length,i=0,r=e-1,o=0;e>o;r=o++)i+=t[r].x*t[o].y-t[o].x*t[r].y;return.5*i},o=function(t,i,r,o,n,a){var s,l,c,h,d,u,p,f,_;if(l=t[a[i]].x,c=t[a[i]].y,h=t[a[r]].x,d=t[a[r]].y,u=t[a[o]].x,p=t[a[o]].y,e>(h-l)*(p-c)-(d-c)*(u-l))return!1;var m,g,y,b,v,M,S,x,T,E,C,A,w,R,D;for(m=u-h,g=p-d,y=l-u,b=c-p,v=h-l,M=d-c,s=0;n>s;s++)if(f=t[a[s]].x,_=t[a[s]].y,!(f===l&&_===c||f===h&&_===d||f===u&&_===p)&&(S=f-l,x=_-c,T=f-h,E=_-d,C=f-u,A=_-p,D=m*E-g*T,w=v*x-M*S,R=y*A-b*C,D>=-e&&R>=-e&&w>=-e))return!1;return!0};return t.Triangulate=i,t.Triangulate.area=r,t}(THREE.FontUtils),self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace},THREE.typeface_js=self._typeface_js,THREE.Audio=function(t){THREE.Object3D.call(this),this.type="Audio",this.context=t.context,this.source=this.context.createBufferSource(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.panner=this.context.createPanner(),this.panner.connect(this.gain)},THREE.Audio.prototype=Object.create(THREE.Object3D.prototype),THREE.Audio.prototype.load=function(t){var e=this,i=new XMLHttpRequest;return i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){e.context.decodeAudioData(this.response,function(t){e.source.buffer=t,e.source.connect(e.panner),e.source.start(0)})},i.send(),this},THREE.Audio.prototype.setLoop=function(t){this.source.loop=t},THREE.Audio.prototype.setRefDistance=function(t){this.panner.refDistance=t},THREE.Audio.prototype.setRolloffFactor=function(t){this.panner.rolloffFactor=t},THREE.Audio.prototype.updateMatrixWorld=function(){var t=new THREE.Vector3;return function(e){THREE.Object3D.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}(),THREE.AudioListener=function(){THREE.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext)},THREE.AudioListener.prototype=Object.create(THREE.Object3D.prototype),THREE.AudioListener.prototype.updateMatrixWorld=function(){var t=new THREE.Vector3,e=new THREE.Quaternion,i=new THREE.Vector3,r=new THREE.Vector3,o=new THREE.Vector3,n=new THREE.Vector3;return function(a){THREE.Object3D.prototype.updateMatrixWorld.call(this,a);var s=this.context.listener;this.matrixWorld.decompose(t,e,i),r.set(0,0,-1).applyQuaternion(e),o.subVectors(t,n),s.setPosition(t.x,t.y,t.z),s.setOrientation(r.x,r.y,r.z,this.up.x,this.up.y,this.up.z),s.setVelocity(o.x,o.y,o.z),n.copy(t)}}(),THREE.Curve=function(){},THREE.Curve.prototype.getPoint=function(){return console.log("Warning, getPoint() not implemented!"),null},THREE.Curve.prototype.getPointAt=function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},THREE.Curve.prototype.getPoints=function(t){t||(t=5);var e,i=[];for(e=0;t>=e;e++)i.push(this.getPoint(e/t));return i},THREE.Curve.prototype.getSpacedPoints=function(t){t||(t=5);var e,i=[];for(e=0;t>=e;e++)i.push(this.getPointAt(e/t));return i},THREE.Curve.prototype.getLength=function(){var t=this.getLengths();return t[t.length-1]},THREE.Curve.prototype.getLengths=function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length==t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,r=[],o=this.getPoint(0),n=0;for(r.push(0),i=1;t>=i;i++)e=this.getPoint(i/t),n+=e.distanceTo(o),r.push(n),o=e;return this.cacheArcLengths=r,r},THREE.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.getLengths()},THREE.Curve.prototype.getUtoTmapping=function(t,e){var i,r=this.getLengths(),o=0,n=r.length;i=e?e:t*r[n-1];for(var a,s=0,l=n-1;l>=s;)if(o=Math.floor(s+(l-s)/2),a=r[o]-i,0>a)s=o+1;else{if(!(a>0)){l=o;break}l=o-1}if(o=l,r[o]==i){var c=o/(n-1);return c}var h=r[o],d=r[o+1],u=d-h,p=(i-h)/u,c=(o+p)/(n-1);return c},THREE.Curve.prototype.getTangent=function(t){var e=1e-4,i=t-e,r=t+e;0>i&&(i=0),r>1&&(r=1);var o=this.getPoint(i),n=this.getPoint(r),a=n.clone().sub(o);return a.normalize()},THREE.Curve.prototype.getTangentAt=function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},THREE.Curve.Utils={tangentQuadraticBezier:function(t,e,i,r){return 2*(1-t)*(i-e)+2*t*(r-i)},tangentCubicBezier:function(t,e,i,r,o){return-3*e*(1-t)*(1-t)+3*i*(1-t)*(1-t)-6*t*i*(1-t)+6*t*r*(1-t)-3*t*t*r+3*t*t*o},tangentSpline:function(t){var e=6*t*t-6*t,i=3*t*t-4*t+1,r=-6*t*t+6*t,o=3*t*t-2*t;return e+i+r+o},interpolate:function(t,e,i,r,o){var n=.5*(i-t),a=.5*(r-e),s=o*o,l=o*s;return(2*e-2*i+n+a)*l+(-3*e+3*i-2*n-a)*s+n*o+e}},THREE.Curve.create=function(t,e){return t.prototype=Object.create(THREE.Curve.prototype),t.prototype.getPoint=e,t},THREE.CurvePath=function(){this.curves=[],this.bends=[],this.autoClose=!1},THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype),THREE.CurvePath.prototype.add=function(t){this.curves.push(t)},THREE.CurvePath.prototype.checkConnection=function(){},THREE.CurvePath.prototype.closePath=function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new THREE.LineCurve(e,t))},THREE.CurvePath.prototype.getPoint=function(t){for(var e,i,r=t*this.getLength(),o=this.getCurveLengths(),n=0;n<o.length;){if(o[n]>=r){e=o[n]-r,i=this.curves[n];var a=1-e/i.getLength();return i.getPointAt(a)}n++}return null},THREE.CurvePath.prototype.getLength=function(){var t=this.getCurveLengths();return t[t.length-1]},THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var t,e=[],i=0,r=this.curves.length;for(t=0;r>t;t++)i+=this.curves[t].getLength(),e.push(i);return this.cacheLengths=e,e},THREE.CurvePath.prototype.getBoundingBox=function(){var t,e,i,r,o,n,a=this.getPoints();t=e=Number.NEGATIVE_INFINITY,r=o=Number.POSITIVE_INFINITY;var s,l,c,h,d=a[0]instanceof THREE.Vector3;for(h=d?new THREE.Vector3:new THREE.Vector2,l=0,c=a.length;c>l;l++)s=a[l],s.x>t?t=s.x:s.x<r&&(r=s.x),s.y>e?e=s.y:s.y<o&&(o=s.y),d&&(s.z>i?i=s.z:s.z<n&&(n=s.z)),h.add(s);var u={minX:r,minY:o,maxX:t,maxY:e};return d&&(u.maxZ=i,u.minZ=n),u},THREE.CurvePath.prototype.createPointsGeometry=function(t){var e=this.getPoints(t,!0);return this.createGeometry(e)},THREE.CurvePath.prototype.createSpacedPointsGeometry=function(t){var e=this.getSpacedPoints(t,!0);return this.createGeometry(e)},THREE.CurvePath.prototype.createGeometry=function(t){for(var e=new THREE.Geometry,i=0;i<t.length;i++)e.vertices.push(new THREE.Vector3(t[i].x,t[i].y,t[i].z||0));return e},THREE.CurvePath.prototype.addWrapPath=function(t){this.bends.push(t)},THREE.CurvePath.prototype.getTransformedPoints=function(t,e){var i,r,o=this.getPoints(t);for(e||(e=this.bends),i=0,r=e.length;r>i;i++)o=this.getWrapPoints(o,e[i]);return o},THREE.CurvePath.prototype.getTransformedSpacedPoints=function(t,e){var i,r,o=this.getSpacedPoints(t);for(e||(e=this.bends),i=0,r=e.length;r>i;i++)o=this.getWrapPoints(o,e[i]);return o},THREE.CurvePath.prototype.getWrapPoints=function(t,e){var i,r,o,n,a,s,l=this.getBoundingBox();for(i=0,r=t.length;r>i;i++){o=t[i],n=o.x,a=o.y,s=n/l.maxX,s=e.getUtoTmapping(s,n);var c=e.getPoint(s),h=e.getTangent(s);h.set(-h.y,h.x).multiplyScalar(a),o.x=c.x+h.x,o.y=c.y+h.y}return t},THREE.Gyroscope=function(){THREE.Object3D.call(this)},THREE.Gyroscope.prototype=Object.create(THREE.Object3D.prototype),THREE.Gyroscope.prototype.updateMatrixWorld=function(){var t=new THREE.Vector3,e=new THREE.Quaternion,i=new THREE.Vector3,r=new THREE.Vector3,o=new THREE.Quaternion,n=new THREE.Vector3;return function(a){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||a)&&(this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(r,o,n),this.matrix.decompose(t,e,i),this.matrixWorld.compose(r,e,n)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0);for(var s=0,l=this.children.length;l>s;s++)this.children[s].updateMatrixWorld(a)}}(),THREE.Path=function(t){THREE.CurvePath.call(this),this.actions=[],t&&this.fromPoints(t)},THREE.Path.prototype=Object.create(THREE.CurvePath.prototype),THREE.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"},THREE.Path.prototype.fromPoints=function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;i>e;e++)this.lineTo(t[e].x,t[e].y)},THREE.Path.prototype.moveTo=function(){var t=Array.prototype.slice.call(arguments);this.actions.push({action:THREE.PathActions.MOVE_TO,args:t})},THREE.Path.prototype.lineTo=function(t,e){var i=Array.prototype.slice.call(arguments),r=this.actions[this.actions.length-1].args,o=r[r.length-2],n=r[r.length-1],a=new THREE.LineCurve(new THREE.Vector2(o,n),new THREE.Vector2(t,e));this.curves.push(a),this.actions.push({action:THREE.PathActions.LINE_TO,args:i})},THREE.Path.prototype.quadraticCurveTo=function(t,e,i,r){var o=Array.prototype.slice.call(arguments),n=this.actions[this.actions.length-1].args,a=n[n.length-2],s=n[n.length-1],l=new THREE.QuadraticBezierCurve(new THREE.Vector2(a,s),new THREE.Vector2(t,e),new THREE.Vector2(i,r));this.curves.push(l),this.actions.push({action:THREE.PathActions.QUADRATIC_CURVE_TO,args:o})},THREE.Path.prototype.bezierCurveTo=function(t,e,i,r,o,n){var a=Array.prototype.slice.call(arguments),s=this.actions[this.actions.length-1].args,l=s[s.length-2],c=s[s.length-1],h=new THREE.CubicBezierCurve(new THREE.Vector2(l,c),new THREE.Vector2(t,e),new THREE.Vector2(i,r),new THREE.Vector2(o,n));this.curves.push(h),this.actions.push({action:THREE.PathActions.BEZIER_CURVE_TO,args:a})},THREE.Path.prototype.splineThru=function(t){var e=Array.prototype.slice.call(arguments),i=this.actions[this.actions.length-1].args,r=i[i.length-2],o=i[i.length-1],n=[new THREE.Vector2(r,o)];Array.prototype.push.apply(n,t);var a=new THREE.SplineCurve(n);this.curves.push(a),this.actions.push({action:THREE.PathActions.CSPLINE_THRU,args:e})},THREE.Path.prototype.arc=function(t,e,i,r,o,n){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],l=a[a.length-1];this.absarc(t+s,e+l,i,r,o,n)},THREE.Path.prototype.absarc=function(t,e,i,r,o,n){this.absellipse(t,e,i,i,r,o,n)},THREE.Path.prototype.ellipse=function(t,e,i,r,o,n,a){var s=this.actions[this.actions.length-1].args,l=s[s.length-2],c=s[s.length-1];this.absellipse(t+l,e+c,i,r,o,n,a)},THREE.Path.prototype.absellipse=function(t,e,i,r,o,n,a){var s=Array.prototype.slice.call(arguments),l=new THREE.EllipseCurve(t,e,i,r,o,n,a);this.curves.push(l);var c=l.getPoint(1);s.push(c.x),s.push(c.y),this.actions.push({action:THREE.PathActions.ELLIPSE,args:s})},THREE.Path.prototype.getSpacedPoints=function(t){t||(t=40);for(var e=[],i=0;t>i;i++)e.push(this.getPoint(i/t));return e},THREE.Path.prototype.getPoints=function(t,e){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(t,e);t=t||12;var i,r,o,n,a,s,l,c,h,d,u,p,f,_,m,g,y,b,v=[];for(i=0,r=this.actions.length;r>i;i++)switch(o=this.actions[i],n=o.action,a=o.args,n){case THREE.PathActions.MOVE_TO:v.push(new THREE.Vector2(a[0],a[1]));break;case THREE.PathActions.LINE_TO:v.push(new THREE.Vector2(a[0],a[1]));break;case THREE.PathActions.QUADRATIC_CURVE_TO:for(s=a[2],l=a[3],d=a[0],u=a[1],v.length>0?(_=v[v.length-1],p=_.x,f=_.y):(_=this.actions[i-1].args,p=_[_.length-2],f=_[_.length-1]),m=1;t>=m;m++)g=m/t,y=THREE.Shape.Utils.b2(g,p,d,s),b=THREE.Shape.Utils.b2(g,f,u,l),v.push(new THREE.Vector2(y,b));break;case THREE.PathActions.BEZIER_CURVE_TO:for(s=a[4],l=a[5],d=a[0],u=a[1],c=a[2],h=a[3],v.length>0?(_=v[v.length-1],p=_.x,f=_.y):(_=this.actions[i-1].args,p=_[_.length-2],f=_[_.length-1]),m=1;t>=m;m++)g=m/t,y=THREE.Shape.Utils.b3(g,p,d,c,s),b=THREE.Shape.Utils.b3(g,f,u,h,l),v.push(new THREE.Vector2(y,b));break;case THREE.PathActions.CSPLINE_THRU:_=this.actions[i-1].args;var M=new THREE.Vector2(_[_.length-2],_[_.length-1]),S=[M],x=t*a[0].length;S=S.concat(a[0]);var T=new THREE.SplineCurve(S);for(m=1;x>=m;m++)v.push(T.getPointAt(m/x));break;case THREE.PathActions.ARC:var E,C=a[0],A=a[1],w=a[2],R=a[3],D=a[4],P=!!a[5],B=D-R,V=2*t;for(m=1;V>=m;m++)g=m/V,P||(g=1-g),E=R+g*B,y=C+w*Math.cos(E),b=A+w*Math.sin(E),v.push(new THREE.Vector2(y,b));break;case THREE.PathActions.ELLIPSE:var E,C=a[0],A=a[1],L=a[2],k=a[3],R=a[4],D=a[5],P=!!a[6],B=D-R,V=2*t;for(m=1;V>=m;m++)g=m/V,P||(g=1-g),E=R+g*B,y=C+L*Math.cos(E),b=A+k*Math.sin(E),v.push(new THREE.Vector2(y,b))}var H=v[v.length-1],I=1e-10;return Math.abs(H.x-v[0].x)<I&&Math.abs(H.y-v[0].y)<I&&v.splice(v.length-1,1),e&&v.push(v[0]),v},THREE.Path.prototype.toShapes=function(t,e){function i(t){var e,i,r,o,n,a=[],s=new THREE.Path;for(e=0,i=t.length;i>e;e++)r=t[e],n=r.args,o=r.action,o==THREE.PathActions.MOVE_TO&&0!=s.actions.length&&(a.push(s),s=new THREE.Path),s[o].apply(s,n);return 0!=s.actions.length&&a.push(s),a}function r(t){for(var e=[],i=0,r=t.length;r>i;i++){var o=t[i],n=new THREE.Shape;n.actions=o.actions,n.curves=o.curves,e.push(n)}return e}function o(t,e){for(var i=1e-10,r=e.length,o=!1,n=r-1,a=0;r>a;n=a++){var s=e[n],l=e[a],c=l.x-s.x,h=l.y-s.y;if(Math.abs(h)>i){if(0>h&&(s=e[a],c=-c,l=e[n],h=-h),t.y<s.y||t.y>l.y)continue;if(t.y==s.y){if(t.x==s.x)return!0}else{var d=h*(t.x-s.x)-c*(t.y-s.y);if(0==d)return!0;if(0>d)continue;o=!o}}else{if(t.y!=s.y)continue;if(l.x<=t.x&&t.x<=s.x||s.x<=t.x&&t.x<=l.x)return!0}}return o}var n=i(this.actions);if(0==n.length)return[];if(e===!0)return r(n);var a,s,l,c=[];if(1==n.length)return s=n[0],l=new THREE.Shape,l.actions=s.actions,l.curves=s.curves,c.push(l),c;var h=!THREE.Shape.Utils.isClockWise(n[0].getPoints());h=t?!h:h;var d,u=[],p=[],f=[],_=0;p[_]=void 0,f[_]=[];var m,g;for(m=0,g=n.length;g>m;m++)s=n[m],d=s.getPoints(),a=THREE.Shape.Utils.isClockWise(d),a=t?!a:a,a?(!h&&p[_]&&_++,p[_]={s:new THREE.Shape,p:d},p[_].s.actions=s.actions,p[_].s.curves=s.curves,h&&_++,f[_]=[]):f[_].push({h:s,p:d[0]});if(!p[0])return r(n);if(p.length>1){for(var y=!1,b=[],v=0,M=p.length;M>v;v++)u[v]=[];for(var v=0,M=p.length;M>v;v++)for(var S=(p[v],f[v]),x=0;x<S.length;x++){for(var T=S[x],E=!0,C=0;C<p.length;C++)o(T.p,p[C].p)&&(v!=C&&b.push({froms:v,tos:C,hole:x}),E?(E=!1,u[C].push(T)):y=!0);E&&u[v].push(T)}b.length>0&&(y||(f=u))}var A,w,R;for(m=0,g=p.length;g>m;m++)for(l=p[m].s,c.push(l),A=f[m],w=0,R=A.length;R>w;w++)l.holes.push(A[w].h);return c},THREE.Shape=function(){THREE.Path.apply(this,arguments),this.holes=[]},THREE.Shape.prototype=Object.create(THREE.Path.prototype),THREE.Shape.prototype.extrude=function(t){var e=new THREE.ExtrudeGeometry(this,t);return e},THREE.Shape.prototype.makeGeometry=function(t){var e=new THREE.ShapeGeometry(this,t);return e},THREE.Shape.prototype.getPointsHoles=function(t){var e,i=this.holes.length,r=[];for(e=0;i>e;e++)r[e]=this.holes[e].getTransformedPoints(t,this.bends);return r},THREE.Shape.prototype.getSpacedPointsHoles=function(t){var e,i=this.holes.length,r=[];for(e=0;i>e;e++)r[e]=this.holes[e].getTransformedSpacedPoints(t,this.bends);return r},THREE.Shape.prototype.extractAllPoints=function(t){return{shape:this.getTransformedPoints(t),holes:this.getPointsHoles(t)}},THREE.Shape.prototype.extractPoints=function(t){return this.useSpacedPoints?this.extractAllSpacedPoints(t):this.extractAllPoints(t)},THREE.Shape.prototype.extractAllSpacedPoints=function(t){return{shape:this.getTransformedSpacedPoints(t),holes:this.getSpacedPointsHoles(t)}},THREE.Shape.Utils={triangulateShape:function(t,e){function i(t,e,i){return t.x!=e.x?t.x<e.x?t.x<=i.x&&i.x<=e.x:e.x<=i.x&&i.x<=t.x:t.y<e.y?t.y<=i.y&&i.y<=e.y:e.y<=i.y&&i.y<=t.y}function r(t,e,r,o,n){var a=1e-10,s=e.x-t.x,l=e.y-t.y,c=o.x-r.x,h=o.y-r.y,d=t.x-r.x,u=t.y-r.y,p=l*c-s*h,f=l*d-s*u;if(Math.abs(p)>a){var _;if(p>0){if(0>f||f>p)return[];if(_=h*d-c*u,0>_||_>p)return[]}else{if(f>0||p>f)return[];if(_=h*d-c*u,_>0||p>_)return[]}if(0==_)return!n||0!=f&&f!=p?[t]:[];if(_==p)return!n||0!=f&&f!=p?[e]:[];if(0==f)return[r];if(f==p)return[o];var m=_/p;return[{x:t.x+m*s,y:t.y+m*l}]}if(0!=f||h*d!=c*u)return[];var g=0==s&&0==l,y=0==c&&0==h;if(g&&y)return t.x!=r.x||t.y!=r.y?[]:[t];if(g)return i(r,o,t)?[t]:[];if(y)return i(t,e,r)?[r]:[];var b,v,M,S,x,T,E,C;return 0!=s?(t.x<e.x?(b=t,M=t.x,v=e,S=e.x):(b=e,M=e.x,v=t,S=t.x),r.x<o.x?(x=r,E=r.x,T=o,C=o.x):(x=o,E=o.x,T=r,C=r.x)):(t.y<e.y?(b=t,M=t.y,v=e,S=e.y):(b=e,M=e.y,v=t,S=t.y),r.y<o.y?(x=r,E=r.y,T=o,C=o.y):(x=o,E=o.y,T=r,C=r.y)),E>=M?E>S?[]:S==E?n?[]:[x]:C>=S?[x,v]:[x,T]:M>C?[]:M==C?n?[]:[b]:C>=S?[b,v]:[b,T]}function o(t,e,i,r){var o=1e-10,n=e.x-t.x,a=e.y-t.y,s=i.x-t.x,l=i.y-t.y,c=r.x-t.x,h=r.y-t.y,d=n*l-a*s,u=n*h-a*c;if(Math.abs(d)>o){var p=c*l-h*s;return d>0?u>=0&&p>=0:u>=0||p>=0}return u>0}function n(t,e){function i(t,e){var i=y.length-1,r=t-1;0>r&&(r=i);var n=t+1;n>i&&(n=0);var a=o(y[t],y[r],y[n],s[e]);if(!a)return!1;var l=s.length-1,c=e-1;0>c&&(c=l);var h=e+1;return h>l&&(h=0),a=o(s[e],s[c],s[h],y[t]),a?!0:!1}function n(t,e){var i,o,n;for(i=0;i<y.length;i++)if(o=i+1,o%=y.length,n=r(t,e,y[i],y[o],!0),n.length>0)return!0;return!1}function a(t,i){var o,n,a,s,l;for(o=0;o<b.length;o++)for(n=e[b[o]],a=0;a<n.length;a++)if(s=a+1,s%=n.length,l=r(t,i,n[a],n[s],!0),l.length>0)return!0;return!1}for(var s,l,c,h,d,u,p,f,_,m,g,y=t.concat(),b=[],v=[],M=0,S=e.length;S>M;M++)b.push(M);for(var x=0,T=2*b.length;b.length>0;){if(T--,0>T){console.log("Infinite Loop! Holes left:"+b.length+", Probably Hole outside Shape!");break}for(c=x;c<y.length;c++){h=y[c],l=-1;for(var M=0;M<b.length;M++)if(u=b[M],p=h.x+":"+h.y+":"+u,void 0===v[p]){s=e[u];for(var E=0;E<s.length;E++)if(d=s[E],i(c,E)&&!n(h,d)&&!a(h,d)){l=E,b.splice(M,1),f=y.slice(0,c+1),_=y.slice(c),m=s.slice(l),g=s.slice(0,l+1),y=f.concat(m).concat(g).concat(_),x=c;break}if(l>=0)break;v[p]=!0}if(l>=0)break}}return y}for(var a,s,l,c={},h=t.concat(),d=0,u=e.length;u>d;d++)Array.prototype.push.apply(h,e[d]);for(a=0,s=h.length;s>a;a++)l=h[a].x+":"+h[a].y,void 0!==c[l]&&console.log("Duplicate point",l),c[l]=a;var p=n(t,e),f=THREE.FontUtils.Triangulate(p,!1);return f},isClockWise:function(t){return THREE.FontUtils.Triangulate.area(t)<0},b2p0:function(t,e){var i=1-t;return i*i*e},b2p1:function(t,e){return 2*(1-t)*t*e},b2p2:function(t,e){return t*t*e},b2:function(t,e,i,r){return this.b2p0(t,e)+this.b2p1(t,i)+this.b2p2(t,r)},b3p0:function(t,e){var i=1-t;return i*i*i*e},b3p1:function(t,e){var i=1-t;return 3*i*i*t*e},b3p2:function(t,e){var i=1-t;return 3*i*t*t*e},b3p3:function(t,e){return t*t*t*e},b3:function(t,e,i,r,o){return this.b3p0(t,e)+this.b3p1(t,i)+this.b3p2(t,r)+this.b3p3(t,o)}},THREE.LineCurve=function(t,e){this.v1=t,this.v2=e},THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.LineCurve.prototype.getPoint=function(t){var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},THREE.LineCurve.prototype.getPointAt=function(t){return this.getPoint(t)},THREE.LineCurve.prototype.getTangent=function(){var t=this.v2.clone().sub(this.v1);return t.normalize()},THREE.QuadraticBezierCurve=function(t,e,i){this.v0=t,this.v1=e,this.v2=i},THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.QuadraticBezierCurve.prototype.getPoint=function(t){var e=new THREE.Vector2;return e.x=THREE.Shape.Utils.b2(t,this.v0.x,this.v1.x,this.v2.x),e.y=THREE.Shape.Utils.b2(t,this.v0.y,this.v1.y,this.v2.y),e},THREE.QuadraticBezierCurve.prototype.getTangent=function(t){var e=new THREE.Vector2;return e.x=THREE.Curve.Utils.tangentQuadraticBezier(t,this.v0.x,this.v1.x,this.v2.x),e.y=THREE.Curve.Utils.tangentQuadraticBezier(t,this.v0.y,this.v1.y,this.v2.y),e.normalize()},THREE.CubicBezierCurve=function(t,e,i,r){this.v0=t,this.v1=e,this.v2=i,this.v3=r},THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.CubicBezierCurve.prototype.getPoint=function(t){var e,i;return e=THREE.Shape.Utils.b3(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),i=THREE.Shape.Utils.b3(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),new THREE.Vector2(e,i)},THREE.CubicBezierCurve.prototype.getTangent=function(t){var e,i;e=THREE.Curve.Utils.tangentCubicBezier(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),i=THREE.Curve.Utils.tangentCubicBezier(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y);var r=new THREE.Vector2(e,i);return r.normalize(),r},THREE.SplineCurve=function(t){this.points=void 0==t?[]:t},THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.SplineCurve.prototype.getPoint=function(t){var e=this.points,i=(e.length-1)*t,r=Math.floor(i),o=i-r,n=e[0==r?r:r-1],a=e[r],s=e[r>e.length-2?e.length-1:r+1],l=e[r>e.length-3?e.length-1:r+2],c=new THREE.Vector2;return c.x=THREE.Curve.Utils.interpolate(n.x,a.x,s.x,l.x,o),c.y=THREE.Curve.Utils.interpolate(n.y,a.y,s.y,l.y,o),c},THREE.EllipseCurve=function(t,e,i,r,o,n,a){this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=n,this.aClockwise=a},THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype),THREE.EllipseCurve.prototype.getPoint=function(t){var e=this.aEndAngle-this.aStartAngle;0>e&&(e+=2*Math.PI),e>2*Math.PI&&(e-=2*Math.PI);var i;i=this.aClockwise===!0?this.aEndAngle+(1-t)*(2*Math.PI-e):this.aStartAngle+t*e;var r=new THREE.Vector2;return r.x=this.aX+this.xRadius*Math.cos(i),r.y=this.aY+this.yRadius*Math.sin(i),r},THREE.ArcCurve=function(t,e,i,r,o,n){THREE.EllipseCurve.call(this,t,e,i,i,r,o,n)},THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype),THREE.LineCurve3=THREE.Curve.create(function(t,e){this.v1=t,this.v2=e},function(t){var e=new THREE.Vector3;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e}),THREE.QuadraticBezierCurve3=THREE.Curve.create(function(t,e,i){this.v0=t,this.v1=e,this.v2=i},function(t){var e=new THREE.Vector3;return e.x=THREE.Shape.Utils.b2(t,this.v0.x,this.v1.x,this.v2.x),e.y=THREE.Shape.Utils.b2(t,this.v0.y,this.v1.y,this.v2.y),e.z=THREE.Shape.Utils.b2(t,this.v0.z,this.v1.z,this.v2.z),e}),THREE.CubicBezierCurve3=THREE.Curve.create(function(t,e,i,r){this.v0=t,this.v1=e,this.v2=i,this.v3=r},function(t){var e=new THREE.Vector3;return e.x=THREE.Shape.Utils.b3(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e.y=THREE.Shape.Utils.b3(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e.z=THREE.Shape.Utils.b3(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z),e}),THREE.SplineCurve3=THREE.Curve.create(function(t){this.points=void 0==t?[]:t},function(t){var e=this.points,i=(e.length-1)*t,r=Math.floor(i),o=i-r,n=e[0==r?r:r-1],a=e[r],s=e[r>e.length-2?e.length-1:r+1],l=e[r>e.length-3?e.length-1:r+2],c=new THREE.Vector3;return c.x=THREE.Curve.Utils.interpolate(n.x,a.x,s.x,l.x,o),c.y=THREE.Curve.Utils.interpolate(n.y,a.y,s.y,l.y,o),c.z=THREE.Curve.Utils.interpolate(n.z,a.z,s.z,l.z,o),c}),THREE.ClosedSplineCurve3=THREE.Curve.create(function(t){this.points=void 0==t?[]:t},function(t){var e=this.points,i=(e.length-0)*t,r=Math.floor(i),o=i-r;r+=r>0?0:(Math.floor(Math.abs(r)/e.length)+1)*e.length;var n=e[(r-1)%e.length],a=e[r%e.length],s=e[(r+1)%e.length],l=e[(r+2)%e.length],c=new THREE.Vector3;return c.x=THREE.Curve.Utils.interpolate(n.x,a.x,s.x,l.x,o),c.y=THREE.Curve.Utils.interpolate(n.y,a.y,s.y,l.y,o),c.z=THREE.Curve.Utils.interpolate(n.z,a.z,s.z,l.z,o),c}),THREE.AnimationHandler={LINEAR:0,CATMULLROM:1,CATMULLROM_FORWARD:2,add:function(){console.warn("THREE.AnimationHandler.add() has been deprecated.")},get:function(){console.warn("THREE.AnimationHandler.get() has been deprecated.")},remove:function(){console.warn("THREE.AnimationHandler.remove() has been deprecated.")},animations:[],init:function(t){if(t.initialized!==!0){for(var e=0;e<t.hierarchy.length;e++){for(var i=0;i<t.hierarchy[e].keys.length;i++)if(t.hierarchy[e].keys[i].time<0&&(t.hierarchy[e].keys[i].time=0),void 0!==t.hierarchy[e].keys[i].rot&&!(t.hierarchy[e].keys[i].rot instanceof THREE.Quaternion)){var r=t.hierarchy[e].keys[i].rot;t.hierarchy[e].keys[i].rot=(new THREE.Quaternion).fromArray(r)}if(t.hierarchy[e].keys.length&&void 0!==t.hierarchy[e].keys[0].morphTargets){for(var o={},i=0;i<t.hierarchy[e].keys.length;i++)for(var n=0;n<t.hierarchy[e].keys[i].morphTargets.length;n++){var a=t.hierarchy[e].keys[i].morphTargets[n];o[a]=-1}t.hierarchy[e].usedMorphTargets=o;for(var i=0;i<t.hierarchy[e].keys.length;i++){var s={};for(var a in o){for(var n=0;n<t.hierarchy[e].keys[i].morphTargets.length;n++)if(t.hierarchy[e].keys[i].morphTargets[n]===a){s[a]=t.hierarchy[e].keys[i].morphTargetsInfluences[n];break}n===t.hierarchy[e].keys[i].morphTargets.length&&(s[a]=0)}t.hierarchy[e].keys[i].morphTargetsInfluences=s}}for(var i=1;i<t.hierarchy[e].keys.length;i++)t.hierarchy[e].keys[i].time===t.hierarchy[e].keys[i-1].time&&(t.hierarchy[e].keys.splice(i,1),i--);for(var i=0;i<t.hierarchy[e].keys.length;i++)t.hierarchy[e].keys[i].index=i}return t.initialized=!0,t}},parse:function(t){var e=function(t,i){i.push(t);for(var r=0;r<t.children.length;r++)e(t.children[r],i)},i=[];if(t instanceof THREE.SkinnedMesh)for(var r=0;r<t.skeleton.bones.length;r++)i.push(t.skeleton.bones[r]);else e(t,i);return i},play:function(t){-1===this.animations.indexOf(t)&&this.animations.push(t)},stop:function(t){var e=this.animations.indexOf(t);-1!==e&&this.animations.splice(e,1)},update:function(t){for(var e=0;e<this.animations.length;e++)this.animations[e].resetBlendWeights();for(var e=0;e<this.animations.length;e++)this.animations[e].update(t)}},THREE.Animation=function(t,e){this.root=t,this.data=THREE.AnimationHandler.init(e),this.hierarchy=THREE.AnimationHandler.parse(t),this.currentTime=0,this.timeScale=1,this.isPlaying=!1,this.loop=!0,this.weight=0,this.interpolationType=THREE.AnimationHandler.LINEAR},THREE.Animation.prototype.keyTypes=["pos","rot","scl"],THREE.Animation.prototype.play=function(t,e){this.currentTime=void 0!==t?t:0,this.weight=void 0!==e?e:1,this.isPlaying=!0,this.reset(),THREE.AnimationHandler.play(this)},THREE.Animation.prototype.stop=function(){this.isPlaying=!1,THREE.AnimationHandler.stop(this)},THREE.Animation.prototype.reset=function(){for(var t=0,e=this.hierarchy.length;e>t;t++){var i=this.hierarchy[t];i.matrixAutoUpdate=!0,void 0===i.animationCache&&(i.animationCache={animations:{},blending:{positionWeight:0,quaternionWeight:0,scaleWeight:0}}),void 0===i.animationCache.animations[this.data.name]&&(i.animationCache.animations[this.data.name]={},i.animationCache.animations[this.data.name].prevKey={pos:0,rot:0,scl:0},i.animationCache.animations[this.data.name].nextKey={pos:0,rot:0,scl:0},i.animationCache.animations[this.data.name].originalMatrix=i.matrix);for(var r=i.animationCache.animations[this.data.name],o=0;3>o;o++){for(var n=this.keyTypes[o],a=this.data.hierarchy[t].keys[0],s=this.getNextKeyWith(n,t,1);s.time<this.currentTime&&s.index>a.index;)a=s,s=this.getNextKeyWith(n,t,s.index+1);r.prevKey[n]=a,r.nextKey[n]=s}}},THREE.Animation.prototype.resetBlendWeights=function(){for(var t=0,e=this.hierarchy.length;e>t;t++){var i=this.hierarchy[t];void 0!==i.animationCache&&(i.animationCache.blending.positionWeight=0,i.animationCache.blending.quaternionWeight=0,i.animationCache.blending.scaleWeight=0)}},THREE.Animation.prototype.update=function(){var t=[],e=new THREE.Vector3,i=new THREE.Vector3,r=new THREE.Quaternion,o=function(t,e){var i,r,o,a,s,l,c,h,d,u=[],p=[];return i=(t.length-1)*e,r=Math.floor(i),o=i-r,u[0]=0===r?r:r-1,u[1]=r,u[2]=r>t.length-2?r:r+1,u[3]=r>t.length-3?r:r+2,l=t[u[0]],c=t[u[1]],h=t[u[2]],d=t[u[3]],a=o*o,s=o*a,p[0]=n(l[0],c[0],h[0],d[0],o,a,s),p[1]=n(l[1],c[1],h[1],d[1],o,a,s),p[2]=n(l[2],c[2],h[2],d[2],o,a,s),p},n=function(t,e,i,r,o,n,a){var s=.5*(i-t),l=.5*(r-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*n+s*o+e};return function(n){if(this.isPlaying!==!1&&(this.currentTime+=n*this.timeScale,0!==this.weight)){var a=this.data.length;if(this.currentTime>a||this.currentTime<0){if(!this.loop)return void this.stop();this.currentTime%=a,this.currentTime<0&&(this.currentTime+=a),this.reset()}for(var s=0,l=this.hierarchy.length;l>s;s++)for(var c=this.hierarchy[s],h=c.animationCache.animations[this.data.name],d=c.animationCache.blending,u=0;3>u;u++){var p=this.keyTypes[u],f=h.prevKey[p],_=h.nextKey[p];if(this.timeScale>0&&_.time<=this.currentTime||this.timeScale<0&&f.time>=this.currentTime){for(f=this.data.hierarchy[s].keys[0],_=this.getNextKeyWith(p,s,1);_.time<this.currentTime&&_.index>f.index;)f=_,_=this.getNextKeyWith(p,s,_.index+1);h.prevKey[p]=f,h.nextKey[p]=_}c.matrixAutoUpdate=!0,c.matrixWorldNeedsUpdate=!0;var m=(this.currentTime-f.time)/(_.time-f.time),g=f[p],y=_[p];if(0>m&&(m=0),m>1&&(m=1),"pos"===p){if(this.interpolationType===THREE.AnimationHandler.LINEAR){i.x=g[0]+(y[0]-g[0])*m,i.y=g[1]+(y[1]-g[1])*m,i.z=g[2]+(y[2]-g[2])*m;var b=this.weight/(this.weight+d.positionWeight);c.position.lerp(i,b),d.positionWeight+=this.weight}else if(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){t[0]=this.getPrevKeyWith("pos",s,f.index-1).pos,t[1]=g,t[2]=y,t[3]=this.getNextKeyWith("pos",s,_.index+1).pos,m=.33*m+.33;var v=o(t,m),b=this.weight/(this.weight+d.positionWeight);d.positionWeight+=this.weight;var M=c.position;if(M.x=M.x+(v[0]-M.x)*b,M.y=M.y+(v[1]-M.y)*b,M.z=M.z+(v[2]-M.z)*b,this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){var S=o(t,1.01*m);e.set(S[0],S[1],S[2]),e.sub(M),e.y=0,e.normalize();var x=Math.atan2(e.x,e.z);c.rotation.set(0,x,0)}}}else if("rot"===p)if(THREE.Quaternion.slerp(g,y,r,m),0===d.quaternionWeight)c.quaternion.copy(r),d.quaternionWeight=this.weight;else{var b=this.weight/(this.weight+d.quaternionWeight);THREE.Quaternion.slerp(c.quaternion,r,c.quaternion,b),d.quaternionWeight+=this.weight}else if("scl"===p){i.x=g[0]+(y[0]-g[0])*m,i.y=g[1]+(y[1]-g[1])*m,i.z=g[2]+(y[2]-g[2])*m;var b=this.weight/(this.weight+d.scaleWeight);c.scale.lerp(i,b),d.scaleWeight+=this.weight}}return!0}}}(),THREE.Animation.prototype.getNextKeyWith=function(t,e,i){var r=this.data.hierarchy[e].keys;for(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?i=i<r.length-1?i:r.length-1:i%=r.length;i<r.length;i++)if(void 0!==r[i][t])return r[i];return this.data.hierarchy[e].keys[0]},THREE.Animation.prototype.getPrevKeyWith=function(t,e,i){var r=this.data.hierarchy[e].keys;for(i=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?i>0?i:0:i>=0?i:i+r.length;i>=0;i--)if(void 0!==r[i][t])return r[i];
return this.data.hierarchy[e].keys[r.length-1]},THREE.KeyFrameAnimation=function(t){this.root=t.node,this.data=THREE.AnimationHandler.init(t),this.hierarchy=THREE.AnimationHandler.parse(this.root),this.currentTime=0,this.timeScale=.001,this.isPlaying=!1,this.isPaused=!0,this.loop=!0;for(var e=0,i=this.hierarchy.length;i>e;e++){var r=this.data.hierarchy[e].keys,o=this.data.hierarchy[e].sids,n=this.hierarchy[e];if(r.length&&o){for(var a=0;a<o.length;a++){var s=o[a],l=this.getNextKeyWith(s,e,0);l&&l.apply(s)}n.matrixAutoUpdate=!1,this.data.hierarchy[e].node.updateMatrix(),n.matrixWorldNeedsUpdate=!0}}},THREE.KeyFrameAnimation.prototype.play=function(t){if(this.currentTime=void 0!==t?t:0,this.isPlaying===!1){this.isPlaying=!0;var e,i,r,o=this.hierarchy.length;for(e=0;o>e;e++){i=this.hierarchy[e],r=this.data.hierarchy[e],void 0===r.animationCache&&(r.animationCache={},r.animationCache.prevKey=null,r.animationCache.nextKey=null,r.animationCache.originalMatrix=i.matrix);var n=this.data.hierarchy[e].keys;n.length&&(r.animationCache.prevKey=n[0],r.animationCache.nextKey=n[1],this.startTime=Math.min(n[0].time,this.startTime),this.endTime=Math.max(n[n.length-1].time,this.endTime))}this.update(0)}this.isPaused=!1,THREE.AnimationHandler.play(this)},THREE.KeyFrameAnimation.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,THREE.AnimationHandler.stop(this);for(var t=0;t<this.data.hierarchy.length;t++){var e=this.hierarchy[t],i=this.data.hierarchy[t];if(void 0!==i.animationCache){var r=i.animationCache.originalMatrix;r.copy(e.matrix),e.matrix=r,delete i.animationCache}}},THREE.KeyFrameAnimation.prototype.update=function(t){if(this.isPlaying!==!1){this.currentTime+=t*this.timeScale;var e=this.data.length;this.loop===!0&&this.currentTime>e&&(this.currentTime%=e),this.currentTime=Math.min(this.currentTime,e);for(var i=0,r=this.hierarchy.length;r>i;i++){var o=this.hierarchy[i],n=this.data.hierarchy[i],a=n.keys,s=n.animationCache;if(a.length){var l=s.prevKey,c=s.nextKey;if(c.time<=this.currentTime){for(;c.time<this.currentTime&&c.index>l.index;)l=c,c=a[l.index+1];s.prevKey=l,s.nextKey=c}c.time>=this.currentTime?l.interpolate(c,this.currentTime):l.interpolate(c,c.time),this.data.hierarchy[i].node.updateMatrix(),o.matrixWorldNeedsUpdate=!0}}}},THREE.KeyFrameAnimation.prototype.getNextKeyWith=function(t,e,i){var r=this.data.hierarchy[e].keys;for(i%=r.length;i<r.length;i++)if(r[i].hasTarget(t))return r[i];return r[0]},THREE.KeyFrameAnimation.prototype.getPrevKeyWith=function(t,e,i){var r=this.data.hierarchy[e].keys;for(i=i>=0?i:i+r.length;i>=0;i--)if(r[i].hasTarget(t))return r[i];return r[r.length-1]},THREE.MorphAnimation=function(t){this.mesh=t,this.frames=t.morphTargetInfluences.length,this.currentTime=0,this.duration=1e3,this.loop=!0,this.isPlaying=!1},THREE.MorphAnimation.prototype={play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},update:function(){var t=0,e=0;return function(i){if(this.isPlaying!==!1){this.currentTime+=i,this.loop===!0&&this.currentTime>this.duration&&(this.currentTime%=this.duration),this.currentTime=Math.min(this.currentTime,this.duration);var r=this.duration/this.frames,o=Math.floor(this.currentTime/r);o!=e&&(this.mesh.morphTargetInfluences[t]=0,this.mesh.morphTargetInfluences[e]=1,this.mesh.morphTargetInfluences[o]=0,t=e,e=o),this.mesh.morphTargetInfluences[o]=this.currentTime%r/r,this.mesh.morphTargetInfluences[t]=1-this.mesh.morphTargetInfluences[o]}}}()},THREE.BoxGeometry=function(t,e,i,r,o,n){function a(t,e,i,r,o,n,a,l){var c,h,d,u=s.widthSegments,p=s.heightSegments,f=o/2,_=n/2,m=s.vertices.length;"x"===t&&"y"===e||"y"===t&&"x"===e?c="z":"x"===t&&"z"===e||"z"===t&&"x"===e?(c="y",p=s.depthSegments):("z"===t&&"y"===e||"y"===t&&"z"===e)&&(c="x",u=s.depthSegments);var g=u+1,y=p+1,b=o/u,v=n/p,M=new THREE.Vector3;for(M[c]=a>0?1:-1,d=0;y>d;d++)for(h=0;g>h;h++){var S=new THREE.Vector3;S[t]=(h*b-f)*i,S[e]=(d*v-_)*r,S[c]=a,s.vertices.push(S)}for(d=0;p>d;d++)for(h=0;u>h;h++){var x=h+g*d,T=h+g*(d+1),E=h+1+g*(d+1),C=h+1+g*d,A=new THREE.Vector2(h/u,1-d/p),w=new THREE.Vector2(h/u,1-(d+1)/p),R=new THREE.Vector2((h+1)/u,1-(d+1)/p),D=new THREE.Vector2((h+1)/u,1-d/p),P=new THREE.Face3(x+m,T+m,C+m);P.normal.copy(M),P.vertexNormals.push(M.clone(),M.clone(),M.clone()),P.materialIndex=l,s.faces.push(P),s.faceVertexUvs[0].push([A,w,D]),P=new THREE.Face3(T+m,E+m,C+m),P.normal.copy(M),P.vertexNormals.push(M.clone(),M.clone(),M.clone()),P.materialIndex=l,s.faces.push(P),s.faceVertexUvs[0].push([w.clone(),R,D.clone()])}}THREE.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:o,depthSegments:n},this.widthSegments=r||1,this.heightSegments=o||1,this.depthSegments=n||1;var s=this,l=t/2,c=e/2,h=i/2;a("z","y",-1,-1,i,e,l,0),a("z","y",1,-1,i,e,-l,1),a("x","z",1,1,t,i,c,2),a("x","z",1,-1,t,i,-c,3),a("x","y",1,-1,t,e,h,4),a("x","y",-1,-1,t,e,-h,5),this.mergeVertices()},THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CircleGeometry=function(t,e,i,r){THREE.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var o,n=[],a=new THREE.Vector3,s=new THREE.Vector2(.5,.5);for(this.vertices.push(a),n.push(s),o=0;e>=o;o++){var l=new THREE.Vector3,c=i+o/e*r;l.x=t*Math.cos(c),l.y=t*Math.sin(c),this.vertices.push(l),n.push(new THREE.Vector2((l.x/t+1)/2,(l.y/t+1)/2))}var h=new THREE.Vector3(0,0,1);for(o=1;e>=o;o++)this.faces.push(new THREE.Face3(o,o+1,0,[h.clone(),h.clone(),h.clone()])),this.faceVertexUvs[0].push([n[o].clone(),n[o+1].clone(),s.clone()]);this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,t)},THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CubeGeometry=function(t,e,i,r,o,n){return console.warn("THREE.CubeGeometry has been renamed to THREE.BoxGeometry."),new THREE.BoxGeometry(t,e,i,r,o,n)},THREE.CylinderGeometry=function(t,e,i,r,o,n){THREE.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:o,openEnded:n},t=void 0!==t?t:20,e=void 0!==e?e:20,i=void 0!==i?i:100,r=r||8,o=o||1,n=void 0!==n?n:!1;var a,s,l=i/2,c=[],h=[];for(s=0;o>=s;s++){var d=[],u=[],p=s/o,f=p*(e-t)+t;for(a=0;r>=a;a++){var _=a/r,m=new THREE.Vector3;m.x=f*Math.sin(_*Math.PI*2),m.y=-p*i+l,m.z=f*Math.cos(_*Math.PI*2),this.vertices.push(m),d.push(this.vertices.length-1),u.push(new THREE.Vector2(_,1-p))}c.push(d),h.push(u)}var g,y,b=(e-t)/i;for(a=0;r>a;a++)for(0!==t?(g=this.vertices[c[0][a]].clone(),y=this.vertices[c[0][a+1]].clone()):(g=this.vertices[c[1][a]].clone(),y=this.vertices[c[1][a+1]].clone()),g.setY(Math.sqrt(g.x*g.x+g.z*g.z)*b).normalize(),y.setY(Math.sqrt(y.x*y.x+y.z*y.z)*b).normalize(),s=0;o>s;s++){var v=c[s][a],M=c[s+1][a],S=c[s+1][a+1],x=c[s][a+1],T=g.clone(),E=g.clone(),C=y.clone(),A=y.clone(),w=h[s][a].clone(),R=h[s+1][a].clone(),D=h[s+1][a+1].clone(),P=h[s][a+1].clone();this.faces.push(new THREE.Face3(v,M,x,[T,E,A])),this.faceVertexUvs[0].push([w,R,P]),this.faces.push(new THREE.Face3(M,S,x,[E.clone(),C,A.clone()])),this.faceVertexUvs[0].push([R.clone(),D,P.clone()])}if(n===!1&&t>0)for(this.vertices.push(new THREE.Vector3(0,l,0)),a=0;r>a;a++){var v=c[0][a],M=c[0][a+1],S=this.vertices.length-1,T=new THREE.Vector3(0,1,0),E=new THREE.Vector3(0,1,0),C=new THREE.Vector3(0,1,0),w=h[0][a].clone(),R=h[0][a+1].clone(),D=new THREE.Vector2(R.x,0);this.faces.push(new THREE.Face3(v,M,S,[T,E,C])),this.faceVertexUvs[0].push([w,R,D])}if(n===!1&&e>0)for(this.vertices.push(new THREE.Vector3(0,-l,0)),a=0;r>a;a++){var v=c[s][a+1],M=c[s][a],S=this.vertices.length-1,T=new THREE.Vector3(0,-1,0),E=new THREE.Vector3(0,-1,0),C=new THREE.Vector3(0,-1,0),w=h[s][a+1].clone(),R=h[s][a].clone(),D=new THREE.Vector2(R.x,1);this.faces.push(new THREE.Face3(v,M,S,[T,E,C])),this.faceVertexUvs[0].push([w,R,D])}this.computeFaceNormals()},THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry=function(t,e){return"undefined"==typeof t?void(t=[]):(THREE.Geometry.call(this),this.type="ExtrudeGeometry",t=t instanceof Array?t:[t],this.addShapeList(t,e),void this.computeFaceNormals())},THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry.prototype.addShapeList=function(t,e){for(var i=t.length,r=0;i>r;r++){var o=t[r];this.addShape(o,e)}},THREE.ExtrudeGeometry.prototype.addShape=function(t,e){function i(t,e,i){return e||console.log("die"),e.clone().multiplyScalar(i).add(t)}function r(t,e,i){var r,o,n=1e-10,a=1,s=t.x-e.x,l=t.y-e.y,c=i.x-t.x,h=i.y-t.y,d=s*s+l*l,u=s*h-l*c;if(Math.abs(u)>n){var p=Math.sqrt(d),f=Math.sqrt(c*c+h*h),_=e.x-l/p,m=e.y+s/p,g=i.x-h/f,y=i.y+c/f,b=((g-_)*h-(y-m)*c)/(s*h-l*c);r=_+s*b-t.x,o=m+l*b-t.y;var v=r*r+o*o;if(2>=v)return new THREE.Vector2(r,o);a=Math.sqrt(v/2)}else{var M=!1;s>n?c>n&&(M=!0):-n>s?-n>c&&(M=!0):Math.sign(l)==Math.sign(h)&&(M=!0),M?(r=-l,o=s,a=Math.sqrt(d)):(r=s,o=l,a=Math.sqrt(d/2))}return new THREE.Vector2(r/a,o/a)}function o(){if(b){var t=0,e=j*t;for(X=0;U>X;X++)z=H[X],l(z[2]+e,z[1]+e,z[0]+e);for(t=M+2*y,e=j*t,X=0;U>X;X++)z=H[X],l(z[0]+e,z[1]+e,z[2]+e)}else{for(X=0;U>X;X++)z=H[X],l(z[2],z[1],z[0]);for(X=0;U>X;X++)z=H[X],l(z[0]+j*M,z[1]+j*M,z[2]+j*M)}}function n(){var t=0;for(a(I,t),t+=I.length,w=0,R=L.length;R>w;w++)A=L[w],a(A,t),t+=A.length}function a(t,e){var i,r;for(X=t.length;--X>=0;){i=X,r=X-1,0>r&&(r=t.length-1);var o=0,n=M+2*y;for(o=0;n>o;o++){var a=j*o,s=j*(o+1),l=e+i+a,h=e+r+a,d=e+r+s,u=e+i+s;c(l,h,d,u,t,o,n,i,r)}}}function s(t,e,i){D.vertices.push(new THREE.Vector3(t,e,i))}function l(t,e,i){t+=P,e+=P,i+=P,D.faces.push(new THREE.Face3(t,e,i,null,null,T));var r=C.generateTopUV(D,t,e,i);D.faceVertexUvs[0].push(r)}function c(t,e,i,r){t+=P,e+=P,i+=P,r+=P,D.faces.push(new THREE.Face3(t,e,r,null,null,E)),D.faces.push(new THREE.Face3(e,i,r,null,null,E));var o=C.generateSideWallUV(D,t,e,i,r);D.faceVertexUvs[0].push([o[0],o[1],o[3]]),D.faceVertexUvs[0].push([o[1],o[2],o[3]])}var h,d,u,p,f,_=void 0!==e.amount?e.amount:100,m=void 0!==e.bevelThickness?e.bevelThickness:6,g=void 0!==e.bevelSize?e.bevelSize:m-2,y=void 0!==e.bevelSegments?e.bevelSegments:3,b=void 0!==e.bevelEnabled?e.bevelEnabled:!0,v=void 0!==e.curveSegments?e.curveSegments:12,M=void 0!==e.steps?e.steps:1,S=e.extrudePath,x=!1,T=e.material,E=e.extrudeMaterial,C=void 0!==e.UVGenerator?e.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator;S&&(h=S.getSpacedPoints(M),x=!0,b=!1,d=void 0!==e.frames?e.frames:new THREE.TubeGeometry.FrenetFrames(S,M,!1),u=new THREE.Vector3,p=new THREE.Vector3,f=new THREE.Vector3),b||(y=0,m=0,g=0);var A,w,R,D=this,P=this.vertices.length,B=t.extractPoints(v),V=B.shape,L=B.holes,k=!THREE.Shape.Utils.isClockWise(V);if(k){for(V=V.reverse(),w=0,R=L.length;R>w;w++)A=L[w],THREE.Shape.Utils.isClockWise(A)&&(L[w]=A.reverse());k=!1}var H=THREE.Shape.Utils.triangulateShape(V,L),I=V;for(w=0,R=L.length;R>w;w++)A=L[w],V=V.concat(A);for(var O,J,N,F,G,z,j=V.length,U=H.length,W=(I.length,180/Math.PI,[]),X=0,q=I.length,K=q-1,Y=X+1;q>X;X++,K++,Y++){K===q&&(K=0),Y===q&&(Y=0);{I[X],I[K],I[Y]}W[X]=r(I[X],I[K],I[Y])}var Q,Z=[],$=W.concat();for(w=0,R=L.length;R>w;w++){for(A=L[w],Q=[],X=0,q=A.length,K=q-1,Y=X+1;q>X;X++,K++,Y++)K===q&&(K=0),Y===q&&(Y=0),Q[X]=r(A[X],A[K],A[Y]);Z.push(Q),$=$.concat(Q)}for(O=0;y>O;O++){for(N=O/y,F=m*(1-N),J=g*Math.sin(N*Math.PI/2),X=0,q=I.length;q>X;X++)G=i(I[X],W[X],J),s(G.x,G.y,-F);for(w=0,R=L.length;R>w;w++)for(A=L[w],Q=Z[w],X=0,q=A.length;q>X;X++)G=i(A[X],Q[X],J),s(G.x,G.y,-F)}for(J=g,X=0;j>X;X++)G=b?i(V[X],$[X],J):V[X],x?(p.copy(d.normals[0]).multiplyScalar(G.x),u.copy(d.binormals[0]).multiplyScalar(G.y),f.copy(h[0]).add(p).add(u),s(f.x,f.y,f.z)):s(G.x,G.y,0);var te;for(te=1;M>=te;te++)for(X=0;j>X;X++)G=b?i(V[X],$[X],J):V[X],x?(p.copy(d.normals[te]).multiplyScalar(G.x),u.copy(d.binormals[te]).multiplyScalar(G.y),f.copy(h[te]).add(p).add(u),s(f.x,f.y,f.z)):s(G.x,G.y,_/M*te);for(O=y-1;O>=0;O--){for(N=O/y,F=m*(1-N),J=g*Math.sin(N*Math.PI/2),X=0,q=I.length;q>X;X++)G=i(I[X],W[X],J),s(G.x,G.y,_+F);for(w=0,R=L.length;R>w;w++)for(A=L[w],Q=Z[w],X=0,q=A.length;q>X;X++)G=i(A[X],Q[X],J),x?s(G.x,G.y+h[M-1].y,h[M-1].x+F):s(G.x,G.y,_+F)}o(),n()},THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(t,e,i,r){var o=t.vertices,n=o[e],a=o[i],s=o[r];return[new THREE.Vector2(n.x,n.y),new THREE.Vector2(a.x,a.y),new THREE.Vector2(s.x,s.y)]},generateSideWallUV:function(t,e,i,r,o){var n=t.vertices,a=n[e],s=n[i],l=n[r],c=n[o];return Math.abs(a.y-s.y)<.01?[new THREE.Vector2(a.x,1-a.z),new THREE.Vector2(s.x,1-s.z),new THREE.Vector2(l.x,1-l.z),new THREE.Vector2(c.x,1-c.z)]:[new THREE.Vector2(a.y,1-a.z),new THREE.Vector2(s.y,1-s.z),new THREE.Vector2(l.y,1-l.z),new THREE.Vector2(c.y,1-c.z)]}},THREE.ShapeGeometry=function(t,e){THREE.Geometry.call(this),this.type="ShapeGeometry",t instanceof Array==!1&&(t=[t]),this.addShapeList(t,e),this.computeFaceNormals()},THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ShapeGeometry.prototype.addShapeList=function(t,e){for(var i=0,r=t.length;r>i;i++)this.addShape(t[i],e);return this},THREE.ShapeGeometry.prototype.addShape=function(t,e){void 0===e&&(e={});var i,r,o,n=void 0!==e.curveSegments?e.curveSegments:12,a=e.material,s=void 0===e.UVGenerator?THREE.ExtrudeGeometry.WorldUVGenerator:e.UVGenerator,l=this.vertices.length,c=t.extractPoints(n),h=c.shape,d=c.holes,u=!THREE.Shape.Utils.isClockWise(h);if(u){for(h=h.reverse(),i=0,r=d.length;r>i;i++)o=d[i],THREE.Shape.Utils.isClockWise(o)&&(d[i]=o.reverse());u=!1}var p=THREE.Shape.Utils.triangulateShape(h,d),f=h;for(i=0,r=d.length;r>i;i++)o=d[i],h=h.concat(o);{var _,m,g=h.length,y=p.length;f.length}for(i=0;g>i;i++)_=h[i],this.vertices.push(new THREE.Vector3(_.x,_.y,0));for(i=0;y>i;i++){m=p[i];var b=m[0]+l,v=m[1]+l,M=m[2]+l;this.faces.push(new THREE.Face3(b,v,M,null,null,a)),this.faceVertexUvs[0].push(s.generateTopUV(this,b,v,M))}},THREE.LatheGeometry=function(t,e,i,r){THREE.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=e||12,i=i||0,r=r||2*Math.PI;for(var o=1/(t.length-1),n=1/e,a=0,s=e;s>=a;a++)for(var l=i+a*n*r,c=Math.cos(l),h=Math.sin(l),d=0,u=t.length;u>d;d++){var p=t[d],f=new THREE.Vector3;f.x=c*p.x-h*p.y,f.y=h*p.x+c*p.y,f.z=p.z,this.vertices.push(f)}for(var _=t.length,a=0,s=e;s>a;a++)for(var d=0,u=t.length-1;u>d;d++){var m=d+_*a,g=m,y=m+_,c=m+1+_,b=m+1,v=a*n,M=d*o,S=v+n,x=M+o;this.faces.push(new THREE.Face3(g,y,b)),this.faceVertexUvs[0].push([new THREE.Vector2(v,M),new THREE.Vector2(S,M),new THREE.Vector2(v,x)]),this.faces.push(new THREE.Face3(y,c,b)),this.faceVertexUvs[0].push([new THREE.Vector2(S,M),new THREE.Vector2(S,x),new THREE.Vector2(v,x)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PlaneGeometry=function(t,e,i,r){console.info("THREE.PlaneGeometry: Consider using THREE.PlaneBufferGeometry for lower memory footprint."),THREE.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new THREE.PlaneBufferGeometry(t,e,i,r))},THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PlaneBufferGeometry=function(t,e,i,r){THREE.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};for(var o=t/2,n=e/2,a=i||1,s=r||1,l=a+1,c=s+1,h=t/a,d=e/s,u=new Float32Array(l*c*3),p=new Float32Array(l*c*3),f=new Float32Array(l*c*2),_=0,m=0,g=0;c>g;g++)for(var y=g*d-n,b=0;l>b;b++){var v=b*h-o;u[_]=v,u[_+1]=-y,p[_+2]=1,f[m]=b/a,f[m+1]=1-g/s,_+=3,m+=2}_=0;for(var M=new(u.length/3>65535?Uint32Array:Uint16Array)(a*s*6),g=0;s>g;g++)for(var b=0;a>b;b++){var S=b+l*g,x=b+l*(g+1),T=b+1+l*(g+1),E=b+1+l*g;M[_]=S,M[_+1]=x,M[_+2]=E,M[_+3]=x,M[_+4]=T,M[_+5]=E,_+=6}this.addAttribute("index",new THREE.BufferAttribute(M,1)),this.addAttribute("position",new THREE.BufferAttribute(u,3)),this.addAttribute("normal",new THREE.BufferAttribute(p,3)),this.addAttribute("uv",new THREE.BufferAttribute(f,2))},THREE.PlaneBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.RingGeometry=function(t,e,i,r,o,n){THREE.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:o,thetaLength:n},t=t||0,e=e||50,o=void 0!==o?o:0,n=void 0!==n?n:2*Math.PI,i=void 0!==i?Math.max(3,i):8,r=void 0!==r?Math.max(1,r):8;var a,s,l=[],c=t,h=(e-t)/r;for(a=0;r+1>a;a++){for(s=0;i+1>s;s++){var d=new THREE.Vector3,u=o+s/i*n;d.x=c*Math.cos(u),d.y=c*Math.sin(u),this.vertices.push(d),l.push(new THREE.Vector2((d.x/e+1)/2,(d.y/e+1)/2))}c+=h}var p=new THREE.Vector3(0,0,1);for(a=0;r>a;a++){var f=a*(i+1);for(s=0;i>s;s++){var u=s+f,_=u,m=u+i+1,g=u+i+2;this.faces.push(new THREE.Face3(_,m,g,[p.clone(),p.clone(),p.clone()])),this.faceVertexUvs[0].push([l[_].clone(),l[m].clone(),l[g].clone()]),_=u,m=u+i+2,g=u+1,this.faces.push(new THREE.Face3(_,m,g,[p.clone(),p.clone(),p.clone()])),this.faceVertexUvs[0].push([l[_].clone(),l[m].clone(),l[g].clone()])}}this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,c)},THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.SphereGeometry=function(t,e,i,r,o,n,a){THREE.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:o,thetaStart:n,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?n:0,a=void 0!==a?a:Math.PI;var s,l,c=[],h=[];for(l=0;i>=l;l++){var d=[],u=[];for(s=0;e>=s;s++){var p=s/e,f=l/i,_=new THREE.Vector3;_.x=-t*Math.cos(r+p*o)*Math.sin(n+f*a),_.y=t*Math.cos(n+f*a),_.z=t*Math.sin(r+p*o)*Math.sin(n+f*a),this.vertices.push(_),d.push(this.vertices.length-1),u.push(new THREE.Vector2(p,1-f))}c.push(d),h.push(u)}for(l=0;i>l;l++)for(s=0;e>s;s++){var m=c[l][s+1],g=c[l][s],y=c[l+1][s],b=c[l+1][s+1],v=this.vertices[m].clone().normalize(),M=this.vertices[g].clone().normalize(),S=this.vertices[y].clone().normalize(),x=this.vertices[b].clone().normalize(),T=h[l][s+1].clone(),E=h[l][s].clone(),C=h[l+1][s].clone(),A=h[l+1][s+1].clone();Math.abs(this.vertices[m].y)===t?(T.x=(T.x+E.x)/2,this.faces.push(new THREE.Face3(m,y,b,[v,S,x])),this.faceVertexUvs[0].push([T,C,A])):Math.abs(this.vertices[y].y)===t?(C.x=(C.x+A.x)/2,this.faces.push(new THREE.Face3(m,g,y,[v,M,S])),this.faceVertexUvs[0].push([T,E,C])):(this.faces.push(new THREE.Face3(m,g,b,[v,M,x])),this.faceVertexUvs[0].push([T,E,A]),this.faces.push(new THREE.Face3(g,y,b,[M.clone(),S,x.clone()])),this.faceVertexUvs[0].push([E.clone(),C,A.clone()]))}this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,t)},THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TextGeometry=function(t,e){e=e||{};var i=THREE.FontUtils.generateShapes(t,e);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),THREE.ExtrudeGeometry.call(this,i,e),this.type="TextGeometry"},THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype),THREE.TorusGeometry=function(t,e,i,r,o){THREE.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:o},t=t||100,e=e||40,i=i||8,r=r||6,o=o||2*Math.PI;for(var n=new THREE.Vector3,a=[],s=[],l=0;i>=l;l++)for(var c=0;r>=c;c++){var h=c/r*o,d=l/i*Math.PI*2;n.x=t*Math.cos(h),n.y=t*Math.sin(h);var u=new THREE.Vector3;u.x=(t+e*Math.cos(d))*Math.cos(h),u.y=(t+e*Math.cos(d))*Math.sin(h),u.z=e*Math.sin(d),this.vertices.push(u),a.push(new THREE.Vector2(c/r,l/i)),s.push(u.clone().sub(n).normalize())}for(var l=1;i>=l;l++)for(var c=1;r>=c;c++){var p=(r+1)*l+c-1,f=(r+1)*(l-1)+c-1,_=(r+1)*(l-1)+c,m=(r+1)*l+c,g=new THREE.Face3(p,f,m,[s[p].clone(),s[f].clone(),s[m].clone()]);this.faces.push(g),this.faceVertexUvs[0].push([a[p].clone(),a[f].clone(),a[m].clone()]),g=new THREE.Face3(f,_,m,[s[f].clone(),s[_].clone(),s[m].clone()]),this.faces.push(g),this.faceVertexUvs[0].push([a[f].clone(),a[_].clone(),a[m].clone()])}this.computeFaceNormals()},THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TorusKnotGeometry=function(t,e,i,r,o,n,a){function s(t,e,i,r,o){var n=Math.cos(t),a=Math.sin(t),s=e/i*t,l=Math.cos(s),c=r*(2+l)*.5*n,h=r*(2+l)*a*.5,d=o*r*Math.sin(s)*.5;return new THREE.Vector3(c,h,d)}THREE.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,p:o,q:n,heightScale:a},t=t||100,e=e||40,i=i||64,r=r||8,o=o||2,n=n||3,a=a||1;for(var l=new Array(i),c=new THREE.Vector3,h=new THREE.Vector3,d=new THREE.Vector3,u=0;i>u;++u){l[u]=new Array(r);var p=u/i*2*o*Math.PI,f=s(p,n,o,t,a),_=s(p+.01,n,o,t,a);c.subVectors(_,f),h.addVectors(_,f),d.crossVectors(c,h),h.crossVectors(d,c),d.normalize(),h.normalize();for(var m=0;r>m;++m){var g=m/r*2*Math.PI,y=-e*Math.cos(g),b=e*Math.sin(g),v=new THREE.Vector3;v.x=f.x+y*h.x+b*d.x,v.y=f.y+y*h.y+b*d.y,v.z=f.z+y*h.z+b*d.z,l[u][m]=this.vertices.push(v)-1}}for(var u=0;i>u;++u)for(var m=0;r>m;++m){var M=(u+1)%i,S=(m+1)%r,x=l[u][m],T=l[M][m],E=l[M][S],C=l[u][S],A=new THREE.Vector2(u/i,m/r),w=new THREE.Vector2((u+1)/i,m/r),R=new THREE.Vector2((u+1)/i,(m+1)/r),D=new THREE.Vector2(u/i,(m+1)/r);this.faces.push(new THREE.Face3(x,T,C)),this.faceVertexUvs[0].push([A,w,D]),this.faces.push(new THREE.Face3(T,E,C)),this.faceVertexUvs[0].push([w.clone(),R,D.clone()])}this.computeFaceNormals(),this.computeVertexNormals()},THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry=function(t,e,i,r,o){function n(t,e,i){return A.vertices.push(new THREE.Vector3(t,e,i))-1}THREE.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:t,segments:e,radius:i,radialSegments:r,closed:o},e=e||64,i=i||1,r=r||8,o=o||!1;var a,s,l,c,h,d,u,p,f,_,m,g,y,b,v,M,S,x,T,E,C=[],A=this,w=e+1,R=new THREE.Vector3,D=new THREE.TubeGeometry.FrenetFrames(t,e,o),P=D.tangents,B=D.normals,V=D.binormals;for(this.tangents=P,this.normals=B,this.binormals=V,f=0;w>f;f++)for(C[f]=[],c=f/(w-1),p=t.getPointAt(c),a=P[f],s=B[f],l=V[f],_=0;r>_;_++)h=_/r*2*Math.PI,d=-i*Math.cos(h),u=i*Math.sin(h),R.copy(p),R.x+=d*s.x+u*l.x,R.y+=d*s.y+u*l.y,R.z+=d*s.z+u*l.z,C[f][_]=n(R.x,R.y,R.z);for(f=0;e>f;f++)for(_=0;r>_;_++)m=o?(f+1)%e:f+1,g=(_+1)%r,y=C[f][_],b=C[m][_],v=C[m][g],M=C[f][g],S=new THREE.Vector2(f/e,_/r),x=new THREE.Vector2((f+1)/e,_/r),T=new THREE.Vector2((f+1)/e,(_+1)/r),E=new THREE.Vector2(f/e,(_+1)/r),this.faces.push(new THREE.Face3(y,b,M)),this.faceVertexUvs[0].push([S,x,E]),this.faces.push(new THREE.Face3(b,v,M)),this.faceVertexUvs[0].push([x.clone(),T,E.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry.FrenetFrames=function(t,e,i){function r(){p[0]=new THREE.Vector3,f[0]=new THREE.Vector3,n=Number.MAX_VALUE,a=Math.abs(u[0].x),s=Math.abs(u[0].y),l=Math.abs(u[0].z),n>=a&&(n=a,d.set(1,0,0)),n>=s&&(n=s,d.set(0,1,0)),n>=l&&d.set(0,0,1),_.crossVectors(u[0],d).normalize(),p[0].crossVectors(u[0],_),f[0].crossVectors(u[0],p[0])}var o,n,a,s,l,c,h,d=(new THREE.Vector3,new THREE.Vector3),u=(new THREE.Vector3,[]),p=[],f=[],_=new THREE.Vector3,m=new THREE.Matrix4,g=e+1,y=1e-4;for(this.tangents=u,this.normals=p,this.binormals=f,c=0;g>c;c++)h=c/(g-1),u[c]=t.getTangentAt(h),u[c].normalize();for(r(),c=1;g>c;c++)p[c]=p[c-1].clone(),f[c]=f[c-1].clone(),_.crossVectors(u[c-1],u[c]),_.length()>y&&(_.normalize(),o=Math.acos(THREE.Math.clamp(u[c-1].dot(u[c]),-1,1)),p[c].applyMatrix4(m.makeRotationAxis(_,o))),f[c].crossVectors(u[c],p[c]);if(i)for(o=Math.acos(THREE.Math.clamp(p[0].dot(p[g-1]),-1,1)),o/=g-1,u[0].dot(_.crossVectors(p[0],p[g-1]))>0&&(o=-o),c=1;g>c;c++)p[c].applyMatrix4(m.makeRotationAxis(u[c],o*c)),f[c].crossVectors(u[c],p[c])},THREE.PolyhedronGeometry=function(t,e,i,r){function o(t){var e=t.normalize().clone();e.index=h.vertices.push(e)-1;var i=s(t)/2/Math.PI+.5,r=l(t)/Math.PI+.5;return e.uv=new THREE.Vector2(i,1-r),e}function n(t,e,i){var r=new THREE.Face3(t.index,e.index,i.index,[t.clone(),e.clone(),i.clone()]);h.faces.push(r),b.copy(t).add(e).add(i).divideScalar(3);var o=s(b);h.faceVertexUvs[0].push([c(t.uv,t,o),c(e.uv,e,o),c(i.uv,i,o)])}function a(t,e){for(var i=Math.pow(2,e),r=(Math.pow(4,e),o(h.vertices[t.a])),a=o(h.vertices[t.b]),s=o(h.vertices[t.c]),l=[],c=0;i>=c;c++){l[c]=[];for(var d=o(r.clone().lerp(s,c/i)),u=o(a.clone().lerp(s,c/i)),p=i-c,f=0;p>=f;f++)l[c][f]=0==f&&c==i?d:o(d.clone().lerp(u,f/p))}for(var c=0;i>c;c++)for(var f=0;2*(i-c)-1>f;f++){var _=Math.floor(f/2);f%2==0?n(l[c][_+1],l[c+1][_],l[c][_]):n(l[c][_+1],l[c+1][_+1],l[c+1][_])}}function s(t){return Math.atan2(t.z,-t.x)}function l(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}function c(t,e,i){return 0>i&&1===t.x&&(t=new THREE.Vector2(t.x-1,t.y)),0===e.x&&0===e.z&&(t=new THREE.Vector2(i/2/Math.PI+.5,t.y)),t.clone()}THREE.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},i=i||1,r=r||0;for(var h=this,d=0,u=t.length;u>d;d+=3)o(new THREE.Vector3(t[d],t[d+1],t[d+2]));for(var p=this.vertices,f=[],d=0,_=0,u=e.length;u>d;d+=3,_++){var m=p[e[d]],g=p[e[d+1]],y=p[e[d+2]];f[_]=new THREE.Face3(m.index,g.index,y.index,[m.clone(),g.clone(),y.clone()])}for(var b=new THREE.Vector3,d=0,u=f.length;u>d;d++)a(f[d],r);for(var d=0,u=this.faceVertexUvs[0].length;u>d;d++){var v=this.faceVertexUvs[0][d],M=v[0].x,S=v[1].x,x=v[2].x,T=Math.max(M,Math.max(S,x)),E=Math.min(M,Math.min(S,x));T>.9&&.1>E&&(.2>M&&(v[0].x+=1),.2>S&&(v[1].x+=1),.2>x&&(v[2].x+=1))}for(var d=0,u=this.vertices.length;u>d;d++)this.vertices[d].multiplyScalar(i);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,i)},THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.DodecahedronGeometry=function(t,e){this.parameters={radius:t,detail:e};var i=(1+Math.sqrt(5))/2,r=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],n=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];THREE.PolyhedronGeometry.call(this,o,n,t,e)},THREE.DodecahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.IcosahedronGeometry=function(t,e){var i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];THREE.PolyhedronGeometry.call(this,r,o,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}},THREE.IcosahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.OctahedronGeometry=function(t,e){this.parameters={radius:t,detail:e};var i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];THREE.PolyhedronGeometry.call(this,i,r,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}},THREE.OctahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TetrahedronGeometry=function(t,e){var i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];THREE.PolyhedronGeometry.call(this,i,r,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}},THREE.TetrahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ParametricGeometry=function(t,e,i){THREE.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i};var r,o,n,a,s,l=this.vertices,c=this.faces,h=this.faceVertexUvs[0],d=e+1;for(r=0;i>=r;r++)for(s=r/i,o=0;e>=o;o++)a=o/e,n=t(a,s),l.push(n);var u,p,f,_,m,g,y,b;for(r=0;i>r;r++)for(o=0;e>o;o++)u=r*d+o,p=r*d+o+1,f=(r+1)*d+o+1,_=(r+1)*d+o,m=new THREE.Vector2(o/e,r/i),g=new THREE.Vector2((o+1)/e,r/i),y=new THREE.Vector2((o+1)/e,(r+1)/i),b=new THREE.Vector2(o/e,(r+1)/i),c.push(new THREE.Face3(u,p,_)),h.push([m,g,b]),c.push(new THREE.Face3(p,f,_)),h.push([g.clone(),y,b.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.AxisHelper=function(t){t=t||1;var e=new Float32Array([0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t]),i=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),r=new THREE.BufferGeometry;r.addAttribute("position",new THREE.BufferAttribute(e,3)),r.addAttribute("color",new THREE.BufferAttribute(i,3));var o=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.Line.call(this,r,o,THREE.LinePieces)},THREE.AxisHelper.prototype=Object.create(THREE.Line.prototype),THREE.ArrowHelper=function(){var t=new THREE.Geometry;t.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,1,0));var e=new THREE.CylinderGeometry(0,.5,1,5,1);return e.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0)),function(i,r,o,n,a,s){THREE.Object3D.call(this),void 0===n&&(n=16776960),void 0===o&&(o=1),void 0===a&&(a=.2*o),void 0===s&&(s=.2*a),this.position.copy(r),this.line=new THREE.Line(t,new THREE.LineBasicMaterial({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new THREE.Mesh(e,new THREE.MeshBasicMaterial({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(i),this.setLength(o,a,s)}}(),THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.ArrowHelper.prototype.setDirection=function(){var t,e=new THREE.Vector3;return function(i){i.y>.99999?this.quaternion.set(0,0,0,1):i.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(i.z,0,-i.x).normalize(),t=Math.acos(i.y),this.quaternion.setFromAxisAngle(e,t))}}(),THREE.ArrowHelper.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,t,1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},THREE.ArrowHelper.prototype.setColor=function(t){this.line.material.color.set(t),this.cone.material.color.set(t)},THREE.BoxHelper=function(t){var e=new THREE.BufferGeometry;e.addAttribute("position",new THREE.BufferAttribute(new Float32Array(72),3)),THREE.Line.call(this,e,new THREE.LineBasicMaterial({color:16776960}),THREE.LinePieces),void 0!==t&&this.update(t)},THREE.BoxHelper.prototype=Object.create(THREE.Line.prototype),THREE.BoxHelper.prototype.update=function(t){var e=t.geometry;null===e.boundingBox&&e.computeBoundingBox();var i=e.boundingBox.min,r=e.boundingBox.max,o=this.geometry.attributes.position.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=i.x,o[4]=r.y,o[5]=r.z,o[6]=i.x,o[7]=r.y,o[8]=r.z,o[9]=i.x,o[10]=i.y,o[11]=r.z,o[12]=i.x,o[13]=i.y,o[14]=r.z,o[15]=r.x,o[16]=i.y,o[17]=r.z,o[18]=r.x,o[19]=i.y,o[20]=r.z,o[21]=r.x,o[22]=r.y,o[23]=r.z,o[24]=r.x,o[25]=r.y,o[26]=i.z,o[27]=i.x,o[28]=r.y,o[29]=i.z,o[30]=i.x,o[31]=r.y,o[32]=i.z,o[33]=i.x,o[34]=i.y,o[35]=i.z,o[36]=i.x,o[37]=i.y,o[38]=i.z,o[39]=r.x,o[40]=i.y,o[41]=i.z,o[42]=r.x,o[43]=i.y,o[44]=i.z,o[45]=r.x,o[46]=r.y,o[47]=i.z,o[48]=r.x,o[49]=r.y,o[50]=r.z,o[51]=r.x,o[52]=r.y,o[53]=i.z,o[54]=i.x,o[55]=r.y,o[56]=r.z,o[57]=i.x,o[58]=r.y,o[59]=i.z,o[60]=i.x,o[61]=i.y,o[62]=r.z,o[63]=i.x,o[64]=i.y,o[65]=i.z,o[66]=r.x,o[67]=i.y,o[68]=r.z,o[69]=r.x,o[70]=i.y,o[71]=i.z,this.geometry.attributes.position.needsUpdate=!0,this.geometry.computeBoundingSphere(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},THREE.BoundingBoxHelper=function(t,e){var i=void 0!==e?e:8947848;this.object=t,this.box=new THREE.Box3,THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:i,wireframe:!0}))
},THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},THREE.CameraHelper=function(t){function e(t,e,r){i(t,r),i(e,r)}function i(t,e){r.vertices.push(new THREE.Vector3),r.colors.push(new THREE.Color(e)),void 0===n[t]&&(n[t]=[]),n[t].push(r.vertices.length-1)}var r=new THREE.Geometry,o=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),n={},a=16755200,s=16711680,l=43775,c=16777215,h=3355443;e("n1","n2",a),e("n2","n4",a),e("n4","n3",a),e("n3","n1",a),e("f1","f2",a),e("f2","f4",a),e("f4","f3",a),e("f3","f1",a),e("n1","f1",a),e("n2","f2",a),e("n3","f3",a),e("n4","f4",a),e("p","n1",s),e("p","n2",s),e("p","n3",s),e("p","n4",s),e("u1","u2",l),e("u2","u3",l),e("u3","u1",l),e("c","t",c),e("p","c",h),e("cn1","cn2",h),e("cn3","cn4",h),e("cf1","cf2",h),e("cf3","cf4",h),THREE.Line.call(this,r,o,THREE.LinePieces),this.camera=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=n,this.update()},THREE.CameraHelper.prototype=Object.create(THREE.Line.prototype),THREE.CameraHelper.prototype.update=function(){var t,e,i=new THREE.Vector3,r=new THREE.Camera,o=function(o,n,a,s){i.set(n,a,s).unproject(r);var l=e[o];if(void 0!==l)for(var c=0,h=l.length;h>c;c++)t.vertices[l[c]].copy(i)};return function(){t=this.geometry,e=this.pointMap;var i=1,n=1;r.projectionMatrix.copy(this.camera.projectionMatrix),o("c",0,0,-1),o("t",0,0,1),o("n1",-i,-n,-1),o("n2",i,-n,-1),o("n3",-i,n,-1),o("n4",i,n,-1),o("f1",-i,-n,1),o("f2",i,-n,1),o("f3",-i,n,1),o("f4",i,n,1),o("u1",.7*i,1.1*n,-1),o("u2",.7*-i,1.1*n,-1),o("u3",0,2*n,-1),o("cf1",-i,0,1),o("cf2",i,0,1),o("cf3",0,-n,1),o("cf4",0,n,1),o("cn1",-i,0,-1),o("cn2",i,0,-1),o("cn3",0,-n,-1),o("cn4",0,n,-1),t.verticesNeedUpdate=!0}}(),THREE.DirectionalLightHelper=function(t,e){THREE.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,e=e||1;var i=new THREE.Geometry;i.vertices.push(new THREE.Vector3(-e,e,0),new THREE.Vector3(e,e,0),new THREE.Vector3(e,-e,0),new THREE.Vector3(-e,-e,0),new THREE.Vector3(-e,e,0));var r=new THREE.LineBasicMaterial({fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new THREE.Line(i,r),this.add(this.lightPlane),i=new THREE.Geometry,i.vertices.push(new THREE.Vector3,new THREE.Vector3),r=new THREE.LineBasicMaterial({fog:!1}),r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new THREE.Line(i,r),this.add(this.targetLine),this.update()},THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},THREE.DirectionalLightHelper.prototype.update=function(){var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Vector3;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(e,t),this.lightPlane.lookAt(i),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(i),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),THREE.EdgesHelper=function(t,e){var i=void 0!==e?e:16777215,r=[0,0],o={},n=function(t,e){return t-e},a=["a","b","c"],s=new THREE.BufferGeometry,l=t.geometry.clone();l.mergeVertices(),l.computeFaceNormals();for(var c=l.vertices,h=l.faces,d=0,u=0,p=h.length;p>u;u++)for(var f=h[u],_=0;3>_;_++){r[0]=f[a[_]],r[1]=f[a[(_+1)%3]],r.sort(n);var m=r.toString();void 0===o[m]?(o[m]={vert1:r[0],vert2:r[1],face1:u,face2:void 0},d++):o[m].face2=u}var g=new Float32Array(2*d*3),y=0;for(var m in o){var b=o[m];if(void 0===b.face2||h[b.face1].normal.dot(h[b.face2].normal)<.9999){var v=c[b.vert1];g[y++]=v.x,g[y++]=v.y,g[y++]=v.z,v=c[b.vert2],g[y++]=v.x,g[y++]=v.y,g[y++]=v.z}}s.addAttribute("position",new THREE.BufferAttribute(g,3)),THREE.Line.call(this,s,new THREE.LineBasicMaterial({color:i}),THREE.LinePieces),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},THREE.EdgesHelper.prototype=Object.create(THREE.Line.prototype),THREE.FaceNormalsHelper=function(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;for(var o=void 0!==i?i:16776960,n=void 0!==r?r:1,a=new THREE.Geometry,s=this.object.geometry.faces,l=0,c=s.length;c>l;l++)a.vertices.push(new THREE.Vector3,new THREE.Vector3);THREE.Line.call(this,a,new THREE.LineBasicMaterial({color:o,linewidth:n}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new THREE.Matrix3,this.update()},THREE.FaceNormalsHelper.prototype=Object.create(THREE.Line.prototype),THREE.FaceNormalsHelper.prototype.update=function(){var t=this.geometry.vertices,e=this.object,i=e.geometry.vertices,r=e.geometry.faces,o=e.matrixWorld;e.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(o);for(var n=0,a=0,s=r.length;s>n;n++,a+=2){var l=r[n];t[a].copy(i[l.a]).add(i[l.b]).add(i[l.c]).divideScalar(3).applyMatrix4(o),t[a+1].copy(l.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size).add(t[a])}return this.geometry.verticesNeedUpdate=!0,this},THREE.GridHelper=function(t,e){var i=new THREE.Geometry,r=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(4473924),this.color2=new THREE.Color(8947848);for(var o=-t;t>=o;o+=e){i.vertices.push(new THREE.Vector3(-t,0,o),new THREE.Vector3(t,0,o),new THREE.Vector3(o,0,-t),new THREE.Vector3(o,0,t));var n=0===o?this.color1:this.color2;i.colors.push(n,n,n,n)}THREE.Line.call(this,i,r,THREE.LinePieces)},THREE.GridHelper.prototype=Object.create(THREE.Line.prototype),THREE.GridHelper.prototype.setColors=function(t,e){this.color1.set(t),this.color2.set(e),this.geometry.colorsNeedUpdate=!0},THREE.HemisphereLightHelper=function(t,e){THREE.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new THREE.Color,new THREE.Color];var i=new THREE.SphereGeometry(e,4,2);i.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));for(var r=0,o=8;o>r;r++)i.faces[r].color=this.colors[4>r?0:1];var n=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:!0});this.lightSphere=new THREE.Mesh(i,n),this.add(this.lightSphere),this.update()},THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},THREE.HemisphereLightHelper.prototype.update=function(){var t=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),THREE.PointLightHelper=function(t,e){this.light=t,this.light.updateMatrixWorld();var i=new THREE.SphereGeometry(e,4,2),r=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),THREE.Mesh.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},THREE.SkeletonHelper=function(t){this.bones=this.getBoneList(t);for(var e=new THREE.Geometry,i=0;i<this.bones.length;i++){var r=this.bones[i];r.parent instanceof THREE.Bone&&(e.vertices.push(new THREE.Vector3),e.vertices.push(new THREE.Vector3),e.colors.push(new THREE.Color(0,0,1)),e.colors.push(new THREE.Color(0,1,0)))}var o=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});THREE.Line.call(this,e,o,THREE.LinePieces),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()},THREE.SkeletonHelper.prototype=Object.create(THREE.Line.prototype),THREE.SkeletonHelper.prototype.getBoneList=function(t){var e=[];t instanceof THREE.Bone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,this.getBoneList(t.children[i]));return e},THREE.SkeletonHelper.prototype.update=function(){for(var t=this.geometry,e=(new THREE.Matrix4).getInverse(this.root.matrixWorld),i=new THREE.Matrix4,r=0,o=0;o<this.bones.length;o++){var n=this.bones[o];n.parent instanceof THREE.Bone&&(i.multiplyMatrices(e,n.matrixWorld),t.vertices[r].setFromMatrixPosition(i),i.multiplyMatrices(e,n.parent.matrixWorld),t.vertices[r+1].setFromMatrixPosition(i),r+=2)}t.verticesNeedUpdate=!0,t.computeBoundingSphere()},THREE.SpotLightHelper=function(t){THREE.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var e=new THREE.CylinderGeometry(0,1,1,8,1,!0);e.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0)),e.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var i=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new THREE.Mesh(e,i),this.add(this.cone),this.update()},THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},THREE.SpotLightHelper.prototype.update=function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(){var i=this.light.distance?this.light.distance:1e4,r=i*Math.tan(this.light.angle);this.cone.scale.set(r,r,i),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),THREE.VertexNormalsHelper=function(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;for(var o=void 0!==i?i:16711680,n=void 0!==r?r:1,a=new THREE.Geometry,s=(t.geometry.vertices,t.geometry.faces),l=0,c=s.length;c>l;l++)for(var h=s[l],d=0,u=h.vertexNormals.length;u>d;d++)a.vertices.push(new THREE.Vector3,new THREE.Vector3);THREE.Line.call(this,a,new THREE.LineBasicMaterial({color:o,linewidth:n}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new THREE.Matrix3,this.update()},THREE.VertexNormalsHelper.prototype=Object.create(THREE.Line.prototype),THREE.VertexNormalsHelper.prototype.update=function(){var t=new THREE.Vector3;return function(){var e=["a","b","c","d"];this.object.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var i=this.geometry.vertices,r=this.object.geometry.vertices,o=this.object.geometry.faces,n=this.object.matrixWorld,a=0,s=0,l=o.length;l>s;s++)for(var c=o[s],h=0,d=c.vertexNormals.length;d>h;h++){var u=c[e[h]],p=r[u],f=c.vertexNormals[h];i[a].copy(p).applyMatrix4(n),t.copy(f).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size),t.add(i[a]),a+=1,i[a].copy(t),a+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.VertexTangentsHelper=function(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;for(var o=void 0!==i?i:255,n=void 0!==r?r:1,a=new THREE.Geometry,s=(t.geometry.vertices,t.geometry.faces),l=0,c=s.length;c>l;l++)for(var h=s[l],d=0,u=h.vertexTangents.length;u>d;d++)a.vertices.push(new THREE.Vector3),a.vertices.push(new THREE.Vector3);THREE.Line.call(this,a,new THREE.LineBasicMaterial({color:o,linewidth:n}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.update()},THREE.VertexTangentsHelper.prototype=Object.create(THREE.Line.prototype),THREE.VertexTangentsHelper.prototype.update=function(){var t=new THREE.Vector3;return function(){var e=["a","b","c","d"];this.object.updateMatrixWorld(!0);for(var i=this.geometry.vertices,r=this.object.geometry.vertices,o=this.object.geometry.faces,n=this.object.matrixWorld,a=0,s=0,l=o.length;l>s;s++)for(var c=o[s],h=0,d=c.vertexTangents.length;d>h;h++){var u=c[e[h]],p=r[u],f=c.vertexTangents[h];i[a].copy(p).applyMatrix4(n),t.copy(f).transformDirection(n).multiplyScalar(this.size),t.add(i[a]),a+=1,i[a].copy(t),a+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.WireframeHelper=function(t,e){var i=void 0!==e?e:16777215,r=[0,0],o={},n=function(t,e){return t-e},a=["a","b","c"],s=new THREE.BufferGeometry;if(t.geometry instanceof THREE.Geometry){for(var l=t.geometry.vertices,c=t.geometry.faces,h=0,d=new Uint32Array(6*c.length),u=0,p=c.length;p>u;u++)for(var f=c[u],_=0;3>_;_++){r[0]=f[a[_]],r[1]=f[a[(_+1)%3]],r.sort(n);var m=r.toString();void 0===o[m]&&(d[2*h]=r[0],d[2*h+1]=r[1],o[m]=!0,h++)}for(var g=new Float32Array(2*h*3),u=0,p=h;p>u;u++)for(var _=0;2>_;_++){var y=l[d[2*u+_]],b=6*u+3*_;g[b+0]=y.x,g[b+1]=y.y,g[b+2]=y.z}s.addAttribute("position",new THREE.BufferAttribute(g,3))}else if(t.geometry instanceof THREE.BufferGeometry)if(void 0!==t.geometry.attributes.index){var l=t.geometry.attributes.position.array,v=t.geometry.attributes.index.array,M=t.geometry.drawcalls,h=0;0===M.length&&(M=[{count:v.length,index:0,start:0}]);for(var d=new Uint32Array(2*v.length),S=0,x=M.length;x>S;++S)for(var T=M[S].start,E=M[S].count,b=M[S].index,u=T,C=T+E;C>u;u+=3)for(var _=0;3>_;_++){r[0]=b+v[u+_],r[1]=b+v[u+(_+1)%3],r.sort(n);var m=r.toString();void 0===o[m]&&(d[2*h]=r[0],d[2*h+1]=r[1],o[m]=!0,h++)}for(var g=new Float32Array(2*h*3),u=0,p=h;p>u;u++)for(var _=0;2>_;_++){var b=6*u+3*_,A=3*d[2*u+_];g[b+0]=l[A],g[b+1]=l[A+1],g[b+2]=l[A+2]}s.addAttribute("position",new THREE.BufferAttribute(g,3))}else{for(var l=t.geometry.attributes.position.array,h=l.length/3,w=h/3,g=new Float32Array(2*h*3),u=0,p=w;p>u;u++)for(var _=0;3>_;_++){var b=18*u+6*_,R=9*u+3*_;g[b+0]=l[R],g[b+1]=l[R+1],g[b+2]=l[R+2];var A=9*u+3*((_+1)%3);g[b+3]=l[A],g[b+4]=l[A+1],g[b+5]=l[A+2]}s.addAttribute("position",new THREE.BufferAttribute(g,3))}THREE.Line.call(this,s,new THREE.LineBasicMaterial({color:i}),THREE.LinePieces),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},THREE.WireframeHelper.prototype=Object.create(THREE.Line.prototype),THREE.ImmediateRenderObject=function(){THREE.Object3D.call(this),this.render=function(){}},THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype),THREE.MorphBlendMesh=function(t,e){THREE.Mesh.call(this,t,e),this.animationsMap={},this.animationsList=[];var i=this.geometry.morphTargets.length,r="__default",o=0,n=i-1,a=i/1;this.createAnimation(r,o,n,a),this.setAnimationWeight(r,1)},THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphBlendMesh.prototype.createAnimation=function(t,e,i,r){var o={startFrame:e,endFrame:i,length:i-e+1,fps:r,duration:(i-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=o,this.animationsList.push(o)},THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(t){for(var e,i=/([a-z]+)_?(\d+)/,r={},o=this.geometry,n=0,a=o.morphTargets.length;a>n;n++){var s=o.morphTargets[n],l=s.name.match(i);if(l&&l.length>1){{var c=l[1];l[2]}r[c]||(r[c]={start:1/0,end:-1/0});var h=r[c];n<h.start&&(h.start=n),n>h.end&&(h.end=n),e||(e=c)}}for(var c in r){var h=r[c];this.createAnimation(c,h.start,h.end,t)}this.firstAnimation=e},THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},THREE.MorphBlendMesh.prototype.setAnimationFPS=function(t,e){var i=this.animationsMap[t];i&&(i.fps=e,i.duration=(i.end-i.start)/i.fps)},THREE.MorphBlendMesh.prototype.setAnimationDuration=function(t,e){var i=this.animationsMap[t];i&&(i.duration=e,i.fps=(i.end-i.start)/i.duration)},THREE.MorphBlendMesh.prototype.setAnimationWeight=function(t,e){var i=this.animationsMap[t];i&&(i.weight=e)},THREE.MorphBlendMesh.prototype.setAnimationTime=function(t,e){var i=this.animationsMap[t];i&&(i.time=e)},THREE.MorphBlendMesh.prototype.getAnimationTime=function(t){var e=0,i=this.animationsMap[t];return i&&(e=i.time),e},THREE.MorphBlendMesh.prototype.getAnimationDuration=function(t){var e=-1,i=this.animationsMap[t];return i&&(e=i.duration),e},THREE.MorphBlendMesh.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("animation["+t+"] undefined")},THREE.MorphBlendMesh.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},THREE.MorphBlendMesh.prototype.update=function(t){for(var e=0,i=this.animationsList.length;i>e;e++){var r=this.animationsList[e];if(r.active){var o=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var n=r.startFrame+THREE.Math.clamp(Math.floor(r.time/o),0,r.length-1),a=r.weight;n!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[n]=0,r.lastFrame=r.currentFrame,r.currentFrame=n);var s=r.time%o/o;r.directionBackwards&&(s=1-s),this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a}}};var JSM={mainVersion:0,subVersion:32,Eps:1e-8,Inf:9999999999,RadDeg:57.29577951308232,DegRad:.017453292519943,IsZero:function(t){return Math.abs(t)<JSM.Eps},IsPositive:function(t){return t>JSM.Eps},IsNegative:function(t){return t<-JSM.Eps},IsLower:function(t,e){return e-t>JSM.Eps},IsGreater:function(t,e){return t-e>JSM.Eps},IsEqual:function(t,e){return Math.abs(e-t)<JSM.Eps},IsEqualWithEps:function(t,e,i){return Math.abs(e-t)<i},IsLowerOrEqual:function(t,e){return JSM.IsLower(t,e)||JSM.IsEqual(t,e)},IsGreaterOrEqual:function(t,e){return JSM.IsGreater(t,e)||JSM.IsEqual(t,e)},Minimum:function(t,e){return JSM.IsLower(t,e)?t:e},Maximum:function(t,e){return JSM.IsGreater(t,e)?t:e},ArcSin:function(t){return JSM.IsGreaterOrEqual(t,1)?Math.PI/2:JSM.IsLowerOrEqual(t,-1)?-Math.PI/2:Math.asin(t)},ArcCos:function(t){return JSM.IsGreaterOrEqual(t,1)?0:JSM.IsLowerOrEqual(t,-1)?Math.PI:Math.acos(t)},RandomNumber:function(t,e){return Math.random()*(e-t)+t},RandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},SeededRandomInt:function(t,e,i){return Math.floor((9301*i+49297)%233280/233280*(e-t+1)+t)},ValueOrDefault:function(t,e){return void 0===t||null===t?e:t},Assert:function(t,e){if(!t){var i="Assertion failed.";void 0!==e&&null!==e&&(i+=" "+e),alert(i)}},Timer:function(){this.stop=this.start=0}};JSM.Timer.prototype.Start=function(){this.start=(new Date).getTime()},JSM.Timer.prototype.Stop=function(){this.end=(new Date).getTime()},JSM.Timer.prototype.Result=function(){return this.end-this.start},JSM.FPSCounter=function(){this.current=this.frames=this.start=null},JSM.FPSCounter.prototype.Get=function(t){var e=(new Date).getTime();null===this.start&&(this.start=e,this.current=this.frames=0),(null===t||void 0===t)&&(t=1e3),this.frames+=1;var i=e-this.start;return i>=t&&(this.current=1e3*(this.frames/i),this.start=e,this.frames=0),parseInt(this.current,10)},JSM.BubbleSort=function(t,e){if(!(2>t.length||void 0===e||null===e)){var i,r;for(i=0;i<t.length-1;i++)for(r=0;r<t.length-i-1;r++)if(!e(t[r],t[r+1])){var o=t,n=r+1,a=o[r];o[r]=o[n],o[n]=a}}},JSM.AsyncEnvironment=function(t){this.parameters=t},JSM.AsyncEnvironment.prototype.OnStart=function(t,e){void 0!==this.parameters&&void 0!==this.parameters.onStart&&this.parameters.onStart(t,e)},JSM.AsyncEnvironment.prototype.OnProcess=function(t,e){void 0!==this.parameters&&void 0!==this.parameters.onProcess&&this.parameters.onProcess(t,e)},JSM.AsyncEnvironment.prototype.OnFinish=function(t){void 0!==this.parameters&&void 0!==this.parameters.onFinish&&this.parameters.onFinish(t)},JSM.AsyncRunTask=function(t,e,i,r,o){function n(a){var s=t();e.OnProcess(a,o),s&&i-1>a?setTimeout(function(){n(a+1)},r):setTimeout(function(){e.OnFinish(o)},r)}if(void 0===e||null===e){var a,s;for(a=0;i>a&&(s=t(),!!s);a++);}else e.OnStart(i,o),n(0)},JSM.Coord2D=function(t,e){this.x=t,this.y=e},JSM.Coord2D.prototype.Set=function(t,e){this.x=t,this.y=e},JSM.Coord2D.prototype.ToString=function(){return"("+this.x+", "+this.y+")"},JSM.Coord2D.prototype.Clone=function(){return new JSM.Coord2D(this.x,this.y)},JSM.PolarCoord=function(t,e){this.radius=t,this.angle=e},JSM.PolarCoord.prototype.Set=function(t,e){this.radius=t,this.angle=e},JSM.PolarCoord.prototype.ToString=function(){return"("+this.radius+", "+this.angle+")"},JSM.PolarCoord.prototype.Clone=function(){return new JSM.PolarCoord(this.radius,this.angle)},JSM.Coord=function(t,e,i){this.x=t,this.y=e,this.z=i},JSM.Coord.prototype.Set=function(t,e,i){this.x=t,this.y=e,this.z=i},JSM.Coord.prototype.ToString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},JSM.Coord.prototype.Clone=function(){return new JSM.Coord(this.x,this.y,this.z)},JSM.SphericalCoord=function(t,e,i){this.radius=t,this.theta=e,this.phi=i},JSM.SphericalCoord.prototype.Set=function(t,e,i){this.radius=t,this.theta=e,this.phi=i},JSM.SphericalCoord.prototype.ToString=function(){return"("+this.radius+", "+this.theta+", "+this.phi+")"},JSM.SphericalCoord.prototype.Clone=function(){return new JSM.SphericalCoord(this.radius,this.theta,this.phi)},JSM.Vector2D=JSM.Coord2D,JSM.Vector=JSM.Coord,JSM.MatrixDeterminant2x2=function(t,e,i,r){return t*r-e*i},JSM.MatrixDeterminant3x3=function(t,e,i,r,o,n,a,s,l){var c=JSM.MatrixDeterminant2x2(o,n,s,l);return n=JSM.MatrixDeterminant2x2(r,n,a,l),r=JSM.MatrixDeterminant2x2(r,o,a,s),t*c-e*n+i*r},JSM.MatrixDeterminant4x4=function(t,e,i,r,o,n,a,s,l,c,h,d,u,p,f,_){var m=JSM.MatrixDeterminant3x3(n,a,s,c,h,d,p,f,_),g=JSM.MatrixDeterminant3x3(o,a,s,l,h,d,u,f,_);return s=JSM.MatrixDeterminant3x3(o,n,s,l,c,d,u,p,_),o=JSM.MatrixDeterminant3x3(o,n,a,l,c,h,u,p,f),m*t-g*e+s*i-o*r},JSM.CoordFromArray2D=function(t){return new JSM.Coord2D(t[0],t[1])},JSM.CoordFromArray=function(t){return new JSM.Coord(t[0],t[1],t[2])},JSM.CoordIsEqual2D=function(t,e){return JSM.IsEqual(t.x,e.x)&&JSM.IsEqual(t.y,e.y)},JSM.CoordIsEqual2DWithEps=function(t,e,i){return JSM.IsEqualWithEps(t.x,e.x,i)&&JSM.IsEqualWithEps(t.y,e.y,i)},JSM.CoordDistance2D=function(t,e){var i=t.x,r=t.y,o=e.x,n=e.y;return Math.sqrt((o-i)*(o-i)+(n-r)*(n-r))},JSM.MidCoord2D=function(t,e){return new JSM.Coord2D((t.x+e.x)/2,(t.y+e.y)/2)},JSM.PolarToCartesian=function(t,e){var i=new JSM.Coord2D(0,0);return i.x=t*Math.cos(e),i.y=t*Math.sin(e),i},JSM.GetArcLengthFromAngle=function(t,e){return e*t},JSM.GetAngleFromArcLength=function(t,e){return JSM.IsEqual(t,0)?0:e/t},JSM.CoordTurnType2D=function(t,e,i){return t=JSM.MatrixDeterminant3x3(t.x,t.y,1,e.x,e.y,1,i.x,i.y,1),JSM.IsPositive(t)?"CounterClockwise":JSM.IsNegative(t)?"Clockwise":"Collinear"},JSM.CoordIsEqual=function(t,e){return JSM.IsEqual(t.x,e.x)&&JSM.IsEqual(t.y,e.y)&&JSM.IsEqual(t.z,e.z)},JSM.CoordIsEqualWithEps=function(t,e,i){return JSM.IsEqualWithEps(t.x,e.x,i)&&JSM.IsEqualWithEps(t.y,e.y,i)&&JSM.IsEqualWithEps(t.z,e.z,i)},JSM.SphericalCoordIsEqual=function(t,e){return JSM.IsEqual(t.radius,e.radius)&&JSM.IsEqual(t.phi,e.phi)&&JSM.IsEqual(t.theta,e.theta)},JSM.CoordDistance=function(t,e){var i=t.x,r=t.y,o=t.z,n=e.x,a=e.y,s=e.z;return Math.sqrt((n-i)*(n-i)+(a-r)*(a-r)+(s-o)*(s-o))},JSM.CoordSignedDistance=function(t,e,i){var r=JSM.CoordSub(e,t);return t=JSM.CoordDistance(t,e),i=JSM.GetVectorsAngle(r,i),JSM.IsPositive(i)&&(t=-t),t},JSM.MidCoord=function(t,e){return new JSM.Coord((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},JSM.VectorMultiply=function(t,e){var i=new JSM.Vector(0,0,0);return i.x=t.x*e,i.y=t.y*e,i.z=t.z*e,i},JSM.VectorDot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},JSM.VectorCross=function(t,e){var i=new JSM.Vector(0,0,0);return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},JSM.VectorLength=function(t){var e=t.x,i=t.y;return t=t.z,Math.sqrt(e*e+i*i+t*t)},JSM.VectorNormalize=function(t){var e=JSM.VectorLength(t),i=new JSM.Vector(0,0,0);return JSM.IsGreater(e,0)&&(i=JSM.VectorMultiply(t,1/e)),i},JSM.VectorSetLength=function(t,e){var i=e/JSM.VectorLength(t);return JSM.VectorMultiply(t,i)},JSM.GetVectorsAngle=function(t,e){var i=JSM.VectorNormalize(t),r=JSM.VectorNormalize(e);return JSM.CoordIsEqual(i,r)?0:(i=JSM.VectorDot(i,r),JSM.ArcCos(i))},JSM.GetVectorsFullAngle=function(t,e,i){var r=JSM.GetVectorsAngle(t,e),o=new JSM.Coord(0,0,0);return"Clockwise"==JSM.CoordTurnType(t,o,e,i)&&(r=2*Math.PI-r),r},JSM.VectorsAreCollinear=function(t,e){var i=JSM.GetVectorsAngle(t,e);return JSM.IsEqual(i,0)||JSM.IsEqual(i,Math.PI)},JSM.CoordAdd=function(t,e){return new JSM.Vector(t.x+e.x,t.y+e.y,t.z+e.z)},JSM.CoordSub=function(t,e){return new JSM.Vector(t.x-e.x,t.y-e.y,t.z-e.z)},JSM.CoordOffset=function(t,e,i){e=JSM.VectorNormalize(e);var r=new JSM.Coord(0,0,0);return r.x=t.x+e.x*i,r.y=t.y+e.y*i,r.z=t.z+e.z*i,r},JSM.CoordRotate=function(t,e,i,r){var o=JSM.CoordSub(t,r),n=JSM.VectorNormalize(e);e=n.x,t=n.y;var n=n.z,a=o.x,s=o.y,o=o.z,l=new JSM.Coord(0,0,0);return l.x=-e*(-e*a-t*s-n*o)*(1-Math.cos(i))+a*Math.cos(i)+(-n*s+t*o)*Math.sin(i),l.y=-t*(-e*a-t*s-n*o)*(1-Math.cos(i))+s*Math.cos(i)+(n*a-e*o)*Math.sin(i),l.z=-n*(-e*a-t*s-n*o)*(1-Math.cos(i))+o*Math.cos(i)+(-t*a+e*s)*Math.sin(i),l=JSM.CoordAdd(l,r)},JSM.GetCoord2DFromCoord=function(t,e,i){var r=new JSM.Vector(0,0,1),o=JSM.VectorCross(i,r);return i=JSM.GetVectorsAngle(i,r),t=JSM.CoordRotate(t,o,i,e),new JSM.Coord2D(t.x,t.y)},JSM.CoordTurnType=function(t,e,i,r){var o=new JSM.Coord(0,0,0);return t=JSM.GetCoord2DFromCoord(t,o,r),e=JSM.GetCoord2DFromCoord(e,o,r),i=JSM.GetCoord2DFromCoord(i,o,r),i=JSM.CoordTurnType2D(t,e,i),o=new JSM.Vector(0,0,1),r=JSM.GetVectorsAngle(r,o),JSM.IsEqual(r,Math.PI)&&("CounterClockwise"===i?i="Clockwise":"Clockwise"===i&&(i="CounterClockwise")),i},JSM.CalculateCentroid=function(t){var e=t.length,i=new JSM.Coord(0,0,0);if(e>=1){var r;for(r=0;e>r;r++)i=JSM.CoordAdd(i,t[r]);i=JSM.VectorMultiply(i,1/e)}return i},JSM.CalculateTriangleNormal=function(t,e,i){return e=JSM.CoordSub(e,t),t=JSM.CoordSub(i,t),i=new JSM.Vector(0,0,0),i.x=e.y*t.z-e.z*t.y,i.y=e.z*t.x-e.x*t.z,i.z=e.x*t.y-e.y*t.x,JSM.VectorNormalize(i)},JSM.CalculateNormal=function(t){var e=t.length,i=new JSM.Vector(0,0,0);if(e>=3){var r,o,n;for(r=0;e>r;r++)o=r%e,n=(r+1)%e,o=t[o],n=t[n],i.x+=(o.y-n.y)*(o.z+n.z),i.y+=(o.z-n.z)*(o.x+n.x),i.z+=(o.x-n.x)*(o.y+n.y)}return JSM.VectorNormalize(i)},JSM.SphericalToCartesian=function(t,e,i){var r=new JSM.Coord(0,0,0);return r.x=t*Math.sin(e)*Math.cos(i),r.y=t*Math.sin(e)*Math.sin(i),r.z=t*Math.cos(e),r},JSM.CartesianToSpherical=function(t,e,i){var r=new JSM.SphericalCoord(0,0,0);return r.radius=Math.sqrt(t*t+e*e+i*i),JSM.IsZero(r.radius)?r:(r.theta=Math.acos(i/r.radius),r.phi=Math.atan2(e,t),r)},JSM.SphericalToCartesianWithOrigo=function(t,e){var i=JSM.SphericalToCartesian(t.radius,t.theta,t.phi);return JSM.CoordAdd(i,e)},JSM.CartesianToSphericalWithOrigo=function(t,e){var i=JSM.CoordSub(t,e);return JSM.CartesianToSpherical(i.x,i.y,i.z)},JSM.MoveCoordOnSphere=function(t,e,i,r){return t=JSM.CartesianToSphericalWithOrigo(t,e),t.theta+=i,t.phi+=r,JSM.SphericalToCartesianWithOrigo(t,e)},JSM.CylindricalToCartesian=function(t,e,i){var r=new JSM.Coord(0,0,0);return r.x=t*Math.cos(i),r.y=t*Math.sin(i),r.z=e,r},JSM.GetArcLength=function(t,e,i){return JSM.GetVectorsAngle(t,e)*i},JSM.GetFullArcLength=function(t,e,i,r){return JSM.GetVectorsFullAngle(t,e,r)*i},JSM.MatrixIdentity=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},JSM.MatrixClone=function(t){var e=[];return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},JSM.MatrixTranspose=function(t){var e=[];return e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e},JSM.MatrixVectorMultiply=function(t,e){var i=e[0],r=e[1],o=e[2],n=e[3],a=t[1],s=t[2],l=t[3],c=t[5],h=t[6],d=t[7],u=t[9],p=t[10],f=t[11],_=t[13],m=t[14],g=t[15],y=[];return y[0]=i*t[0]+r*t[4]+o*t[8]+n*t[12],y[1]=i*a+r*c+o*u+n*_,y[2]=i*s+r*h+o*p+n*m,y[3]=i*l+r*d+o*f+n*g,y},JSM.MatrixMultiply=function(t,e){var i=t[0],r=t[1],o=t[2],n=t[3],a=t[4],s=t[5],l=t[6],c=t[7],h=t[8],d=t[9],u=t[10],p=t[11],f=t[12],_=t[13],m=t[14],g=t[15],y=e[0],b=e[1],v=e[2],M=e[3],S=e[4],x=e[5],T=e[6],E=e[7],C=e[8],A=e[9],w=e[10],R=e[11],D=e[12],P=e[13],B=e[14],V=e[15],L=[];return L[0]=i*y+r*S+o*C+n*D,L[1]=i*b+r*x+o*A+n*P,L[2]=i*v+r*T+o*w+n*B,L[3]=i*M+r*E+o*R+n*V,L[4]=a*y+s*S+l*C+c*D,L[5]=a*b+s*x+l*A+c*P,L[6]=a*v+s*T+l*w+c*B,L[7]=a*M+s*E+l*R+c*V,L[8]=h*y+d*S+u*C+p*D,L[9]=h*b+d*x+u*A+p*P,L[10]=h*v+d*T+u*w+p*B,L[11]=h*M+d*E+u*R+p*V,L[12]=f*y+_*S+m*C+g*D,L[13]=f*b+_*x+m*A+g*P,L[14]=f*v+_*T+m*w+g*B,L[15]=f*M+_*E+m*R+g*V,L},JSM.MatrixDeterminant=function(t){var e=t[0],i=t[1],r=t[2],o=t[3],n=t[4],a=t[5],s=t[6],l=t[7],c=t[8],h=t[9],d=t[10],u=t[11],p=t[12],f=t[13],_=t[14];return t=t[15],(e*a-i*n)*(d*t-u*_)-(e*s-r*n)*(h*t-u*f)+(e*l-o*n)*(h*_-d*f)+(i*s-r*a)*(c*t-u*p)-(i*l-o*a)*(c*_-d*p)+(r*l-o*s)*(c*f-h*p)},JSM.MatrixInvert=function(t){var e=t[0],i=t[1],r=t[2],o=t[3],n=t[4],a=t[5],s=t[6],l=t[7],c=t[8],h=t[9],d=t[10],u=t[11],p=t[12],f=t[13],_=t[14];t=t[15];var m=e*a-i*n,g=e*s-r*n,y=e*l-o*n,b=i*s-r*a,v=i*l-o*a,M=r*l-o*s,S=c*f-h*p,x=c*_-d*p,T=c*t-u*p,E=h*_-d*f,C=h*t-u*f,A=d*t-u*_,w=m*A-g*C+y*E+b*T-v*x+M*S;if(JSM.IsZero(w))return null;var R=[];return R[0]=(a*A-s*C+l*E)/w,R[1]=(r*C-i*A-o*E)/w,R[2]=(f*M-_*v+t*b)/w,R[3]=(d*v-h*M-u*b)/w,R[4]=(s*T-n*A-l*x)/w,R[5]=(e*A-r*T+o*x)/w,R[6]=(_*y-p*M-t*g)/w,R[7]=(c*M-d*y+u*g)/w,R[8]=(n*C-a*T+l*S)/w,R[9]=(i*T-e*C-o*S)/w,R[10]=(p*v-f*y+t*m)/w,R[11]=(h*y-c*v-u*m)/w,R[12]=(a*x-n*E-s*S)/w,R[13]=(e*E-i*x+r*S)/w,R[14]=(f*g-p*b-_*m)/w,R[15]=(c*b-h*g+d*m)/w,R},JSM.MatrixTranslation=function(t,e,i){var r=[1,0,0,0,0,1,0,0,0,0,1,0];return r[12]=t,r[13]=e,r[14]=i,r[15]=1,r},JSM.MatrixRotation=function(t,e,i){var r=JSM.VectorNormalize(t);t=r.x;var o=r.y,r=r.z,n=t*t,a=o*o,s=r*r,l=Math.sin(e);e=Math.cos(e);var c=[];if(void 0===i||null===i)c[0]=n+(a+s)*e,c[1]=t*o*(1-e)+r*l,c[2]=t*r*(1-e)-o*l,c[3]=0,c[4]=t*o*(1-e)-r*l,c[5]=a+(n+s)*e,c[6]=o*r*(1-e)+t*l,c[7]=0,c[8]=t*r*(1-e)+o*l,c[9]=o*r*(1-e)-t*l,c[10]=s+(n+a)*e,c[11]=0,c[12]=0,c[13]=0,c[14]=0;else{var h=i.x,d=i.y;i=i.z,c[0]=n+(a+s)*e,c[1]=t*o*(1-e)+r*l,c[2]=t*r*(1-e)-o*l,c[3]=0,c[4]=t*o*(1-e)-r*l,c[5]=a+(n+s)*e,c[6]=o*r*(1-e)+t*l,c[7]=0,c[8]=t*r*(1-e)+o*l,c[9]=o*r*(1-e)-t*l,c[10]=s+(n+a)*e,c[11]=0,c[12]=(h*(a+s)-t*(d*o+i*r))*(1-e)+(d*r-i*o)*l,c[13]=(d*(n+s)-o*(h*t+i*r))*(1-e)+(i*t-h*r)*l,c[14]=(i*(n+a)-r*(h*t+d*o))*(1-e)+(h*o-d*t)*l}return c[15]=1,c},JSM.MatrixRotationQuaternion=function(t){var e=t[0],i=t[1],r=t[2],o=t[3],n=e+e,a=i+i,s=r+r;t=e*n;var l=e*a,e=e*s,c=i*a,i=i*s,r=r*s,n=o*n,a=o*a,o=o*s,s=[];return s[0]=1-(c+r),s[1]=l+o,s[2]=e-a,s[3]=0,s[4]=l-o,s[5]=1-(t+r),s[6]=i+n,s[7]=0,s[8]=e+a,s[9]=i-n,s[10]=1-(t+c),s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s},JSM.MatrixRotationX=function(t){var e=Math.sin(t);t=Math.cos(t);var i=[1,0,0,0,0];return i[5]=t,i[6]=e,i[7]=0,i[8]=0,i[9]=-e,i[10]=t,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i},JSM.MatrixRotationY=function(t){var e=Math.sin(t);t=Math.cos(t);var i=[];return i[0]=t,i[1]=0,i[2]=-e,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=e,i[9]=0,i[10]=t,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i},JSM.MatrixRotationZ=function(t){var e=Math.sin(t);t=Math.cos(t);var i=[];return i[0]=t,i[1]=e,i[2]=0,i[3]=0,i[4]=-e,i[5]=t,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i},JSM.MatrixView=function(t,e,i){if(JSM.CoordIsEqual(t,e))return JSM.MatrixIdentity();var r=[];e=JSM.VectorNormalize(JSM.CoordSub(t,e)),i=JSM.VectorNormalize(JSM.VectorCross(i,e));
var o=JSM.VectorNormalize(JSM.VectorCross(e,i));return r[0]=i.x,r[1]=o.x,r[2]=e.x,r[3]=0,r[4]=i.y,r[5]=o.y,r[6]=e.y,r[7]=0,r[8]=i.z,r[9]=o.z,r[10]=e.z,r[11]=0,r[12]=-JSM.VectorDot(i,t),r[13]=-JSM.VectorDot(o,t),r[14]=-JSM.VectorDot(e,t),r[15]=1,r},JSM.MatrixPerspective=function(t,e,i,r){var o=[];t=1/Math.tan(t/2);var n=1/(i-r);return o[0]=t/e,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=t,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(r+i)*n,o[11]=-1,o[12]=0,o[13]=0,o[14]=2*r*i*n,o[15]=0,o},JSM.ApplyTransformation=function(t,e){var i=[];return i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=1,i=JSM.MatrixVectorMultiply(t,i),new JSM.Coord(i[0],i[1],i[2])},JSM.CoordSystem=function(t,e,i,r){this.origo=t,this.e1=e,this.e2=i,this.e3=r},JSM.CoordSystem.prototype.Set=function(t,e,i,r){this.origo=t,this.e1=e,this.e2=i,this.e3=r},JSM.CoordSystem.prototype.Clone=function(){return new JSM.CoordSystem(this.origo.Clone(),this.e1.Clone(),this.e2.Clone(),this.e3.Clone())},JSM.CoordSystemToDirectionVectors=function(t){return new JSM.CoordSystem(t.origo,JSM.CoordSub(t.e1,t.origo),JSM.CoordSub(t.e2,t.origo),JSM.CoordSub(t.e3,t.origo))},JSM.CoordSystemToAbsoluteCoords=function(t){return new JSM.CoordSystem(t.origo,JSM.CoordAdd(t.e1,t.origo),JSM.CoordAdd(t.e2,t.origo),JSM.CoordAdd(t.e3,t.origo))},JSM.ChangeCoordSystem=function(t,e,i){var r=JSM.VectorNormalize(e.e1),o=JSM.VectorNormalize(e.e2),n=JSM.VectorNormalize(e.e3),a=JSM.VectorNormalize(i.e1),s=JSM.VectorNormalize(i.e2),l=JSM.VectorNormalize(i.e3);return t=JSM.CoordSub(t,e.origo),e=new JSM.Coord(0,0,0),e.x=JSM.VectorDot(a,r)*t.x+JSM.VectorDot(a,o)*t.y+JSM.VectorDot(a,n)*t.z,e.y=JSM.VectorDot(s,r)*t.x+JSM.VectorDot(s,o)*t.y+JSM.VectorDot(s,n)*t.z,e.z=JSM.VectorDot(l,r)*t.x+JSM.VectorDot(l,o)*t.y+JSM.VectorDot(l,n)*t.z,e=JSM.CoordAdd(e,i.origo)},JSM.Sector2D=function(t,e){this.beg=t,this.end=e},JSM.Sector2D.prototype.Set=function(t,e){this.beg=t,this.end=e},JSM.Sector2D.prototype.Clone=function(){return new JSM.Sector2D(this.beg.Clone(),this.end.Clone())},JSM.Sector=function(t,e){this.beg=t,this.end=e},JSM.Sector.prototype.Set=function(t,e){this.beg=t,this.end=e},JSM.Sector.prototype.Clone=function(){return new JSM.Sector(this.beg.Clone(),this.end.Clone())},JSM.CoordSectorPosition2D=function(t,e){var i=t.x,r=t.y,o=e.beg.x,n=e.beg.y,a=e.end.x,s=e.end.y,l=Math.pow(a-o,2)+Math.pow(s-n,2);return JSM.IsZero(l)?JSM.CoordIsEqual2D(t,e.beg)?"CoordOnSectorEndCoord":"CoordOutsideOfSector":(l=((i-o)*(a-o)+(r-n)*(s-n))/l,JSM.IsLower(l,0)||JSM.IsGreater(l,1)?"CoordOutsideOfSector":(n+=l*(s-n),JSM.IsEqual(o+l*(a-o),i)&&JSM.IsEqual(n,r)?JSM.IsEqual(l,0)||JSM.IsEqual(l,1)?"CoordOnSectorEndCoord":"CoordInsideOfSector":"CoordOutsideOfSector"))},JSM.SectorSectorPosition2D=function(t,e,i){var r=t.beg.x,o=t.beg.y,n=t.end.x,a=t.end.y,s=e.beg.x,l=e.beg.y,c=e.end.x,h=e.end.y,d=(c-s)*(o-l)-(h-l)*(r-s),u=(n-r)*(o-l)-(a-o)*(r-s);return JSM.IsZero(d)&&JSM.IsZero(u)?(i=JSM.CoordSectorPosition2D(t.beg,e),r=JSM.CoordSectorPosition2D(t.end,e),o=JSM.CoordSectorPosition2D(e.beg,t),t=JSM.CoordSectorPosition2D(e.end,t),"CoordInsideOfSector"===i||"CoordInsideOfSector"===r||"CoordInsideOfSector"===o||"CoordInsideOfSector"===t||"CoordOnSectorEndCoord"===i&&"CoordOnSectorEndCoord"===r&&"CoordOnSectorEndCoord"===o&&"CoordOnSectorEndCoord"===t?"SectorsIntersectsCoincident":"CoordOnSectorEndCoord"===i||"CoordOnSectorEndCoord"===r||"CoordOnSectorEndCoord"===o||"CoordOnSectorEndCoord"===t?"SectorsIntersectsEndPoint":"SectorsDontIntersects"):(t=(h-l)*(n-r)-(c-s)*(a-o),JSM.IsZero(t)?"SectorsDontIntersects":(d/=t,u/=t,JSM.IsLower(d,0)||JSM.IsGreater(d,1)||JSM.IsLower(u,0)||JSM.IsGreater(u,1)?"SectorsDontIntersects":(void 0!==i&&(i.x=r+d*(n-r),i.y=o+d*(a-o)),JSM.IsEqual(d,0)||JSM.IsEqual(d,1)||JSM.IsEqual(u,0)||JSM.IsEqual(u,1)?"SectorsIntersectsEndPoint":"SectorsIntersectsOnePoint")))},JSM.GetSectorSegmentation=function(t,e,i){var r,o=JSM.CoordSub(t.end,t.beg),n=JSM.CoordDistance(t.beg,t.end)/e,a=0;for(r=0;e>=r;r++)i.push(JSM.CoordOffset(t.beg,o,a)),a+=n},JSM.Line2D=function(t,e){this.start=t,this.direction=e},JSM.Line2D.prototype.Set=function(t,e){this.start=t,this.direction=e},JSM.Line2D.prototype.Clone=function(){return new JSM.Line2D(this.start.Clone(),this.direction.Clone())},JSM.Line=function(t,e){this.start=t,this.direction=e},JSM.Line.prototype.Set=function(t,e){this.start=t,this.direction=e},JSM.Line.prototype.Clone=function(){return new JSM.Line(this.start.Clone(),this.direction.Clone())},JSM.CoordLinePosition2D=function(t,e){var i=e.start,r=e.direction,i=r.x*(t.y-i.y)-r.y*(t.x-i.x);return JSM.IsPositive(i)?"CoordAtLineLeft":JSM.IsNegative(i)?"CoordAtLineRight":"CoordOnLine"},JSM.CoordLinePosition=function(t,e,i){var r=t.x,o=t.y,n=t.z,a=e.start;e=e.direction;var s=a.x,l=a.y,c=a.z,h=a.x+e.x,d=a.y+e.y,u=a.z+e.z,p=(h-s)*(h-s)+(d-l)*(d-l)+(u-c)*(u-c);return JSM.IsZero(p)?(void 0!==i&&i.Set(a.x,a.y,a.z),JSM.CoordIsEqual(a,t)?"CoordOnLine":"CoordOutsideOfLine"):(r=JSM.CoordAdd(a,JSM.VectorMultiply(e,((h-s)*(r-s)+(d-l)*(o-l)+(u-c)*(n-c))/p)),void 0!==i&&i.Set(r.x,r.y,r.z),t=JSM.CoordDistance(t,r),JSM.IsZero(t)?"CoordOnLine":"CoordOutsideOfLine")},JSM.ProjectCoordToLine=function(t,e){var i=new JSM.Coord(0,0,0),r=t.x,o=t.y,n=t.z,a=e.start,s=e.direction,l=a.x,c=a.y,h=a.z,d=a.x+s.x,u=a.y+s.y,p=a.z+s.z,f=(d-l)*(d-l)+(u-c)*(u-c)+(p-h)*(p-h);return JSM.IsZero(f)?(i.Set(a.x,a.y,a.z),i):(r=JSM.CoordAdd(a,JSM.VectorMultiply(s,((d-l)*(r-l)+(u-c)*(o-c)+(p-h)*(n-h))/f)),i.Set(r.x,r.y,r.z),i)},JSM.LineLineClosestPoint=function(t,e,i,r){function o(t,e,i,r,o){return(t[e].x-t[i].x)*(t[r].x-t[o].x)+(t[e].y-t[i].y)*(t[r].y-t[o].y)+(t[e].z-t[i].z)*(t[r].z-t[o].z)}var n=JSM.VectorNormalize(t.direction),a=t.start,n=JSM.CoordAdd(a,n);t=JSM.VectorNormalize(e.direction),e=e.start;var s=JSM.CoordAdd(e,t),l=[a,n,e,s],c=o(l,1,0,1,0),h=o(l,0,2,1,0),s=o(l,0,2,3,2),d=o(l,3,2,1,0),l=o(l,3,2,3,2),c=c*l-d*d;return JSM.IsEqual(c,0)?!1:(h=(s*d-h*l)/c,s=(s+h*d)/l,void 0!==i&&(n=JSM.VectorNormalize(JSM.CoordSub(n,a)),a=JSM.CoordAdd(a,JSM.VectorMultiply(n,h)),i.Set(a.x,a.y,a.z)),void 0!==r&&(i=JSM.CoordAdd(e,JSM.VectorMultiply(t,s)),r.Set(i.x,i.y,i.z)),!0)},JSM.LineLinePosition=function(t,e,i){var r=new JSM.Coord(0,0,0),o=new JSM.Coord(0,0,0);return JSM.LineLineClosestPoint(t,e,r,o)?JSM.CoordIsEqual(r,o)?(void 0!==i&&i.Set(r.x,r.y,r.z),"LinesIntersectsOnePoint"):"LinesDontIntersects":"LinesIntersectsCoincident"},JSM.Transformation=function(){this.matrix=JSM.MatrixIdentity()},JSM.Transformation.prototype.GetMatrix=function(){return this.matrix},JSM.Transformation.prototype.SetMatrix=function(t){this.matrix=t},JSM.Transformation.prototype.Append=function(t){this.matrix=JSM.MatrixMultiply(this.matrix,t.matrix)},JSM.Transformation.prototype.Apply=function(t){return JSM.ApplyTransformation(this.matrix,t)},JSM.Transformation.prototype.Clone=function(){var t=new JSM.Transformation;return t.matrix=JSM.MatrixClone(this.matrix),t},JSM.IdentityTransformation=function(){var t=new JSM.Transformation;return t.matrix=JSM.MatrixIdentity(),t},JSM.TranslationTransformation=function(t){var e=new JSM.Transformation;return e.matrix=JSM.MatrixTranslation(t.x,t.y,t.z),e},JSM.OffsetTransformation=function(t,e){var i=JSM.VectorNormalize(t),i=JSM.VectorMultiply(i,e);return JSM.TranslationTransformation(i)},JSM.RotationTransformation=function(t,e,i){var r=new JSM.Transformation;return r.matrix=JSM.MatrixRotation(t,e,i),r},JSM.RotationXTransformation=function(t,e){var i=new JSM.Transformation;return void 0===e||null===e?i.matrix=JSM.MatrixRotationX(t):(i.Append(JSM.TranslationTransformation(new JSM.Vector(-e.x,-e.y,-e.z))),i.Append(JSM.RotationXTransformation(t)),i.Append(JSM.TranslationTransformation(new JSM.Vector(e.x,e.y,e.z)))),i},JSM.RotationYTransformation=function(t,e){var i=new JSM.Transformation;return void 0===e||null===e?i.matrix=JSM.MatrixRotationY(t):(i.Append(JSM.TranslationTransformation(new JSM.Vector(-e.x,-e.y,-e.z))),i.Append(JSM.RotationYTransformation(t)),i.Append(JSM.TranslationTransformation(new JSM.Vector(e.x,e.y,e.z)))),i},JSM.RotationZTransformation=function(t,e){var i=new JSM.Transformation;return void 0===e||null===e?i.matrix=JSM.MatrixRotationZ(t):(i.Append(JSM.TranslationTransformation(new JSM.Vector(-e.x,-e.y,-e.z))),i.Append(JSM.RotationZTransformation(t)),i.Append(JSM.TranslationTransformation(new JSM.Vector(e.x,e.y,e.z)))),i},JSM.RotationXYZTransformation=function(t,e,i,r){var o=new JSM.Transformation;return o.Append(JSM.RotationXTransformation(t,r)),o.Append(JSM.RotationYTransformation(e,r)),o.Append(JSM.RotationZTransformation(i,r)),o},JSM.Plane=function(t,e,i,r){this.a=t,this.b=e,this.c=i,this.d=r},JSM.Plane.prototype.Set=function(t,e,i,r){this.a=t,this.b=e,this.c=i,this.d=r},JSM.Plane.prototype.GetNormal=function(){return new JSM.Vector(this.a,this.b,this.c)},JSM.Plane.prototype.Clone=function(){return new JSM.Plane(this.a,this.b,this.c,this.d)},JSM.GetPlaneFromCoordAndDirection=function(t,e){var i=new JSM.Plane,r=JSM.VectorNormalize(e),o=r.x,n=r.y,r=r.z;return i.Set(o,n,r,-(o*t.x+n*t.y+r*t.z)),i},JSM.GetPlaneFromThreeCoords=function(t,e,i){var r=new JSM.Plane,o=(e.y-t.y)*(i.z-t.z)-(i.y-t.y)*(e.z-t.z),n=(e.z-t.z)*(i.x-t.x)-(i.z-t.z)*(e.x-t.x);return e=(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y),r.Set(o,n,e,-(o*t.x+n*t.y+e*t.z)),r},JSM.CoordPlanePosition=function(t,e){var i=e.a*t.x+e.b*t.y+e.c*t.z+e.d;return JSM.IsPositive(i)?"CoordInFrontOfPlane":JSM.IsNegative(i)?"CoordAtBackOfPlane":"CoordOnPlane"},JSM.LinePlanePosition=function(t,e,i){var r=JSM.VectorNormalize(t.direction),o=t.start.x,n=t.start.y,a=t.start.z,s=e.a,l=e.b,c=e.c;e=e.d;var h=s*(o-(t.start.x+r.x))+l*(n-(t.start.y+r.y))+c*(a-(t.start.z+r.z));return JSM.IsZero(h)?"LineParallelToPlane":(void 0!==i&&(t=JSM.CoordAdd(t.start,JSM.VectorMultiply(r,(s*o+l*n+c*a+e)/h)),i.Set(t.x,t.y,t.z)),"LineIntersectsPlane")},JSM.LinePlaneIntersection=function(t,e){var i=JSM.VectorNormalize(t.direction),r=t.start.x,o=t.start.y,n=t.start.z,a=t.start.x+i.x,s=t.start.y+i.y,l=t.start.z+i.z,c=e.a,h=e.b,d=e.c,u=e.d,p=new JSM.Coord(0,0,0),a=c*(r-a)+h*(o-s)+d*(n-l);return JSM.IsZero(a)?p:p=JSM.CoordAdd(t.start,JSM.VectorMultiply(i,(c*r+h*o+d*n+u)/a))},JSM.CoordPlaneSignedDistance=function(t,e){var i=e.a,r=e.b,o=e.c;return(i*t.x+r*t.y+o*t.z+e.d)/Math.sqrt(i*i+r*r+o*o)},JSM.CoordPlaneDistance=function(t,e){return Math.abs(JSM.CoordPlaneSignedDistance(t,e))},JSM.CoordPlaneSignedDirectionalDistance=function(t,e,i){var r=JSM.VectorNormalize(e);e=t.x;var o=t.y,n=t.z,a=i.a,s=i.b,l=i.c;i=i.d;var c=a*(e-(t.x+r.x))+s*(o-(t.y+r.y))+l*(n-(t.z+r.z));return JSM.IsZero(c)?0:(r=JSM.CoordAdd(t,JSM.VectorMultiply(r,(a*e+s*o+l*n+i)/c)),t=JSM.CoordDistance(t,r),JSM.IsNegative(a*e+s*o+l*n+i)&&(t=-t),t)},JSM.CoordPlaneDirectionalDistance=function(t,e,i){return Math.abs(JSM.CoordPlaneSignedDirectionalDistance(t,e,i))},JSM.ProjectCoordToPlane=function(t,e){var i=t.x,r=t.y,o=t.z,n=e.a,a=e.b,s=e.c,l=e.d,c=JSM.CoordPlaneDistance(t,e);return JSM.IsGreater(n*i+a*r+s*o+l,0)&&(c=-c),i=JSM.VectorNormalize(new JSM.Coord(n,a,s)),JSM.CoordOffset(t,i,c)},JSM.Project=function(t,e,i,r,o,n,a,s,l){return e=JSM.MatrixView(e,i,r),a=JSM.MatrixPerspective(o,n,a,s),o=new JSM.Coord(0,0,0),s=[],n=[],s[0]=t.x,s[1]=t.y,s[2]=t.z,s[3]=1,n=JSM.MatrixVectorMultiply(a,JSM.MatrixVectorMultiply(e,s)),t=n[3],JSM.IsZero(t)?l=null:(n[0]=.5*(n[0]/t)+.5,n[1]=.5*(n[1]/t)+.5,n[2]=.5*(n[2]/t)+.5,n[0]=n[0]*l[2]+l[0],n[1]=n[1]*l[3]+l[1],o.x=n[0],o.y=n[1],o.z=n[2],l=o),l},JSM.ConvexHull2D=function(t){function e(t,e){var i,r=t.length,o=0;for(i=1;r>i;i++)e==o?o=i:"Clockwise"==JSM.CoordTurnType2D(t[e],t[o],t[i])&&(o=i);return o}var i=[];if(3>t.length)return i;var r,o=function(t){var e,i,r=t.length,o=JSM.Inf,n=-1;for(e=0;r>e;e++)i=t[e].x,JSM.IsLower(i,o)&&(o=i,n=e);return n}(t),n=o;do i.push(n),n=r=e(t,n);while(r!=o);return i},JSM.ConvexHull3D=function(t){function e(){this.position=null}function i(){this.tri2=this.tri1=this.vert2=this.vert1=null}function r(){this.valid=this.edges=this.vertices=null}function o(t,i){var r=new e;return r.position=i,t.vertices.push(r),t.vertices.length-1}function n(t,e,r,o){var n,a,s=-1;for(n=0;n<t.edges.length;n++)if(a=t.edges[n],a.vert1==r&&a.vert2==o||a.vert1==o&&a.vert2==r){s=n;break}return-1==s&&(s=new i,s.vert1=r,s.vert2=o,s.tri1=-1,s.tri2=-1,t.edges.push(s),s=t.edges.length-1),t=t.edges[s],t.tri1!=e&&t.tri2!=e&&(-1==t.tri1?t.tri1=e:-1==t.tri2&&(t.tri2=e)),s}function a(t,e,i,o){var a=t.triangles.length,s=n(t,a,e,i),l=n(t,a,i,o),a=n(t,a,o,e),c=new r;return c.vertices=[e,i,o],c.edges=[s,l,a],c.valid=!0,t.triangles.push(c),t.triangles.length-1}function s(t,e,i){t=t.edges[i],t.tri1==e?t.tri1=-1:t.tri2==e&&(t.tri2=-1)}function l(t,e,i,r,o){return i=t.vertices[i].position,r=t.vertices[r].position,o=t.vertices[o].position,t=JSM.CoordSub(t.vertices[e].position,o),e=JSM.CoordSub(i,o),i=JSM.CoordSub(r,o),JSM.VectorDot(t,JSM.VectorCross(e,i))/6}function c(t,e){var i,r,o=[];for(i=0;i<t.triangles.length;i++)r=t.triangles[i],o.push(r.valid?JSM.IsLower(l(t,r.vertices[0],r.vertices[2],r.vertices[1],e),0)?!1:!0:!1);var n,c,h,d=[];for(i=0;i<o.length;i++)o[i]&&(r=t.triangles[i],r.valid&&(n=t.edges[r.edges[0]],c=t.edges[r.edges[1]],h=t.edges[r.edges[2]],n=-1==n.tri1||-1==n.tri2||o[n.tri1]!=o[n.tri2],c=-1==c.tri1||-1==c.tri2||o[c.tri1]!=o[c.tri2],h=-1==h.tri1||-1==h.tri2||o[h.tri1]!=o[h.tri2],n&&d.push([r.vertices[0],r.vertices[1],e]),c&&d.push([r.vertices[1],r.vertices[2],e]),h&&d.push([r.vertices[2],r.vertices[0],e])));for(i=0;i<o.length;i++)o[i]&&(r=t.triangles[i],r.valid&&(r=t,h=i,n=r.triangles[h],n.valid&&(s(r,h,n.edges[0]),s(r,h,n.edges[1]),s(r,h,n.edges[2]),n.valid=!1)));for(i=0;i<d.length;i++)o=d[i],a(t,o[0],o[1],o[2])}var h=[],d=t.length;if(4>d)return h;var u,p=new function(){this.vertices=[],this.edges=[],this.triangles=[]};for(u=0;d>u;u++)o(p,t[u]);for(function(t){var e=-1,e=JSM.IsLower(l(t,0,1,2,3),0)?a(t,0,2,1):a(t,0,1,2),e=t.triangles[e];a(t,e.vertices[0],e.vertices[2],3),a(t,e.vertices[2],e.vertices[1],3),a(t,e.vertices[1],e.vertices[0],3)}(p),u=4;d>u;u++)c(p,u);for(u=0;u<p.triangles.length;u++)t=p.triangles[u],t.valid&&h.push(t.vertices);return h},JSM.Polygon2D=function(){this.vertices=[]},JSM.Polygon2D.prototype.AddVertex=function(t,e){this.vertices.push(new JSM.Coord2D(t,e))},JSM.Polygon2D.prototype.GetVertex=function(t){return this.vertices[t]},JSM.Polygon2D.prototype.SetVertex=function(t,e,i){this.vertices[t].Set(e,i)},JSM.Polygon2D.prototype.VertexCount=function(){return this.vertices.length},JSM.Polygon2D.prototype.Clear=function(){this.vertices=[]},JSM.Polygon2D.prototype.Clone=function(){var t,e=new JSM.Polygon2D;for(t=0;t<this.vertices.length;t++)e.vertices.push(this.vertices[t].Clone());return e},JSM.ContourPolygon2D=function(){this.polygons=[]},JSM.ContourPolygon2D.prototype.AddVertex=function(t,e,i){void 0===this.polygons[t]&&(this.polygons[t]=new JSM.Polygon2D),this.polygons[t].AddVertex(e,i)},JSM.ContourPolygon2D.prototype.VertexCount=function(t){return void 0===this.polygons[t]?0:this.polygons[t].VertexCount()},JSM.ContourPolygon2D.prototype.GetVertex=function(t,e){return this.polygons[t].GetVertex(e)},JSM.ContourPolygon2D.prototype.SetVertex=function(t,e,i,r){this.polygons[t].SetVertex(e,i,r)},JSM.ContourPolygon2D.prototype.AddContour=function(){this.polygons.push(new JSM.Polygon2D)},JSM.ContourPolygon2D.prototype.ContourCount=function(){return this.polygons.length},JSM.ContourPolygon2D.prototype.GetContour=function(t){return this.polygons[t]},JSM.ContourPolygon2D.prototype.Clear=function(){this.polygons=[]},JSM.ContourPolygon2D.prototype.Clone=function(){var t,e=new JSM.ContourPolygon2D;for(t=0;t<this.polygons.length;t++)e.polygons.push(this.polygons[t].Clone());return e},JSM.Polygon=function(){this.vertices=[]},JSM.Polygon.prototype.AddVertex=function(t,e,i){this.vertices.push(new JSM.Coord(t,e,i))},JSM.Polygon.prototype.GetVertex=function(t){return this.vertices[t]},JSM.Polygon.prototype.SetVertex=function(t,e,i,r){this.vertices[t].Set(e,i,r)},JSM.Polygon.prototype.VertexCount=function(){return this.vertices.length},JSM.Polygon.prototype.Clear=function(){this.vertices=[]},JSM.Polygon.prototype.Clone=function(){var t,e=new JSM.Polygon;for(t=0;t<this.vertices.length;t++)e.vertices.push(this.vertices[t].Clone());return e},JSM.CreatePolygonFromVertices=function(t){var e,i,r=new JSM.Polygon2D;for(e=0;e<t.length;e++)i=t[e],r.AddVertex(i.x,i.y);return r},JSM.PolygonSignedArea2D=function(t){var e,i,r,o=t.VertexCount(),n=0;for(e=0;o>e;e++)i=t.GetVertex(e),r=t.GetVertex((e+1)%o),n+=i.x*r.y-r.x*i.y;return n/2},JSM.PolygonArea2D=function(t){return Math.abs(JSM.PolygonSignedArea2D(t))},JSM.PolygonOrientation2D=function(t){return t=JSM.PolygonSignedArea2D(t),JSM.IsPositive(t)?"CounterClockwise":JSM.IsNegative(t)?"Clockwise":"Invalid"},JSM.ChangePolygonOrientation2D=function(t){var e=t.Clone();t.Clear();var i,r;for(i=e.VertexCount()-1;i>=0;i--)r=e.GetVertex(i),t.AddVertex(r.x,r.y)},JSM.CreateCCWPolygonFromVertices=function(t){return t=JSM.CreatePolygonFromVertices(t),"CounterClockwise"!=JSM.PolygonOrientation2D(t)&&JSM.ChangePolygonOrientation2D(t),t},JSM.PolygonComplexity2D=function(t){var e,i,r,o,n=!1,a=!1,s=t.VertexCount();for(e=0;s>e;e++)if(i=0===e?s-1:e-1,r=e,o=e===s-1?0:e+1,i=t.GetVertex(i),r=t.GetVertex(r),o=t.GetVertex(o),o=JSM.CoordTurnType2D(i,r,o),"CounterClockwise"===o?n=!0:"Clockwise"===o&&(a=!0),n&&a)return"Concave";return n||a?"Convex":"Invalid"},JSM.CoordPolygonPosition2D=function(t,e){var i,r,o,n=e.VertexCount();for(i=0;n>i;i++)if(r=e.GetVertex(i),o=e.GetVertex((i+1)%n),r=new JSM.Sector2D(r,o),"CoordOutsideOfSector"!==JSM.CoordSectorPosition2D(t,r))return"CoordOnPolygonEdge";var a,s=0;for(i=0;n>i;i++)a=Math.abs(e.GetVertex(i).x-t.x),JSM.IsGreater(a,s)&&(s=a);s=new JSM.Sector2D(t,new JSM.Coord2D(t.x+2*s,t.y)),a=0;var l;for(i=0;n>i;i++)r=e.GetVertex(i),o=e.GetVertex((i+1)%n),r=new JSM.Sector2D(r,o),o=new JSM.Coord2D(0,0),l=JSM.SectorSectorPosition2D(s,r,o),"SectorsDontIntersects"!==l&&("SectorsIntersectsOnePoint"===l?a++:"SectorsIntersectsEndPoint"===l&&(JSM.CoordIsEqual2D(o,r.beg)?JSM.IsGreater(r.beg.y,r.end.y)&&a++:JSM.CoordIsEqual2D(o,r.end)&&JSM.IsLower(r.beg.y,r.end.y)&&a++));return 0===a%2?"CoordOutsideOfPolygon":"CoordInsideOfPolygon"},JSM.SectorIntersectsPolygon2D=function(t,e,i,r){var o,n,a,s=t.VertexCount();for(o=0;s>o;o++)if(n=o,a=(o+1)%s,!(n==i||a==i||n==r||a==r)&&(n=new JSM.Sector2D(t.GetVertex(n),t.GetVertex(a)),n=JSM.SectorSectorPosition2D(e,n),"SectorsDontIntersects"!==n))return!0;return!1},JSM.IsPolygonVertexVisible2D=function(t,e,i){if(e===i)return!1;var r=t.VertexCount();return i===(e>0?e-1:r-1)||i===(r-1>e?e+1:0)?!1:(r=new JSM.Sector2D(t.GetVertex(e),t.GetVertex(i)),JSM.SectorIntersectsPolygon2D(t,r,e,i)?!1:(e=JSM.MidCoord2D(r.beg,r.end),"CoordInsideOfPolygon"!==JSM.CoordPolygonPosition2D(e,t)?!1:!0))},JSM.CreatePolygonWithHole2D=function(t){var e,i=[],r=[],o=0;for(r.push(-1),e=0;e<t.length;e++)null===t[e]&&(r.push(e),o+=1);for(r.push(e),o+=1,e=0;o>e;e++){var n=e,a=r[n]+1,s=r[n+1];if(0===n)for(n=void 0,n=a;s>n;n++)i.push(n);else{for(var a=void 0,a=new JSM.Polygon2D,s=new JSM.Polygon2D,l=void 0,c=void 0,c=void 0,l=0;l<i.length;l++)c=t[i[l]],a.AddVertex(c.x,c.y);for(var h=r[n]+1,d=r[n+1],l=h;d>l;l++)c=t[l],s.AddVertex(c.x,c.y);for(var u=null,p=void 0,f=void 0,_=void 0,l=0;l<a.VertexCount();l++){for(f=i[l],c=h;d>c;c++)if(_=c-h,p=new JSM.Sector(t[f],t[c]),!JSM.SectorIntersectsPolygon2D(a,p,l,-1)&&!JSM.SectorIntersectsPolygon2D(s,p,-1,_)){u=[f,c];break}if(null!==u)break}for(a=u,s=r[n]+1,n=r[n+1],l=[],d=h=void 0,h=0;h<i.length;h++)l[h]=i[h];for(i=[],u=c=void 0,h=0;h<l.length;h++)if(i.push(l[h]),l[h]==a[0]){for(d=a[1],c=!0,u=!1;!u;)i.push(d),!c&&d==a[1]&&(u=!0),c&&(c=!1),d=n-1>d?d+1:s;i.push(l[h])}}}return i},JSM.PolygonTriangulate2D=function(t){function e(){var t,e,i,r,o=[];for(t=0;t<s.length;t++)if(i=s[t],3===i.length)if("CounterClockwise"===c)o.push(i);else{for(r=[],e=i.length-1;e>=0;e--)r.push(n-i[e]-1);o.push(r)}return o}function i(t,e,i){if(e===i)return!1;var r,o=t.VertexCount();return(r=(o-1>e?e+1:0)===i)||(r=(e>0?e-1:o-1)===i),r?!1:JSM.IsPolygonVertexVisible2D(t,e,i)}function r(t,e,i){var r=t.length;if(3>=r)return!0;var o,n,a,l;for(o=0;2>o;o++){for(a=n=-1,0===o?(n=e,a=i):1===o&&(n=i,a=e),l=[],l.push(t[a]);n!==a;n=r-1>n?n+1:0)l.push(t[n]);s.push(l)}return!0}var o=t.Clone(),n=o.VertexCount();if(3>n)return[];var a,s=[],l=[];for(t=0;n>t;t++)l.push(t);if(s.push(l),3===n)return e();var l=JSM.PolygonComplexity2D(o),c=JSM.PolygonOrientation2D(o);if("Invalid"===l||"Invalid"===c)return[];if("CounterClockwise"!==c){var h,d,u;for(t=0;n/2>t;t++)h=t,d=n-t-1,u=o.vertices[h],o.vertices[h]=o.vertices[d],o.vertices[d]=u}if("Convex"===l){for(t=0;n-2>t;t++)o=[],o.push(0),o.push((t+1)%n),o.push((t+2)%n),s.push(o);return e()}var p;for(t=0;t<s.length;t++)if(h=s[t],d=h.length,3!==d){for(u=new JSM.Polygon2D,l=0;d>l;l++)a=o.GetVertex(h[l]),u.AddVertex(a.x,a.y);for(p=!1,l=0;d>l;l++){for(a=0;d>a;a++)if(i(u,l,a)){r(h,l,a),p=!0;break}if(p)break}}return e()},JSM.CheckTriangulation2D=function(t,e){var i,r,o,n,a,s=JSM.PolygonSignedArea2D(t),l=0;for(i=0;i<e.length;i++){if(o=e[i],3!==o.length)return!1;for(n=new JSM.Polygon2D,r=0;r<o.length;r++)a=t.GetVertex(o[r]),n.AddVertex(a.x,a.y);l+=JSM.PolygonSignedArea2D(n)}return JSM.IsEqual(s,l)?!0:!1},JSM.CreatePolygonWithHole=function(t){var e,i=[];for(e=0;e<t.length;e++)null!==t[e]&&i.push(t[e]);var r,i=JSM.CalculateNormal(i),o=new JSM.Coord(0,0,0),n=[];for(e=0;e<t.length;e++)null!==t[e]?(r=JSM.GetCoord2DFromCoord(t[e],o,i),n.push(r)):n.push(null);return JSM.CreatePolygonWithHole2D(n)},JSM.PolygonTriangulate=function(t){var e,i,r=new JSM.Polygon2D,o=JSM.CalculateNormal(t.vertices),n=new JSM.Coord(0,0,0),a=t.VertexCount();for(e=0;a>e;e++)i=JSM.GetCoord2DFromCoord(t.GetVertex(e),n,o),r.AddVertex(i.x,i.y);return JSM.PolygonTriangulate2D(r)},JSM.OffsetPolygonContour=function(t,e){var i,r,o,n,a,s,l=t.VertexCount(),c=JSM.CalculateNormal(t.vertices),h=new JSM.Polygon;for(s=0;l>s;s++)i=0===s?l-1:s-1,r=s,o=s===l-1?0:s+1,i=t.GetVertex(i),r=t.GetVertex(r),n=t.GetVertex(o),a=JSM.CoordSub(i,r),o=JSM.CoordSub(n,r),a=JSM.GetVectorsAngle(a,o)/2,"Clockwise"===JSM.CoordTurnType(i,r,n,c)&&(a=Math.PI-a),i=e/Math.sin(a),i=JSM.CoordOffset(r,o,i),i=JSM.CoordRotate(i,c,a,r),h.AddVertex(i.x,i.y,i.z);return h},JSM.CutPolygonWithPlane=function(t,e,i,r,o){function n(t,e,i,r,o){1==e?i.push(t):-1==e?r.push(t):o.push(t)}function a(t,e,i,r){function o(t,e){if(!(2>e.length)){for(var i,r=t.GetVertex(e[0]),o=t.GetVertex(e[1]),o=JSM.CoordSub(o,r),n=JSM.GetPlaneFromCoordAndDirection(r,o),o=[],r=0;r<e.length;r++)i=t.GetVertex(e[r]),o.push(JSM.CoordPlaneSignedDistance(i,n));for(r=0;r<e.length-1;r++)for(n=0;n<e.length-r-1;n++)if(JSM.IsGreater(o[n],o[n+1])){i=o;var a=n+1,s=i[n];i[n]=i[a],i[a]=s,i=e,a=n+1,s=i[n],i[n]=i[a],i[a]=s}}}function n(t,e,i,r,o,n){function a(t,e){t[t[e]]=-1,t[e]=-1}var s=[];!function(t,e,i){var r;for(r=0;r<t.VertexCount();r++)i.push(-1);for(r=0;r<e.length;r+=2){t=i;var o=e,n=r;t[o[n]]=o[n+1],t[o[n+1]]=o[n]}}(t,e,s);var l=0;n&&(l=e.length-1);for(var c,h=e[l],d=h,u=!1,p=0,f=new JSM.Polygon;;){if(u||(p=i[d],0!==p&&(u=!0)),0<f.VertexCount()&&d==h){if(1==p?r.push(f):-1==p&&o.push(f),f=new JSM.Polygon,l>0&&l<e.length){d=h=e[l];continue}break}c=t.GetVertex(d),f.AddVertex(c.x,c.y,c.z),-1!=s[d]?(l=n?l-2:l+2,d=s[d],a(s,d)):d=d<t.VertexCount()-1?d+1:0}}var a=[];!function(t,e){var i,r,o,n;for(i=0;i<t.length;i++)if(r=t[i],0===r){if(r=i>0?i-1:t.length-1,o=i<t.length-1?i+1:0,n=t[r],o=t[o],0!==o&&0===n){for(;0===t[r];)r=r>0?r-1:t.length-1;n=t[r]}(-1==n&&1==o||1==n&&-1==o)&&e.push(i)}}(e,a),0===a.length||0!==a.length%2||(o(t,a),n(t,a,e,i,r,!1),n(t,a,e,i,r,!0))}var s=new JSM.Polygon,l=[];return e=function(t,e,i,r){function o(t,i,r,o,n){function a(t,i,r,o,n,a){var s=r[r.length-1];0!==s&&0!==a&&s!=a&&(o=t.GetVertex(o),t=t.GetVertex(n),t=new JSM.Line(t,JSM.CoordSub(t,o)),n=new JSM.Coord(0,0,0),"LineIntersectsPlane"==JSM.LinePlanePosition(t,e,n)&&(i.AddVertex(n.x,n.y,n.z),r.push(0)))}function s(t,e,i,r,o){t=t.GetVertex(r),e.AddVertex(t.x,t.y,t.z),i.push(o)}var l,c=0===i,h=i===t.VertexCount();return h?(i=0,l=t.VertexCount()-1):l=i-1,o=o[i],c||a(t,r,n,l,i,o),h||s(t,r,n,i,o),o}var n,a,s,l=[],c=!1,h=!1;for(n=0;n<t.VertexCount();n++)a=t.GetVertex(n),a=JSM.CoordPlanePosition(a,e),s=0,"CoordInFrontOfPlane"==a?(s=1,h=!0):"CoordAtBackOfPlane"==a&&(s=-1,c=!0),l.push(s);if(c&&h)for(n=0;n<=t.VertexCount();n++)o(t,n,i,l,r);else{if(c)return-1;if(h)return 1}return 0}(t,e,s,l),0===s.VertexCount()&&0===l.length?n(t,e,i,r,o):a(s,l,i,r),0===i.length+r.length+o.length?!1:!0},JSM.BSPNode=function(){this.outside=this.inside=this.parent=this.plane=this.userData=this.polygon=null},JSM.BSPNode.prototype.IsLeaf=function(){return null===this.inside&&null===this.outside},JSM.BSPTree=function(){this.root=null},JSM.BSPTree.prototype.AddPolygon=function(t,e){return null===this.root&&(this.root=this.GetNewNode()),this.AddPolygonToNode(this.root,t,e)},JSM.BSPTree.prototype.Traverse=function(t){this.TraverseNode(this.root,t)},JSM.BSPTree.prototype.TraverseNode=function(t,e){null!==t&&(e(t),this.TraverseNode(t.inside,e),this.TraverseNode(t.outside,e))},JSM.BSPTree.prototype.GetNodes=function(){var t=[];return this.Traverse(function(e){t.push(e)}),t},JSM.BSPTree.prototype.NodeCount=function(){var t=0;return this.Traverse(function(){t+=1}),t},JSM.BSPTree.prototype.AddPolygonToNode=function(t,e,i){if(3>e.VertexCount())return!1;var r;if(null===t.polygon){r=JSM.CalculateNormal(e.vertices);var o=JSM.GetPlaneFromCoordAndDirection(e.GetVertex(0),r);t.polygon=e,void 0!==i&&(t.userData=i),t.plane=o}else{r=[];var n=[],o=[];JSM.CutPolygonWithPlane(e,t.plane,n,r,o)&&(0<r.length&&this.AddInsidePolygonsToNode(t,r,i),0<n.length&&this.AddOutsidePolygonsToNode(t,n,i),0<o.length&&(r=JSM.CalculateNormal(e.vertices),0<JSM.VectorDot(r,t.plane.GetNormal())?this.AddInsidePolygonsToNode(t,o,i):this.AddOutsidePolygonsToNode(t,o,i)))}return!0},JSM.BSPTree.prototype.AddInsidePolygonsToNode=function(t,e,i){null===t.inside&&(t.inside=this.GetNewNode(),t.inside.parent=t);var r;for(r=0;r<e.length;r++)this.AddPolygonToNode(t.inside,e[r],i)},JSM.BSPTree.prototype.AddOutsidePolygonsToNode=function(t,e,i){null===t.outside&&(t.outside=this.GetNewNode(),t.outside.parent=t);var r;for(r=0;r<e.length;r++)this.AddPolygonToNode(t.outside,e[r],i)},JSM.BSPTree.prototype.GetNewNode=function(){return new JSM.BSPNode},JSM.ClipPolygonWithBSPTree=function(t,e,i,r,o,n){function a(t,e,i){if(null!==e){var r=[],o=[],n=[];JSM.CutPolygonWithPlane(t,e.plane,o,r,n)&&(0<r.length&&l(e,r,i),0<o.length&&c(e,o,i),0<n.length&&(t=JSM.CalculateNormal(t.vertices),0<JSM.VectorDot(t,e.plane.GetNormal())?l(e,n,!0):c(e,n,!0)))}}function s(t,e){var i;for(i=0;i<t.length;i++)e.push(t[i])}function l(t,e,i){if(null!==t.inside){t=t.inside;var o;for(o=0;o<e.length;o++)a(e[o],t,i)}else s(e,i?n:r)}function c(t,e,r){if(null!==t.outside){t=t.outside;var n;for(n=0;n<e.length;n++)a(e[n],t,r)}else s(e,r?o:i)}return a(t,e.root,!1),!0},JSM.GetGaussianCParameter=function(t,e,i,r){return Math.sqrt(-(Math.pow(t-i,2)/(2*Math.log(r/Math.abs(e)))))},JSM.GetGaussianValue=function(t,e,i,r){return e*Math.exp(-(Math.pow(t-i,2)/(2*Math.pow(r,2))))},JSM.GenerateCirclePoints=function(t,e,i){var r,o,n=[],a=2*Math.PI,s=2*Math.PI/e;for(r=0;e>r;r++)o=JSM.CylindricalToCartesian(t,0,a),void 0!==i&&null!==i&&(o=JSM.CoordAdd(o,i)),n.push(o),a+=s;return n},JSM.GetRuledMesh=function(t,e,i,r,o){if(t.length===e.length){var n,a=t.length-1,s=[],l=[];for(n=0;a>=n;n++)s.push(JSM.CoordSub(e[n],t[n])),l.push(JSM.CoordDistance(t[n],e[n]));var c,h;for(n=0;a>=n;n++)for(c=l[n]/i,e=0;i>=e;e++)h=JSM.CoordOffset(t[n],s[n],c*e),r.push(h);for(n=0;a>n;n++)for(e=0;i>e;e++)t=n*(i+1)+e,r=t+1,s=t+i+1,l=s+1,t=[t,s,l,r],o.push(t)}},JSM.BodyVertex=function(t){this.position=t},JSM.BodyVertex.prototype.GetPosition=function(){return this.position},JSM.BodyVertex.prototype.SetPosition=function(t){this.position=t},JSM.BodyVertex.prototype.Clone=function(){return new JSM.BodyVertex(this.position.Clone())},JSM.BodyPolygon=function(t){this.vertices=t,this.curved=this.material=-1},JSM.BodyPolygon.prototype.AddVertexIndex=function(t){this.vertices.push(t)},JSM.BodyPolygon.prototype.GetVertexIndex=function(t){return this.vertices[t]},JSM.BodyPolygon.prototype.VertexIndexCount=function(){return this.vertices.length},JSM.BodyPolygon.prototype.HasMaterialIndex=function(){return-1!==this.material},JSM.BodyPolygon.prototype.GetMaterialIndex=function(){return this.material},JSM.BodyPolygon.prototype.SetMaterialIndex=function(t){this.material=t},JSM.BodyPolygon.prototype.HasCurveGroup=function(){return-1!==this.curved},JSM.BodyPolygon.prototype.GetCurveGroup=function(){return this.curved},JSM.BodyPolygon.prototype.SetCurveGroup=function(t){this.curved=t},JSM.BodyPolygon.prototype.InheritAttributes=function(t){this.material=t.material,this.curved=t.curved},JSM.BodyPolygon.prototype.Clone=function(){var t,e=new JSM.BodyPolygon([]);for(t=0;t<this.vertices.length;t++)e.vertices.push(this.vertices[t]);return e.material=this.material,e.curved=this.curved,e},JSM.Body=function(){this.vertices=[],this.polygons=[],this.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1))},JSM.Body.prototype.AddVertex=function(t){return this.vertices.push(t),this.vertices.length-1},JSM.Body.prototype.AddPolygon=function(t){return this.polygons.push(t),this.polygons.length-1},JSM.Body.prototype.GetVertex=function(t){return this.vertices[t]},JSM.Body.prototype.GetVertexPosition=function(t){return this.vertices[t].position},JSM.Body.prototype.SetVertexPosition=function(t,e){this.vertices[t].position=e},JSM.Body.prototype.VertexCount=function(){return this.vertices.length},JSM.Body.prototype.GetPolygon=function(t){return this.polygons[t]},JSM.Body.prototype.PolygonCount=function(){return this.polygons.length},JSM.Body.prototype.SetPolygonsMaterialIndex=function(t){var e;for(e=0;e<this.polygons.length;e++)this.polygons[e].SetMaterialIndex(t)},JSM.Body.prototype.SetPolygonsCurveGroup=function(t){var e;for(e=0;e<this.polygons.length;e++)this.polygons[e].SetCurveGroup(t)},JSM.Body.prototype.GetTextureProjectionType=function(){return this.projection},JSM.Body.prototype.SetTextureProjectionType=function(t){this.projection=t},JSM.Body.prototype.GetTextureProjectionCoords=function(){return this.coords},JSM.Body.prototype.SetTextureProjectionCoords=function(t){this.coords=t},JSM.Body.prototype.SetPlanarTextureProjection=function(t,e,i){this.SetTextureProjectionType("Planar"),this.SetTextureProjectionCoords(new JSM.CoordSystem(t,e,JSM.VectorCross(e,i),new JSM.Coord(0,0,0)))},JSM.Body.prototype.SetCubicTextureProjection=function(t,e,i,r){this.SetTextureProjectionType("Cubic"),this.SetTextureProjectionCoords(new JSM.CoordSystem(t,e,i,r))},JSM.Body.prototype.SetCylindricalTextureProjection=function(t,e,i,r){this.SetTextureProjectionType("Cylindrical"),this.SetTextureProjectionCoords(new JSM.CoordSystem(t,JSM.VectorSetLength(i,e),JSM.VectorSetLength(JSM.VectorCross(r,i),e),r))},JSM.Body.prototype.Transform=function(t){var e;for(e=0;e<this.vertices.length;e++)this.vertices[e].position=t.Apply(this.vertices[e].position);null!==this.coords&&(e=JSM.CoordSystemToAbsoluteCoords(this.coords),e.origo=t.Apply(e.origo),e.e1=t.Apply(e.e1),e.e2=t.Apply(e.e2),e.e3=t.Apply(e.e3),this.coords=JSM.CoordSystemToDirectionVectors(e))},JSM.Body.prototype.GetBoundingBox=function(){var t,e,i=new JSM.Coord(JSM.Inf,JSM.Inf,JSM.Inf),r=new JSM.Coord(-JSM.Inf,-JSM.Inf,-JSM.Inf);for(t=0;t<this.vertices.length;t++)e=this.vertices[t].position,i.x=JSM.Minimum(i.x,e.x),i.y=JSM.Minimum(i.y,e.y),i.z=JSM.Minimum(i.z,e.z),r.x=JSM.Maximum(r.x,e.x),r.y=JSM.Maximum(r.y,e.y),r.z=JSM.Maximum(r.z,e.z);return[i,r]},JSM.Body.prototype.GetCenter=function(){var t=this.GetBoundingBox();return JSM.MidCoord(t[0],t[1])},JSM.Body.prototype.GetBoundingSphereRadius=function(){var t,e,i=this.GetCenter(),r=0;for(t=0;t<this.vertices.length;t++)e=JSM.CoordDistance(i,this.vertices[t].position),JSM.IsGreater(e,r)&&(r=e);return r},JSM.Body.prototype.OffsetToOrigo=function(){var t,e=this.GetCenter(),e=JSM.VectorMultiply(e,-1);
for(t=0;t<this.vertices.length;t++)this.vertices[t].position=JSM.CoordAdd(this.vertices[t].position,e)},JSM.Body.prototype.Merge=function(t){var e,i,r=this.vertices.length;for(e=0;e<t.VertexCount();e++)this.vertices.push(t.GetVertex(e).Clone());var o;for(e=0;e<t.PolygonCount();e++){for(o=t.GetPolygon(e).Clone(),i=0;i<o.VertexIndexCount();i++)o.vertices[i]+=r;this.polygons.push(o)}},JSM.Body.prototype.Clear=function(){this.vertices=[],this.polygons=[],this.coords=this.projection=null},JSM.Model=function(){this.bodies=[]},JSM.Model.prototype.AddBody=function(t){return this.bodies.push(t),this.bodies.length-1},JSM.Model.prototype.GetBody=function(t){return this.bodies[t]},JSM.Model.prototype.BodyCount=function(){return this.bodies.length},JSM.Model.prototype.VertexCount=function(){var t,e=0;for(t=0;t<this.bodies.length;t++)e+=this.bodies[t].VertexCount();return e},JSM.Model.prototype.PolygonCount=function(){var t,e=0;for(t=0;t<this.bodies.length;t++)e+=this.bodies[t].PolygonCount();return e},JSM.HexColorToRGBComponents=function(t){for(var e=t.toString(16);6>e.length;)e="0"+e;t=parseInt(e.substr(0,2),16);var i=parseInt(e.substr(2,2),16),e=parseInt(e.substr(4,2),16);return[t,i,e]},JSM.HexColorToNormalizedRGBComponents=function(t){return t=JSM.HexColorToRGBComponents(t),[t[0]/255,t[1]/255,t[2]/255]},JSM.HexColorToRGBColor=function(t){return parseInt("0x"+t,16)},JSM.RGBComponentsToHexColor=function(t,e,i){function r(t){for(t=parseInt(t,10).toString(16);2>t.length;)t="0"+t;return t}return t=r(t),e=r(e),i=r(i),parseInt("0x"+t+e+i,16)},JSM.Light=function(t){var e=8355711,i=8355711,r=0,o=new JSM.Vector(1,0,0);void 0!==t&&null!==t&&(e=JSM.ValueOrDefault(t.ambient,e),i=JSM.ValueOrDefault(t.diffuse,i),r=JSM.ValueOrDefault(t.specular,r),o=JSM.ValueOrDefault(t.direction,o)),this.ambient=e,this.diffuse=i,this.specular=r,this.direction=o},JSM.Material=function(t){var e=52224,i=52224,r=0,o=0,n=1,a=null,s=1,l=1;void 0!==t&&null!==t&&(e=JSM.ValueOrDefault(t.ambient,e),i=JSM.ValueOrDefault(t.diffuse,i),r=JSM.ValueOrDefault(t.specular,r),o=JSM.ValueOrDefault(t.shininess,o),n=JSM.ValueOrDefault(t.opacity,n),a=JSM.ValueOrDefault(t.texture,a),s=JSM.ValueOrDefault(t.textureWidth,s),l=JSM.ValueOrDefault(t.textureHeight,l)),this.ambient=e,this.diffuse=i,this.specular=r,this.shininess=o,this.opacity=n,this.texture=a,this.textureWidth=s,this.textureHeight=l},JSM.Materials=function(){this.materials=[],this.defaultMaterial=new JSM.Material},JSM.Materials.prototype.GetMaterial=function(t){return 0>t||t>=this.materials.length?this.defaultMaterial:this.materials[t]},JSM.Materials.prototype.AddMaterial=function(t){this.materials.push(t)},JSM.Materials.prototype.GetDefaultMaterial=function(){return this.defaultMaterial},JSM.Materials.prototype.Count=function(){return this.materials.length},JSM.AddVertexToBody=function(t,e,i,r){t.AddVertex(new JSM.BodyVertex(new JSM.Coord(e,i,r)))},JSM.AddPolygonToBody=function(t,e){t.AddPolygon(new JSM.BodyPolygon(e))},JSM.CalculateBodyVertexToPolygon=function(t){var e,i,r=[];for(e=0;e<t.VertexCount();e++)r.push([]);var o;for(e=0;e<t.PolygonCount();e++)for(o=t.GetPolygon(e),i=0;i<o.VertexIndexCount();i++)r[o.GetVertexIndex(i)].push(e);return r},JSM.CalculateBodyPolygonNormal=function(t,e){var i=t.GetPolygon(e),r=i.VertexIndexCount(),o=new JSM.Vector(0,0,0);if(r>=3){var n,a,s;for(n=0;r>n;n++)a=n,s=(n+1)%r,a=t.GetVertexPosition(i.GetVertexIndex(a)),s=t.GetVertexPosition(i.GetVertexIndex(s)),o.x+=(a.y-s.y)*(a.z+s.z),o.y+=(a.z-s.z)*(a.x+s.x),o.z+=(a.x-s.x)*(a.y+s.y)}return JSM.VectorNormalize(o)},JSM.CalculateBodyPolygonNormals=function(t){var e,i=[];for(e=0;e<t.PolygonCount();e++)i.push(JSM.CalculateBodyPolygonNormal(t,e));return i},JSM.CalculateBodyVertexNormals=function(t){var e,i,r,o,n,a,s,l,c=[],h=JSM.CalculateBodyPolygonNormals(t),d=null;for(e=0;e<t.PolygonCount();e++)if(o=t.GetPolygon(e),c[e]=[],o.HasCurveGroup())for(null===d&&(d=JSM.CalculateBodyVertexToPolygon(t)),i=0;i<o.VertexIndexCount();i++){for(n=new JSM.Vector(0,0,0),a=0,s=d[o.GetVertexIndex(i)],r=0;r<s.length;r++)l=t.GetPolygon(s[r]),l.GetCurveGroup()===o.GetCurveGroup()&&(n=JSM.CoordAdd(n,h[s[r]]),a++);n=JSM.VectorMultiply(n,1/a),n=JSM.VectorNormalize(n),c[e].push(n)}else for(r=h[e],i=0;i<o.VertexIndexCount();i++)c[e].push(new JSM.Vector(r.x,r.y,r.z));return c},JSM.MakeBodyInsideOut=function(t){var e,i,r,o,n;for(e=0;e<t.PolygonCount();e++)for(r=t.GetPolygon(e),n=r.vertices.slice(0),o=n.length,r.vertices=[],i=0;o>i;i++)r.vertices.push(n[o-i-1])},JSM.SoftMoveBodyVertex=function(t,e,i,r,o){e=t.GetVertex(e).position;var n,a,s,l=JSM.GetGaussianCParameter(i,o,0,1e-5);for(n=0;n<t.VertexCount();n++)a=JSM.CoordDistance(e,t.GetVertex(n).position),JSM.IsGreater(a,i)||(a=JSM.GetGaussianValue(a,o,0,l),s=t.GetVertex(n).position,t.GetVertex(n).position=JSM.CoordOffset(s,r,a))},JSM.CalculatePolygonCentroid=function(t,e){var i,r=t.GetPolygon(e),o=r.VertexIndexCount(),n=new JSM.Coord(0,0,0);for(i=0;o>i;i++)n=JSM.CoordAdd(n,t.GetVertexPosition(r.GetVertexIndex(i)));return n=JSM.VectorMultiply(n,1/o)},JSM.TriangulateWithCentroids=function(t){var e,i,r=new JSM.Body;for(e=0;e<t.VertexCount();e++)i=t.GetVertex(e).position,r.AddVertex(new JSM.BodyVertex(new JSM.Coord(i.x,i.y,i.z)));var o,n,a,s,l;for(e=0;e<t.PolygonCount();e++)for(i=JSM.CalculatePolygonCentroid(t,e),l=r.VertexCount(),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(i.x,i.y,i.z))),n=t.GetPolygon(e),a=n.VertexIndexCount(),i=0;a>i;i++)o=n.GetVertexIndex(i),s=n.GetVertexIndex(a-1>i?i+1:0),o=new JSM.BodyPolygon([o,s,l]),o.material=n.material,o.curved=n.curved,r.AddPolygon(o);return r},JSM.TriangulatePolygons=function(t){var e,i,r,o=new JSM.Body;for(e=0;e<t.VertexCount();e++)r=t.GetVertexPosition(e),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(r.x,r.y,r.z)));var n,a;for(e=0;e<t.PolygonCount();e++){for(n=new JSM.Polygon,a=t.GetPolygon(e),i=0;i<a.VertexIndexCount();i++)r=t.GetVertexPosition(a.GetVertexIndex(i)),n.AddVertex(r.x,r.y,r.z);for(r=JSM.PolygonTriangulate(n),i=0;i<r.length;i++)n=r[i],n=new JSM.BodyPolygon([a.GetVertexIndex(n[0]),a.GetVertexIndex(n[1]),a.GetVertexIndex(n[2])]),n.InheritAttributes(a),o.AddPolygon(n)}return o},JSM.GenerateRandomMaterials=function(t,e,i){var r,o;for(r=0;r<t.PolygonCount();r++)o=void 0!==i&&i?JSM.SeededRandomInt(0,16777215,r+1):JSM.RandomInt(0,16777215),e.AddMaterial(new JSM.Material({ambient:o,diffuse:o})),o=e.Count()-1,t.GetPolygon(r).SetMaterialIndex(o)},JSM.VertInfo=function(){this.edges=[],this.pgons=[]},JSM.EdgeInfo=function(){this.pgon2=this.pgon1=this.vert2=this.vert1=-1},JSM.PolyEdgeInfo=function(){this.index=-1,this.reverse=!1},JSM.PgonInfo=function(){this.verts=[],this.pedges=[]},JSM.AdjacencyInfo=function(){this.verts=[],this.edges=[],this.pgons=[]},JSM.GetPolyEdgeStartVertex=function(t,e){return t.reverse?e.edges[t.index].vert2:e.edges[t.index].vert1},JSM.GetPolyEdgeEndVertex=function(t,e){return t.reverse?e.edges[t.index].vert1:e.edges[t.index].vert2},JSM.CalculateAdjacencyInfo=function(t){var e,i,r,o=new JSM.AdjacencyInfo;for(e=0;e<t.VertexCount();e++)i=new JSM.VertInfo,o.verts.push(i);var n,a,s,l,c;for(e=0;e<t.PolygonCount();e++){for(n=t.GetPolygon(e),r=new JSM.PgonInfo,a=n.VertexIndexCount(),i=0;a>i;i++){s=n.GetVertexIndex(i),l=n.GetVertexIndex(a-1>i?i+1:0),c=s;var h=l;l=e;for(var d=new JSM.PolyEdgeInfo,u=void 0,p=void 0,u=0;u<o.edges.length;u++)p=o.edges[u],p.vert1===c&&p.vert2===h?(d.index=u,d.reverse=!1):p.vert1===h&&p.vert2===c&&(d.index=u,d.reverse=!0);-1===d.index?(u=new JSM.EdgeInfo,u.vert1=c,u.vert2=h,u.pgon1=l,u.pgon2=-1,o.edges.push(u),d.index=o.edges.length-1,d.reverse=!1):(c=o.edges[d.index],-1===c.pgon1?c.pgon1=l:c.pgon1!==l&&-1===c.pgon2&&(c.pgon2=l)),c=d,r.verts.push(s),r.pedges.push(c),o.verts[s].edges.push(c.index),o.verts[s].pgons.push(e)}o.pgons.push(r)}return o},JSM.IsSolidBody=function(t){t=JSM.CalculateAdjacencyInfo(t);var e,i;for(e=0;e<t.edges.length;e++)if(i=t.edges[e],-1===i.pgon1||-1===i.pgon2)return!1;return!0},JSM.CheckSolidBody=function(t){t=JSM.CalculateAdjacencyInfo(t);var e,i,r,o,n,a,s,l;for(e=0;e<t.edges.length;e++){if(r=t.edges[e],-1===r.pgon1||-1===r.pgon2)return!1;for(a=t.pgons[r.pgon1],n=!1,i=0;i<a.pedges.length;i++)if(o=a.pedges[i],o.index==e){s=o.reverse,n=!0;break}if(!n)return!1;for(r=t.pgons[r.pgon2],n=!1,i=0;i<r.pedges.length;i++)if(o=r.pedges[i],o.index==e){l=o.reverse,n=!0;break}if(!n||s==l)return!1}return!0},JSM.CalculatePlanarTextureCoord=function(t,e){var i=new JSM.Coord2D(0,0),r=JSM.VectorNormalize(e.e1),o=JSM.VectorNormalize(e.e2),n=JSM.VectorCross(e.e1,e.e2),n=JSM.GetPlaneFromCoordAndDirection(e.origo,n),o=JSM.GetPlaneFromCoordAndDirection(e.origo,o),r=JSM.GetPlaneFromCoordAndDirection(e.origo,r),n=JSM.ProjectCoordToPlane(t,n);return i.x=JSM.CoordPlaneSignedDistance(n,r),i.y=JSM.CoordPlaneSignedDistance(n,o),i},JSM.CalculateCubicTextureCoord=function(t,e,i){var r,o,n,a=new JSM.Coord2D(0,0),s=JSM.VectorNormalize(i.e1),l=JSM.VectorNormalize(i.e2),c=JSM.VectorNormalize(i.e3),h=-1,d=0;for(r=0;3>r;r++)0===r?o=s:1===r?o=l:2===r&&(o=c),n=Math.abs(JSM.VectorDot(e,o)),JSM.IsGreater(n,d)&&(h=r,d=n);return-1===h?a:(e=null,0===h?e=new JSM.CoordSystem(i.origo,l,c,new JSM.Coord(0,0,0)):1===h?e=new JSM.CoordSystem(i.origo,s,c,new JSM.Coord(0,0,0)):2===h&&(e=new JSM.CoordSystem(i.origo,s,l,new JSM.Coord(0,0,0))),null===e?a:JSM.CalculatePlanarTextureCoord(t,e))},JSM.CalculateCylindricalTextureCoord=function(t,e,i){var r=new JSM.Coord2D(0,0),o=JSM.VectorNormalize(i.e3);if(JSM.VectorsAreCollinear(o,e))return r=JSM.CalculateCubicTextureCoord(t,e,i),[r,0];e=new JSM.Line(i.origo,o);var n=JSM.ProjectCoordToLine(t,e);e=JSM.CoordSignedDistance(i.origo,n,o);var a=JSM.VectorNormalize(i.e1);return t=JSM.CoordSub(t,n),o=JSM.GetVectorsFullAngle(t,a,o),i=JSM.VectorLength(i.e1),r.x=o*i,r.y=e,[r,o]},JSM.CalculatePolygonPlanarTextureCoords=function(t,e){var i,r,o=[],n=t.GetPolygon(e),a=t.GetTextureProjectionCoords();for(i=0;i<n.VertexIndexCount();i++)r=t.GetVertexPosition(n.GetVertexIndex(i)),o.push(JSM.CalculatePlanarTextureCoord(r,a));return o},JSM.CalculatePolygonCubicTextureCoords=function(t,e,i){var r=[];e=t.GetPolygon(e);var o,n,a=t.GetTextureProjectionCoords();for(o=0;o<e.VertexIndexCount();o++)n=t.GetVertexPosition(e.GetVertexIndex(o)),r.push(JSM.CalculateCubicTextureCoord(n,i,a));return r},JSM.CalculatePolygonCylindricalTextureCoords=function(t,e,i){var r=[],o=[],n=t.GetPolygon(e);e=t.GetTextureProjectionCoords();var a,s;for(a=0;a<n.VertexIndexCount();a++)s=t.GetVertexPosition(n.GetVertexIndex(a)),s=JSM.CalculateCylindricalTextureCoord(s,i,e),r.push(s[0]),o.push(s[1]);if(a=JSM.VectorNormalize(e.e3),JSM.VectorsAreCollinear(a,i))return r;for(t=!1,a=0;a<o.length;a++){for(i=a+1;i<o.length;i++)if(JSM.IsGreater(Math.abs(o[a]-o[i]),Math.PI)){t=!0;break}if(t)break}if(t)for(e=JSM.VectorLength(e.e1),a=0;a<o.length;a++)JSM.IsLower(o[a],Math.PI)&&(r[a].x=e*(o[a]+2*Math.PI));return r},JSM.CalculateBodyPlanarTextureCoords=function(t){var e,i=[];for(e=0;e<t.PolygonCount();e++)i.push(JSM.CalculatePolygonPlanarTextureCoords(t,e));return i},JSM.CalculateBodyCubicTextureCoords=function(t){var e,i,r=[],o=JSM.CalculateBodyPolygonNormals(t);for(e=0;e<t.PolygonCount();e++)i=o[e],r.push(JSM.CalculatePolygonCubicTextureCoords(t,e,i));return r},JSM.CalculateBodyCylindricalTextureCoords=function(t){var e,i,r=[],o=JSM.CalculateBodyPolygonNormals(t);for(e=0;e<t.PolygonCount();e++)i=o[e],r.push(JSM.CalculatePolygonCylindricalTextureCoords(t,e,i));return r},JSM.CalculateBodyTextureCoords=function(t){var e=[],i=t.GetTextureProjectionType();return"Planar"===i?e=JSM.CalculateBodyPlanarTextureCoords(t):"Cubic"===i?e=JSM.CalculateBodyCubicTextureCoords(t):"Cylindrical"===i&&(e=JSM.CalculateBodyCylindricalTextureCoords(t)),e},JSM.CutBodyByPlane=function(t,e){function i(t,e,i){function r(t){m.push(new JSM.Coord(s.x,s.y,s.z)),g.push(t)}function o(i,r){p=JSM.VectorNormalize(JSM.CoordSub(t[r],t[i])),f=new JSM.Line(t[i],p),_=JSM.LinePlaneIntersection(f,e),m.push(new JSM.Coord(_.x,_.y,_.z)),g.push(-1)}var n,a,s,l=void 0!==i&&null!==i,c=t.length,h=[],d=[],u=!1;for(n=0;c>n;n++)s=t[n],a=JSM.CoordPlanePosition(s,e),d.push("CoordAtBackOfPlane"!==a),n>0&&d[n-1]!==d[n]&&(u=!0);if(!u){if(!1===d[0])return h;for(n=0;c>n;n++)s=t[n],h.push(new JSM.Coord(s.x,s.y,s.z)),l&&i.push(n);return h}var p,f,_,m=[],g=[];for(n=0;c>n;n++)u=n-1,a=n,0===n&&(u=c-1),s=t[a],d[a]?(d[u]||o(u,a),r(a)):d[u]&&o(u,a);for(n=0;n<m.length;n++)c=m[n],d=h[h.length-1],0!==n&&JSM.CoordIsEqual(d,c)?l&&(c=g[n],d=g[n-1],-1!==c?i[i.length-1]=c:-1!==d&&(i[i.length-1]=d)):(h.push(new JSM.Coord(c.x,c.y,c.z)),l&&(c=g[n],i.push(c)));return h}function r(t){var e,i=-1;for(e=_;e<c.VertexCount();e++)if(JSM.CoordIsEqual(c.GetVertexPosition(e),t)){i=e;break}return-1===i&&(i=c.AddVertex(new JSM.BodyVertex(new JSM.Coord(t.x,t.y,t.z)))),i}var o,n,a,s,l,c=new JSM.Body,h=[],d=[],u=[],p=[];for(o=0;o<t.PolygonCount();o++){for(a=t.GetPolygon(o),s=[],n=0;n<a.VertexIndexCount();n++)l=t.GetVertexPosition(a.GetVertexIndex(n)),s.push(new JSM.Coord(l.x,l.y,l.z));for(l=[],s=i(s,e,l),n=0;n<l.length;n++)-1!==l[n]&&(u[a.GetVertexIndex(l[n])]=!0);h.push(s),d.push(l)}var f;for(o=0;o<t.VertexCount();o++)u[o]&&(f=t.GetVertexPosition(o),p[o]=c.AddVertex(new JSM.BodyVertex(new JSM.Coord(f.x,f.y,f.z))));var _=c.VertexCount();for(o=0;o<t.PolygonCount();o++)if(a=t.GetPolygon(o),s=h[o],l=d[o],0!==l.length){for(u=[],n=0;n<l.length;n++)-1!==l[n]?u.push(p[a.GetVertexIndex(l[n])]):(f=s[n],u.push(r(f)));n=new JSM.BodyPolygon(u),n.InheritAttributes(a),c.AddPolygon(n)}return c},JSM.GenerateRectangle=function(t,e){var i=new JSM.Body,r=t/2,o=e/2;return i.AddVertex(new JSM.BodyVertex(new JSM.Coord(-r,-o,0))),i.AddVertex(new JSM.BodyVertex(new JSM.Coord(r,-o,0))),i.AddVertex(new JSM.BodyVertex(new JSM.Coord(r,o,0))),i.AddVertex(new JSM.BodyVertex(new JSM.Coord(-r,o,0))),i.AddPolygon(new JSM.BodyPolygon([0,1,2,3])),i.SetCubicTextureProjection(new JSM.Coord(-r,-o,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),i},JSM.GenerateCuboid=function(t,e,i){var r=new JSM.Body;return t/=2,e/=2,i/=2,r.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,-e,-i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,-e,-i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,-e,i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,-e,i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,e,-i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,e,-i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,e,i))),r.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,e,i))),r.AddPolygon(new JSM.BodyPolygon([0,1,2,3])),r.AddPolygon(new JSM.BodyPolygon([1,5,6,2])),r.AddPolygon(new JSM.BodyPolygon([5,4,7,6])),r.AddPolygon(new JSM.BodyPolygon([4,0,3,7])),r.AddPolygon(new JSM.BodyPolygon([0,4,5,1])),r.AddPolygon(new JSM.BodyPolygon([3,2,6,7])),r.SetCubicTextureProjection(new JSM.Coord(-t,-e,-i),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),r},JSM.GenerateCuboidSides=function(t,e,i,r){var o=new JSM.Body;return t/=2,e/=2,i/=2,o.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,-e,-i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,-e,-i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,-e,i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,-e,i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,e,-i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,e,-i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(t,e,i))),o.AddVertex(new JSM.BodyVertex(new JSM.Coord(-t,e,i))),r[0]&&o.AddPolygon(new JSM.BodyPolygon([0,1,2,3])),r[1]&&o.AddPolygon(new JSM.BodyPolygon([1,5,6,2])),r[2]&&o.AddPolygon(new JSM.BodyPolygon([5,4,7,6])),r[3]&&o.AddPolygon(new JSM.BodyPolygon([4,0,3,7])),r[4]&&o.AddPolygon(new JSM.BodyPolygon([0,4,5,1])),r[5]&&o.AddPolygon(new JSM.BodyPolygon([3,2,6,7])),o.SetCubicTextureProjection(new JSM.Coord(-t,-e,-i),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),o},JSM.GenerateSegmentedRectangle=function(t,e,i,r){var o=new JSM.Body,n=t/2,a=e/2,s=t/i,l=e/r;return function(){var t,e,c;for(t=0;r>=t;t++)for(e=0;i>=e;e++)c=new JSM.Coord(e*s-n,t*l-a,0),o.AddVertex(new JSM.BodyVertex(c))}(),function(){var t,e,n,a,s,l;for(e=0;r>e;e++)for(t=0;i>t;t++)n=e*(i+1)+t,a=n+1,s=n+i+1,l=s+1,o.AddPolygon(new JSM.BodyPolygon([n,a,l,s]))}(),o},JSM.GenerateSegmentedCuboid=function(t,e,i,r){function o(t){var e=0;return t>0&&r>=t&&(e=(r+1)*(r+1)+4*(t-1)*r),e}function n(t){var e=[],i=o(t);if(0===t||t===r){for(t=0;r>=t;t++)e.push(i+t);for(t=1;r>=t;t++)e.push(i+(t+1)*r+t);for(t=r-1;t>=0;t--)e.push(i+(r+1)*r+t);for(t=r-1;t>0;t--)e.push(i+t*(r+1))}else if(t>0&&r>t){for(t=0;r>=t;t++)e.push(i+t);for(t=1;r>t;t++)e.push(i+r+2*t);for(t=r;t>=0;t--)e.push(i+3*r+t-1);for(t=r-1;t>0;t--)e.push(i+r+2*t-1)}return e}function a(t){var e,i,o=t*f;if(0===t||t===r)for(t=0;r>=t;t++)for(e=0;r>=e;e++)i=new JSM.Coord(e*u-c,t*p-h,o-d),l.AddVertex(new JSM.BodyVertex(i));else if(t>0&&r>t)for(t=0;r>=t;t++)for(e=0;r>=e;e++)(0===t||t===r||0===e||e===r)&&(i=new JSM.Coord(e*u-c,t*p-h,o-d),l.AddVertex(new JSM.BodyVertex(i)))}function s(t){var e,i,n,a,s,c;if(0===t||t===r){var h=o(t);for(e=0;r>e;e++)for(i=0;r>i;i++)n=h+e*(r+1)+i,a=n+1,s=n+r+1,c=s+1,l.AddPolygon(0===t?new JSM.BodyPolygon([n,s,c,a]):new JSM.BodyPolygon([n,a,c,s]))}if(t>0&&r>=t)for(i=_[t-1],t=_[t],e=0;4*r>e;e++)n=i[e],s=t[e],4*r-1>e?(a=i[e+1],c=t[e+1]):(a=i[0],c=t[0]),l.AddPolygon(new JSM.BodyPolygon([n,a,c,s]))}var l=new JSM.Body,c=t/2,h=e/2,d=i/2,u=t/r,p=e/r,f=i/r;for(t=0;r>=t;t++)a(t);var _=[];for(t=0;r>=t;t++)_.push(n(t));for(t=0;r>=t;t++)s(t);return l},JSM.GenerateCircle=function(t,e){var i,r=new JSM.Body,o=JSM.GenerateCirclePoints(t,e);for(i=0;i<o.length;i++)r.AddVertex(new JSM.BodyVertex(o[i]));for(o=new JSM.BodyPolygon([]),i=0;e>i;i++)o.AddVertexIndex(i);return r.AddPolygon(o),r.SetCylindricalTextureProjection(new JSM.Coord(0,0,0),t,new JSM.Coord(1,0,0),new JSM.Coord(0,0,1)),r},JSM.GenerateSphere=function(t,e,i){var r,o,n,a=new JSM.Body,s=2*e,l=a.AddVertex(new JSM.BodyVertex(JSM.SphericalToCartesian(t,0,0))),c=Math.PI/e,h=c;for(r=1;e>r;r++){for(o=n=0;s>o;o++)a.AddVertex(new JSM.BodyVertex(JSM.SphericalToCartesian(t,h,n))),n+=c;h+=c}t=a.AddVertex(new JSM.BodyVertex(JSM.SphericalToCartesian(-t,0,0)));var d,u;for(r=1;e>=r;r++)if(1===r)for(c=1,o=0;s>o;o++)h=c+o,n=h+1,o===s-1&&(n=c),h=new JSM.BodyPolygon([h,n,l]),i&&h.SetCurveGroup(0),a.AddPolygon(h);else if(e>r)for(c=(r-1)*s+1,o=0;s>o;o++)h=c+o,n=h+1,d=h-s,u=d+1,o===s-1&&(n=c,u=c-s),h=new JSM.BodyPolygon([h,n,u,d]),i&&h.SetCurveGroup(0),a.AddPolygon(h);else if(r===e)for(c=(r-2)*s+1,o=0;s>o;o++)h=c+o,n=h+1,o===s-1&&(n=c),h=new JSM.BodyPolygon([h,t,n]),i&&h.SetCurveGroup(0),a.AddPolygon(h);return a.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),a},JSM.GenerateTriangulatedSphere=function(t,e,i){var r;r=new JSM.Body;var o=(1+Math.sqrt(5))/2;JSM.AddVertexToBody(r,0,1,+o),JSM.AddVertexToBody(r,0,1,-o),JSM.AddVertexToBody(r,0,-1,+o),JSM.AddVertexToBody(r,0,-1,-o),JSM.AddVertexToBody(r,1,+o,0),JSM.AddVertexToBody(r,1,-o,0),JSM.AddVertexToBody(r,-1,+o,0),JSM.AddVertexToBody(r,-1,-o,0),JSM.AddVertexToBody(r,+o,0,1),JSM.AddVertexToBody(r,-o,0,1),JSM.AddVertexToBody(r,+o,0,-1),JSM.AddVertexToBody(r,-o,0,-1),JSM.AddPolygonToBody(r,[0,2,8]),JSM.AddPolygonToBody(r,[0,4,6]),JSM.AddPolygonToBody(r,[0,6,9]),JSM.AddPolygonToBody(r,[0,8,4]),JSM.AddPolygonToBody(r,[0,9,2]),JSM.AddPolygonToBody(r,[1,3,11]),JSM.AddPolygonToBody(r,[1,4,10]),JSM.AddPolygonToBody(r,[1,6,4]),JSM.AddPolygonToBody(r,[1,10,3]),JSM.AddPolygonToBody(r,[1,11,6]),JSM.AddPolygonToBody(r,[2,5,8]),JSM.AddPolygonToBody(r,[2,7,5]),JSM.AddPolygonToBody(r,[2,9,7]),JSM.AddPolygonToBody(r,[3,5,7]),JSM.AddPolygonToBody(r,[3,7,11]),JSM.AddPolygonToBody(r,[3,10,5]),JSM.AddPolygonToBody(r,[4,8,10]),JSM.AddPolygonToBody(r,[6,11,9]),JSM.AddPolygonToBody(r,[5,10,8]),JSM.AddPolygonToBody(r,[7,9,11]);for(var n,a,o=JSM.VectorLength(r.GetVertexPosition(0)),s=t/o,o=0;o<r.VertexCount();o++)a=r.GetVertex(o),a.SetPosition(JSM.VectorMultiply(a.GetPosition(),s));for(var l,c,h,d,s=0;e>s;s++){for(n=r,r=new JSM.Body,a=JSM.CalculateAdjacencyInfo(n),o=0;o<a.verts.length;o++)l=n.GetVertexPosition(o),JSM.AddVertexToBody(r,l.x,l.y,l.z);for(l=[],o=0;o<a.edges.length;o++)c=a.edges[o],c=JSM.MidCoord(n.GetVertexPosition(c.vert1),n.GetVertexPosition(c.vert2)),c=JSM.VectorMultiply(JSM.VectorNormalize(c),t),l.push(r.AddVertex(new JSM.BodyVertex(c)));for(o=0;o<a.pgons.length;o++){for(c=a.pgons[o],h=[],n=0;n<c.pedges.length;n++)d=c.pedges[n],h.push(JSM.GetPolyEdgeStartVertex(d,a)),h.push(l[d.index]);JSM.AddPolygonToBody(r,[h[0],h[1],h[5]]),JSM.AddPolygonToBody(r,[h[1],h[2],h[3]]),JSM.AddPolygonToBody(r,[h[3],h[4],h[5]]),JSM.AddPolygonToBody(r,[h[1],h[3],h[5]])}}if(i)for(o=0;o<r.PolygonCount();o++)r.GetPolygon(o).SetCurveGroup(0);return r.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),r},JSM.GenerateCylinder=function(t,e,i,r,o){var n,a=new JSM.Body,s=2*Math.PI,l=2*Math.PI/i;for(n=0;i>n;n++)a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(t,e/2,s))),a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(t,-e/2,s))),s-=l;for(n=0;i>n;n++)s=2*n,l=s+2,n===i-1&&(l=0),s=new JSM.BodyPolygon([s,l,l+1,s+1]),o&&s.SetCurveGroup(0),a.AddPolygon(s);if(r){for(r=new JSM.BodyPolygon([]),o=new JSM.BodyPolygon([]),n=0;i>n;n++)r.AddVertexIndex(2*(i-n-1)),o.AddVertexIndex(2*n+1);a.AddPolygon(r),a.AddPolygon(o)}return a.SetCylindricalTextureProjection(new JSM.Coord(0,0,-(e/2)),t,new JSM.Coord(1,0,0),new JSM.Coord(0,0,1)),a},JSM.GeneratePie=function(t,e,i,r,o,n){var a=new JSM.Body,s=i,l=i/(r-1);for(a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(0,e/2,0))),a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(0,-e/2,0))),i=0;r>i;i++)a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(t,e/2,s))),a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(t,-e/2,s))),s-=l;for(i=0;r>=i;i++)s=2*i,l=s+2,i===r&&(l=0),s=new JSM.BodyPolygon([s,l,l+1,s+1]),n&&i>0&&r>i&&s.SetCurveGroup(0),a.AddPolygon(s);if(o){for(o=new JSM.BodyPolygon([]),n=new JSM.BodyPolygon([]),i=0;r>=i;i++)o.AddVertexIndex(2*(r-i)),n.AddVertexIndex(2*i+1);a.AddPolygon(o),a.AddPolygon(n)}return a.SetCylindricalTextureProjection(new JSM.Coord(0,0,-(e/2)),t,new JSM.Coord(1,0,0),new JSM.Coord(0,0,1)),a},JSM.GenerateCone=function(t,e,i,r,o,n){var a=new JSM.Body,s=JSM.IsZero(t),l=JSM.IsZero(e),c=2*Math.PI,h=2*Math.PI/r;s&&a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(0,i/2,0)));var d;for(d=0;r>d;d++)s||a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(t,i/2,c))),l||a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(e,-i/2,c))),c-=h;for(l&&a.AddVertex(new JSM.BodyVertex(JSM.CylindricalToCartesian(0,-i/2,0))),d=0;r>d;d++)s?(c=d+1,h=c+1,d===r-1&&(h=1),c=new JSM.BodyPolygon([0,h,c])):l?(c=d,h=c+1,d===r-1&&(h=0),c=new JSM.BodyPolygon([c,h,r])):(c=2*d,h=c+2,d===r-1&&(h=0),c=new JSM.BodyPolygon([c,h,h+1,c+1])),n&&c.SetCurveGroup(0),a.AddPolygon(c);if(o)if(s){for(n=new JSM.BodyPolygon([]),d=0;r>d;d++)n.AddVertexIndex(d+1);a.AddPolygon(n)}else if(l){for(o=new JSM.BodyPolygon([]),d=0;r>d;d++)o.AddVertexIndex(r-d-1);a.AddPolygon(o)}else{for(o=new JSM.BodyPolygon([]),n=new JSM.BodyPolygon([]),d=0;r>d;d++)o.AddVertexIndex(2*(r-d-1)),n.AddVertexIndex(2*d+1);a.AddPolygon(o),a.AddPolygon(n)}return a.SetCylindricalTextureProjection(new JSM.Coord(0,0,-(i/2)),(t+e)/2,new JSM.Coord(1,0,0),new JSM.Coord(0,0,1)),a},JSM.GeneratePrism=function(t,e,i,r){var o,n=new JSM.Body,a=t.length;for(o=0;a>o;o++)n.AddVertex(new JSM.BodyVertex(t[o])),n.AddVertex(new JSM.BodyVertex(JSM.CoordOffset(t[o],e,i)));var s;for(o=0;a>o;o++)i=2*o,s=i+2,o===a-1&&(s=0),n.AddPolygon(new JSM.BodyPolygon([i,s,s+1,i+1]));if(r){for(r=new JSM.BodyPolygon([]),i=new JSM.BodyPolygon([]),o=0;a>o;o++)r.AddVertexIndex(2*o+1),i.AddVertexIndex(2*(a-o-1));n.AddPolygon(r),n.AddPolygon(i)}return a=JSM.VectorNormalize(JSM.CoordSub(t[1],t[0])),t=new JSM.Coord(t[0].x,t[0].y,t[0].z),e=JSM.VectorNormalize(e),a=JSM.VectorCross(e,a),o=JSM.VectorCross(a,e),n.SetCubicTextureProjection(t,o,a,e),n},JSM.GenerateCurvedPrism=function(t,e,i,r,o){if(i=JSM.GeneratePrism(t,i,r,o),void 0===e||null===e||t.length!=e.length)return i;for(r=0;r<t.length;r++)o=e[r],i.GetPolygon(r).SetCurveGroup(o);return i},JSM.GeneratePrismWithHole=function(t,e,i,r){function o(){var e,i=0,r=[];for(e=0;e<t.length;e++)null===t[e]&&(i+=1),r.push(e-i);var o,i=JSM.CreatePolygonWithHole(t),a=new JSM.Polygon;for(e=0;e<i.length;e++)o=t[i[e]],a.AddVertex(o.x,o.y,o.z);o=JSM.PolygonTriangulate(a);var s,l,c;for(e=0;e<o.length;e++){for(s=o[e],l=new JSM.BodyPolygon([]),c=new JSM.BodyPolygon([]),a=0;3>a;a++)l.AddVertexIndex(2*r[i[s[a]]]+1),c.AddVertexIndex(2*r[i[s[3-a-1]]]);n.AddPolygon(l),n.AddPolygon(c)}}var n=new JSM.Body;!function(){var r;for(r=0;r<t.length;r++)null!==t[r]&&(n.AddVertex(new JSM.BodyVertex(t[r])),n.AddVertex(new JSM.BodyVertex(JSM.CoordOffset(t[r],e,i))))}(),function(){var e=0,i=[];i.push(0);var r;for(r=0;r<t.length;r++)null===t[r]&&(i.push(r-e),e+=1);for(i.push(r-e),e=0;e<i.length-1;e++){var o=r=void 0,a=void 0,s=i[e],l=i[e+1];for(r=s;l>r;r++)o=2*r,a=o+2,r===l-1&&(a=2*s),n.AddPolygon(new JSM.BodyPolygon([o,a,a+1,o+1]))}}(),r&&o();var a=JSM.VectorNormalize(JSM.CoordSub(t[1],t[0]));r=new JSM.Coord(t[0].x,t[0].y,t[0].z);var s=JSM.VectorNormalize(e),a=JSM.VectorCross(s,a),l=JSM.VectorCross(a,s);return n.SetCubicTextureProjection(r,l,a,s),n},JSM.GenerateCurvedPrismWithHole=function(t,e,i,r,o){if(i=JSM.GeneratePrismWithHole(t,i,r,o),void 0===e||null===e||t.length!=e.length)return i;r=0;var n;for(o=0;o<t.length;o++)n=e[o],null!==n&&(i.GetPolygon(r).SetCurveGroup(n),r++);return i},JSM.GeneratePrismShell=function(t,e,i,r,o){var n,a=new JSM.Body,s=t.length;for(n=0;s>n;n++)a.AddVertex(new JSM.BodyVertex(t[n]));for(n=new JSM.Polygon,n.vertices=t,r=JSM.OffsetPolygonContour(n,r).vertices,n=0;s>n;n++)a.AddVertex(new JSM.BodyVertex(r[n]));var l;for(n=0;s>n;n++)l=JSM.CoordOffset(t[n],e,i),a.AddVertex(new JSM.BodyVertex(l));for(n=0;s>n;n++)l=JSM.CoordOffset(r[n],e,i),a.AddVertex(new JSM.BodyVertex(l));var c;for(n=0;s>n;n++)i=n,r=i+1,l=i+2*s,c=l+1,n===s-1&&(r=0,c=2*s),a.AddPolygon(new JSM.BodyPolygon([i,r,c,l])),a.AddPolygon(new JSM.BodyPolygon([i+s,l+s,c+s,r+s]));if(o)for(n=0;s>n;n++)i=n,r=i+1,l=n+s,c=l+1,n===s-1&&(r=0,c=s),a.AddPolygon(new JSM.BodyPolygon([i,l,c,r])),a.AddPolygon(new JSM.BodyPolygon([i+2*s,r+2*s,c+2*s,l+2*s]));return o=JSM.VectorNormalize(JSM.CoordSub(t[1],t[0])),t=new JSM.Coord(t[0].x,t[0].y,t[0].z),e=JSM.VectorNormalize(e),o=JSM.VectorCross(e,o),s=JSM.VectorCross(o,e),a.SetCubicTextureProjection(t,s,o,e),a},JSM.GenerateCylinderShell=function(t,e,i,r,o,n){for(var a,s=new JSM.Vector(0,0,1),l=-e/2,c=[],h=2*Math.PI/r,d=0,d=0;r>d;d++)a=d*h,a=JSM.PolarToCartesian(t,a),c.push(new JSM.Coord(a.x,a.y,l));if(t=JSM.GeneratePrismShell(c,s,e,i,o),n)for(n=0;r>n;n++)t.GetPolygon(2*n).SetCurveGroup(0),t.GetPolygon(2*n+1).SetCurveGroup(0);return t},JSM.GenerateLineShell=function(t,e,i,r,o,n){var a,s,l,c,h,d,u=new JSM.Body,p=t.length,f=[];for(a=0;p>a;a++)0===a||a===p-1?h=Math.PI/2:(s=a-1,l=a,c=a+1,d=JSM.CoordSub(t[c],t[l]),h=JSM.CoordSub(t[s],t[l]),h=JSM.GetVectorsAngle(d,h)/2,"Clockwise"===JSM.CoordTurnType(t[s],t[l],t[c],e)&&(h=Math.PI-h)),f.push(h);d=new JSM.Vector(0,0,1),s=[];var _;for(a=0;p>a;a++)l=a,a===p-1?_=JSM.CoordSub(t[l-1],t[l]):(c=(a+1)%p,_=JSM.CoordSub(t[l],t[c])),h=f[l],c=r/Math.sin(h),c=JSM.CoordOffset(t[l],_,c),c=JSM.CoordRotate(c,d,-(Math.PI-h),t[l]),s.push(c);for(a=0;p>a;a++)u.AddVertex(new JSM.BodyVertex(t[a]));for(a=0;p>a;a++)u.AddVertex(new JSM.BodyVertex(s[a]));for(a=0;p>a;a++)l=JSM.CoordOffset(t[a],e,i),u.AddVertex(new JSM.BodyVertex(l));for(a=0;p>a;a++)l=JSM.CoordOffset(s[a],e,i),u.AddVertex(new JSM.BodyVertex(l));for(a=0;p-1>a;a++)l=a,c=l+1,i=l+2*p,r=i+1,u.AddPolygon(new JSM.BodyPolygon([l,c,r,i])),u.AddPolygon(new JSM.BodyPolygon([l+p,i+p,r+p,c+p]));if(o&&(l=0,u.AddPolygon(new JSM.BodyPolygon([l,l+2*p,l+3*p,l+p])),l=p-1,u.AddPolygon(new JSM.BodyPolygon([l,l+p,l+3*p,l+2*p]))),n)for(a=0;p-1>a;a++)l=a,c=l+1,i=a+p,r=i+1,u.AddPolygon(new JSM.BodyPolygon([l,i,r,c])),u.AddPolygon(new JSM.BodyPolygon([l+2*p,c+2*p,r+2*p,i+2*p]));return o=JSM.VectorNormalize(JSM.CoordSub(t[1],t[0])),t=new JSM.Coord(t[0].x,t[0].y,t[0].z),e=JSM.VectorNormalize(e),o=JSM.VectorCross(e,o),n=JSM.VectorCross(o,e),u.SetCubicTextureProjection(t,n,o,e),u},JSM.GenerateTorus=function(t,e,i,r,o){var n,a,s=new JSM.Body,l=0,c=2*Math.PI/r,h=[];for(n=0;r>n;n++)a=JSM.PolarToCartesian(e,l),a=new JSM.Coord(a.x+t,0,a.y),h.push(a),l+=c;for(e=new JSM.Coord(0,0,1),l=new JSM.Coord(0,0,0),c=2*Math.PI/i,n=0;i>n;n++)for(t=0;r>t;t++)a=JSM.CoordRotate(h[t],e,n*c,l),s.AddVertex(new JSM.BodyVertex(a));for(n=0;i>n;n++)for(new JSM.BodyPolygon([]),t=0;r>t;t++)c=n*r+t,e=c+r,h=c+1,l=e+1,t===r-1&&(h=n*r,l=(n+1)*r),n===i-1&&(e=t,l=t+1,t===r-1&&(l=0)),c=new JSM.BodyPolygon([c,e,l,h]),o&&c.SetCurveGroup(0),s.AddPolygon(c);return s.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),s},JSM.GeneratePolyTorus=function(t,e,i,r){var o,n=new JSM.Body,a=t.length,s=2*Math.PI/a,l=[];for(o=0;a>o;o++)s=t[o],s=new JSM.Coord(s.x+e,0,s.y),l.push(s);e=new JSM.Coord(0,0,1);var c,h=new JSM.Coord(0,0,0),s=2*Math.PI/i;for(o=0;i>o;o++)for(t=0;a>t;t++)c=JSM.CoordRotate(l[t],e,o*s,h),n.AddVertex(new JSM.BodyVertex(c));for(o=0;i>o;o++)for(new JSM.BodyPolygon([]),t=0;a>t;t++)l=o*a+t,e=l+a,s=l+1,h=e+1,t===a-1&&(s=o*a,h=(o+1)*a),o===i-1&&(e=t,h=t+1,t===a-1&&(h=0)),l=new JSM.BodyPolygon([l,e,h,s]),r&&l.SetCurveGroup(t),n.AddPolygon(l);return n.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),n},JSM.GenerateRuledFromSectors=function(t,e,i,r,o){var n=new JSM.Body,a=[],s=[];for(JSM.GetSectorSegmentation(t,i,a),JSM.GetSectorSegmentation(e,i,s),e=[],t=[],JSM.GetRuledMesh(a,s,r,e,t),r=0;r<e.length;r++)n.AddVertex(new JSM.BodyVertex(e[r]));for(r=0;r<t.length;r++)a=t[r],a=new JSM.BodyPolygon(a),o&&a.SetCurveGroup(0),n.AddPolygon(a);return n.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),n},JSM.GenerateGrid=function(t,e,i,r,o){var n=new JSM.Sector(new JSM.Coord(0,0,0),new JSM.Coord(t,0,0));return t=new JSM.Sector(new JSM.Coord(0,e,0),new JSM.Coord(t,e,0)),JSM.GenerateRuledFromSectors(n,t,i,r,o)},JSM.GenerateSquareGrid=function(t,e,i){return JSM.GenerateGrid(t,t,e,e,i)},JSM.GenerateRuledFromSectorsWithHeight=function(t,e,i,r,o,n){var a=new JSM.Body,s=[],l=[];for(JSM.GetSectorSegmentation(t,i,s),JSM.GetSectorSegmentation(e,i,l),e=[],t=[],JSM.GetRuledMesh(s,l,r,e,t),s=0;s<e.length;s++)a.AddVertex(new JSM.BodyVertex(e[s]));for(var c,s=0;s<t.length;s++)c=t[s],c=new JSM.BodyPolygon(c),o&&c.SetCurveGroup(0),a.AddPolygon(c);for(l=a.VertexCount(),s=0;s<e.length;s++)c=e[s],c=new JSM.Coord(c.x,c.y,c.z),c.z-=n,a.AddVertex(new JSM.BodyVertex(c));for(s=0;s<t.length;s++){for(c=t[s],e=[],n=c.length-1;n>=0;n--)e.push(c[n]+l);c=new JSM.BodyPolygon(e),o&&c.SetCurveGroup(0),a.AddPolygon(c)}for(s=0;r>s;s++)o=s+l,n=o+1,t=o-l,e=t+1,c=new JSM.BodyPolygon([o,n,e,t]),a.AddPolygon(c);for(s=0;r>s;s++)o=s+i*(r+1)+l,n=o+1,t=o-l,e=t+1,c=new JSM.BodyPolygon([o,t,e,n]),a.AddPolygon(c);for(s=0;i>s;s++)o=s*(r+1)+l,n=o+r+1,t=o-l,e=t+r+1,c=new JSM.BodyPolygon([o,t,e,n]),a.AddPolygon(c);for(s=0;i>s;s++)o=(s+1)*r+s+l,n=o+r+1,t=o-l,e=t+r+1,c=new JSM.BodyPolygon([o,n,e,t]),a.AddPolygon(c);return a.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),a},JSM.GenerateRuledFromCoords=function(t,e,i,r){var o=new JSM.Body,n=[],a=[];for(JSM.GetRuledMesh(t,e,i,n,a),t=0;t<n.length;t++)o.AddVertex(new JSM.BodyVertex(n[t]));for(t=0;t<a.length;t++)n=a[t],n=new JSM.BodyPolygon(n),r&&n.SetCurveGroup(0),o.AddPolygon(n);return o.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),o},JSM.GenerateRevolved=function(t,e,i,r,o,n){var a=new JSM.Body,s=JSM.IsEqual(i,2*Math.PI),l=t.length,c=i/r;i=JSM.CoordSub(e.end,e.beg);var h,d,u;for(h=0;l>h;h++)for(d=0;r>=d;d++)s&&d===r||(u=JSM.CoordRotate(t[h],i,d*c,e.beg),a.AddVertex(new JSM.BodyVertex(u)));
var p,f;for(h=0;l-1>h;h++)for(d=0;r>d;d++)c=h*(r+1)+d,u=c+r+1,p=c+1,f=u+1,s&&(c=h*r+d,u=c+r,p=c+1,f=u+1,d===r-1&&(p=h*r,f=(h+1)*r)),c=new JSM.BodyPolygon([c,p,f,u]),n&&c.SetCurveGroup(h),a.AddPolygon(c);if(s&&o){for(o=new JSM.BodyPolygon([]),n=new JSM.BodyPolygon([]),h=0;r>h;h++)o.AddVertexIndex(r*(l-1)+h),n.AddVertexIndex(r-h-1);a.AddPolygon(o),a.AddPolygon(n)}for(o=new JSM.Line(e.beg,JSM.VectorNormalize(i)),h=r=0;l>h;h++)n=JSM.ProjectCoordToLine(t[h],o),r+=JSM.CoordDistance(n,t[h]);return r/=l,e=new JSM.Coord(e.beg.x,e.beg.y,e.beg.z),l=JSM.VectorNormalize(i),i=new JSM.Line(e,i),i=JSM.ProjectCoordToLine(t[0],i),t=JSM.VectorNormalize(JSM.CoordSub(t[0],i)),a.SetCylindricalTextureProjection(e,r,t,l),a},JSM.GenerateTube=function(t,e){var i,r,o=new JSM.Body,n=t.length,a=t[0].length;for(r=0;a>r;r++)for(i=0;n>i;i++)o.AddVertex(new JSM.BodyVertex(t[i][r]));var s,l;for(r=0;n-1>r;r++)for(i=0;a>i;i++)s=r+n*i,l=s+n,i===a-1&&(l=r),o.AddPolygon(new JSM.BodyPolygon([s,l,l+1,s+1]));if(e){for(r=new JSM.BodyPolygon([]),s=new JSM.BodyPolygon([]),i=0;a>i;i++)r.AddVertexIndex(n*i+n-1);for(i=a-1;i>=0;i--)s.AddVertexIndex(n*i);o.AddPolygon(r),o.AddPolygon(s)}return o.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),o},JSM.GenerateFunctionSurface=function(t,e,i,r,o){var n=new JSM.Sector(new JSM.Coord(e.x,e.y,0),new JSM.Coord(i.x,e.y,0));for(e=new JSM.Sector(new JSM.Coord(e.x,i.y,0),new JSM.Coord(i.x,i.y,0)),r=JSM.GenerateRuledFromSectors(n,e,r,r,o),o=0;o<r.VertexCount();o++)n=r.GetVertexPosition(o),n.z=t(n.x,n.y);return r.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),r},JSM.GenerateFunctionSurfaceSolid=function(t,e,i,r,o,n){var a=new JSM.Sector(new JSM.Coord(i.x,e.y,0),new JSM.Coord(e.x,e.y,0));for(e=new JSM.Sector(new JSM.Coord(i.x,i.y,0),new JSM.Coord(e.x,i.y,0)),o=JSM.GenerateRuledFromSectorsWithHeight(a,e,r,r,o,n),a=(r+1)*(r+1),r=0;a>r;r++)n=o.GetVertexPosition(r),n.z=t(n.x,n.y);return o.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),o},JSM.Camera=function(t,e,i,r,o,n){this.eye=JSM.ValueOrDefault(t,new JSM.Coord(1,1,1)),this.center=JSM.ValueOrDefault(e,new JSM.Coord(0,0,0)),this.up=JSM.ValueOrDefault(i,new JSM.Vector(0,0,1)),this.fieldOfView=JSM.ValueOrDefault(r,45),this.nearClippingPlane=JSM.ValueOrDefault(o,.1),this.farClippingPlane=JSM.ValueOrDefault(n,1e3)},JSM.Camera.prototype.Set=function(t,e,i,r,o,n){this.eye=t,this.center=e,this.up=i,this.fieldOfView=JSM.ValueOrDefault(r,45),this.nearClippingPlane=JSM.ValueOrDefault(o,.1),this.farClippingPlane=JSM.ValueOrDefault(n,1e3)},JSM.Camera.prototype.Clone=function(){var t=new JSM.Camera;return t.eye=this.eye,t.center=this.center,t.up=this.up,t.fieldOfView=this.fieldOfView,t.nearClippingPlane=this.nearClippingPlane,t.farClippingPlane=this.farClippingPlane,t},JSM.ExplodeBodyToTriangles=function(t,e,i){if(void 0===i||null===i)return!1;var r,o,n=JSM.CalculateBodyVertexNormals(t),a=!1;if(void 0!==e&&null!==e)for(r=0;r<e.Count();r++)if(null!==e.GetMaterial(r).texture){a=!0;break}var s,l;if(a)for(s=JSM.CalculateBodyTextureCoords(t),r=0;r<s.length;r++)if(o=t.GetPolygon(r),o.HasMaterialIndex())for(l=e.GetMaterial(o.GetMaterialIndex()),o=0;o<s[r].length;o++)s[r][o].x/=l.textureWidth,s[r][o].y/=-l.textureHeight;var c=!0;return void 0!==i.hasConvexPolygons&&null!==i.hasConvexPolygons&&(c=i.hasConvexPolygons),function(t,e,i,r,o){function n(n,s){var l=e.GetMaterial(s);void 0!==o.onGeometryStart&&null!==o.onGeometryStart&&o.onGeometryStart(l);var h;for(h=0;h<n.length;h++){var d=n[h],u=t.GetPolygon(d),p=u.VertexIndexCount();if(!(3>p)){var f=void 0,_=void 0,m=void 0,g=void 0,y=void 0,b=void 0,v=void 0,M=void 0,S=void 0,x=void 0;if(3==p||c)for(x=0;p-2>x;x++)f=t.GetVertex(u.GetVertexIndex(0)).position,_=t.GetVertex(u.GetVertexIndex((x+1)%p)).position,m=t.GetVertex(u.GetVertexIndex((x+2)%p)).position,g=i[d][0],y=i[d][(x+1)%p],b=i[d][(x+2)%p],S=M=v=null,a&&(v=r[d][0],M=r[d][(x+1)%p],S=r[d][(x+2)%p]),void 0!==o.onTriangle&&null!==o.onTriangle&&o.onTriangle(f,_,m,g,y,b,v,M,S);else{for(f=new JSM.Polygon,_=void 0,x=0;p>x;x++)_=t.GetVertex(u.vertices[x]),f.AddVertex(_.position.x,_.position.y,_.position.z);for(var x=JSM.CalculateBodyPolygonNormal(t,d),p=JSM.PolygonTriangulate(f,x),T=void 0,x=0;x<p.length;x++)T=p[x],f=t.GetVertex(u.GetVertexIndex(T[0])).position,_=t.GetVertex(u.GetVertexIndex(T[1])).position,m=t.GetVertex(u.GetVertexIndex(T[2])).position,g=i[d][T[0]],y=i[d][T[1]],b=i[d][T[2]],S=M=v=null,a&&(v=r[d][T[0]],M=r[d][T[1]],S=r[d][T[2]]),void 0!==o.onTriangle&&null!==o.onTriangle&&o.onTriangle(f,_,m,g,y,b,v,M,S)}}}void 0!==o.onGeometryEnd&&null!==o.onGeometryEnd&&o.onGeometryEnd(l)}var s,l=[],h=[];for((void 0===e||null===e)&&(e=new JSM.Materials),s=0;s<e.Count();s++)l[s]=[];var d;for(s=0;s<t.PolygonCount();s++)d=t.GetPolygon(s),d.HasMaterialIndex()?(d=d.GetMaterialIndex(),l[d].push(s)):h.push(s);for(s=0;s<l.length;s++)d=l[s],0!==d.length&&n(d,s);0!==h.length&&n(h,-1)}(t,e,n,s,i),!0},JSM.ExportBodyContentToStl=function(t,e,i){function r(t){a+=t+"\n"}function o(t,e,i,o){r("	facet normal "+t.x+" "+t.y+" "+t.z),r("		outer loop"),r("			vertex "+e.x+" "+e.y+" "+e.z),r("			vertex "+i.x+" "+i.y+" "+i.z),r("			vertex "+o.x+" "+o.y+" "+o.z),r("		endloop"),r("	endfacet")}function n(e){var r=t.GetPolygon(e),n=r.VertexIndexCount();if(!(3>n)){var a,s,l,c=null;if(3===n)c=JSM.CalculateBodyPolygonNormal(t,e),a=t.GetVertex(r.GetVertexIndex(0)).position,s=t.GetVertex(r.GetVertexIndex(1)).position,l=t.GetVertex(r.GetVertexIndex(2)).position,o(c,a,s,l);else if(a=!0,void 0!==i&&i&&(a=!1),c=JSM.CalculateBodyPolygonNormal(t,e),a){for(a=new JSM.Polygon,e=0;n>e;e++)s=t.GetVertex(r.vertices[e]),a.AddVertex(s.position.x,s.position.y,s.position.z);for(n=JSM.PolygonTriangulate(a,c),e=0;e<n.length;e++)l=n[e],a=t.GetVertex(r.GetVertexIndex(l[0])).position,s=t.GetVertex(r.GetVertexIndex(l[1])).position,l=t.GetVertex(r.GetVertexIndex(l[2])).position,o(c,a,s,l)}else for(e=0;n-2>e;e++)a=t.GetVertex(r.GetVertexIndex(0)).position,s=t.GetVertex(r.GetVertexIndex((e+1)%n)).position,l=t.GetVertex(r.GetVertexIndex((e+2)%n)).position,o(c,a,s,l)}}var a="";for(e=0;e<t.PolygonCount();e++)n(e);return a},JSM.ExportBodyToStl=function(t,e,i){return t=""+("solid "+e+"\n")+JSM.ExportBodyContentToStl(t,e,i),t+="endsolid "+e+"\n"},JSM.ExportModelToStl=function(t,e,i){var r;r=""+("solid "+e+"\n");var o,n;for(o=0;o<t.BodyCount();o++)n=t.GetBody(o),r+=JSM.ExportBodyContentToStl(n,e+(o+1).toString(),i);return r+("endsolid "+e+"\n")},JSM.ExportBodyContentToObj=function(t,e,i){function r(e){e=t.GetVertex(e).position,s+="v "+e.x+" "+e.y+" "+e.z+"\n"}function o(e){e=JSM.CalculateBodyPolygonNormal(t,e),s+="vn "+e.x+" "+e.y+" "+e.z+"\n"}function n(r){var o=t.GetPolygon(r);s+="f ";var n;for(n=0;n<o.VertexIndexCount();n++){var a=e+o.GetVertexIndex(n)+1+"//"+(i+r+1)+" ";s+=a}s+="\n"}var a,s="";for(a=0;a<t.VertexCount();a++)r(a);for(a=0;a<t.PolygonCount();a++)o(a);for(a=0;a<t.PolygonCount();a++)n(a);return s},JSM.ExportBodyToObj=function(t){return JSM.ExportBodyContentToObj(t,0,0)},JSM.ExportModelToObj=function(t){var e,i,r="",o=0,n=0;for(e=0;e<t.BodyCount();e++)i=t.GetBody(e),r+=JSM.ExportBodyContentToObj(i,o,n),o+=i.VertexCount(),n+=i.PolygonCount();return r},JSM.ExportMaterialsToGdl=function(t){function e(t,e){var r=JSM.HexColorToRGBComponents(t.diffuse);i+='define material "material'+e+'" 2, '+(r[0]/255+","+r[1]/255+","+r[2]/255)+" ! "+e+"\n"}var i="",r=!1;if(void 0!==t&&null!==t&&(r=!0),r)for(e(t.GetDefaultMaterial(),1),r=0;r<t.Count();r++)e(t.GetMaterial(r),r+2);return i},JSM.ExportBodyGeometryToGdl=function(t,e){function i(t){if(200<t.length){var e,i,r=0;for(e=0;e<t.length;e++)i=t[e],s+=i,r++,r>200&&","==i&&(s+="\n",r=0)}else s+=t}function r(t){i(t+"\n")}function o(e){var i=t.GetVertex(e).position;r("vert "+i.x+", "+i.y+", "+i.z+" ! "+(e+1))}function n(e){var i=c.edges[e],o=0;-1!=i.pgon1&&-1!=i.pgon2&&t.GetPolygon(i.pgon1).HasCurveGroup()&&t.GetPolygon(i.pgon2).HasCurveGroup()&&t.GetPolygon(i.pgon1).GetCurveGroup()==t.GetPolygon(i.pgon2).GetCurveGroup()&&(o=2),r("edge "+(i.vert1+1)+", "+(i.vert2+1)+", -1, -1, "+o+" ! "+(e+1))}function a(o,n){var a=-1;e&&(a=t.GetPolygon(o).GetMaterialIndex()+2,a!=n&&r('set material "material'+a+'"'));var s=c.pgons[o],l=0;t.GetPolygon(o).HasCurveGroup()&&(l=2),i("pgon "+s.pedges.length+", 0, "+l+", ");var h,d,l="";for(h=0;h<s.pedges.length;h++)d=s.pedges[h],l=d.reverse?l+-(d.index+1):l+(d.index+1),h<s.pedges.length-1&&(l+=", ");return i(l),i(" ! "+(o+1)),r(""),a}var s="";r("base");var l,c=JSM.CalculateAdjacencyInfo(t);for(l=0;l<c.verts.length;l++)o(l);for(l=0;l<c.edges.length;l++)n(l);var h=-1;for(l=0;l<c.pgons.length;l++)h=a(l,h);return r("body -1"),s},JSM.ExportBodyToGdl=function(t,e){var i="",r=!1;return void 0!==e&&null!==e&&(i+=JSM.ExportMaterialsToGdl(e),r=!0),i+=JSM.ExportBodyGeometryToGdl(t,r)},JSM.ExportModelToGdl=function(t,e){var i="",r=!1;void 0!==e&&null!==e&&(i+=JSM.ExportMaterialsToGdl(e),r=!0);var o,n;for(o=0;o<t.BodyCount();o++)n=t.GetBody(o),i+=JSM.ExportBodyGeometryToGdl(n,r);return i},JSM.TriangleBody=function(t){this.name=t,this.vertices=[],this.normals=[],this.triangles=[]},JSM.TriangleBody.prototype.SetName=function(t){this.name=t},JSM.TriangleBody.prototype.GetName=function(){return this.name},JSM.TriangleBody.prototype.AddVertex=function(t,e,i){return this.vertices.push(new JSM.Coord(t,e,i)),this.vertices.length-1},JSM.TriangleBody.prototype.GetVertex=function(t){return this.vertices[t]},JSM.TriangleBody.prototype.SetVertex=function(t,e,i,r){this.vertices[t]=new JSM.Coord(e,i,r)},JSM.TriangleBody.prototype.VertexCount=function(){return this.vertices.length},JSM.TriangleBody.prototype.AddNormal=function(t,e,i){return this.normals.push(new JSM.Coord(t,e,i)),this.normals.length-1},JSM.TriangleBody.prototype.GetNormal=function(t){return this.normals[t]},JSM.TriangleBody.prototype.NormalCount=function(){return this.normals.length},JSM.TriangleBody.prototype.AddTriangle=function(t,e,i,r,o,n,a,s,l,c,h){return this.triangles.push({v0:t,v1:e,v2:i,n0:r,n1:o,n2:n,u0:a,u1:s,u2:l,mat:c,curve:h}),this.triangles.length-1},JSM.TriangleBody.prototype.GetTriangle=function(t){return this.triangles[t]},JSM.TriangleBody.prototype.TriangleCount=function(){return this.triangles.length},JSM.TriangleBody.prototype.Finalize=function(t){function e(e,r,o,n){function a(t,e,i,r,o){var n=new JSM.Vector(0,0,0),a=0;i=t.GetTriangle(i),e=o[e];var s,l;for(o=0;o<e.length;o++)s=e[o],l=t.GetTriangle(s),i.curve==l.curve&&(n=JSM.CoordAdd(n,r[s]),a+=1);return n=JSM.VectorMultiply(n,1/a),n=JSM.VectorNormalize(n),t.AddNormal(n.x,n.y,n.z)}var s=e.triangles[i];void 0===s.mat&&(s.mat=t.AddDefaultMaterial()),(void 0===s.n0||void 0===s.n1||void 0===s.n2)&&(void 0===s.curve||0===s.curve?(r=o[i],e=e.AddNormal(r.x,r.y,r.z),s.n0=e,s.n1=e,s.n2=e):(s.n0=a(e,s.v0,r,o,n),s.n1=a(e,s.v1,r,o,n),s.n2=a(e,s.v2,r,o,n)))}var i,r=[],o={};for(i=0;i<this.vertices.length;i++)o[i]=[];var n,a;for(i=0;i<this.triangles.length;i++)n=this.triangles[i],a=JSM.CalculateTriangleNormal(this.vertices[n.v0],this.vertices[n.v1],this.vertices[n.v2]),r.push(a),o[n.v0].push(i),o[n.v1].push(i),o[n.v2].push(i);for(i=0;i<this.triangles.length;i++)e(this,i,r,o)},JSM.TriangleBody.prototype.Clone=function(){var t,e,i=new JSM.TriangleBody(this.name);for(t=0;t<this.vertices.length;t++)i.vertices.push(this.vertices[t].Clone());for(t=0;t<this.normals.length;t++)i.normals.push(this.normals[t].Clone());for(t=0;t<this.triangles.length;t++)e=this.triangles[t],i.triangles.push({v0:e.v0,v1:e.v1,v2:e.v2,n0:e.n0,n1:e.n1,n2:e.n2,u0:e.u0,u1:e.u1,u2:e.u2,mat:e.mat,curve:e.curve});return i},JSM.TriangleModel=function(){this.materials=[],this.bodies=[],this.defaultMaterial=-1},JSM.TriangleModel.prototype.AddMaterial=function(t,e,i,r,o){return this.materials.push({name:t,ambient:e,diffuse:i,specular:r,opacity:o}),this.materials.length-1},JSM.TriangleModel.prototype.GetMaterial=function(t){return this.materials[t]},JSM.TriangleModel.prototype.AddDefaultMaterial=function(){return-1==this.defaultMaterial&&(this.materials.push({name:"Default",ambient:{r:.5,g:.5,b:.5},diffuse:{r:.5,g:.5,b:.5},specular:{r:.1,g:.1,b:.1},opacity:1}),this.defaultMaterial=this.materials.length-1),this.defaultMaterial},JSM.TriangleModel.prototype.GetDefaultMaterialIndex=function(){return this.AddDefaultMaterial()},JSM.TriangleModel.prototype.MaterialCount=function(){return this.materials.length},JSM.TriangleModel.prototype.AddBody=function(t){return this.bodies.push(t),this.bodies.length-1},JSM.TriangleModel.prototype.AddBodyToIndex=function(t,e){return this.bodies.splice(e,0,t),e},JSM.TriangleModel.prototype.GetBody=function(t){return this.bodies[t]},JSM.TriangleModel.prototype.BodyCount=function(){return this.bodies.length},JSM.TriangleModel.prototype.GetBody=function(t){return this.bodies[t]},JSM.TriangleModel.prototype.Finalize=function(){var t,e;for(t=0;t<this.bodies.length;t++)e=this.bodies[t],e.Finalize(this)},JSM.BinaryReader=function(t,e){this.arrayBuffer=t,this.dataView=new DataView(t),this.isLittleEndian=e,this.position=0},JSM.BinaryReader.prototype.GetPosition=function(){return this.position},JSM.BinaryReader.prototype.GetByteLength=function(){return this.arrayBuffer.byteLength},JSM.BinaryReader.prototype.Skip=function(t){this.position+=t},JSM.BinaryReader.prototype.End=function(){return this.position>=this.arrayBuffer.byteLength},JSM.BinaryReader.prototype.ReadBoolean=function(){var t=this.dataView.getInt8(this.position,this.isLittleEndian);return this.position+=1,t?!0:!1},JSM.BinaryReader.prototype.ReadCharacter=function(){var t=this.dataView.getInt8(this.position,this.isLittleEndian);return this.position+=1,t},JSM.BinaryReader.prototype.ReadUnsignedCharacter=function(){var t=this.dataView.getUint8(this.position,this.isLittleEndian);return this.position+=1,t},JSM.BinaryReader.prototype.ReadInteger16=function(){var t=this.dataView.getInt16(this.position,this.isLittleEndian);return this.position+=2,t},JSM.BinaryReader.prototype.ReadUnsignedInteger16=function(){var t=this.dataView.getUint16(this.position,this.isLittleEndian);return this.position+=2,t},JSM.BinaryReader.prototype.ReadInteger32=function(){var t=this.dataView.getInt32(this.position,this.isLittleEndian);return this.position+=4,t},JSM.BinaryReader.prototype.ReadUnsignedInteger32=function(){var t=this.dataView.getUint32(this.position,this.isLittleEndian);return this.position+=4,t},JSM.BinaryReader.prototype.ReadFloat32=function(){var t=this.dataView.getFloat32(this.position,this.isLittleEndian);return this.position+=4,t},JSM.BinaryReader.prototype.ReadDouble64=function(){var t=this.dataView.getFloat64(this.position,this.isLittleEndian);return this.position+=8,t},JSM.GetArrayBufferFromURL=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){var t=i.response;t&&e(t)},i.send(null)},JSM.GetArrayBufferFromFile=function(t,e){var i=new FileReader;i.onloadend=function(t){t.target.readyState==FileReader.DONE&&e(t.target.result)},i.readAsArrayBuffer(t)},JSM.GetStringBufferFromURL=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="text",i.onload=function(){var t=i.response;t&&e(t)},i.send(null)},JSM.LoadMultipleBuffers=function(t,e,i,r,o){i>=t.length?o(e):r(t[i],function(n){e.push(n),JSM.LoadMultipleBuffers(t,e,i+1,r,o)})},JSM.GetStringBufferFromFile=function(t,e){var i=new FileReader;i.onloadend=function(t){t.target.readyState==FileReader.DONE&&e(t.target.result)},i.readAsText(t)},JSM.GetStringBuffersFromURLList=function(t,e){JSM.LoadMultipleBuffers(t,[],0,JSM.GetStringBufferFromURL,function(t){e(t)})},JSM.GetStringBuffersFromFileList=function(t,e){JSM.LoadMultipleBuffers(t,[],0,JSM.GetStringBufferFromFile,function(t){e(t)})},JSM.ConvertTriangleModelToJsonData=function(t){function e(t,e,i){var r,o=[],n=t.MaterialCount();for(t=0;t<e.VertexCount();t++)r=e.GetVertex(t),i.vertices.push(r.x,r.y,r.z);for(t=0;t<e.NormalCount();t++)r=e.GetNormal(t),i.normals.push(r.x,r.y,r.z);for(i.uvs.push(0,0),t=0;n>t;t++)o.push([]);for(t=0;t<e.TriangleCount();t++)r=e.GetTriangle(t),void 0===r.mat||0>r.mat||r.mat>=n||o[r.mat].push(t);var a,s;for(t=0;t<o.length;t++)if(a=o[t],0!==a.length){for(s={material:t,parameters:[]},n=0;n<a.length;n++)r=e.GetTriangle(a[n]),s.parameters.push(r.v0,r.v1,r.v2,r.n0,r.n1,r.n2,0,0,0);i.triangles.push(s)}}var i={version:1,materials:[],meshes:[]};!function(t,e){var i,r;for(i=0;i<t.MaterialCount();i++)r=t.GetMaterial(i),e.push({name:r.name,ambient:[r.ambient.r,r.ambient.g,r.ambient.b],diffuse:[r.diffuse.r,r.diffuse.g,r.diffuse.b],specular:[r.specular.r,r.specular.g,r.specular.b],opacity:r.opacity})}(t,i.materials);var r,o,n;for(r=0;r<t.BodyCount();r++)o=t.GetBody(r),0!==o.TriangleCount()&&(n={name:o.GetName(),vertices:[],normals:[],uvs:[],triangles:[]},e(t,o,n),i.meshes.push(n));return i},JSM.MergeJsonDataMeshes=function(t){function e(t,e,i){function r(t,e,i){var r=e.material,s=i[r];for(void 0===s&&(t.triangles.push({material:r,parameters:[]}),s=t.triangles.length-1,i[r]=s),t=t.triangles[s].parameters,i=0;i<e.parameters.length;i+=9)t.push(e.parameters[i]+o,e.parameters[i+1]+o,e.parameters[i+2]+o,e.parameters[i+3]+n,e.parameters[i+4]+n,e.parameters[i+5]+n,e.parameters[i+6]+a,e.parameters[i+7]+a,e.parameters[i+8]+a)}var o=t.vertices.length/3,n=t.normals.length/3,a=t.uvs.length/2;!function(t,e){var i;for(i=0;i<e.vertices.length;i++)t.vertices.push(e.vertices[i]);for(i=0;i<e.normals.length;i++)t.normals.push(e.normals[i]);for(i=0;i<e.uvs.length;i++)t.uvs.push(e.uvs[i])}(t,e);var s,l;for(s=0;s<e.triangles.length;s++)l=e.triangles[s],r(t,l,i)}var i,r,o={version:t.version,materials:t.materials,meshes:[]},n={name:"Merged",vertices:[],normals:[],uvs:[],triangles:[]},a={};for(i=0;i<t.meshes.length;i++)r=t.meshes[i],e(n,r,a);return o.meshes.push(n),o},JSM.Read3dsFile=function(t,e){function i(t,i){void 0!==e.onLog&&null!==e.onLog&&e.onLog(t,i)}function r(t){for(var e="",i=0,r=0;64>r&&(i=t.ReadCharacter(),0!==i);)e+=String.fromCharCode(i),r+=1;return e}function o(t){var e,i=[];for(e=0;3>e;e++)i[e]=t.ReadFloat32();return i}function n(t,e,i){for(;t.GetPosition()<=e-6;){var r=t,o=i,n=r.ReadUnsignedInteger16(),r=r.ReadUnsignedInteger32();o(n,r)}}var a,s,l,c,h,d,u,p,f,_,m,g,y,b,v,M,S,x,T,E,C,A,w,R,D,P,B,V,L,k,H;(void 0===e||null===e)&&(e={}),a=15677,s=45055,l=40960,c=40976,h=40992,d=41008,u=41024,p=41040,f=16,_=17,m=18,g=19,y=48,b=49,v=16384,M=16640,S=17920,x=18176,T=16656,E=16672,C=16736,A=16688,w=16720,R=45056,D=45058,P=45072,B=45075,V=45088,L=45089,k=45090,H=45104,function(t){function I(t,e,i){var r={};e=t.GetPosition()+i-6;var o=!1;return n(t,e,function(e,i){e==_?o||(r.r=t.ReadUnsignedCharacter()/255,r.g=t.ReadUnsignedCharacter()/255,r.b=t.ReadUnsignedCharacter()/255):e==m?(r.r=t.ReadUnsignedCharacter()/255,r.g=t.ReadUnsignedCharacter()/255,r.b=t.ReadUnsignedCharacter()/255,o=!0):e==f?o||(r.r=t.ReadFloat32(),r.g=t.ReadFloat32(),r.b=t.ReadFloat32()):e==g?(r.r=t.ReadFloat32(),r.g=t.ReadFloat32(),r.b=t.ReadFloat32(),o=!0):t.Skip(i-6)}),r}function O(t,e,i){var r=0;return e=t.GetPosition()+i-6,n(t,e,function(e,i){e==y?r=t.ReadUnsignedInteger16()/100:e==b?r=t.ReadFloat32():t.Skip(i-6)}),r}function J(t,o,a){i("Read material chunk ("+o.toString(16)+", "+a+")",2);var s={},f=t.GetPosition()+a-6;n(t,f,function(e,n){e==l?(i("Read material name chunk ("+o.toString(16)+", "+a+")",3),s.name=r(t)):e==c?(i("Read material ambient chunk ("+o.toString(16)+", "+a+")",3),s.ambient=I(t,e,n)):e==h?(i("Read material diffuse chunk ("+o.toString(16)+", "+a+")",3),s.diffuse=I(t,e,n)):e==d?(i("Read material specular chunk ("+o.toString(16)+", "+a+")",3),s.specular=I(t,e,n)):e==u?(i("Read material shininess chunk ("+o.toString(16)+", "+a+")",3),s.shininess=O(t,e,n)):e==p?(i("Read material transparency chunk ("+o.toString(16)+", "+a+")",3),s.transparency=O(t,e,n)):(i("Skip chunk ("+e.toString(16)+", "+n+")",3),t.Skip(n-6))}),void 0!==e.onMaterial&&null!==e.onMaterial&&e.onMaterial(s)}function N(t,o,a){i("Read faces chunk ("+o.toString(16)+", "+a+")",4),o=t.GetPosition()+a-6;var s,l,c,h,d=t.ReadUnsignedInteger16();for(a=0;d>a;a++)s=t.ReadUnsignedInteger16(),l=t.ReadUnsignedInteger16(),c=t.ReadUnsignedInteger16(),h=t.ReadUnsignedInteger16(),void 0!==e.onFace&&null!==e.onFace&&e.onFace(s,l,c,h);n(t,o,function(o,n){if(o==A){i("Read face materials chunk ("+o.toString(16)+", "+n+")",5);var a,s,l=r(t),c=t.ReadUnsignedInteger16();for(a=0;c>a;a++)s=t.ReadUnsignedInteger16(),void 0!==e.onFaceMaterial&&null!==e.onFaceMaterial&&e.onFaceMaterial(s,l)}else if(o==w)for(i("Read face smoothing groups chunk ("+o.toString(16)+", "+n+")",5),l=0;d>l;l++)c=t.ReadUnsignedInteger32(),void 0!==e.onFaceSmoothingGroup&&null!==e.onFaceSmoothingGroup&&e.onFaceSmoothingGroup(l,c);else i("Skip chunk ("+o.toString(16)+", "+n+")",5),t.Skip(n-6)})}function F(t,r,o,a){i("Read mesh chunk ("+r+", "+o.toString(16)+", "+a+")",3),void 0!==e.onMesh&&null!==e.onMesh&&e.onMesh(r),r=t.GetPosition()+a-6,n(t,r,function(r,o){if(r==T){i("Read vertices chunk ("+r.toString(16)+", "+o+")",4);var n,a,s,l,c=t.ReadUnsignedInteger16();for(n=0;c>n;n++)a=t.ReadFloat32(),s=t.ReadFloat32(),l=t.ReadFloat32(),void 0!==e.onVertex&&null!==e.onVertex&&e.onVertex(a,s,l)}else if(r==E)N(t,r,o);else if(r==C){for(i("Read transformation chunk ("+r.toString(16)+", "+o+")",4),c=[],n=0;4>n;n++){for(a=0;3>a;a++)c.push(t.ReadFloat32());c.push(3>n?0:1)}void 0!==e.onTransformation&&null!==e.onTransformation&&e.onTransformation(c)}else i("Skip chunk ("+r.toString(16)+", "+o+")",4),t.Skip(o-6)})}function G(t,e,o){i("Read object chunk ("+e.toString(16)+", "+o+")",2),e=t.GetPosition()+o-6;var a=r(t);n(t,e,function(e,r){e==M?F(t,a,e,r):(e==S?i("Skip light chunk ("+a+", "+e.toString(16)+", "+r+")",3):e==x?i("Skip camera chunk ("+a+", "+e.toString(16)+", "+r+")",3):i("Skip chunk ("+e.toString(16)+", "+r+")",3),t.Skip(r-6))})}function z(t,e,r){i("Read editor chunk ("+e.toString(16)+", "+r+")",1),e=t.GetPosition()+r-6,n(t,e,function(e,r){e==s?J(t,e,r):e==v?G(t,e,r):(i("Skip chunk ("+e.toString(16)+", "+r+")",2),t.Skip(r-6))})}function j(t,a,s){function l(t,e){var i=[];t.Skip(10);var r,n,a,s=t.ReadInteger32();for(r=0;s>r;r++)t.ReadInteger32(),n=t.ReadUnsignedInteger16(),0!==n&&t.ReadFloat32(),e==L?(a=t.ReadFloat32(),n=o(t),n[3]=a):n=o(t),i.push(n);return i}i("Read object node chunk ("+a.toString(16)+", "+s+")",2);var c={name:"",nodeId:-1,flags:-1,userId:-1,pivot:[0,0,0],positions:[],rotations:[],scales:[]};a=t.GetPosition()+s-6,n(t,a,function(e,n){e==P?(c.name=r(t),c.flags=t.ReadUnsignedInteger32(),c.userId=t.ReadUnsignedInteger16()):e==B?c.pivot=o(t):e==V?c.positions=l(t,V):e==L?c.rotations=l(t,L):e==k?c.scales=l(t,k):e==H?c.nodeId=t.ReadUnsignedInteger16():(i("Skip chunk ("+e.toString(16)+", "+n+")",3),t.Skip(n-6))}),void 0!==e.onObjectNode&&null!==e.onObjectNode&&e.onObjectNode(c)}function U(t,e,r){i("Read keyframe chunk ("+e.toString(16)+", "+r+")",1),e=t.GetPosition()+r-6,n(t,e,function(e,r){e==D?j(t,e,r):(i("Skip chunk ("+e.toString(16)+", "+r+")",2),t.Skip(r-6))})}function W(t,e,r){i("Read main chunk ("+e.toString(16)+", "+r+")",0),e=t.GetPosition()+r-6,n(t,e,function(e,r){e==a?z(t,e,r):e==R?U(t,e,r):(i("Skip chunk ("+e.toString(16)+", "+r+")",1),t.Skip(r-6))})}var X=t.GetByteLength();n(t,X,function(e,r){19789==e?W(t,e,r):(i("Skip chunk ("+e.toString(16)+", "+r+")",0),t.Skip(r-6))})}(new JSM.BinaryReader(t,!0))},JSM.Convert3dsToJsonData=function(t){var e=new JSM.TriangleModel,i=null,r={},o={},n={nodes:[],nodeIdToIndex:{}};return JSM.Read3dsFile(t,{onMaterial:function(t){function i(t){return void 0===t||null===t?{r:0,g:0,b:0}:t}var o=e.AddMaterial(t.name,i(t.ambient),i(t.diffuse),i(t.specular),void 0===t.transparency||null===t.transparency?1:1-t.transparency);void 0===r[t.name]&&(r[t.name]=o)},onMesh:function(t){var r=e.AddBody(new JSM.TriangleBody(t));i=e.GetBody(r),i.meshData={faceToMaterial:{},faceToSmoothingGroup:{},objectNodes:[],transformation:null},o[t]=r},onTransformation:function(t){null!==i&&(i.meshData.transformation=t)},onObjectNode:function(t){var i=n.nodes.length;n.nodes.push(t),n.nodeIdToIndex[t.nodeId]=i,t=o[t.name],void 0!==t&&e.GetBody(t).meshData.objectNodes.push(i)},onVertex:function(t,e,r){null!==i&&i.AddVertex(t,e,r)},onFace:function(t,e,r){null!==i&&i.AddTriangle(t,e,r)},onFaceMaterial:function(t,e){null!==i&&(i.meshData.faceToMaterial[t]=e)},onFaceSmoothingGroup:function(t,e){null!==i&&(i.meshData.faceToSmoothingGroup[t]=e)}}),function(t,e,i){function r(t,e,i){function r(t,e){var i,r=e[0],o=e[1],n=e[2];for(i=0;4>i;i++)t[0+i]*=r,t[4+i]*=o,t[8+i]*=n;return t}function o(t,e){var i,r=e[0],o=e[1],n=e[2];for(i=0;3>i;i++)t[12+i]+=t[0+i]*r+t[4+i]*o+t[8+i]*n;return t}function n(t,e){var i,r;for(i=0;i<t.VertexCount();i++)r=t.GetVertex(i),r=JSM.ApplyTransformation(e,r),t.SetVertex(i,r.x,r.y,r.z)}function a(t,e,i){var o=JSM.MatrixDeterminant(e);JSM.IsNegative(o)&&(e=JSM.MatrixClone(e),r(e,[-1,1,1]),i=JSM.MatrixMultiply(i,e),n(t,i))}function s(t,e){if(void 0!==t.matrix)return t.matrix;var i,n=JSM.MatrixIdentity();if(i=0===t.positions.length?[0,0,0]:t.positions[0],n=o(n,i),0===t.rotations.length)i=[0,0,0,0];else{i=t.rotations[0];var a=[0,0,0,1],l=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);JSM.IsPositive(l)&&(a=-.5*i[3],l=Math.sin(a)/l,a=[l*i[0],l*i[1],l*i[2],Math.cos(a)]),i=a}return i=JSM.MatrixRotationQuaternion(i),n=JSM.MatrixMultiply(i,n),i=0===t.scales.length?[0,0,0,0]:t.scales[0],n=r(n,i),65535!=t.userId&&(i=e.nodeIdToIndex[t.userId],void 0!==i&&(i=s(e.nodes[i],e),n=JSM.MatrixMultiply(n,i))),t.matrix=n}var l=t.meshData;if(l=void 0===l||null===l?null:l.transformation,null!==l){var c=null,c=null!==e?s(e,i):l;i=JSM.MatrixClone(c),c=JSM.MatrixClone(l),l=JSM.MatrixInvert(c),null!==l&&(a(t,c,l),e=void 0===e||null===e?[0,0,0]:e.pivot,o(i,[-e[0],-e[1],-e[2]]),e=JSM.MatrixMultiply(l,i),n(t,e))}}function o(t,e,i,o){r(t,e,o),e=t.meshData;var n,a;for(o=0;o<t.TriangleCount();o++)n=t.GetTriangle(o),a=e.faceToMaterial[o],void 0!==a&&(a=i[a],void 0!==a&&(n.mat=a)),a=e.faceToSmoothingGroup[o],void 0!==a&&(n.curve=a)}function n(t,e,i,r){return e=e.Clone(),e.SetName(e.GetName()+" ("+r+")"),i<t.BodyCount()?t.AddBodyToIndex(e,i):t.AddBody(e),e}var a,s,l,c,h,d,u;for(a=0;a<e.BodyCount();a++)if(l=e.GetBody(a),c=l.meshData,0===c.objectNodes.length)o(l,null,i,t);else{for(d=t.nodes[c.objectNodes[0]],s=1;s<c.objectNodes.length;s++)h=t.nodes[c.objectNodes[s]],u=n(e,l,a+1,s+1),u.meshData=l.meshData,o(u,h,i,t),a+=1;o(l,d,i,t)}}(n,e,r),e.Finalize(),JSM.ConvertTriangleModelToJsonData(e)},JSM.ReadObjFile=function(t,e){function i(t){t=t.split("\n");var r,o;for(r=0;r<t.length;r++){var n=o=t[r].trim();if(0!==n.length&&"#"!=n[0]&&(o=n.split(/\s+/),!(0===o.length||"#"==o[0][0]))){var a=void 0,a=void 0;if("g"==o[0]){if(!(2>o.length)){for(n="",a=1;a<o.length;a++)n+=o[a],a<o.length-1&&(n+=" ");void 0!==e.onMesh&&null!==e.onMesh&&e.onMesh(n)}}else if("v"==o[0])4>o.length||(a=parseFloat(o[1]),n=parseFloat(o[2]),o=parseFloat(o[3]),void 0===e.onVertex||null===e.onVertex)||e.onVertex(a,n,o);else if("vn"==o[0])4>o.length||(a=parseFloat(o[1]),n=parseFloat(o[2]),o=parseFloat(o[3]),void 0===e.onNormal||null===e.onNormal)||e.onNormal(a,n,o);else if("f"==o[0]){if(!(4>o.length)){for(var n=[],s=[],l=void 0,a=1;a<o.length;a++)l=o[a].split("/"),n.push(parseInt(l[0],10)-1),2<l.length&&0<l[2].length&&s.push(parseInt(l[2],10)-1);void 0!==e.onFace&&null!==e.onFace&&e.onFace(n,s)}}else"usemtl"==o[0]?2>o.length||void 0===e.onUseMaterial||null===e.onUseMaterial||e.onUseMaterial(o[1]):"newmtl"==o[0]?2>o.length||void 0===e.onNewMaterial||null===e.onNewMaterial||e.onNewMaterial(o[1]):"Ka"==o[0]||"Kd"==o[0]||"Ks"==o[0]?4>o.length||(a=parseFloat(o[1]),n=parseFloat(o[2]),s=parseFloat(o[3]),void 0===e.onMaterialComponent||null===e.onMaterialComponent)||e.onMaterialComponent(o[0],a,n,s):"Ka"==o[0]||"Kd"==o[0]||"Ks"==o[0]?4>o.length||(a=parseFloat(o[1]),n=parseFloat(o[2]),s=parseFloat(o[3]),void 0===e.onMaterialComponent||null===e.onMaterialComponent)||e.onMaterialComponent(o[0],a,n,s):"mtllib"==o[0]&&!(2>o.length)&&(o=n.indexOf("mtllib")+6,a=n.substr(o,n.length-o).trim(),o=a.trim(),o=void 0!==e.onFileRequested&&null!==e.onFileRequested?e.onFileRequested(o):null,null!==o&&i(o))}}}i(t)},JSM.ConvertObjToJsonData=function(t,e){var i=new JSM.TriangleModel,r=i.AddBody(new JSM.TriangleBody("Default")),o=i.GetBody(r),n={},a=null,s=null,l=[],c=[];return JSM.ReadObjFile(t,{onNewMaterial:function(t){var e=i.AddMaterial(t,{r:1,g:0,b:0},{r:1,g:0,b:0},{r:0,g:0,b:0},1);a=i.GetMaterial(e),n[t]=e},onMaterialComponent:function(t,e,i,r){null!==a&&("Ka"==t?(t=a.ambient,t.r=e,t.g=i,t.b=r):"Kd"==t?(t=a.diffuse,t.r=e,t.g=i,t.b=r):"Ks"==t&&(t=a.specular,t.r=e,t.g=i,t.b=r))},onUseMaterial:function(t){t=n[t],void 0!==t&&(s=t)},onMesh:function(t){t=i.AddBody(new JSM.TriangleBody(t)),o=i.GetBody(t)},onVertex:function(t,e,i){l.push(new JSM.Coord(t,e,i))},onNormal:function(t,e,i){c.push(new JSM.Coord(t,e,i))},onFace:function(t,e){var i,r,n=t.length==e.length,a=t.length;for(i=0;a-2>i;i++)r=o.AddTriangle(t[0],t[(i+1)%a],t[(i+2)%a]),r=o.GetTriangle(r),n&&(r.n0=e[0],r.n1=e[(i+1)%a],r.n2=e[(i+2)%a]),null!==s&&(r.mat=s)},onFileRequested:function(t){return void 0!==e.onFileRequested&&null!==e.onFileRequested?e.onFileRequested(t):null}}),function(t,e,i){function r(t,e,i,r,o){if(void 0!==i){var n=r[i];return void 0!==n?n:(e=e[i],0===o?n=t.AddVertex(e.x,e.y,e.z):1===o&&(n=t.AddNormal(e.x,e.y,e.z)),r[i]=n)}}var o,n,a,s,l,c;for(o=0;o<t.BodyCount();o++)for(a=t.GetBody(o),l={},c={},n=0;n<a.TriangleCount();n++)s=a.GetTriangle(n),s.v0=r(a,e,s.v0,l,0),s.v1=r(a,e,s.v1,l,0),s.v2=r(a,e,s.v2,l,0),s.n0=r(a,i,s.n0,c,1),s.n1=r(a,i,s.n1,c,1),s.n2=r(a,i,s.n2,c,1)}(i,l,c),i.Finalize(),JSM.ConvertTriangleModelToJsonData(i)},JSM.ReadBinaryStlFile=function(t,e){function i(t){var e,i=[];for(e=0;3>e;e++)i[e]=t.ReadFloat32();return i}var r=new JSM.BinaryReader(t,!0);r.Skip(80);var o,n,a,s,l,c=r.ReadUnsignedInteger32();for(o=0;c>o;o++)l=i(r),n=i(r),a=i(r),s=i(r),r.Skip(2),void 0!==e.onFace&&null!==e.onFace&&e.onFace(n,a,s,l)},JSM.ReadAsciiStlFile=function(t,e){function i(t,i){var r=t[i].trim();if(0===r.length)return i+1;if(r=r.split(/\s+/),0===r.length)return i+1;if("solid"!=r[0]&&"facet"==r[0]&&"normal"==r[1]){if(5>r.length)return-1;var o,n,r=[parseFloat(r[2]),parseFloat(r[3]),parseFloat(r[4])],a=[];for(o=i+1;o<t.length&&3>a.length;o++)if(n=t[o].trim(),0!==n.length&&(n=n.split(/\s+/),0!==n.length&&"vertex"==n[0])){if(4>n.length)break;n=[parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])],a.push(n)}return o+=1,3!=a.length?-1:(void 0!==e.onFace&&null!==e.onFace&&e.onFace(a[0],a[1],a[2],r),o)}return i+1}for(var r=0,o=t.split("\n");r<o.length&&-1!=r;)r=i(o,r)},JSM.ConvertStlToJsonData=function(t){var e=new JSM.TriangleModel,i=e.AddBody(new JSM.TriangleBody("Default")),r=e.GetBody(i);return function(t){var e=t.byteLength;return 84>e?!1:(t=new JSM.BinaryReader(t,!0),t.Skip(80),t=t.ReadUnsignedInteger32(),e!=50*t+84?!1:!0)}(t)?JSM.ReadBinaryStlFile(t,{onFace:function(t,e,i,o){t=r.AddVertex(t[0],t[1],t[2]),e=r.AddVertex(e[0],e[1],e[2]),i=r.AddVertex(i[0],i[1],i[2]),o=JSM.VectorNormalize(new JSM.Vector(o[0],o[1],o[2])),o=r.AddNormal(o.x,o.y,o.z),r.AddTriangle(t,e,i,o,o,o)}}):(t=String.fromCharCode.apply(null,new Uint8Array(t)),JSM.ReadAsciiStlFile(t,{onFace:function(t,e,i,o){t=r.AddVertex(t[0],t[1],t[2]),e=r.AddVertex(e[0],e[1],e[2]),i=r.AddVertex(i[0],i[1],i[2]),o=JSM.VectorNormalize(new JSM.Vector(o[0],o[1],o[2])),o=r.AddNormal(o.x,o.y,o.z),r.AddTriangle(t,e,i,o,o,o)}})),e.Finalize(),JSM.ConvertTriangleModelToJsonData(e)},JSM.ImportFileList=function(){this.descriptors=null},JSM.ImportFileList.prototype.Init=function(t){this.descriptors=[];var e,i;for(e=0;e<t.length;e++)i=t[e],i={originalObject:i,originalFileName:i.name,fileName:i.name.toUpperCase(),extension:this.GetFileExtension(i.name)},this.descriptors.push(i)},JSM.ImportFileList.prototype.GetFileDescriptor=function(t){return this.descriptors[t]},JSM.ImportFileList.prototype.GetMainFileIndex=function(t){var e;
for(t=0;t<this.descriptors.length;t++)if(e=this.descriptors[t],this.IsSupportedExtension(e.extension))return t;return-1},JSM.ImportFileList.prototype.GetFileIndexByName=function(t){var e,i;for(e=0;e<this.descriptors.length;e++)if(i=this.descriptors[e],i.fileName==t.toUpperCase())return e;return-1},JSM.ImportFileList.prototype.IsSupportedExtension=function(t){return".3DS"==t||".OBJ"==t||".STL"==t?!0:!1},JSM.ImportFileList.prototype.GetFileExtension=function(t){var e=t.lastIndexOf(".");return-1==e?"":(t=t.substr(e),t=t.toUpperCase())},JSM.ConvertFileListToJsonData=function(t,e){function i(t,i){void 0!==e.onReady&&null!==e.onReady&&e.onReady(t,i)}var r=new JSM.ImportFileList;r.Init(t);var o=r.GetMainFileIndex();if(-1===o)void 0!==e.onError&&null!==e.onError&&e.onError();else{var n=r.GetFileDescriptor(o),a={main:n.originalFileName,requested:[],missing:[]};".3DS"==n.extension?JSM.GetArrayBufferFromFile(n.originalObject,function(t){t=JSM.Convert3dsToJsonData(t),i(a,t)}):".OBJ"==n.extension?JSM.GetStringBuffersFromFileList(t,function(t){var e=JSM.ConvertObjToJsonData(t[o],{onFileRequested:function(e){var i=r.GetFileIndexByName(e);return-1==i?(a.missing.push(e),null):(a.requested.push(e),t[i])}});i(a,e)}):".STL"==n.extension&&JSM.GetArrayBufferFromFile(n.originalObject,function(t){t=JSM.ConvertStlToJsonData(t),i(a,t)})}},JSM.GenerateSolidWithRadius=function(t,e){var i=new JSM.Body,r=!0;if("Tetrahedron"===t?i=JSM.GenerateTetrahedron():"Hexahedron"===t?i=JSM.GenerateHexahedron():"Octahedron"===t?i=JSM.GenerateOctahedron():"Dodecahedron"===t?i=JSM.GenerateDodecahedron():"Icosahedron"===t?i=JSM.GenerateIcosahedron():"TruncatedTetrahedron"===t?i=JSM.GenerateTruncatedTetrahedron():"Cuboctahedron"===t?i=JSM.GenerateCuboctahedron():"TruncatedCube"===t?i=JSM.GenerateTruncatedCube():"TruncatedOctahedron"===t?i=JSM.GenerateTruncatedOctahedron():"Rhombicuboctahedron"===t?i=JSM.GenerateRhombicuboctahedron():"TruncatedCuboctahedron"===t?i=JSM.GenerateTruncatedCuboctahedron():"SnubCube"===t?i=JSM.GenerateSnubCube():"Icosidodecahedron"===t?i=JSM.GenerateIcosidodecahedron():"TruncatedDodecahedron"===t?i=JSM.GenerateTruncatedDodecahedron():"TruncatedIcosahedron"===t?i=JSM.GenerateTruncatedIcosahedron():"Rhombicosidodecahedron"===t?i=JSM.GenerateRhombicosidodecahedron():"TruncatedIcosidodecahedron"===t?i=JSM.GenerateTruncatedIcosidodecahedron():"SnubDodecahedron"===t?i=JSM.GenerateSnubDodecahedron():"TetrakisHexahedron"===t?(i=JSM.GenerateTetrakisHexahedron(),r=!1):"RhombicDodecahedron"===t?(i=JSM.GenerateRhombicDodecahedron(),r=!1):"PentakisDodecahedron"===t?(i=JSM.GeneratePentakisDodecahedron(),r=!1):"SmallStellatedDodecahedron"===t?(i=JSM.GenerateSmallStellatedDodecahedron(),r=!1):"GreatDodecahedron"===t?(i=JSM.GenerateGreatDodecahedron(),r=!1):"SmallTriambicIcosahedron"===t?(i=JSM.GenerateSmallTriambicIcosahedron(),r=!1):"GreatStellatedDodecahedron"===t?(i=JSM.GenerateGreatStellatedDodecahedron(),r=!1):"SmallTriakisOctahedron"===t?(i=JSM.GenerateSmallTriakisOctahedron(),r=!1):"StellaOctangula"===t?(i=JSM.GenerateStellaOctangula(),r=!1):"TriakisTetrahedron"===t&&(i=JSM.GenerateTriakisTetrahedron(),r=!1),0<i.VertexCount()){var o=0;if(r)o=JSM.VectorLength(i.GetVertexPosition(0));else for(var n,r=0;r<i.VertexCount();r++)n=JSM.VectorLength(i.GetVertexPosition(r)),JSM.IsGreater(n,o)&&(o=n);for(o=e/o,r=0;r<i.VertexCount();r++)n=i.GetVertex(r),n.SetPosition(JSM.VectorMultiply(n.GetPosition(),o))}return i},JSM.GenerateTetrahedron=function(){var t=new JSM.Body;return t.AddVertex(new JSM.BodyVertex(new JSM.Coord(1,1,1))),t.AddVertex(new JSM.BodyVertex(new JSM.Coord(-1,-1,1))),t.AddVertex(new JSM.BodyVertex(new JSM.Coord(-1,1,-1))),t.AddVertex(new JSM.BodyVertex(new JSM.Coord(1,-1,-1))),t.AddPolygon(new JSM.BodyPolygon([0,1,3])),t.AddPolygon(new JSM.BodyPolygon([0,2,1])),t.AddPolygon(new JSM.BodyPolygon([0,3,2])),t.AddPolygon(new JSM.BodyPolygon([1,2,3])),t},JSM.GenerateHexahedron=function(){var t=new JSM.Body;return JSM.AddVertexToBody(t,1,1,1),JSM.AddVertexToBody(t,1,1,-1),JSM.AddVertexToBody(t,1,-1,1),JSM.AddVertexToBody(t,-1,1,1),JSM.AddVertexToBody(t,1,-1,-1),JSM.AddVertexToBody(t,-1,1,-1),JSM.AddVertexToBody(t,-1,-1,1),JSM.AddVertexToBody(t,-1,-1,-1),JSM.AddPolygonToBody(t,[0,1,5,3]),JSM.AddPolygonToBody(t,[0,2,4,1]),JSM.AddPolygonToBody(t,[0,3,6,2]),JSM.AddPolygonToBody(t,[1,4,7,5]),JSM.AddPolygonToBody(t,[2,6,7,4]),JSM.AddPolygonToBody(t,[3,5,7,6]),t},JSM.GenerateOctahedron=function(){var t=new JSM.Body;return JSM.AddVertexToBody(t,1,0,0),JSM.AddVertexToBody(t,-1,0,0),JSM.AddVertexToBody(t,0,1,0),JSM.AddVertexToBody(t,0,-1,0),JSM.AddVertexToBody(t,0,0,1),JSM.AddVertexToBody(t,0,0,-1),JSM.AddPolygonToBody(t,[0,2,4]),JSM.AddPolygonToBody(t,[0,3,5]),JSM.AddPolygonToBody(t,[0,4,3]),JSM.AddPolygonToBody(t,[0,5,2]),JSM.AddPolygonToBody(t,[1,2,5]),JSM.AddPolygonToBody(t,[1,3,4]),JSM.AddPolygonToBody(t,[1,4,2]),JSM.AddPolygonToBody(t,[1,5,3]),t},JSM.GenerateDodecahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=1/e;return JSM.AddVertexToBody(t,1,1,1),JSM.AddVertexToBody(t,1,1,-1),JSM.AddVertexToBody(t,1,-1,1),JSM.AddVertexToBody(t,-1,1,1),JSM.AddVertexToBody(t,1,-1,-1),JSM.AddVertexToBody(t,-1,1,-1),JSM.AddVertexToBody(t,-1,-1,1),JSM.AddVertexToBody(t,-1,-1,-1),JSM.AddVertexToBody(t,0,+i,+e),JSM.AddVertexToBody(t,0,+i,-e),JSM.AddVertexToBody(t,0,-i,+e),JSM.AddVertexToBody(t,0,-i,-e),JSM.AddVertexToBody(t,+i,+e,0),JSM.AddVertexToBody(t,+i,-e,0),JSM.AddVertexToBody(t,-i,+e,0),JSM.AddVertexToBody(t,-i,-e,0),JSM.AddVertexToBody(t,+e,0,+i),JSM.AddVertexToBody(t,-e,0,+i),JSM.AddVertexToBody(t,+e,0,-i),JSM.AddVertexToBody(t,-e,0,-i),JSM.AddPolygonToBody(t,[0,8,10,2,16]),JSM.AddPolygonToBody(t,[0,16,18,1,12]),JSM.AddPolygonToBody(t,[0,12,14,3,8]),JSM.AddPolygonToBody(t,[1,9,5,14,12]),JSM.AddPolygonToBody(t,[1,18,4,11,9]),JSM.AddPolygonToBody(t,[2,10,6,15,13]),JSM.AddPolygonToBody(t,[2,13,4,18,16]),JSM.AddPolygonToBody(t,[3,14,5,19,17]),JSM.AddPolygonToBody(t,[3,17,6,10,8]),JSM.AddPolygonToBody(t,[4,13,15,7,11]),JSM.AddPolygonToBody(t,[5,9,11,7,19]),JSM.AddPolygonToBody(t,[6,17,19,7,15]),t},JSM.GenerateIcosahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2;return JSM.AddVertexToBody(t,0,1,+e),JSM.AddVertexToBody(t,0,1,-e),JSM.AddVertexToBody(t,0,-1,+e),JSM.AddVertexToBody(t,0,-1,-e),JSM.AddVertexToBody(t,1,+e,0),JSM.AddVertexToBody(t,1,-e,0),JSM.AddVertexToBody(t,-1,+e,0),JSM.AddVertexToBody(t,-1,-e,0),JSM.AddVertexToBody(t,+e,0,1),JSM.AddVertexToBody(t,-e,0,1),JSM.AddVertexToBody(t,+e,0,-1),JSM.AddVertexToBody(t,-e,0,-1),JSM.AddPolygonToBody(t,[0,2,8]),JSM.AddPolygonToBody(t,[0,4,6]),JSM.AddPolygonToBody(t,[0,6,9]),JSM.AddPolygonToBody(t,[0,8,4]),JSM.AddPolygonToBody(t,[0,9,2]),JSM.AddPolygonToBody(t,[1,3,11]),JSM.AddPolygonToBody(t,[1,4,10]),JSM.AddPolygonToBody(t,[1,6,4]),JSM.AddPolygonToBody(t,[1,10,3]),JSM.AddPolygonToBody(t,[1,11,6]),JSM.AddPolygonToBody(t,[2,5,8]),JSM.AddPolygonToBody(t,[2,7,5]),JSM.AddPolygonToBody(t,[2,9,7]),JSM.AddPolygonToBody(t,[3,5,7]),JSM.AddPolygonToBody(t,[3,7,11]),JSM.AddPolygonToBody(t,[3,10,5]),JSM.AddPolygonToBody(t,[4,8,10]),JSM.AddPolygonToBody(t,[6,11,9]),JSM.AddPolygonToBody(t,[5,10,8]),JSM.AddPolygonToBody(t,[7,9,11]),t},JSM.GenerateTruncatedTetrahedron=function(){var t=new JSM.Body;return JSM.AddVertexToBody(t,1,1,3),JSM.AddVertexToBody(t,1,-1,-3),JSM.AddVertexToBody(t,-1,-1,3),JSM.AddVertexToBody(t,-1,1,-3),JSM.AddVertexToBody(t,1,3,1),JSM.AddVertexToBody(t,1,-3,-1),JSM.AddVertexToBody(t,-1,-3,1),JSM.AddVertexToBody(t,-1,3,-1),JSM.AddVertexToBody(t,3,1,1),JSM.AddVertexToBody(t,3,-1,-1),JSM.AddVertexToBody(t,-3,-1,1),JSM.AddVertexToBody(t,-3,1,-1),JSM.AddPolygonToBody(t,[0,8,4]),JSM.AddPolygonToBody(t,[1,9,5]),JSM.AddPolygonToBody(t,[2,10,6]),JSM.AddPolygonToBody(t,[3,11,7]),JSM.AddPolygonToBody(t,[0,2,6,5,9,8]),JSM.AddPolygonToBody(t,[0,4,7,11,10,2]),JSM.AddPolygonToBody(t,[1,3,7,4,8,9]),JSM.AddPolygonToBody(t,[1,5,6,10,11,3]),t},JSM.GenerateCuboctahedron=function(){var t=new JSM.Body;return JSM.AddVertexToBody(t,1,1,0),JSM.AddVertexToBody(t,1,-1,0),JSM.AddVertexToBody(t,-1,-1,0),JSM.AddVertexToBody(t,-1,1,0),JSM.AddVertexToBody(t,1,0,1),JSM.AddVertexToBody(t,1,0,-1),JSM.AddVertexToBody(t,-1,0,1),JSM.AddVertexToBody(t,-1,0,-1),JSM.AddVertexToBody(t,0,1,1),JSM.AddVertexToBody(t,0,-1,-1),JSM.AddVertexToBody(t,0,-1,1),JSM.AddVertexToBody(t,0,1,-1),JSM.AddPolygonToBody(t,[0,5,11]),JSM.AddPolygonToBody(t,[0,8,4]),JSM.AddPolygonToBody(t,[1,4,10]),JSM.AddPolygonToBody(t,[1,9,5]),JSM.AddPolygonToBody(t,[2,7,9]),JSM.AddPolygonToBody(t,[2,10,6]),JSM.AddPolygonToBody(t,[3,6,8]),JSM.AddPolygonToBody(t,[3,11,7]),JSM.AddPolygonToBody(t,[0,4,1,5]),JSM.AddPolygonToBody(t,[0,11,3,8]),JSM.AddPolygonToBody(t,[1,10,2,9]),JSM.AddPolygonToBody(t,[2,6,3,7]),JSM.AddPolygonToBody(t,[4,8,6,10]),JSM.AddPolygonToBody(t,[5,9,7,11]),t},JSM.GenerateTruncatedCube=function(){var t=new JSM.Body,e=Math.sqrt(2)-1;return JSM.AddVertexToBody(t,1,1,+e),JSM.AddVertexToBody(t,1,1,-e),JSM.AddVertexToBody(t,1,-1,+e),JSM.AddVertexToBody(t,-1,1,+e),JSM.AddVertexToBody(t,1,-1,-e),JSM.AddVertexToBody(t,-1,1,-e),JSM.AddVertexToBody(t,-1,-1,+e),JSM.AddVertexToBody(t,-1,-1,-e),JSM.AddVertexToBody(t,1,+e,1),JSM.AddVertexToBody(t,1,+e,-1),JSM.AddVertexToBody(t,1,-e,1),JSM.AddVertexToBody(t,-1,+e,1),JSM.AddVertexToBody(t,1,-e,-1),JSM.AddVertexToBody(t,-1,+e,-1),JSM.AddVertexToBody(t,-1,-e,1),JSM.AddVertexToBody(t,-1,-e,-1),JSM.AddVertexToBody(t,+e,1,1),JSM.AddVertexToBody(t,+e,1,-1),JSM.AddVertexToBody(t,+e,-1,1),JSM.AddVertexToBody(t,-e,1,1),JSM.AddVertexToBody(t,+e,-1,-1),JSM.AddVertexToBody(t,-e,1,-1),JSM.AddVertexToBody(t,-e,-1,1),JSM.AddVertexToBody(t,-e,-1,-1),JSM.AddPolygonToBody(t,[0,16,8]),JSM.AddPolygonToBody(t,[1,9,17]),JSM.AddPolygonToBody(t,[2,10,18]),JSM.AddPolygonToBody(t,[3,11,19]),JSM.AddPolygonToBody(t,[4,20,12]),JSM.AddPolygonToBody(t,[5,21,13]),JSM.AddPolygonToBody(t,[6,22,14]),JSM.AddPolygonToBody(t,[7,15,23]),JSM.AddPolygonToBody(t,[0,1,17,21,5,3,19,16]),JSM.AddPolygonToBody(t,[0,8,10,2,4,12,9,1]),JSM.AddPolygonToBody(t,[2,18,22,6,7,23,20,4]),JSM.AddPolygonToBody(t,[3,5,13,15,7,6,14,11]),JSM.AddPolygonToBody(t,[8,16,19,11,14,22,18,10]),JSM.AddPolygonToBody(t,[9,12,20,23,15,13,21,17]),t},JSM.GenerateTruncatedOctahedron=function(){var t=new JSM.Body;return JSM.AddVertexToBody(t,0,1,2),JSM.AddVertexToBody(t,0,1,-2),JSM.AddVertexToBody(t,0,-1,2),JSM.AddVertexToBody(t,0,-1,-2),JSM.AddVertexToBody(t,0,2,1),JSM.AddVertexToBody(t,0,-2,1),JSM.AddVertexToBody(t,0,2,-1),JSM.AddVertexToBody(t,0,-2,-1),JSM.AddVertexToBody(t,1,0,2),JSM.AddVertexToBody(t,1,0,-2),JSM.AddVertexToBody(t,-1,0,2),JSM.AddVertexToBody(t,-1,0,-2),JSM.AddVertexToBody(t,1,2,0),JSM.AddVertexToBody(t,1,-2,0),JSM.AddVertexToBody(t,-1,2,0),JSM.AddVertexToBody(t,-1,-2,0),JSM.AddVertexToBody(t,2,0,1),JSM.AddVertexToBody(t,-2,0,1),JSM.AddVertexToBody(t,2,0,-1),JSM.AddVertexToBody(t,-2,0,-1),JSM.AddVertexToBody(t,2,1,0),JSM.AddVertexToBody(t,-2,1,0),JSM.AddVertexToBody(t,2,-1,0),JSM.AddVertexToBody(t,-2,-1,0),JSM.AddPolygonToBody(t,[0,10,2,8]),JSM.AddPolygonToBody(t,[1,9,3,11]),JSM.AddPolygonToBody(t,[4,12,6,14]),JSM.AddPolygonToBody(t,[5,15,7,13]),JSM.AddPolygonToBody(t,[16,22,18,20]),JSM.AddPolygonToBody(t,[17,21,19,23]),JSM.AddPolygonToBody(t,[0,4,14,21,17,10]),JSM.AddPolygonToBody(t,[0,8,16,20,12,4]),JSM.AddPolygonToBody(t,[1,6,12,20,18,9]),JSM.AddPolygonToBody(t,[1,11,19,21,14,6]),JSM.AddPolygonToBody(t,[2,5,13,22,16,8]),JSM.AddPolygonToBody(t,[2,10,17,23,15,5]),JSM.AddPolygonToBody(t,[3,7,15,23,19,11]),JSM.AddPolygonToBody(t,[3,9,18,22,13,7]),t},JSM.GenerateRhombicuboctahedron=function(){var t=new JSM.Body,e=1+Math.sqrt(2);return JSM.AddVertexToBody(t,1,1,+e),JSM.AddVertexToBody(t,1,1,-e),JSM.AddVertexToBody(t,1,-1,+e),JSM.AddVertexToBody(t,-1,1,+e),JSM.AddVertexToBody(t,1,-1,-e),JSM.AddVertexToBody(t,-1,1,-e),JSM.AddVertexToBody(t,-1,-1,+e),JSM.AddVertexToBody(t,-1,-1,-e),JSM.AddVertexToBody(t,1,+e,1),JSM.AddVertexToBody(t,1,+e,-1),JSM.AddVertexToBody(t,1,-e,1),JSM.AddVertexToBody(t,-1,+e,1),JSM.AddVertexToBody(t,1,-e,-1),JSM.AddVertexToBody(t,-1,+e,-1),JSM.AddVertexToBody(t,-1,-e,1),JSM.AddVertexToBody(t,-1,-e,-1),JSM.AddVertexToBody(t,+e,1,1),JSM.AddVertexToBody(t,+e,1,-1),JSM.AddVertexToBody(t,+e,-1,1),JSM.AddVertexToBody(t,-e,1,1),JSM.AddVertexToBody(t,+e,-1,-1),JSM.AddVertexToBody(t,-e,1,-1),JSM.AddVertexToBody(t,-e,-1,1),JSM.AddVertexToBody(t,-e,-1,-1),JSM.AddPolygonToBody(t,[0,16,8]),JSM.AddPolygonToBody(t,[1,9,17]),JSM.AddPolygonToBody(t,[2,10,18]),JSM.AddPolygonToBody(t,[3,11,19]),JSM.AddPolygonToBody(t,[4,20,12]),JSM.AddPolygonToBody(t,[5,21,13]),JSM.AddPolygonToBody(t,[6,22,14]),JSM.AddPolygonToBody(t,[7,15,23]),JSM.AddPolygonToBody(t,[0,2,18,16]),JSM.AddPolygonToBody(t,[0,3,6,2]),JSM.AddPolygonToBody(t,[0,8,11,3]),JSM.AddPolygonToBody(t,[1,4,7,5]),JSM.AddPolygonToBody(t,[1,5,13,9]),JSM.AddPolygonToBody(t,[1,17,20,4]),JSM.AddPolygonToBody(t,[2,6,14,10]),JSM.AddPolygonToBody(t,[3,19,22,6]),JSM.AddPolygonToBody(t,[4,12,15,7]),JSM.AddPolygonToBody(t,[5,7,23,21]),JSM.AddPolygonToBody(t,[8,9,13,11]),JSM.AddPolygonToBody(t,[8,16,17,9]),JSM.AddPolygonToBody(t,[10,12,20,18]),JSM.AddPolygonToBody(t,[10,14,15,12]),JSM.AddPolygonToBody(t,[11,13,21,19]),JSM.AddPolygonToBody(t,[14,22,23,15]),JSM.AddPolygonToBody(t,[16,18,20,17]),JSM.AddPolygonToBody(t,[19,21,23,22]),t},JSM.GenerateTruncatedCuboctahedron=function(){var t=new JSM.Body,e=1+Math.sqrt(2),i=1+2*Math.sqrt(2);return JSM.AddVertexToBody(t,1,+e,+i),JSM.AddVertexToBody(t,1,+e,-i),JSM.AddVertexToBody(t,1,-e,+i),JSM.AddVertexToBody(t,-1,+e,+i),JSM.AddVertexToBody(t,1,-e,-i),JSM.AddVertexToBody(t,-1,+e,-i),JSM.AddVertexToBody(t,-1,-e,+i),JSM.AddVertexToBody(t,-1,-e,-i),JSM.AddVertexToBody(t,1,+i,+e),JSM.AddVertexToBody(t,1,-i,+e),JSM.AddVertexToBody(t,1,+i,-e),JSM.AddVertexToBody(t,-1,+i,+e),JSM.AddVertexToBody(t,1,-i,-e),JSM.AddVertexToBody(t,-1,-i,+e),JSM.AddVertexToBody(t,-1,+i,-e),JSM.AddVertexToBody(t,-1,-i,-e),JSM.AddVertexToBody(t,+e,1,+i),JSM.AddVertexToBody(t,+e,1,-i),JSM.AddVertexToBody(t,-e,1,+i),JSM.AddVertexToBody(t,+e,-1,+i),JSM.AddVertexToBody(t,-e,1,-i),JSM.AddVertexToBody(t,+e,-1,-i),JSM.AddVertexToBody(t,-e,-1,+i),JSM.AddVertexToBody(t,-e,-1,-i),JSM.AddVertexToBody(t,+e,+i,1),JSM.AddVertexToBody(t,+e,-i,1),JSM.AddVertexToBody(t,-e,+i,1),JSM.AddVertexToBody(t,+e,+i,-1),JSM.AddVertexToBody(t,-e,-i,1),JSM.AddVertexToBody(t,+e,-i,-1),JSM.AddVertexToBody(t,-e,+i,-1),JSM.AddVertexToBody(t,-e,-i,-1),JSM.AddVertexToBody(t,+i,1,+e),JSM.AddVertexToBody(t,-i,1,+e),JSM.AddVertexToBody(t,+i,1,-e),JSM.AddVertexToBody(t,+i,-1,+e),JSM.AddVertexToBody(t,-i,1,-e),JSM.AddVertexToBody(t,-i,-1,+e),JSM.AddVertexToBody(t,+i,-1,-e),JSM.AddVertexToBody(t,-i,-1,-e),JSM.AddVertexToBody(t,+i,+e,1),JSM.AddVertexToBody(t,-i,+e,1),JSM.AddVertexToBody(t,+i,-e,1),JSM.AddVertexToBody(t,+i,+e,-1),JSM.AddVertexToBody(t,-i,-e,1),JSM.AddVertexToBody(t,-i,+e,-1),JSM.AddVertexToBody(t,+i,-e,-1),JSM.AddVertexToBody(t,-i,-e,-1),JSM.AddPolygonToBody(t,[0,8,11,3]),JSM.AddPolygonToBody(t,[1,5,14,10]),JSM.AddPolygonToBody(t,[2,6,13,9]),JSM.AddPolygonToBody(t,[4,12,15,7]),JSM.AddPolygonToBody(t,[16,19,35,32]),JSM.AddPolygonToBody(t,[17,34,38,21]),JSM.AddPolygonToBody(t,[18,33,37,22]),JSM.AddPolygonToBody(t,[23,39,36,20]),JSM.AddPolygonToBody(t,[24,40,43,27]),JSM.AddPolygonToBody(t,[25,29,46,42]),JSM.AddPolygonToBody(t,[26,30,45,41]),JSM.AddPolygonToBody(t,[28,44,47,31]),JSM.AddPolygonToBody(t,[0,16,32,40,24,8]),JSM.AddPolygonToBody(t,[1,10,27,43,34,17]),JSM.AddPolygonToBody(t,[2,9,25,42,35,19]),JSM.AddPolygonToBody(t,[3,11,26,41,33,18]),JSM.AddPolygonToBody(t,[4,21,38,46,29,12]),JSM.AddPolygonToBody(t,[5,20,36,45,30,14]),JSM.AddPolygonToBody(t,[6,22,37,44,28,13]),JSM.AddPolygonToBody(t,[7,15,31,47,39,23]),JSM.AddPolygonToBody(t,[0,3,18,22,6,2,19,16]),JSM.AddPolygonToBody(t,[1,17,21,4,7,23,20,5]),JSM.AddPolygonToBody(t,[8,24,27,10,14,30,26,11]),JSM.AddPolygonToBody(t,[9,13,28,31,15,12,29,25]),JSM.AddPolygonToBody(t,[32,35,42,46,38,34,43,40]),JSM.AddPolygonToBody(t,[33,41,45,36,39,47,44,37]),t},JSM.GenerateSnubCube=function(){var t=new JSM.Body,e=1/3*(Math.pow(17+3*Math.sqrt(33),1/3)-Math.pow(-17+3*Math.sqrt(33),1/3)-1),i=1/e;return JSM.AddVertexToBody(t,1,+e,-i),JSM.AddVertexToBody(t,1,-e,+i),JSM.AddVertexToBody(t,-1,+e,+i),JSM.AddVertexToBody(t,-1,-e,-i),JSM.AddVertexToBody(t,+e,-i,1),JSM.AddVertexToBody(t,-e,+i,1),JSM.AddVertexToBody(t,+e,+i,-1),JSM.AddVertexToBody(t,-e,-i,-1),JSM.AddVertexToBody(t,-i,1,+e),JSM.AddVertexToBody(t,+i,1,-e),JSM.AddVertexToBody(t,+i,-1,+e),JSM.AddVertexToBody(t,-i,-1,-e),JSM.AddVertexToBody(t,1,+i,+e),JSM.AddVertexToBody(t,1,-i,-e),JSM.AddVertexToBody(t,-1,+i,-e),JSM.AddVertexToBody(t,-1,-i,+e),JSM.AddVertexToBody(t,+e,1,+i),JSM.AddVertexToBody(t,-e,1,-i),JSM.AddVertexToBody(t,-e,-1,+i),JSM.AddVertexToBody(t,+e,-1,-i),JSM.AddVertexToBody(t,+i,+e,1),JSM.AddVertexToBody(t,-i,-e,1),JSM.AddVertexToBody(t,+i,-e,-1),JSM.AddVertexToBody(t,-i,+e,-1),JSM.AddPolygonToBody(t,[0,6,9]),JSM.AddPolygonToBody(t,[0,9,22]),JSM.AddPolygonToBody(t,[0,17,6]),JSM.AddPolygonToBody(t,[0,22,19]),JSM.AddPolygonToBody(t,[1,4,10]),JSM.AddPolygonToBody(t,[1,10,20]),JSM.AddPolygonToBody(t,[1,18,4]),JSM.AddPolygonToBody(t,[1,20,16]),JSM.AddPolygonToBody(t,[2,5,8]),JSM.AddPolygonToBody(t,[2,8,21]),JSM.AddPolygonToBody(t,[2,16,5]),JSM.AddPolygonToBody(t,[2,21,18]),JSM.AddPolygonToBody(t,[3,7,11]),JSM.AddPolygonToBody(t,[3,11,23]),JSM.AddPolygonToBody(t,[3,19,7]),JSM.AddPolygonToBody(t,[3,23,17]),JSM.AddPolygonToBody(t,[4,13,10]),JSM.AddPolygonToBody(t,[4,18,15]),JSM.AddPolygonToBody(t,[5,14,8]),JSM.AddPolygonToBody(t,[5,16,12]),JSM.AddPolygonToBody(t,[6,12,9]),JSM.AddPolygonToBody(t,[6,17,14]),JSM.AddPolygonToBody(t,[7,15,11]),JSM.AddPolygonToBody(t,[7,19,13]),JSM.AddPolygonToBody(t,[8,14,23]),JSM.AddPolygonToBody(t,[9,12,20]),JSM.AddPolygonToBody(t,[10,13,22]),JSM.AddPolygonToBody(t,[11,15,21]),JSM.AddPolygonToBody(t,[12,16,20]),JSM.AddPolygonToBody(t,[13,19,22]),JSM.AddPolygonToBody(t,[14,17,23]),JSM.AddPolygonToBody(t,[15,18,21]),JSM.AddPolygonToBody(t,[0,19,3,17]),JSM.AddPolygonToBody(t,[1,16,2,18]),JSM.AddPolygonToBody(t,[4,15,7,13]),JSM.AddPolygonToBody(t,[5,12,6,14]),JSM.AddPolygonToBody(t,[8,23,11,21]),JSM.AddPolygonToBody(t,[9,20,10,22]),t},JSM.GenerateIcosidodecahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=e/2,r=(1+e)/2;return JSM.AddVertexToBody(t,0,0,+e),JSM.AddVertexToBody(t,0,0,-e),JSM.AddVertexToBody(t,0,+e,0),JSM.AddVertexToBody(t,0,-e,0),JSM.AddVertexToBody(t,+e,0,0),JSM.AddVertexToBody(t,-e,0,0),JSM.AddVertexToBody(t,.5,+i,+r),JSM.AddVertexToBody(t,.5,+i,-r),JSM.AddVertexToBody(t,.5,-i,+r),JSM.AddVertexToBody(t,-.5,+i,+r),JSM.AddVertexToBody(t,.5,-i,-r),JSM.AddVertexToBody(t,-.5,+i,-r),JSM.AddVertexToBody(t,-.5,-i,+r),JSM.AddVertexToBody(t,-.5,-i,-r),JSM.AddVertexToBody(t,+i,+r,.5),JSM.AddVertexToBody(t,+i,-r,.5),JSM.AddVertexToBody(t,-i,+r,.5),JSM.AddVertexToBody(t,+i,+r,-.5),JSM.AddVertexToBody(t,-i,-r,.5),JSM.AddVertexToBody(t,+i,-r,-.5),JSM.AddVertexToBody(t,-i,+r,-.5),JSM.AddVertexToBody(t,-i,-r,-.5),JSM.AddVertexToBody(t,+r,.5,+i),JSM.AddVertexToBody(t,-r,.5,+i),JSM.AddVertexToBody(t,+r,.5,-i),JSM.AddVertexToBody(t,+r,-.5,+i),JSM.AddVertexToBody(t,-r,.5,-i),JSM.AddVertexToBody(t,-r,-.5,+i),JSM.AddVertexToBody(t,+r,-.5,-i),JSM.AddVertexToBody(t,-r,-.5,-i),JSM.AddPolygonToBody(t,[0,6,9]),JSM.AddPolygonToBody(t,[0,12,8]),JSM.AddPolygonToBody(t,[1,10,13]),JSM.AddPolygonToBody(t,[1,11,7]),JSM.AddPolygonToBody(t,[2,14,17]),JSM.AddPolygonToBody(t,[2,20,16]),JSM.AddPolygonToBody(t,[3,18,21]),JSM.AddPolygonToBody(t,[3,19,15]),JSM.AddPolygonToBody(t,[4,22,25]),JSM.AddPolygonToBody(t,[4,28,24]),JSM.AddPolygonToBody(t,[5,26,29]),JSM.AddPolygonToBody(t,[5,27,23]),JSM.AddPolygonToBody(t,[6,22,14]),JSM.AddPolygonToBody(t,[7,17,24]),JSM.AddPolygonToBody(t,[8,15,25]),JSM.AddPolygonToBody(t,[9,16,23]),JSM.AddPolygonToBody(t,[10,28,19]),JSM.AddPolygonToBody(t,[11,26,20]),JSM.AddPolygonToBody(t,[12,27,18]),JSM.AddPolygonToBody(t,[13,21,29]),JSM.AddPolygonToBody(t,[0,8,25,22,6]),JSM.AddPolygonToBody(t,[0,9,23,27,12]),JSM.AddPolygonToBody(t,[1,7,24,28,10]),JSM.AddPolygonToBody(t,[1,13,29,26,11]),JSM.AddPolygonToBody(t,[2,16,9,6,14]),JSM.AddPolygonToBody(t,[2,17,7,11,20]),JSM.AddPolygonToBody(t,[3,15,8,12,18]),JSM.AddPolygonToBody(t,[3,21,13,10,19]),JSM.AddPolygonToBody(t,[4,24,17,14,22]),JSM.AddPolygonToBody(t,[4,25,15,19,28]),JSM.AddPolygonToBody(t,[5,23,16,20,26]),JSM.AddPolygonToBody(t,[5,29,21,18,27]),t},JSM.GenerateTruncatedDodecahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=1/e,r=2+e,o=2*e,n=Math.pow(e,2);return JSM.AddVertexToBody(t,0,+i,+r),JSM.AddVertexToBody(t,0,+i,-r),JSM.AddVertexToBody(t,0,-i,+r),JSM.AddVertexToBody(t,0,-i,-r),JSM.AddVertexToBody(t,+r,0,+i),JSM.AddVertexToBody(t,-r,0,+i),JSM.AddVertexToBody(t,+r,0,-i),JSM.AddVertexToBody(t,-r,0,-i),JSM.AddVertexToBody(t,+i,+r,0),JSM.AddVertexToBody(t,+i,-r,0),JSM.AddVertexToBody(t,-i,+r,0),JSM.AddVertexToBody(t,-i,-r,0),JSM.AddVertexToBody(t,+i,+e,+o),JSM.AddVertexToBody(t,+i,+e,-o),JSM.AddVertexToBody(t,+i,-e,+o),JSM.AddVertexToBody(t,-i,+e,+o),JSM.AddVertexToBody(t,+i,-e,-o),JSM.AddVertexToBody(t,-i,+e,-o),JSM.AddVertexToBody(t,-i,-e,+o),JSM.AddVertexToBody(t,-i,-e,-o),JSM.AddVertexToBody(t,+o,+i,+e),JSM.AddVertexToBody(t,+o,+i,-e),JSM.AddVertexToBody(t,+o,-i,+e),JSM.AddVertexToBody(t,-o,+i,+e),JSM.AddVertexToBody(t,+o,-i,-e),JSM.AddVertexToBody(t,-o,+i,-e),JSM.AddVertexToBody(t,-o,-i,+e),JSM.AddVertexToBody(t,-o,-i,-e),JSM.AddVertexToBody(t,+e,+o,+i),JSM.AddVertexToBody(t,+e,+o,-i),JSM.AddVertexToBody(t,+e,-o,+i),JSM.AddVertexToBody(t,-e,+o,+i),JSM.AddVertexToBody(t,+e,-o,-i),JSM.AddVertexToBody(t,-e,+o,-i),JSM.AddVertexToBody(t,-e,-o,+i),JSM.AddVertexToBody(t,-e,-o,-i),JSM.AddVertexToBody(t,+e,2,+n),JSM.AddVertexToBody(t,+e,2,-n),JSM.AddVertexToBody(t,+e,-2,+n),JSM.AddVertexToBody(t,-e,2,+n),JSM.AddVertexToBody(t,+e,-2,-n),JSM.AddVertexToBody(t,-e,2,-n),JSM.AddVertexToBody(t,-e,-2,+n),JSM.AddVertexToBody(t,-e,-2,-n),JSM.AddVertexToBody(t,+n,+e,2),JSM.AddVertexToBody(t,+n,+e,-2),JSM.AddVertexToBody(t,+n,-e,2),JSM.AddVertexToBody(t,-n,+e,2),JSM.AddVertexToBody(t,+n,-e,-2),JSM.AddVertexToBody(t,-n,+e,-2),JSM.AddVertexToBody(t,-n,-e,2),JSM.AddVertexToBody(t,-n,-e,-2),JSM.AddVertexToBody(t,2,+n,+e),JSM.AddVertexToBody(t,2,+n,-e),JSM.AddVertexToBody(t,2,-n,+e),JSM.AddVertexToBody(t,-2,+n,+e),JSM.AddVertexToBody(t,2,-n,-e),JSM.AddVertexToBody(t,-2,+n,-e),JSM.AddVertexToBody(t,-2,-n,+e),JSM.AddVertexToBody(t,-2,-n,-e),JSM.AddPolygonToBody(t,[0,12,15]),JSM.AddPolygonToBody(t,[1,17,13]),JSM.AddPolygonToBody(t,[2,18,14]),JSM.AddPolygonToBody(t,[3,16,19]),JSM.AddPolygonToBody(t,[4,20,22]),JSM.AddPolygonToBody(t,[5,26,23]),JSM.AddPolygonToBody(t,[6,24,21]),JSM.AddPolygonToBody(t,[7,25,27]),JSM.AddPolygonToBody(t,[8,28,29]),JSM.AddPolygonToBody(t,[9,32,30]),JSM.AddPolygonToBody(t,[10,33,31]),JSM.AddPolygonToBody(t,[11,34,35]),JSM.AddPolygonToBody(t,[36,44,52]),JSM.AddPolygonToBody(t,[37,53,45]),JSM.AddPolygonToBody(t,[38,54,46]),JSM.AddPolygonToBody(t,[39,55,47]),JSM.AddPolygonToBody(t,[40,48,56]),JSM.AddPolygonToBody(t,[41,49,57]),JSM.AddPolygonToBody(t,[42,50,58]),JSM.AddPolygonToBody(t,[43,59,51]),JSM.AddPolygonToBody(t,[0,2,14,38,46,22,20,44,36,12]),JSM.AddPolygonToBody(t,[0,15,39,47,23,26,50,42,18,2]),JSM.AddPolygonToBody(t,[1,3,19,43,51,27,25,49,41,17]),JSM.AddPolygonToBody(t,[1,13,37,45,21,24,48,40,16,3]),JSM.AddPolygonToBody(t,[4,6,21,45,53,29,28,52,44,20]),JSM.AddPolygonToBody(t,[4,22,46,54,30,32,56,48,24,6]),JSM.AddPolygonToBody(t,[5,7,27,51,59,35,34,58,50,26]),JSM.AddPolygonToBody(t,[5,23,47,55,31,33,57,49,25,7]),JSM.AddPolygonToBody(t,[8,10,31,55,39,15,12,36,52,28]),JSM.AddPolygonToBody(t,[8,29,53,37,13,17,41,57,33,10]),JSM.AddPolygonToBody(t,[9,11,35,59,43,19,16,40,56,32]),JSM.AddPolygonToBody(t,[9,30,54,38,14,18,42,58,34,11]),t},JSM.GenerateTruncatedIcosahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=3*e,r=1+2*e,o=2+e,n=2*e;return JSM.AddVertexToBody(t,0,1,+i),JSM.AddVertexToBody(t,0,1,-i),JSM.AddVertexToBody(t,0,-1,+i),JSM.AddVertexToBody(t,0,-1,-i),JSM.AddVertexToBody(t,1,+i,0),JSM.AddVertexToBody(t,1,-i,0),JSM.AddVertexToBody(t,-1,+i,0),JSM.AddVertexToBody(t,-1,-i,0),JSM.AddVertexToBody(t,+i,0,1),JSM.AddVertexToBody(t,-i,0,1),JSM.AddVertexToBody(t,+i,0,-1),JSM.AddVertexToBody(t,-i,0,-1),JSM.AddVertexToBody(t,2,+r,+e),JSM.AddVertexToBody(t,2,+r,-e),JSM.AddVertexToBody(t,2,-r,+e),JSM.AddVertexToBody(t,-2,+r,+e),JSM.AddVertexToBody(t,2,-r,-e),JSM.AddVertexToBody(t,-2,+r,-e),JSM.AddVertexToBody(t,-2,-r,+e),JSM.AddVertexToBody(t,-2,-r,-e),JSM.AddVertexToBody(t,+r,+e,2),JSM.AddVertexToBody(t,+r,-e,2),JSM.AddVertexToBody(t,-r,+e,2),JSM.AddVertexToBody(t,+r,+e,-2),JSM.AddVertexToBody(t,-r,-e,2),JSM.AddVertexToBody(t,+r,-e,-2),JSM.AddVertexToBody(t,-r,+e,-2),JSM.AddVertexToBody(t,-r,-e,-2),JSM.AddVertexToBody(t,+e,2,+r),JSM.AddVertexToBody(t,-e,2,+r),JSM.AddVertexToBody(t,+e,2,-r),JSM.AddVertexToBody(t,+e,-2,+r),JSM.AddVertexToBody(t,-e,2,-r),JSM.AddVertexToBody(t,-e,-2,+r),JSM.AddVertexToBody(t,+e,-2,-r),JSM.AddVertexToBody(t,-e,-2,-r),JSM.AddVertexToBody(t,1,+o,+n),JSM.AddVertexToBody(t,1,+o,-n),JSM.AddVertexToBody(t,1,-o,+n),JSM.AddVertexToBody(t,-1,+o,+n),JSM.AddVertexToBody(t,1,-o,-n),JSM.AddVertexToBody(t,-1,+o,-n),JSM.AddVertexToBody(t,-1,-o,+n),JSM.AddVertexToBody(t,-1,-o,-n),JSM.AddVertexToBody(t,+o,+n,1),JSM.AddVertexToBody(t,+o,-n,1),JSM.AddVertexToBody(t,-o,+n,1),JSM.AddVertexToBody(t,+o,+n,-1),JSM.AddVertexToBody(t,-o,-n,1),JSM.AddVertexToBody(t,+o,-n,-1),JSM.AddVertexToBody(t,-o,+n,-1),JSM.AddVertexToBody(t,-o,-n,-1),JSM.AddVertexToBody(t,+n,1,+o),JSM.AddVertexToBody(t,-n,1,+o),JSM.AddVertexToBody(t,+n,1,-o),JSM.AddVertexToBody(t,+n,-1,+o),JSM.AddVertexToBody(t,-n,1,-o),JSM.AddVertexToBody(t,-n,-1,+o),JSM.AddVertexToBody(t,+n,-1,-o),JSM.AddVertexToBody(t,-n,-1,-o),JSM.AddPolygonToBody(t,[0,28,36,39,29]),JSM.AddPolygonToBody(t,[1,32,41,37,30]),JSM.AddPolygonToBody(t,[2,33,42,38,31]),JSM.AddPolygonToBody(t,[3,34,40,43,35]),JSM.AddPolygonToBody(t,[4,12,44,47,13]),JSM.AddPolygonToBody(t,[5,16,49,45,14]),JSM.AddPolygonToBody(t,[6,17,50,46,15]),JSM.AddPolygonToBody(t,[7,18,48,51,19]),JSM.AddPolygonToBody(t,[8,20,52,55,21]),JSM.AddPolygonToBody(t,[9,24,57,53,22]),JSM.AddPolygonToBody(t,[10,25,58,54,23]),JSM.AddPolygonToBody(t,[11,26,56,59,27]),JSM.AddPolygonToBody(t,[0,2,31,55,52,28]),JSM.AddPolygonToBody(t,[0,29,53,57,33,2]),JSM.AddPolygonToBody(t,[1,3,35,59,56,32]),JSM.AddPolygonToBody(t,[1,30,54,58,34,3]),JSM.AddPolygonToBody(t,[4,6,15,39,36,12]),JSM.AddPolygonToBody(t,[4,13,37,41,17,6]),JSM.AddPolygonToBody(t,[5,7,19,43,40,16]),JSM.AddPolygonToBody(t,[5,14,38,42,18,7]),JSM.AddPolygonToBody(t,[8,10,23,47,44,20]),JSM.AddPolygonToBody(t,[8,21,45,49,25,10]),JSM.AddPolygonToBody(t,[9,11,27,51,48,24]),JSM.AddPolygonToBody(t,[9,22,46,50,26,11]),JSM.AddPolygonToBody(t,[12,36,28,52,20,44]),JSM.AddPolygonToBody(t,[13,47,23,54,30,37]),JSM.AddPolygonToBody(t,[14,45,21,55,31,38]),JSM.AddPolygonToBody(t,[15,46,22,53,29,39]),JSM.AddPolygonToBody(t,[16,40,34,58,25,49]),JSM.AddPolygonToBody(t,[17,41,32,56,26,50]),JSM.AddPolygonToBody(t,[18,42,33,57,24,48]),JSM.AddPolygonToBody(t,[19,51,27,59,35,43]),t},JSM.GenerateRhombicosidodecahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=Math.pow(e,2),r=Math.pow(e,3),o=2*e,n=2+e;return JSM.AddVertexToBody(t,1,1,+r),JSM.AddVertexToBody(t,1,1,-r),JSM.AddVertexToBody(t,1,-1,+r),JSM.AddVertexToBody(t,-1,1,+r),JSM.AddVertexToBody(t,1,-1,-r),JSM.AddVertexToBody(t,-1,1,-r),JSM.AddVertexToBody(t,-1,-1,+r),JSM.AddVertexToBody(t,-1,-1,-r),JSM.AddVertexToBody(t,+r,1,1),JSM.AddVertexToBody(t,+r,1,-1),JSM.AddVertexToBody(t,+r,-1,1),JSM.AddVertexToBody(t,-r,1,1),JSM.AddVertexToBody(t,+r,-1,-1),JSM.AddVertexToBody(t,-r,1,-1),JSM.AddVertexToBody(t,-r,-1,1),JSM.AddVertexToBody(t,-r,-1,-1),JSM.AddVertexToBody(t,1,+r,1),JSM.AddVertexToBody(t,1,+r,-1),JSM.AddVertexToBody(t,1,-r,1),JSM.AddVertexToBody(t,-1,+r,1),JSM.AddVertexToBody(t,1,-r,-1),JSM.AddVertexToBody(t,-1,+r,-1),JSM.AddVertexToBody(t,-1,-r,1),JSM.AddVertexToBody(t,-1,-r,-1),JSM.AddVertexToBody(t,+i,+e,+o),JSM.AddVertexToBody(t,+i,+e,-o),JSM.AddVertexToBody(t,+i,-e,+o),JSM.AddVertexToBody(t,-i,+e,+o),JSM.AddVertexToBody(t,+i,-e,-o),JSM.AddVertexToBody(t,-i,+e,-o),JSM.AddVertexToBody(t,-i,-e,+o),JSM.AddVertexToBody(t,-i,-e,-o),JSM.AddVertexToBody(t,+o,+i,+e),JSM.AddVertexToBody(t,+o,+i,-e),JSM.AddVertexToBody(t,+o,-i,+e),JSM.AddVertexToBody(t,-o,+i,+e),JSM.AddVertexToBody(t,+o,-i,-e),JSM.AddVertexToBody(t,-o,+i,-e),JSM.AddVertexToBody(t,-o,-i,+e),JSM.AddVertexToBody(t,-o,-i,-e),JSM.AddVertexToBody(t,+e,+o,+i),JSM.AddVertexToBody(t,+e,+o,-i),JSM.AddVertexToBody(t,+e,-o,+i),JSM.AddVertexToBody(t,-e,+o,+i),JSM.AddVertexToBody(t,+e,-o,-i),JSM.AddVertexToBody(t,-e,+o,-i),JSM.AddVertexToBody(t,-e,-o,+i),JSM.AddVertexToBody(t,-e,-o,-i),JSM.AddVertexToBody(t,+n,0,+i),JSM.AddVertexToBody(t,+n,0,-i),JSM.AddVertexToBody(t,-n,0,+i),JSM.AddVertexToBody(t,-n,0,-i),JSM.AddVertexToBody(t,+i,+n,0),JSM.AddVertexToBody(t,-i,+n,0),JSM.AddVertexToBody(t,+i,-n,0),JSM.AddVertexToBody(t,-i,-n,0),JSM.AddVertexToBody(t,0,+i,+n),JSM.AddVertexToBody(t,0,-i,+n),JSM.AddVertexToBody(t,0,+i,-n),JSM.AddVertexToBody(t,0,-i,-n),JSM.AddPolygonToBody(t,[0,56,3]),JSM.AddPolygonToBody(t,[1,5,58]),JSM.AddPolygonToBody(t,[2,6,57]),JSM.AddPolygonToBody(t,[4,59,7]),JSM.AddPolygonToBody(t,[8,48,10]),JSM.AddPolygonToBody(t,[9,12,49]),JSM.AddPolygonToBody(t,[11,14,50]),JSM.AddPolygonToBody(t,[13,51,15]),JSM.AddPolygonToBody(t,[16,52,17]),JSM.AddPolygonToBody(t,[18,20,54]),JSM.AddPolygonToBody(t,[19,21,53]),JSM.AddPolygonToBody(t,[22,55,23]),JSM.AddPolygonToBody(t,[24,32,40]),JSM.AddPolygonToBody(t,[25,41,33]),JSM.AddPolygonToBody(t,[26,42,34]),JSM.AddPolygonToBody(t,[27,43,35]),JSM.AddPolygonToBody(t,[28,36,44]),JSM.AddPolygonToBody(t,[29,37,45]),JSM.AddPolygonToBody(t,[30,38,46]),JSM.AddPolygonToBody(t,[31,47,39]),JSM.AddPolygonToBody(t,[0,3,6,2]),JSM.AddPolygonToBody(t,[0,24,40,56]),JSM.AddPolygonToBody(t,[1,4,7,5]),JSM.AddPolygonToBody(t,[1,58,41,25]),JSM.AddPolygonToBody(t,[2,57,42,26]),JSM.AddPolygonToBody(t,[3,56,43,27]),JSM.AddPolygonToBody(t,[4,28,44,59]),JSM.AddPolygonToBody(t,[5,29,45,58]),JSM.AddPolygonToBody(t,[6,30,46,57]),JSM.AddPolygonToBody(t,[7,59,47,31]),JSM.AddPolygonToBody(t,[8,10,12,9]),JSM.AddPolygonToBody(t,[8,32,24,48]),JSM.AddPolygonToBody(t,[9,49,25,33]),JSM.AddPolygonToBody(t,[10,48,26,34]),JSM.AddPolygonToBody(t,[11,13,15,14]),JSM.AddPolygonToBody(t,[11,50,27,35]),JSM.AddPolygonToBody(t,[12,36,28,49]),JSM.AddPolygonToBody(t,[13,37,29,51]),JSM.AddPolygonToBody(t,[14,38,30,50]),JSM.AddPolygonToBody(t,[15,51,31,39]),JSM.AddPolygonToBody(t,[16,17,21,19]),JSM.AddPolygonToBody(t,[16,40,32,52]),JSM.AddPolygonToBody(t,[17,52,33,41]),JSM.AddPolygonToBody(t,[18,22,23,20]),JSM.AddPolygonToBody(t,[18,54,34,42]),JSM.AddPolygonToBody(t,[19,53,35,43]),JSM.AddPolygonToBody(t,[20,44,36,54]),JSM.AddPolygonToBody(t,[21,45,37,53]),JSM.AddPolygonToBody(t,[22,46,38,55]),JSM.AddPolygonToBody(t,[23,55,39,47]),JSM.AddPolygonToBody(t,[0,2,26,48,24]),JSM.AddPolygonToBody(t,[1,25,49,28,4]),JSM.AddPolygonToBody(t,[3,27,50,30,6]),JSM.AddPolygonToBody(t,[5,7,31,51,29]),JSM.AddPolygonToBody(t,[8,9,33,52,32]),JSM.AddPolygonToBody(t,[10,34,54,36,12]),JSM.AddPolygonToBody(t,[11,35,53,37,13]),JSM.AddPolygonToBody(t,[14,15,39,55,38]),JSM.AddPolygonToBody(t,[16,19,43,56,40]),JSM.AddPolygonToBody(t,[17,41,58,45,21]),JSM.AddPolygonToBody(t,[18,42,57,46,22]),JSM.AddPolygonToBody(t,[20,23,47,59,44]),t},JSM.GenerateTruncatedIcosidodecahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=1/e,r=3+e,o=2/e,n=1+2*e,a=Math.pow(e,2),s=-1+3*e,l=-1+2*e,c=2+e,h=2*e;return JSM.AddVertexToBody(t,+i,+i,+r),JSM.AddVertexToBody(t,+i,+i,-r),JSM.AddVertexToBody(t,+i,-i,+r),JSM.AddVertexToBody(t,-i,+i,+r),JSM.AddVertexToBody(t,+i,-i,-r),JSM.AddVertexToBody(t,-i,+i,-r),JSM.AddVertexToBody(t,-i,-i,+r),JSM.AddVertexToBody(t,-i,-i,-r),JSM.AddVertexToBody(t,+i,+r,+i),JSM.AddVertexToBody(t,+i,-r,+i),JSM.AddVertexToBody(t,-i,+r,+i),JSM.AddVertexToBody(t,+i,+r,-i),JSM.AddVertexToBody(t,-i,-r,+i),JSM.AddVertexToBody(t,+i,-r,-i),JSM.AddVertexToBody(t,-i,+r,-i),JSM.AddVertexToBody(t,-i,-r,-i),JSM.AddVertexToBody(t,+r,+i,+i),JSM.AddVertexToBody(t,-r,+i,+i),JSM.AddVertexToBody(t,+r,+i,-i),JSM.AddVertexToBody(t,+r,-i,+i),JSM.AddVertexToBody(t,-r,+i,-i),JSM.AddVertexToBody(t,-r,-i,+i),JSM.AddVertexToBody(t,+r,-i,-i),JSM.AddVertexToBody(t,-r,-i,-i),JSM.AddVertexToBody(t,+o,+e,+n),JSM.AddVertexToBody(t,+o,+e,-n),JSM.AddVertexToBody(t,+o,-e,+n),JSM.AddVertexToBody(t,-o,+e,+n),JSM.AddVertexToBody(t,+o,-e,-n),JSM.AddVertexToBody(t,-o,+e,-n),JSM.AddVertexToBody(t,-o,-e,+n),JSM.AddVertexToBody(t,-o,-e,-n),JSM.AddVertexToBody(t,+e,+n,+o),JSM.AddVertexToBody(t,+e,-n,+o),JSM.AddVertexToBody(t,-e,+n,+o),JSM.AddVertexToBody(t,+e,+n,-o),JSM.AddVertexToBody(t,-e,-n,+o),JSM.AddVertexToBody(t,+e,-n,-o),JSM.AddVertexToBody(t,-e,+n,-o),JSM.AddVertexToBody(t,-e,-n,-o),JSM.AddVertexToBody(t,+n,+o,+e),JSM.AddVertexToBody(t,-n,+o,+e),JSM.AddVertexToBody(t,+n,+o,-e),JSM.AddVertexToBody(t,+n,-o,+e),JSM.AddVertexToBody(t,-n,+o,-e),JSM.AddVertexToBody(t,-n,-o,+e),JSM.AddVertexToBody(t,+n,-o,-e),JSM.AddVertexToBody(t,-n,-o,-e),JSM.AddVertexToBody(t,+i,+a,+s),JSM.AddVertexToBody(t,+i,+a,-s),JSM.AddVertexToBody(t,+i,-a,+s),JSM.AddVertexToBody(t,-i,+a,+s),JSM.AddVertexToBody(t,+i,-a,-s),JSM.AddVertexToBody(t,-i,+a,-s),JSM.AddVertexToBody(t,-i,-a,+s),JSM.AddVertexToBody(t,-i,-a,-s),JSM.AddVertexToBody(t,+a,+s,+i),JSM.AddVertexToBody(t,+a,-s,+i),JSM.AddVertexToBody(t,-a,+s,+i),JSM.AddVertexToBody(t,+a,+s,-i),JSM.AddVertexToBody(t,-a,-s,+i),JSM.AddVertexToBody(t,+a,-s,-i),JSM.AddVertexToBody(t,-a,+s,-i),JSM.AddVertexToBody(t,-a,-s,-i),JSM.AddVertexToBody(t,+s,+i,+a),JSM.AddVertexToBody(t,-s,+i,+a),JSM.AddVertexToBody(t,+s,+i,-a),JSM.AddVertexToBody(t,+s,-i,+a),JSM.AddVertexToBody(t,-s,+i,-a),JSM.AddVertexToBody(t,-s,-i,+a),JSM.AddVertexToBody(t,+s,-i,-a),JSM.AddVertexToBody(t,-s,-i,-a),JSM.AddVertexToBody(t,+l,2,+c),JSM.AddVertexToBody(t,+l,2,-c),JSM.AddVertexToBody(t,+l,-2,+c),JSM.AddVertexToBody(t,-l,2,+c),JSM.AddVertexToBody(t,+l,-2,-c),JSM.AddVertexToBody(t,-l,2,-c),JSM.AddVertexToBody(t,-l,-2,+c),JSM.AddVertexToBody(t,-l,-2,-c),JSM.AddVertexToBody(t,2,+c,+l),JSM.AddVertexToBody(t,2,-c,+l),JSM.AddVertexToBody(t,-2,+c,+l),JSM.AddVertexToBody(t,2,+c,-l),JSM.AddVertexToBody(t,-2,-c,+l),JSM.AddVertexToBody(t,2,-c,-l),JSM.AddVertexToBody(t,-2,+c,-l),JSM.AddVertexToBody(t,-2,-c,-l),JSM.AddVertexToBody(t,+c,+l,2),JSM.AddVertexToBody(t,-c,+l,2),JSM.AddVertexToBody(t,+c,+l,-2),JSM.AddVertexToBody(t,+c,-l,2),JSM.AddVertexToBody(t,-c,+l,-2),JSM.AddVertexToBody(t,-c,-l,2),JSM.AddVertexToBody(t,+c,-l,-2),JSM.AddVertexToBody(t,-c,-l,-2),JSM.AddVertexToBody(t,+e,3,+h),JSM.AddVertexToBody(t,+e,3,-h),JSM.AddVertexToBody(t,+e,-3,+h),JSM.AddVertexToBody(t,-e,3,+h),JSM.AddVertexToBody(t,+e,-3,-h),JSM.AddVertexToBody(t,-e,3,-h),JSM.AddVertexToBody(t,-e,-3,+h),JSM.AddVertexToBody(t,-e,-3,-h),JSM.AddVertexToBody(t,3,+h,+e),JSM.AddVertexToBody(t,3,-h,+e),JSM.AddVertexToBody(t,-3,+h,+e),JSM.AddVertexToBody(t,3,+h,-e),JSM.AddVertexToBody(t,-3,-h,+e),JSM.AddVertexToBody(t,3,-h,-e),JSM.AddVertexToBody(t,-3,+h,-e),JSM.AddVertexToBody(t,-3,-h,-e),JSM.AddVertexToBody(t,+h,+e,3),JSM.AddVertexToBody(t,-h,+e,3),JSM.AddVertexToBody(t,+h,+e,-3),JSM.AddVertexToBody(t,+h,-e,3),JSM.AddVertexToBody(t,-h,+e,-3),JSM.AddVertexToBody(t,-h,-e,3),JSM.AddVertexToBody(t,+h,-e,-3),JSM.AddVertexToBody(t,-h,-e,-3),JSM.AddPolygonToBody(t,[0,3,6,2]),JSM.AddPolygonToBody(t,[1,4,7,5]),JSM.AddPolygonToBody(t,[8,11,14,10]),JSM.AddPolygonToBody(t,[9,12,15,13]),JSM.AddPolygonToBody(t,[16,19,22,18]),JSM.AddPolygonToBody(t,[17,20,23,21]),JSM.AddPolygonToBody(t,[24,72,96,48]),JSM.AddPolygonToBody(t,[25,49,97,73]),JSM.AddPolygonToBody(t,[26,50,98,74]),JSM.AddPolygonToBody(t,[27,51,99,75]),JSM.AddPolygonToBody(t,[28,76,100,52]),JSM.AddPolygonToBody(t,[29,77,101,53]),JSM.AddPolygonToBody(t,[30,78,102,54]),JSM.AddPolygonToBody(t,[31,55,103,79]),JSM.AddPolygonToBody(t,[32,80,104,56]),JSM.AddPolygonToBody(t,[33,57,105,81]),JSM.AddPolygonToBody(t,[34,58,106,82]),JSM.AddPolygonToBody(t,[35,59,107,83]),JSM.AddPolygonToBody(t,[36,84,108,60]),JSM.AddPolygonToBody(t,[37,85,109,61]),JSM.AddPolygonToBody(t,[38,86,110,62]),JSM.AddPolygonToBody(t,[39,63,111,87]),JSM.AddPolygonToBody(t,[40,88,112,64]),JSM.AddPolygonToBody(t,[41,65,113,89]),JSM.AddPolygonToBody(t,[42,66,114,90]),JSM.AddPolygonToBody(t,[43,67,115,91]),JSM.AddPolygonToBody(t,[44,92,116,68]),JSM.AddPolygonToBody(t,[45,93,117,69]),JSM.AddPolygonToBody(t,[46,94,118,70]),JSM.AddPolygonToBody(t,[47,71,119,95]),JSM.AddPolygonToBody(t,[0,24,48,51,27,3]),JSM.AddPolygonToBody(t,[1,5,29,53,49,25]),JSM.AddPolygonToBody(t,[2,6,30,54,50,26]),JSM.AddPolygonToBody(t,[4,28,52,55,31,7]),JSM.AddPolygonToBody(t,[8,32,56,59,35,11]),JSM.AddPolygonToBody(t,[9,13,37,61,57,33]),JSM.AddPolygonToBody(t,[10,14,38,62,58,34]),JSM.AddPolygonToBody(t,[12,36,60,63,39,15]),JSM.AddPolygonToBody(t,[16,40,64,67,43,19]),JSM.AddPolygonToBody(t,[17,21,45,69,65,41]),JSM.AddPolygonToBody(t,[18,22,46,70,66,42]),JSM.AddPolygonToBody(t,[20,44,68,71,47,23]),JSM.AddPolygonToBody(t,[72,112,88,104,80,96]),JSM.AddPolygonToBody(t,[73,97,83,107,90,114]),JSM.AddPolygonToBody(t,[74,98,81,105,91,115]),JSM.AddPolygonToBody(t,[75,99,82,106,89,113]),JSM.AddPolygonToBody(t,[76,118,94,109,85,100]),JSM.AddPolygonToBody(t,[78,117,93,108,84,102]),JSM.AddPolygonToBody(t,[79,103,87,111,95,119]),JSM.AddPolygonToBody(t,[86,101,77,116,92,110]),JSM.AddPolygonToBody(t,[0,2,26,74,115,67,64,112,72,24]),JSM.AddPolygonToBody(t,[1,25,73,114,66,70,118,76,28,4]),JSM.AddPolygonToBody(t,[3,27,75,113,65,69,117,78,30,6]),JSM.AddPolygonToBody(t,[5,7,31,79,119,71,68,116,77,29]),JSM.AddPolygonToBody(t,[8,10,34,82,99,51,48,96,80,32]),JSM.AddPolygonToBody(t,[9,33,81,98,50,54,102,84,36,12]),JSM.AddPolygonToBody(t,[11,35,83,97,49,53,101,86,38,14]),JSM.AddPolygonToBody(t,[13,15,39,87,103,55,52,100,85,37]),JSM.AddPolygonToBody(t,[16,18,42,90,107,59,56,104,88,40]),JSM.AddPolygonToBody(t,[17,41,89,106,58,62,110,92,44,20]),JSM.AddPolygonToBody(t,[19,43,91,105,57,61,109,94,46,22]),JSM.AddPolygonToBody(t,[21,23,47,95,111,63,60,108,93,45]),t
},JSM.GenerateSnubDodecahedron=function(){var t=new JSM.Body,e=(1+Math.sqrt(5))/2,i=Math.pow(e/2+.5*Math.sqrt(e-5/27),1/3)+Math.pow(e/2-.5*Math.sqrt(e-5/27),1/3),r=i-1/i,o=i*e+Math.pow(e,2)+e/i,i=2*r,n=2*o,a=r+o/e+e,s=-(r*e)+o+1/e,l=r/e+o*e-1,c=-(r/e)+o*e+1,h=-r+o/e-e,d=r*e+o-1/e,u=-(r/e)+o*e-1,p=r-o/e-e,f=r*e+o+1/e,_=r+o/e-e,m=r*e-o+1/e,e=r/e+o*e+1;return JSM.AddVertexToBody(t,+i,2,-n),JSM.AddVertexToBody(t,+i,-2,+n),JSM.AddVertexToBody(t,-i,2,+n),JSM.AddVertexToBody(t,-i,-2,-n),JSM.AddVertexToBody(t,2,-n,+i),JSM.AddVertexToBody(t,-2,+n,+i),JSM.AddVertexToBody(t,2,+n,-i),JSM.AddVertexToBody(t,-2,-n,-i),JSM.AddVertexToBody(t,-n,+i,2),JSM.AddVertexToBody(t,+n,+i,-2),JSM.AddVertexToBody(t,+n,-i,2),JSM.AddVertexToBody(t,-n,-i,-2),JSM.AddVertexToBody(t,+a,+s,-l),JSM.AddVertexToBody(t,+a,-s,+l),JSM.AddVertexToBody(t,-a,+s,+l),JSM.AddVertexToBody(t,-a,-s,-l),JSM.AddVertexToBody(t,+s,-l,+a),JSM.AddVertexToBody(t,-s,+l,+a),JSM.AddVertexToBody(t,+s,+l,-a),JSM.AddVertexToBody(t,-s,-l,-a),JSM.AddVertexToBody(t,-l,+a,+s),JSM.AddVertexToBody(t,+l,+a,-s),JSM.AddVertexToBody(t,+l,-a,+s),JSM.AddVertexToBody(t,-l,-a,-s),JSM.AddVertexToBody(t,+c,+h,-d),JSM.AddVertexToBody(t,+c,-h,+d),JSM.AddVertexToBody(t,-c,+h,+d),JSM.AddVertexToBody(t,-c,-h,-d),JSM.AddVertexToBody(t,+h,-d,+c),JSM.AddVertexToBody(t,-h,+d,+c),JSM.AddVertexToBody(t,+h,+d,-c),JSM.AddVertexToBody(t,-h,-d,-c),JSM.AddVertexToBody(t,-d,+c,+h),JSM.AddVertexToBody(t,+d,+c,-h),JSM.AddVertexToBody(t,+d,-c,+h),JSM.AddVertexToBody(t,-d,-c,-h),JSM.AddVertexToBody(t,+u,+p,-f),JSM.AddVertexToBody(t,+u,-p,+f),JSM.AddVertexToBody(t,-u,+p,+f),JSM.AddVertexToBody(t,-u,-p,-f),JSM.AddVertexToBody(t,+p,-f,+u),JSM.AddVertexToBody(t,-p,+f,+u),JSM.AddVertexToBody(t,+p,+f,-u),JSM.AddVertexToBody(t,-p,-f,-u),JSM.AddVertexToBody(t,-f,+u,+p),JSM.AddVertexToBody(t,+f,+u,-p),JSM.AddVertexToBody(t,+f,-u,+p),JSM.AddVertexToBody(t,-f,-u,-p),JSM.AddVertexToBody(t,+_,+m,-e),JSM.AddVertexToBody(t,+_,-m,+e),JSM.AddVertexToBody(t,-_,+m,+e),JSM.AddVertexToBody(t,-_,-m,-e),JSM.AddVertexToBody(t,+m,-e,+_),JSM.AddVertexToBody(t,-m,+e,+_),JSM.AddVertexToBody(t,+m,+e,-_),JSM.AddVertexToBody(t,-m,-e,-_),JSM.AddVertexToBody(t,-e,+_,+m),JSM.AddVertexToBody(t,+e,+_,-m),JSM.AddVertexToBody(t,+e,-_,+m),JSM.AddVertexToBody(t,-e,-_,-m),JSM.AddPolygonToBody(t,[0,3,51]),JSM.AddPolygonToBody(t,[0,30,12]),JSM.AddPolygonToBody(t,[0,48,3]),JSM.AddPolygonToBody(t,[0,51,30]),JSM.AddPolygonToBody(t,[1,2,50]),JSM.AddPolygonToBody(t,[1,28,13]),JSM.AddPolygonToBody(t,[1,49,2]),JSM.AddPolygonToBody(t,[1,50,28]),JSM.AddPolygonToBody(t,[2,29,14]),JSM.AddPolygonToBody(t,[2,49,29]),JSM.AddPolygonToBody(t,[3,31,15]),JSM.AddPolygonToBody(t,[3,48,31]),JSM.AddPolygonToBody(t,[4,7,55]),JSM.AddPolygonToBody(t,[4,34,16]),JSM.AddPolygonToBody(t,[4,52,7]),JSM.AddPolygonToBody(t,[4,55,34]),JSM.AddPolygonToBody(t,[5,6,54]),JSM.AddPolygonToBody(t,[5,32,17]),JSM.AddPolygonToBody(t,[5,53,6]),JSM.AddPolygonToBody(t,[5,54,32]),JSM.AddPolygonToBody(t,[6,33,18]),JSM.AddPolygonToBody(t,[6,53,33]),JSM.AddPolygonToBody(t,[7,35,19]),JSM.AddPolygonToBody(t,[7,52,35]),JSM.AddPolygonToBody(t,[8,11,59]),JSM.AddPolygonToBody(t,[8,26,20]),JSM.AddPolygonToBody(t,[8,56,11]),JSM.AddPolygonToBody(t,[8,59,26]),JSM.AddPolygonToBody(t,[9,10,58]),JSM.AddPolygonToBody(t,[9,24,21]),JSM.AddPolygonToBody(t,[9,57,10]),JSM.AddPolygonToBody(t,[9,58,24]),JSM.AddPolygonToBody(t,[10,25,22]),JSM.AddPolygonToBody(t,[10,57,25]),JSM.AddPolygonToBody(t,[11,27,23]),JSM.AddPolygonToBody(t,[11,56,27]),JSM.AddPolygonToBody(t,[12,18,21]),JSM.AddPolygonToBody(t,[12,21,24]),JSM.AddPolygonToBody(t,[12,30,18]),JSM.AddPolygonToBody(t,[13,16,22]),JSM.AddPolygonToBody(t,[13,22,25]),JSM.AddPolygonToBody(t,[13,28,16]),JSM.AddPolygonToBody(t,[14,17,20]),JSM.AddPolygonToBody(t,[14,20,26]),JSM.AddPolygonToBody(t,[14,29,17]),JSM.AddPolygonToBody(t,[15,19,23]),JSM.AddPolygonToBody(t,[15,23,27]),JSM.AddPolygonToBody(t,[15,31,19]),JSM.AddPolygonToBody(t,[16,34,22]),JSM.AddPolygonToBody(t,[17,32,20]),JSM.AddPolygonToBody(t,[18,33,21]),JSM.AddPolygonToBody(t,[19,35,23]),JSM.AddPolygonToBody(t,[24,58,36]),JSM.AddPolygonToBody(t,[25,57,37]),JSM.AddPolygonToBody(t,[26,59,38]),JSM.AddPolygonToBody(t,[27,56,39]),JSM.AddPolygonToBody(t,[28,50,40]),JSM.AddPolygonToBody(t,[29,49,41]),JSM.AddPolygonToBody(t,[30,51,42]),JSM.AddPolygonToBody(t,[31,48,43]),JSM.AddPolygonToBody(t,[32,54,44]),JSM.AddPolygonToBody(t,[33,53,45]),JSM.AddPolygonToBody(t,[34,55,46]),JSM.AddPolygonToBody(t,[35,52,47]),JSM.AddPolygonToBody(t,[36,43,48]),JSM.AddPolygonToBody(t,[36,46,43]),JSM.AddPolygonToBody(t,[36,58,46]),JSM.AddPolygonToBody(t,[37,41,49]),JSM.AddPolygonToBody(t,[37,45,41]),JSM.AddPolygonToBody(t,[37,57,45]),JSM.AddPolygonToBody(t,[38,40,50]),JSM.AddPolygonToBody(t,[38,47,40]),JSM.AddPolygonToBody(t,[38,59,47]),JSM.AddPolygonToBody(t,[39,42,51]),JSM.AddPolygonToBody(t,[39,44,42]),JSM.AddPolygonToBody(t,[39,56,44]),JSM.AddPolygonToBody(t,[40,47,52]),JSM.AddPolygonToBody(t,[41,45,53]),JSM.AddPolygonToBody(t,[42,44,54]),JSM.AddPolygonToBody(t,[43,46,55]),JSM.AddPolygonToBody(t,[0,12,24,36,48]),JSM.AddPolygonToBody(t,[1,13,25,37,49]),JSM.AddPolygonToBody(t,[2,14,26,38,50]),JSM.AddPolygonToBody(t,[3,15,27,39,51]),JSM.AddPolygonToBody(t,[4,16,28,40,52]),JSM.AddPolygonToBody(t,[5,17,29,41,53]),JSM.AddPolygonToBody(t,[6,18,30,42,54]),JSM.AddPolygonToBody(t,[7,19,31,43,55]),JSM.AddPolygonToBody(t,[8,20,32,44,56]),JSM.AddPolygonToBody(t,[9,21,33,45,57]),JSM.AddPolygonToBody(t,[10,22,34,46,58]),JSM.AddPolygonToBody(t,[11,23,35,47,59]),t},JSM.AddCumulatedPolygonToBody=function(t,e,i){var r,o=new JSM.Coord(0,0,0),n=new JSM.Vector(0,0,0),a=o,s=[];for(r=0;r<e.length;r++)s.push(t.GetVertexPosition(e[r]));for(r=JSM.CalculateCentroid(s),s=JSM.CalculateNormal(s),a.Set(r.x,r.y,r.z),n.Set(s.x,s.y,s.z),o=JSM.CoordOffset(o,n,i),i=t.VertexCount(),JSM.AddVertexToBody(t,o.x,o.y,o.z),o=e.length,n=0;o>n;n++)a=e[n],s=e[o-1>n?n+1:0],JSM.AddPolygonToBody(t,[a,s,i])},JSM.GenerateCumulatedTetrahedron=function(t){var e=new JSM.Body;return e.AddVertex(new JSM.BodyVertex(new JSM.Coord(1,1,1))),e.AddVertex(new JSM.BodyVertex(new JSM.Coord(-1,-1,1))),e.AddVertex(new JSM.BodyVertex(new JSM.Coord(-1,1,-1))),e.AddVertex(new JSM.BodyVertex(new JSM.Coord(1,-1,-1))),t*=2*Math.sqrt(2),JSM.AddCumulatedPolygonToBody(e,[0,1,3],t),JSM.AddCumulatedPolygonToBody(e,[0,2,1],t),JSM.AddCumulatedPolygonToBody(e,[0,3,2],t),JSM.AddCumulatedPolygonToBody(e,[1,2,3],t),e},JSM.GenerateCumulatedHexahedron=function(t){var e=new JSM.Body;return JSM.AddVertexToBody(e,1,1,1),JSM.AddVertexToBody(e,1,1,-1),JSM.AddVertexToBody(e,1,-1,1),JSM.AddVertexToBody(e,-1,1,1),JSM.AddVertexToBody(e,1,-1,-1),JSM.AddVertexToBody(e,-1,1,-1),JSM.AddVertexToBody(e,-1,-1,1),JSM.AddVertexToBody(e,-1,-1,-1),t*=2,JSM.AddCumulatedPolygonToBody(e,[0,1,5,3],t),JSM.AddCumulatedPolygonToBody(e,[0,2,4,1],t),JSM.AddCumulatedPolygonToBody(e,[0,3,6,2],t),JSM.AddCumulatedPolygonToBody(e,[1,4,7,5],t),JSM.AddCumulatedPolygonToBody(e,[2,6,7,4],t),JSM.AddCumulatedPolygonToBody(e,[3,5,7,6],t),e},JSM.GenerateCumulatedOctahedron=function(t){var e=new JSM.Body;return JSM.AddVertexToBody(e,1,0,0),JSM.AddVertexToBody(e,-1,0,0),JSM.AddVertexToBody(e,0,1,0),JSM.AddVertexToBody(e,0,-1,0),JSM.AddVertexToBody(e,0,0,1),JSM.AddVertexToBody(e,0,0,-1),t*=Math.sqrt(2),JSM.AddCumulatedPolygonToBody(e,[0,2,4],t),JSM.AddCumulatedPolygonToBody(e,[0,3,5],t),JSM.AddCumulatedPolygonToBody(e,[0,4,3],t),JSM.AddCumulatedPolygonToBody(e,[0,5,2],t),JSM.AddCumulatedPolygonToBody(e,[1,2,5],t),JSM.AddCumulatedPolygonToBody(e,[1,3,4],t),JSM.AddCumulatedPolygonToBody(e,[1,4,2],t),JSM.AddCumulatedPolygonToBody(e,[1,5,3],t),e},JSM.GenerateCumulatedDodecahedron=function(t){var e=new JSM.Body,i=(1+Math.sqrt(5))/2,r=1/i;return JSM.AddVertexToBody(e,1,1,1),JSM.AddVertexToBody(e,1,1,-1),JSM.AddVertexToBody(e,1,-1,1),JSM.AddVertexToBody(e,-1,1,1),JSM.AddVertexToBody(e,1,-1,-1),JSM.AddVertexToBody(e,-1,1,-1),JSM.AddVertexToBody(e,-1,-1,1),JSM.AddVertexToBody(e,-1,-1,-1),JSM.AddVertexToBody(e,0,+r,+i),JSM.AddVertexToBody(e,0,+r,-i),JSM.AddVertexToBody(e,0,-r,+i),JSM.AddVertexToBody(e,0,-r,-i),JSM.AddVertexToBody(e,+r,+i,0),JSM.AddVertexToBody(e,+r,-i,0),JSM.AddVertexToBody(e,-r,+i,0),JSM.AddVertexToBody(e,-r,-i,0),JSM.AddVertexToBody(e,+i,0,+r),JSM.AddVertexToBody(e,-i,0,+r),JSM.AddVertexToBody(e,+i,0,-r),JSM.AddVertexToBody(e,-i,0,-r),t*=Math.sqrt(5)-1,JSM.AddCumulatedPolygonToBody(e,[0,8,10,2,16],t),JSM.AddCumulatedPolygonToBody(e,[0,16,18,1,12],t),JSM.AddCumulatedPolygonToBody(e,[0,12,14,3,8],t),JSM.AddCumulatedPolygonToBody(e,[1,9,5,14,12],t),JSM.AddCumulatedPolygonToBody(e,[1,18,4,11,9],t),JSM.AddCumulatedPolygonToBody(e,[2,10,6,15,13],t),JSM.AddCumulatedPolygonToBody(e,[2,13,4,18,16],t),JSM.AddCumulatedPolygonToBody(e,[3,14,5,19,17],t),JSM.AddCumulatedPolygonToBody(e,[3,17,6,10,8],t),JSM.AddCumulatedPolygonToBody(e,[4,13,15,7,11],t),JSM.AddCumulatedPolygonToBody(e,[5,9,11,7,19],t),JSM.AddCumulatedPolygonToBody(e,[6,17,19,7,15],t),e},JSM.GenerateCumulatedIcosahedron=function(t){var e=new JSM.Body,i=(1+Math.sqrt(5))/2;return JSM.AddVertexToBody(e,0,1,+i),JSM.AddVertexToBody(e,0,1,-i),JSM.AddVertexToBody(e,0,-1,+i),JSM.AddVertexToBody(e,0,-1,-i),JSM.AddVertexToBody(e,1,+i,0),JSM.AddVertexToBody(e,1,-i,0),JSM.AddVertexToBody(e,-1,+i,0),JSM.AddVertexToBody(e,-1,-i,0),JSM.AddVertexToBody(e,+i,0,1),JSM.AddVertexToBody(e,-i,0,1),JSM.AddVertexToBody(e,+i,0,-1),JSM.AddVertexToBody(e,-i,0,-1),t*=2,JSM.AddCumulatedPolygonToBody(e,[0,2,8],t),JSM.AddCumulatedPolygonToBody(e,[0,4,6],t),JSM.AddCumulatedPolygonToBody(e,[0,6,9],t),JSM.AddCumulatedPolygonToBody(e,[0,8,4],t),JSM.AddCumulatedPolygonToBody(e,[0,9,2],t),JSM.AddCumulatedPolygonToBody(e,[1,3,11],t),JSM.AddCumulatedPolygonToBody(e,[1,4,10],t),JSM.AddCumulatedPolygonToBody(e,[1,6,4],t),JSM.AddCumulatedPolygonToBody(e,[1,10,3],t),JSM.AddCumulatedPolygonToBody(e,[1,11,6],t),JSM.AddCumulatedPolygonToBody(e,[2,5,8],t),JSM.AddCumulatedPolygonToBody(e,[2,7,5],t),JSM.AddCumulatedPolygonToBody(e,[2,9,7],t),JSM.AddCumulatedPolygonToBody(e,[3,5,7],t),JSM.AddCumulatedPolygonToBody(e,[3,7,11],t),JSM.AddCumulatedPolygonToBody(e,[3,10,5],t),JSM.AddCumulatedPolygonToBody(e,[4,8,10],t),JSM.AddCumulatedPolygonToBody(e,[6,11,9],t),JSM.AddCumulatedPolygonToBody(e,[5,10,8],t),JSM.AddCumulatedPolygonToBody(e,[7,9,11],t),e},JSM.GenerateTetrakisHexahedron=function(){return JSM.GenerateCumulatedHexahedron(.25)},JSM.GenerateRhombicDodecahedron=function(){return JSM.GenerateCumulatedHexahedron(.5)},JSM.GeneratePentakisDodecahedron=function(){var t=Math.sqrt((65+22*Math.sqrt(5))/5)/19;return JSM.GenerateCumulatedDodecahedron(t)},JSM.GenerateSmallStellatedDodecahedron=function(){var t=Math.sqrt((5+2*Math.sqrt(5))/5);return JSM.GenerateCumulatedDodecahedron(t)},JSM.GenerateGreatDodecahedron=function(){var t=Math.sqrt(3)*(Math.sqrt(5)-3)/6;return JSM.GenerateCumulatedIcosahedron(t)},JSM.GenerateSmallTriambicIcosahedron=function(){var t=Math.sqrt(15)/15;return JSM.GenerateCumulatedIcosahedron(t)},JSM.GenerateGreatStellatedDodecahedron=function(){var t=Math.sqrt(3)*(3+Math.sqrt(5))/6;return JSM.GenerateCumulatedIcosahedron(t)},JSM.GenerateSmallTriakisOctahedron=function(){var t=Math.sqrt(3)-2*Math.sqrt(6)/3;return JSM.GenerateCumulatedOctahedron(t)},JSM.GenerateStellaOctangula=function(){var t=Math.sqrt(6)/3;return JSM.GenerateCumulatedOctahedron(t)},JSM.GenerateTriakisTetrahedron=function(){var t=Math.sqrt(6)/15;return JSM.GenerateCumulatedTetrahedron(t)},JSM.LegoDimensions=function(){this.legoWidth=.78,this.legoSmallHeight=.32,this.legoLargeHeight=.96,this.legoWallWidth=.16,this.legoCylinderWidth=.5,this.legoCylinderHeight=.17,this.legoBottomSmallCylinderWidth=.3,this.legoBottomLargeCylinderWidth=.6,this.legoBottomLargeCylinderWallWidth=.1},JSM.GenerateLegoBrick=function(t,e,i,r,o,n,a){function s(t,e){var i,r;for(i=0;i<t.VertexCount();i++)r=t.GetVertex(i),r.position=JSM.CoordAdd(r.position,e)}var l=new JSM.LegoDimensions,c=new JSM.Vector(0,0,1),h=l.legoWidth,d=l.legoLargeHeight;i||(d=l.legoSmallHeight),i=l.legoWallWidth;var u=l.legoCylinderWidth,p=l.legoCylinderHeight,f=l.legoBottomSmallCylinderWidth,_=l.legoBottomLargeCylinderWidth,m=l.legoBottomLargeCylinderWallWidth,g=[];g.push(new JSM.Coord(0,0,0)),g.push(new JSM.Coord(h*t,0,0)),g.push(new JSM.Coord(h*t,h*e,0)),g.push(new JSM.Coord(0,h*e,0));var l=new JSM.Body,y=JSM.GeneratePrismShell(g,c,d-i,i,!0);for(l.Merge(y),y=0;4>y;y++)g[y].z=d-i;if(y=JSM.GeneratePrism(g,c,i,!0),l.Merge(y),r)for(y=0;t>y;y++)for(g=0;e>g;g++)r=new JSM.Coord(h*y+h/2,h*g+h/2,d+p/2),c=JSM.GenerateCylinder(u/2,p,n,!0,a),s(c,r),l.Merge(c);if(o)if(1===t&&e>1||1===e&&t>1)for(o=e,u=!0,t>e&&(o=t,u=!1),y=0;o-1>y;y++)r=u?new JSM.Coord(h/2,h*(y+1),(d-i)/2):new JSM.Coord(h*(y+1),h/2,(d-i)/2),c=JSM.GenerateCylinder(f/2,d-i,n,!0,a),s(c,r),l.Merge(c);else if(t>1&&e>1)for(y=0;t-1>y;y++)for(g=0;e-1>g;g++)r=new JSM.Coord(h*(y+1),h*(g+1),(d-i)/2),c=JSM.GenerateCylinderShell(_/2,d-i,m,n,!0,a),s(c,r),l.Merge(c);return l.SetCubicTextureProjection(new JSM.Coord(0,0,0),new JSM.Coord(1,0,0),new JSM.Coord(0,1,0),new JSM.Coord(0,0,1)),l},JSM.GenerateConvexHullBody=function(t){var e,i,r,o,n=new JSM.Body,a=JSM.ConvexHull3D(t),s={};for(e=0;e<a.length;e++)for(r=a[e],i=0;i<r.length;i++)o=r[i],o in s||(s[o]=n.VertexCount(),n.AddVertex(new JSM.BodyVertex(t[o])));for(e=0;e<a.length;e++){for(r=a[e],t=[],i=0;i<r.length;i++)o=r[i],t.push(s[o]);n.AddPolygon(new JSM.BodyPolygon(t))}return n},JSM.GenerateSuperShape=function(t,e,i,r,o,n,a,s,l,c,h,d,u,p){function f(t){var e=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z),i=Math.asin(t.z/e);return t=Math.atan2(t.y,t.x),[e,i,t]}function _(t,e,i,r,o,n,a){return e=Math.abs(Math.cos(r*t/4)/e),t=Math.abs(Math.sin(r*t/4)/i),Math.pow(Math.pow(e,n)+Math.pow(t,a),-1/o)}function m(u,p){var f=new JSM.Coord(0,0,0),m=_(u,a,s,l,c,h,d),g=_(p,t,e,i,r,o,n);return f.x=g*Math.cos(p)*m*Math.cos(u),f.y=g*Math.sin(p)*m*Math.cos(u),f.z=m*Math.sin(u),f}u=JSM.GenerateSphere(1,u,p);var g,y;for(p=0;p<u.VertexCount();p++)g=u.GetVertex(p),y=g.position,y=f(y),y=m(y[1],y[2]),g.SetPosition(y);return u},JSM.OrderPolygons=function(t,e,i){var r,o,n=[],a=[],s=[],l=[],c=[],h=[],d=[],u=t.PolygonCount();for(r=0;u>r;r++)for(h.push(r),d.push([]),o=0;u>o;o++)d[r].push(null);return function(){var r,o,h,d,u,p,f=JSM.VectorNormalize(JSM.CoordSub(i,e)),f=JSM.GetPlaneFromCoordAndDirection(e,f);for(r=0;r<t.PolygonCount();r++){for(u=JSM.Inf,p=-JSM.Inf,h=t.GetPolygon(r),o=0;o<h.VertexIndexCount();o++)d=t.GetVertexPosition(h.GetVertexIndex(o)),d=JSM.CoordPlaneDistance(d,f),JSM.IsLower(d,u)&&(u=d),JSM.IsGreater(d,p)&&(p=d);for(n.push(u),a.push(p),o=t.GetPolygon(r),h=new JSM.Coord(0,0,0),p=u=void 0,u=0;u<o.VertexIndexCount();u++)p=t.GetVertexPosition(o.GetVertexIndex(u)),h=JSM.CoordAdd(h,p);o=h=JSM.VectorMultiply(h,1/o.VertexIndexCount()),h=JSM.CoordPlaneDistance(o,f),s.push(o),l.push(h),h=JSM.CalculateBodyPolygonNormal(t,r),u=JSM.VectorNormalize(JSM.CoordSub(o,e)),u=JSM.VectorDot(h,u),JSM.IsGreaterOrEqual(u,0)&&(h=JSM.VectorMultiply(h,-1)),o=JSM.GetPlaneFromCoordAndDirection(o,h),c.push(o)}}(),function(){var t,e,i=h.length;for(t=0;i-1>t;t++)for(e=0;i-t-1>e;e++){var r;r=h[e];var o=h[e+1];if(r=JSM.IsLower(a[r],a[o])?!0:JSM.IsEqual(a[r],a[o])&&JSM.IsLower(l[r],l[o])?!0:!1){r=h;var o=e+1,n=r[e];r[e]=r[o],r[o]=n}}}(),function(){var e,i,r=h.length;for(e=0;r-1>e;e++)for(i=0;r-e-1>i;i++){var o;o=h[i];var s=h[i+1];if(null!==d[o][s])o=d[o][s];else{var l;if(l=JSM.IsLowerOrEqual(n[o],a[s])){var u=s;l=c[o];for(var p=c[u],f=void 0,_=void 0,m=!0,g=t.GetPolygon(o),f=0;f<g.VertexIndexCount();f++)if(_=t.GetVertexPosition(g.GetVertexIndex(f)),"CoordInFrontOfPlane"===JSM.CoordPlanePosition(_,p)){m=!1;break}if(m)l=!1;else{for(p=!0,u=t.GetPolygon(u),f=0;f<u.VertexIndexCount();f++)if(_=t.GetVertexPosition(u.GetVertexIndex(f)),"CoordAtBackOfPlane"===JSM.CoordPlanePosition(_,l)){p=!1;break}l=p?!1:!0}}o=d[o][s]=l?!0:!1}o&&(o=h,s=i+1,l=o[i],o[i]=o[s],o[s]=l)}}(),h},JSM.CanvasDrawer=function(t){this.canvas=t,this.context=this.canvas.getContext("2d")},JSM.CanvasDrawer.prototype.GetWidth=function(){return this.canvas.width},JSM.CanvasDrawer.prototype.GetHeight=function(){return this.canvas.height},JSM.CanvasDrawer.prototype.BeginPath=function(){this.context.beginPath()},JSM.CanvasDrawer.prototype.EndPath=function(){this.context.stroke()},JSM.CanvasDrawer.prototype.Clear=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle="#ffffff",this.context.fillRect(0,0,this.canvas.width,this.canvas.height)},JSM.CanvasDrawer.prototype.DrawLine=function(t,e){this.context.moveTo(t.x,this.canvas.height-t.y),this.context.lineTo(e.x,this.canvas.height-e.y)},JSM.CanvasDrawer.prototype.DrawPolygon=function(t,e){var i=this.context,r=JSM.HexColorToRGBComponents(e);i.fillStyle="rgb("+r[0]+","+r[1]+","+r[2]+")",this.context.beginPath();for(var o,i=0;i<t.VertexCount();i++)r=t.GetVertex(i),0===i?this.context.moveTo(r.x,this.canvas.height-r.y):this.context.lineTo(r.x,this.canvas.height-r.y);for(this.context.closePath(),this.context.fill(),this.BeginPath(),i=0;i<t.VertexCount();i++)r=t.GetVertex(i),o=t.GetVertex(i<t.VertexCount()-1?i+1:0),this.DrawLine(r,o);this.EndPath()},JSM.SVGDrawer=function(t){this.svgObject=t,this.svgNameSpace="http://www.w3.org/2000/svg"},JSM.SVGDrawer.prototype.GetWidth=function(){return this.svgObject.getAttribute("width")},JSM.SVGDrawer.prototype.GetHeight=function(){return this.svgObject.getAttribute("height")},JSM.SVGDrawer.prototype.BeginPath=function(){},JSM.SVGDrawer.prototype.EndPath=function(){},JSM.SVGDrawer.prototype.Clear=function(){for(;this.svgObject.lastChild;)this.svgObject.removeChild(this.svgObject.lastChild)},JSM.SVGDrawer.prototype.DrawLine=function(t,e){var i=document.createElementNS(this.svgNameSpace,"line"),r=this.GetHeight();i.setAttributeNS(null,"stroke","black"),i.setAttributeNS(null,"x1",t.x),i.setAttributeNS(null,"y1",r-t.y),i.setAttributeNS(null,"x2",e.x),i.setAttributeNS(null,"y2",r-e.y),this.svgObject.appendChild(i)},JSM.SVGDrawer.prototype.DrawPolygon=function(t,e){var i,r,o="",n=this.GetHeight();for(i=0;i<t.VertexCount();i++)r=t.GetVertex(i),o=o+r.x+", "+(n-r.y),i<t.VertexCount()-1&&(o+=", ");n=document.createElementNS(this.svgNameSpace,"polygon"),n.setAttributeNS(null,"points",o),n.setAttributeNS(null,"fill",function(t){return t=JSM.HexColorToRGBComponents(t),"rgb("+t[0]+","+t[1]+","+t[2]+")"}(e)),n.setAttributeNS(null,"fill-opacity","1.0"),n.setAttributeNS(null,"stroke","black"),this.svgObject.appendChild(n)},JSM.DrawProjectedBody=function(t,e,i,r,o,n){function a(e){var i,r,o,n=new JSM.Polygon2D;for(i=0;i<e.VertexIndexCount();i++)r=t.GetVertexPosition(e.GetVertexIndex(i)),o=JSM.Project(r,l,c,h,d*JSM.DegRad,u,p,f,_),r=o.x,o=o.y,n.AddVertex(r,o);return n}o&&n.Clear(),o=n.GetWidth();var s=n.GetHeight(),l=i.eye,c=i.center,h=i.up,d=i.fieldOfView,u=o/s,p=i.nearClippingPlane,f=i.farClippingPlane,_=[0,0,o,s];if("HiddenLinePainter"==r)for(s=JSM.OrderPolygons(t,l,c),(void 0===e||null===e)&&(e=new JSM.Materials),i=0;i<s.length;i++)o=t.GetPolygon(s[i]),r=a(o),o=o.GetMaterialIndex(),o=e.GetMaterial(o).diffuse,n.DrawPolygon(r,o);else if("HiddenLineFrontFacing"==r)for((void 0===e||null===e)&&(e=new JSM.Materials),i=0;i<t.PolygonCount();i++)o=t.GetPolygon(i),r=a(o),"CounterClockwise"==JSM.PolygonOrientation2D(r)&&(o=o.GetMaterialIndex(),o=e.GetMaterial(o).diffuse,n.DrawPolygon(r,o));else if("Wireframe"==r){var m,g,y;n.BeginPath();var b=[];for(i=0;i<t.PolygonCount();i++)for(g=m=null,o=t.GetPolygon(i),s=o.VertexIndexCount(),e=0;s>=e;e++)y=o.GetVertexIndex(e%s),r=t.GetVertexPosition(y),r=JSM.Project(r,l,c,h,d*JSM.DegRad,u,p,f,_),null!==m&&null!==g&&void 0===b[[g,y]]&&(n.DrawLine(m,r),b[[g,y]]=!0,b[[y,g]]=!0),g=y,m=r;n.EndPath()}return!0},JSM.CatmullClarkSubdivisionOneIteration=function(t){var e=new JSM.Body,i=JSM.CalculateAdjacencyInfo(t);!function(){var r,o;for(r=0;r<i.verts.length;r++)o=t.GetVertex(r).position,e.AddVertex(new JSM.BodyVertex(new JSM.Coord(o.x,o.y,o.z)))}();var r=[];!function(){var o,n,a,s,l;for(o=0;o<i.pgons.length;o++){for(a=i.pgons[o],l=new JSM.Coord(0,0,0),n=0;n<a.verts.length;n++)s=t.GetVertex(a.verts[n]).position,l=JSM.CoordAdd(l,s);l=JSM.VectorMultiply(l,1/a.verts.length),r.push(e.AddVertex(new JSM.BodyVertex(l)))}}();var o=[];return function(){var n,a,s,l,c;for(n=0;n<i.edges.length;n++){for(s=i.edges[n],l=new JSM.Coord(0,0,0),l=JSM.CoordAdd(l,JSM.VectorMultiply(t.GetVertex(s.vert1).position,.25)),l=JSM.CoordAdd(l,JSM.VectorMultiply(t.GetVertex(s.vert2).position,.25)),a=0;2>a;a++)c=0===a?s.pgon1:s.pgon2,-1===c&&(c=0===a?s.pgon2:s.pgon1),c=e.GetVertex(r[c]).position,l=JSM.CoordAdd(l,JSM.VectorMultiply(c,.25));o.push(e.AddVertex(new JSM.BodyVertex(l)))}}(),function(){var o,n,a,s,l=[];for(a=0;a<i.edges.length;a++)o=i.edges[a],n=JSM.MidCoord(t.GetVertex(o.vert1).position,t.GetVertex(o.vert2).position),l.push(n);var c,h,d;for(a=0;a<i.verts.length;a++){for(c=i.verts[a],d=new JSM.Coord(0,0,0),o=new JSM.Coord(0,0,0),h=1/c.pgons.length,s=0;s<c.pgons.length;s++)n=e.GetVertex(r[c.pgons[s]]).position,d=JSM.CoordAdd(d,JSM.VectorMultiply(n,h));for(h=1/c.edges.length,s=0;s<c.edges.length;s++)n=l[c.edges[s]],o=JSM.CoordAdd(o,JSM.VectorMultiply(n,h));c=c.edges.length,s=e.GetVertex(a).position,s.x=(d.x+2*o.x+(c-3)*s.x)/c,s.y=(d.y+2*o.y+(c-3)*s.y)/c,s.z=(d.z+2*o.z+(c-3)*s.z)/c}}(),function(){var n,a,s,l,c,h,d,u;for(h=0;h<i.pgons.length;h++)for(u=i.pgons[h],n=u.verts.length,d=0;n>d;d++)a=u.pedges[d],s=u.pedges[(d+1)%n],l=r[h],a=o[a.index],c=JSM.GetPolyEdgeStartVertex(s,i),s=o[s.index],l=new JSM.BodyPolygon([l,a,c,s]),s=t.GetPolygon(h),l.material=s.material,l.curved=s.curved,e.AddPolygon(l)}(),e},JSM.CatmullClarkSubdivision=function(t,e){var i,r=t;for(i=0;e>i;i++)r=JSM.CatmullClarkSubdivisionOneIteration(r);return r},JSM.SvgToModel=function(t,e,i){function r(t,e){function i(t,e,i,r,o,n){return t=t.createSVGPoint(),t.x=o,t.y=n,r=t.matrixTransform(r.getCTM()),t=new JSM.Coord2D(r.x,r.y),o=new JSM.Coord2D(o,n),n=e.VertexCount(i),n>0&&JSM.CoordIsEqual2DWithEps(e.GetVertex(i,n-1),t,.1)?o:(e.AddVertex(i,r.x,r.y),o)}function r(t,e,r,o,n,a,s){var l,c,h,d,u,p=document.createElementNS("http://www.w3.org/2000/svg","path"),f="M "+o.x+" "+o.y+" ";for(l=0;l<n.length;l++)c=n[l],c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS||c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL?(h=c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS?"C":"c",f+=h+" "+c.x1+" "+c.y1+" "+c.x2+" "+c.y2+" "+c.x+" "+c.y+" "):c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS||c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL?(h=c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS?"Q":"q",f+=h+" "+c.x1+" "+c.y1+" "+c.x+" "+c.y+" "):c.pathSegType==SVGPathSeg.PATHSEG_ARC_ABS||c.pathSegType==SVGPathSeg.PATHSEG_ARC_REL?(h=c.pathSegType==SVGPathSeg.PATHSEG_ARC_ABS?"A":"a",d=c.largeArcFlag?1:0,u=c.sweepFlag?1:0,f+=h+" "+c.r1+" "+c.r2+" "+c.angle+" "+d+" "+u+" "+c.x+" "+c.y+" "):(c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS||c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL)&&(h=c.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS?"S":"s",f+=h+" "+c.x2+" "+c.y2+" "+c.x+" "+c.y+" ");for(p.setAttributeNS(null,"d",f),f=p.getTotalLength(),n=0,r>0&&(n=parseInt(f/r,10)),3>n&&(n=3),r=f/n,f=1;n>=f;f++)o=p.getPointAtLength(f*r),o=i(t,a,s,e,o.x,o.y);return o}function o(t,e){var i=t.VertexCount(e);if(0!==i){var r=t.GetVertex(e,0),i=t.GetVertex(e,i-1);JSM.CoordIsEqual2DWithEps(r,i,.1)&&t.GetContour(e).vertices.pop()}}function n(t,e){return 0<t.VertexCount(e)?(o(t,e),t.AddContour(),e+1):e}var a,s=new JSM.ContourPolygon2D,l=document.createElementNS("http://www.w3.org/2000/svg","svg");if(t instanceof SVGPathElement){var c=new JSM.Coord2D(0,0),h=new JSM.Coord2D(0,0),d=e;t.hasAttribute("segmentlength")&&(d=parseFloat(t.getAttribute("segmentlength")));var u,p,f=0;for(a=0;a<t.pathSegList.numberOfItems;a++)if(u=t.pathSegList.getItem(a),u.pathSegType!=SVGPathSeg.PATHSEG_CLOSEPATH)if(u.pathSegType==SVGPathSeg.PATHSEG_MOVETO_ABS)f=n(s,f),c=i(l,s,f,t,u.x,u.y),h=c.Clone();else if(u.pathSegType==SVGPathSeg.PATHSEG_MOVETO_REL)f=n(s,f),c=i(l,s,f,t,h.x+u.x,h.y+u.y),h=c.Clone();else if(u.pathSegType==SVGPathSeg.PATHSEG_LINETO_ABS)c=i(l,s,f,t,u.x,u.y);else if(u.pathSegType==SVGPathSeg.PATHSEG_LINETO_REL)c=i(l,s,f,t,c.x+u.x,c.y+u.y);else if(u.pathSegType==SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS)c=i(l,s,f,t,u.x,c.y);else if(u.pathSegType==SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS)c=i(l,s,f,t,c.x,u.y);else if(u.pathSegType==SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL)c=i(l,s,f,t,c.x+u.x,c.y);else if(u.pathSegType==SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL)c=i(l,s,f,t,c.x,c.y+u.y);else if(u.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS||u.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL||u.pathSegType==SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS||u.pathSegType==SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL||u.pathSegType==SVGPathSeg.PATHSEG_ARC_ABS||u.pathSegType==SVGPathSeg.PATHSEG_ARC_REL||u.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS||u.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL){if(p=[],u.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS||u.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL){for(;a<t.pathSegList.numberOfItems&&(u=t.pathSegList.getItem(a),u.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS||u.pathSegType==SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL);a++)p.push(u);a-=1}else p.push(u);c=r(l,t,d,c,p,s,f)}o(s,f)}else if(t instanceof SVGRectElement)i(l,s,0,t,t.x.baseVal.value,t.y.baseVal.value),i(l,s,0,t,t.x.baseVal.value+t.width.baseVal.value,t.y.baseVal.value),i(l,s,0,t,t.x.baseVal.value+t.width.baseVal.value,t.y.baseVal.value+t.height.baseVal.value),i(l,s,0,t,t.x.baseVal.value,t.y.baseVal.value+t.height.baseVal.value);else if(t instanceof SVGPolygonElement)for(a=0;a<t.points.numberOfItems;a++)c=t.points.getItem(a),i(l,s,0,t,c.x,c.y);return s.color=function(t){for(var e="";null!==t&&void 0!==t&&0===e.length;)e=t.getAttribute("fill"),null===e&&(e=t.style.fill),t=t.parentElement;if(t=0,0===e.length)return t;if("#"==e[0])t=JSM.HexColorToRGBColor(e.substring(1));else{var i=e.indexOf("("),r=e.indexOf(")");if(-1==i||-1==r)return t;if(e=e.substring(i+1,r).split(", "),3!=e.length)return t;t=JSM.RGBComponentsToHexColor(e[0],e[1],e[2])}return t}(t),s}function o(t,e){function i(t,e){var i,r,o=[];if("Clockwise"==e)for(i=0;i<t.VertexCount();i++)r=t.GetVertex(i),o.push(new JSM.Coord(r.x,0,-r.y));else for(i=t.VertexCount()-1;i>=0;i--)r=t.GetVertex(i),o.push(new JSM.Coord(r.x,0,-r.y));return o}function r(t,e,i){t.push(null);var r;if("CounterClockwise"==i)for(i=0;i<e.VertexCount();i++)r=e.GetVertex(i),t.push(new JSM.Coord(r.x,0,-r.y));else for(i=e.VertexCount()-1;i>=0;i--)r=e.GetVertex(i),t.push(new JSM.Coord(r.x,0,-r.y))}var o,n,a=[],s=new JSM.Vector(0,-1,0);if(n=t.ContourCount(),1==n)n=JSM.PolygonOrientation2D(t.GetContour(0)),o=i(t.GetContour(0),n),o=JSM.GeneratePrism(o,s,e,!0),a.push(o);else if(n>1){n=JSM.PolygonOrientation2D(t.GetContour(0));var l,c=i(t.GetContour(0),n),h=!1;for(l=1;l<t.ContourCount();l++)o=JSM.PolygonOrientation2D(t.GetContour(l)),o==n?(o=i(t.GetContour(l),n),o=JSM.GeneratePrism(o,s,e,!0),a.push(o)):(r(c,t.GetContour(l),o),h=!0);o=h?JSM.GeneratePrismWithHole(c,s,e,!0):JSM.GeneratePrism(c,s,e,!0),a.push(o)}return s=new JSM.Material({ambient:t.color,diffuse:t.color}),[a,s]}var n=new JSM.Model,a=new JSM.Materials;i=function(t,e){function i(t,e,i){for(t=t.getElementsByTagName(e),e=0;e<t.length;e++)i.push(t[e])}var o=[],n=[];i(t,"path",n),i(t,"rect",n),i(t,"polygon",n);var a=e;t.hasAttribute("segmentlength")&&(a=parseFloat(t.getAttribute("segmentlength")));var s,l;for(s=0;s<n.length;s++)l=r(n[s],a),o.push(l);return o}(t,i),t.hasAttribute("modelheight")&&(e=parseFloat(t.getAttribute("modelheight")));var s,l,c;for(t=0;t<i.length;t++)for(s=o(i[t],e),l=s[0],s=s[1],a.AddMaterial(s),s=0;s<l.length;s++)c=l[s],c.SetPolygonsMaterialIndex(a.Count()-1),n.AddBody(c);return[n,a]},JSM.BSPPolygonUserData=function(){this.material=this.id=null},JSM.AddBodyToBSPTree=function(t,e,i){var r,o,n;for(r=0;r<t.PolygonCount();r++){n=new JSM.BSPPolygonUserData,n.id=i,o=t;var a=n,s=o.GetPolygon(r);a.material=s.GetMaterialIndex();for(var a=new JSM.Polygon,l=void 0,c=void 0,l=0;l<s.VertexIndexCount();l++)c=o.GetVertexPosition(s.GetVertexIndex(l)),a.AddVertex(c.x,c.y,c.z);o=a,e.AddPolygon(o,n)}},JSM.BooleanOperation=function(t,e,i){function r(t,e,i){function r(t){return e.AddVertex(new JSM.BodyVertex(t)),e.VertexCount()-1}var o,n=new JSM.BodyPolygon([]);if(i)for(i=t.VertexCount()-1;i>=0;i--)o=r(t.GetVertex(i)),n.AddVertexIndex(o);else for(i=0;i<t.VertexCount();i++)o=r(t.GetVertex(i)),n.AddVertexIndex(o);void 0!==t.userData&&n.SetMaterialIndex(t.userData.material),e.AddPolygon(n)}function o(t,e,i){var o;for(o=0;o<t.length;o++)r(t[o],e,i)}function n(t,e,i,r,o,n){function a(t,e){var i;for(i=0;i<t.length;i++)t[i].userData=e}var s,l;for(s=0;s<t.length;s++)l=t[s],JSM.ClipPolygonWithBSPTree(l.polygon,e,i,r,o,n),a(i,l.userData),a(r,l.userData),a(o,l.userData),a(n,l.userData)}var a=new JSM.BSPTree,s=new JSM.BSPTree;JSM.AddBodyToBSPTree(e,a,"a"),JSM.AddBodyToBSPTree(i,s,"b"),e=new JSM.Body,i=[];var l=[],c=[],h=[];n(a.GetNodes(),s,i,l,c,h);var d=[],u=[],p=[];return n(s.GetNodes(),a,d,u,p,[]),"Union"==t?(o(i,e,!1),o(c,e,!1),o(h,e,!1),o(d,e,!1),o(p,e,!1)):"Difference"==t?(o(i,e,!1),o(c,e,!1),o(u,e,!0)):"Intersection"==t&&(o(l,e,!1),o(h,e,!1),o(u,e,!1)),e},JSM.GenerateSurface=function(t,e,i,r,o,n,a,s){var l=new JSM.Body,c=t[0],h=e[0],d=(t[1]-t[0])/i,u=(e[1]-e[0])/r;return function(){var t,e,o,n;for(t=0;r>=t;t++)for(e=0;i>=e;e++)o=c+e*d,n=h+t*u,o=a(t,e,o,n,s),l.AddVertex(new JSM.BodyVertex(o))}(),function(){var t,e,a,s,c,h;for(e=0;r>e;e++)for(t=0;i>t;t++)a=e*(i+1)+t,s=a+1,c=a+i+1,h=c+1,o?(s=new JSM.BodyPolygon([a,s,h]),n&&s.SetCurveGroup(0),l.AddPolygon(s),s=new JSM.BodyPolygon([a,h,c])):s=new JSM.BodyPolygon([a,s,h,c]),n&&s.SetCurveGroup(0),l.AddPolygon(s)}(),l},JSM.SurfaceControlPoints=function(t,e){this.n=t,this.m=e,this.points=[];var i,r;for(i=0;i<=this.n;i++)for(this.points.push([]),r=0;r<=this.m;r++)this.points[i].push(new JSM.Coord(0,0,0))},JSM.SurfaceControlPoints.prototype.GetNValue=function(){return this.n},JSM.SurfaceControlPoints.prototype.GetMValue=function(){return this.m},JSM.SurfaceControlPoints.prototype.GetControlPoint=function(t,e){return this.points[t][e]},JSM.SurfaceControlPoints.prototype.InitPlanar=function(t,e){var i,r,o,n=t/this.n,a=e/this.m;for(i=0;i<=this.n;i++)for(r=0;r<=this.m;r++)o=this.points[i][r],o.x=i*n,o.y=r*a},JSM.GenerateBezierSurface=function(t,e,i,r){return JSM.GenerateSurface([0,1],[0,1],e,i,!1,r,function(t,e,i,r,o){function n(t,e,i){var r,o=1,n=JSM.Minimum(t,e-t);for(r=0;n>r;r++)o*=e-r,o/=r+1;return o*Math.pow(i,t)*Math.pow(1-i,e-t)}var a,s,l,c=o.GetNValue(),h=o.GetMValue();for(a=new JSM.Coord(0,0,0),t=0;c>=t;t++){for(s=new JSM.Coord(0,0,0),e=0;h>=e;e++)l=n(t,c,i)*n(e,h,r),l=JSM.VectorMultiply(o.GetControlPoint(t,e),l),s=JSM.CoordAdd(s,l);a=JSM.CoordAdd(a,s)}return a},t)},JSM.RenderMaterial=function(t,e,i,r,o,n,a){this.ambient=t,this.diffuse=e,this.specular=i,this.shininess=r,this.texture=o,this.textureWidth=n,this.textureHeight=a,this.textureImage=this.textureBuffer=null,this.textureLoaded=!1},JSM.RenderMaterial.prototype.HasTexture=function(){return null!==this.texture&&this.textureLoaded},JSM.RenderMaterial.prototype.Compile=function(t,e){if(null!==this.texture){var i=this;this.textureBuffer=t.createTexture(),this.textureImage=new Image,this.textureImage.src=this.texture,this.textureImage.onload=function(){t.bindTexture(t.TEXTURE_2D,i.textureBuffer),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i.textureImage),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null),i.textureLoaded=!0,void 0!==e&&null!==e&&e()}}},JSM.RenderGeometry=function(){this.transformation=new JSM.Transformation,this.uvBuffer=this.normalBuffer=this.vertexBuffer=this.uvArray=this.normalArray=this.vertexArray=this.material=null
},JSM.RenderGeometry.prototype.SetMaterial=function(t){this.material=t},JSM.RenderGeometry.prototype.GetMaterial=function(){return this.material},JSM.RenderGeometry.prototype.SetVertexArray=function(t){this.vertexArray=new Float32Array(t)},JSM.RenderGeometry.prototype.SetNormalArray=function(t){this.normalArray=new Float32Array(t)},JSM.RenderGeometry.prototype.SetUVArray=function(t){this.uvArray=new Float32Array(t)},JSM.RenderGeometry.prototype.GetTransformation=function(){return this.transformation},JSM.RenderGeometry.prototype.GetTransformationMatrix=function(){return this.transformation.matrix},JSM.RenderGeometry.prototype.SetTransformation=function(t){this.transformation=t},JSM.RenderGeometry.prototype.GetVertexBuffer=function(){return this.vertexBuffer},JSM.RenderGeometry.prototype.GetNormalBuffer=function(){return this.normalBuffer},JSM.RenderGeometry.prototype.GetUVBuffer=function(){return this.uvBuffer},JSM.RenderGeometry.prototype.VertexCount=function(){return parseInt(this.vertexArray.length/3,10)},JSM.RenderGeometry.prototype.GetVertex=function(t){return new JSM.Coord(this.vertexArray[3*t],this.vertexArray[3*t+1],this.vertexArray[3*t+2])},JSM.RenderGeometry.prototype.GetTransformedVertex=function(t){return t=this.GetVertex(t),this.transformation.Apply(t)},JSM.RenderGeometry.prototype.Compile=function(t,e){this.material.Compile(t,e),this.vertexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW),this.vertexBuffer.itemSize=3,this.vertexBuffer.numItems=parseInt(this.vertexArray.length/3,10),this.normalBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.normalBuffer),t.bufferData(t.ARRAY_BUFFER,this.normalArray,t.STATIC_DRAW),this.normalBuffer.itemSize=3,this.normalBuffer.numItems=parseInt(this.normalArray.length/3,10),null!==this.uvArray&&(this.uvBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW),this.uvBuffer.itemSize=2,this.uvBuffer.numItems=parseInt(this.uvArray.length/2,10))},JSM.Renderer=function(){this.geometries=this.light=this.camera=this.texShader=this.shader=this.context=this.canvas=null},JSM.Renderer.prototype.Init=function(t,e,i){return this.InitContext(t)&&this.InitView(e,i)&&this.InitShaders()&&this.InitBuffers()?!0:!1},JSM.Renderer.prototype.InitContext=function(t){return window.WebGLRenderingContext?(this.canvas=document.getElementById(t),null===this.canvas||void 0===this.canvas.getContext?!1:(this.context=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl"),null===this.context?!1:(this.context.viewportWidth=this.canvas.width,this.context.viewportHeight=this.canvas.height,this.context.viewport(0,0,this.context.viewportWidth,this.context.viewportHeight),this.context.clearColor(1,1,1,1),this.context.enable(this.context.DEPTH_TEST),this.context.depthFunc(this.context.LEQUAL),this.context.enable(this.context.BLEND),this.context.blendEquation(this.context.FUNC_ADD),this.context.blendFunc(this.context.SRC_ALPHA,this.context.ONE_MINUS_SRC_ALPHA),!0))):!1},JSM.Renderer.prototype.InitShaders=function(){function t(t,e,i){return i=t.createShader(i),t.shaderSource(i,e),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:null}function e(e,i,r){if(i=t(e,i,e.FRAGMENT_SHADER),r=t(e,r,e.VERTEX_SHADER),null===i||null===r)return null;var o=e.createProgram();return e.attachShader(o,r),e.attachShader(o,i),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)?o:null}function i(t){var e="";return t&&(e="#define USETEXTURE"),[e,"uniform highp vec3 uPolygonAmbientColor;\nuniform highp vec3 uPolygonDiffuseColor;\nuniform highp vec3 uPolygonSpecularColor;\nuniform highp float uPolygonShininess;\nuniform highp vec3 uLightAmbientColor;\nuniform highp vec3 uLightDiffuseColor;\nuniform highp vec3 uLightSpecularColor;\nvarying highp vec3 vVertex;\nvarying highp vec3 vNormal;\nvarying highp vec3 vLight;\n#ifdef USETEXTURE\nvarying highp vec2 vUV;\nuniform sampler2D uSampler;\n#endif\nvoid main (void) {\n	highp vec3 N = normalize (vNormal);\n	if (!gl_FrontFacing) {\n		N = -N;\n	}\n	highp vec3 L = normalize (-vLight);\n	highp vec3 E = normalize (-vVertex);\n	highp vec3 R = normalize (-reflect (L, N));\n	highp vec3 ambientComponent = uPolygonAmbientColor * uLightAmbientColor;\n	highp vec3 diffuseComponent = uPolygonDiffuseColor * uLightDiffuseColor * max (dot (N, L), 0.0);\n	highp vec3 specularComponent = uPolygonSpecularColor * uLightSpecularColor * pow (max (dot (R, E), 0.0), uPolygonShininess);\n#ifdef USETEXTURE\n	highp vec3 textureColor = texture2D (uSampler, vec2 (vUV.s, vUV.t)).xyz;\n	ambientComponent = textureColor * ambientComponent;\n	diffuseComponent = textureColor * diffuseComponent;\n	specularComponent = textureColor * specularComponent;\n#endif\n	ambientComponent = clamp (ambientComponent, 0.0, 1.0);\n	diffuseComponent = clamp (diffuseComponent, 0.0, 1.0);\n	specularComponent = clamp (specularComponent, 0.0, 1.0);\n	gl_FragColor = vec4 (ambientComponent + diffuseComponent + specularComponent, 1.0);\n}"].join("\n")}function r(t){var e="";return t&&(e="#define USETEXTURE"),[e,"attribute highp vec3 aVertexPosition;\nattribute highp vec3 aVertexNormal;\nuniform highp mat4 uViewMatrix;\nuniform highp mat4 uModelViewMatrix;\nuniform highp mat4 uProjectionMatrix;\nuniform highp vec3 uLightDirection;\nvarying highp vec3 vVertex;\nvarying highp vec3 vNormal;\nvarying highp vec3 vLight;\n#ifdef USETEXTURE\nattribute highp vec2 aVertexUV;\nvarying highp vec2 vUV;\n#endif\nvoid main (void) {\n	vVertex = vec3 (uModelViewMatrix * vec4 (aVertexPosition, 1.0));\n	vNormal = normalize (vec3 (uModelViewMatrix * vec4 (aVertexNormal, 0.0)));\n	vLight = normalize (vec3 (uViewMatrix * vec4 (uLightDirection, 0.0)));\n#ifdef USETEXTURE\n	vUV = aVertexUV;\n#endif\n	gl_Position = uProjectionMatrix * vec4 (vVertex, 1.0);\n}"].join("\n")}function o(t,e){e.vertexPositionAttribute=t.getAttribLocation(e,"aVertexPosition"),e.vertexNormalAttribute=t.getAttribLocation(e,"aVertexNormal"),e.lightAmbientColorUniform=t.getUniformLocation(e,"uLightAmbientColor"),e.lightDiffuseColorUniform=t.getUniformLocation(e,"uLightDiffuseColor"),e.lightSpecularColorUniform=t.getUniformLocation(e,"uLightSpecularColor"),e.lightDirectionUniform=t.getUniformLocation(e,"uLightDirection"),e.vMatrixUniform=t.getUniformLocation(e,"uViewMatrix"),e.mvMatrixUniform=t.getUniformLocation(e,"uModelViewMatrix"),e.pMatrixUniform=t.getUniformLocation(e,"uProjectionMatrix"),e.polygonAmbientColorUniform=t.getUniformLocation(e,"uPolygonAmbientColor"),e.polygonDiffuseColorUniform=t.getUniformLocation(e,"uPolygonDiffuseColor"),e.polygonSpecularColorUniform=t.getUniformLocation(e,"uPolygonSpecularColor"),e.polygonShininessUniform=t.getUniformLocation(e,"uPolygonShininess")}return this.shader=function(t){var n=i(!1),a=r(!1),n=e(t,n,a);return null===n?null:(t.useProgram(n),o(t,n),n)}(this.context),null===this.shader?!1:(this.texShader=function(t){var n=i(!0),a=r(!0),n=e(t,n,a);return null===n?null:(t.useProgram(n),o(t,n),n.vertexUVAttribute=t.getAttribLocation(n,"aVertexUV"),n.samplerUniform=t.getUniformLocation(n,"uSampler"),n)}(this.context),null===this.texShader?!1:!0)},JSM.Renderer.prototype.InitBuffers=function(){return this.geometries=[],!0},JSM.Renderer.prototype.InitView=function(t,e){return this.camera=JSM.ValueOrDefault(t,new JSM.Camera),this.camera?(this.light=JSM.ValueOrDefault(e,new JSM.Light),this.light?!0:!1):!1},JSM.Renderer.prototype.SetClearColor=function(t,e,i){this.context.clearColor(t,e,i,1)},JSM.Renderer.prototype.AddGeometries=function(t){var e,i;for(e=0;e<t.length;e++)i=t[e],i.Compile(this.context,this.Render.bind(this)),this.geometries.push(i)},JSM.Renderer.prototype.RemoveGeometries=function(){this.geometries=[]},JSM.Renderer.prototype.Resize=function(){this.context.viewportWidth=this.canvas.width,this.context.viewportHeight=this.canvas.height,this.context.viewport(0,0,this.context.viewportWidth,this.context.viewportHeight)},JSM.Renderer.prototype.Render=function(){this.context.clear(this.context.COLOR_BUFFER_BIT|this.context.DEPTH_BUFFER_BIT);var t=JSM.MatrixPerspective(this.camera.fieldOfView*JSM.DegRad,this.context.viewportWidth/this.context.viewportHeight,this.camera.nearClippingPlane,this.camera.farClippingPlane),e=JSM.MatrixView(this.camera.eye,this.camera.center,this.camera.up),i=JSM.MatrixIdentity(),r=JSM.HexColorToNormalizedRGBComponents(this.light.ambient),o=JSM.HexColorToNormalizedRGBComponents(this.light.diffuse),n=JSM.HexColorToNormalizedRGBComponents(this.light.specular);this.light.direction=JSM.VectorNormalize(JSM.CoordSub(this.camera.center,this.camera.eye));var a,s,l,c,h,d;for(a=0;a<this.geometries.length;a++)h=this.geometries[a],i=h.GetMaterial().HasTexture()?this.texShader:this.shader,d!=i&&(d=i,this.context.useProgram(d),this.context.uniformMatrix4fv(d.pMatrixUniform,!1,t),this.context.uniformMatrix4fv(d.vMatrixUniform,!1,e),this.context.uniform3f(d.lightDirectionUniform,this.light.direction.x,this.light.direction.y,this.light.direction.z),this.context.uniform3f(d.lightAmbientColorUniform,r[0],r[1],r[2]),this.context.uniform3f(d.lightDiffuseColorUniform,o[0],o[1],o[2]),this.context.uniform3f(d.lightSpecularColorUniform,n[0],n[1],n[2])),i=h.material.ambient,s=h.material.diffuse,l=h.material.specular,c=h.material.shininess,this.context.uniform3f(d.polygonAmbientColorUniform,i[0],i[1],i[2]),this.context.uniform3f(d.polygonDiffuseColorUniform,s[0],s[1],s[2]),this.context.uniform3f(d.polygonSpecularColorUniform,l[0],l[1],l[2]),this.context.uniform1f(d.polygonShininessUniform,c),d==this.texShader&&(i=h.GetUVBuffer(),this.context.activeTexture(this.context.TEXTURE0),this.context.bindTexture(this.context.TEXTURE_2D,h.material.textureBuffer),this.context.bindBuffer(this.context.ARRAY_BUFFER,i),this.context.vertexAttribPointer(d.vertexUVAttribute,i.itemSize,this.context.FLOAT,!1,0,0),this.context.enableVertexAttribArray(d.vertexUVAttribute),this.context.uniform1i(d.samplerUniform,0)),i=JSM.MatrixMultiply(h.GetTransformationMatrix(),e),this.context.uniformMatrix4fv(d.mvMatrixUniform,!1,i),i=h.GetVertexBuffer(),this.context.bindBuffer(this.context.ARRAY_BUFFER,i),this.context.enableVertexAttribArray(d.vertexPositionAttribute),this.context.vertexAttribPointer(d.vertexPositionAttribute,i.itemSize,this.context.FLOAT,!1,0,0),h=h.GetNormalBuffer(),this.context.bindBuffer(this.context.ARRAY_BUFFER,h),this.context.enableVertexAttribArray(d.vertexNormalAttribute),this.context.vertexAttribPointer(d.vertexNormalAttribute,h.itemSize,this.context.FLOAT,!1,0,0),this.context.drawArrays(this.context.TRIANGLES,0,i.numItems)},JSM.PointCloudRenderer=function(){this.pointSize=this.points=this.camera=this.shader=this.context=this.canvas=null},JSM.PointCloudRenderer.prototype.Init=function(t,e){return this.InitContext(t)&&this.InitShaders()&&this.InitBuffers()&&this.InitView(e)?!0:!1},JSM.PointCloudRenderer.prototype.InitContext=function(t){return window.WebGLRenderingContext?(this.canvas=document.getElementById(t),null===this.canvas||void 0===this.canvas.getContext?!1:(this.context=this.canvas.getContext("experimental-webgl"),null===this.context?!1:(this.context.viewportWidth=this.canvas.width,this.context.viewportHeight=this.canvas.height,this.context.clearColor(1,1,1,1),this.context.enable(this.context.DEPTH_TEST),!0))):!1},JSM.PointCloudRenderer.prototype.InitShaders=function(){function t(t,e,i){return i=t.createShader(i),t.shaderSource(i,e),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:null}var e=t(this.context,"varying highp vec3 vColor;\nvoid main (void) {\n	gl_FragColor = vec4 (vColor, 1.0);\n}",this.context.FRAGMENT_SHADER),i=t(this.context,"attribute highp vec3 aVertexPosition;\nattribute highp vec3 aVertexColor;\nuniform highp mat4 uViewMatrix;\nuniform highp mat4 uProjectionMatrix;\nuniform highp float uPointSize;\nvarying highp vec3 vColor;\nvoid main (void) {\n	vColor = aVertexColor;\n	gl_PointSize = uPointSize;\n	gl_Position = uProjectionMatrix * uViewMatrix * vec4 (aVertexPosition, 1.0);\n}",this.context.VERTEX_SHADER);return null===e||null===i?!1:(this.shader=this.context.createProgram(),this.context.attachShader(this.shader,i),this.context.attachShader(this.shader,e),this.context.linkProgram(this.shader),this.context.getProgramParameter(this.shader,this.context.LINK_STATUS)?(this.context.useProgram(this.shader),this.shader.vertexPositionAttribute=this.context.getAttribLocation(this.shader,"aVertexPosition"),this.context.enableVertexAttribArray(this.shader.vertexPositionAttribute),this.shader.vertexColorAttribute=this.context.getAttribLocation(this.shader,"aVertexColor"),this.context.enableVertexAttribArray(this.shader.vertexColorAttribute),this.shader.pMatrixUniform=this.context.getUniformLocation(this.shader,"uProjectionMatrix"),this.shader.vMatrixUniform=this.context.getUniformLocation(this.shader,"uViewMatrix"),this.shader.pointSizeUniform=this.context.getUniformLocation(this.shader,"uPointSize"),!0):!1)},JSM.PointCloudRenderer.prototype.InitBuffers=function(){return this.points=[],this.pointSize=1,!0},JSM.PointCloudRenderer.prototype.InitView=function(t){return this.camera=JSM.ValueOrDefault(t,new JSM.Camera),this.camera?!0:!1},JSM.PointCloudRenderer.prototype.SetClearColor=function(t,e,i){this.context.clearColor(t,e,i,1)},JSM.PointCloudRenderer.prototype.SetPointSize=function(t){this.pointSize=t},JSM.PointCloudRenderer.prototype.AddPoints=function(t,e){var i=this.context.createBuffer(),r=new Float32Array(t);this.context.bindBuffer(this.context.ARRAY_BUFFER,i),this.context.bufferData(this.context.ARRAY_BUFFER,r,this.context.STATIC_DRAW),i.itemSize=3,i.numItems=parseInt(r.length/3,10);var o=this.context.createBuffer(),n=new Float32Array(e);this.context.bindBuffer(this.context.ARRAY_BUFFER,o),this.context.bufferData(this.context.ARRAY_BUFFER,n,this.context.STATIC_DRAW),o.itemSize=3,o.numItems=parseInt(n.length/3,10),this.points.push({pointArray:r,pointBuffer:i,colorBuffer:o})},JSM.PointCloudRenderer.prototype.RemovePoints=function(){this.points=[]},JSM.PointCloudRenderer.prototype.Resize=function(){this.context.viewportWidth=this.canvas.width,this.context.viewportHeight=this.canvas.height},JSM.PointCloudRenderer.prototype.Render=function(){this.context.viewport(0,0,this.context.viewportWidth,this.context.viewportHeight),this.context.clear(this.context.COLOR_BUFFER_BIT|this.context.DEPTH_BUFFER_BIT);var t=JSM.MatrixPerspective(this.camera.fieldOfView*JSM.DegRad,this.context.viewportWidth/this.context.viewportHeight,this.camera.nearClippingPlane,this.camera.farClippingPlane);this.context.uniformMatrix4fv(this.shader.pMatrixUniform,!1,t),t=JSM.MatrixView(this.camera.eye,this.camera.center,this.camera.up),this.context.uniformMatrix4fv(this.shader.vMatrixUniform,!1,t),this.context.uniform1f(this.shader.pointSizeUniform,this.pointSize);for(var e,i,t=0;t<this.points.length;t++)e=this.points[t].pointBuffer,i=this.points[t].colorBuffer,this.context.bindBuffer(this.context.ARRAY_BUFFER,e),this.context.vertexAttribPointer(this.shader.vertexPositionAttribute,e.itemSize,this.context.FLOAT,!1,0,0),this.context.bindBuffer(this.context.ARRAY_BUFFER,i),this.context.vertexAttribPointer(this.shader.vertexColorAttribute,i.itemSize,this.context.FLOAT,!1,0,0),this.context.drawArrays(this.context.POINTS,0,e.numItems)},JSM.ConvertBodyToRenderGeometries=function(t,e){var i=[],r=null,o=null,n=null,a=null;return JSM.ExplodeBodyToTriangles(t,e,{hasConvexPolygons:!1,onGeometryStart:function(t){o=[],n=[],a=[];var e=JSM.HexColorToNormalizedRGBComponents(t.ambient),s=JSM.HexColorToNormalizedRGBComponents(t.diffuse),l=JSM.HexColorToNormalizedRGBComponents(t.specular);t=new JSM.RenderMaterial(e,s,l,t.shininess,t.texture,t.textureWidth,t.textureHeight),r=new JSM.RenderGeometry,r.SetMaterial(t),i.push(r)},onGeometryEnd:function(t){r.SetVertexArray(o),r.SetNormalArray(n),null!==t.texture&&r.SetUVArray(a)},onTriangle:function(t,e,i,r,s,l,c,h,d){o.push(t.x,t.y,t.z),o.push(e.x,e.y,e.z),o.push(i.x,i.y,i.z),n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z),n.push(l.x,l.y,l.z),null!==c&&null!==h&&null!==d&&(a.push(c.x,c.y),a.push(h.x,h.y),a.push(d.x,d.y))}}),i},JSM.ConvertModelToRenderGeometries=function(t,e){var i,r,o=[];for(i=0;i<t.BodyCount();i++){r=t.GetBody(i);var n=JSM.ConvertBodyToRenderGeometries(r,e,o);for(r=0;r<n.length;r++)o.push(n[r])}return o},JSM.JSONFileLoader=function(t){this.onReady=t},JSM.JSONFileLoader.prototype.Load=function(t){var e=this,i=new XMLHttpRequest;i.overrideMimeType("application/json"),i.open("GET",t,!0),i.onreadystatechange=function(){4==i.readyState&&e.OnReady(i.responseText)},i.send(null)},JSM.JSONFileLoader.prototype.OnReady=function(t){null!==this.onReady&&(t=JSON.parse(t),this.onReady(t))},JSM.Mouse=function(){this.down=!1,this.button=0,this.alt=this.ctrl=this.shift=!1,this.diffY=this.diffX=this.currY=this.currX=this.prevY=this.prevX=0},JSM.Mouse.prototype.Down=function(t,e){var i=t;void 0===i&&(i=window.event),this.down=!0,this.button=t.which,this.shift=t.shiftKey,this.ctrl=t.ctrlKey,this.alt=t.altKey,this.SetCurrent(i,e),this.prevX=this.currX,this.prevY=this.currY},JSM.Mouse.prototype.Move=function(t,e){var i=t;void 0===i&&(i=window.event),this.shift=t.shiftKey,this.ctrl=t.ctrlKey,this.alt=t.altKey,this.SetCurrent(i,e),this.diffX=this.currX-this.prevX,this.diffY=this.currY-this.prevY,this.prevX=this.currX,this.prevY=this.currY},JSM.Mouse.prototype.Up=function(t,e){var i=t;void 0===i&&(i=window.event),this.down=!1,this.SetCurrent(i,e)},JSM.Mouse.prototype.Out=function(t,e){var i=t;void 0===i&&(i=window.event),this.down=!1,this.SetCurrent(i,e)},JSM.Mouse.prototype.SetCurrent=function(t,e){this.currX=t.clientX,this.currY=t.clientY,void 0!==e&&void 0!==e.offsetLeft&&void 0!==e.offsetTop&&(this.currX-=e.offsetLeft,this.currY-=e.offsetTop)},JSM.Touch=function(){this.down=!1,this.diffY=this.diffX=this.currY=this.currX=this.prevY=this.prevX=0},JSM.Touch.prototype.Start=function(t,e){if(0!==t.touches.length){var i=t.touches[0];this.down=!0,this.SetCurrent(i,e),this.prevX=this.currX,this.prevY=this.currY}},JSM.Touch.prototype.Move=function(t,e){0!==t.touches.length&&(this.SetCurrent(t.touches[0],e),this.diffX=this.currX-this.prevX,this.diffY=this.currY-this.prevY,this.prevX=this.currX,this.prevY=this.currY)},JSM.Touch.prototype.End=function(t,e){if(0!==t.touches.length){var i=t.touches[0];this.down=!1,this.SetCurrent(i,e)}},JSM.Touch.prototype.SetCurrent=function(t,e){this.currX=t.pageX,this.currY=t.pageY,void 0!==e&&void 0!==e.offsetLeft&&void 0!==e.offsetTop&&(this.currX=t.pageX-e.offsetLeft,this.currY=t.pageY-e.offsetTop)},JSM.Navigation=function(){this.orbitCenter=this.cameraEnableZoom=this.cameraEnablePan=this.cameraEnableOrbit=this.cameraFixUp=this.touch=this.mouse=this.resizeCallback=this.drawCallback=this.camera=this.canvas=null},JSM.Navigation.prototype.Init=function(t,e,i,r){this.canvas=t,this.camera=e,this.drawCallback=i,this.resizeCallback=r,this.mouse=new JSM.Mouse,this.touch=new JSM.Touch,this.cameraEnableZoom=this.cameraEnablePan=this.cameraEnableOrbit=this.cameraFixUp=!0,this.orbitCenter=this.camera.center.Clone();var o=this;return document.addEventListener&&(document.addEventListener("mousemove",function(t){o.OnMouseMove(t)}),document.addEventListener("mouseup",function(t){o.OnMouseUp(t)})),this.canvas.addEventListener&&(this.canvas.addEventListener("mousedown",function(t){o.OnMouseDown(t)},!1),this.canvas.addEventListener("DOMMouseScroll",function(t){o.OnMouseWheel(t)},!1),this.canvas.addEventListener("mousewheel",function(t){o.OnMouseWheel(t)},!1),this.canvas.addEventListener("touchstart",function(t){o.OnTouchStart(t)},!1),this.canvas.addEventListener("touchmove",function(t){o.OnTouchMove(t)},!1),this.canvas.addEventListener("touchend",function(t){o.OnTouchEnd(t)},!1),this.canvas.addEventListener("contextmenu",function(t){o.OnContextMenu(t)},!1)),window.addEventListener&&window.addEventListener("resize",function(t){o.OnResize(t)},!1),!0},JSM.Navigation.prototype.SetCamera=function(t,e,i){this.camera.Set(t,e,i),this.orbitCenter=this.camera.center.Clone()},JSM.Navigation.prototype.EnableFixUp=function(t){this.cameraFixUp=t},JSM.Navigation.prototype.EnableOrbit=function(t){this.cameraEnableOrbit=t},JSM.Navigation.prototype.EnablePan=function(t){this.cameraEnablePan=t},JSM.Navigation.prototype.EnableZoom=function(t){this.cameraEnableZoom=t},JSM.Navigation.prototype.SetOrbitCenter=function(t){this.orbitCenter=t},JSM.Navigation.prototype.FitInWindow=function(t,e){var i=JSM.CoordSub(this.camera.center,t);this.camera.center=t,this.camera.eye=JSM.CoordSub(this.camera.eye,i);var i=JSM.VectorNormalize(JSM.CoordSub(this.camera.eye,this.camera.center)),r=this.camera.fieldOfView/2;this.canvas.width<this.canvas.height&&(r=r*this.canvas.width/this.canvas.height),r=e/Math.sin(r*JSM.DegRad),this.camera.eye=JSM.CoordOffset(this.camera.center,i,r),this.orbitCenter=this.camera.center.Clone()},JSM.Navigation.prototype.Orbit=function(t,e){var i=t*JSM.DegRad,r=e*JSM.DegRad,o=JSM.VectorNormalize(JSM.CoordSub(this.camera.center,this.camera.eye)),n=JSM.VectorNormalize(JSM.VectorCross(o,this.camera.up)),a=!JSM.CoordIsEqual(this.orbitCenter,this.camera.center);this.cameraFixUp?(o=JSM.GetVectorsAngle(o,this.camera.up)+r,JSM.IsGreater(o,0)&&JSM.IsLower(o,Math.PI)&&(this.camera.eye=JSM.CoordRotate(this.camera.eye,n,-r,this.orbitCenter),a&&(this.camera.center=JSM.CoordRotate(this.camera.center,n,-r,this.orbitCenter))),this.camera.eye=JSM.CoordRotate(this.camera.eye,this.camera.up,-i,this.orbitCenter),a&&(this.camera.center=JSM.CoordRotate(this.camera.center,this.camera.up,-i,this.orbitCenter))):(o=JSM.VectorNormalize(JSM.VectorCross(n,o)),this.camera.eye=JSM.CoordRotate(this.camera.eye,n,-r,this.orbitCenter),this.camera.eye=JSM.CoordRotate(this.camera.eye,o,-i,this.orbitCenter),a&&(this.camera.center=JSM.CoordRotate(this.camera.center,n,-r,this.orbitCenter),this.camera.center=JSM.CoordRotate(this.camera.center,o,-i,this.orbitCenter)),this.camera.up=o)},JSM.Navigation.prototype.Pan=function(t,e){var i=JSM.VectorNormalize(JSM.CoordSub(this.camera.center,this.camera.eye)),r=JSM.VectorNormalize(JSM.VectorCross(i,this.camera.up)),i=JSM.VectorNormalize(JSM.VectorCross(r,i));this.camera.eye=JSM.CoordOffset(this.camera.eye,r,-t),this.camera.center=JSM.CoordOffset(this.camera.center,r,-t),this.camera.eye=JSM.CoordOffset(this.camera.eye,i,e),this.camera.center=JSM.CoordOffset(this.camera.center,i,e)},JSM.Navigation.prototype.Zoom=function(t){var e=JSM.CoordSub(this.camera.center,this.camera.eye),i=JSM.VectorLength(e);return t&&.1>i?0:(i*=.1,t||(i*=-1),void(this.camera.eye=JSM.CoordOffset(this.camera.eye,e,i)))},JSM.Navigation.prototype.DrawCallback=function(){void 0!==this.drawCallback&&null!==this.drawCallback&&this.drawCallback()},JSM.Navigation.prototype.ResizeCallback=function(){void 0!==this.resizeCallback&&null!==this.resizeCallback&&this.resizeCallback()},JSM.Navigation.prototype.OnMouseDown=function(t){t.preventDefault(),this.mouse.Down(t,this.canvas)},JSM.Navigation.prototype.OnMouseMove=function(t){t.preventDefault(),this.mouse.Move(t,this.canvas),this.mouse.down&&(t=0,1==this.mouse.button?this.cameraEnableOrbit&&(t=.5,this.Orbit(this.mouse.diffX*t,this.mouse.diffY*t),this.DrawCallback()):3==this.mouse.button&&this.cameraEnablePan&&(t=.001*JSM.CoordDistance(this.camera.eye,this.camera.center),this.Pan(this.mouse.diffX*t,this.mouse.diffY*t),this.DrawCallback()))},JSM.Navigation.prototype.OnMouseUp=function(t){t.preventDefault(),this.mouse.Up(t,this.canvas)},JSM.Navigation.prototype.OnMouseOut=function(t){t.preventDefault(),this.mouse.Out(t,this.canvas)},JSM.Navigation.prototype.OnMouseWheel=function(t){if(t.preventDefault(),this.cameraEnableZoom){null===t&&(t=window.event);var e=0;t.detail?e=-t.detail:t.wheelDelta&&(e=t.wheelDelta/40),this.Zoom(e>0),this.DrawCallback()}},JSM.Navigation.prototype.OnTouchStart=function(t){t.preventDefault(),this.touch.Start(t,this.canvas)},JSM.Navigation.prototype.OnTouchMove=function(t){t.preventDefault(),this.touch.Move(t,this.canvas),this.touch.down&&this.cameraEnableOrbit&&(this.Orbit(.5*this.touch.diffX,.5*this.touch.diffY),this.DrawCallback())},JSM.Navigation.prototype.OnTouchEnd=function(t){t.preventDefault(),this.touch.End(t,this.canvas)},JSM.Navigation.prototype.OnContextMenu=function(t){t.preventDefault()},JSM.Navigation.prototype.OnResize=function(t){t.preventDefault(),this.ResizeCallback()},JSM.SoftwareViewer=function(){this.navigation=this.drawMode=this.drawer=this.bodies=this.camera=this.canvas=null},JSM.SoftwareViewer.prototype.Start=function(t,e){return this.InitCanvas(t)&&this.InitCamera(e)?!0:!1},JSM.SoftwareViewer.prototype.InitCanvas=function(t){return this.bodies=[],this.canvas=document.getElementById(t),this.canvas?(this.canvas instanceof HTMLCanvasElement?this.drawer=new JSM.CanvasDrawer(this.canvas):this.canvas instanceof SVGSVGElement&&(this.drawer=new JSM.SVGDrawer(this.canvas)),this.drawer?(this.drawMode="Wireframe",!0):!1):!1},JSM.SoftwareViewer.prototype.InitCamera=function(t){return this.camera=JSM.ValueOrDefault(t,new JSM.Camera),this.camera?(this.navigation=new JSM.Navigation,this.navigation.Init(this.canvas,this.camera,this.Draw.bind(this),this.Resize.bind(this))?!0:!1):!1},JSM.SoftwareViewer.prototype.AddBody=function(t,e){this.bodies.push([t,e])},JSM.SoftwareViewer.prototype.RemoveBodies=function(){this.bodies=[]},JSM.SoftwareViewer.prototype.FitInWindow=function(){var t=this.GetCenter(),e=this.GetBoundingSphereRadius(t);this.navigation.FitInWindow(t,e),this.Draw()},JSM.SoftwareViewer.prototype.GetCenter=function(){var t=this.GetBoundingBox();return JSM.MidCoord(t[0],t[1])},JSM.SoftwareViewer.prototype.GetBoundingBox=function(){var t,e,i,r,o=new JSM.Coord(JSM.Inf,JSM.Inf,JSM.Inf),n=new JSM.Coord(-JSM.Inf,-JSM.Inf,-JSM.Inf);for(t=0;t<this.bodies.length;t++)for(i=this.bodies[t][0],e=0;e<i.VertexCount();e++)r=i.GetVertex(e),o.x=JSM.Minimum(o.x,r.position.x),o.y=JSM.Minimum(o.y,r.position.y),o.z=JSM.Minimum(o.z,r.position.z),n.x=JSM.Maximum(n.x,r.position.x),n.y=JSM.Maximum(n.y,r.position.y),n.z=JSM.Maximum(n.z,r.position.z);return[o,n]},JSM.SoftwareViewer.prototype.GetBoundingSphereRadius=function(t){(void 0===t||null===t)&&(t=this.GetCenter());var e,i,r,o,n=0;for(e=0;e<this.bodies.length;e++)for(r=this.bodies[e][0],i=0;i<r.VertexCount();i++)o=r.GetVertex(i),o=JSM.CoordDistance(t,o.position),JSM.IsGreater(o,n)&&(n=o);return n},JSM.SoftwareViewer.prototype.Resize=function(){this.Draw()},JSM.SoftwareViewer.prototype.Draw=function(){var t,e;for(this.drawer.Clear(),t=0;t<this.bodies.length;t++)e=this.bodies[t],JSM.DrawProjectedBody(e[0],e[1],this.camera,this.drawMode,!1,this.drawer);return!0},JSM.SpriteViewer=function(){this.navigation=this.projected=this.points=this.callbacks=this.camera=this.canvas=null},JSM.SpriteViewer.prototype.Start=function(t,e,i){return this.InitCanvas(t)&&this.InitCamera(e)&&this.InitCallbacks(i)?!0:!1},JSM.SpriteViewer.prototype.InitCanvas=function(t){return this.points=[],this.canvas=document.getElementById(t),this.canvas?!0:!1},JSM.SpriteViewer.prototype.InitCamera=function(t){return this.camera=JSM.ValueOrDefault(t,new JSM.Camera),this.camera?(this.navigation=new JSM.Navigation,this.navigation.Init(this.canvas,this.camera,this.Draw.bind(this))?!0:!1):!1},JSM.SpriteViewer.prototype.InitCallbacks=function(t){return this.callbacks={onPointDraw:null},void 0!==t&&(void 0!==t.onDrawStart&&(this.callbacks.onDrawStart=t.onDrawStart),void 0!==t.onPointDraw&&(this.callbacks.onPointDraw=t.onPointDraw),void 0!==t.onDrawEnd&&(this.callbacks.onDrawEnd=t.onDrawEnd)),!0},JSM.SpriteViewer.prototype.AddPoint=function(t){this.points.push(t)},JSM.SpriteViewer.prototype.RemovePoints=function(){this.points=[]},JSM.SpriteViewer.prototype.Resize=function(){this.Draw()},JSM.SpriteViewer.prototype.NearestPointUnderPosition=function(t,e,i){e=new JSM.Coord2D(e,i),i=-1;var r,o,n,a=JSM.Inf;for(r=0;r<this.projected.length;r++)o=this.projected[r],n=JSM.CoordDistance2D(new JSM.Coord2D(o.position.x,o.position.y),e),JSM.IsLower(n,t)&&JSM.IsLower(n,a)&&(i=o.originalIndex,a=n);return i},JSM.SpriteViewer.prototype.NearestPointUnderMouse=function(t){return this.NearestPointUnderPosition(t,this.navigation.mouse.currX,this.navigation.mouse.currY)},JSM.SpriteViewer.prototype.NearestPointUnderTouch=function(t){return this.NearestPointUnderPosition(t,this.navigation.touch.currX,this.navigation.touch.currY)},JSM.SpriteViewer.prototype.FitInWindow=function(){var t=this.GetCenter(),e=this.GetBoundingSphereRadius(t);this.navigation.FitInWindow(t,e),this.Draw()},JSM.SpriteViewer.prototype.GetCenter=function(){var t=this.GetBoundingBox();return JSM.MidCoord(t[0],t[1])},JSM.SpriteViewer.prototype.GetBoundingBox=function(){var t,e,i=new JSM.Coord(JSM.Inf,JSM.Inf,JSM.Inf),r=new JSM.Coord(-JSM.Inf,-JSM.Inf,-JSM.Inf);for(t=0;t<this.points.length;t++)e=this.points[t],i.x=JSM.Minimum(i.x,e.x),i.y=JSM.Minimum(i.y,e.y),i.z=JSM.Minimum(i.z,e.z),r.x=JSM.Maximum(r.x,e.x),r.y=JSM.Maximum(r.y,e.y),r.z=JSM.Maximum(r.z,e.z);return[i,r]},JSM.SpriteViewer.prototype.GetBoundingSphereRadius=function(t){(void 0===t||null===t)&&(t=this.GetCenter());var e,i,r=0;for(e=0;e<this.points.length;e++)i=this.points[e],i=JSM.CoordDistance(t,i),JSM.IsGreater(i,r)&&(r=i);return r},JSM.SpriteViewer.prototype.Draw=function(){null!==this.callbacks.onDrawStart&&this.callbacks.onDrawStart(this.canvas);var t=this.canvas.width/this.canvas.height,e=[0,0,this.canvas.width,this.canvas.height];this.projected=[];var i,r;for(i=0;i<this.points.length;i++)r=this.points[i],r=JSM.Project(r,this.camera.eye,this.camera.center,this.camera.up,this.camera.fieldOfView*JSM.DegRad,t,this.camera.nearClippingPlane,this.camera.farClippingPlane,e),r.y=this.canvas.height-r.y,null!==r&&this.projected.push({position:r,originalIndex:i});for(this.projected.sort(function(t,e){return t.position.z>e.position.z?-1:t.position.z<e.position.z?1:0}),i=0;i<this.projected.length;i++)null!==this.callbacks.onPointDraw&&this.callbacks.onPointDraw(this.canvas,this.projected[i].originalIndex,this.projected[i].position);return null!==this.callbacks.onDrawEnd&&this.callbacks.onDrawEnd(this.canvas),!0},JSM.Viewer=function(){this.navigation=this.renderer=this.canvas=null},JSM.Viewer.prototype.Init=function(t,e,i){return this.InitRenderer(t,e,i)&&this.InitNavigation()?!0:!1},JSM.Viewer.prototype.InitRenderer=function(t,e,i){return this.renderer=new JSM.Renderer,this.renderer.Init(t,e,i)?!0:!1},JSM.Viewer.prototype.InitNavigation=function(){return this.navigation=new JSM.Navigation,this.navigation.Init(this.renderer.canvas,this.renderer.camera,this.Draw.bind(this),this.Resize.bind(this))?!0:!1},JSM.Viewer.prototype.SetClearColor=function(t,e,i){this.renderer.SetClearColor(t,e,i),this.Draw()},JSM.Viewer.prototype.AddGeometries=function(t){this.renderer.AddGeometries(t),this.Draw()},JSM.Viewer.prototype.RemoveGeometries=function(){this.renderer.RemoveGeometries(),this.Draw()},JSM.Viewer.prototype.FitInWindow=function(){var t=this.GetCenter(),e=this.GetBoundingSphereRadius(t);this.navigation.FitInWindow(t,e),this.Draw()},JSM.Viewer.prototype.GetCenter=function(){var t=this.GetBoundingBox();return JSM.MidCoord(t[0],t[1])},JSM.Viewer.prototype.GetBoundingBox=function(){var t,e,i,r,o=new JSM.Coord(JSM.Inf,JSM.Inf,JSM.Inf),n=new JSM.Coord(-JSM.Inf,-JSM.Inf,-JSM.Inf);for(t=0;t<this.renderer.geometries.length;t++)for(i=this.renderer.geometries[t],e=0;e<i.VertexCount();e+=1)r=i.GetTransformedVertex(e),o.x=JSM.Minimum(o.x,r.x),o.y=JSM.Minimum(o.y,r.y),o.z=JSM.Minimum(o.z,r.z),n.x=JSM.Maximum(n.x,r.x),n.y=JSM.Maximum(n.y,r.y),n.z=JSM.Maximum(n.z,r.z);return[o,n]},JSM.Viewer.prototype.GetBoundingSphereRadius=function(t){(void 0===t||null===t)&&(t=this.GetCenter());var e,i,r,o,n=0;for(e=0;e<this.renderer.geometries.length;e++)for(r=this.renderer.geometries[e],i=0;i<r.VertexCount();i+=1)o=r.GetTransformedVertex(i),o=JSM.CoordDistance(t,o),JSM.IsGreater(o,n)&&(n=o);return n},JSM.Viewer.prototype.Resize=function(){this.renderer.Resize(),this.Draw()
},JSM.Viewer.prototype.Draw=function(){this.renderer.Render()},JSM.PointCloudViewer=function(){this.navigation=this.renderer=this.canvas=null},JSM.PointCloudViewer.prototype.Init=function(t,e){return this.InitRenderer(t,e)&&this.InitNavigation()?!0:!1},JSM.PointCloudViewer.prototype.InitRenderer=function(t,e){return this.renderer=new JSM.PointCloudRenderer,this.renderer.Init(t,e)?!0:!1},JSM.PointCloudViewer.prototype.InitNavigation=function(){return this.navigation=new JSM.Navigation,this.navigation.Init(this.renderer.canvas,this.renderer.camera,this.Draw.bind(this),this.Resize.bind(this))?!0:!1},JSM.PointCloudViewer.prototype.SetClearColor=function(t,e,i){this.renderer.SetClearColor(t,e,i)},JSM.PointCloudViewer.prototype.SetPointSize=function(t){this.renderer.SetPointSize(t)},JSM.PointCloudViewer.prototype.AddPoints=function(t,e){this.renderer.AddPoints(t,e)},JSM.PointCloudViewer.prototype.RemovePoints=function(){this.renderer.RemovePoints()},JSM.PointCloudViewer.prototype.FitInWindow=function(){var t=this.GetCenter(),e=this.GetBoundingSphereRadius(t);this.navigation.FitInWindow(t,e),this.Draw()},JSM.PointCloudViewer.prototype.GetCenter=function(){var t=this.GetBoundingBox();return JSM.MidCoord(t[0],t[1])},JSM.PointCloudViewer.prototype.GetBoundingBox=function(){var t,e,i,r,o=new JSM.Coord(JSM.Inf,JSM.Inf,JSM.Inf),n=new JSM.Coord(-JSM.Inf,-JSM.Inf,-JSM.Inf);for(t=0;t<this.renderer.points.length;t++)for(i=this.renderer.points[t].pointArray,e=0;e<i.length;e+=3)r=new JSM.Coord(i[e],i[e+1],i[e+2]),o.x=JSM.Minimum(o.x,r.x),o.y=JSM.Minimum(o.y,r.y),o.z=JSM.Minimum(o.z,r.z),n.x=JSM.Maximum(n.x,r.x),n.y=JSM.Maximum(n.y,r.y),n.z=JSM.Maximum(n.z,r.z);return[o,n]},JSM.PointCloudViewer.prototype.GetBoundingSphereRadius=function(t){(void 0===t||null===t)&&(t=this.GetCenter());var e,i,r,o,n=0;for(e=0;e<this.renderer.points.length;e++)for(r=this.renderer.points[e].pointArray,i=0;i<r.length;i+=3)o=new JSM.Coord(r[i],r[i+1],r[i+2]),o=JSM.CoordDistance(t,o),JSM.IsGreater(o,n)&&(n=o);return n},JSM.PointCloudViewer.prototype.Resize=function(){this.renderer.Resize(),this.Draw()},JSM.PointCloudViewer.prototype.Draw=function(){this.renderer.Render()},JSM.ConvertBodyToThreeMeshes=function(t,e,i){var r={textureLoadedCallback:null,hasConvexPolygons:!1,doubleSided:!0};void 0!==i&&null!==i&&(r.textureLoadedCallback=JSM.ValueOrDefault(i.textureLoadedCallback,r.textureLoadedCallback),r.hasConvexPolygons=JSM.ValueOrDefault(i.hasConvexPolygons,r.hasConvexPolygons),r.doubleSided=JSM.ValueOrDefault(i.doubleSided,r.doubleSided));var o=[],n=null;return JSM.ExplodeBodyToTriangles(t,e,{hasConvexPolygons:r.hasConvexPolygons,onGeometryStart:function(){n=new THREE.Geometry},onGeometryEnd:function(t){var e=null!==t.texture,i=1!==t.opacity,a=new THREE.MeshPhongMaterial({ambient:t.ambient,color:t.diffuse,specular:t.specular});r.doubleSided&&(a.side=THREE.DoubleSide),i&&(a.opacity=t.opacity,a.transparent=!0),e&&(t=THREE.ImageUtils.loadTexture(t.texture,new THREE.UVMapping,function(){null!==r.textureLoadedCallback&&r.textureLoadedCallback()}),t.wrapS=THREE.RepeatWrapping,t.wrapT=THREE.RepeatWrapping,a.map=t),n.computeFaceNormals(),a=new THREE.Mesh(n,a),o.push(a)},onTriangle:function(t,e,i,r,o,a,s,l,c){var h=n.vertices.length;n.vertices.push(new THREE.Vector3(t.x,t.y,t.z)),n.vertices.push(new THREE.Vector3(e.x,e.y,e.z)),n.vertices.push(new THREE.Vector3(i.x,i.y,i.z)),t=new THREE.Face3(h+0,h+1,h+2),n.faces.push(t),null!==r&&null!==o&&null!==a&&(t=[],t.push(new THREE.Vector3(r.x,r.y,r.z)),t.push(new THREE.Vector3(o.x,o.y,o.z)),t.push(new THREE.Vector3(a.x,a.y,a.z)),n.faces[n.faces.length-1].vertexNormals=t),null!==s&&null!==l&&null!==c&&(r=[],r.push(new THREE.Vector2(s.x,-s.y)),r.push(new THREE.Vector2(l.x,-l.y)),r.push(new THREE.Vector2(c.x,-c.y)),n.faceVertexUvs[0].push(r))}}),o},JSM.ConvertModelToThreeMeshes=function(t,e,i){var r,o,n=[],a=[];for(r=0;r<t.BodyCount();r++)for(a=t.GetBody(r),a=JSM.ConvertBodyToThreeMeshes(a,e,i),o=0;o<a.length;o++)n.push(a[o]);return n},JSM.ConvertJSONDataToThreeMeshes=function(t,e,i){function r(t,i){function r(t){var r=t.parameters,c=n[t.material];t=c.texture;var h=c.offset,d=c.scale,u=new THREE.Color,p=new THREE.Color,f=new THREE.Color;u.setRGB(c.ambient[0],c.ambient[1],c.ambient[2]),p.setRGB(c.diffuse[0],c.diffuse[1],c.diffuse[2]),f.setRGB(c.specular[0],c.specular[1],c.specular[2]),void 0!==t&&(u.setRGB(1,1,1),p.setRGB(1,1,1),f.setRGB(1,1,1),void 0===h&&(h=[0,0]),void 0===d&&(d=[1,1])),u=new THREE.MeshPhongMaterial({ambient:p.getHex(),color:p.getHex(),specular:f.getHex(),side:THREE.DoubleSide}),1!==c.opacity&&(u.opacity=c.opacity,u.transparent=!0),void 0!==t&&(c=THREE.ImageUtils.loadTexture(t,new THREE.UVMapping,function(){void 0!==e&&null!==e&&e()}),c.wrapS=THREE.RepeatWrapping,c.wrapT=THREE.RepeatWrapping,u.map=c);var _,m,g,y,b,v,M,S,x,T,c=new THREE.Geometry;for(T=0;T<r.length;T+=9)_=3*r[T+0],m=3*r[T+1],g=3*r[T+2],y=3*r[T+3],b=3*r[T+4],v=3*r[T+5],p=2*r[T+6],f=2*r[T+7],M=2*r[T+8],S=c.vertices.length,x=c.faces.length,c.vertices.push(new THREE.Vector3(a[_+0],a[_+1],a[_+2])),c.vertices.push(new THREE.Vector3(a[m+0],a[m+1],a[m+2])),c.vertices.push(new THREE.Vector3(a[g+0],a[g+1],a[g+2])),c.faces.push(new THREE.Face3(S+0,S+1,S+2)),_=[],_.push(new THREE.Vector3(s[y+0],s[y+1],s[y+2])),_.push(new THREE.Vector3(s[b+0],s[b+1],s[b+2])),_.push(new THREE.Vector3(s[v+0],s[v+1],s[v+2])),c.faces[x].vertexNormals=_,void 0!==t&&(y=[],y.push(new THREE.Vector2(h[0]+l[p+0]*d[0],h[1]+l[p+1]*d[1])),y.push(new THREE.Vector2(h[0]+l[f+0]*d[0],h[1]+l[f+1]*d[1])),y.push(new THREE.Vector2(h[0]+l[M+0]*d[0],h[1]+l[M+1]*d[1])),c.faceVertexUvs[0].push(y));r=new THREE.Mesh(c,u),r.originalJsonIndex=i,o.push(r)}var a=t.vertices;if(void 0!==a){var s=t.normals;if(void 0!==s){var l=t.uvs;if(void 0!==l){var c,h=t.triangles;for(c=0;c<h.length;c++)r(h[c])}}}}var o=[],n=t.materials;if(void 0===n)return o;var a=t.meshes;if(void 0===a)return o;var s=0;return JSM.AsyncRunTask(function(){return r(a[s],s),s+=1,!0},i,a.length,0,o),o},JSM.JSONFileConverter=function(t,e){this.onReady=t,this.onTextureLoaded=e},JSM.JSONFileConverter.prototype.Convert=function(t){new JSM.JSONFileLoader(this.OnReady.bind(this)).Load(t)},JSM.JSONFileConverter.prototype.OnReady=function(t){null!==this.onReady&&(t=JSM.ConvertJSONDataToThreeMeshes(t,this.onTextureLoaded),this.onReady(t))},JSM.ThreeViewer=function(){this.enableDraw=this.drawLoop=this.settings=this.navigation=this.cameraMove=this.runAfterRender=this.runBeforeRender=this.directionalLight=this.ambientLight=this.renderer=this.camera=this.scene=this.canvas=null},JSM.ThreeViewer.prototype.Start=function(t,e){return this.IsWebGLEnabled()&&this.InitSettings(e)&&this.InitThree(t)&&this.InitCamera(e)&&this.InitLights()?(this.drawLoop=!1,this.enableDraw=!0,this.DrawIfNeeded(),!0):!1},JSM.ThreeViewer.prototype.IsWebGLEnabled=function(){return window.WebGLRenderingContext&&document.createElement("canvas").getContext("experimental-webgl")?!0:!1},JSM.ThreeViewer.prototype.InitSettings=function(t){return this.settings={cameraEyePosition:new JSM.Coord(1,1,1),cameraCenterPosition:new JSM.Coord(0,0,0),cameraUpVector:new JSM.Coord(0,0,1),lightAmbientColor:[.5,.5,.5],lightDiffuseColor:[.5,.5,.5]},void 0!==t&&(void 0!==t.cameraEyePosition&&(this.settings.cameraEyePosition=JSM.CoordFromArray(t.cameraEyePosition)),void 0!==t.cameraCenterPosition&&(this.settings.cameraCenterPosition=JSM.CoordFromArray(t.cameraCenterPosition)),void 0!==t.cameraUpVector&&(this.settings.cameraUpVector=JSM.CoordFromArray(t.cameraUpVector)),void 0!==t.lightAmbientColor&&(this.settings.lightAmbientColor=t.lightAmbientColor),void 0!==t.lightDiffuseColor&&(this.settings.lightDiffuseColor=t.lightDiffuseColor)),!0},JSM.ThreeViewer.prototype.InitThree=function(t){return this.canvas=document.getElementById(t),this.canvas&&this.canvas.getContext?(this.scene=new THREE.Scene,this.scene?(this.renderer=new THREE.WebGLRenderer({canvas:this.canvas,antialias:!0}),this.renderer?(this.renderer.setClearColor(new THREE.Color(16777215)),this.renderer.setSize(this.canvas.width,this.canvas.height),!0):!1):!1):!1},JSM.ThreeViewer.prototype.InitCamera=function(t){return this.cameraMove=new JSM.Camera(JSM.CoordFromArray(t.cameraEyePosition),JSM.CoordFromArray(t.cameraCenterPosition),JSM.CoordFromArray(t.cameraUpVector),t.fieldOfView,t.nearClippingPlane,t.farClippingPlane),this.cameraMove?(this.navigation=new JSM.Navigation,this.navigation.Init(this.canvas,this.cameraMove,this.DrawIfNeeded.bind(this),this.Resize.bind(this))?(this.camera=new THREE.PerspectiveCamera(this.cameraMove.fieldOfView,this.canvas.width/this.canvas.height,this.cameraMove.nearClippingPlane,this.cameraMove.farClippingPlane),this.camera?(this.scene.add(this.camera),!0):!1):!1):!1},JSM.ThreeViewer.prototype.InitLights=function(){var t=new THREE.Color,e=new THREE.Color;return t.setRGB(this.settings.lightAmbientColor[0],this.settings.lightAmbientColor[1],this.settings.lightAmbientColor[2]),e.setRGB(this.settings.lightDiffuseColor[0],this.settings.lightDiffuseColor[1],this.settings.lightDiffuseColor[2]),this.ambientLight=new THREE.AmbientLight(t.getHex()),this.ambientLight?(this.scene.add(this.ambientLight),this.directionalLight=new THREE.DirectionalLight(e.getHex()),this.directionalLight?(t=(new THREE.Vector3).subVectors(this.cameraMove.eye,this.cameraMove.center),this.directionalLight.position.set(t.x,t.y,t.z),this.scene.add(this.directionalLight),!0):!1):!1},JSM.ThreeViewer.prototype.SetRunBeforeRender=function(t){this.runBeforeRender=t},JSM.ThreeViewer.prototype.SetRunAfterRender=function(t){this.runAfterRender=t},JSM.ThreeViewer.prototype.SetClearColor=function(t){this.renderer.setClearColor(new THREE.Color(t)),this.DrawIfNeeded()},JSM.ThreeViewer.prototype.AddMesh=function(t){this.scene.add(t),this.DrawIfNeeded()},JSM.ThreeViewer.prototype.AddMeshes=function(t){var e;for(e=0;e<t.length;e++)this.scene.add(t[e]);this.DrawIfNeeded()},JSM.ThreeViewer.prototype.MeshCount=function(){var t=0;return this.scene.traverse(function(e){e instanceof THREE.Mesh&&(t+=1)}),t},JSM.ThreeViewer.prototype.VertexCount=function(){var t=0;return this.scene.traverse(function(e){e instanceof THREE.Mesh&&(t+=e.geometry.vertices.length)}),t},JSM.ThreeViewer.prototype.FaceCount=function(){var t=0;return this.scene.traverse(function(e){e instanceof THREE.Mesh&&(t+=e.geometry.faces.length)}),t},JSM.ThreeViewer.prototype.GetMesh=function(t){var e,i=null,r=0;for(e=0;e<this.scene.children.length;e++)if(i=this.scene.children[e],i instanceof THREE.Mesh){if(r==t)return i;r+=1}return null},JSM.ThreeViewer.prototype.RemoveMesh=function(t){this.scene.remove(t),this.DrawIfNeeded()},JSM.ThreeViewer.prototype.RemoveMeshes=function(){var t,e;for(e=0;e<this.scene.children.length;e++)t=this.scene.children[e],t instanceof THREE.Mesh&&(this.scene.remove(t),e--);this.DrawIfNeeded()},JSM.ThreeViewer.prototype.RemoveLastMesh=function(){var t=null;this.scene.traverse(function(e){e instanceof THREE.Mesh&&(t=e)}),null!==t&&this.scene.remove(t),this.DrawIfNeeded()},JSM.ThreeViewer.prototype.SetCamera=function(t,e,i){this.navigation.SetCamera(t,e,i),this.navigation.SetOrbitCenter(e.Clone()),this.DrawIfNeeded()},JSM.ThreeViewer.prototype.Resize=function(){this.camera.aspect=this.canvas.width/this.canvas.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.canvas.width,this.canvas.height),this.DrawIfNeeded()},JSM.ThreeViewer.prototype.FitInWindow=function(){if(0!==this.MeshCount()){var t=this.GetCenter(),e=this.GetBoundingSphereRadius(t);this.navigation.FitInWindow(t,e),this.DrawIfNeeded()}},JSM.ThreeViewer.prototype.AdjustClippingPlanes=function(t){var e=this.GetCenter();this.GetBoundingSphereRadius(e)<t?(this.camera.near=.1,this.camera.far=1e3):(this.camera.near=10,this.camera.far=1e6),this.camera.updateProjectionMatrix(),this.Draw()},JSM.ThreeViewer.prototype.GetCenter=function(){var t=this.GetBoundingBox();return JSM.MidCoord(t[0],t[1])},JSM.ThreeViewer.prototype.GetBoundingBox=function(){var t,e,i=new JSM.Coord(JSM.Inf,JSM.Inf,JSM.Inf),r=new JSM.Coord(-JSM.Inf,-JSM.Inf,-JSM.Inf);return this.scene.traverse(function(o){if(o instanceof THREE.Mesh){t=o.geometry;var n;for(n=0;n<t.vertices.length;n++)e=t.vertices[n].clone(),e.add(o.position),i.x=JSM.Minimum(i.x,e.x),i.y=JSM.Minimum(i.y,e.y),i.z=JSM.Minimum(i.z,e.z),r.x=JSM.Maximum(r.x,e.x),r.y=JSM.Maximum(r.y,e.y),r.z=JSM.Maximum(r.z,e.z)}}),[i,r]},JSM.ThreeViewer.prototype.GetBoundingSphereRadius=function(t){(void 0===t||null===t)&&(t=this.GetCenter());var e,i,r,o=0;return this.scene.traverse(function(n){if(n instanceof THREE.Mesh){e=n.geometry;var a;for(a=0;a<e.vertices.length;a++)i=e.vertices[a].clone(),i.add(n.position),r=JSM.CoordDistance(t,new JSM.Coord(i.x,i.y,i.z)),JSM.IsGreater(r,o)&&(o=r)}}),o},JSM.ThreeViewer.prototype.GetObjectsUnderPosition=function(t,e){var i=2*(t/this.canvas.width)-1,r=2*-(e/this.canvas.height)+1,o=new THREE.Projector,n=this.camera.position,i=new THREE.Vector3(i,r,.5);return o.unprojectVector(i,this.camera),i.sub(n),i.normalize(),new THREE.Raycaster(n,i).intersectObjects(this.scene.children)},JSM.ThreeViewer.prototype.GetObjectsUnderMouse=function(){return this.GetObjectsUnderPosition(this.navigation.mouse.currX,this.navigation.mouse.currY)},JSM.ThreeViewer.prototype.GetObjectsUnderTouch=function(){return this.GetObjectsUnderPosition(this.navigation.touch.currX,this.navigation.touch.currY)},JSM.ThreeViewer.prototype.ProjectVector=function(t,e,i){var r=this.canvas.width/2,o=this.canvas.height/2,n=new THREE.Projector;return t=new THREE.Vector3(t,e,i),n.projectVector(t,this.camera),t.x=t.x*r+r,t.y=-(t.y*o)+o,t},JSM.ThreeViewer.prototype.EnableDraw=function(t){this.enableDraw=t},JSM.ThreeViewer.prototype.Draw=function(){if(this.enableDraw){null!==this.runBeforeRender&&this.runBeforeRender(),this.camera.position.set(this.cameraMove.eye.x,this.cameraMove.eye.y,this.cameraMove.eye.z),this.camera.up.set(this.cameraMove.up.x,this.cameraMove.up.y,this.cameraMove.up.z),this.camera.lookAt(new THREE.Vector3(this.cameraMove.center.x,this.cameraMove.center.y,this.cameraMove.center.z));var t=(new THREE.Vector3).subVectors(this.cameraMove.eye,this.cameraMove.center);this.directionalLight.position.set(t.x,t.y,t.z),this.renderer.render(this.scene,this.camera),null!==this.runAfterRender&&this.runAfterRender(),this.drawLoop&&requestAnimationFrame(this.Draw.bind(this))}},JSM.ThreeViewer.prototype.DrawIfNeeded=function(){this.drawLoop||this.Draw()},JSM.ThreeViewer.prototype.StartDrawLoop=function(){this.drawLoop=!0,this.Draw()};var Ammo=function(){function t(){throw"NO_DYNAMIC_EXECUTION was set, cannot eval"}function e(t,e){t||ci("Assertion failed: "+e)}function i(t){var i=zr["_"+t];return i||ci("NO_DYNAMIC_EXECUTION was set, cannot eval - ccall/cwrap are not functional"),e(i,"Cannot call unknown function "+t+" (perhaps LLVM optimizations or closure removed it?)"),i}function r(t,e,i){switch(i=i||"i8","*"===i.charAt(i.length-1)&&(i="i32"),i){case"i1":fo[t>>0]=e;break;case"i8":fo[t>>0]=e;break;case"i16":mo[t>>1]=e;break;case"i32":yo[t>>2]=e;break;case"i64":eo=[e>>>0,(to=e,+Go(to)>=1?to>0?(0|Zo(+Yo(to/4294967296),4294967295))>>>0:~~+Ko((to-+(~~to>>>0))/4294967296)>>>0:0)],yo[t>>2]=eo[0],yo[t+4>>2]=eo[1];break;case"float":vo[t>>2]=e;break;case"double":Mo[t>>3]=e;break;default:ci("invalid type for setValue: "+i)}}function o(t,e){switch(e=e||"i8","*"===e.charAt(e.length-1)&&(e="i32"),e){case"i1":return fo[t>>0];case"i8":return fo[t>>0];case"i16":return mo[t>>1];case"i32":return yo[t>>2];case"i64":return yo[t>>2];case"float":return vo[t>>2];case"double":return Mo[t>>3];default:ci("invalid type for setValue: "+e)}return null}function n(t,i,o,n){var a,s;"number"==typeof t?(a=!0,s=t):(a=!1,s=t.length);var l,c="string"==typeof i?i:null;if(l=o==uo?n:[ce,$r.stackAlloc,$r.staticAlloc,$r.dynamicAlloc][void 0===o?co:o](Math.max(s,c?1:i.length)),a){var h,n=l;for(e(0==(3&l)),h=l+(-4&s);h>n;n+=4)yo[n>>2]=0;for(h=l+s;h>n;)fo[n++>>0]=0;return l}if("i8"===c)return t.subarray||t.slice?_o.set(t,l):_o.set(new Uint8Array(t),l),l;for(var d,u,p,f=0;s>f;){var _=t[f];"function"==typeof _&&(_=$r.getFunctionIndex(_)),d=c||i[f],0!==d?("i64"==d&&(d="i32"),r(l+f,_,d),p!==d&&(u=$r.getNativeTypeSize(d),p=d),f+=u):f++}return l}function a(t,e){for(var i,r=!1,o=0;;){if(i=_o[t+o>>0],i>=128)r=!0;else if(0==i&&!e)break;if(o++,e&&o==e)break}e||(e=o);var n="";if(!r){for(var a,s=1024;e>0;)a=String.fromCharCode.apply(String,_o.subarray(t,t+Math.min(e,s))),n=n?n+a:a,t+=s,e-=s;return n}var l=new $r.UTF8Processor;for(o=0;e>o;o++)i=_o[t+o>>0],n+=l.processCChar(i);return n}function s(t){for(var e=0,i="";;){var r=mo[t+2*e>>1];if(0==r)return i;++e,i+=String.fromCharCode(r)}}function l(t,e){for(var i=0;i<t.length;++i){var r=t.charCodeAt(i);mo[e+2*i>>1]=r}mo[e+2*t.length>>1]=0}function c(t){for(var e=0,i="";;){var r=yo[t+4*e>>2];if(0==r)return i;if(++e,r>=65536){var o=r-65536;i+=String.fromCharCode(55296|o>>10,56320|1023&o)}else i+=String.fromCharCode(r)}}function h(t,e){for(var i=0,r=0;r<t.length;++r){var o=t.charCodeAt(r);if(o>=55296&&57343>=o){var n=t.charCodeAt(++r);o=65536+((1023&o)<<10)|1023&n}yo[e+4*i>>2]=o,++i}yo[e+4*i>>2]=0}function d(t){function e(){h++,"K"===t[h]&&h++;for(var e=[];"E"!==t[h];)if("S"!==t[h])if("C"!==t[h]){var i=parseInt(t.substr(h)),r=i.toString().length;if(!i||!r){h--;break}var o=t.substr(h+r,i);e.push(o),u.push(o),h+=r+i}else e.push(e[e.length-1]),h+=2;else{h++;var n=t.indexOf("_",h),a=t.substring(h,n)||0;e.push(u[a]||"?"),h=n+1}return h++,e}function i(r,o,n){function a(){return"("+c.join(", ")+")"}o=o||1/0;var s,l="",c=[];if("N"===t[h]){if(s=e().join("::"),o--,0===o)return r?[s]:s}else{("K"===t[h]||p&&"L"===t[h])&&h++;var u=parseInt(t.substr(h));if(u){var f=u.toString().length;s=t.substr(h+f,u),h+=f+u}}if(p=!1,"I"===t[h]){h++;var _=i(!0),m=i(!0,1,!0);l+=m[0]+" "+s+"<"+_.join(", ")+">"}else l=s;t:for(;h<t.length&&o-->0;){var g=t[h++];if(g in d)c.push(d[g]);else switch(g){case"P":c.push(i(!0,1,!0)[0]+"*");break;case"R":c.push(i(!0,1,!0)[0]+"&");break;case"L":h++;var y=t.indexOf("E",h),u=y-h;c.push(t.substr(h,u)),h+=u+2;break;case"A":var u=parseInt(t.substr(h));if(h+=u.toString().length,"_"!==t[h])throw"?";h++,c.push(i(!0,1,!0)[0]+" ["+u+"]");break;case"E":break t;default:l+="?"+g;break t}}return n||1!==c.length||"void"!==c[0]||(c=[]),r?(l&&c.push(l+"?"),c):l+a()}var r=!!zr.___cxa_demangle;if(r)try{var n=ce(t.length);D(t.substr(1),n);var s=ce(4),l=zr.___cxa_demangle(n,0,0,s);if(0===o(s,"i32")&&l)return a(l)}catch(c){}finally{n&&eh(n),s&&eh(s),l&&eh(l)}var h=3,d={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},u=[],p=!0,f=t;try{if("Object._main"==t||"_main"==t)return"main()";if("number"==typeof t&&(t=a(t)),"_"!==t[0])return t;if("_"!==t[1])return t;if("Z"!==t[2])return t;switch(t[3]){case"n":return"operator new()";case"d":return"operator delete()"}f=i()}catch(c){f+="?"}return f.indexOf("?")>=0&&!r&&$r.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),f}function u(t){return t.replace(/__Z[\w\d_]+/g,function(t){var e=d(t);return t===e?t:t+" ["+e+"]"})}function p(){var t=new Error;if(!t.stack){try{throw new Error(0)}catch(e){t=e}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}function f(){return u(p())}function _(t){return t+4095&-4096}function m(){ci("Cannot enlarge memory arrays. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value "+Bo+", (2) compile with ALLOW_MEMORY_GROWTH which adjusts the size at runtime but prevents some optimizations, or (3) set Module.TOTAL_MEMORY before the program runs.")}function g(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var i=e.func;"number"==typeof i?void 0===e.arg?$r.dynCall("v",i):$r.dynCall("vi",i,[e.arg]):i(void 0===e.arg?null:e.arg)}else e()}}function y(){if(zr.preRun)for("function"==typeof zr.preRun&&(zr.preRun=[zr.preRun]);zr.preRun.length;)x(zr.preRun.shift());g(ko)}function b(){No||(No=!0,g(Ho))}function v(){g(Io)}function M(){g(Oo),Fo=!0}function S(){if(zr.postRun)for("function"==typeof zr.postRun&&(zr.postRun=[zr.postRun]);zr.postRun.length;)A(zr.postRun.shift());g(Jo)}function x(t){ko.unshift(t)}function T(t){Ho.unshift(t)}function E(t){Io.unshift(t)}function C(t){Oo.unshift(t)}function A(t){Jo.unshift(t)}function w(t,e,i){var r=(new $r.UTF8Processor).processJSString(t);return i&&(r.length=i),e||r.push(0),r}function R(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];r>255&&(r&=255),e.push(String.fromCharCode(r))}return e.join("")}function D(t,e,i){for(var r=w(t,i),o=0;o<r.length;){var n=r[o];fo[e+o>>0]=n,o+=1}}function P(t,e){for(var i=0;i<t.length;i++)fo[e+i>>0]=t[i]}function B(t,e,i){for(var r=0;r<t.length;r++)fo[e+r>>0]=t.charCodeAt(r);i||(fo[e+t.length>>0]=0)}function V(t,e){return t>=0?t:32>=e?2*Math.abs(1<<e-1)+t:Math.pow(2,e)+t}function L(t,e){if(0>=t)return t;var i=32>=e?Math.abs(1<<e-1):Math.pow(2,e-1);return t>=i&&(32>=e||t>i)&&(t=-2*i+t),t}function k(){$o++,zr.monitorRunDependencies&&zr.monitorRunDependencies($o)}function H(){if($o--,zr.monitorRunDependencies&&zr.monitorRunDependencies($o),0==$o&&(null!==tn&&(clearInterval(tn),tn=null),en)){var t=en;en=null,t()}}function I(t){return yo[sn>>2]=t,t}function O(t){switch(t){case 30:return So;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 79:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator?navigator.hardwareConcurrency||1:1}return I(ln.EINVAL),-1}function J(){return!!J.uncaught_exception}function N(t){throw cn.last||(cn.last=t),cn.clearRef(cn.deAdjust(t)),t+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function F(){var t=cn.last;if(!t)return 0|(xn.setTempRet0(0),0);var e=cn.infos[t],i=e.type;if(!i)return 0|(xn.setTempRet0(0),t);{var r=Array.prototype.slice.call(arguments);zr.___cxa_is_pointer_type(i)}F.buffer||(F.buffer=ce(4)),yo[F.buffer>>2]=t,t=F.buffer;for(var o=0;o<r.length;o++)if(r[o]&&zr.___cxa_can_catch(r[o],i,t))return t=yo[t>>2],e.adjusted=t,0|(xn.setTempRet0(r[o]),t);return t=yo[t>>2],0|(xn.setTempRet0(i),t)}function G(t,e,i){throw cn.infos[t]={ptr:t,adjusted:t,type:e,destructor:i,refcount:0},cn.last=t,"uncaught_exception"in J?J.uncaught_exception++:J.uncaught_exception=1,t+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function z(){zr.abort()}function j(t,e){j.seen||(j.seen={}),t in j.seen||($r.dynCall("v",e),j.seen[t]=1)}function U(t,e,i){var r=pn.getSocket(t);return r?X(t,e,i):(I(ln.EBADF),-1)}function W(t,e,i,r){var o=un.getStream(t);if(!o)return I(ln.EBADF),-1;try{var n=fo;return un.write(o,n,e,i,r)}catch(a){return un.handleFSError(a),-1}}function X(t,e,i){var r=un.getStream(t);if(!r)return I(ln.EBADF),-1;try{var o=fo;return un.write(r,o,e,i)}catch(n){return un.handleFSError(n),-1}}function q(t){return t=un.getStreamFromPtr(t),t?t.fd:-1}function K(t,e){var i=V(255&t);fo[K.ret>>0]=i;var r=q(e),o=X(r,K.ret,1);if(-1==o){var n=un.getStreamFromPtr(e);return n&&(n.error=!0),-1}return i}function Y(t){return fn[t]||0}function Q(t){return 0==t?ln.EINVAL:(yo[t>>2]=_n,fn[_n]=0,_n++,0)}function Z(t,e){return t%e}function $(){return Z.apply(null,arguments)}function te(t,e){return t in fn?(fn[t]=e,0):ln.EINVAL}function ee(){throw no=!0,"Pure virtual function called!"}function ie(){}function re(t){return fo[t>>0]?0:(fo[t>>0]=1,1)}function oe(t){var e=Date.now();return yo[t>>2]=e/1e3|0,yo[t+4>>2]=e%1e3*1e3|0,0}function ne(t){var e=Array.prototype.slice.call(arguments,1);return+$r.getAsmConst(t,e.length).apply(null,e)}function ae(t){return J.uncaught_exception--,cn.caught.push(t),cn.addRef(cn.deAdjust(t)),t}function se(t,e,i){return _o.set(_o.subarray(e,e+i),t),t}function le(t){var i=le;i.called||(Do=_(Do),i.called=!0,e($r.dynamicAlloc),i.alloc=$r.dynamicAlloc,$r.dynamicAlloc=function(){ci("cannot dynamically allocate, sbrk now has control")});var r=Do;return 0!=t&&i.alloc(t),r}function ce(t){var e=$r.dynamicAlloc(t+8);return e+8&4294967288}function he(t){return ce(t)}function de(){return sn}function ue(){ci("trap!")}function pe(t){var e=Date.now()/1e3|0;return t&&(yo[t>>2]=e),e}function fe(t,e,i,r){var o=i*e;if(0==o)return 0;var n=q(r),a=X(n,t,o);if(-1==a){var s=un.getStreamFromPtr(r);return s&&(s.error=!0),0}return a/e|0}function _e(t){return 0>t||0===t&&1/t===-1/0}function me(t,e){function i(t){var i;return"double"===t?(yo[on>>2]=yo[e+s>>2],yo[on+4>>2]=yo[e+(s+4)>>2],i=+Mo[on>>3]):"i64"==t?i=[yo[e+s>>2],yo[e+(s+4)>>2]]:(t="i32",i=yo[e+s>>2]),s+=$r.getNativeFieldSize(t),i}for(var r,o,n,a=t,s=0,l=[];;){var c=a;if(r=fo[a>>0],0===r)break;if(o=fo[a+1>>0],37==r){var h=!1,d=!1,u=!1,p=!1,f=!1;t:for(;;){switch(o){case 43:h=!0;break;case 45:d=!0;break;case 35:u=!0;break;case 48:if(p)break t;p=!0;break;case 32:f=!0;break;default:break t}a++,o=fo[a+1>>0]}var _=0;if(42==o)_=i("i32"),a++,o=fo[a+1>>0];else for(;o>=48&&57>=o;)_=10*_+(o-48),a++,o=fo[a+1>>0];var m=!1,g=-1;if(46==o){if(g=0,m=!0,a++,o=fo[a+1>>0],42==o)g=i("i32"),a++;else for(;;){var y=fo[a+1>>0];if(48>y||y>57)break;g=10*g+(y-48),a++}o=fo[a+1>>0]}0>g&&(g=6,m=!1);var b;switch(String.fromCharCode(o)){case"h":var v=fo[a+2>>0];104==v?(a++,b=1):b=2;break;case"l":var v=fo[a+2>>0];108==v?(a++,b=8):b=4;break;case"L":case"q":case"j":b=8;break;case"z":case"t":case"I":b=4;break;default:b=null}switch(b&&a++,o=fo[a+1>>0],String.fromCharCode(o)){case"d":case"i":case"u":case"o":case"x":case"X":case"p":var M=100==o||105==o;b=b||4;var S,n=i("i"+8*b),x=n;if(8==b&&(n=$r.makeBigInt(n[0],n[1],117==o)),4>=b){var T=Math.pow(256,b)-1;n=(M?L:V)(n&T,8*b)}var E=Math.abs(n),C="";if(100==o||105==o)S=8==b&&Dm?Dm.stringify(x[0],x[1],null):L(n,8*b,1).toString(10);else if(117==o)S=8==b&&Dm?Dm.stringify(x[0],x[1],!0):V(n,8*b,1).toString(10),n=Math.abs(n);else if(111==o)S=(u?"0":"")+E.toString(8);else if(120==o||88==o){if(C=u&&0!=n?"0x":"",8==b&&Dm)if(x[1]){S=(x[1]>>>0).toString(16);for(var A=(x[0]>>>0).toString(16);A.length<8;)A="0"+A;S+=A}else S=(x[0]>>>0).toString(16);else if(0>n){n=-n,S=(E-1).toString(16);for(var R=[],D=0;D<S.length;D++)R.push((15-parseInt(S[D],16)).toString(16));for(S=R.join("");S.length<2*b;)S="f"+S}else S=E.toString(16);88==o&&(C=C.toUpperCase(),S=S.toUpperCase())}else 112==o&&(0===E?S="(nil)":(C="0x",S=E.toString(16)));if(m)for(;S.length<g;)S="0"+S;for(n>=0&&(h?C="+"+C:f&&(C=" "+C)),"-"==S.charAt(0)&&(C="-"+C,S=S.substr(1));C.length+S.length<_;)d?S+=" ":p?S="0"+S:C=" "+C;S=C+S,S.split("").forEach(function(t){l.push(t.charCodeAt(0))});break;case"f":case"F":case"e":case"E":case"g":case"G":var S,n=i("double");if(isNaN(n))S="nan",p=!1;else if(isFinite(n)){var P=!1,B=Math.min(g,20);if(103==o||71==o){P=!0,g=g||1;var k=parseInt(n.toExponential(B).split("e")[1],10);g>k&&k>=-4?(o=(103==o?"f":"F").charCodeAt(0),g-=k+1):(o=(103==o?"e":"E").charCodeAt(0),g--),B=Math.min(g,20)}101==o||69==o?(S=n.toExponential(B),/[eE][-+]\d$/.test(S)&&(S=S.slice(0,-1)+"0"+S.slice(-1))):(102==o||70==o)&&(S=n.toFixed(B),0===n&&_e(n)&&(S="-"+S));var H=S.split("e");if(P&&!u)for(;H[0].length>1&&-1!=H[0].indexOf(".")&&("0"==H[0].slice(-1)||"."==H[0].slice(-1));)H[0]=H[0].slice(0,-1);else for(u&&-1==S.indexOf(".")&&(H[0]+=".");g>B++;)H[0]+="0";S=H[0]+(H.length>1?"e"+H[1]:""),69==o&&(S=S.toUpperCase()),n>=0&&(h?S="+"+S:f&&(S=" "+S))}else S=(0>n?"-":"")+"inf",p=!1;for(;S.length<_;)d?S+=" ":S=!p||"-"!=S[0]&&"+"!=S[0]?(p?"0":" ")+S:S[0]+"0"+S.slice(1);97>o&&(S=S.toUpperCase()),S.split("").forEach(function(t){l.push(t.charCodeAt(0))});break;case"s":var I=i("i8*"),O=I?En(I):"(null)".length;if(m&&(O=Math.min(O,g)),!d)for(;O<_--;)l.push(32);if(I)for(var D=0;O>D;D++)l.push(_o[I++>>0]);else l=l.concat(w("(null)".substr(0,O),!0));if(d)for(;O<_--;)l.push(32);break;case"c":for(d&&l.push(i("i8"));--_>0;)l.push(32);d||l.push(i("i8"));break;case"n":var J=i("i32*");yo[J>>2]=l.length;break;case"%":l.push(r);break;default:for(var D=c;a+2>D;D++)l.push(fo[D>>0])}a+=2}else l.push(r),a+=1}return l}function ge(t,e,i){var r=me(e,i),o=$r.stackSave(),a=fe(n(r,"i8",lo),1,r.length,t);return $r.stackRestore(o),a}function ye(t,e,i){return ge(t,e,yo[i>>2])}function be(t,e,i,r,o,n){try{zr.dynCall_viiiii(t,e,i,r,o,n)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;xn.setThrew(1,0)}}function ve(t,e,i){try{zr.dynCall_vid(t,e,i)}catch(r){if("number"!=typeof r&&"longjmp"!==r)throw r;xn.setThrew(1,0)}}function Me(t,e){try{zr.dynCall_vi(t,e)}catch(i){if("number"!=typeof i&&"longjmp"!==i)throw i;xn.setThrew(1,0)}}function Se(t,e,i,r,o,n,a){try{zr.dynCall_viiidii(t,e,i,r,o,n,a)}catch(s){if("number"!=typeof s&&"longjmp"!==s)throw s;xn.setThrew(1,0)}}function xe(t,e,i){try{zr.dynCall_vii(t,e,i)}catch(r){if("number"!=typeof r&&"longjmp"!==r)throw r;xn.setThrew(1,0)}}function Te(t,e,i,r,o,n,a,s,l,c,h){try{return zr.dynCall_iiiiiiiiiii(t,e,i,r,o,n,a,s,l,c,h)}catch(d){if("number"!=typeof d&&"longjmp"!==d)throw d;xn.setThrew(1,0)}}function Ee(t,e){try{return zr.dynCall_ii(t,e)}catch(i){if("number"!=typeof i&&"longjmp"!==i)throw i;xn.setThrew(1,0)}}function Ce(t,e,i,r,o){try{zr.dynCall_viidi(t,e,i,r,o)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;xn.setThrew(1,0)}}function Ae(t,e,i,r,o,n,a){try{zr.dynCall_viddiii(t,e,i,r,o,n,a)}catch(s){if("number"!=typeof s&&"longjmp"!==s)throw s;xn.setThrew(1,0)}}function we(t,e,i,r,o){try{zr.dynCall_vidii(t,e,i,r,o)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;xn.setThrew(1,0)}}function Re(t,e,i,r,o){try{return zr.dynCall_iiiii(t,e,i,r,o)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;xn.setThrew(1,0)}}function De(t,e,i,r){try{zr.dynCall_vidi(t,e,i,r)}catch(o){if("number"!=typeof o&&"longjmp"!==o)throw o;xn.setThrew(1,0)}}function Pe(t,e,i,r,o,n,a,s,l){try{return zr.dynCall_diiiiiiii(t,e,i,r,o,n,a,s,l)}catch(c){if("number"!=typeof c&&"longjmp"!==c)throw c;xn.setThrew(1,0)}}function Be(t,e,i,r,o,n,a,s,l,c,h,d){try{zr.dynCall_viiiiddddiid(t,e,i,r,o,n,a,s,l,c,h,d)}catch(u){if("number"!=typeof u&&"longjmp"!==u)throw u;xn.setThrew(1,0)}}function Ve(t,e,i,r,o,n){try{return zr.dynCall_diiiii(t,e,i,r,o,n)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;xn.setThrew(1,0)}}function Le(t,e,i,r){try{return zr.dynCall_iiii(t,e,i,r)}catch(o){if("number"!=typeof o&&"longjmp"!==o)throw o;xn.setThrew(1,0)}}function ke(t,e,i,r,o,n,a){try{zr.dynCall_viiiiii(t,e,i,r,o,n,a)}catch(s){if("number"!=typeof s&&"longjmp"!==s)throw s;xn.setThrew(1,0)}}function He(t,e,i,r){try{return zr.dynCall_iiid(t,e,i,r)}catch(o){if("number"!=typeof o&&"longjmp"!==o)throw o;xn.setThrew(1,0)}}function Ie(t,e){try{return zr.dynCall_di(t,e)}catch(i){if("number"!=typeof i&&"longjmp"!==i)throw i;xn.setThrew(1,0)
}}function Oe(t,e,i,r,o,n,a){try{return zr.dynCall_iiiiiii(t,e,i,r,o,n,a)}catch(s){if("number"!=typeof s&&"longjmp"!==s)throw s;xn.setThrew(1,0)}}function Je(t,e,i,r,o,n,a){try{return zr.dynCall_diiidii(t,e,i,r,o,n,a)}catch(s){if("number"!=typeof s&&"longjmp"!==s)throw s;xn.setThrew(1,0)}}function Ne(t,e,i,r,o,n){try{zr.dynCall_viidii(t,e,i,r,o,n)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;xn.setThrew(1,0)}}function Fe(t,e,i,r,o,n,a,s){try{zr.dynCall_viiiiiii(t,e,i,r,o,n,a,s)}catch(l){if("number"!=typeof l&&"longjmp"!==l)throw l;xn.setThrew(1,0)}}function Ge(t,e,i,r,o,n,a,s,l,c){try{zr.dynCall_viiiiiiiii(t,e,i,r,o,n,a,s,l,c)}catch(h){if("number"!=typeof h&&"longjmp"!==h)throw h;xn.setThrew(1,0)}}function ze(t,e,i,r,o,n,a,s,l,c,h){try{zr.dynCall_viiiiiiiiii(t,e,i,r,o,n,a,s,l,c,h)}catch(d){if("number"!=typeof d&&"longjmp"!==d)throw d;xn.setThrew(1,0)}}function je(t,e,i){try{return zr.dynCall_iii(t,e,i)}catch(r){if("number"!=typeof r&&"longjmp"!==r)throw r;xn.setThrew(1,0)}}function Ue(t,e,i,r){try{return zr.dynCall_diii(t,e,i,r)}catch(o){if("number"!=typeof o&&"longjmp"!==o)throw o;xn.setThrew(1,0)}}function We(t,e,i,r,o,n,a,s,l,c,h){try{return zr.dynCall_diiiiiiiiii(t,e,i,r,o,n,a,s,l,c,h)}catch(d){if("number"!=typeof d&&"longjmp"!==d)throw d;xn.setThrew(1,0)}}function Xe(t,e,i,r,o,n){try{zr.dynCall_viiiid(t,e,i,r,o,n)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;xn.setThrew(1,0)}}function qe(t,e,i,r,o,n,a,s,l,c){try{return zr.dynCall_diiiiiiiii(t,e,i,r,o,n,a,s,l,c)}catch(h){if("number"!=typeof h&&"longjmp"!==h)throw h;xn.setThrew(1,0)}}function Ke(t,e,i){try{return zr.dynCall_did(t,e,i)}catch(r){if("number"!=typeof r&&"longjmp"!==r)throw r;xn.setThrew(1,0)}}function Ye(t,e,i,r,o,n,a,s,l,c,h,d,u){try{zr.dynCall_viiiidddddidi(t,e,i,r,o,n,a,s,l,c,h,d,u)}catch(p){if("number"!=typeof p&&"longjmp"!==p)throw p;xn.setThrew(1,0)}}function Qe(t,e,i,r,o,n){try{return zr.dynCall_diidii(t,e,i,r,o,n)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;xn.setThrew(1,0)}}function Ze(t,e,i,r,o){try{return zr.dynCall_diiii(t,e,i,r,o)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;xn.setThrew(1,0)}}function $e(t,e,i,r,o,n,a,s,l,c){try{return zr.dynCall_iiiiiiiiii(t,e,i,r,o,n,a,s,l,c)}catch(h){if("number"!=typeof h&&"longjmp"!==h)throw h;xn.setThrew(1,0)}}function ti(t,e,i,r,o){try{zr.dynCall_viiid(t,e,i,r,o)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;xn.setThrew(1,0)}}function ei(t,e,i,r){try{zr.dynCall_viii(t,e,i,r)}catch(o){if("number"!=typeof o&&"longjmp"!==o)throw o;xn.setThrew(1,0)}}function ii(t){try{zr.dynCall_v(t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;xn.setThrew(1,0)}}function ri(t,e,i,r){try{zr.dynCall_viid(t,e,i,r)}catch(o){if("number"!=typeof o&&"longjmp"!==o)throw o;xn.setThrew(1,0)}}function oi(t,e,i,r,o){try{return zr.dynCall_iidid(t,e,i,r,o)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;xn.setThrew(1,0)}}function ni(t,e,i,r,o){try{zr.dynCall_viiii(t,e,i,r,o)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;xn.setThrew(1,0)}}function ai(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function si(t){function e(){zr.calledRun||(zr.calledRun=!0,no||(b(),v(),Xr&&null!==Vm&&zr.printErr("pre-main prep time: "+(Date.now()-Vm)+" ms"),zr._main&&km&&zr.callMain(t),S()))}return t=t||zr.arguments,null===Vm&&(Vm=Date.now()),$o>0?void zr.printErr("run() called, but dependencies remain, so not running"):(y(),void($o>0||zr.calledRun||(zr.setStatus?(zr.setStatus("Running..."),setTimeout(function(){setTimeout(function(){zr.setStatus("")},1),e()},1)):e())))}function li(t){if(!zr.noExitRuntime)throw no=!0,ao=t,Ao=Bm,M(),Wr?(process.stdout.once("drain",function(){process.exit(t)}),console.log(" "),setTimeout(function(){process.exit(t)},500)):Kr&&"function"==typeof quit&&quit(t),new ai(t)}function ci(t){t&&(zr.print(t),zr.printErr(t)),no=!0,ao=1;var e="\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw"abort() at "+f()+e}function hi(){}function di(t){return(t||hi).__cache__}function ui(t,e){var i=di(e),r=i[t];return r?r:(r=Object.create((e||hi).prototype),r.ptr=t,i[t]=r)}function pi(t,e){return ui(t.ptr,e)}function fi(t){if(!t.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";t.__destroy__(),delete di(t.__class__)[t.ptr]}function _i(t,e){return t.ptr===e.ptr}function mi(t){return t.ptr}function gi(t){return t.__class__}function yi(t){return"string"==typeof t?n(w(t),"i8",lo):t}function bi(){throw"cannot construct a btMatrix3x3, no constructor in IDL"}function vi(){this.ptr=_u(),di(vi)[this.ptr]=this}function Mi(t,e,i){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),void 0===i?(this.ptr=rf(t,e),void(di(Mi)[this.ptr]=this)):(this.ptr=of(t,e,i),void(di(Mi)[this.ptr]=this))}function Si(){this.ptr=Fc(),di(Si)[this.ptr]=this}function xi(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ti(){this.ptr=nd(),di(Ti)[this.ptr]=this}function Ei(){throw"cannot construct a btDispatcherInfo, no constructor in IDL"}function Ci(t,e){t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),this.ptr=$u(t,e),di(Ci)[this.ptr]=this}function Ai(){throw"cannot construct a btCollisionConfiguration, no constructor in IDL"}function wi(t,e,i,r,o){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),o=o&&"object"==typeof o?o.ptr:yi(o),void 0===i?(this.ptr=pl(t,e),void(di(wi)[this.ptr]=this)):void 0===r?(this.ptr=fl(t,e,i),void(di(wi)[this.ptr]=this)):void 0===o?(this.ptr=gl(t,e,i,r),void(di(wi)[this.ptr]=this)):(this.ptr=yl(t,e,i,r,o),void(di(wi)[this.ptr]=this))}function Ri(){this.ptr=Ta(),di(Ri)[this.ptr]=this}function Di(t,e,i,r){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),void 0===r?(this.ptr=Dd(t,e,i),void(di(Di)[this.ptr]=this)):(this.ptr=Bd(t,e,i,r),void(di(Di)[this.ptr]=this))}function Pi(){throw"cannot construct a btManifoldPoint, no constructor in IDL"}function Bi(t,e,i,r,o){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),o=o&&"object"==typeof o?o.ptr:yi(o),void 0===r?(this.ptr=Va(t,e,i),void(di(Bi)[this.ptr]=this)):void 0===o?(this.ptr=_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_4(t,e,i,r),void(di(Bi)[this.ptr]=this)):(this.ptr=Ba(t,e,i,r,o),void(di(Bi)[this.ptr]=this))}function Vi(){throw"cannot construct a btStridingMeshInterface, no constructor in IDL"}function Li(){throw"cannot construct a btBroadphaseInterface, no constructor in IDL"}function ki(){throw"cannot construct a btCollisionObject, no constructor in IDL"}function Hi(t,e,i,r){t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),this.ptr=Rn(t,e,i,r),di(Hi)[this.ptr]=this}function Ii(t,e){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),void 0===e?(this.ptr=Fa(t),void(di(Ii)[this.ptr]=this)):(this.ptr=Na(t,e),void(di(Ii)[this.ptr]=this))}function Oi(){throw"cannot construct a ConvexResultCallback, no constructor in IDL"}function Ji(t,e,i,r){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),void 0===i?(this.ptr=jp(t,e),void(di(Ji)[this.ptr]=this)):void 0===r?(this.ptr=_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_3(t,e,i),void(di(Ji)[this.ptr]=this)):(this.ptr=zp(t,e,i,r),void(di(Ji)[this.ptr]=this))}function Ni(){throw"cannot construct a btMotionState, no constructor in IDL"}function Fi(t,e,i,r,o){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),o=o&&"object"==typeof o?o.ptr:yi(o),void 0===r?(this.ptr=tm(t,e,i),void(di(Fi)[this.ptr]=this)):void 0===o?(this.ptr=_emscripten_bind_btSliderConstraint_btSliderConstraint_4(t,e,i,r),void(di(Fi)[this.ptr]=this)):(this.ptr=$_(t,e,i,r,o),void(di(Fi)[this.ptr]=this))}function Gi(t,e,i,r){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),void 0===i?(this.ptr=Pl(t,e),void(di(Gi)[this.ptr]=this)):void 0===r?(this.ptr=_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_3(t,e,i),void(di(Gi)[this.ptr]=this)):(this.ptr=Vl(t,e,i,r),void(di(Gi)[this.ptr]=this))}function zi(t,e){t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),this.ptr=ol(t,e),di(zi)[this.ptr]=this}function ji(){throw"cannot construct a btConvexShape, no constructor in IDL"}function Ui(t){return t=t&&"object"==typeof t?t.ptr:yi(t),void 0===t?(this.ptr=_p(),void(di(Ui)[this.ptr]=this)):(this.ptr=mp(t),void(di(Ui)[this.ptr]=this))}function Wi(){throw"cannot construct a ContactResultCallback, no constructor in IDL"}function Xi(t,e){t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),this.ptr=nu(t,e),di(Xi)[this.ptr]=this}function qi(t,e){t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),this.ptr=Cl(t,e),di(qi)[this.ptr]=this}function Ki(t,e){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),void 0===t?(this.ptr=m_(),void(di(Ki)[this.ptr]=this)):void 0===e?(this.ptr=Bc(t),void(di(Ki)[this.ptr]=this)):(this.ptr=y_(t,e),void(di(Ki)[this.ptr]=this))}function Yi(){this.ptr=Nl(),di(Yi)[this.ptr]=this}function Qi(){this.ptr=ap(),di(Qi)[this.ptr]=this}function Zi(t){t=t&&"object"==typeof t?t.ptr:yi(t),this.ptr=Aa(t),di(Zi)[this.ptr]=this}function $i(t){t=t&&"object"==typeof t?t.ptr:yi(t),this.ptr=la(t),di($i)[this.ptr]=this}function tr(){this.ptr=D_(),di(tr)[this.ptr]=this}function er(t){return t=t&&"object"==typeof t?t.ptr:yi(t),void 0===t?(this.ptr=fh(),void(di(er)[this.ptr]=this)):(this.ptr=_h(t),void(di(er)[this.ptr]=this))}function ir(){throw"cannot construct a btCollisionObjectWrapper, no constructor in IDL"}function rr(t,e){t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),this.ptr=yu(t,e),di(rr)[this.ptr]=this}function or(t,e){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),void 0===t?(this.ptr=Kl(),void(di(or)[this.ptr]=this)):void 0===e?(this.ptr=Yl(t),void(di(or)[this.ptr]=this)):(this.ptr=ql(t,e),void(di(or)[this.ptr]=this))}function nr(){throw"cannot construct a btTriangleMeshShape, no constructor in IDL"}function ar(){throw"cannot construct a btDispatcher, no constructor in IDL"}function sr(t,e){t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),this.ptr=lp(t,e),di(sr)[this.ptr]=this}function lr(){throw"cannot construct a btDynamicsWorld, no constructor in IDL"}function cr(t,e){t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),this.ptr=$a(t,e),di(cr)[this.ptr]=this}function hr(t,e,i,r){t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),this.ptr=da(t,e,i,r),di(hr)[this.ptr]=this}function dr(t,e){t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),this.ptr=Z_(t,e),di(dr)[this.ptr]=this}function ur(t){t=t&&"object"==typeof t?t.ptr:yi(t),this.ptr=rd(t),di(ur)[this.ptr]=this}function pr(){throw"cannot construct a RayResultCallback, no constructor in IDL"}function fr(){throw"cannot construct a btWheelInfo, no constructor in IDL"}function _r(){throw"cannot construct a btConcaveShape, no constructor in IDL"}function mr(t,e,i,r){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),void 0===t?(this.ptr=ym(),void(di(mr)[this.ptr]=this)):void 0===e?(this.ptr=_emscripten_bind_btVector4_btVector4_1(t),void(di(mr)[this.ptr]=this)):void 0===i?(this.ptr=_emscripten_bind_btVector4_btVector4_2(t,e),void(di(mr)[this.ptr]=this)):void 0===r?(this.ptr=_emscripten_bind_btVector4_btVector4_3(t,e,i),void(di(mr)[this.ptr]=this)):(this.ptr=vm(t,e,i,r),void(di(mr)[this.ptr]=this))}function gr(t,e,i,r){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),void 0===r?(this.ptr=gp(t,e,i),void(di(gr)[this.ptr]=this)):(this.ptr=dc(t,e,i,r),void(di(gr)[this.ptr]=this))}function yr(t,e){t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),this.ptr=gh(t,e),di(yr)[this.ptr]=this}function br(){throw"cannot construct a btActionInterface, no constructor in IDL"}function vr(){throw"cannot construct a btOverlappingPairCache, no constructor in IDL"}function Mr(t,e,i){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),void 0===t?(this.ptr=Gu(),void(di(Mr)[this.ptr]=this)):void 0===e?(this.ptr=_emscripten_bind_btVector3_btVector3_1(t),void(di(Mr)[this.ptr]=this)):void 0===i?(this.ptr=_emscripten_bind_btVector3_btVector3_2(t,e),void(di(Mr)[this.ptr]=this)):(this.ptr=Fu(t,e,i),void(di(Mr)[this.ptr]=this))}function Sr(){throw"cannot construct a btVehicleRaycaster, no constructor in IDL"}function xr(t){t=t&&"object"==typeof t?t.ptr:yi(t),this.ptr=Kh(t),di(xr)[this.ptr]=this}function Tr(){this.ptr=pu(),di(Tr)[this.ptr]=this}function Er(t,e,i,r,o,n,a){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),o=o&&"object"==typeof o?o.ptr:yi(o),n=n&&"object"==typeof n?n.ptr:yi(n),a=a&&"object"==typeof a?a.ptr:yi(a),void 0===i?(this.ptr=Nh(t,e),void(di(Er)[this.ptr]=this)):void 0===r?(this.ptr=Fh(t,e,i),void(di(Er)[this.ptr]=this)):void 0===o?(this.ptr=Oh(t,e,i,r),void(di(Er)[this.ptr]=this)):void 0===n?(this.ptr=Jh(t,e,i,r,o),void(di(Er)[this.ptr]=this)):void 0===a?(this.ptr=Hh(t,e,i,r,o,n),void(di(Er)[this.ptr]=this)):(this.ptr=Ih(t,e,i,r,o,n,a),void(di(Er)[this.ptr]=this))}function Cr(){throw"cannot construct a btCollisionShape, no constructor in IDL"}function Ar(){this.ptr=xm(),di(Ar)[this.ptr]=this}function wr(){this.ptr=rl(),di(wr)[this.ptr]=this}function Rr(){throw"cannot construct a LocalShapeInfo, no constructor in IDL"}function Dr(){throw"cannot construct a btConstraintSolver, no constructor in IDL"}function Pr(t,e,i){t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),this.ptr=$l(t,e,i),di(Pr)[this.ptr]=this}function Br(t,e,i,r,o){t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),o=o&&"object"==typeof o?o.ptr:yi(o),this.ptr=Bs(t,e,i,r,o),di(Br)[this.ptr]=this}function Vr(){throw"cannot construct a btOverlappingPairCallback, no constructor in IDL"}function Lr(t){t=t&&"object"==typeof t?t.ptr:yi(t),this.ptr=Jf(t),di(Lr)[this.ptr]=this}function kr(t){t=t&&"object"==typeof t?t.ptr:yi(t),this.ptr=Uh(t),di(kr)[this.ptr]=this}function Hr(t){t=t&&"object"==typeof t?t.ptr:yi(t),this.ptr=uh(t),di(Hr)[this.ptr]=this}function Ir(t,e){return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),void 0===t?(this.ptr=hs(),void(di(Ir)[this.ptr]=this)):void 0===e?(this.ptr=_emscripten_bind_btTransform_btTransform_1(t),void(di(Ir)[this.ptr]=this)):(this.ptr=cs(t,e),void(di(Ir)[this.ptr]=this))}function Or(){throw"cannot construct a btCollisionWorld, no constructor in IDL"}function Jr(){throw"cannot construct a btQuadWord, no constructor in IDL"}function Nr(t){t=t&&"object"==typeof t?t.ptr:yi(t),this.ptr=Md(t),di(Nr)[this.ptr]=this}function Fr(){this.ptr=Em(),di(Fr)[this.ptr]=this}function Gr(){throw"cannot construct a btTypedConstraint, no constructor in IDL"}var zr,zr=this;zr||(zr=("undefined"!=typeof zr?zr:null)||{});var jr={};for(var Ur in zr)zr.hasOwnProperty(Ur)&&(jr[Ur]=zr[Ur]);var Wr="object"==typeof process&&"function"==typeof require,Xr="object"==typeof window,qr="function"==typeof importScripts,Kr=!Xr&&!Wr&&!qr;if(Wr){zr.print||(zr.print=function(t){process.stdout.write(t+"\n")}),zr.printErr||(zr.printErr=function(t){process.stderr.write(t+"\n")});var Yr=require("fs"),Qr=require("path");zr.read=function(t,e){t=Qr.normalize(t);var i=Yr.readFileSync(t);return i||t==Qr.resolve(t)||(t=path.join(__dirname,"..","src",t),i=Yr.readFileSync(t)),i&&!e&&(i=i.toString()),i},zr.readBinary=function(t){return zr.read(t,!0)},zr.load=function(e){t(read(e))},zr.thisProgram=process.argv[1].replace(/\\/g,"/"),zr.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=zr),process.on("uncaughtException",function(t){if(!(t instanceof ai))throw t})}else if(Kr)zr.print||(zr.print=print),"undefined"!=typeof printErr&&(zr.printErr=printErr),zr.read="undefined"!=typeof read?read:function(){throw"no read() available (jsc?)"},zr.readBinary=function(t){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(t));var i=read(t,"binary");return e("object"==typeof i),i},"undefined"!=typeof scriptArgs?zr.arguments=scriptArgs:"undefined"!=typeof arguments&&(zr.arguments=arguments),this.Module=zr;else{if(!Xr&&!qr)throw"Unknown runtime environment. Where are we?";if(zr.read=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},"undefined"!=typeof arguments&&(zr.arguments=arguments),"undefined"!=typeof console)zr.print||(zr.print=function(t){console.log(t)}),zr.printErr||(zr.printErr=function(t){console.log(t)});else{var Zr=!1;zr.print||(zr.print=Zr&&"undefined"!=typeof dump?function(t){dump(t)}:function(){})}Xr?window.Module=zr:zr.load=importScripts}!zr.load&&zr.read&&(zr.load=function(e){t(zr.read(e))}),zr.print||(zr.print=function(){}),zr.printErr||(zr.printErr=zr.print),zr.arguments||(zr.arguments=[]),zr.thisProgram||(zr.thisProgram="./this.program"),zr.print=zr.print,zr.printErr=zr.printErr,zr.preRun=[],zr.postRun=[];for(var Ur in jr)jr.hasOwnProperty(Ur)&&(zr[Ur]=jr[Ur]);var $r={setTempRet0:function(t){io=t},getTempRet0:function(){return io},stackSave:function(){return Ao},stackRestore:function(t){Ao=t},getNativeTypeSize:function(t){switch(t){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===t[t.length-1])return $r.QUANTUM_SIZE;if("i"===t[0]){var i=parseInt(t.substr(1));return e(i%8===0),i/8}return 0}},getNativeFieldSize:function(t){return Math.max($r.getNativeTypeSize(t),$r.QUANTUM_SIZE)},STACK_ALIGN:16,getAlignSize:function(t,e,i){return i||"i64"!=t&&"double"!=t?t?Math.min(e||(t?$r.getNativeFieldSize(t):0),$r.QUANTUM_SIZE):Math.min(e,8):8},dynCall:function(t,e,i){return i&&i.length?(i.splice||(i=Array.prototype.slice.call(i)),i.splice(0,0,e),zr["dynCall_"+t].apply(null,i)):zr["dynCall_"+t].call(null,e)},functionPointers:[],addFunction:function(t){for(var e=0;e<$r.functionPointers.length;e++)if(!$r.functionPointers[e])return $r.functionPointers[e]=t,2*(1+e);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(t){$r.functionPointers[(t-2)/2]=null},getAsmConst:function(t,e){$r.asmConstCache||($r.asmConstCache={});var i=$r.asmConstCache[t];if(i)return i;for(var r=[],o=0;e>o;o++)r.push(String.fromCharCode(36)+o);var n=a(t);return'"'===n[0]&&(n.indexOf('"',1)===n.length-1?n=n.substr(1,n.length-2):ci("invalid EM_ASM input |"+n+"|. Please use EM_ASM(..code..) (no quotes) or EM_ASM({ ..code($0).. }, input) (to input values)")),ci("NO_DYNAMIC_EXECUTION was set, cannot eval, so EM_ASM is not functional"),$r.asmConstCache[t]=evalled},warnOnce:function(t){$r.warnOnce.shown||($r.warnOnce.shown={}),$r.warnOnce.shown[t]||($r.warnOnce.shown[t]=1,zr.printErr(t))},funcWrappers:{},getFuncWrapper:function(t,i){e(i),$r.funcWrappers[i]||($r.funcWrappers[i]={});var r=$r.funcWrappers[i];return r[t]||(r[t]=function(){return $r.dynCall(i,t,arguments)}),r[t]},UTF8Processor:function(){var t=[],e=0;this.processCChar=function(i){if(i=255&i,0==t.length)return 0==(128&i)?String.fromCharCode(i):(t.push(i),e=192==(224&i)?1:224==(240&i)?2:3,"");if(e&&(t.push(i),e--,e>0))return"";var r,o=t[0],n=t[1],a=t[2],s=t[3];if(2==t.length)r=String.fromCharCode((31&o)<<6|63&n);else if(3==t.length)r=String.fromCharCode((15&o)<<12|(63&n)<<6|63&a);else{var l=(7&o)<<18|(63&n)<<12|(63&a)<<6|63&s;r=String.fromCharCode(((l-65536)/1024|0)+55296,(l-65536)%1024+56320)}return t.length=0,r},this.processJSString=function(t){t=unescape(encodeURIComponent(t));for(var e=[],i=0;i<t.length;i++)e.push(t.charCodeAt(i));return e}},getCompilerSetting:function(){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(t){var e=Ao;return Ao=Ao+t|0,Ao=Ao+15&-16,e},staticAlloc:function(t){var e=To;return To=To+t|0,To=To+15&-16,e},dynamicAlloc:function(t){var e=Do;return Do=Do+t|0,Do=Do+15&-16,Do>=Bo&&m(),e},alignMemory:function(t,e){var i=t=Math.ceil(t/(e?e:16))*(e?e:16);return i},makeBigInt:function(t,e,i){var r=i?+(t>>>0)+4294967296*+(e>>>0):+(t>>>0)+4294967296*+(0|e);return r},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};zr.Runtime=$r;var to,eo,io,ro,oo,no=!1,ao=0;!function(){function t(t){var e=t.toString().match(n).slice(1);return{arguments:e[0],body:e[1],returnValue:e[2]}}var e=0,r={stackSave:function(){e=$r.stackSave()},stackRestore:function(){$r.stackRestore(e)},arrayToC:function(t){var e=$r.stackAlloc(t.length);return P(t,e),e},stringToC:function(t){var e=0;return null!==t&&void 0!==t&&0!==t&&(e=$r.stackAlloc((t.length<<2)+1),D(t,e)),e}},o={string:r.stringToC,array:r.arrayToC};oo=function(t,n,s,l){var c=i(t),h=[];if(l)for(var d=0;d<l.length;d++){var u=o[s[d]];u?(0===e&&(e=$r.stackSave()),h[d]=u(l[d])):h[d]=l[d]}var p=c.apply(null,h);return"string"===n&&(p=a(p)),0!==e&&r.stackRestore(),p};var n=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/,s={};for(var l in r)r.hasOwnProperty(l)&&(s[l]=t(r[l]));ro=function(e,r,o){o=o||[];var n=i(e),l=o.every(function(t){return"number"===t}),c="string"!==r;if(c&&l)return n;var h=o.map(function(t,e){return"$"+e}),d="(function("+h.join(",")+") {",u=o.length;if(!l){d+=s.stackSave.body+";";for(var p=0;u>p;p++){var f=h[p],_=o[p];if("number"!==_){var m=s[_+"ToC"];d+="var "+m.arguments+" = "+f+";",d+=m.body+";",d+=f+"="+m.returnValue+";"}}}var g=t(function(){return n}).returnValue;if(d+="var ret = "+g+"("+h.join(",")+");",!c){var y=t(function(){return a}).returnValue;d+="ret = "+y+"(ret);"}l||(d+=s.stackRestore.body+";"),d+="return ret})",ci("NO_DYNAMIC_EXECUTION was set, cannot eval - ccall is not functional")}}(),zr.cwrap=ro,zr.ccall=oo,zr.setValue=r,zr.getValue=o;var so=0,lo=1,co=2,ho=3,uo=4;zr.ALLOC_NORMAL=so,zr.ALLOC_STACK=lo,zr.ALLOC_STATIC=co,zr.ALLOC_DYNAMIC=ho,zr.ALLOC_NONE=uo,zr.allocate=n,zr.Pointer_stringify=a,zr.UTF16ToString=s,zr.stringToUTF16=l,zr.UTF32ToString=c,zr.stringToUTF32=h,zr.stackTrace=f;for(var po,fo,_o,mo,go,yo,bo,vo,Mo,So=4096,xo=0,To=0,Eo=!1,Co=0,Ao=0,wo=0,Ro=0,Do=0,Po=zr.TOTAL_STACK||5242880,Bo=zr.TOTAL_MEMORY||67108864,Vo=(zr.FAST_MEMORY||2097152,65536);Bo>Vo||2*Po>Vo;)16777216>Vo?Vo*=2:Vo+=16777216;Vo!==Bo&&(zr.printErr("increasing TOTAL_MEMORY to "+Vo+" to be compliant with the asm.js spec"),Bo=Vo),e("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var Lo=new ArrayBuffer(Bo);fo=new Int8Array(Lo),mo=new Int16Array(Lo),yo=new Int32Array(Lo),_o=new Uint8Array(Lo),go=new Uint16Array(Lo),bo=new Uint32Array(Lo),vo=new Float32Array(Lo),Mo=new Float64Array(Lo),yo[0]=255,e(255===_o[0]&&0===_o[3],"Typed arrays 2 must be run on a little-endian system"),zr.HEAP=po,zr.HEAP8=fo,zr.HEAP16=mo,zr.HEAP32=yo,zr.HEAPU8=_o,zr.HEAPU16=go,zr.HEAPU32=bo,zr.HEAPF32=vo,zr.HEAPF64=Mo;var ko=[],Ho=[],Io=[],Oo=[],Jo=[],No=!1,Fo=!1;zr.addOnPreRun=zr.addOnPreRun=x,zr.addOnInit=zr.addOnInit=T,zr.addOnPreMain=zr.addOnPreMain=E,zr.addOnExit=zr.addOnExit=C,zr.addOnPostRun=zr.addOnPostRun=A,zr.intArrayFromString=w,zr.intArrayToString=R,zr.writeStringToMemory=D,zr.writeArrayToMemory=P,zr.writeAsciiToMemory=B,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(t,e){var i=t>>>16,r=65535&t,o=e>>>16,n=65535&e;return r*n+(i*n+r*o<<16)|0}),Math.imul=Math.imul;var Go=Math.abs,zo=Math.cos,jo=Math.sin,Uo=(Math.tan,Math.acos),Wo=Math.asin,Xo=(Math.atan,Math.atan2),qo=(Math.exp,Math.log,Math.sqrt),Ko=Math.ceil,Yo=Math.floor,Qo=Math.pow,Zo=(Math.imul,Math.fround,Math.min),$o=0,tn=null,en=null;zr.addRunDependency=k,zr.removeRunDependency=H,zr.preloadedImages={},zr.preloadedAudios={};var rn=null;xo=8,To=xo+$r.alignMemory(21635),Ho.push({func:function(){Rm()}}),n([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,49,55,98,116,84,121,112,101,100,67,111,110,115,116,114,97,105,110,116,0,0,0,0,0,49,51,98,116,84,121,112,101,100,79,98,106,101,99,116,0,184,81,0,0,136,0,0,0,64,82,0,0,112,0,0,0,0,0,0,0,1,0,0,0,152,0,0,0,2,4,0,0,0,0,0,0,24,1,0,0,4,0,0,0,5,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,49,57,98,116,71,104,111,115,116,80,97,105,114,67,97,108,108,98,97,99,107,0,0,0,50,53,98,116,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,108,108,98,97,99,107,0,0,0,0,0,184,81,0,0,240,0,0,0,224,81,0,0,216,0,0,0,16,1,0,0,0,0,0,0,49,56,98,116,86,101,104,105,99,108,101,82,97,121,99,97,115,116,101,114,0,0,0,0,184,81,0,0,40,1,0,0,0,0,0,0,192,1,0,0,6,0,0,0,7,0,0,0,1,0,0,0,1,0,0,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,52,67,108,111,115,101,115,116,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,184,81,0,0,144,1,0,0,224,81,0,0,96,1,0,0,184,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,152,2,0,0,8,0,0,0,9,0,0,0,1,0,0,0,2,0,0,0,50,48,98,116,68,101,102,97,117,108,116,77,111,116,105,111,110,83,116,97,116,101,0,0,49,51,98,116,77,111,116,105,111,110,83,116,97,116,101,0,184,81,0,0,128,2,0,0,224,81,0,0,104,2,0,0,144,2,0,0,0,0,0,0,0,0,0,0,48,3,0,0,10,0,0,0,11,0,0,0,2,0,0,0,2,0,0,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,55,67,108,111,115,101,115,116,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,0,0,0,0,0,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,0,0,0,0,0,184,81,0,0,248,2,0,0,224,81,0,0,192,2,0,0,40,3,0,0,0,0,0,0,0,0,0,0,176,3,0,0,12,0,0,0,13,0,0,0,3,0,0,0,1,0,0,0,50,57,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,0,0,0,0,184,81,0,0,120,3,0,0,224,81,0,0,88,3,0,0,168,3,0,0,0,0,0,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,58,58,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,46,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,40,36,49,44,36,50,44,36,51,44,36,52,44,36,53,44,36,54,44,36,55,41,59,32,125,0,0,0,0,0,0,0,0,56,5,0,0,14,0,0,0,15,0,0,0,16,0,0,0,1,0,0,0,3,0,0,0,4,0,0,0,2,0,0,0,1,0,0,0,3,0,0,0,2,0,0,0,3,0,0,0,2,0,0,0,50,49,98,116,67,111,110,101,84,119,105,115,116,67,111,110,115,116,114,97,105,110,116,0,224,81,0,0,32,5,0,0,160,0,0,0,0,0,0,0,98,116,67,111,110,101,84,119,105,115,116,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,0,0,0,0,0,0,0,0,0,0,48,8,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,5,0,0,0,3,0,0,0,21,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,6,0,0,0,22,0,0,0,7,0,0,0,1,0,0,0,3,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,23,0,0,0,13,0,0,0,4,0,0,0,14,0,0,0,15,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,24,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,1,0,0,0,2,0,0,0,25,0,0,0,20,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,26,0,0,0,21,0,0,0,6,0,0,0,0,0,0,0,100,101,98,117,103,68,114,97,119,87,111,114,108,100,0,0,115,121,110,99,104,114,111,110,105,122,101,77,111,116,105,111,110,83,116,97,116,101,115,0,115,116,101,112,83,105,109,117,108,97,116,105,111,110,0,0,105,110,116,101,114,110,97,108,83,105,110,103,108,101,83,116,101,112,83,105,109,117,108,97,116,105,111,110,0,0,0,0,117,112,100,97,116,101,65,99,116,105,111,110,115,0,0,0,117,112,100,97,116,101,65,99,116,105,118,97,116,105,111,110,83,116,97,116,101,0,0,0,115,111,108,118,101,67,111,110,115,116,114,97,105,110,116,115,0,0,0,0,0,0,0,0,99,97,108,99,117,108,97,116,101,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,99,114,101,97,116,101,80,114,101,100,105,99,116,105,118,101,67,111,110,116,97,99,116,115,0,0,0,0,0,0,0,0,114,101,108,101,97,115,101,32,112,114,101,100,105,99,116,105,118,101,32,99,111,110,116,97,99,116,32,109,97,110,105,102,111,108,100,115,0,0,0,0,112,114,101,100,105,99,116,105,118,101,32,99,111,110,118,101,120,83,119,101,101,112,84,101,115,116,0,0,0,0,0,0,105,110,116,101,103,114,97,116,101,84,114,97,110,115,102,111,114,109,115,0,0,0,0,0,67,67,68,32,109,111,116,105,111,110,32,99,108,97,109,112,105,110,103,0,0,0,0,0,97,112,112,108,121,32,115,112,101,99,117,108,97,116,105,118,101,32,99,111,110,116,97,99,116,32,114,101,115,116,105,116,117,116,105,111,110,0,0,0,112,114,101,100,105,99,116,85,110,99,111,110,115,116,114,97,105,110,116,77,111,116,105,111,110,0,0,0,0,0,0,0,98,116,68,121,110,97,109,105,99,115,87,111,114,108,100,70,108,111,97,116,68,97,116,97,0,0,0,0,0,0,0,0,50,51,98,116,68,105,115,99,114,101,116,101,68,121,110,97,109,105,99,115,87,111,114,108,100,0,0,0,0,0,0,0,49,53,98,116,68,121,110,97,109,105,99,115,87,111,114,108,100,0,0,0,0,0,0,0,224,81,0,0,8,8,0,0,184,29,0,0,0,0,0,0,224,81,0,0,232,7,0,0,32,8,0,0,0,0,0,0,98,116,67,111,110,118,101,120,73,110,116,101,114,110,97,108,83,104,97,112,101,68,97,116,97,0,0,0,0,0,0,0,83,80,72,69,82,69,0,0,0,0,0,0,168,8,0,0,27,0,0,0,28,0,0,0,6,0,0,0,4,0,0,0,51,52,98,116,67,108,111,115,101,115,116,78,111,116,77,101,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,0,0,0,224,81,0,0,128,8,0,0,48,3,0,0,0,0,0,0,0,0,0,0,40,9,0,0,29,0,0,0,30,0,0,0,1,0,0,0,0,0,0,0,50,55,73,110,112,108,97,99,101,83,111,108,118,101,114,73,115,108,97,110,100,67,97,108,108,98,97,99,107,0,0,0,78,50,53,98,116,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,77,97,110,97,103,101,114,49,52,73,115,108,97,110,100,67,97,108,108,98,97,99,107,69,0,0,0,184,81,0,0,240,8,0,0,224,81,0,0,208,8,0,0,32,9,0,0,0,0,0,0,0,0,0,0,144,9,0,0,31,0,0,0,32,0,0,0,33,0,0,0,1,0,0,0,22,0,0,0,23,0,0,0,1,0,0,0,2,0,0,0,5,0,0,0,7,0,0,0,4,0,0,0,34,0,0,0,50,51,98,116,71,101,110,101,114,105,99,54,68,111,102,67,111,110,115,116,114,97,105,110,116,0,0,0,0,0,0,0,224,81,0,0,112,9,0,0,160,0,0,0,0,0,0,0,98,116,71,101,110,101,114,105,99,54,68,111,102,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,0,0,0,0,0,0,0,0,16,10,0,0,35,0,0,0,36,0,0,0,37,0,0,0,1,0,0,0,24,0,0,0,25,0,0,0,1,0,0,0,3,0,0,0,6,0,0,0,8,0,0,0,5,0,0,0,0,0,0,0,49,55,98,116,72,105,110,103,101,67,111,110,115,116,114,97,105,110,116,0,0,0,0,0,224,81,0,0,248,9,0,0,160,0,0,0,0,0,0,0,98,116,72,105,110,103,101,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,0,0,0,0,0,0,0,0,0,56,11,0,0,38,0,0,0,39,0,0,0,1,0,0,0,26,0,0,0,27,0,0,0,2,0,0,0,28,0,0,0,29,0,0,0,30,0,0,0,3,0,0,0,9,0,0,0,40,0,0,0,10,0,0,0,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,51,48,98,116,75,105,110,101,109,97,116,105,99,67,104,97,114,97,99,116,101,114,67,111,110,116,114,111,108,108,101,114,0,0,0,0,0,0,0,0,51,48,98,116,67,104,97,114,97,99,116,101,114,67,111,110,116,114,111,108,108,101,114,73,110,116,101,114,102,97,99,101,0,0,0,0,0,0,0,0,49,55,98,116,65,99,116,105,111,110,73,110,116,101,114,102,97,99,101,0,0,0,0,0,184,81,0,0,8,11,0,0,224,81,0,0,224,10,0,0,32,11,0,0,0,0,0,0,224,81,0,0,184,10,0,0,40,11,0,0,0,0,0,0,0,0,0,0,144,11,0,0,41,0,0,0,42,0,0,0,2,0,0,0,7,0,0,0,52,51,98,116,75,105,110,101,109,97,116,105,99,67,108,111,115,101,115,116,78,111,116,77,101,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,0,0,224,81,0,0,96,11,0,0,48,3,0,0,0,0,0,0,0,0,0,0,248,11,0,0,43,0,0,0,44,0,0,0,45,0,0,0,1,0,0,0,32,0,0,0,33,0,0,0,1,0,0,0,4,0,0,0,8,0,0,0,11,0,0,0,6,0,0,0,0,0,0,0,50,51,98,116,80,111,105,110,116,50,80,111,105,110,116,67,111,110,115,116,114,97,105,110,116,0,0,0,0,0,0,0,224,81,0,0,216,11,0,0,160,0,0,0,0,0,0,0,98,116,80,111,105,110,116,50,80,111,105,110,116,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,224,14,0,0,46,0,0,0,47,0,0,0,4,0,0,0,34,0,0,0,7,0,0,0,8,0,0,0,5,0,0,0,0,0,0,0,49,54,98,116,82,97,121,99,97,115,116,86,101,104,105,99,108,101,0,0,0,0,0,0,224,81,0,0,200,14,0,0,32,11,0,0,0,0,0,0,0,0,0,0,40,15,0,0,48,0,0,0,49,0,0,0,2,0,0,0,0,0,0,0,50,53,98,116,68,101,102,97,117,108,116,86,101,104,105,99,108,101,82,97,121,99,97,115,116,101,114,0,0,0,0,0,224,81,0,0,8,15,0,0,64,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,152,15,0,0,7,0,0,0,50,0,0,0,51,0,0,0,35,0,0,0,12,0,0,0,7,0,0,0,36,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,98,116,82,105,103,105,100,66,111,100,121,70,108,111,97,116,68,97,116,97,0,0,0,0,49,49,98,116,82,105,103,105,100,66,111,100,121,0,0,0,224,81,0,0,136,15,0,0,160,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,16,0,0,52,0,0,0,53,0,0,0,4,0,0,0,1,0,0,0,5,0,0,0,54,0,0,0,13,0,0,0,6,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,115,111,108,118,101,71,114,111,117,112,67,97,99,104,101,70,114,105,101,110,100,108,121,83,101,116,117,112,0,0,0,0,115,111,108,118,101,71,114,111,117,112,67,97,99,104,101,70,114,105,101,110,100,108,121,73,116,101,114,97,116,105,111,110,115,0,0,0,0,0,0,0,115,111,108,118,101,71,114,111,117,112,0,0,0,0,0,0,51,53,98,116,83,101,113,117,101,110,116,105,97,108,73,109,112,117,108,115,101,67,111,110,115,116,114,97,105,110,116,83,111,108,118,101,114,0,0,0,49,56,98,116,67,111,110,115,116,114,97,105,110,116,83,111,108,118,101,114,0,0,0,0,184,81,0,0,112,16,0,0,224,81,0,0,72,16,0,0,136,16,0,0,0,0,0,0,0,0,0,0,240,16,0,0,55,0,0,0,56,0,0,0,3,0,0,0,1,0,0,0,37,0,0,0,38,0,0,0,1,0,0,0,5,0,0,0,9,0,0,0,14,0,0,0,8,0,0,0,0,0,0,0,49,56,98,116,83,108,105,100,101,114,67,111,110,115,116,114,97,105,110,116,0,0,0,0,224,81,0,0,216,16,0,0,160,0,0,0,0,0,0,0,98,116,83,108,105,100,101,114,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,0,98,116,84,121,112,101,100,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,72,20,0,0,57,0,0,0,58,0,0,0,1,0,0,0,6,0,0,0,1,0,0,0,7,0,0,0,2,0,0,0,8,0,0,0,39,0,0,0,15,0,0,0,16,0,0,0,7,0,0,0,40,0,0,0,59,0,0,0,49,50,98,116,65,120,105,115,83,119,101,101,112,51,0,0,50,48,98,116,65,120,105,115,83,119,101,101,112,51,73,110,116,101,114,110,97,108,73,116,69,0,0,0,0,0,0,0,50,49,98,116,66,114,111,97,100,112,104,97,115,101,73,110,116,101,114,102,97,99,101,0,184,81,0,0,24,20,0,0,224,81,0,0,248,19,0,0,48,20,0,0,0,0,0,0,224,81,0,0,232,19,0,0,56,20,0,0,0,0,0,0,0,0,0,0,56,20,0,0,60,0,0,0,61,0,0,0,1,0,0,0,6,0,0,0,1,0,0,0,7,0,0,0,2,0,0,0,8,0,0,0,39,0,0,0,15,0,0,0,16,0,0,0,7,0,0,0,40,0,0,0,59,0,0,0,0,0,0,0,48,21,0,0,62,0,0,0,63,0,0,0,9,0,0,0,3,0,0,0,8,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,9,0,0,0,20,0,0,0,10,0,0,0,41,0,0,0,11,0,0,0,10,0,0,0,21,0,0,0,42,0,0,0,43,0,0,0,0,0,0,0,49,53,98,116,78,117,108,108,80,97,105,114,67,97,99,104,101,0,0,0,0,0,0,0,50,50,98,116,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,0,0,0,0,0,0,0,0,224,81,0,0,0,21,0,0,16,1,0,0,0,0,0,0,224,81,0,0,232,20,0,0,32,21,0,0,0,0,0,0,0,0,0,0,216,21,0,0,64,0,0,0,65,0,0,0,9,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,44,0,0,0,22,0,0,0,1,0,0,0,23,0,0,0,45,0,0,0,9,0,0,0,2,0,0,0,24,0,0,0,11,0,0,0,46,0,0,0,13,0,0,0,14,0,0,0,2,0,0,0,10,0,0,0,11,0,0,0,25,0,0,0,15,0,0,0,8,0,0,0,26,0,0,0,27,0,0,0,12,0,0,0,16,0,0,0,28,0,0,0,13,0,0,0,1,0,0,0,17,0,0,0,49,48,98,116,66,111,120,83,104,97,112,101,0,0,0,0,224,81,0,0,200,21,0,0,128,62,0,0,0,0,0,0,66,111,120,0,0,0,0,0,0,0,0,0,136,22,0,0,66,0,0,0,67,0,0,0,14,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,47,0,0,0,29,0,0,0,2,0,0,0,30,0,0,0,45,0,0,0,10,0,0,0,3,0,0,0,31,0,0,0,12,0,0,0,46,0,0,0,15,0,0,0,18,0,0,0,19,0,0,0,48,0,0,0,49,0,0,0,0,0,0,0,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,68,97,116,97,0,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,0,0,0,0,0,0,0,224,81,0,0,104,22,0,0,112,68,0,0,0,0,0,0,66,86,72,84,82,73,65,78,71,76,69,77,69,83,72,0,0,0,0,0,80,23,0,0,68,0,0,0,69,0,0,0,20,0,0,0,0,0,0,0,90,78,75,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,57,112,114,111,99,101,115,115,65,108,108,84,114,105,97,110,103,108,101,115,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,0,0,50,49,98,116,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,184,81,0,0,48,23,0,0,224,81,0,0,192,22,0,0,72,23,0,0,0,0,0,0,0,0,0,0,240,23,0,0,70,0,0,0,71,0,0,0,21,0,0,0,0,0,0,0,90,78,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,55,112,101,114,102,111,114,109,67,111,110,118,101,120,99,97,115,116,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,83,52,95,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,0,224,81,0,0,120,23,0,0,72,23,0,0,0,0,0,0,0,0,0,0,128,24,0,0,72,0,0,0,73,0,0,0,22,0,0,0,0,0,0,0,90,78,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,52,112,101,114,102,111,114,109,82,97,121,99,97,115,116,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,224,81,0,0,24,24,0,0,72,23,0,0,0,0,0,0,0,0,0,0,224,25,0,0,74,0,0,0,75,0,0,0,16,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,50,0,0,0,22,0,0,0,3,0,0,0,32,0,0,0,51,0,0,0,11,0,0,0,2,0,0,0,33,0,0,0,13,0,0,0,46,0,0,0,23,0,0,0,24,0,0,0,2,0,0,0,17,0,0,0,11,0,0,0,34,0,0,0,25,0,0,0,0,0,0,0,0,0,0,0,8,26,0,0,76,0,0,0,77,0,0,0,16,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,50,0,0,0,22,0,0,0,3,0,0,0,35,0,0,0,51,0,0,0,11,0,0,0,2,0,0,0,33,0,0,0,13,0,0,0,46,0,0,0,23,0,0,0,24,0,0,0,2,0,0,0,17,0,0,0,11,0,0,0,34,0,0,0,25,0,0,0,0,0,0,0,0,0,0,0,48,26,0,0,78,0,0,0,79,0,0,0,16,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,50,0,0,0,22,0,0,0,3,0,0,0,36,0,0,0,51,0,0,0,11,0,0,0,2,0,0,0,33,0,0,0,13,0,0,0,46,0,0,0,23,0,0,0,24,0,0,0,2,0,0,0,17,0,0,0,11,0,0,0,34,0,0,0,25,0,0,0,0,0,0,0,49,52,98,116,67,97,112,115,117,108,101,83,104,97,112,101,0,0,0,0,0,0,0,0,224,81,0,0,200,25,0,0,104,41,0,0,0,0,0,0,49,53,98,116,67,97,112,115,117,108,101,83,104,97,112,101,88,0,0,0,0,0,0,0,224,81,0,0,240,25,0,0,224,25,0,0,0,0,0,0,49,53,98,116,67,97,112,115,117,108,101,83,104,97,112,101,90,0,0,0,0,0,0,0,224,81,0,0,24,26,0,0,224,25,0,0,0,0,0,0,67,97,112,115,117,108,101,90,0,0,0,0,0,0,0,0,67,97,112,115,117,108,101,88,0,0,0,0,0,0,0,0,98,116,67,97,112,115,117,108,101,83,104,97,112,101,68,97,116,97,0,0,0,0,0,0,67,97,112,115,117,108,101,83,104,97,112,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,26,0,0,80,0,0,0,81,0,0,0,4,0,0,0,14,0,0,0,52,0,0,0,53,0,0,0,15,0,0,0,16,0,0,0,18,0,0,0,37,0,0,0,9,0,0,0,38,0,0,0,39,0,0,0,40,0,0,0,10,0,0,0,54,0,0,0,50,49,98,116,67,111,108,108,105,115,105,111,110,68,105,115,112,97,116,99,104,101,114,0,224,81,0,0,216,26,0,0,88,50,0,0,0,0,0,0,0,0,0,0,88,27,0,0,82,0,0,0,83,0,0,0,11,0,0,0,0,0,0,0,50,51,98,116,67,111,108,108,105,115,105,111,110,80,97,105,114,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,49,55,98,116,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,0,0,0,0,184,81,0,0,56,27,0,0,224,81,0,0,24,27,0,0,80,27,0,0,0,0,0,0,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,70,108,111,97,116,68,97,116,97,0,0,0,0,0,0,49,55,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,0,0,0,0,0,184,81,0,0,136,27,0,0,98,116,67,111,108,108,105,115,105,111,110,83,104,97,112,101,68,97,116,97,0,0,0,0,49,54,98,116,67,111,108,108,105,115,105,111,110,83,104,97,112,101,0,0,0,0,0,0,184,81,0,0,192,27,0,0,0,0,0,0,184,29,0,0,84,0,0,0,85,0,0,0,19,0,0,0,20,0,0,0,5,0,0,0,3,0,0,0,86,0,0,0,1,0,0,0,2,0,0,0,19,0,0,0,55,0,0,0,22,0,0,0,56,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,79,118,101,114,102,108,111,119,32,105,110,32,65,65,66,66,44,32,111,98,106,101,99,116,32,114,101,109,111,118,101,100,32,102,114,111,109,32,115,105,109,117,108,97,116,105,111,110,0,0,0,0,0,0,0,0,73,102,32,121,111,117,32,99,97,110,32,114,101,112,114,111,100,117,99,101,32,116,104,105,115,44,32,112,108,101,97,115,101,32,101,109,97,105,108,32,98,117,103,115,64,99,111,110,116,105,110,117,111,117,115,112,104,121,115,105,99,115,46,99,111,109,10,0,0,0,0,0,80,108,101,97,115,101,32,105,110,99,108,117,100,101,32,97,98,111,118,101,32,105,110,102,111,114,109,97,116,105,111,110,44,32,121,111,117,114,32,80,108,97,116,102,111,114,109,44,32,118,101,114,115,105,111,110,32,111,102,32,79,83,46,10,0,0,0,0,0,0,0,0,84,104,97,110,107,115,46,10,0,0,0,0,0,0,0,0,117,112,100,97,116,101,65,97,98,98,115,0,0,0,0,0,99,97,108,99,117,108,97,116,101,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,115,0,0,0,0,0,0,0,112,101,114,102,111,114,109,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,105,111,110,0,0,0,0,0,0,0,100,105,115,112,97,116,99,104,65,108,108,67,111,108,108,105,115,105,111,110,80,97,105,114,115,0,0,0,0,0,0,0,99,111,110,118,101,120,83,119,101,101,112,67,111,109,112,111,117,110,100,0,0,0,0,0,99,111,110,118,101,120,83,119,101,101,112,84,101,115,116,0,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,0,0,0,0,0,0,184,81,0,0,160,29,0,0,0,0,0,0,8,30,0,0,87,0,0,0,88,0,0,0,20,0,0,0,21,0,0,0,252,255,255,255,8,30,0,0,89,0,0,0,90,0,0,0,22,0,0,0,0,0,0,0,49,55,68,101,98,117,103,68,114,97,119,99,97,108,108,98,97,99,107,0,0,0,0,0,64,82,0,0,240,29,0,0,0,0,0,0,2,0,0,0,88,67,0,0,2,0,0,0,136,67,0,0,2,4,0,0,0,0,0,0,104,30,0,0,91,0,0,0,92,0,0,0,26,0,0,0,27,0,0,0,3,0,0,0,0,0,0,0,50,51,98,116,66,114,105,100,103,101,100,77,97,110,105,102,111,108,100,82,101,115,117,108,116,0,0,0,0,0,0,0,224,81,0,0,72,30,0,0,240,52,0,0,0,0,0,0,50,52,98,116,66,114,111,97,100,112,104,97,115,101,65,97,98,98,67,97,108,108,98,97,99,107,0,0,0,0,0,0,184,81,0,0,120,30,0,0,0,0,0,0,0,31,0,0,93,0,0,0,94,0,0,0,12,0,0,0,0,0,0,0,50,49,98,116,83,105,110,103,108,101,83,119,101,101,112,67,97,108,108,98,97,99,107,0,50,51,98,116,66,114,111,97,100,112,104,97,115,101,82,97,121,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,224,81,0,0,208,30,0,0,152,30,0,0,0,0,0,0,224,81,0,0,184,30,0,0,240,30,0,0,0,0,0,0,0,0,0,0,64,31,0,0,95,0,0,0,96,0,0,0,13,0,0,0,0,0,0,0,49,57,98,116,83,105,110,103,108,101,82,97,121,67,97,108,108,98,97,99,107,0,0,0,224,81,0,0,40,31,0,0,240,30,0,0,0,0,0,0,0,0,0,0,8,32,0,0,97,0,0,0,98,0,0,0,14,0,0,0,10,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,49,52,76,111,99,97,108,73,110,102,111,65,100,100,101,114,95,49,0,0,224,81,0,0,104,31,0,0,40,3,0,0,0,0,0,0,0,0,0,0,232,32,0,0,99,0,0,0,100,0,0,0,23,0,0,0,1,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,51,50,66,114,105,100,103,101,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,95,48,0,0,0,0,0,0,0,0,224,81,0,0,48,32,0,0,224,63,0,0,0,0,0,0,0,0,0,0,192,33,0,0,101,0,0,0,102,0,0,0,23,0,0,0,2,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,51,50,66,114,105,100,103,101,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,0,0,224,81,0,0,16,33,0,0,224,63,0,0,0,0,0,0,0,0,0,0,112,34,0,0,103,0,0,0,104,0,0,0,15,0,0,0,11,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,49,53,76,111,99,97,108,73,110,102,111,65,100,100,101,114,50,0,0,0,0,224,81,0,0,232,33,0,0,184,1,0,0,0,0,0,0,0,0,0,0,72,35,0,0,105,0,0,0,106,0,0,0,28,0,0,0,57,0,0,0,5,0,0,0,16,0,0,0,17,0,0,0,0,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,57,82,97,121,84,101,115,116,101,114,95,49,0,78,54,98,116,68,98,118,116,56,73,67,111,108,108,105,100,101,69,0,0,0,0,0,0,184,81,0,0,40,35,0,0,224,81,0,0,168,34,0,0,64,35,0,0,0,0,0,0,0,0,0,0,8,36,0,0,107,0,0,0,108,0,0,0,24,0,0,0,1,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,50,57,66,114,105,100,103,101,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,95,48,0,0,0,0,224,81,0,0,112,35,0,0,176,63,0,0,0,0,0,0,0,0,0,0,200,36,0,0,109,0,0,0,110,0,0,0,24,0,0,0,2,0,0,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,50,57,66,114,105,100,103,101,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,0,0,0,0,0,0,224,81,0,0,48,36,0,0,176,63,0,0,0,0,0,0,0,0,0,0,24,37,0,0,12,0,0,0,58,0,0,0,29,0,0,0,111,0,0,0,112,0,0,0,0,0,0,0,78,49,50,98,116,67,111,110,118,101,120,67,97,115,116,49,48,67,97,115,116,82,101,115,117,108,116,69,0,0,0,0,184,81,0,0,248,36,0,0,0,0,0,0,192,37,0,0,113,0,0,0,114,0,0,0,25,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,59,0,0,0,41,0,0,0,4,0,0,0,42,0,0,0,45,0,0,0,13,0,0,0,4,0,0,0,43,0,0,0,17,0,0,0,46,0,0,0,60,0,0,0,115,0,0,0,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,67,104,105,108,100,68,97,116,97,0,0,0,0,0,0,0,0,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,68,97,116,97,0,0,0,0,0,49,53,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,0,0,0,0,0,0,0,224,81,0,0,168,37,0,0,216,27,0,0,0,0,0,0,67,111,109,112,111,117,110,100,0,0,0,0,0,0,0,0,0,0,0,0,40,39,0,0,116,0,0,0,117,0,0,0,26,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,61,0,0,0,22,0,0,0,5,0,0,0,44,0,0,0,62,0,0,0,14,0,0,0,2,0,0,0,45,0,0,0,18,0,0,0,46,0,0,0,30,0,0,0,31,0,0,0,2,0,0,0,27,0,0,0,11,0,0,0,34,0,0,0,25,0,0,0,0,0,0,0,0,0,0,0,72,39,0,0,118,0,0,0,119,0,0,0,26,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,61,0,0,0,22,0,0,0,5,0,0,0,46,0,0,0,63,0,0,0,14,0,0,0,2,0,0,0,45,0,0,0,18,0,0,0,46,0,0,0,30,0,0,0,31,0,0,0,2,0,0,0,27,0,0,0,11,0,0,0,34,0,0,0,25,0,0,0,0,0,0,0,0,0,0,0,104,39,0,0,120,0,0,0,121,0,0,0,26,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,61,0,0,0,22,0,0,0,5,0,0,0,47,0,0,0,64,0,0,0,14,0,0,0,2,0,0,0,45,0,0,0,18,0,0,0,46,0,0,0,30,0,0,0,31,0,0,0,2,0,0,0,27,0,0,0,11,0,0,0,34,0,0,0,25,0,0,0,0,0,0,0,49,49,98,116,67,111,110,101,83,104,97,112,101,0,0,0,224,81,0,0,24,39,0,0,104,41,0,0,0,0,0,0,49,50,98,116,67,111,110,101,83,104,97,112,101,90,0,0,224,81,0,0,56,39,0,0,40,39,0,0,0,0,0,0,49,50,98,116,67,111,110,101,83,104,97,112,101,88,0,0,224,81,0,0,88,39,0,0,40,39,0,0,0,0,0,0,67,111,110,101,88,0,0,0,67,111,110,101,90,0,0,0,98,116,67,111,110,101,83,104,97,112,101,68,97,116,97,0,67,111,110,101,0,0,0,0,0,0,0,0,216,39,0,0,122,0,0,0,123,0,0,0,1,0,0,0,0,0,0,0,50,55,98,116,67,111,110,116,105,110,117,111,117,115,67,111,110,118,101,120,67,111,108,108,105,115,105,111,110,0,0,0,224,81,0,0,184,39,0,0,120,40,0,0,0,0,0,0,0,0,0,0,88,40,0,0,124,0,0,0,125,0,0,0,32,0,0,0,33,0,0,0,4],"i8",uo,$r.GLOBAL_BASE),n([49,54,98,116,80,111,105,110,116,67,111,108,108,101,99,116,111,114,0,0,0,0,0,0,78,51,54,98,116,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,111,114,73,110,116,101,114,102,97,99,101,54,82,101,115,117,108,116,69,0,184,81,0,0,32,40,0,0,224,81,0,0,8,40,0,0,80,40,0,0,0,0,0,0,49,50,98,116,67,111,110,118,101,120,67,97,115,116,0,0,184,81,0,0,104,40,0,0,0,0,0,0,56,41,0,0,126,0,0,0,127,0,0,0,28,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,65,0,0,0,22,0,0,0,6,0,0,0,48,0,0,0,45,0,0,0,14,0,0,0,2,0,0,0,49,0,0,0,19,0,0,0,46,0,0,0,34,0,0,0,35,0,0,0,2,0,0,0,29,0,0,0,11,0,0,0,34,0,0,0,25,0,0,0,8,0,0,0,50,0,0,0,51,0,0,0,30,0,0,0,36,0,0,0,52,0,0,0,31,0,0,0,2,0,0,0,1,0,0,0,98,116,67,111,110,118,101,120,72,117,108,108,83,104,97,112,101,68,97,116,97,0,0,0,49,55,98,116,67,111,110,118,101,120,72,117,108,108,83,104,97,112,101,0,0,0,0,0,224,81,0,0,32,41,0,0,184,62,0,0,0,0,0,0,67,111,110,118,101,120,0,0,50,49,98,116,67,111,110,118,101,120,73,110,116,101,114,110,97,108,83,104,97,112,101,0,224,81,0,0,80,41,0,0,136,41,0,0,0,0,0,0,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,0,224,81,0,0,120,41,0,0,216,27,0,0,0,0,0,0,0,0,0,0,64,42,0,0,128,0,0,0,129,0,0,0,28,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,66,0,0,0,53,0,0,0,6,0,0,0,54,0,0,0,45,0,0,0,14,0,0,0,2,0,0,0,24,0,0,0,11,0,0,0,46,0,0,0,37,0,0,0,38,0,0,0,2,0,0,0,32,0,0,0,11,0,0,0,34,0,0,0,25,0,0,0,8,0,0,0,55,0,0,0,56,0,0,0,33,0,0,0,39,0,0,0,57,0,0,0,34,0,0,0,3,0,0,0,0,0,0,0,50,53,98,116,67,111,110,118,101,120,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,0,0,0,0,224,81,0,0,32,42,0,0,184,62,0,0,0,0,0,0,67,111,110,118,101,120,84,114,105,109,101,115,104,0,0,0,0,0,0,0,152,42,0,0,130,0,0,0,131,0,0,0,35,0,0,0,0,0,0,0,50,54,76,111,99,97,108,83,117,112,112,111,114,116,86,101,114,116,101,120,67,97,108,108,98,97,99,107,0,0,0,0,224,81,0,0,120,42,0,0,136,67,0,0,0,0,0,0,0,0,0,0,248,43,0,0,132,0,0,0,133,0,0,0,36,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,67,0,0,0,22,0,0,0,7,0,0,0,58,0,0,0,68,0,0,0,15,0,0,0,2,0,0,0,59,0,0,0,20,0,0,0,46,0,0,0,40,0,0,0,41,0,0,0,2,0,0,0,37,0,0,0,11,0,0,0,34,0,0,0,25,0,0,0,5,0,0,0,0,0,0,0,32,44,0,0,134,0,0,0,135,0,0,0,36,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,67,0,0,0,22,0,0,0,7,0,0,0,60,0,0,0,68,0,0,0,15,0,0,0,2,0,0,0,59,0,0,0,20,0,0,0,46,0,0,0,40,0,0,0,42,0,0,0,2,0,0,0,38,0,0,0,11,0,0,0,34,0,0,0,25,0,0,0,6,0,0,0,0,0,0,0,72,44,0,0,136,0,0,0,137,0,0,0,36,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,67,0,0,0,22,0,0,0,7,0,0,0,61,0,0,0,68,0,0,0,15,0,0,0,2,0,0,0,59,0,0,0,20,0,0,0,46,0,0,0,40,0,0,0,43,0,0,0,2,0,0,0,39,0,0,0,11,0,0,0,34,0,0,0,25,0,0,0,7,0,0,0,49,53,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,0,0,0,0,0,0,0,224,81,0,0,224,43,0,0,104,41,0,0,0,0,0,0,49,54,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,88,0,0,0,0,0,0,224,81,0,0,8,44,0,0,248,43,0,0,0,0,0,0,49,54,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,90,0,0,0,0,0,0,224,81,0,0,48,44,0,0,248,43,0,0,0,0,0,0,67,121,108,105,110,100,101,114,90,0,0,0,0,0,0,0,67,121,108,105,110,100,101,114,88,0,0,0,0,0,0,0,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,68,97,116,97,0,0,0,0,0,67,121,108,105,110,100,101,114,89,0,0,0,0,0,0,0,0,0,0,0,248,44,0,0,138,0,0,0,139,0,0,0,2,0,0,0,44,0,0,0,3,0,0,0,40,0,0,0,3,0,0,0,41,0,0,0,69,0,0,0,62,0,0,0,63,0,0,0,45,0,0,0,70,0,0,0,140,0,0,0,49,54,98,116,68,98,118,116,66,114,111,97,100,112,104,97,115,101,0,0,0,0,0,0,224,81,0,0,224,44,0,0,48,20,0,0,0,0,0,0,0,0,0,0,72,45,0,0,141,0,0,0,142,0,0,0,28,0,0,0,71,0,0,0,5,0,0,0,16,0,0,0,17,0,0,0,0,0,0,0,50,48,66,114,111,97,100,112,104,97,115,101,65,97,98,98,84,101,115,116,101,114,0,0,224,81,0,0,48,45,0,0,64,35,0,0,0,0,0,0,0,0,0,0,152,45,0,0,143,0,0,0,144,0,0,0,28,0,0,0,72,0,0,0,5,0,0,0,16,0,0,0,17,0,0,0,0,0,0,0,49,57,66,114,111,97,100,112,104,97,115,101,82,97,121,84,101,115,116,101,114,0,0,0,224,81,0,0,128,45,0,0,64,35,0,0,0,0,0,0,0,0,0,0,232,45,0,0,145,0,0,0,146,0,0,0,46,0,0,0,73,0,0,0,5,0,0,0,16,0,0,0,17,0,0,0,0,0,0,0,49,56,98,116,68,98,118,116,84,114,101,101,67,111,108,108,105,100,101,114,0,0,0,0,224,81,0,0,208,45,0,0,64,35,0,0,0,0,0,0,0,0,0,0,104,46,0,0,147,0,0,0,148,0,0,0,64,0,0,0,65,0,0,0,21,0,0,0,66,0,0,0,51,49,98,116,68,101,102,97,117,108,116,67,111,108,108,105,115,105,111,110,67,111,110,102,105,103,117,114,97,116,105,111,110,0,0,0,0,0,0,0,50,52,98,116,67,111,108,108,105,115,105,111,110,67,111,110,102,105,103,117,114,97,116,105,111,110,0,0,0,0,0,0,184,81,0,0,64,46,0,0,224,81,0,0,24,46,0,0,96,46,0,0,0,0,0,0,0,0,0,0,240,46,0,0,149,0,0,0,150,0,0,0,5,0,0,0,0,0,0,0,78,51,49,98,116,67,111,110,118,101,120,80,108,97,110,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,51,48,98,116,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,67,114,101,97,116,101,70,117,110,99,0,0,0,0,0,0,0,0,184,81,0,0,192,46,0,0,224,81,0,0,144,46,0,0,232,46,0,0,0,0,0,0,0,0,0,0,72,47,0,0,151,0,0,0,152,0,0,0,6,0,0,0,0,0,0,0,78,50,54,98,116,66,111,120,66,111,120,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,0,224,81,0,0,24,47,0,0,232,46,0,0,0,0,0,0,0,0,0,0,168,47,0,0,153,0,0,0,154,0,0,0,7,0,0,0,0,0,0,0,78,51,52,98,116,83,112,104,101,114,101,84,114,105,97,110,103,108,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,0,224,81,0,0,112,47,0,0,232,46,0,0,0,0,0,0,0,0,0,0,8,48,0,0,155,0,0,0,156,0,0,0,8,0,0,0,0,0,0,0,78,51,50,98,116,83,112,104,101,114,101,83,112,104,101,114,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,0,0,0,224,81,0,0,208,47,0,0,232,46,0,0,0,0,0,0,0,0,0,0,88,48,0,0,157,0,0,0,158,0,0,0,9,0,0,0,0,0,0,0,78,49,54,98,116,69,109,112,116,121,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,0,0,0,224,81,0,0,48,48,0,0,232,46,0,0,0,0,0,0,0,0,0,0,184,48,0,0,159,0,0,0,160,0,0,0,10,0,0,0,0,0,0,0,78,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,55,83,119,97,112,112,101,100,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,224,81,0,0,128,48,0,0,232,46,0,0,0,0,0,0,0,0,0,0,24,49,0,0,161,0,0,0,162,0,0,0,11,0,0,0,0,0,0,0,78,51,54,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,224,81,0,0,224,48,0,0,232,46,0,0,0,0,0,0,0,0,0,0,112,49,0,0,163,0,0,0,164,0,0,0,12,0,0,0,0,0,0,0,78,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,224,81,0,0,64,49,0,0,232,46,0,0,0,0,0,0,0,0,0,0,216,49,0,0,165,0,0,0,166,0,0,0,13,0,0,0,0,0,0,0,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,55,83,119,97,112,112,101,100,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,0,0,0,224,81,0,0,152,49,0,0,232,46,0,0,0,0,0,0,0,0,0,0,56,50,0,0,167,0,0,0,168,0,0,0,14,0,0,0,0,0,0,0,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,0,0,0,0,0,0,224,81,0,0,0,50,0,0,232,46,0,0,0,0,0,0,49,50,98,116,68,105,115,112,97,116,99,104,101,114,0,0,184,81,0,0,72,50,0,0,0,0,0,0,184,50,0,0,169,0,0,0,170,0,0,0,4,0,0,0,1,0,0,0,74,0,0,0,0,0,0,0,49,54,98,116,69,109,112,116,121,65,108,103,111,114,105,116,104,109,0,0,0,0,0,0,50,48,98,116,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,184,81,0,0,152,50,0,0,224,81,0,0,128,50,0,0,176,50,0,0,0,0,0,0,0,0,0,0,56,51,0,0,18,0,0,0,171,0,0,0,172,0,0,0,35,0,0,0,67,0,0,0,22,0,0,0,75,0,0,0,47,0,0,0,42,0,0,0,0,0,0,0,0,0,0,0,104,51,0,0,18,0,0,0,173,0,0,0,174,0,0,0,35,0,0,0,67,0,0,0,22,0,0,0,75,0,0,0,48,0,0,0,43,0,0,0,0,0,0,0,49,51,98,116,71,104,111,115,116,79,98,106,101,99,116,0,224,81,0,0,40,51,0,0,160,27,0,0,0,0,0,0,50,52,98,116,80,97,105,114,67,97,99,104,105,110,103,71,104,111,115,116,79,98,106,101,99,116,0,0,0,0,0,0,224,81,0,0,72,51,0,0,56,51,0,0,0,0,0,0,0,0,0,0,168,51,0,0,175,0,0,0,176,0,0,0,2,0,0,0,0,0,0,0,49,53,98,116,71,106,107,67,111,110,118,101,120,67,97,115,116,0,0,0,0,0,0,0,224,81,0,0,144,51,0,0,120,40,0,0,0,0,0,0,0,0,0,0,40,52,0,0,177,0,0,0,178,0,0,0,1,0,0,0,0,0,0,0,51,48,98,116,71,106,107,69,112,97,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,0,0,0,0,0,0,0,51,48,98,116,67,111,110,118,101,120,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,0,0,0,0,0,0,0,184,81,0,0,248,51,0,0,224,81,0,0,208,51,0,0,32,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,168,52,0,0,179,0,0,0,180,0,0,0,5,0,0,0,0,0,0,0,49,55,98,116,71,106,107,80,97,105,114,68,101,116,101,99,116,111,114,0,0,0,0,0,51,54,98,116,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,111,114,73,110,116,101,114,102,97,99,101,0,0,184,81,0,0,120,52,0,0,224,81,0,0,96,52,0,0,160,52,0,0,0,0,0,0,0,0,0,0,240,52,0,0,181,0,0,0,182,0,0,0,26,0,0,0,27,0,0,0,5,0,0,0,0,0,0,0,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,0,0,0,0,0,0,224,81,0,0,216,52,0,0,80,40,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,40,57,0,0,183,0,0,0,184,0,0,0,2,0,0,0,0,0,0,0,51,51,98,116,77,105,110,107,111,119,115,107,105,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,0,0,0,0,224,81,0,0,0,57,0,0,32,52,0,0,0,0,0,0,0,0,0,0,8,58,0,0,185,0,0,0,186,0,0,0,49,0,0,0,50,0,0,0,6,0,0,0,0,0,0,0,90,78,51,51,98,116,77,105,110,107,111,119,115,107,105,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,49,50,99,97,108,99,80,101,110,68,101,112,116,104,69,82,50,50,98,116,86,111,114,111,110,111,105,83,105,109,112,108,101,120,83,111,108,118,101,114,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,83,52,95,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,55,95,82,57,98,116,86,101,99,116,111,114,51,83,57,95,83,57,95,80,49,50,98,116,73,68,101,98,117,103,68,114,97,119,69,50,48,98,116,73,110,116,101,114,109,101,100,105,97,116,101,82,101,115,117,108,116,0,0,0,0,0,0,224,81,0,0,88,57,0,0,80,40,0,0,0,0,0,0,0,0,0,0,88,58,0,0,187,0,0,0,188,0,0,0,15,0,0,0,68,0,0,0,23,0,0,0,76,0,0,0,77,0,0,0,16,0,0,0,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,0,0,0,0,0,0,0,0,224,81,0,0,64,58,0,0,112,63,0,0,0,0,0,0,0,0,0,0,224,58,0,0,189,0,0,0,190,0,0,0,44,0,0,0,0,0,0,0,90,78,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,53,98,117,105,108,100,69,80,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,98,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,48,78,111,100,101,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,95,48,0,0,0,0,224,81,0,0,128,58,0,0,136,67,0,0,0,0,0,0,0,0,0,0,112,59,0,0,191,0,0,0,192,0,0,0,45,0,0,0,0,0,0,0,90,78,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,53,98,117,105,108,100,69,80,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,98,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,57,81,117,97,110,116,105,122,101,100,78,111,100,101,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,0,0,0,0,224,81,0,0,8,59,0,0,136,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,60,0,0,193,0,0,0,194,0,0,0,24,0,0,0,17,0,0,0,51,0,0,0,69,0,0,0,70,0,0,0,71,0,0,0,52,0,0,0,72,0,0,0,53,0,0,0,78,0,0,0,54,0,0,0,25,0,0,0,73,0,0,0,79,0,0,0,80,0,0,0,0,0,0,0,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,0,0,224,81,0,0,240,59,0,0,32,21,0,0,0,0,0,0,0,0,0,0,192,60,0,0,195,0,0,0,196,0,0,0,19,0,0,0,0,0,0,0,90,78,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,51,55,114,101,109,111,118,101,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,115,67,111,110,116,97,105,110,105,110,103,80,114,111,120,121,69,80,49,55,98,116,66,114,111,97,100,112,104,97,115,101,80,114,111,120,121,80,49,50,98,116,68,105,115,112,97,116,99,104,101,114,69,49,56,82,101,109,111,118,101,80,97,105,114,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,0,224,81,0,0,56,60,0,0,80,27,0,0,0,0,0,0,0,0,0,0,88,61,0,0,197,0,0,0,198,0,0,0,20,0,0,0,0,0,0,0,90,78,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,49,57,99,108,101,97,110,80,114,111,120,121,70,114,111,109,80,97,105,114,115,69,80,49,55,98,116,66,114,111,97,100,112,104,97,115,101,80,114,111,120,121,80,49,50,98,116,68,105,115,112,97,116,99,104,101,114,69,49,55,67,108,101,97,110,80,97,105,114,67,97,108,108,98,97,99,107,0,0,0,224,81,0,0,232,60,0,0,80,27,0,0,0,0,0,0,10,215,163,60,0,0,0,0,0,0,0,0,128,62,0,0,199,0,0,0,200,0,0,0,26,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,81,0,0,0,22,0,0,0,6,0,0,0,1,0,0,0,45,0,0,0,14,0,0,0,2,0,0,0,24,0,0,0,11,0,0,0,46,0,0,0,23,0,0,0,55,0,0,0,2,0,0,0,46,0,0,0,11,0,0,0,34,0,0,0,25,0,0,0,8,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,50,51,98,116,80,111,108,121,104,101,100,114,97,108,67,111,110,118,101,120,83,104,97,112,101,0,0,0,0,0,0,0,224,81,0,0,96,62,0,0,104,41,0,0,0,0,0,0,51,52,98,116,80,111,108,121,104,101,100,114,97,108,67,111,110,118,101,120,65,97,98,98,67,97,99,104,105,110,103,83,104,97,112,101,0,0,0,0,224,81,0,0,144,62,0,0,128,62,0,0,0,0,0,0,0,0,0,0,112,63,0,0,201,0,0,0,202,0,0,0,15,0,0,0,68,0,0,0,23,0,0,0,76,0,0,0,77,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,98,116,79,112,116,105,109,105,122,101,100,66,118,104,78,111,100,101,68,97,116,97,0,0,98,116,81,117,97,110,116,105,122,101,100,66,118,104,78,111,100,101,68,97,116,97,0,0,98,116,66,118,104,83,117,98,116,114,101,101,73,110,102,111,68,97,116,97,0,0,0,0,98,116,81,117,97,110,116,105,122,101,100,66,118,104,70,108,111,97,116,68,97,116,97,0,49,52,98,116,81,117,97,110,116,105,122,101,100,66,118,104,0,0,0,0,0,0,0,0,184,81,0,0,88,63,0,0,0,0,0,0,224,63,0,0,203,0,0,0,204,0,0,0,23,0,0,0,1,0,0,0,50,53,98,116,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,0,0,0,0,0,224,81,0,0,144,63,0,0,88,67,0,0,0,0,0,0,50,56,98,116,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,0,0,224,81,0,0,192,63,0,0,88,67,0,0,0,0,0,0,0,0,0,0,144,64,0,0,205,0,0,0,206,0,0,0,47,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,81,0,0,0,22,0,0,0,8,0,0,0,74,0,0,0,45,0,0,0,14,0,0,0,2,0,0,0,24,0,0,0,11,0,0,0,46,0,0,0,23,0,0,0,56,0,0,0,2,0,0,0,48,0,0,0,11,0,0,0,75,0,0,0,57,0,0,0,8,0,0,0,76,0,0,0,77,0,0,0,49,0,0,0,58,0,0,0,78,0,0,0,50,0,0,0,4,0,0,0,51,0,0,0,49,53,98,116,84,114,105,97,110,103,108,101,83,104,97,112,101,0,0,0,0,0,0,0,224,81,0,0,120,64,0,0,128,62,0,0,0,0,0,0,84,114,105,97,110,103,108,101,0,0,0,0,0,0,0,0,0,0,0,0,24,65,0,0,207,0,0,0,208,0,0,0,59,0,0,0,82,0,0,0,105,115,108,97,110,100,85,110,105,111,110,70,105,110,100,65,110,100,81,117,105,99,107,83,111,114,116,0,0,0,0,0,112,114,111,99,101,115,115,73,115,108,97,110,100,115,0,0,50,53,98,116,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,77,97,110,97,103,101,114,0,0,0,0,0,184,81,0,0,248,64,0,0,0,0,0,0,152,65,0,0,209,0,0,0,210,0,0,0,52,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,81,0,0,0,22,0,0,0,9,0,0,0,79,0,0,0,45,0,0,0,16,0,0,0,8,0,0,0,24,0,0,0,11,0,0,0,46,0,0,0,60,0,0,0,61,0,0,0,2,0,0,0,53,0,0,0,11,0,0,0,34,0,0,0,25,0,0,0,0,0,0,0,49,51,98,116,83,112,104,101,114,101,83,104,97,112,101,0,224,81,0,0,136,65,0,0,104,41,0,0,0,0,0,0,0,0,0,0,240,65,0,0,211,0,0,0,212,0,0,0,6,0,0,0,2,0,0,0,83,0,0,0,0,0,0,0,51,50,98,116,83,112,104,101,114,101,83,112,104,101,114,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,0,0,0,224,81,0,0,200,65,0,0,208,69,0,0,0,0,0,0,0,0,0,0,72,66,0,0,213,0,0,0,214,0,0,0,7,0,0,0,3,0,0,0,84,0,0,0,0,0,0,0,51,52,98,116,83,112,104,101,114,101,84,114,105,97,110,103,108,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,0,224,81,0,0,32,66,0,0,208,69,0,0,0,0,0,0,0,0,0,0,192,66,0,0,215,0,0,0,216,0,0,0,54,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,85,0,0,0,80,0,0,0,10,0,0,0,81,0,0,0,45,0,0,0,10,0,0,0,3,0,0,0,82,0,0,0,26,0,0,0,46,0,0,0,55,0,0,0,0,0,0,0,49,56,98,116,83,116,97,116,105,99,80,108,97,110,101,83,104,97,112,101,0,0,0,0,224,81,0,0,168,66,0,0,232,71,0,0,0,0,0,0,98,116,83,116,97,116,105,99,80,108,97,110,101,83,104,97,112,101,68,97,116,97,0,0,83,84,65,84,73,67,80,76,65,78,69,0,0,0,0,0,0,0,0,0,48,67,0,0,217,0,0,0,218,0,0,0,3,0,0,0,0,0,0,0,50,50,98,116,83,117,98,115,105,109,112,108,101,120,67,111,110,118,101,120,67,97,115,116,0,0,0,0,0,0,0,0,224,81,0,0,16,67,0,0,120,40,0,0,0,0,0,0,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,0,0,0,184,81,0,0,64,67,0,0,51,49,98,116,73,110,116,101,114,110,97,108,84,114,105,97,110,103,108,101,73,110,100,101,120,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,184,81,0,0,96,67,0,0,0,0,0,0,240,67,0,0,219,0,0,0,220,0,0,0,56,0,0,0,1,0,0,0,2,0,0,0,86,0,0,0,87,0,0,0,83,0,0,0,88,0,0,0,89,0,0,0,84,0,0,0,62,0,0,0,63,0,0,0,85,0,0,0,27,0,0,0,0,0,0,0,49,52,98,116,84,114,105,97,110,103,108,101,77,101,115,104,0,0,0,0,0,0,0,0,224,81,0,0,216,67,0,0,32,78,0,0,0,0,0,0,0,0,0,0,112,68,0,0,221,0,0,0,222,0,0,0,14,0,0,0,12,0,0,0,1,0,0,0,1,0,0,0,90,0,0,0,29,0,0,0,2,0,0,0,86,0,0,0,45,0,0,0,10,0,0,0,3,0,0,0,87,0,0,0,28,0,0,0,46,0,0,0,57,0,0,0,18,0,0,0,19,0,0,0,0,0,0,0,49,57,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,0,0,224,81,0,0,88,68,0,0,232,71,0,0,0,0,0,0,84,82,73,65,78,71,76,69,77,69,83,72,0,0,0,0,0,0,0,0,192,68,0,0,223,0,0,0,224,0,0,0,58,0,0,0,0,0,0,0,50,49,83,117,112,112,111,114,116,86,101,114,116,101,120,67,97,108,108,98,97,99,107,0,224,81,0,0,168,68,0,0,88,67,0,0,0,0,0,0,0,0,0,0,80,69,0,0,225,0,0,0,226,0,0,0,59,0,0,0,0,0,0,0,90,78,75,49,57,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,57,112,114,111,99,101,115,115,65,108,108,84,114,105,97,110,103,108,101,115,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,49,54,70,105,108,116,101,114,101,100,67,97,108,108,98,97,99,107,0,0,0,224,81,0,0,232,68,0,0,136,67,0,0,0,0,0,0,0,0,0,0,152,69,0,0,227,0,0,0,228,0,0,0,8,0,0,0,0,0,0,0,50,50,83,112,104,101,114,101,84,114,105,97,110,103,108,101,68,101,116,101,99,116,111,114,0,0,0,0,0,0,0,0,224,81,0,0,120,69,0,0,160,52,0,0,0,0,0,0,51,48,98,116,65,99,116,105,118,97,116,105,110,103,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,0,0,0,0,0,224,81,0,0,168,69,0,0,176,50,0,0,0,0,0,0,0,0,0,0,32,70,0,0,229,0,0,0,230,0,0,0,9,0,0,0,4,0,0,0,91,0,0,0,0,0,0,0,50,54,98,116,66,111,120,66,111,120,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,0,224,81,0,0,0,70,0,0,208,69,0,0,0,0,0,0,0,0,0,0,96,70,0,0,231,0,0,0,232,0,0,0,10,0,0,0,0,0,0,0,49,54,98,116,66,111,120,66,111,120,68,101,116,101,99,116,111,114,0,0,0,0,0,0,224,81,0,0,72,70,0,0,160,52,0,0,0,0,0,0,0,0,0,0,176,70,0,0,233,0,0,0,234,0,0,0,11,0,0,0,5,0,0,0,92,0,0,0,0,0,0,0,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,224,81,0,0,144,70,0,0,208,69,0,0,0,0,0,0,0,0,0,0,8,71,0,0,235,0,0,0,236,0,0,0,28,0,0,0,93,0,0,0,5,0,0,0,16,0,0,0,17,0,0,0,0,0,0,0,50,50,98,116,67,111,109,112,111,117,110,100,76,101,97,102,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,0,224,81,0,0,232,70,0,0,64,35,0,0,0,0,0,0,0,0,0,0,96,71,0,0,237,0,0,0,238,0,0,0,12,0,0,0,6,0,0,0,94,0,0,0,0,0,0,0,51,54,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,224,81,0,0,56,71,0,0,208,69,0,0,0,0,0,0,0,0,0,0,192,71,0,0,239,0,0,0,240,0,0,0,64,0,0,0,95,0,0,0,5,0,0,0,16,0,0,0,17,0,0,0,0,0,0,0,51,48,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,76,101,97,102,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,0,224,81,0,0,152,71,0,0,64,35,0,0,0,0,0,0,49,52,98,116,67,111,110,99,97,118,101,83,104,97,112,101,0,0,0,0,0,0,0,0,224,81,0,0,208,71,0,0,216,27,0,0,0,0,0,0,0,0,0,0,88,72,0,0,241,0,0,0,242,0,0,0,13,0,0,0,7,0,0,0,96,0,0,0,0,0,0,0,0,0,0,0,136,72,0,0,243,0,0,0,244,0,0,0,60,0,0,0,0,0,0,0,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,0,0,224,81,0,0,48,72,0,0,208,69,0,0,0,0,0,0,50,52,98,116,67,111,110,118,101,120,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,0,0,0,0,0,224,81,0,0,104,72,0,0,88,67,0,0,0,0,0,0,0,0,0,0,80,73,0,0,245,0,0,0,246,0,0,0,61,0,0,0,0,0,0,0,90,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,50,49,99,97,108,99,117,108,97,116,101,84,105,109,101,79,102,73,109,112,97,99,116,69,80,49,55,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,83,49,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,51,49,76,111,99,97,108,84,114,105,97,110,103,108,101,83,112,104,101,114,101,67,97,115,116,67,97,108,108,98,97,99,107,0,0,0,224,81,0,0,176,72,0,0,88,67,0,0,0,0,0,0,0,0,0,0,240,73,0,0,247,0,0,0,248,0,0,0,18,0,0,0,0,0,0,0,0,0,0,0,184,73,0,0,249,0,0,0,250,0,0,0,14,0,0,0,8,0,0,0,97,0,0,0,0,0,0,0,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,0,0,0,0,0,0,0,224,81,0,0,152,73,0,0,208,69,0,0,0,0,0,0,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,224,81,0,0,200,73,0,0,232,46,0,0,0,0,0,0,0,0,0,0,64,74,0,0,251,0,0,0,252,0,0,0,26,0,0,0,27,0,0,0,7,0,0,0,0,0,0,0,50,52,98,116,80,101,114,116,117,114,98,101,100,67,111,110,116,97,99,116,82,101,115,117,108,116,0,0,0,0,0,0,224,81,0,0,32,74,0,0,240,52,0,0,0,0,0,0,0,0,0,0,0,75,0,0,253,0,0,0,254,0,0,0,65,0,0,0,66,0,0,0,8,0,0,0,0,0,0,0,90,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,54,112,114,111,99,101,115,115,67,111,108,108,105,115,105,111,110,69,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,83,50,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,50,49,98,116,87,105,116,104,111,117,116,77,97,114,103,105,110,82,101,115,117,108,116,95,48,0,0,224,81,0,0,112,74,0,0,80,40,0,0,0,0,0,0,0,0,0,0,184,75,0,0,255,0,0,0,0,1,0,0,67,0,0,0,68,0,0,0,9,0,0,0,0,0,0,0,90,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,54,112,114,111,99,101,115,115,67,111,108,108,105,115,105,111,110,69,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,83,50,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,49,51,98,116,68,117,109,109,121,82,101,115,117,108,116,0,0,0,0,224,81,0,0,48,75,0,0,80,40,0,0,0,0,0,0,0,0,0,0,16,76,0,0,1,1,0,0,2,1,0,0,15,0,0,0,9,0,0,0,98,0,0,0,0,0,0,0,51,49,98,116,67,111,110,118,101,120,80,108,97,110,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,0,0,0,0,0,0,224,81,0,0,232,75,0,0,176,50,0,0,0,0,0,0,0,0,0,0,72,76,0,0,3,1,0,0,4,1,0,0,49,56,98,116,67,111,110,118,101,120,80,111,108,121,104,101,100,114,111,110,0,0,0,0,184,81,0,0,48,76,0,0,2,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,200,76,0,0,5,1,0,0,6,1,0,0,29,0,0,0,30,0,0,0,88,0,0,0,0,0,0,0,50,51,98,116,72,97,115,104,101,100,83,105,109,112,108,101,80,97,105,114,67,97,99,104,101,0,0,0,0,0,0,0,184,81,0,0,168,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,98,116,73,110,116,73,110,100,101,120,68,97,116,97,0,0,98,116,83,104,111,114,116,73,110,116,73,110,100,101,120,84,114,105,112,108,101,116,68,97,116,97,0,0,0,0,0,0,98,116,67,104,97,114,73,110,100,101,120,84,114,105,112,108,101,116,68,97,116,97,0,0,98,116,86,101,99,116,111,114,51,70,108,111,97,116,68,97,116,97,0,0,0,0,0,0,98,116,86,101,99,116,111,114,51,68,111,117,98,108,101,68,97,116,97,0,0,0,0,0,98,116,77,101,115,104,80,97,114,116,68,97,116,97,0,0,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,68,97,116,97,0,0,0,0,0,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,0,0,0,0,0,0,0,184,81,0,0,144,77,0,0,0,0,0,0,32,78,0,0,7,1,0,0,8,1,0,0,56,0,0,0,1,0,0,0,2,0,0,0,86,0,0,0,87,0,0,0,83,0,0,0,99,0,0,0,100,0,0,0,84,0,0,0,62,0,0,0,63,0,0,0,85,0,0,0,27,0,0,0,0,0,0,0,50,54,98,116,84,114,105,97,110,103,108,101,73,110,100,101,120,86,101,114,116,101,120,65,114,114,97,121,0,0,0,0,224,81,0,0,0,78,0,0,176,77,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,111,111,116,0,0,0,0,72,78,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,117,110,99,97,117,103,104,116,0,0,0,0,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,58,32,37,115,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,0,0,0,0,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,102,111,114,101,105,103,110,32,101,120,99,101,112,116,105,111,110,0,0,0,116,101,114,109,105,110,97,116,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,116,104,114,101,97,100,95,111,110,99,101,32,102,97,105,108,117,114,101,32,105,110,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,95,102,97,115,116,40,41,0,0,0,0,0,0,0,0,99,97,110,110,111,116,32,99,114,101,97,116,101,32,112,116,104,114,101,97,100,32,107,101,121,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,0,0,0,0,0,0,99,97,110,110,111,116,32,122,101,114,111,32,111,117,116,32,116,104,114,101,97,100,32,118,97,108,117,101,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,0,0,0,0,0,0,0,40,80,0,0,9,1,0,0,10,1,0,0,89],"i8",uo,$r.GLOBAL_BASE+10240),n([115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,0,83,116,57,98,97,100,95,97,108,108,111,99,0,0,0,0,224,81,0,0,24,80,0,0,176,80,0,0,0,0,0,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,114,101,116,117,114,110,101,100,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,116,104,114,101,119,32,97,110,32,101,120,99,101,112,116,105,111,110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,83,116,57,101,120,99,101,112,116,105,111,110,0,0,0,0,184,81,0,0,160,80,0,0,83,116,57,116,121,112,101,95,105,110,102,111,0,0,0,0,184,81,0,0,184,80,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,0,224,81,0,0,208,80,0,0,200,80,0,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,224,81,0,0,8,81,0,0,248,80,0,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,224,81,0,0,104,81,0,0,248,80,0,0,0,0,0,0,224,81,0,0,64,81,0,0,144,81,0,0,0,0,0,0,0,0,0,0,48,81,0,0,11,1,0,0,12,1,0,0,13,1,0,0,14,1,0,0,31,0,0,0,4,0,0,0,16,0,0,0,62,0,0,0,0,0,0,0,40,82,0,0,11,1,0,0,15,1,0,0,13,1,0,0,14,1,0,0,31,0,0,0,5,0,0,0,17,0,0,0,63,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,224,81,0,0,0,82,0,0,48,81,0,0,0,0,0,0,0,0,0,0,136,82,0,0,11,1,0,0,16,1,0,0,13,1,0,0,14,1,0,0,31,0,0,0,6,0,0,0,18,0,0,0,64,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,224,81,0,0,96,82,0,0,48,81,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",uo,$r.GLOBAL_BASE+20480);
var on=$r.alignMemory(n(12,"i8",co),8);e(on%8==0);var nn=zo;zr._i64Subtract=Vc;var an=Go,sn=0,ln={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},cn={last:0,caught:[],infos:{},deAdjust:function(t){if(!t||cn.infos[t])return t;for(var e in cn.infos){var i=cn.infos[e];if(i.adjusted===t)return e}return t},addRef:function(t){if(t){var e=cn.infos[t];e.refcount++}},decRef:function(t){if(t){var i=cn.infos[t];e(i.refcount>0),i.refcount--,0===i.refcount&&(i.destructor&&$r.dynCall("vi",i.destructor,[t]),delete cn.infos[t],___cxa_free_exception(t))}},clearRef:function(t){if(t){var e=cn.infos[t];e.refcount=0}}};zr._memset=f_;var hn=Uo;zr._strlen=En;var dn=qo,un=void 0,pn=void 0,fn={};zr._i64Add=up;var _n=1,mn=Qo,gn=Xo,yn=Wo,bn=jo;zr._memcpy=Zp,zr._memmove=Ah,zr._malloc=ce,zr._llvm_bswap_i32=Qf;var vn=n(1,"i32*",co);sn=$r.staticAlloc(4),yo[sn>>2]=0,K.ret=n([0],"i8",co),Co=Ao=$r.alignMemory(To),Eo=!0,wo=Co+Po,Ro=Do=$r.alignMemory(wo),e(Bo>Ro,"TOTAL_MEMORY not big enough for stack");{var Mn=n([8,7,6,6,5,5,5,5,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",ho),Sn=n([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ho),Zo=Math.min,xn=function(t,e,i){"use asm";function r(t){t|=0;var e=0;return e=bD,bD=bD+t|0,bD=bD+15&-16,e|0}function o(){return bD|0}function n(t){t|=0,bD=t}function a(t,e){t|=0,e|=0,(MD|0)==0&&(MD=t,SD=e)}function s(t){t|=0,TD=t}function l(){return TD|0}function c(t){return t|=0,52}function h(t,e,i,r){t|=0,e=+e,i=+i,r=+r;var o=0,n=0,a=0;o=+wD(+e),n=+wD(+i),a=+wD(+r),e=+RD(+e),i=+RD(+i),r=+RD(+r),gD[t>>2]=n*a,gD[t+4>>2]=i*e*a-o*r,gD[t+8>>2]=i*o*a+e*r,gD[t+12>>2]=0,gD[t+16>>2]=n*r,gD[t+20>>2]=i*e*r+o*a,gD[t+24>>2]=i*o*r-e*a,gD[t+28>>2]=0,gD[t+32>>2]=-i,gD[t+36>>2]=n*e,gD[t+40>>2]=n*o,gD[t+44>>2]=0}function d(t,e){t|=0,e|=0;var i=0;i=bD,u(t,e),bD=i}function u(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0;return i=bD,bD=bD+16|0,n=+gD[t>>2],o=+gD[t+20>>2],r=+gD[t+40>>2],n+o+r>0?(n=+CD(+(n+o+r+1)),gD[i+12>>2]=n*.5,s=(+gD[t+36>>2]-+gD[t+24>>2])*(.5/n),gD[i>>2]=s,r=(+gD[t+8>>2]-+gD[t+32>>2])*(.5/n),gD[i+4>>2]=r,o=(+gD[t+16>>2]-+gD[t+4>>2])*(.5/n),gD[i+8>>2]=o,n*=.5,gD[e>>2]=s,a=e+4|0,gD[a>>2]=r,a=e+8|0,gD[a>>2]=o,a=e+12|0,gD[a>>2]=n,void(bD=i)):(a=n<o?o<r?2:1:n<r?2:0,c=((a+1|0)>>>0)%3|0,l=((a+2|0)>>>0)%3|0,r=+CD(+(+gD[t+(a<<4)+(a<<2)>>2]-+gD[t+(c<<4)+(c<<2)>>2]-+gD[t+(l<<4)+(l<<2)>>2]+1)),gD[i+(a<<2)>>2]=r*.5,gD[i+12>>2]=(+gD[t+(l<<4)+(c<<2)>>2]-+gD[t+(c<<4)+(l<<2)>>2])*(.5/r),gD[i+(c<<2)>>2]=(+gD[t+(c<<4)+(a<<2)>>2]+ +gD[t+(a<<4)+(c<<2)>>2])*(.5/r),gD[i+(l<<2)>>2]=(+gD[t+(l<<4)+(a<<2)>>2]+ +gD[t+(a<<4)+(l<<2)>>2])*(.5/r),r=+gD[i>>2],o=+gD[i+4>>2],n=+gD[i+8>>2],s=+gD[i+12>>2],gD[e>>2]=r,a=e+4|0,gD[a>>2]=o,a=e+8|0,gD[a>>2]=n,a=e+12|0,gD[a>>2]=s,void(bD=i))}function p(t){t|=0;var e=0;e=bD,(t|0)!=0&&Cw(t),bD=e}function f(){var t=0,e=0,i=0;t=bD,e=Ew(8)|0;t:do if((e|0)==0){for(;;){if(e=fD[5158]|0,fD[5158]=e+0,(e|0)==0)break;if(JP[e&3](),e=Ew(8)|0,(e|0)!=0)break t}e=QD(4)|0,fD[e>>2]=20472,KD(e|0,20520,265)}while(0);return i=e,fD[i>>2]=0,fD[i+4>>2]=0,pD[e+4>>1]=1,pD[e+6>>1]=-1,fD[e>>2]=840,bD=t,e|0}function _(t,e,i,r,o,n,a,s){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0;var l=0,c=0;return c=bD,l=+fP[fD[(fD[t>>2]|0)+12>>2]&1](t,e,i,r,o,n,a,s),bD=c,+l}function m(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function g(t,e){t|=0,e|=0;var i=0,r=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(95)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),Zp(r,t,e,1),bD=i,r|0}function y(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;return r=bD,fD[5004]=(fD[5004]|0)+1,o=Ew(95)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),Zp(o,t,e,i),bD=r,o|0}function b(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function v(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function M(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function S(){var t=0,e=0;t=bD,e=Ew(196)|0;t:do if((e|0)==0){for(;;){if(e=fD[5158]|0,fD[5158]=e+0,(e|0)==0)break;if(JP[e&3](),e=Ew(196)|0,(e|0)!=0)break t}e=QD(4)|0,fD[e>>2]=20472,KD(e|0,20520,265)}while(0);return GE(e,0),bD=t,e|0}function x(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function T(t){t|=0;var e=0;e=bD,(t|0)!=0&&Cw(t),bD=e}function E(){var t=0,e=0;return t=bD,fD[5004]=(fD[5004]|0)+1,e=Ew(215)|0,(e|0)==0?e=0:(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16),fD[e>>2]=4024,uD[e+20>>0]=1,fD[e+16>>2]=0,fD[e+8>>2]=0,fD[e+12>>2]=0,uD[e+40>>0]=1,fD[e+36>>2]=0,fD[e+28>>2]=0,fD[e+32>>2]=0,uD[e+60>>0]=1,fD[e+56>>2]=0,fD[e+48>>2]=0,fD[e+52>>2]=0,uD[e+80>>0]=1,fD[e+76>>2]=0,fD[e+68>>2]=0,fD[e+72>>2]=0,uD[e+100>>0]=1,fD[e+96>>2]=0,fD[e+88>>2]=0,fD[e+92>>2]=0,uD[e+120>>0]=1,fD[e+116>>2]=0,fD[e+108>>2]=0,fD[e+112>>2]=0,uD[e+140>>0]=1,fD[e+136>>2]=0,fD[e+128>>2]=0,fD[e+132>>2]=0,uD[e+160>>0]=1,fD[e+156>>2]=0,fD[e+148>>2]=0,fD[e+152>>2]=0,uD[e+180>>0]=1,fD[e+176>>2]=0,fD[e+168>>2]=0,fD[e+172>>2]=0,fD[e+192>>2]=0,bD=t,e|0}function C(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function A(t){return t|=0,+ +gD[t>>2]}function w(t,e){t|=0,e=+e,gD[t>>2]=e}function R(t){return t|=0,fD[t+4>>2]|0}function D(t,e){t|=0,e|=0,fD[t+4>>2]=e}function P(t){return t|=0,fD[t+8>>2]|0}function B(t,e){t|=0,e|=0,fD[t+8>>2]=e}function V(t){return t|=0,+ +gD[t+12>>2]}function L(t,e){t|=0,e=+e,gD[t+12>>2]=e}function k(t){return t|=0,(uD[t+16>>0]&1)!=0|0}function H(t,e){t|=0,e|=0,uD[t+16>>0]=e&1}function I(t){return t|=0,(uD[t+24>>0]&1)!=0|0}function O(t,e){t|=0,e|=0,uD[t+24>>0]=e&1}function J(t){return t|=0,(uD[t+25>>0]&1)!=0|0}function N(t,e){t|=0,e|=0,uD[t+25>>0]=e&1}function F(t){return t|=0,(uD[t+26>>0]&1)!=0|0}function G(t,e){t|=0,e|=0,uD[t+26>>0]=e&1}function z(t){return t|=0,+ +gD[t+28>>2]}function j(t,e){t|=0,e=+e,gD[t+28>>2]=e}function U(t){return t|=0,(uD[t+32>>0]&1)!=0|0}function W(t,e){t|=0,e|=0,uD[t+32>>0]=e&1}function X(t){return t|=0,+ +gD[t+36>>2]}function q(t,e){t|=0,e=+e,gD[t+36>>2]=e}function K(t){t|=0;var e=0;e=bD,(t|0)!=0&&Cw(t),bD=e}function Y(t,e){t=+t,e=+e;var i=0,r=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(75)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),fD[r+8>>2]=0,gD[r+12>>2]=1,gD[r+16>>2]=1,gD[r+20>>2]=1,gD[r+24>>2]=0,gD[r+44>>2]=.03999999910593033,fD[r>>2]=6296,fD[r+4>>2]=10,fD[r+52>>2]=1,gD[r+28>>2]=t,gD[r+32>>2]=e*.5,gD[r+36>>2]=t,gD[r+40>>2]=0,bD=i,r|0}function Q(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function Z(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function $(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function te(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function ee(t,e){t|=0,e|=0;var i=0,r=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(135)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),Uu(r,t,e,16384,0,0),bD=i,r|0}function ie(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;return r=bD,fD[5004]=(fD[5004]|0)+1,o=Ew(135)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),Uu(o,t,e,i&65535,0,0),bD=r,o|0}function re(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;return o=bD,fD[5004]=(fD[5004]|0)+1,n=Ew(135)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),Uu(n,t,e,i&65535,r,0),bD=o,n|0}function oe(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0;return n=bD,fD[5004]=(fD[5004]|0)+1,a=Ew(135)|0,(a|0)==0?a=0:(fD[(a+19&-16)+-4>>2]=a,a=a+19&-16),Uu(a,t,e,i&65535,r,o),bD=n,a|0}function ne(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function ae(){var t=0,e=0,i=0,r=0,o=0;return t=bD,fD[5004]=(fD[5004]|0)+1,e=Ew(307)|0,(e|0)==0?e=0:(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16),gD[e+164>>2]=1,gD[e+168>>2]=1,gD[e+172>>2]=1,gD[e+176>>2]=0,fD[e+180>>2]=0,gD[e+184>>2]=0xde0b6b000000000,o=e+188|0,i=e+204|0,fD[o+0>>2]=0,fD[o+4>>2]=0,fD[o+8>>2]=0,fD[o+12>>2]=0,fD[i>>2]=1,fD[e+208>>2]=-1,fD[e+212>>2]=-1,fD[e+216>>2]=1,gD[e+220>>2]=0,gD[e+224>>2]=.5,gD[e+228>>2]=0,gD[e+232>>2]=0,i=e+236|0,fD[e+240>>2]=0,gD[e+244>>2]=1,o=e+248|0,r=e+4|0,fD[o+0>>2]=0,fD[o+4>>2]=0,fD[o+8>>2]=0,fD[o+12>>2]=0,gD[r>>2]=1,r=e+8|0,o=e+24|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,gD[o>>2]=1,o=e+28|0,r=e+44|0,fD[o+0>>2]=0,fD[o+4>>2]=0,fD[o+8>>2]=0,fD[o+12>>2]=0,gD[r>>2]=1,r=e+48|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,fD[r+16>>2]=0,uD[e+280>>0]=1,fD[e+276>>2]=0,fD[e+268>>2]=0,fD[e+272>>2]=0,fD[i>>2]=4,fD[e>>2]=13056,fD[5004]=(fD[5004]|0)+1,i=Ew(95)|0,(i|0)==0?(r=0,o=e+284|0,fD[o>>2]=r,bD=t,e|0):(fD[(i+19&-16)+-4>>2]=i,(i+19&-16|0)==0?(r=0,o=e+284|0,fD[o>>2]=r,bD=t,e|0):(FA(i+19&-16),r=i+19&-16,o=e+284|0,fD[o>>2]=r,bD=t,e|0))}function se(t){return t|=0,fD[t+192>>2]|0}function le(t,e){t|=0,e=+e,gD[t+184>>2]=e}function ce(t,e){t|=0,e|=0;var i=0;return i=bD,((fD[t+216>>2]|0)+-4|0)>>>0<2?void(bD=i):(fD[t+216>>2]=e,void(bD=i))}function he(t,e){t|=0,e|=0,fD[t+216>>2]=e}function de(t){t|=0;var e=0;return e=bD,(fD[t+204>>2]&3|0)!=0?void(bD=e):(((fD[t+216>>2]|0)+-4|0)>>>0<2||(fD[t+216>>2]=1),gD[t+220>>2]=0,void(bD=e))}function ue(t,e){t|=0,e|=0;var i=0;return i=bD,(e?0:(fD[t+204>>2]&3|0)!=0)?void(bD=i):(((fD[t+216>>2]|0)+-4|0)>>>0<2||(fD[t+216>>2]=1),gD[t+220>>2]=0,void(bD=i))}function pe(t){return t|=0,t=fD[t+216>>2]|0,((t|0)==2?0:(t|0)!=5)|0}function fe(t){return t|=0,(fD[t+204>>2]&2|0)!=0|0}function _e(t,e){t|=0,e=+e,fD[t+260>>2]=(fD[t+260>>2]|0)+1,gD[t+228>>2]=e}function me(t,e){t|=0,e=+e,fD[t+260>>2]=(fD[t+260>>2]|0)+1,gD[t+224>>2]=e}function ge(t){return t|=0,t+4|0}function ye(t){return t|=0,fD[t+204>>2]|0}function be(t,e){t|=0,e|=0,fD[t+204>>2]=e}function ve(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+260>>2]=(fD[t+260>>2]|0)+1,fD[t+4>>2]=fD[e+0>>2],fD[t+8>>2]=fD[e+4>>2],fD[t+12>>2]=fD[e+8>>2],fD[t+16>>2]=fD[e+12>>2],fD[t+20>>2]=fD[e+16>>2],fD[t+24>>2]=fD[e+20>>2],fD[t+28>>2]=fD[e+24>>2],fD[t+32>>2]=fD[e+28>>2],fD[t+36>>2]=fD[e+32>>2],fD[t+40>>2]=fD[e+36>>2],fD[t+44>>2]=fD[e+40>>2],fD[t+48>>2]=fD[e+44>>2],fD[t+52>>2]=fD[e+48>>2],fD[t+56>>2]=fD[e+52>>2],fD[t+60>>2]=fD[e+56>>2],fD[t+64>>2]=fD[e+60>>2],bD=i}function Me(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+12>>2]&127](t,e),bD=i}function Se(t){return t|=0,fD[t+268>>2]|0}function xe(t,e){return t|=0,e|=0,fD[(fD[t+276>>2]|0)+(e<<2)>>2]|0}function Te(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+8>>2]&511](t),void(bD=e))}function Ee(t,e,i){t=+t,e|=0,i|=0;var r=0,o=0,n=0,a=0;r=bD,o=Ew(140)|0;t:do if((o|0)==0){for(;;){if(o=fD[5158]|0,fD[5158]=o+0,(o|0)==0)break;if(JP[o&3](),o=Ew(140)|0,(o|0)!=0)break t}a=QD(4)|0,fD[a>>2]=20472,KD(a|0,20520,265)}while(0);gD[o>>2]=t,fD[o+4>>2]=e,e=o+8|0,n=o+56|0,a=e;do a=a+16|0;while((a|0)!=(n|0));return fD[o+72>>2]=i,n=o+76|0,a=o+100|0,fD[n+0>>2]=0,fD[n+4>>2]=0,fD[n+8>>2]=0,fD[n+12>>2]=0,fD[n+16>>2]=0,fD[n+20>>2]=0,gD[a>>2]=.5,gD[o+104>>2]=0,gD[o+108>>2]=0,gD[o+112>>2]=.800000011920929,gD[o+116>>2]=1,uD[o+120>>0]=0,gD[o+124>>2]=.004999999888241291,gD[o+128>>2]=.009999999776482582,gD[o+132>>2]=.009999999776482582,gD[o+136>>2]=.009999999776482582,Vh(e),bD=r,o|0}function Ce(t,e,i,r){t=+t,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0;o=bD,n=Ew(140)|0;t:do if((n|0)==0){for(;;){if(n=fD[5158]|0,fD[5158]=n+0,(n|0)==0)break;if(JP[n&3](),n=Ew(140)|0,(n|0)!=0)break t}s=QD(4)|0,fD[s>>2]=20472,KD(s|0,20520,265)}while(0);gD[n>>2]=t,fD[n+4>>2]=e,e=n+8|0,a=n+56|0,s=e;do s=s+16|0;while((s|0)!=(a|0));return fD[n+72>>2]=i,s=n+76|0,fD[s+0>>2]=fD[r+0>>2],fD[s+4>>2]=fD[r+4>>2],fD[s+8>>2]=fD[r+8>>2],fD[s+12>>2]=fD[r+12>>2],gD[n+92>>2]=0,gD[n+96>>2]=0,gD[n+100>>2]=.5,gD[n+104>>2]=0,gD[n+108>>2]=0,gD[n+112>>2]=.800000011920929,gD[n+116>>2]=1,uD[n+120>>0]=0,gD[n+124>>2]=.004999999888241291,gD[n+128>>2]=.009999999776482582,gD[n+132>>2]=.009999999776482582,gD[n+136>>2]=.009999999776482582,Vh(e),bD=o,n|0}function Ae(t){return t|=0,+ +gD[t+92>>2]}function we(t,e){t|=0,e=+e,gD[t+92>>2]=e}function Re(t){return t|=0,+ +gD[t+96>>2]}function De(t,e){t|=0,e=+e,gD[t+96>>2]=e}function Pe(t){return t|=0,+ +gD[t+100>>2]}function Be(t,e){t|=0,e=+e,gD[t+100>>2]=e}function Ve(t){return t|=0,+ +gD[t+104>>2]}function Le(t,e){t|=0,e=+e,gD[t+104>>2]=e}function ke(t){return t|=0,+ +gD[t+108>>2]}function He(t,e){t|=0,e=+e,gD[t+108>>2]=e}function Ie(t){return t|=0,+ +gD[t+112>>2]}function Oe(t,e){t|=0,e=+e,gD[t+112>>2]=e}function Je(t){return t|=0,+ +gD[t+116>>2]}function Ne(t,e){t|=0,e=+e,gD[t+116>>2]=e}function Fe(t){return t|=0,(uD[t+120>>0]&1)!=0|0}function Ge(t,e){t|=0,e|=0,uD[t+120>>0]=e&1}function ze(t){return t|=0,+ +gD[t+124>>2]}function je(t,e){t|=0,e=+e,gD[t+124>>2]=e}function Ue(t){return t|=0,+ +gD[t+128>>2]}function We(t,e){t|=0,e=+e,gD[t+128>>2]=e}function Xe(t){return t|=0,+ +gD[t+132>>2]}function qe(t,e){t|=0,e=+e,gD[t+132>>2]=e}function Ke(t){return t|=0,+ +gD[t+136>>2]}function Ye(t,e){t|=0,e=+e,gD[t+136>>2]=e}function Qe(t){t|=0;var e=0;e=bD,(t|0)!=0&&Cw(t),bD=e}function Ze(t){return t|=0,t+48|0}function $e(t){return t|=0,t+32|0}function ti(t){return t|=0,t|0}function ei(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+0>>2]=fD[e+0>>2],fD[t+4>>2]=fD[e+4>>2],fD[t+8>>2]=fD[e+8>>2],fD[t+12>>2]=fD[e+12>>2],bD=i}function ii(t){return t|=0,t+16|0}function ri(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+16>>2]=fD[e+0>>2],fD[t+20>>2]=fD[e+4>>2],fD[t+24>>2]=fD[e+8>>2],fD[t+28>>2]=fD[e+12>>2],bD=i}function oi(t){return t|=0,t+32|0}function ni(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+32>>2]=fD[e+0>>2],fD[t+36>>2]=fD[e+4>>2],fD[t+40>>2]=fD[e+8>>2],fD[t+44>>2]=fD[e+12>>2],bD=i}function ai(t){return t|=0,t+48|0}function si(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+48>>2]=fD[e+0>>2],fD[t+52>>2]=fD[e+4>>2],fD[t+56>>2]=fD[e+8>>2],fD[t+60>>2]=fD[e+12>>2],bD=i}function li(t){return t|=0,t+64|0}function ci(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+64>>2]=fD[e+0>>2],fD[t+68>>2]=fD[e+4>>2],fD[t+72>>2]=fD[e+8>>2],fD[t+76>>2]=fD[e+12>>2],bD=i}function hi(t){t|=0;var e=0;e=bD,(t|0)!=0&&Cw(t),bD=e}function di(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;r=bD,bD=bD+96|0,fD[5004]=(fD[5004]|0)+1,o=Ew(1331)|0,(o|0)==0?a=0:(fD[(o+19&-16)+-4>>2]=o,a=o+19&-16),((uD[5024]|0)==0?(HD(5024)|0)!=0:0)&&(fD[r+80>>2]=0,fD[r+84>>2]=0,fD[r+88>>2]=0,fD[r+92>>2]=0,Tb(4408,0,0,0,r+80|0),JD(5024)),fD[r+64>>2]=0,fD[r+68>>2]=0,fD[r+72>>2]=0,fD[r+76>>2]=0,Eb(4408,0,r+64|0),fD[a+4>>2]=6,fD[a+8>>2]=-1,fD[a+12>>2]=-1,gD[a+16>>2]=3.4028234663852886e38,uD[a+20>>0]=1,uD[a+21>>0]=0,fD[a+24>>2]=-1,n=a+28|0,fD[n>>2]=4408,o=a+32|0,fD[o>>2]=t,gD[a+36>>2]=0,gD[a+40>>2]=.30000001192092896,fD[a+44>>2]=0,fD[a>>2]=2368,s=a+112|0,fD[s+0>>2]=fD[e+0>>2],fD[s+4>>2]=fD[e+4>>2],fD[s+8>>2]=fD[e+8>>2],fD[s+12>>2]=fD[e+12>>2],h=a+128|0,fD[h+0>>2]=fD[e+16>>2],fD[h+4>>2]=fD[e+20>>2],fD[h+8>>2]=fD[e+24>>2],fD[h+12>>2]=fD[e+28>>2],h=a+144|0,fD[h+0>>2]=fD[e+32>>2],fD[h+4>>2]=fD[e+36>>2],fD[h+8>>2]=fD[e+40>>2],fD[h+12>>2]=fD[e+44>>2],h=a+160|0,fD[h+0>>2]=fD[e+48>>2],fD[h+4>>2]=fD[e+52>>2],fD[h+8>>2]=fD[e+56>>2],fD[h+12>>2]=fD[e+60>>2],h=a+48|0,d=a+740|0,l=a+756|0,e=a+680|0,c=e+48|0;do fD[e>>2]=0,e=e+4|0;while((e|0)<(c|0));return fD[d+0>>2]=0,fD[d+4>>2]=0,fD[d+8>>2]=0,fD[d+12>>2]=0,gD[l>>2]=.20000000298023224,gD[a+760>>2]=.20000000298023224,gD[a+764>>2]=.20000000298023224,c=a+768|0,d=a+728|0,fD[c+0>>2]=0,fD[c+4>>2]=0,fD[c+8>>2]=0,fD[c+12>>2]=0,fD[c+16>>2]=0,gD[d>>2]=.699999988079071,gD[a+732>>2]=1,gD[a+736>>2]=.5,uD[a+788>>0]=0,gD[a+792>>2]=0,gD[a+808>>2]=0,uD[a+789>>0]=0,gD[a+796>>2]=0,gD[a+812>>2]=0,uD[a+790>>0]=0,gD[a+800>>2]=0,gD[a+816>>2]=0,gD[a+928>>2]=0,gD[a+876>>2]=0,gD[a+880>>2]=.10000000149011612,gD[a+884>>2]=300,gD[a+868>>2]=1,gD[a+872>>2]=-1,gD[a+896>>2]=0,gD[a+900>>2]=.20000000298023224,gD[a+904>>2]=0,gD[a+908>>2]=0,gD[a+888>>2]=1,gD[a+892>>2]=.5,fD[a+924>>2]=0,gD[a+916>>2]=0,uD[a+912>>0]=0,gD[a+992>>2]=0,gD[a+940>>2]=0,gD[a+944>>2]=.10000000149011612,gD[a+948>>2]=300,gD[a+932>>2]=1,gD[a+936>>2]=-1,gD[a+960>>2]=0,gD[a+964>>2]=.20000000298023224,gD[a+968>>2]=0,gD[a+972>>2]=0,gD[a+952>>2]=1,gD[a+956>>2]=.5,fD[a+988>>2]=0,gD[a+980>>2]=0,uD[a+976>>0]=0,gD[a+1056>>2]=0,gD[a+1004>>2]=0,gD[a+1008>>2]=.10000000149011612,gD[a+1012>>2]=300,gD[a+996>>2]=1,gD[a+1e3>>2]=-1,gD[a+1024>>2]=0,gD[a+1028>>2]=.20000000298023224,gD[a+1032>>2]=0,gD[a+1036>>2]=0,gD[a+1016>>2]=1,gD[a+1020>>2]=.5,fD[a+1052>>2]=0,gD[a+1044>>2]=0,uD[a+1040>>0]=0,uD[a+1300>>0]=i&1,uD[a+1301>>0]=1,fD[a+1304>>2]=0,uD[a+1308>>0]=0,Ld(r,t+4|0,s),fD[h+0>>2]=fD[r+0>>2],fD[h+4>>2]=fD[r+4>>2],fD[h+8>>2]=fD[r+8>>2],fD[h+12>>2]=fD[r+12>>2],d=a+64|0,fD[d+0>>2]=fD[r+16>>2],fD[d+4>>2]=fD[r+20>>2],fD[d+8>>2]=fD[r+24>>2],fD[d+12>>2]=fD[r+28>>2],d=a+80|0,fD[d+0>>2]=fD[r+32>>2],fD[d+4>>2]=fD[r+36>>2],fD[d+8>>2]=fD[r+40>>2],fD[d+12>>2]=fD[r+44>>2],d=a+96|0,fD[d+0>>2]=fD[r+48>>2],fD[d+4>>2]=fD[r+52>>2],fD[d+8>>2]=fD[r+56>>2],fD[d+12>>2]=fD[r+60>>2],ny(a,(fD[n>>2]|0)+4|0,(fD[o>>2]|0)+4|0),bD=r,a|0}function ui(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0;n=bD,fD[5004]=(fD[5004]|0)+1,a=Ew(1331)|0,(a|0)==0?s=0:(fD[(a+19&-16)+-4>>2]=a,s=a+19&-16),fD[s+4>>2]=6,fD[s+8>>2]=-1,fD[s+12>>2]=-1,gD[s+16>>2]=3.4028234663852886e38,uD[s+20>>0]=1,uD[s+21>>0]=0,fD[s+24>>2]=-1,a=s+28|0,fD[a>>2]=t,t=s+32|0,fD[t>>2]=e,gD[s+36>>2]=0,gD[s+40>>2]=.30000001192092896,fD[s+44>>2]=0,fD[s>>2]=2368,l=s+48|0,fD[l+0>>2]=fD[i+0>>2],fD[l+4>>2]=fD[i+4>>2],fD[l+8>>2]=fD[i+8>>2],fD[l+12>>2]=fD[i+12>>2],l=s+64|0,fD[l+0>>2]=fD[i+16>>2],fD[l+4>>2]=fD[i+20>>2],fD[l+8>>2]=fD[i+24>>2],fD[l+12>>2]=fD[i+28>>2],l=s+80|0,fD[l+0>>2]=fD[i+32>>2],fD[l+4>>2]=fD[i+36>>2],fD[l+8>>2]=fD[i+40>>2],fD[l+12>>2]=fD[i+44>>2],l=s+96|0,fD[l+0>>2]=fD[i+48>>2],fD[l+4>>2]=fD[i+52>>2],fD[l+8>>2]=fD[i+56>>2],fD[l+12>>2]=fD[i+60>>2],i=s+112|0,fD[i+0>>2]=fD[r+0>>2],fD[i+4>>2]=fD[r+4>>2],fD[i+8>>2]=fD[r+8>>2],fD[i+12>>2]=fD[r+12>>2],i=s+128|0,fD[i+0>>2]=fD[r+16>>2],fD[i+4>>2]=fD[r+20>>2],fD[i+8>>2]=fD[r+24>>2],fD[i+12>>2]=fD[r+28>>2],i=s+144|0,fD[i+0>>2]=fD[r+32>>2],fD[i+4>>2]=fD[r+36>>2],fD[i+8>>2]=fD[r+40>>2],fD[i+12>>2]=fD[r+44>>2],i=s+160|0,fD[i+0>>2]=fD[r+48>>2],fD[i+4>>2]=fD[r+52>>2],fD[i+8>>2]=fD[r+56>>2],fD[i+12>>2]=fD[r+60>>2],i=s+740|0,r=s+756|0,l=s+680|0,e=l+48|0;do fD[l>>2]=0,l=l+4|0;while((l|0)<(e|0));return fD[i+0>>2]=0,fD[i+4>>2]=0,fD[i+8>>2]=0,fD[i+12>>2]=0,gD[r>>2]=.20000000298023224,gD[s+760>>2]=.20000000298023224,gD[s+764>>2]=.20000000298023224,r=s+768|0,l=s+728|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,fD[r+16>>2]=0,gD[l>>2]=.699999988079071,gD[s+732>>2]=1,gD[s+736>>2]=.5,uD[s+788>>0]=0,gD[s+792>>2]=0,gD[s+808>>2]=0,uD[s+789>>0]=0,gD[s+796>>2]=0,gD[s+812>>2]=0,uD[s+790>>0]=0,gD[s+800>>2]=0,gD[s+816>>2]=0,gD[s+928>>2]=0,gD[s+876>>2]=0,gD[s+880>>2]=.10000000149011612,gD[s+884>>2]=300,gD[s+868>>2]=1,gD[s+872>>2]=-1,gD[s+896>>2]=0,gD[s+900>>2]=.20000000298023224,gD[s+904>>2]=0,gD[s+908>>2]=0,gD[s+888>>2]=1,gD[s+892>>2]=.5,fD[s+924>>2]=0,gD[s+916>>2]=0,uD[s+912>>0]=0,gD[s+992>>2]=0,gD[s+940>>2]=0,gD[s+944>>2]=.10000000149011612,gD[s+948>>2]=300,gD[s+932>>2]=1,gD[s+936>>2]=-1,gD[s+960>>2]=0,gD[s+964>>2]=.20000000298023224,gD[s+968>>2]=0,gD[s+972>>2]=0,gD[s+952>>2]=1,gD[s+956>>2]=.5,fD[s+988>>2]=0,gD[s+980>>2]=0,uD[s+976>>0]=0,gD[s+1056>>2]=0,gD[s+1004>>2]=0,gD[s+1008>>2]=.10000000149011612,gD[s+1012>>2]=300,gD[s+996>>2]=1,gD[s+1e3>>2]=-1,gD[s+1024>>2]=0,gD[s+1028>>2]=.20000000298023224,gD[s+1032>>2]=0,gD[s+1036>>2]=0,gD[s+1016>>2]=1,gD[s+1020>>2]=.5,fD[s+1052>>2]=0,gD[s+1044>>2]=0,uD[s+1040>>0]=0,uD[s+1300>>0]=o&1,uD[s+1301>>0]=1,fD[s+1304>>2]=0,uD[s+1308>>0]=0,ny(s,(fD[a>>2]|0)+4|0,(fD[t>>2]|0)+4|0),bD=n,s|0}function pi(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function fi(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function _i(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function mi(t){return t|=0,fD[t+192>>2]|0}function gi(t,e){t|=0,e=+e,gD[t+184>>2]=e}function yi(t,e){t|=0,e|=0;var i=0;return i=bD,((fD[t+216>>2]|0)+-4|0)>>>0<2?void(bD=i):(fD[t+216>>2]=e,void(bD=i))}function bi(t,e){t|=0,e|=0,fD[t+216>>2]=e}function vi(t){t|=0;var e=0;return e=bD,(fD[t+204>>2]&3|0)!=0?void(bD=e):(((fD[t+216>>2]|0)+-4|0)>>>0<2||(fD[t+216>>2]=1),gD[t+220>>2]=0,void(bD=e))}function Mi(t,e){t|=0,e|=0;var i=0;return i=bD,(e?0:(fD[t+204>>2]&3|0)!=0)?void(bD=i):(((fD[t+216>>2]|0)+-4|0)>>>0<2||(fD[t+216>>2]=1),gD[t+220>>2]=0,void(bD=i))}function Si(t){return t|=0,t=fD[t+216>>2]|0,((t|0)==2?0:(t|0)!=5)|0}function xi(t){return t|=0,(fD[t+204>>2]&2|0)!=0|0}function Ti(t,e){t|=0,e=+e,fD[t+260>>2]=(fD[t+260>>2]|0)+1,gD[t+228>>2]=e}function Ei(t,e){t|=0,e=+e,fD[t+260>>2]=(fD[t+260>>2]|0)+1,gD[t+224>>2]=e}function Ci(t){return t|=0,t+4|0}function Ai(t){return t|=0,fD[t+204>>2]|0}function wi(t,e){t|=0,e|=0,fD[t+204>>2]=e}function Ri(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+260>>2]=(fD[t+260>>2]|0)+1,fD[t+4>>2]=fD[e+0>>2],fD[t+8>>2]=fD[e+4>>2],fD[t+12>>2]=fD[e+8>>2],fD[t+16>>2]=fD[e+12>>2],fD[t+20>>2]=fD[e+16>>2],fD[t+24>>2]=fD[e+20>>2],fD[t+28>>2]=fD[e+24>>2],fD[t+32>>2]=fD[e+28>>2],fD[t+36>>2]=fD[e+32>>2],fD[t+40>>2]=fD[e+36>>2],fD[t+44>>2]=fD[e+40>>2],fD[t+48>>2]=fD[e+44>>2],fD[t+52>>2]=fD[e+48>>2],fD[t+56>>2]=fD[e+52>>2],fD[t+60>>2]=fD[e+56>>2],fD[t+64>>2]=fD[e+60>>2],bD=i}function Di(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+12>>2]&127](t,e),bD=i}function Pi(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+8>>2]&511](t),void(bD=e))}function Bi(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0;return r=bD,fD[5004]=(fD[5004]|0)+1,o=Ew(343)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),uD[o+20>>0]=1,fD[o+16>>2]=0,fD[o+8>>2]=0,fD[o+12>>2]=0,fD[o+24>>2]=t,gD[o+28>>2]=0,fD[o+32>>2]=0,fD[o+36>>2]=1,gD[o+40>>2]=1,uD[o+44>>0]=1,fD[o+48>>2]=0,uD[o+52>>0]=0,uD[o+53>>0]=1,uD[o+54>>0]=1,gD[o+56>>2]=.03999999910593033,uD[o+60>>0]=0,gD[o+64>>2]=0,fD[o+68>>2]=e,fD[o+72>>2]=0,uD[o+76>>0]=1,fD[o+80>>2]=0,fD[o+84>>2]=0,fD[o+88>>2]=0,gD[o+92>>2]=.6000000238418579,gD[o+96>>2]=1,gD[o+100>>2]=.30000001192092896,gD[o+104>>2]=.01666666753590107,gD[o+108>>2]=0,gD[o+116>>2]=20,fD[o+112>>2]=10,gD[o+124>>2]=.20000000298023224,gD[o+128>>2]=.800000011920929,gD[o+132>>2]=0,gD[o+120>>2]=1,fD[o+136>>2]=1,gD[o+140>>2]=-.03999999910593033,gD[o+144>>2]=.10000000149011612,gD[o+148>>2]=0,gD[o+152>>2]=.8500000238418579,fD[o+156>>2]=260,fD[o+160>>2]=2,fD[o+164>>2]=128,gD[o+168>>2]=100,gD[o+172>>2]=1.0000000150474662e30,fD[o>>2]=1392,uD[o+192>>0]=1,fD[o+188>>2]=0,fD[o+180>>2]=0,fD[o+184>>2]=0,e=o+196|0,fD[e>>2]=0,n=o+200|0,fD[n>>2]=i,uD[o+224>>0]=1,fD[o+220>>2]=0,fD[o+212>>2]=0,fD[o+216>>2]=0,uD[o+244>>0]=1,fD[o+240>>2]=0,fD[o+232>>2]=0,fD[o+236>>2]=0,gD[o+248>>2]=0,gD[o+252>>2]=-10,l=o+256|0,uD[o+274>>0]=0,uD[o+275>>0]=0,s=o+292|0,fD[l+0>>2]=0,fD[l+4>>2]=0,fD[l+8>>2]=0,fD[l+12>>2]=0,uD[s>>0]=1,fD[o+288>>2]=0,fD[o+280>>2]=0,fD[o+284>>2]=0,fD[o+296>>2]=0,uD[o+300>>0]=1,uD[o+320>>0]=1,fD[o+316>>2]=0,fD[o+308>>2]=0,fD[o+312>>2]=0,(i|0)==0?(fD[5004]=(fD[5004]|0)+1,i=Ew(215)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),fD[i>>2]=4024,uD[i+20>>0]=1,fD[i+16>>2]=0,fD[i+8>>2]=0,fD[i+12>>2]=0,uD[i+40>>0]=1,fD[i+36>>2]=0,fD[i+28>>2]=0,fD[i+32>>2]=0,uD[i+60>>0]=1,fD[i+56>>2]=0,fD[i+48>>2]=0,fD[i+52>>2]=0,uD[i+80>>0]=1,fD[i+76>>2]=0,fD[i+68>>2]=0,fD[i+72>>2]=0,uD[i+100>>0]=1,fD[i+96>>2]=0,fD[i+88>>2]=0,fD[i+92>>2]=0,uD[i+120>>0]=1,fD[i+116>>2]=0,fD[i+108>>2]=0,fD[i+112>>2]=0,uD[i+140>>0]=1,fD[i+136>>2]=0,fD[i+128>>2]=0,fD[i+132>>2]=0,uD[i+160>>0]=1,fD[i+156>>2]=0,fD[i+148>>2]=0,fD[i+152>>2]=0,uD[i+180>>0]=1,fD[i+176>>2]=0,fD[i+168>>2]=0,fD[i+172>>2]=0,fD[i+192>>2]=0,fD[n>>2]=i,uD[o+273>>0]=1):uD[o+273>>0]=0,fD[5004]=(fD[5004]|0)+1,i=Ew(87)|0,((i|0)!=0?(a=i+19&-16,fD[a+-4>>2]=i,(i+19&-16|0)!=0):0)?(fD[(i+19&-16)>>2]=16568,uD[a+20>>0]=1,fD[a+16>>2]=0,fD[a+8>>2]=0,fD[a+12>>2]=0,uD[a+40>>0]=1,fD[a+36>>2]=0,fD[a+28>>2]=0,fD[a+32>>2]=0,uD[a+60>>0]=1,fD[a+56>>2]=0,fD[a+48>>2]=0,fD[a+52>>2]=0,uD[a+64>>0]=1,a=i+19&-16):a=0,fD[o+204>>2]=a,uD[o+272>>0]=1,fD[5004]=(fD[5004]|0)+1,a=Ew(107)|0,(a|0)==0?(l=0,fD[e>>2]=l,bD=r,o|0):(i=a+19&-16,fD[i+-4>>2]=a,(a+19&-16|0)==0?(l=0,fD[e>>2]=l,bD=r,o|0):(l=fD[n>>2]|0,fD[(a+19&-16)>>2]=2240,fD[i+4>>2]=0,fD[i+8>>2]=l,fD[i+12>>2]=0,fD[i+16>>2]=0,fD[i+20>>2]=0,fD[i+24>>2]=t,uD[i+44>>0]=1,fD[i+40>>2]=0,fD[i+32>>2]=0,fD[i+36>>2]=0,uD[i+64>>0]=1,fD[i+60>>2]=0,fD[i+52>>2]=0,fD[i+56>>2]=0,uD[i+84>>0]=1,fD[i+80>>2]=0,fD[i+72>>2]=0,fD[i+76>>2]=0,l=a+19&-16,fD[e>>2]=l,bD=r,o|0))}function Vi(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+72>>2]&127](t,e),bD=i}function Li(t){t|=0;var e=0;return e=bD,bD=bD+16|0,((uD[24]|0)==0?(HD(24)|0)!=0:0)&&JD(24),aP[fD[(fD[t>>2]|0)+76>>2]&127](e,t),fD[2]=fD[e+0>>2],fD[3]=fD[e+4>>2],fD[4]=fD[e+8>>2],fD[5]=fD[e+12>>2],bD=e,8}function ki(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+84>>2]&127](t,e),bD=i}function Hi(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,GP[fD[(fD[t>>2]|0)+88>>2]&127](t,e,i,r),bD=o}function Ii(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+92>>2]&127](t,e),bD=i}function Oi(t,e){t|=0,e|=0;var i=0;i=bD,OP[fD[(fD[t>>2]|0)+56>>2]&127](t,e,0),bD=i}function Ji(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,OP[fD[(fD[t>>2]|0)+56>>2]&127](t,e,i),bD=r}function Ni(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+60>>2]&127](t,e),bD=i}function Fi(t,e){t|=0,e=+e;var i=0;return i=bD,t=FP[fD[(fD[t>>2]|0)+52>>2]&1](t,e,1,.01666666753590107)|0,bD=i,t|0}function Gi(t,e,i){t|=0,e=+e,i|=0;var r=0;return r=bD,t=FP[fD[(fD[t>>2]|0)+52>>2]&1](t,e,i,.01666666753590107)|0,bD=r,t|0}function zi(t,e,i,r){t|=0,e=+e,i|=0,r=+r;var o=0;return o=bD,t=FP[fD[(fD[t>>2]|0)+52>>2]&1](t,e,i,r)|0,bD=o,t|0}function ji(t){return t|=0,fD[t+24>>2]|0}function Ui(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,GP[fD[(fD[t>>2]|0)+32>>2]&127](t,e,i,r),bD=o}function Wi(t){t|=0;var e=0;return e=bD,t=fD[t+68>>2]|0,t=lP[fD[(fD[t>>2]|0)+36>>2]&127](t)|0,bD=e,t|0}function Xi(t){return t|=0,t+28|0}function qi(t,e){t|=0,e|=0;var i=0;i=bD,GP[fD[(fD[t>>2]|0)+36>>2]&127](t,e,2,-3),bD=i}function Ki(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,GP[fD[(fD[t>>2]|0)+36>>2]&127](t,e,i,-3),bD=r}function Yi(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,GP[fD[(fD[t>>2]|0)+36>>2]&127](t,e,i,r),bD=o}function Qi(t){return t|=0,fD[t+68>>2]|0}function Zi(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n;var a=0;a=bD,L_(t,e,i,r,o,n),bD=a}function $i(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,H_(t,e,i,r),bD=o}function tr(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+64>>2]&127](t,e),bD=i}function er(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function ir(t){t|=0;var e=0,i=0;return e=bD,fD[5004]=(fD[5004]|0)+1,i=Ew(115)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),fD[i+8>>2]=0,gD[i+12>>2]=1,gD[i+16>>2]=1,gD[i+20>>2]=1,gD[i+24>>2]=0,gD[i+44>>2]=.03999999910593033,fD[i+52>>2]=0,gD[i+56>>2]=1,gD[i+60>>2]=1,gD[i+64>>2]=1,gD[i+68>>2]=0,gD[i+72>>2]=-1,gD[i+76>>2]=-1,gD[i+80>>2]=-1,gD[i+84>>2]=0,uD[i+88>>0]=0,fD[i>>2]=10656,fD[i+92>>2]=t,fD[i+4>>2]=3,qb(i),bD=e,i|0}function rr(t,e){t|=0,e|=0;var i=0,r=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(115)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),fD[r+8>>2]=0,gD[r+12>>2]=1,gD[r+16>>2]=1,gD[r+20>>2]=1,gD[r+24>>2]=0,gD[r+44>>2]=.03999999910593033,fD[r+52>>2]=0,gD[r+56>>2]=1,gD[r+60>>2]=1,gD[r+64>>2]=1,gD[r+68>>2]=0,gD[r+72>>2]=-1,gD[r+76>>2]=-1,gD[r+80>>2]=-1,gD[r+84>>2]=0,uD[r+88>>0]=0,fD[r>>2]=10656,fD[r+92>>2]=t,fD[r+4>>2]=3,e?(qb(r),bD=i,r|0):(bD=i,r|0)}function or(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function nr(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function ar(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function sr(t){return t|=0,+gD[t+4>>2]<1|0}function lr(t){return t|=0,pD[t+8>>1]|0}function cr(t,e){t|=0,e|=0,pD[t+8>>1]=e}function hr(t){return t|=0,pD[t+10>>1]|0}function dr(t,e){t|=0,e|=0,pD[t+10>>1]=e}function ur(t){return t|=0,+ +gD[t+4>>2]}function pr(t,e){t|=0,e=+e,gD[t+4>>2]=e}function fr(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function _r(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(379)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),zu(r,3,t),fD[r>>2]=2984,c=r+300|0,fD[c+0>>2]=fD[e+0>>2],fD[c+4>>2]=fD[e+4>>2],fD[c+8>>2]=fD[e+8>>2],fD[c+12>>2]=fD[e+12>>2],l=+gD[e>>2],s=+gD[e+4>>2],a=+gD[e+8>>2],n=l*+gD[t+20>>2]+s*+gD[t+24>>2]+a*+gD[t+28>>2]+ +gD[t+56>>2],o=l*+gD[t+36>>2]+s*+gD[t+40>>2]+a*+gD[t+44>>2]+ +gD[t+60>>2],gD[r+316>>2]=l*+gD[t+4>>2]+s*+gD[t+8>>2]+a*+gD[t+12>>2]+ +gD[t+52>>2],gD[r+320>>2]=n,gD[r+324>>2]=o,gD[r+328>>2]=0,fD[r+332>>2]=0,uD[r+344>>0]=0,gD[r+348>>2]=.30000001192092896,gD[r+352>>2]=1,gD[r+356>>2]=0,bD=i,r|0}function mr(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;return o=bD,fD[5004]=(fD[5004]|0)+1,n=Ew(379)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),fD[n+4>>2]=3,fD[n+8>>2]=-1,fD[n+12>>2]=-1,gD[n+16>>2]=3.4028234663852886e38,uD[n+20>>0]=1,uD[n+21>>0]=0,fD[n+24>>2]=-1,fD[n+28>>2]=t,fD[n+32>>2]=e,gD[n+36>>2]=0,gD[n+40>>2]=.30000001192092896,fD[n+44>>2]=0,fD[n>>2]=2984,e=n+300|0,fD[e+0>>2]=fD[i+0>>2],fD[e+4>>2]=fD[i+4>>2],fD[e+8>>2]=fD[i+8>>2],fD[e+12>>2]=fD[i+12>>2],i=n+316|0,fD[i+0>>2]=fD[r+0>>2],fD[i+4>>2]=fD[r+4>>2],fD[i+8>>2]=fD[r+8>>2],fD[i+12>>2]=fD[r+12>>2],fD[n+332>>2]=0,uD[n+344>>0]=0,gD[n+348>>2]=.30000001192092896,gD[n+352>>2]=1,gD[n+356>>2]=0,bD=o,n|0}function gr(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+300>>2]=fD[e+0>>2],fD[t+304>>2]=fD[e+4>>2],fD[t+308>>2]=fD[e+8>>2],fD[t+312>>2]=fD[e+12>>2],bD=i}function yr(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+316>>2]=fD[e+0>>2],fD[t+320>>2]=fD[e+4>>2],fD[t+324>>2]=fD[e+8>>2],fD[t+328>>2]=fD[e+12>>2],bD=i}function br(t){return t|=0,t+300|0}function vr(t){return t|=0,t+316|0}function Mr(t,e){t|=0,e|=0,uD[t+21>>0]=e&1}function Sr(t){return t|=0,t+348|0}function xr(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+348>>2]=fD[e+0>>2],fD[t+352>>2]=fD[e+4>>2],fD[t+356>>2]=fD[e+8>>2],bD=i}function Tr(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))
}function Er(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+8>>2]&127](t,e),bD=i}function Cr(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+12>>2]&127](t,e),bD=i}function Ar(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function wr(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return r=bD,bD=bD+96|0,fD[5004]=(fD[5004]|0)+1,o=Ew(1147)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),((uD[5024]|0)==0?(HD(5024)|0)!=0:0)&&(fD[r+80>>2]=0,fD[r+84>>2]=0,fD[r+88>>2]=0,fD[r+92>>2]=0,Tb(4408,0,0,0,r+80|0),JD(5024)),fD[r+64>>2]=0,fD[r+68>>2]=0,fD[r+72>>2]=0,fD[r+76>>2]=0,Eb(4408,0,r+64|0),fD[o+4>>2]=7,fD[o+8>>2]=-1,fD[o+12>>2]=-1,gD[o+16>>2]=3.4028234663852886e38,uD[o+20>>0]=1,uD[o+21>>0]=0,fD[o+24>>2]=-1,a=o+28|0,fD[a>>2]=4408,n=o+32|0,fD[n>>2]=t,gD[o+36>>2]=0,gD[o+40>>2]=.30000001192092896,fD[o+44>>2]=0,fD[o>>2]=4264,uD[o+48>>0]=0,s=o+116|0,fD[s+0>>2]=fD[e+0>>2],fD[s+4>>2]=fD[e+4>>2],fD[s+8>>2]=fD[e+8>>2],fD[s+12>>2]=fD[e+12>>2],l=o+132|0,fD[l+0>>2]=fD[e+16>>2],fD[l+4>>2]=fD[e+20>>2],fD[l+8>>2]=fD[e+24>>2],fD[l+12>>2]=fD[e+28>>2],l=o+148|0,fD[l+0>>2]=fD[e+32>>2],fD[l+4>>2]=fD[e+36>>2],fD[l+8>>2]=fD[e+40>>2],fD[l+12>>2]=fD[e+44>>2],l=o+164|0,fD[l+0>>2]=fD[e+48>>2],fD[l+4>>2]=fD[e+52>>2],fD[l+8>>2]=fD[e+56>>2],fD[l+12>>2]=fD[e+60>>2],uD[o+180>>0]=i&1,e=o+52|0,Ld(r,t+4|0,s),fD[e+0>>2]=fD[r+0>>2],fD[e+4>>2]=fD[r+4>>2],fD[e+8>>2]=fD[r+8>>2],fD[e+12>>2]=fD[r+12>>2],e=o+68|0,fD[e+0>>2]=fD[r+16>>2],fD[e+4>>2]=fD[r+20>>2],fD[e+8>>2]=fD[r+24>>2],fD[e+12>>2]=fD[r+28>>2],e=o+84|0,fD[e+0>>2]=fD[r+32>>2],fD[e+4>>2]=fD[r+36>>2],fD[e+8>>2]=fD[r+40>>2],fD[e+12>>2]=fD[r+44>>2],e=o+100|0,fD[e+0>>2]=fD[r+48>>2],fD[e+4>>2]=fD[r+52>>2],fD[e+8>>2]=fD[r+56>>2],fD[e+12>>2]=fD[r+60>>2],gD[o+184>>2]=1,gD[o+188>>2]=-1,gD[o+192>>2]=0,gD[o+196>>2]=0,gD[o+200>>2]=1,gD[o+204>>2]=.699999988079071,gD[o+208>>2]=0,gD[o+212>>2]=0,gD[o+216>>2]=1,gD[o+220>>2]=.699999988079071,gD[o+224>>2]=0,gD[o+228>>2]=0,gD[o+264>>2]=1,gD[o+268>>2]=.699999988079071,gD[o+272>>2]=1,gD[o+276>>2]=0,gD[o+280>>2]=1,gD[o+284>>2]=.699999988079071,gD[o+288>>2]=1,gD[o+292>>2]=0,gD[o+232>>2]=1,gD[o+236>>2]=.699999988079071,gD[o+240>>2]=1,gD[o+244>>2]=0,gD[o+248>>2]=1,gD[o+252>>2]=.699999988079071,gD[o+256>>2]=1,gD[o+260>>2]=0,uD[o+1096>>0]=0,e=o+1100|0,gD[o+1116>>2]=0,gD[o+1120>>2]=0,gD[o+1124>>2]=0,fD[o+300>>2]=0,i=o+49|0,fD[e+0>>2]=0,fD[e+4>>2]=0,fD[e+8>>2]=0,uD[e+12>>0]=0,uD[i>>0]=1,Lu(o,(fD[a>>2]|0)+4|0,(fD[n>>2]|0)+4|0),bD=r,o|0}function Rr(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0;return n=bD,fD[5004]=(fD[5004]|0)+1,a=Ew(1147)|0,(a|0)==0?a=0:(fD[(a+19&-16)+-4>>2]=a,a=a+19&-16),fD[a+4>>2]=7,fD[a+8>>2]=-1,fD[a+12>>2]=-1,gD[a+16>>2]=3.4028234663852886e38,uD[a+20>>0]=1,uD[a+21>>0]=0,fD[a+24>>2]=-1,s=a+28|0,fD[s>>2]=t,t=a+32|0,fD[t>>2]=e,gD[a+36>>2]=0,gD[a+40>>2]=.30000001192092896,fD[a+44>>2]=0,fD[a>>2]=4264,uD[a+48>>0]=0,e=a+52|0,fD[e+0>>2]=fD[i+0>>2],fD[e+4>>2]=fD[i+4>>2],fD[e+8>>2]=fD[i+8>>2],fD[e+12>>2]=fD[i+12>>2],e=a+68|0,fD[e+0>>2]=fD[i+16>>2],fD[e+4>>2]=fD[i+20>>2],fD[e+8>>2]=fD[i+24>>2],fD[e+12>>2]=fD[i+28>>2],e=a+84|0,fD[e+0>>2]=fD[i+32>>2],fD[e+4>>2]=fD[i+36>>2],fD[e+8>>2]=fD[i+40>>2],fD[e+12>>2]=fD[i+44>>2],e=a+100|0,fD[e+0>>2]=fD[i+48>>2],fD[e+4>>2]=fD[i+52>>2],fD[e+8>>2]=fD[i+56>>2],fD[e+12>>2]=fD[i+60>>2],i=a+116|0,fD[i+0>>2]=fD[r+0>>2],fD[i+4>>2]=fD[r+4>>2],fD[i+8>>2]=fD[r+8>>2],fD[i+12>>2]=fD[r+12>>2],i=a+132|0,fD[i+0>>2]=fD[r+16>>2],fD[i+4>>2]=fD[r+20>>2],fD[i+8>>2]=fD[r+24>>2],fD[i+12>>2]=fD[r+28>>2],i=a+148|0,fD[i+0>>2]=fD[r+32>>2],fD[i+4>>2]=fD[r+36>>2],fD[i+8>>2]=fD[r+40>>2],fD[i+12>>2]=fD[r+44>>2],i=a+164|0,fD[i+0>>2]=fD[r+48>>2],fD[i+4>>2]=fD[r+52>>2],fD[i+8>>2]=fD[r+56>>2],fD[i+12>>2]=fD[r+60>>2],uD[a+180>>0]=o&1,gD[a+184>>2]=1,gD[a+188>>2]=-1,gD[a+192>>2]=0,gD[a+196>>2]=0,gD[a+200>>2]=1,gD[a+204>>2]=.699999988079071,gD[a+208>>2]=0,gD[a+212>>2]=0,gD[a+216>>2]=1,gD[a+220>>2]=.699999988079071,gD[a+224>>2]=0,gD[a+228>>2]=0,gD[a+264>>2]=1,gD[a+268>>2]=.699999988079071,gD[a+272>>2]=1,gD[a+276>>2]=0,gD[a+280>>2]=1,gD[a+284>>2]=.699999988079071,gD[a+288>>2]=1,gD[a+292>>2]=0,gD[a+232>>2]=1,gD[a+236>>2]=.699999988079071,gD[a+240>>2]=1,gD[a+244>>2]=0,gD[a+248>>2]=1,gD[a+252>>2]=.699999988079071,gD[a+256>>2]=1,gD[a+260>>2]=0,uD[a+1096>>0]=0,r=a+1100|0,gD[a+1116>>2]=0,gD[a+1120>>2]=0,gD[a+1124>>2]=0,fD[a+300>>2]=0,o=a+49|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,uD[r+12>>0]=0,uD[o>>0]=1,Lu(a,(fD[s>>2]|0)+4|0,(fD[t>>2]|0)+4|0),bD=n,a|0}function Dr(t,e){t|=0,e=+e,gD[t+184>>2]=e}function Pr(t,e){t|=0,e=+e,gD[t+188>>2]=e}function Br(t,e){t|=0,e=+e;var i=0;i=bD,e=+OD(+e,6.2831854820251465),e<-3.1415927410125732?e+=6.2831854820251465:e>3.1415927410125732&&(e+=-6.2831854820251465),gD[t+192>>2]=e,bD=i}function Vr(t,e){t|=0,e=+e;var i=0;i=bD,e=+OD(+e,6.2831854820251465),e<-3.1415927410125732?e+=6.2831854820251465:e>3.1415927410125732&&(e+=-6.2831854820251465),gD[t+196>>2]=e,bD=i}function Lr(t,e){t|=0,e|=0,uD[t+21>>0]=e&1}function kr(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Hr(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(627)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),zu(r,5,t),fD[r>>2]=1264,a=r+300|0,fD[a+0>>2]=fD[e+0>>2],fD[a+4>>2]=fD[e+4>>2],fD[a+8>>2]=fD[e+8>>2],fD[a+12>>2]=fD[e+12>>2],n=r+316|0,fD[n+0>>2]=fD[e+16>>2],fD[n+4>>2]=fD[e+20>>2],fD[n+8>>2]=fD[e+24>>2],fD[n+12>>2]=fD[e+28>>2],o=r+332|0,fD[o+0>>2]=fD[e+32>>2],fD[o+4>>2]=fD[e+36>>2],fD[o+8>>2]=fD[e+40>>2],fD[o+12>>2]=fD[e+44>>2],t=r+348|0,fD[t+0>>2]=fD[e+48>>2],fD[t+4>>2]=fD[e+52>>2],fD[t+8>>2]=fD[e+56>>2],fD[t+12>>2]=fD[e+60>>2],t=r+364|0,e=r+524|0,uD[r+527>>0]=0,fD[t+0>>2]=fD[a+0>>2],fD[t+4>>2]=fD[a+4>>2],fD[t+8>>2]=fD[a+8>>2],fD[t+12>>2]=fD[a+12>>2],t=r+380|0,fD[t+0>>2]=fD[n+0>>2],fD[t+4>>2]=fD[n+4>>2],fD[t+8>>2]=fD[n+8>>2],fD[t+12>>2]=fD[n+12>>2],t=r+396|0,fD[t+0>>2]=fD[o+0>>2],fD[t+4>>2]=fD[o+4>>2],fD[t+8>>2]=fD[o+8>>2],fD[t+12>>2]=fD[o+12>>2],t=r+412|0,uD[e>>0]=0,uD[r+525>>0]=0,uD[r+526>>0]=0,uD[r+552>>0]=0,e=r+572|0,fD[t+0>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,gD[e>>2]=-1,gD[r+444>>2]=0xde0b6b000000000,gD[r+448>>2]=0xde0b6b000000000,gD[r+452>>2]=0xde0b6b000000000,gD[r+428>>2]=1,gD[r+432>>2]=.30000001192092896,gD[r+436>>2]=1,gD[r+440>>2]=.009999999776482582,gD[r+456>>2]=.05000000074505806,fD[r+592>>2]=0,gD[r+596>>2]=0,gD[r+600>>2]=.699999988079071,gD[r+604>>2]=0,bD=i,r|0}function Ir(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;return o=bD,fD[5004]=(fD[5004]|0)+1,n=Ew(627)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),fD[n+4>>2]=5,fD[n+8>>2]=-1,fD[n+12>>2]=-1,gD[n+16>>2]=3.4028234663852886e38,uD[n+20>>0]=1,uD[n+21>>0]=0,fD[n+24>>2]=-1,fD[n+28>>2]=t,fD[n+32>>2]=e,gD[n+36>>2]=0,gD[n+40>>2]=.30000001192092896,fD[n+44>>2]=0,fD[n>>2]=1264,e=n+300|0,fD[e+0>>2]=fD[i+0>>2],fD[e+4>>2]=fD[i+4>>2],fD[e+8>>2]=fD[i+8>>2],fD[e+12>>2]=fD[i+12>>2],e=n+316|0,fD[e+0>>2]=fD[i+16>>2],fD[e+4>>2]=fD[i+20>>2],fD[e+8>>2]=fD[i+24>>2],fD[e+12>>2]=fD[i+28>>2],e=n+332|0,fD[e+0>>2]=fD[i+32>>2],fD[e+4>>2]=fD[i+36>>2],fD[e+8>>2]=fD[i+40>>2],fD[e+12>>2]=fD[i+44>>2],e=n+348|0,fD[e+0>>2]=fD[i+48>>2],fD[e+4>>2]=fD[i+52>>2],fD[e+8>>2]=fD[i+56>>2],fD[e+12>>2]=fD[i+60>>2],i=n+364|0,fD[i+0>>2]=fD[r+0>>2],fD[i+4>>2]=fD[r+4>>2],fD[i+8>>2]=fD[r+8>>2],fD[i+12>>2]=fD[r+12>>2],i=n+380|0,fD[i+0>>2]=fD[r+16>>2],fD[i+4>>2]=fD[r+20>>2],fD[i+8>>2]=fD[r+24>>2],fD[i+12>>2]=fD[r+28>>2],i=n+396|0,fD[i+0>>2]=fD[r+32>>2],fD[i+4>>2]=fD[r+36>>2],fD[i+8>>2]=fD[r+40>>2],fD[i+12>>2]=fD[r+44>>2],i=n+412|0,fD[i+0>>2]=fD[r+48>>2],fD[i+4>>2]=fD[r+52>>2],fD[i+8>>2]=fD[r+56>>2],fD[i+12>>2]=fD[r+60>>2],r=n+524|0,uD[n+552>>0]=0,uD[r>>0]=0,uD[r+1>>0]=0,uD[r+2>>0]=0,uD[r+3>>0]=0,gD[n+572>>2]=-1,gD[n+444>>2]=0xde0b6b000000000,gD[n+448>>2]=0xde0b6b000000000,gD[n+452>>2]=0xde0b6b000000000,gD[n+428>>2]=1,gD[n+432>>2]=.30000001192092896,gD[n+436>>2]=1,gD[n+440>>2]=.009999999776482582,gD[n+456>>2]=.05000000074505806,fD[n+592>>2]=0,gD[n+596>>2]=0,gD[n+600>>2]=.699999988079071,gD[n+604>>2]=0,bD=o,n|0}function Or(t,e,i){t|=0,e|=0,i=+i;var r=0;r=bD,(e|0)==4?gD[t+448>>2]=i:(e|0)==3?gD[t+452>>2]=i:(e|0)==5&&(gD[t+444>>2]=i),bD=r}function Jr(t,e){t|=0,e|=0,uD[t+524>>0]=e&1}function Nr(t,e){t|=0,e=+e,gD[t+440>>2]=e}function Fr(t,e){t|=0,e|=0,uD[t+552>>0]=e&1}function Gr(t,e){t|=0,e=+e,gD[t+572>>2]=e,uD[t+553>>0]=0}function zr(t,e){t|=0,e=+e,gD[t+572>>2]=e,uD[t+553>>0]=1}function jr(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,p=0,f=0,_=0;i=bD,bD=bD+48|0,u(t+364|0,i+16|0),a=-+gD[i+16>>2],o=-+gD[i+20>>2],h=-+gD[i+24>>2],c=+gD[i+28>>2],n=+gD[e>>2],d=+gD[e+12>>2],l=+gD[e+8>>2],s=+gD[e+4>>2],u(t+300|0,i),f=+gD[i>>2],_=+gD[i+12>>2],r=+gD[i+8>>2],p=+gD[i+4>>2],gD[i+32>>2]=f*(c*d-n*a-s*o-l*h)+(c*n+d*a+l*o-s*h)*_+(n*h+(d*o+c*s)-l*a)*r-(d*h+c*l+s*a-n*o)*p,gD[i+36>>2]=f*(d*h+c*l+s*a-n*o)+(_*(n*h+(d*o+c*s)-l*a)+(c*d-n*a-s*o-l*h)*p)-(c*n+d*a+l*o-s*h)*r,gD[i+40>>2]=_*(d*h+c*l+s*a-n*o)+(c*d-n*a-s*o-l*h)*r+(c*n+d*a+l*o-s*h)*p-f*(n*h+(d*o+c*s)-l*a),gD[i+44>>2]=(c*d-n*a-s*o-l*h)*_-f*(c*n+d*a+l*o-s*h)-(n*h+(d*o+c*s)-l*a)*p-(d*h+c*l+s*a-n*o)*r,Yd(t,i+32|0),bD=i}function Ur(t,e){t|=0,e|=0;var i=0;i=bD,Yd(t,e),bD=i}function Wr(t,e){t|=0,e|=0,uD[t+21>>0]=e&1}function Xr(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function qr(t,e){t=+t,e=+e;var i=0,r=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(95)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),fD[r+8>>2]=0,gD[r+12>>2]=1,gD[r+16>>2]=1,gD[r+20>>2]=1,gD[r+24>>2]=0,gD[r+44>>2]=.03999999910593033,fD[r>>2]=9704,gD[r+56>>2]=t,gD[r+60>>2]=e,fD[r+4>>2]=11,fD[r+64>>2]=0,fD[r+68>>2]=1,fD[r+72>>2]=2,gD[r+28>>2]=t,gD[r+32>>2]=e,gD[r+36>>2]=t,gD[r+52>>2]=t/+CD(+(t*t+e*e)),bD=i,r|0}function Kr(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function Yr(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function Qr(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Zr(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function $r(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function to(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function eo(){var t=0,e=0;t=bD,bD=bD+32|0,e=Ew(92)|0;t:do if((e|0)==0){for(;;){if(e=fD[5158]|0,fD[5158]=e+0,(e|0)==0)break;if(JP[e&3](),e=Ew(92)|0,(e|0)!=0)break t}e=QD(4)|0,fD[e>>2]=20472,KD(e|0,20520,265)}while(0);return fD[t>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=4096,fD[t+12>>2]=4096,fD[t+16>>2]=0,fD[t+20>>2]=1,mC(e,t),bD=t,e|0}function io(t){t|=0;var e=0,i=0;e=bD,i=Ew(92)|0;t:do if((i|0)==0){for(;;){if(i=fD[5158]|0,fD[5158]=i+0,(i|0)==0)break;if(JP[i&3](),i=Ew(92)|0,(i|0)!=0)break t}i=QD(4)|0,fD[i>>2]=20472,KD(i|0,20520,265)}while(0);return mC(i,t),bD=e,i|0}function ro(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function oo(t,e,i,r,o,n,a,s){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0;var l=0,c=0;return c=bD,l=+fP[fD[(fD[t>>2]|0)+12>>2]&1](t,e,i,r,o,n,a,s),bD=c,+l}function no(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function ao(t,e){t=+t,e=+e;var i=0,r=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(95)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),fD[r+8>>2]=0,gD[r+12>>2]=1,gD[r+16>>2]=1,gD[r+20>>2]=1,gD[r+24>>2]=0,gD[r+44>>2]=.03999999910593033,gD[r+56>>2]=t,gD[r+60>>2]=e,fD[r+4>>2]=11,gD[r+52>>2]=t/+CD(+(t*t+e*e)),fD[r>>2]=9808,fD[r+64>>2]=0,fD[r+68>>2]=2,fD[r+72>>2]=1,gD[r+28>>2]=t,gD[r+36>>2]=e,gD[r+32>>2]=t,bD=i,r|0}function so(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function lo(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function co(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function ho(t,e){t=+t,e=+e;var i=0,r=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(95)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),fD[r+8>>2]=0,gD[r+12>>2]=1,gD[r+16>>2]=1,gD[r+20>>2]=1,gD[r+24>>2]=0,gD[r+44>>2]=.03999999910593033,gD[r+56>>2]=t,gD[r+60>>2]=e,fD[r+4>>2]=11,gD[r+52>>2]=t/+CD(+(t*t+e*e)),fD[r>>2]=9912,fD[r+64>>2]=1,fD[r+68>>2]=0,fD[r+72>>2]=2,gD[r+32>>2]=t,gD[r+28>>2]=e,gD[r+36>>2]=t,bD=i,r|0}function uo(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function po(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function fo(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function _o(){var t=0,e=0;return t=bD,fD[5004]=(fD[5004]|0)+1,e=Ew(191)|0,(e|0)==0?e=0:(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16),hM(e,1,1),bD=t,e|0}function mo(t){t|=0;var e=0,i=0;return e=bD,fD[5004]=(fD[5004]|0)+1,i=Ew(191)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),hM(i,t,1),bD=e,i|0}function go(t,e){t|=0,e|=0;var i=0,r=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(191)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),hM(r,t,e),bD=i,r|0}function yo(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;o=bD,n=fD[t+32>>2]|0,fD[n>>2]=(fD[n>>2]|0)+1,dM(t,uM(t,e,0)|0),dM(t,uM(t,i,0)|0),dM(t,uM(t,r,0)|0),bD=o}function bo(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0;n=bD,a=fD[t+32>>2]|0,fD[a>>2]=(fD[a>>2]|0)+1,dM(t,uM(t,e,o)|0),dM(t,uM(t,i,o)|0),dM(t,uM(t,r,o)|0),bD=n}function vo(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Mo(){var t=0,e=0;return t=bD,fD[5004]=(fD[5004]|0)+1,e=Ew(131)|0,(e|0)==0?e=0:(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16),fD[e+8>>2]=0,gD[e+12>>2]=1,gD[e+16>>2]=1,gD[e+20>>2]=1,gD[e+24>>2]=0,gD[e+44>>2]=.03999999910593033,fD[e+52>>2]=0,gD[e+56>>2]=1,gD[e+60>>2]=1,gD[e+64>>2]=1,gD[e+68>>2]=0,gD[e+72>>2]=-1,gD[e+76>>2]=-1,gD[e+80>>2]=-1,gD[e+84>>2]=0,uD[e+88>>0]=0,fD[e>>2]=10376,uD[e+108>>0]=1,fD[e+104>>2]=0,fD[e+100>>2]=0,fD[e+4>>2]=4,fD[e+96>>2]=0,qb(e),bD=t,e|0}function So(t,e){t|=0,e|=0;var i=0;i=bD,xT(t,e,1),bD=i}function xo(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,xT(t,e,i),bD=r}function To(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function Eo(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function Co(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Ao(){var t=0,e=0,i=0;return t=bD,fD[5004]=(fD[5004]|0)+1,e=Ew(791)|0,(e|0)==0?e=0:(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16),fD[e>>2]=1025,fD[e+116>>2]=0,uD[e+120>>0]=0,i=e+124|0,fD[i+0>>2]=0,fD[i+4>>2]=0,fD[i+8>>2]=0,fD[i+12>>2]=0,fD[i+16>>2]=0,fD[i+20>>2]=0,fD[i+24>>2]=0,fD[i+28>>2]=0,fD[e+300>>2]=0,uD[e+304>>0]=0,i=e+308|0,fD[i+0>>2]=0,fD[i+4>>2]=0,fD[i+8>>2]=0,fD[i+12>>2]=0,fD[i+16>>2]=0,fD[i+20>>2]=0,fD[i+24>>2]=0,fD[i+28>>2]=0,fD[e+484>>2]=0,uD[e+488>>0]=0,i=e+492|0,fD[i+0>>2]=0,fD[i+4>>2]=0,fD[i+8>>2]=0,fD[i+12>>2]=0,fD[i+16>>2]=0,fD[i+20>>2]=0,fD[i+24>>2]=0,fD[i+28>>2]=0,fD[e+668>>2]=0,uD[e+672>>0]=0,i=e+676|0,fD[i+0>>2]=0,fD[i+4>>2]=0,fD[i+8>>2]=0,fD[i+12>>2]=0,fD[i+16>>2]=0,fD[i+20>>2]=0,fD[i+24>>2]=0,fD[i+28>>2]=0,fD[e+740>>2]=0,fD[e+744>>2]=0,fD[e+748>>2]=0,fD[e+768>>2]=0,bD=t,e|0}function wo(t){return t|=0,fD[t+740>>2]|0}function Ro(t){return t|=0,fD[t+744>>2]|0}function Do(t){return t|=0,fD[t+748>>2]|0}function Po(t,e){return t|=0,e|=0,t+(e*184|0)+4|0}function Bo(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function Vo(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0;return e=bD,fD[5004]=(fD[5004]|0)+1,i=Ew(75)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),fD[i+8>>2]=0,n=i+12|0,gD[n>>2]=1,r=i+16|0,gD[r>>2]=1,o=i+20|0,gD[o>>2]=1,gD[i+24>>2]=0,a=i+44|0,gD[a>>2]=.03999999910593033,fD[i+52>>2]=0,fD[i>>2]=5448,fD[i+4>>2]=0,l=+gD[t>>2],c=+gD[t+4>>2],s=+gD[t+8>>2],h=l<c?l<s?0:2:c<s?1:2,s=+gD[t+(h<<2)>>2]*.10000000149011612,s<.03999999910593033?(f=+Op(i),u=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),c=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),p=i+28|0,f+=+gD[p>>2],d=i+32|0,u+=+gD[d>>2],h=i+36|0,c+=+gD[h>>2],gD[a>>2]=s,s=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),l=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),c-=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),gD[p>>2]=f-s,gD[d>>2]=u-l,gD[h>>2]=c,gD[i+40>>2]=0,a=fD[i>>2]|0):a=5448,c=+vP[fD[a+48>>2]&15](i),u=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),f=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),u=+gD[t+4>>2]*+gD[r>>2]-u,f=+gD[t+8>>2]*+gD[o>>2]-f,gD[i+28>>2]=+gD[t>>2]*+gD[n>>2]-c,gD[i+32>>2]=u,gD[i+36>>2]=f,gD[i+40>>2]=0,bD=e,i|0}function Lo(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function ko(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function Ho(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Io(t){t|=0;var e=0,i=0,r=0,o=0,n=0;e=bD,r=Ew(5260)|0;t:do if((r|0)==0){for(;;){if(i=fD[5158]|0,fD[5158]=i+0,(i|0)==0)break;if(JP[i&3](),r=Ew(5260)|0,(r|0)!=0)break t}o=QD(4)|0,fD[o>>2]=20472,KD(o|0,20520,265)}while(0);fD[r>>2]=6808,fD[r+4>>2]=2,uD[r+24>>0]=1,fD[r+20>>2]=0,fD[r+12>>2]=0,fD[r+16>>2]=0,fD[r+28>>2]=13504,i=r+5256|0,fD[i>>2]=t,fD[r+60>>2]=69,fD[r+64>>2]=lP[fD[(fD[t>>2]|0)+12>>2]&127](t)|0,fD[r+68>>2]=lP[fD[(fD[t>>2]|0)+8>>2]&127](t)|0,t=0;do{o=0;do n=fD[i>>2]|0,fD[r+(t*144|0)+(o<<2)+72>>2]=gP[fD[(fD[n>>2]|0)+16>>2]&31](n,t,o)|0,o=o+1|0;while((o|0)<36);t=t+1|0}while((t|0)<36);return bD=e,r|0}function Oo(t){t|=0;var e=0;return e=bD,t=lP[fD[(fD[t>>2]|0)+36>>2]&127](t)|0,bD=e,t|0}function Jo(t,e){t|=0,e|=0;var i=0;return i=bD,t=AP[fD[(fD[t>>2]|0)+40>>2]&31](t,e)|0,bD=i,t|0}function No(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Fo(){var t=0,e=0;t=bD,e=Ew(24)|0;t:do if((e|0)==0){for(;;){if(e=fD[5158]|0,fD[5158]=e+0,(e|0)==0)break;if(JP[e&3](),e=Ew(24)|0,(e|0)!=0)break t}e=QD(4)|0,fD[e>>2]=20472,KD(e|0,20520,265)}while(0);return gD[e>>2]=5.880000114440918,gD[e+4>>2]=.8299999833106995,gD[e+8>>2]=.8799999952316284,gD[e+12>>2]=500,gD[e+16>>2]=10.5,gD[e+20>>2]=6e3,bD=t,e|0}function Go(t){return t|=0,+ +gD[t>>2]}function zo(t,e){t|=0,e=+e,gD[t>>2]=e}function jo(t){return t|=0,+ +gD[t+4>>2]}function Uo(t,e){t|=0,e=+e,gD[t+4>>2]=e}function Wo(t){return t|=0,+ +gD[t+8>>2]}function Xo(t,e){t|=0,e=+e,gD[t+8>>2]=e}function qo(t){return t|=0,+ +gD[t+12>>2]}function Ko(t,e){t|=0,e=+e,gD[t+12>>2]=e}function Yo(t){return t|=0,+ +gD[t+16>>2]}function Qo(t,e){t|=0,e=+e,gD[t+16>>2]=e}function Zo(t){return t|=0,+ +gD[t+20>>2]}function $o(t,e){t|=0,e=+e,gD[t+20>>2]=e}function tn(){var t=0,e=0;return t=bD,fD[5004]=(fD[5004]|0)+1,e=Ew(111)|0,(e|0)==0?e=0:(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16),Lm(e,1),bD=t,e|0}function en(t){t|=0;var e=0,i=0;return e=bD,fD[5004]=(fD[5004]|0)+1,i=Ew(111)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),Lm(i,t),bD=e,i|0}function rn(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0;if(n=bD,bD=bD+128|0,fD[t+68>>2]=(fD[t+68>>2]|0)+1,fD[n+0>>2]=fD[e+0>>2],fD[n+4>>2]=fD[e+4>>2],fD[n+8>>2]=fD[e+8>>2],fD[n+12>>2]=fD[e+12>>2],fD[n+16>>2]=fD[e+16>>2],fD[n+20>>2]=fD[e+20>>2],fD[n+24>>2]=fD[e+24>>2],fD[n+28>>2]=fD[e+28>>2],fD[n+32>>2]=fD[e+32>>2],fD[n+36>>2]=fD[e+36>>2],fD[n+40>>2]=fD[e+40>>2],fD[n+44>>2]=fD[e+44>>2],fD[n+48>>2]=fD[e+48>>2],fD[n+52>>2]=fD[e+52>>2],fD[n+56>>2]=fD[e+56>>2],fD[n+60>>2]=fD[e+60>>2],r=fD[i+4>>2]|0,o=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),GP[fD[(fD[i>>2]|0)+8>>2]&127](i,e,n+112|0,n+96|0),d=+gD[n+112>>2],+gD[t+32>>2]>d&&(gD[t+32>>2]=d),d=+gD[n+96>>2],+gD[t+48>>2]<d&&(gD[t+48>>2]=d),d=+gD[n+116>>2],+gD[t+36>>2]>d&&(gD[t+36>>2]=d),d=+gD[n+100>>2],+gD[t+52>>2]<d&&(gD[t+52>>2]=d),d=+gD[n+120>>2],+gD[t+40>>2]>d&&(gD[t+40>>2]=d),d=+gD[n+104>>2],+gD[t+56>>2]<d&&(gD[t+56>>2]=d),e=fD[t+64>>2]|0,(e|0)==0)e=t+16|0,s=0;else{if(fD[n+64>>2]=fD[n+112>>2],fD[n+68>>2]=fD[n+116>>2],fD[n+72>>2]=fD[n+120>>2],fD[n+76>>2]=fD[n+124>>2],fD[n+80>>2]=fD[n+96>>2],fD[n+84>>2]=fD[n+100>>2],fD[n+88>>2]=fD[n+104>>2],fD[n+92>>2]=fD[n+108>>2],l=fD[t+16>>2]|0,s=fD[e+4>>2]|0,(s|0)==0)if(fD[5004]=(fD[5004]|0)+1,h=Ew(63)|0,(h|0)!=0?(fD[(h+19&-16)+-4>>2]=h,(h+19&-16|0)!=0):0){s=(h+19&-16)+0|0,c=s+44|0;do fD[s>>2]=0,s=s+4|0;while((s|0)<(c|0));s=h+19&-16}else s=0;else fD[e+4>>2]=0;fD[s+32>>2]=0,fD[s+36>>2]=l,fD[s+40>>2]=0,fD[s+0>>2]=fD[n+64>>2],fD[s+4>>2]=fD[n+68>>2],fD[s+8>>2]=fD[n+72>>2],fD[s+12>>2]=fD[n+76>>2],fD[s+16>>2]=fD[n+80>>2],fD[s+20>>2]=fD[n+84>>2],fD[s+24>>2]=fD[n+88>>2],fD[s+28>>2]=fD[n+92>>2],NE(e,fD[e>>2]|0,s),fD[e+12>>2]=(fD[e+12>>2]|0)+1,e=t+16|0}if(h=fD[e>>2]|0,(h|0)==(fD[t+20>>2]|0)?(a=(h|0)==0?1:h<<1,(h|0)<(a|0)):0){if((a|0)==0?l=0:(fD[5004]=(fD[5004]|0)+1,l=Ew((a*80|3)+16|0)|0,(l|0)==0?l=0:(fD[(l+19&-16)+-4>>2]=l,l=l+19&-16),h=fD[e>>2]|0),(h|0)>0){c=0;do u=l+(c*80|0)|0,p=fD[t+24>>2]|0,f=p+(c*80|0)|0,fD[u+0>>2]=fD[f+0>>2],fD[u+4>>2]=fD[f+4>>2],fD[u+8>>2]=fD[f+8>>2],fD[u+12>>2]=fD[f+12>>2],u=l+(c*80|0)+16|0,f=p+(c*80|0)+16|0,fD[u+0>>2]=fD[f+0>>2],fD[u+4>>2]=fD[f+4>>2],fD[u+8>>2]=fD[f+8>>2],fD[u+12>>2]=fD[f+12>>2],u=l+(c*80|0)+32|0,f=p+(c*80|0)+32|0,fD[u+0>>2]=fD[f+0>>2],fD[u+4>>2]=fD[f+4>>2],fD[u+8>>2]=fD[f+8>>2],fD[u+12>>2]=fD[f+12>>2],u=l+(c*80|0)+48|0,f=p+(c*80|0)+48|0,fD[u+0>>2]=fD[f+0>>2],fD[u+4>>2]=fD[f+4>>2],fD[u+8>>2]=fD[f+8>>2],fD[u+12>>2]=fD[f+12>>2],u=l+(c*80|0)+64|0,p=p+(c*80|0)+64|0,fD[u+0>>2]=fD[p+0>>2],fD[u+4>>2]=fD[p+4>>2],fD[u+8>>2]=fD[p+8>>2],fD[u+12>>2]=fD[p+12>>2],c=c+1|0;while((c|0)!=(h|0))}c=fD[t+24>>2]|0,(c|0)!=0&&((uD[t+28>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[c+-4>>2]|0)),fD[t+24>>2]=0),uD[t+28>>0]=1,fD[t+24>>2]=l,fD[t+20>>2]=a,h=fD[e>>2]|0}f=fD[t+24>>2]|0,p=f+(h*80|0)|0,fD[p+0>>2]=fD[n+0>>2],fD[p+4>>2]=fD[n+4>>2],fD[p+8>>2]=fD[n+8>>2],fD[p+12>>2]=fD[n+12>>2],p=f+(h*80|0)+16|0,fD[p+0>>2]=fD[n+16>>2],fD[p+4>>2]=fD[n+20>>2],fD[p+8>>2]=fD[n+24>>2],fD[p+12>>2]=fD[n+28>>2],p=f+(h*80|0)+32|0,fD[p+0>>2]=fD[n+32>>2],fD[p+4>>2]=fD[n+36>>2],fD[p+8>>2]=fD[n+40>>2],fD[p+12>>2]=fD[n+44>>2],p=f+(h*80|0)+48|0,fD[p+0>>2]=fD[n+48>>2],fD[p+4>>2]=fD[n+52>>2],fD[p+8>>2]=fD[n+56>>2],fD[p+12>>2]=fD[n+60>>2],f=f+(h*80|0)+64|0,fD[f>>2]=i,fD[f+4>>2]=r,gD[f+8>>2]=o,fD[f+12>>2]=s,fD[e>>2]=(fD[e>>2]|0)+1,bD=n}function on(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function nn(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function an(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function sn(t,e){t|=0,e|=0;var i=0,r=0,o=0;i=bD,r=Ew(80)|0;t:do if((r|0)==0){for(;;){if(r=fD[5158]|0,fD[5158]=r+0,(r|0)==0)break;if(JP[r&3](),r=Ew(80)|0,(r|0)!=0)break t}r=QD(4)|0,fD[r>>2]=20472,KD(r|0,20520,265)}while(0);return gD[r+4>>2]=1,pD[r+8>>1]=1,pD[r+10>>1]=-1,fD[r>>2]=688,o=r+12|0,fD[o+0>>2]=fD[t+0>>2],fD[o+4>>2]=fD[t+4>>2],fD[o+8>>2]=fD[t+8>>2],fD[o+12>>2]=fD[t+12>>2],t=r+28|0,fD[t+0>>2]=fD[e+0>>2],fD[t+4>>2]=fD[e+4>>2],fD[t+8>>2]=fD[e+8>>2],fD[t+12>>2]=fD[e+12>>2],fD[r+76>>2]=0,bD=i,r|0}function ln(t){return t|=0,+gD[t+4>>2]<1|0}function cn(t){return t|=0,t+12|0}function hn(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+12>>2]=fD[e+0>>2],fD[t+16>>2]=fD[e+4>>2],fD[t+20>>2]=fD[e+8>>2],fD[t+24>>2]=fD[e+12>>2],bD=i}function dn(t){return t|=0,t+28|0}function un(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+28>>2]=fD[e+0>>2],fD[t+32>>2]=fD[e+4>>2],fD[t+36>>2]=fD[e+8>>2],fD[t+40>>2]=fD[e+12>>2],bD=i}function pn(t){return t|=0,t+44|0}function fn(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+44>>2]=fD[e+0>>2],fD[t+48>>2]=fD[e+4>>2],fD[t+52>>2]=fD[e+8>>2],fD[t+56>>2]=fD[e+12>>2],bD=i}function _n(t){return t|=0,t+60|0}function mn(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+60>>2]=fD[e+0>>2],fD[t+64>>2]=fD[e+4>>2],fD[t+68>>2]=fD[e+8>>2],fD[t+72>>2]=fD[e+12>>2],bD=i}function gn(t){return t|=0,pD[t+8>>1]|0}function yn(t,e){t|=0,e|=0,pD[t+8>>1]=e}function bn(t){return t|=0,pD[t+10>>1]|0}function vn(t,e){t|=0,e|=0,pD[t+10>>1]=e}function Mn(t){return t|=0,+ +gD[t+4>>2]}function Sn(t,e){t|=0,e=+e,gD[t+4>>2]=e}function xn(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Tn(){var t=0,e=0;return t=bD,fD[5004]=(fD[5004]|0)+1,e=Ew(219)|0,(e|0)==0?e=0:(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16),Cn(),Cn(),En(e,464,464),bD=t,e|0}function En(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;r=bD,fD[t>>2]=600,o=t+4|0;do o=o+16|0;while((o|0)!=(t+52|0));fD[t+4>>2]=fD[e+0>>2],fD[t+8>>2]=fD[e+4>>2],fD[t+12>>2]=fD[e+8>>2],fD[t+16>>2]=fD[e+12>>2],fD[t+20>>2]=fD[e+16>>2],fD[t+24>>2]=fD[e+20>>2],fD[t+28>>2]=fD[e+24>>2],fD[t+32>>2]=fD[e+28>>2],fD[t+36>>2]=fD[e+32>>2],fD[t+40>>2]=fD[e+36>>2],fD[t+44>>2]=fD[e+40>>2],fD[t+48>>2]=fD[e+44>>2],fD[t+52>>2]=fD[e+48>>2],fD[t+56>>2]=fD[e+52>>2],fD[t+60>>2]=fD[e+56>>2],fD[t+64>>2]=fD[e+60>>2],o=t+68|0;do o=o+16|0;while((o|0)!=(t+116|0));fD[t+68>>2]=fD[i+0>>2],fD[t+72>>2]=fD[i+4>>2],fD[t+76>>2]=fD[i+8>>2],fD[t+80>>2]=fD[i+12>>2],fD[t+84>>2]=fD[i+16>>2],fD[t+88>>2]=fD[i+20>>2],fD[t+92>>2]=fD[i+24>>2],fD[t+96>>2]=fD[i+28>>2],fD[t+100>>2]=fD[i+32>>2],fD[t+104>>2]=fD[i+36>>2],fD[t+108>>2]=fD[i+40>>2],fD[t+112>>2]=fD[i+44>>2],fD[t+116>>2]=fD[i+48>>2],fD[t+120>>2]=fD[i+52>>2],fD[t+124>>2]=fD[i+56>>2],fD[t+128>>2]=fD[i+60>>2],i=t+132|0;do i=i+16|0;while((i|0)!=(t+180|0));fD[t+132>>2]=fD[e+0>>2],fD[t+136>>2]=fD[e+4>>2],fD[t+140>>2]=fD[e+8>>2],fD[t+144>>2]=fD[e+12>>2],fD[t+148>>2]=fD[e+16>>2],fD[t+152>>2]=fD[e+20>>2],fD[t+156>>2]=fD[e+24>>2],fD[t+160>>2]=fD[e+28>>2],fD[t+164>>2]=fD[e+32>>2],fD[t+168>>2]=fD[e+36>>2],fD[t+172>>2]=fD[e+40>>2],fD[t+176>>2]=fD[e+44>>2],fD[t+180>>2]=fD[e+48>>2],fD[t+184>>2]=fD[e+52>>2],fD[t+188>>2]=fD[e+56>>2],fD[t+192>>2]=fD[e+60>>2],fD[t+196>>2]=0,bD=r}function Cn(){var t=0,e=0;if(t=bD,bD=bD+48|0,(uD[528]|0)!=0)return void(bD=t);if((HD(528)|0)==0)return void(bD=t);((uD[584]|0)==0?(HD(584)|0)!=0:0)?(gD[t+32>>2]=1,gD[t+28>>2]=0,gD[t+24>>2]=0,gD[t+20>>2]=0,gD[t+16>>2]=1,gD[t+12>>2]=0,gD[t+8>>2]=0,gD[t+4>>2]=0,gD[t>>2]=1,Rd(536,t+32|0,t+28|0,t+24|0,t+20|0,t+16|0,t+12|0,t+8|0,t+4|0,t),JD(584),e=464):e=464;do e=e+16|0;while((e|0)!=512);fD[116]=fD[134],fD[117]=fD[135],fD[118]=fD[136],fD[119]=fD[137],fD[120]=fD[138],fD[121]=fD[139],fD[122]=fD[140],fD[123]=fD[141],fD[124]=fD[142],fD[125]=fD[143],fD[126]=fD[144],fD[127]=fD[145],fD[128]=0,fD[129]=0,fD[130]=0,fD[131]=0,JD(528),bD=t}function An(t){t|=0;var e=0,i=0;return e=bD,fD[5004]=(fD[5004]|0)+1,i=Ew(219)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),Cn(),En(i,t,464),bD=e,i|0}function wn(t,e){t|=0,e|=0;var i=0,r=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(219)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),En(r,t,e),bD=i,r|0}function Rn(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+8>>2]&127](t,e),bD=i}function Dn(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+12>>2]&127](t,e),bD=i}function Pn(t){return t|=0,t+4|0}function Bn(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+4>>2]=fD[e+0>>2],fD[t+8>>2]=fD[e+4>>2],fD[t+12>>2]=fD[e+8>>2],fD[t+16>>2]=fD[e+12>>2],fD[t+20>>2]=fD[e+16>>2],fD[t+24>>2]=fD[e+20>>2],fD[t+28>>2]=fD[e+24>>2],fD[t+32>>2]=fD[e+28>>2],fD[t+36>>2]=fD[e+32>>2],fD[t+40>>2]=fD[e+36>>2],fD[t+44>>2]=fD[e+40>>2],fD[t+48>>2]=fD[e+44>>2],fD[t+52>>2]=fD[e+48>>2],fD[t+56>>2]=fD[e+52>>2],fD[t+60>>2]=fD[e+56>>2],fD[t+64>>2]=fD[e+60>>2],bD=i}function Vn(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Ln(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function kn(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function Hn(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function In(t){t|=0;var e=0;return e=bD,t=lP[fD[(fD[t>>2]|0)+36>>2]&127](t)|0,bD=e,t|0}function On(t,e){t|=0,e|=0;var i=0;return i=bD,t=AP[fD[(fD[t>>2]|0)+40>>2]&31](t,e)|0,bD=i,t|0}function Jn(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Nn(t,e){t|=0,e|=0;var i=0,r=0,o=0;i=bD,r=Ew(84)|0;t:do if((r|0)==0){for(;;){if(r=fD[5158]|0,fD[5158]=r+0,(r|0)==0)break;if(JP[r&3](),r=Ew(84)|0,(r|0)!=0)break t}r=QD(4)|0,fD[r>>2]=20472,KD(r|0,20520,265)}while(0);return gD[r+4>>2]=1,fD[r+8>>2]=0,pD[r+12>>1]=1,pD[r+14>>1]=-1,fD[r+16>>2]=0,fD[r>>2]=336,o=r+20|0,fD[o+0>>2]=fD[t+0>>2],fD[o+4>>2]=fD[t+4>>2],fD[o+8>>2]=fD[t+8>>2],fD[o+12>>2]=fD[t+12>>2],t=r+36|0,fD[t+0>>2]=fD[e+0>>2],fD[t+4>>2]=fD[e+4>>2],fD[t+8>>2]=fD[e+8>>2],fD[t+12>>2]=fD[e+12>>2],bD=i,r|0}function Fn(t){return t|=0,(fD[t+8>>2]|0)!=0|0}function Gn(t){return t|=0,t+20|0}function zn(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+20>>2]=fD[e+0>>2],fD[t+24>>2]=fD[e+4>>2],fD[t+28>>2]=fD[e+8>>2],fD[t+32>>2]=fD[e+12>>2],bD=i}function jn(t){return t|=0,t+36|0}function Un(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+36>>2]=fD[e+0>>2],fD[t+40>>2]=fD[e+4>>2],fD[t+44>>2]=fD[e+8>>2],fD[t+48>>2]=fD[e+12>>2],bD=i}function Wn(t){return t|=0,t+52|0}function Xn(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+52>>2]=fD[e+0>>2],fD[t+56>>2]=fD[e+4>>2],fD[t+60>>2]=fD[e+8>>2],fD[t+64>>2]=fD[e+12>>2],bD=i}function qn(t){return t|=0,t+68|0}function Kn(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+68>>2]=fD[e+0>>2],fD[t+72>>2]=fD[e+4>>2],fD[t+76>>2]=fD[e+8>>2],fD[t+80>>2]=fD[e+12>>2],bD=i}function Yn(t){return t|=0,pD[t+12>>1]|0}function Qn(t,e){t|=0,e|=0,pD[t+12>>1]=e}function Zn(t){return t|=0,pD[t+14>>1]|0}function $n(t,e){t|=0,e|=0,pD[t+14>>1]=e}function ta(t){return t|=0,fD[t+8>>2]|0}function ea(t,e){t|=0,e|=0,fD[t+8>>2]=e}function ia(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function ra(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+64>>2]&127](t,e),bD=i}function oa(t){return t|=0,fD[t+24>>2]|0}function na(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,GP[fD[(fD[t>>2]|0)+32>>2]&127](t,e,i,r),bD=o}function aa(t){t|=0;var e=0;return e=bD,t=fD[t+68>>2]|0,t=lP[fD[(fD[t>>2]|0)+36>>2]&127](t)|0,bD=e,t|0}function sa(t){return t|=0,t+28|0}function la(t,e){t|=0,e|=0;var i=0;i=bD,GP[fD[(fD[t>>2]|0)+36>>2]&127](t,e,1,-1),bD=i}function ca(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,GP[fD[(fD[t>>2]|0)+36>>2]&127](t,e,i,-1),bD=r}function ha(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,GP[fD[(fD[t>>2]|0)+36>>2]&127](t,e,i,r),bD=o}function da(t){return t|=0,fD[t+68>>2]|0}function ua(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n;var a=0;a=bD,L_(t,e,i,r,o,n),bD=a}function pa(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,H_(t,e,i,r),bD=o}function fa(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function _a(t,e){t=+t,e=+e;var i=0,r=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(75)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),fD[r+8>>2]=0,gD[r+12>>2]=1,gD[r+16>>2]=1,gD[r+20>>2]=1,gD[r+24>>2]=0,gD[r+44>>2]=.03999999910593033,fD[r+4>>2]=10,fD[r>>2]=6400,fD[r+52>>2]=0,gD[r+28>>2]=e*.5,gD[r+32>>2]=t,gD[r+36>>2]=t,gD[r+40>>2]=0,bD=i,r|0}function ma(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function ga(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function ya(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function ba(t,e,i,r){t=+t,e=+e,i=+i,r=+r;var o=0,n=0;o=bD,n=Ew(16)|0;t:do if((n|0)==0){for(;;){if(n=fD[5158]|0,fD[5158]=n+0,(n|0)==0)break;if(JP[n&3](),n=Ew(16)|0,(n|0)!=0)break t}n=QD(4)|0,fD[n>>2]=20472,KD(n|0,20520,265)}while(0);return gD[n>>2]=t,gD[n+4>>2]=e,gD[n+8>>2]=i,gD[n+12>>2]=r,bD=o,n|0}function va(t,e,i,r,o){t|=0,e=+e,i=+i,r=+r,o=+o,gD[t>>2]=e,gD[t+4>>2]=i,gD[t+8>>2]=r,gD[t+12>>2]=o}function Ma(t){return t|=0,+ +gD[t>>2]}function Sa(t){return t|=0,+ +gD[t+4>>2]}function xa(t){return t|=0,+ +gD[t+8>>2]}function Ta(t){return t|=0,+ +gD[t+12>>2]}function Ea(t,e){t|=0,e=+e,gD[t>>2]=e}function Ca(t,e){t|=0,e=+e,gD[t+4>>2]=e}function Aa(t,e){t|=0,e=+e,gD[t+8>>2]=e}function wa(t,e){t|=0,e=+e,gD[t+12>>2]=e}function Ra(t){t|=0;var e=0;e=bD,(t|0)!=0&&Cw(t),bD=e}function Da(t,e){t=+t,e=+e;var i=0,r=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(75)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),fD[r+8>>2]=0,gD[r+12>>2]=1,gD[r+16>>2]=1,gD[r+20>>2]=1,gD[r+24>>2]=0,gD[r+44>>2]=.03999999910593033,fD[r+4>>2]=10,fD[r>>2]=6504,fD[r+52>>2]=2,gD[r+28>>2]=t,gD[r+32>>2]=t,gD[r+36>>2]=e*.5,gD[r+40>>2]=0,bD=i,r|0}function Pa(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function Ba(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r
}function Va(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function La(t){t|=0;var e=0,i=0;e=bD,i=Ew(8)|0;t:do if((i|0)==0){for(;;){if(i=fD[5158]|0,fD[5158]=i+0,(i|0)==0)break;if(JP[i&3](),i=Ew(8)|0,(i|0)!=0)break t}i=QD(4)|0,fD[i>>2]=20472,KD(i|0,20520,265)}while(0);return fD[i>>2]=3832,fD[i+4>>2]=t,bD=e,i|0}function ka(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Ha(t){return t|=0,(fD[t+8>>2]|0)!=0|0}function Ia(t){return t|=0,pD[t+12>>1]|0}function Oa(t,e){t|=0,e|=0,pD[t+12>>1]=e}function Ja(t){return t|=0,pD[t+14>>1]|0}function Na(t,e){t|=0,e|=0,pD[t+14>>1]=e}function Fa(t){return t|=0,fD[t+8>>2]|0}function Ga(t,e){t|=0,e|=0,fD[t+8>>2]=e}function za(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function ja(t){return t|=0,+ +gD[t+216>>2]}function Ua(t,e){t|=0,e=+e,gD[t+216>>2]=e}function Wa(t){return t|=0,+ +gD[t+228>>2]}function Xa(t,e){t|=0,e=+e,gD[t+228>>2]=e}function qa(t){return t|=0,+ +gD[t+244>>2]}function Ka(t,e){t|=0,e=+e,gD[t+244>>2]=e}function Ya(t){return t|=0,+ +gD[t+204>>2]}function Qa(t,e){t|=0,e=+e,gD[t+204>>2]=e}function Za(t){return t|=0,+ +gD[t+212>>2]}function $a(t,e){t|=0,e=+e,gD[t+212>>2]=e}function ts(t){return t|=0,+ +gD[t+220>>2]}function es(t,e){t|=0,e=+e,gD[t+220>>2]=e}function is(t){return t|=0,+ +gD[t+224>>2]}function rs(t,e){t|=0,e=+e,gD[t+224>>2]=e}function os(t){return t|=0,+ +gD[t+232>>2]}function ns(t,e){t|=0,e=+e,gD[t+232>>2]=e}function as(t){return t|=0,+ +gD[t+248>>2]}function ss(t,e){t|=0,e=+e,gD[t+248>>2]=e}function ls(t){return t|=0,+ +gD[t+208>>2]}function cs(t,e){t|=0,e=+e,gD[t+208>>2]=e}function hs(t){t|=0;var e=0;e=bD,(t|0)!=0&&Cw(t),bD=e}function ds(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function us(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function ps(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function fs(){var t=0,e=0;return t=bD,fD[5004]=(fD[5004]|0)+1,e=Ew(35)|0,(e|0)==0?(e=0,bD=t,e|0):(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16,bD=t,e|0)}function _s(t,e,i,r){t=+t,e=+e,i=+i,r=+r;var o=0,n=0;return o=bD,fD[5004]=(fD[5004]|0)+1,n=Ew(35)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),gD[n>>2]=t,gD[n+4>>2]=e,gD[n+8>>2]=i,gD[n+12>>2]=r,bD=o,n|0}function ms(t){return t|=0,+ +gD[t+12>>2]}function gs(t,e,i,r,o){t|=0,e=+e,i=+i,r=+r,o=+o,gD[t>>2]=e,gD[t+4>>2]=i,gD[t+8>>2]=r,gD[t+12>>2]=o}function ys(t){t|=0;var e=0,i=0,r=0;return r=+gD[t>>2],i=+gD[t+4>>2],e=+gD[t+8>>2],e=+CD(+(r*r+i*i+e*e)),+e}function bs(t){return t|=0,+ +gD[t>>2]}function vs(t){return t|=0,+ +gD[t+4>>2]}function Ms(t){return t|=0,+ +gD[t+8>>2]}function Ss(t,e){t|=0,e=+e,gD[t>>2]=e}function xs(t,e){t|=0,e=+e,gD[t+4>>2]=e}function Ts(t,e){t|=0,e=+e,gD[t+8>>2]=e}function Es(t,e){return t|=0,e=+e,gD[t>>2]=+gD[t>>2]*e,gD[t+4>>2]=+gD[t+4>>2]*e,gD[t+8>>2]=+gD[t+8>>2]*e,t|0}function Cs(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function As(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0,n=0,a=0;return r=bD,fD[5004]=(fD[5004]|0)+1,o=Ew(203)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),fD[o>>2]=2632,uD[o+144>>0]=1,fD[o+140>>2]=0,fD[o+132>>2]=0,fD[o+136>>2]=0,fD[o+176>>2]=1,gD[o+56>>2]=.019999999552965164,a=o+60|0,n=o+170|0,fD[a+0>>2]=0,fD[a+4>>2]=0,fD[a+8>>2]=0,fD[a+12>>2]=0,uD[n>>0]=1,fD[o+8>>2]=t,gD[o+52>>2]=i,gD[o+48>>2]=0,fD[o+12>>2]=e,uD[o+171>>0]=1,gD[o+172>>2]=0,gD[o+16>>2]=0,gD[o+20>>2]=0,gD[o+44>>2]=29.399999618530273,gD[o+24>>2]=55,gD[o+28>>2]=10,uD[o+168>>0]=0,uD[o+169>>0]=0,uD[o+180>>0]=1,gD[o+36>>2]=.7853981852531433,gD[o+40>>2]=.7071067690849304,gD[o+108>>2]=0,uD[o+181>>0]=0,uD[o+182>>0]=0,bD=r,o|0}function ws(t,e,i,r){t|=0,e|=0,i=+i,r|=0;var o=0,n=0,a=0;return o=bD,fD[5004]=(fD[5004]|0)+1,n=Ew(203)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),fD[n>>2]=2632,uD[n+144>>0]=1,fD[n+140>>2]=0,fD[n+132>>2]=0,fD[n+136>>2]=0,fD[n+176>>2]=r,gD[n+56>>2]=.019999999552965164,a=n+60|0,r=n+170|0,fD[a+0>>2]=0,fD[a+4>>2]=0,fD[a+8>>2]=0,fD[a+12>>2]=0,uD[r>>0]=1,fD[n+8>>2]=t,gD[n+52>>2]=i,gD[n+48>>2]=0,fD[n+12>>2]=e,uD[n+171>>0]=1,gD[n+172>>2]=0,gD[n+16>>2]=0,gD[n+20>>2]=0,gD[n+44>>2]=29.399999618530273,gD[n+24>>2]=55,gD[n+28>>2]=10,uD[n+168>>0]=0,uD[n+169>>0]=0,uD[n+180>>0]=1,gD[n+36>>2]=.7853981852531433,gD[n+40>>2]=.7071067690849304,gD[n+108>>2]=0,uD[n+181>>0]=0,uD[n+182>>0]=0,bD=o,n|0}function Rs(t,e){t|=0,e|=0,e=(e|0)<0?0:(e|0)>2?2:e,fD[t+176>>2]=e}function Ds(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+16>>2]&127](t,e),bD=i}function Ps(t,e,i){t|=0,e|=0,i=+i;var r=0;r=bD,NP[fD[(fD[t>>2]|0)+20>>2]&7](t,e,i),bD=r}function Bs(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+28>>2]&127](t,e),bD=i}function Vs(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+32>>2]&127](t,e),bD=i}function Ls(t,e,i){t|=0,e|=0,i=+i;var r=0;r=bD,NP[fD[(fD[t>>2]|0)+36>>2]&7](t,e,i),bD=r}function ks(t,e){t|=0,e=+e,gD[t+24>>2]=e}function Hs(t,e){t|=0,e=+e,gD[t+28>>2]=e}function Is(t,e){t|=0,e=+e,gD[t+32>>2]=e}function Os(t){t|=0;var e=0;return e=bD,t=lP[fD[(fD[t>>2]|0)+40>>2]&127](t)|0,bD=e,t|0}function Js(t){t|=0;var e=0;e=bD,oP[fD[(fD[t>>2]|0)+44>>2]&511](t),bD=e}function Ns(t,e){t|=0,e=+e,gD[t+44>>2]=e}function Fs(t){return t|=0,+ +gD[t+44>>2]}function Gs(t,e){t|=0,e=+e,gD[t+36>>2]=e,gD[t+40>>2]=+wD(+e)}function zs(t){return t|=0,+ +gD[t+36>>2]}function js(t){return t|=0,fD[t+8>>2]|0}function Us(t,e){t|=0,e|=0,uD[t+170>>0]=e&1}function Ws(t){t|=0;var e=0;return e=bD,t=lP[fD[(fD[t>>2]|0)+48>>2]&127](t)|0,bD=e,t|0}function Xs(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function qs(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(103)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),o=r+4|0,fD[o>>2]=35,fD[r+8>>2]=0,gD[r+12>>2]=0,fD[r>>2]=16992,c=+gD[t>>2],l=+gD[t+4>>2],s=+gD[t+8>>2],n=+gD[t+12>>2],a=1/+CD(+(c*c+l*l+s*s)),gD[r+48>>2]=c*a,gD[r+52>>2]=l*a,gD[r+56>>2]=s*a,gD[r+60>>2]=n,gD[r+64>>2]=e,t=r+68|0,fD[t+0>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,fD[o>>2]=28,bD=i,r|0}function Ks(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function Ys(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function Qs(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Zs(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function $s(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+60>>2]&127](t,e),bD=i}function tl(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function el(){var t=0,e=0;return t=bD,fD[5004]=(fD[5004]|0)+1,e=Ew(35)|0,(e|0)==0?(e=0,bD=t,e|0):(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16,bD=t,e|0)}function il(t,e,i){t=+t,e=+e,i=+i;var r=0,o=0;return r=bD,fD[5004]=(fD[5004]|0)+1,o=Ew(35)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),gD[o>>2]=t,gD[o+4>>2]=e,gD[o+8>>2]=i,gD[o+12>>2]=0,bD=r,o|0}function rl(t){t|=0;var e=0,i=0,r=0;return r=+gD[t>>2],i=+gD[t+4>>2],e=+gD[t+8>>2],e=+CD(+(r*r+i*i+e*e)),+e}function ol(t){return t|=0,+ +gD[t>>2]}function nl(t){return t|=0,+ +gD[t+4>>2]}function al(t){return t|=0,+ +gD[t+8>>2]}function sl(t,e){t|=0,e=+e,gD[t>>2]=e}function ll(t,e){t|=0,e=+e,gD[t+4>>2]=e}function cl(t,e){t|=0,e=+e,gD[t+8>>2]=e}function hl(t,e,i,r){t|=0,e=+e,i=+i,r=+r,gD[t>>2]=e,gD[t+4>>2]=i,gD[t+8>>2]=r,gD[t+12>>2]=0}function dl(t,e){return t|=0,e=+e,gD[t>>2]=+gD[t>>2]*e,gD[t+4>>2]=+gD[t+4>>2]*e,gD[t+8>>2]=+gD[t+8>>2]*e,t|0}function ul(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function pl(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function fl(t){t=+t;var e=0,i=0;return e=bD,fD[5004]=(fD[5004]|0)+1,i=Ew(71)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),fD[i+8>>2]=0,gD[i+12>>2]=1,gD[i+16>>2]=1,gD[i+20>>2]=1,gD[i+24>>2]=0,fD[i>>2]=16680,fD[i+4>>2]=8,gD[i+28>>2]=t,gD[i+44>>2]=t,bD=e,i|0}function _l(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function ml(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function gl(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function yl(){var t=0,e=0;t=bD,e=Ew(24)|0;t:do if((e|0)==0){for(;;){if(e=fD[5158]|0,fD[5158]=e+0,(e|0)==0)break;if(JP[e&3](),e=Ew(24)|0,(e|0)!=0)break t}e=QD(4)|0,fD[e>>2]=20472,KD(e|0,20520,265)}while(0);return fD[e>>2]=0,fD[e+4>>2]=0,fD[e+8>>2]=4096,fD[e+12>>2]=4096,fD[e+16>>2]=0,fD[e+20>>2]=1,bD=t,e|0}function bl(t){t|=0;var e=0;e=bD,(t|0)!=0&&Cw(t),bD=e}function vl(t,e){t|=0,e|=0;var i=0,r=0;return i=bD,fD[5004]=(fD[5004]|0)+1,r=Ew(783)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),Ty(r,t,e,0),bD=i,r|0}function Ml(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;return r=bD,fD[5004]=(fD[5004]|0)+1,o=Ew(783)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),Ty(o,t,e,i),bD=r,o|0}function Sl(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;return o=bD,fD[5004]=(fD[5004]|0)+1,n=Ew(783)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),fD[n+4>>2]=4,fD[n+8>>2]=-1,fD[n+12>>2]=-1,gD[n+16>>2]=3.4028234663852886e38,uD[n+20>>0]=1,uD[n+21>>0]=0,fD[n+24>>2]=-1,fD[n+28>>2]=t,fD[n+32>>2]=e,gD[n+36>>2]=0,gD[n+40>>2]=.30000001192092896,fD[n+44>>2]=0,fD[n>>2]=2504,e=n+552|0,fD[e+0>>2]=fD[i+0>>2],fD[e+4>>2]=fD[i+4>>2],fD[e+8>>2]=fD[i+8>>2],fD[e+12>>2]=fD[i+12>>2],e=n+568|0,fD[e+0>>2]=fD[i+16>>2],fD[e+4>>2]=fD[i+20>>2],fD[e+8>>2]=fD[i+24>>2],fD[e+12>>2]=fD[i+28>>2],e=n+584|0,fD[e+0>>2]=fD[i+32>>2],fD[e+4>>2]=fD[i+36>>2],fD[e+8>>2]=fD[i+40>>2],fD[e+12>>2]=fD[i+44>>2],e=n+600|0,fD[e+0>>2]=fD[i+48>>2],fD[e+4>>2]=fD[i+52>>2],fD[e+8>>2]=fD[i+56>>2],fD[e+12>>2]=fD[i+60>>2],i=n+616|0,fD[i+0>>2]=fD[r+0>>2],fD[i+4>>2]=fD[r+4>>2],fD[i+8>>2]=fD[r+8>>2],fD[i+12>>2]=fD[r+12>>2],i=n+632|0,fD[i+0>>2]=fD[r+16>>2],fD[i+4>>2]=fD[r+20>>2],fD[i+8>>2]=fD[r+24>>2],fD[i+12>>2]=fD[r+28>>2],i=n+648|0,fD[i+0>>2]=fD[r+32>>2],fD[i+4>>2]=fD[r+36>>2],fD[i+8>>2]=fD[r+40>>2],fD[i+12>>2]=fD[r+44>>2],i=n+664|0,fD[i+0>>2]=fD[r+48>>2],fD[i+4>>2]=fD[r+52>>2],fD[i+8>>2]=fD[r+56>>2],fD[i+12>>2]=fD[r+60>>2],gD[n+688>>2]=0,gD[n+692>>2]=-1,gD[n+696>>2]=.8999999761581421,gD[n+700>>2]=.30000001192092896,gD[n+704>>2]=1,gD[n+708>>2]=0,gD[n+712>>2]=0,uD[n+716>>0]=0,uD[n+736>>0]=0,uD[n+737>>0]=0,uD[n+738>>0]=0,uD[n+739>>0]=1,uD[n+740>>0]=0,fD[n+748>>2]=0,gD[n+732>>2]=1,bD=o,n|0}function xl(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0;return n=bD,fD[5004]=(fD[5004]|0)+1,a=Ew(783)|0,(a|0)==0?a=0:(fD[(a+19&-16)+-4>>2]=a,a=a+19&-16),fD[a+4>>2]=4,fD[a+8>>2]=-1,fD[a+12>>2]=-1,gD[a+16>>2]=3.4028234663852886e38,uD[a+20>>0]=1,uD[a+21>>0]=0,fD[a+24>>2]=-1,fD[a+28>>2]=t,fD[a+32>>2]=e,gD[a+36>>2]=0,gD[a+40>>2]=.30000001192092896,fD[a+44>>2]=0,fD[a>>2]=2504,e=a+552|0,fD[e+0>>2]=fD[i+0>>2],fD[e+4>>2]=fD[i+4>>2],fD[e+8>>2]=fD[i+8>>2],fD[e+12>>2]=fD[i+12>>2],e=a+568|0,fD[e+0>>2]=fD[i+16>>2],fD[e+4>>2]=fD[i+20>>2],fD[e+8>>2]=fD[i+24>>2],fD[e+12>>2]=fD[i+28>>2],e=a+584|0,fD[e+0>>2]=fD[i+32>>2],fD[e+4>>2]=fD[i+36>>2],fD[e+8>>2]=fD[i+40>>2],fD[e+12>>2]=fD[i+44>>2],e=a+600|0,fD[e+0>>2]=fD[i+48>>2],fD[e+4>>2]=fD[i+52>>2],fD[e+8>>2]=fD[i+56>>2],fD[e+12>>2]=fD[i+60>>2],i=a+616|0,fD[i+0>>2]=fD[r+0>>2],fD[i+4>>2]=fD[r+4>>2],fD[i+8>>2]=fD[r+8>>2],fD[i+12>>2]=fD[r+12>>2],i=a+632|0,fD[i+0>>2]=fD[r+16>>2],fD[i+4>>2]=fD[r+20>>2],fD[i+8>>2]=fD[r+24>>2],fD[i+12>>2]=fD[r+28>>2],i=a+648|0,fD[i+0>>2]=fD[r+32>>2],fD[i+4>>2]=fD[r+36>>2],fD[i+8>>2]=fD[r+40>>2],fD[i+12>>2]=fD[r+44>>2],i=a+664|0,fD[i+0>>2]=fD[r+48>>2],fD[i+4>>2]=fD[r+52>>2],fD[i+8>>2]=fD[r+56>>2],fD[i+12>>2]=fD[r+60>>2],gD[a+688>>2]=0,gD[a+692>>2]=-1,gD[a+696>>2]=.8999999761581421,gD[a+700>>2]=.30000001192092896,gD[a+704>>2]=1,gD[a+708>>2]=0,gD[a+712>>2]=0,uD[a+716>>0]=0,uD[a+736>>0]=0,uD[a+737>>0]=0,uD[a+738>>0]=0,uD[a+739>>0]=1,uD[a+740>>0]=o&1,fD[a+748>>2]=0,gD[a+732>>2]=o?-1:1,bD=n,a|0}function Tl(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0;return a=bD,fD[5004]=(fD[5004]|0)+1,s=Ew(783)|0,(s|0)==0?s=0:(fD[(s+19&-16)+-4>>2]=s,s=s+19&-16),xy(s,t,e,i,r,o,n,0),bD=a,s|0}function El(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0;var s=0,l=0;return s=bD,fD[5004]=(fD[5004]|0)+1,l=Ew(783)|0,(l|0)==0?l=0:(fD[(l+19&-16)+-4>>2]=l,l=l+19&-16),xy(l,t,e,i,r,o,n,a),bD=s,l|0}function Cl(t,e,i,r,o){t|=0,e=+e,i=+i,r=+r,o=+o;var n=0;n=bD,gD[t+692>>2]=(i-e)*.5,e=+OD(+((i-e)*.5+e),6.2831854820251465),e<-3.1415927410125732?e+=6.2831854820251465:e>3.1415927410125732&&(e+=-6.2831854820251465),gD[t+688>>2]=e,gD[t+696>>2]=r,gD[t+700>>2]=o,gD[t+704>>2]=1,bD=n}function Al(t,e,i,r,o,n){t|=0,e=+e,i=+i,r=+r,o=+o,n=+n;var a=0;a=bD,gD[t+692>>2]=(i-e)*.5,e=+OD(+((i-e)*.5+e),6.2831854820251465),e<-3.1415927410125732?e+=6.2831854820251465:e>3.1415927410125732&&(e+=-6.2831854820251465),gD[t+688>>2]=e,gD[t+696>>2]=r,gD[t+700>>2]=o,gD[t+704>>2]=n,bD=a}function wl(t,e){t|=0,e|=0,uD[t+21>>0]=e&1}function Rl(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Dl(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function Pl(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function Bl(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Vl(){var t=0,e=0;t=bD,e=Ew(12)|0;t:do if((e|0)==0){for(;;){if(e=fD[5158]|0,fD[5158]=e+0,(e|0)==0)break;if(JP[e&3](),e=Ew(12)|0,(e|0)!=0)break t}e=QD(4)|0,fD[e>>2]=20472,KD(e|0,20520,265)}while(0);return gD[e>>2]=.30000001192092896,gD[e+4>>2]=1,gD[e+8>>2]=0,bD=t,e|0}function Ll(t){return t|=0,+ +gD[t>>2]}function kl(t,e){t|=0,e=+e,gD[t>>2]=e}function Hl(t){return t|=0,+ +gD[t+4>>2]}function Il(t,e){t|=0,e=+e,gD[t+4>>2]=e}function Ol(t){return t|=0,+ +gD[t+8>>2]}function Jl(t,e){t|=0,e=+e,gD[t+8>>2]=e}function Nl(t){t|=0;var e=0;e=bD,(t|0)!=0&&Cw(t),bD=e}function Fl(){var t=0,e=0,i=0,r=0,o=0;return t=bD,fD[5004]=(fD[5004]|0)+1,e=Ew(303)|0,(e|0)==0?e=0:(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16),gD[e+164>>2]=1,gD[e+168>>2]=1,gD[e+172>>2]=1,gD[e+176>>2]=0,fD[e+180>>2]=0,gD[e+184>>2]=0xde0b6b000000000,o=e+188|0,i=e+204|0,fD[o+0>>2]=0,fD[o+4>>2]=0,fD[o+8>>2]=0,fD[o+12>>2]=0,fD[i>>2]=1,fD[e+208>>2]=-1,fD[e+212>>2]=-1,fD[e+216>>2]=1,gD[e+220>>2]=0,gD[e+224>>2]=.5,gD[e+228>>2]=0,gD[e+232>>2]=0,i=e+236|0,fD[e+240>>2]=0,gD[e+244>>2]=1,o=e+248|0,r=e+4|0,fD[o+0>>2]=0,fD[o+4>>2]=0,fD[o+8>>2]=0,fD[o+12>>2]=0,gD[r>>2]=1,r=e+8|0,o=e+24|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,gD[o>>2]=1,o=e+28|0,r=e+44|0,fD[o+0>>2]=0,fD[o+4>>2]=0,fD[o+8>>2]=0,fD[o+12>>2]=0,gD[r>>2]=1,r=e+48|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,fD[r+16>>2]=0,fD[e>>2]=13008,uD[e+280>>0]=1,fD[e+276>>2]=0,fD[e+268>>2]=0,fD[e+272>>2]=0,fD[i>>2]=4,bD=t,e|0}function Gl(t){return t|=0,fD[t+268>>2]|0}function zl(t,e){return t|=0,e|=0,fD[(fD[t+276>>2]|0)+(e<<2)>>2]|0}function jl(t){return t|=0,fD[t+192>>2]|0}function Ul(t,e){t|=0,e=+e,gD[t+184>>2]=e}function Wl(t,e){t|=0,e|=0;var i=0;return i=bD,((fD[t+216>>2]|0)+-4|0)>>>0<2?void(bD=i):(fD[t+216>>2]=e,void(bD=i))}function Xl(t,e){t|=0,e|=0,fD[t+216>>2]=e}function ql(t){t|=0;var e=0;return e=bD,(fD[t+204>>2]&3|0)!=0?void(bD=e):(((fD[t+216>>2]|0)+-4|0)>>>0<2||(fD[t+216>>2]=1),gD[t+220>>2]=0,void(bD=e))}function Kl(t,e){t|=0,e|=0;var i=0;return i=bD,(e?0:(fD[t+204>>2]&3|0)!=0)?void(bD=i):(((fD[t+216>>2]|0)+-4|0)>>>0<2||(fD[t+216>>2]=1),gD[t+220>>2]=0,void(bD=i))}function Yl(t){return t|=0,t=fD[t+216>>2]|0,((t|0)==2?0:(t|0)!=5)|0}function Ql(t){return t|=0,(fD[t+204>>2]&2|0)!=0|0}function Zl(t,e){t|=0,e=+e,fD[t+260>>2]=(fD[t+260>>2]|0)+1,gD[t+228>>2]=e}function $l(t,e){t|=0,e=+e,fD[t+260>>2]=(fD[t+260>>2]|0)+1,gD[t+224>>2]=e}function tc(t){return t|=0,t+4|0}function ec(t){return t|=0,fD[t+204>>2]|0}function ic(t,e){t|=0,e|=0,fD[t+204>>2]=e}function rc(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+260>>2]=(fD[t+260>>2]|0)+1,fD[t+4>>2]=fD[e+0>>2],fD[t+8>>2]=fD[e+4>>2],fD[t+12>>2]=fD[e+8>>2],fD[t+16>>2]=fD[e+12>>2],fD[t+20>>2]=fD[e+16>>2],fD[t+24>>2]=fD[e+20>>2],fD[t+28>>2]=fD[e+24>>2],fD[t+32>>2]=fD[e+28>>2],fD[t+36>>2]=fD[e+32>>2],fD[t+40>>2]=fD[e+36>>2],fD[t+44>>2]=fD[e+40>>2],fD[t+48>>2]=fD[e+44>>2],fD[t+52>>2]=fD[e+48>>2],fD[t+56>>2]=fD[e+52>>2],fD[t+60>>2]=fD[e+56>>2],fD[t+64>>2]=fD[e+60>>2],bD=i}function oc(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+12>>2]&127](t,e),bD=i}function nc(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+8>>2]&511](t),void(bD=e))}function ac(t){return t|=0,fD[t>>2]|0}function sc(t,e){t|=0,e|=0,fD[t>>2]=e}function lc(t){return t|=0,fD[t+4>>2]|0}function cc(t,e){t|=0,e|=0,fD[t+4>>2]=e}function hc(t){t|=0;var e=0;e=bD,(t|0)!=0&&Cw(t),bD=e}function dc(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function uc(t,e,i){t|=0,e|=0,i|=0;var r=0;t=bD,r=Ew(152)|0;t:do if((r|0)==0){for(;;){if(r=fD[5158]|0,fD[5158]=r+0,(r|0)==0)break;if(JP[r&3](),r=Ew(152)|0,(r|0)!=0)break t}r=QD(4)|0,fD[r>>2]=20472,KD(r|0,20520,265)}while(0);return fD[r>>2]=3752,uD[r+20>>0]=1,fD[r+16>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,uD[r+40>>0]=1,fD[r+36>>2]=0,fD[r+28>>2]=0,fD[r+32>>2]=0,uD[r+60>>0]=1,fD[r+56>>2]=0,fD[r+48>>2]=0,fD[r+52>>2]=0,uD[r+80>>0]=1,fD[r+76>>2]=0,fD[r+68>>2]=0,fD[r+72>>2]=0,fD[r+100>>2]=i,gD[r+104>>2]=0,uD[r+148>>0]=1,fD[r+144>>2]=0,fD[r+136>>2]=0,fD[r+140>>2]=0,fD[r+116>>2]=e,fD[r+120>>2]=0,fD[r+124>>2]=2,fD[r+128>>2]=1,gD[r+112>>2]=0,gD[r+108>>2]=0,bD=t,r|0}function pc(t,e,i){t|=0,e=+e,i|=0,gD[(fD[t+144>>2]|0)+(i*284|0)+252>>2]=e}function fc(t,e,i){t|=0,e=+e,i|=0,gD[(fD[t+144>>2]|0)+(i*284|0)+232>>2]=e}function _c(t,e){return t|=0,e|=0,(fD[t+144>>2]|0)+(e*284|0)+92|0}function mc(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,ub(fD[t+116>>2]|0,fD[t+144>>2]|0,e,i),bD=r}function gc(t,e,i,r,o,n,a,s){t|=0,e|=0,i|=0,r|=0,o=+o,n=+n,a|=0,s|=0;var l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0;if(l=bD,bD=bD+288|0,fD[l+144>>2]=fD[e+0>>2],fD[l+148>>2]=fD[e+4>>2],fD[l+152>>2]=fD[e+8>>2],fD[l+156>>2]=fD[e+12>>2],y=l+160|0,fD[y+0>>2]=fD[i+0>>2],fD[y+4>>2]=fD[i+4>>2],fD[y+8>>2]=fD[i+8>>2],fD[y+12>>2]=fD[i+12>>2],g=l+176|0,fD[g+0>>2]=fD[r+0>>2],fD[g+4>>2]=fD[r+4>>2],fD[g+8>>2]=fD[r+8>>2],fD[g+12>>2]=fD[r+12>>2],h=+gD[a>>2],d=+gD[a+4>>2],u=+gD[a+8>>2],p=+gD[a+16>>2],c=+gD[a+12>>2],_=+gD[a+20>>2],fD[l+0>>2]=fD[l+144>>2],fD[l+4>>2]=fD[l+148>>2],fD[l+8>>2]=fD[l+152>>2],fD[l+12>>2]=fD[l+156>>2],fD[l+16>>2]=fD[y+0>>2],fD[l+20>>2]=fD[y+4>>2],fD[l+24>>2]=fD[y+8>>2],fD[l+28>>2]=fD[y+12>>2],fD[l+32>>2]=fD[g+0>>2],fD[l+36>>2]=fD[g+4>>2],fD[l+40>>2]=fD[g+8>>2],fD[l+44>>2]=fD[g+12>>2],g=fD[t+136>>2]|0,(g|0)==(fD[t+140>>2]|0)?(f=(g|0)==0?1:g<<1,(g|0)<(f|0)):0){if((f|0)==0?e=0:(fD[5004]=(fD[5004]|0)+1,a=Ew((f*284|3)+16|0)|0,(a|0)==0?e=0:(fD[(a+19&-16)+-4>>2]=a,e=a+19&-16),g=fD[t+136>>2]|0),(g|0)>0){y=0;do{if(a=e+(y*284|0)|0,(a|0)!=0){m=fD[t+144>>2]|0,i=a+0|0,a=m+(y*284|0)+0|0,r=i+92|0;do fD[i>>2]=fD[a>>2],i=i+4|0,a=a+4|0;while((i|0)<(r|0));i=e+(y*284|0)+92|0,a=m+(y*284|0)+92|0,fD[i+0>>2]=fD[a+0>>2],fD[i+4>>2]=fD[a+4>>2],fD[i+8>>2]=fD[a+8>>2],fD[i+12>>2]=fD[a+12>>2],i=e+(y*284|0)+108|0,a=m+(y*284|0)+108|0,fD[i+0>>2]=fD[a+0>>2],fD[i+4>>2]=fD[a+4>>2],fD[i+8>>2]=fD[a+8>>2],fD[i+12>>2]=fD[a+12>>2],i=e+(y*284|0)+124|0,a=m+(y*284|0)+124|0,fD[i+0>>2]=fD[a+0>>2],fD[i+4>>2]=fD[a+4>>2],fD[i+8>>2]=fD[a+8>>2],fD[i+12>>2]=fD[a+12>>2],i=e+(y*284|0)+140|0,a=m+(y*284|0)+140|0,fD[i+0>>2]=fD[a+0>>2],fD[i+4>>2]=fD[a+4>>2],fD[i+8>>2]=fD[a+8>>2],fD[i+12>>2]=fD[a+12>>2],i=e+(y*284|0)+156|0,a=m+(y*284|0)+156|0,r=i+128|0;do fD[i>>2]=fD[a>>2],i=i+4|0,a=a+4|0;while((i|0)<(r|0))}y=y+1|0}while((y|0)!=(g|0))}a=fD[t+144>>2]|0,(a|0)!=0&&((uD[t+148>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[t+144>>2]=0),uD[t+148>>0]=1,fD[t+144>>2]=e,fD[t+140>>2]=f,g=fD[t+136>>2]|0}if(f=fD[t+144>>2]|0,a=f+(g*284|0)|0,(a|0)==0)return y=g,e=f,g=y+1|0,fD[t+136>>2]=g,y=e+(y*284|0)|0,e=t+116|0,g=fD[e>>2]|0,db(g,y,0),g=fD[t+136>>2]|0,g=g+-1|0,e=fD[e>>2]|0,m=fD[t+144>>2]|0,ub(e,m,g,0),bD=l,y|0;i=a+0|0,a=l+48|0,r=i+92|0;do fD[i>>2]=fD[a>>2],i=i+4|0,a=a+4|0;while((i|0)<(r|0));i=f+(g*284|0)+92|0,fD[i+0>>2]=fD[l+240>>2],fD[i+4>>2]=fD[l+244>>2],fD[i+8>>2]=fD[l+248>>2],fD[i+12>>2]=fD[l+252>>2],i=f+(g*284|0)+108|0,fD[i+0>>2]=fD[l+224>>2],fD[i+4>>2]=fD[l+228>>2],fD[i+8>>2]=fD[l+232>>2],fD[i+12>>2]=fD[l+236>>2],i=f+(g*284|0)+124|0,fD[i+0>>2]=fD[l+208>>2],fD[i+4>>2]=fD[l+212>>2],fD[i+8>>2]=fD[l+216>>2],fD[i+12>>2]=fD[l+220>>2],i=f+(g*284|0)+140|0,fD[i+0>>2]=fD[l+192>>2],fD[i+4>>2]=fD[l+196>>2],fD[i+8>>2]=fD[l+200>>2],fD[i+12>>2]=fD[l+204>>2],f=f+(g*284|0)+156|0,i=f+0|0,a=l+0|0,r=i+48|0;do fD[i>>2]=fD[a>>2],i=i+4|0,a=a+4|0;while((i|0)<(r|0));gD[f+48>>2]=o,gD[f+52>>2]=c,gD[f+56>>2]=n,gD[f+60>>2]=h,gD[f+64>>2]=d,gD[f+68>>2]=u,gD[f+72>>2]=p,gD[f+76>>2]=0,gD[f+80>>2]=0,gD[f+84>>2]=0,gD[f+88>>2]=.10000000149011612,gD[f+92>>2]=_,gD[f+96>>2]=0,gD[f+100>>2]=0,uD[f+104>>0]=s&1,i=f+105|0,a=l+256|0,r=i+23|0;do uD[i>>0]=uD[a>>0]|0,i=i+1|0,a=a+1|0;while((i|0)<(r|0));return y=fD[t+136>>2]|0,e=fD[t+144>>2]|0,g=y+1|0,fD[t+136>>2]=g,y=e+(y*284|0)|0,e=t+116|0,g=fD[e>>2]|0,db(g,y,0),g=fD[t+136>>2]|0,g=g+-1|0,e=fD[e>>2]|0,m=fD[t+144>>2]|0,ub(e,m,g,0),bD=l,y|0}function yc(t){return t|=0,fD[t+136>>2]|0}function bc(t){return t|=0,fD[t+116>>2]|0}function vc(t,e){return t|=0,e|=0,(fD[t+144>>2]|0)+(e*284|0)|0}function Mc(t,e,i){t|=0,e=+e,i|=0,gD[(fD[t+144>>2]|0)+(i*284|0)+256>>2]=e}function Sc(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,GP[fD[(fD[t>>2]|0)+24>>2]&127](t,e,i,r),bD=o}function xc(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Tc(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o=+o;var n=0,a=0;n=bD,a=Ew(44)|0;t:do if((a|0)==0){for(;;){if(a=fD[5158]|0,fD[5158]=a+0,(a|0)==0)break;if(JP[a&3](),a=Ew(44)|0,(a|0)!=0)break t}a=QD(4)|0,fD[a>>2]=20472,KD(a|0,20520,265)}while(0);return fD[a>>2]=t,fD[a+4>>2]=e,e=a+8|0,fD[e+0>>2]=fD[i+0>>2],fD[e+4>>2]=fD[i+4>>2],fD[e+8>>2]=fD[i+8>>2],fD[e+12>>2]=fD[i+12>>2],i=a+24|0,fD[i+0>>2]=fD[r+0>>2],fD[i+4>>2]=fD[r+4>>2],fD[i+8>>2]=fD[r+8>>2],fD[i+12>>2]=fD[r+12>>2],gD[a+40>>2]=o,bD=n,a|0}function Ec(t){return t|=0,fD[t>>2]|0}function Cc(t,e){t|=0,e|=0,fD[t>>2]=e}function Ac(t){return t|=0,fD[t+4>>2]|0}function wc(t,e){t|=0,e|=0,fD[t+4>>2]=e}function Rc(t){return t|=0,t+8|0}function Dc(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+8>>2]=fD[e+0>>2],fD[t+12>>2]=fD[e+4>>2],fD[t+16>>2]=fD[e+8>>2],fD[t+20>>2]=fD[e+12>>2],bD=i}function Pc(t){return t|=0,t+24|0}function Bc(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+24>>2]=fD[e+0>>2],fD[t+28>>2]=fD[e+4>>2],fD[t+32>>2]=fD[e+8>>2],fD[t+36>>2]=fD[e+12>>2],bD=i}function Vc(t){return t|=0,+ +gD[t+40>>2]}function Lc(t,e){t|=0,e=+e,gD[t+40>>2]=e}function kc(t){t|=0;var e=0;e=bD,(t|0)!=0&&Cw(t),bD=e}function Hc(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Ic(t){t|=0;var e=0,i=0,r=0,o=0;return e=bD,fD[5004]=(fD[5004]|0)+1,i=Ew(635)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),gD[i+164>>2]=1,gD[i+168>>2]=1,gD[i+172>>2]=1,gD[i+176>>2]=0,fD[i+180>>2]=0,gD[i+184>>2]=0xde0b6b000000000,r=i+188|0,o=i+204|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,fD[o>>2]=1,fD[i+208>>2]=-1,fD[i+212>>2]=-1,fD[i+216>>2]=1,gD[i+220>>2]=0,gD[i+224>>2]=.5,gD[i+228>>2]=0,gD[i+232>>2]=0,fD[i+236>>2]=1,fD[i+240>>2]=0,gD[i+244>>2]=1,o=i+248|0,r=i+4|0,fD[o+0>>2]=0,fD[o+4>>2]=0,fD[o+8>>2]=0,fD[o+12>>2]=0,gD[r>>2]=1,r=i+8|0,o=i+24|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,gD[o>>2]=1,o=i+28|0,r=i+44|0,fD[o+0>>2]=0,fD[o+4>>2]=0,fD[o+8>>2]=0,fD[o+12>>2]=0,gD[r>>2]=1,r=i+48|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,fD[r+16>>2]=0,fD[i>>2]=3912,uD[i+500>>0]=1,fD[i+496>>2]=0,fD[i+488>>2]=0,fD[i+492>>2]=0,xb(i,t),bD=e,i|0}function Oc(t){return t|=0,t+4|0}function Jc(t,e){t|=0,e|=0;var i=0;i=bD,Cb(t,e),bD=i}function Nc(t,e,i){t|=0,e=+e,i=+i,gD[t+472>>2]=e,gD[t+476>>2]=i}function Fc(t,e,i){t|=0,e=+e,i=+i,e=e<0?0:e>1?1:e,gD[t+444>>2]=e,i=i<0?0:i>1?1:i,gD[t+448>>2]=i}function Gc(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,Eb(t,e,i),bD=r}function zc(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;i=bD,fD[t+348>>2]=fD[e+0>>2],fD[t+352>>2]=fD[e+4>>2],fD[t+356>>2]=fD[e+8>>2],fD[t+360>>2]=fD[e+12>>2],n=+gD[t+344>>2],o=+gD[t+352>>2]*n,r=+gD[t+356>>2]*n,gD[t+560>>2]=+gD[t+348>>2]*n,gD[t+564>>2]=o,gD[t+568>>2]=r,gD[t+572>>2]=0,bD=i}function jc(t,e){t|=0,e|=0;var i=0,r=0;r=+gD[e+4>>2]*+gD[t+548>>2],i=+gD[e+8>>2]*+gD[t+552>>2],gD[t+428>>2]=+gD[t+428>>2]+ +gD[e>>2]*+gD[t+544>>2],gD[t+432>>2]=+gD[t+432>>2]+r,gD[t+436>>2]=+gD[t+436>>2]+i}function Uc(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;r=+gD[t+348>>2],n=+gD[t+352>>2],a=+gD[e+4>>2]*n,s=+gD[t+356>>2],l=+gD[e+8>>2]*s,gD[t+412>>2]=+gD[t+412>>2]+ +gD[e>>2]*r,gD[t+416>>2]=+gD[t+416>>2]+a,gD[t+420>>2]=+gD[t+420>>2]+l,r=+gD[e>>2]*r,n=+gD[e+4>>2]*n,s=+gD[e+8>>2]*s,l=+gD[i+4>>2],a=+gD[i+8>>2],c=+gD[i>>2],o=(a*r-c*s)*+gD[t+548>>2],r=(c*n-l*r)*+gD[t+552>>2],gD[t+428>>2]=+gD[t+428>>2]+(l*s-a*n)*+gD[t+544>>2],gD[t+432>>2]=+gD[t+432>>2]+o,gD[t+436>>2]=+gD[t+436>>2]+r}function Wc(t,e){t|=0,e|=0;var i=0,r=0;r=+gD[e+4>>2]*+gD[t+352>>2],i=+gD[e+8>>2]*+gD[t+356>>2],gD[t+412>>2]=+gD[t+412>>2]+ +gD[e>>2]*+gD[t+348>>2],gD[t+416>>2]=+gD[t+416>>2]+r,gD[t+420>>2]=+gD[t+420>>2]+i}function Xc(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;a=+gD[e>>2],n=+gD[e+4>>2],o=+gD[e+8>>2],r=(+gD[t+280>>2]*a+ +gD[t+284>>2]*n+ +gD[t+288>>2]*o)*+gD[t+548>>2],i=(+gD[t+296>>2]*a+ +gD[t+300>>2]*n+ +gD[t+304>>2]*o)*+gD[t+552>>2],gD[t+328>>2]=+gD[t+328>>2]+(+gD[t+264>>2]*a+ +gD[t+268>>2]*n+ +gD[t+272>>2]*o)*+gD[t+544>>2],gD[t+332>>2]=+gD[t+332>>2]+r,gD[t+336>>2]=+gD[t+336>>2]+i}function qc(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,Kc(t,e,i),bD=r}function Kc(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;return r=bD,+gD[t+344>>2]==0?void(bD=r):(Qc(t,e),a=+gD[e>>2]*+gD[t+348>>2],l=+gD[e+4>>2]*+gD[t+352>>2],h=+gD[e+8>>2]*+gD[t+356>>2],s=+gD[i+4>>2],d=+gD[i+8>>2],c=+gD[i>>2],n=(+gD[t+280>>2]*(s*h-d*l)+ +gD[t+284>>2]*(d*a-c*h)+ +gD[t+288>>2]*(c*l-s*a))*+gD[t+548>>2],o=(+gD[t+296>>2]*(s*h-d*l)+ +gD[t+300>>2]*(d*a-c*h)+ +gD[t+304>>2]*(c*l-s*a))*+gD[t+552>>2],gD[t+328>>2]=+gD[t+328>>2]+(+gD[t+264>>2]*(s*h-d*l)+ +gD[t+268>>2]*(d*a-c*h)+ +gD[t+272>>2]*(c*l-s*a))*+gD[t+544>>2],gD[t+332>>2]=+gD[t+332>>2]+n,gD[t+336>>2]=+gD[t+336>>2]+o,void(bD=r))}function Yc(t,e){t|=0,e|=0;var i=0;i=bD,Qc(t,e),bD=i}function Qc(t,e){t|=0,e|=0;var i=0,r=0,o=0;o=+gD[t+344>>2],r=+gD[e+4>>2]*+gD[t+352>>2]*o,i=+gD[e+8>>2]*+gD[t+356>>2]*o,gD[t+312>>2]=+gD[t+312>>2]+ +gD[e>>2]*+gD[t+348>>2]*o,gD[t+316>>2]=+gD[t+316>>2]+r,gD[t+320>>2]=+gD[t+320>>2]+i}function Zc(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0;u=+gD[t+4>>2],a=+gD[t+396>>2],d=+gD[t+8>>2],o=+gD[t+400>>2],h=+gD[t+12>>2],i=+gD[t+404>>2],c=+gD[t+20>>2],l=+gD[t+24>>2],s=+gD[t+28>>2],n=+gD[t+36>>2],r=+gD[t+40>>2],e=+gD[t+44>>2],gD[t+264>>2]=u*u*a+d*d*o+h*h*i,gD[t+268>>2]=u*a*c+d*o*l+h*i*s,gD[t+272>>2]=u*a*n+d*o*r+h*i*e,gD[t+276>>2]=0,gD[t+280>>2]=u*a*c+d*o*l+h*i*s,gD[t+284>>2]=c*a*c+l*o*l+s*i*s,gD[t+288>>2]=a*c*n+o*l*r+i*s*e,gD[t+292>>2]=0,gD[t+296>>2]=u*a*n+d*o*r+h*i*e,gD[t+300>>2]=c*a*n+l*o*r+s*i*e,gD[t+304>>2]=n*a*n+r*o*r+e*i*e,gD[t+308>>2]=0}function $c(t){return t|=0,t+312|0}function th(t){return t|=0,t+328|0}function eh(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+260>>2]=(fD[t+260>>2]|0)+1,fD[t+312>>2]=fD[e+0>>2],fD[t+316>>2]=fD[e+4>>2],fD[t+320>>2]=fD[e+8>>2],fD[t+324>>2]=fD[e+12>>2],bD=i}function ih(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+260>>2]=(fD[t+260>>2]|0)+1,fD[t+328>>2]=fD[e+0>>2],fD[t+332>>2]=fD[e+4>>2],fD[t+336>>2]=fD[e+8>>2],fD[t+340>>2]=fD[e+12>>2],bD=i}function rh(t){return t|=0,fD[t+480>>2]|0}function oh(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+260>>2]=(fD[t+260>>2]|0)+1,fD[t+544>>2]=fD[e+0>>2],fD[t+548>>2]=fD[e+4>>2],fD[t+552>>2]=fD[e+8>>2],fD[t+556>>2]=fD[e+12>>2],bD=i}function nh(t,e){return t|=0,e|=0,(fD[e+236>>2]&2|0)==0&&(e=0),e|0}function ah(t){return t|=0,fD[t+192>>2]|0}function sh(t,e){t|=0,e=+e,gD[t+184>>2]=e}function lh(t,e){t|=0,e|=0;var i=0;return i=bD,((fD[t+216>>2]|0)+-4|0)>>>0<2?void(bD=i):(fD[t+216>>2]=e,void(bD=i))}function ch(t,e){t|=0,e|=0,fD[t+216>>2]=e}function hh(t){t|=0;var e=0;return e=bD,(fD[t+204>>2]&3|0)!=0?void(bD=e):(((fD[t+216>>2]|0)+-4|0)>>>0<2||(fD[t+216>>2]=1),gD[t+220>>2]=0,void(bD=e))}function dh(t,e){t|=0,e|=0;var i=0;return i=bD,(e?0:(fD[t+204>>2]&3|0)!=0)?void(bD=i):(((fD[t+216>>2]|0)+-4|0)>>>0<2||(fD[t+216>>2]=1),gD[t+220>>2]=0,void(bD=i))}function uh(t){return t|=0,t=fD[t+216>>2]|0,((t|0)==2?0:(t|0)!=5)|0}function ph(t){return t|=0,(fD[t+204>>2]&2|0)!=0|0}function fh(t,e){t|=0,e=+e,fD[t+260>>2]=(fD[t+260>>2]|0)+1,gD[t+228>>2]=e}function _h(t,e){t|=0,e=+e,fD[t+260>>2]=(fD[t+260>>2]|0)+1,gD[t+224>>2]=e}function mh(t){return t|=0,t+4|0}function gh(t){return t|=0,fD[t+204>>2]|0}function yh(t,e){t|=0,e|=0,fD[t+204>>2]=e}function bh(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+260>>2]=(fD[t+260>>2]|0)+1,fD[t+4>>2]=fD[e+0>>2],fD[t+8>>2]=fD[e+4>>2],fD[t+12>>2]=fD[e+8>>2],fD[t+16>>2]=fD[e+12>>2],fD[t+20>>2]=fD[e+16>>2],fD[t+24>>2]=fD[e+20>>2],fD[t+28>>2]=fD[e+24>>2],fD[t+32>>2]=fD[e+28>>2],fD[t+36>>2]=fD[e+32>>2],fD[t+40>>2]=fD[e+36>>2],fD[t+44>>2]=fD[e+40>>2],fD[t+48>>2]=fD[e+44>>2],fD[t+52>>2]=fD[e+48>>2],fD[t+56>>2]=fD[e+52>>2],fD[t+60>>2]=fD[e+56>>2],fD[t+64>>2]=fD[e+60>>2],bD=i}function vh(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+12>>2]&127](t,e),bD=i}function Mh(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+8>>2]&511](t),void(bD=e))}function Sh(t){t|=0;var e=0,i=0;return e=bD,fD[5004]=(fD[5004]|0)+1,i=Ew(75)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),hE(i,t),fD[i>>2]=11032,fD[i+52>>2]=0,bD=e,i|0}function xh(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function Th(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function Eh(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Ch(t){t|=0;var e=0,i=0;return e=bD,fD[5004]=(fD[5004]|0)+1,i=Ew(75)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),hE(i,t),fD[i>>2]=11136,fD[i+52>>2]=2,bD=e,i|0}function Ah(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function wh(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function Rh(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Dh(){var t=0,e=0,i=0,r=0;t=bD,r=Ew(64)|0;t:do if((r|0)==0){for(;;){if(e=fD[5158]|0,fD[5158]=e+0,(e|0)==0)break;if(JP[e&3](),r=Ew(64)|0,(r|0)!=0)break t}r=QD(4)|0,fD[r>>2]=20472,KD(r|0,20520,265)}while(0);e=r+48|0,i=r;do i=i+16|0;while((i|0)!=(e|0));return bD=t,r|0}function Ph(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;i=bD,r=Ew(64)|0;t:do if((r|0)==0){for(;;){if(r=fD[5158]|0,fD[5158]=r+0,(r|0)==0)break;if(JP[r&3](),r=Ew(64)|0,(r|0)!=0)break t}n=QD(4)|0,fD[n>>2]=20472,KD(n|0,20520,265)}while(0);o=r+48|0,n=r;do n=n+16|0;while((n|0)!=(o|0));return Td(r,t),fD[o+0>>2]=fD[e+0>>2],fD[o+4>>2]=fD[e+4>>2],fD[o+8>>2]=fD[e+8>>2],fD[o+12>>2]=fD[e+12>>2],bD=i,r|0}function Bh(t){t|=0;var e=0;e=bD,Vh(t),bD=e}function Vh(t){t|=0;var e=0;e=bD,gD[t>>2]=1,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,fD[t+16>>2]=0,gD[t+20>>2]=1,fD[t+24>>2]=0,fD[t+28>>2]=0,fD[t+32>>2]=0,fD[t+36>>2]=0,gD[t+40>>2]=1,gD[t+44>>2]=0,fD[t+48>>2]=0,fD[t+52>>2]=0,fD[t+56>>2]=0,fD[t+60>>2]=0,bD=e}function Lh(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+48>>2]=fD[e+0>>2],fD[t+52>>2]=fD[e+4>>2],fD[t+56>>2]=fD[e+8>>2],fD[t+60>>2]=fD[e+12>>2],bD=i}function kh(t,e){t|=0,e|=0;var i=0;i=bD,Td(t,e),bD=i}function Hh(t){return t|=0,t+48|0}function Ih(t){t|=0;var e=0;return e=bD,bD=bD+16|0,((uD[48]|0)==0?(HD(48)|0)!=0:0)&&JD(48),u(t,e),fD[8]=fD[e+0>>2],fD[9]=fD[e+4>>2],fD[10]=fD[e+8>>2],fD[11]=fD[e+12>>2],bD=e,32}function Oh(t){return t|=0,t|0}function Jh(t){t|=0;var e=0;e=bD,(t|0)!=0&&Cw(t),bD=e}function Nh(t){return t|=0,fD[t+24>>2]|0}function Fh(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,GP[fD[(fD[t>>2]|0)+32>>2]&127](t,e,i,r),bD=o}function Gh(t){t|=0;var e=0;return e=bD,t=fD[t+68>>2]|0,t=lP[fD[(fD[t>>2]|0)+36>>2]&127](t)|0,bD=e,t|0}function zh(t){return t|=0,t+28|0
}function jh(t,e){t|=0,e|=0;var i=0;i=bD,GP[fD[(fD[t>>2]|0)+36>>2]&127](t,e,1,-1),bD=i}function Uh(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,GP[fD[(fD[t>>2]|0)+36>>2]&127](t,e,i,-1),bD=r}function Wh(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,GP[fD[(fD[t>>2]|0)+36>>2]&127](t,e,i,r),bD=o}function Xh(t){return t|=0,fD[t+68>>2]|0}function qh(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n;var a=0;a=bD,L_(t,e,i,r,o,n),bD=a}function Kh(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,H_(t,e,i,r),bD=o}function Yh(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function Qh(t){return t|=0,+ +gD[t>>2]}function Zh(t){return t|=0,+ +gD[t+4>>2]}function $h(t){return t|=0,+ +gD[t+8>>2]}function td(t){return t|=0,+ +gD[t+12>>2]}function ed(t,e){t|=0,e=+e,gD[t>>2]=e}function id(t,e){t|=0,e=+e,gD[t+4>>2]=e}function rd(t,e){t|=0,e=+e,gD[t+8>>2]=e}function od(t,e){t|=0,e=+e,gD[t+12>>2]=e}function nd(t){t|=0;var e=0;e=bD,(t|0)!=0&&Cw(t),bD=e}function ad(t){t|=0;var e=0,i=0;return e=bD,fD[5004]=(fD[5004]|0)+1,i=Ew(75)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),hE(i,t),bD=e,i|0}function sd(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+24>>2]&127](t,e),bD=i}function ld(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,pP[fD[(fD[t>>2]|0)+32>>2]&15](t,e,i),bD=r}function cd(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function hd(){var t=0,e=0,i=0;if(t=bD,e=Ew(4)|0,(e|0)!=0)return i=e,fD[i>>2]=192,bD=t,i|0;for(;;){if(e=fD[5158]|0,fD[5158]=e+0,(e|0)==0){e=4;break}if(JP[e&3](),i=Ew(4)|0,(i|0)!=0){e=5;break}}if((e|0)==4)i=QD(4)|0,fD[i>>2]=20472,KD(i|0,20520,265);else if((e|0)==5)return fD[i>>2]=192,bD=t,i|0;return 0}function dd(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function ud(t,e){t|=0,e|=0,uD[t+21>>0]=e&1}function pd(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(oP[fD[(fD[t>>2]|0)+4>>2]&511](t),void(bD=e))}function fd(t){t|=0}function _d(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function md(t){t|=0}function gd(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o=+o}function yd(t,e,i,r){t|=0,e|=0,i|=0,r=+r}function bd(t){t|=0}function vd(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function Md(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;return t=bD,o=fD[e>>2]|0,r=fD[i>>2]|0,(fD[o+236>>2]|0)!=4&&(o=0),(fD[r+236>>2]|0)!=4&&(r=0),(o|0)!=0&&OP[fD[(fD[o>>2]|0)+28>>2]&127](o,i,e),(r|0)==0?(bD=t,0):(OP[fD[(fD[r>>2]|0)+28>>2]&127](r,e,i),bD=t,0)}function Sd(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;return t=bD,n=fD[e>>2]|0,o=fD[i>>2]|0,(fD[n+236>>2]|0)!=4&&(n=0),(fD[o+236>>2]|0)!=4&&(o=0),(n|0)!=0&&GP[fD[(fD[n>>2]|0)+32>>2]&127](n,i,r,e),(o|0)==0?(bD=t,0):(GP[fD[(fD[o>>2]|0)+32>>2]&127](o,e,r,i),bD=t,0)}function xd(t,e,i){t|=0,e|=0,i|=0}function Td(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;n=+gD[e>>2],r=+gD[e+4>>2],l=+gD[e+8>>2],a=+gD[e+12>>2],o=n*(2/(n*n+r*r+l*l+a*a)),i=r*(2/(n*n+r*r+l*l+a*a)),s=l*(2/(n*n+r*r+l*l+a*a)),gD[t>>2]=1-(r*i+l*s),gD[t+4>>2]=n*i-a*s,gD[t+8>>2]=n*s+a*i,gD[t+12>>2]=0,gD[t+16>>2]=n*i+a*s,gD[t+20>>2]=1-(n*o+l*s),gD[t+24>>2]=r*s-a*o,gD[t+28>>2]=0,gD[t+32>>2]=n*s-a*i,gD[t+36>>2]=r*s+a*o,gD[t+40>>2]=1-(n*o+r*i),gD[t+44>>2]=0}function Ed(t){t|=0}function Cd(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function Ad(t,e){t|=0,e|=0;var i=0;return i=bD,(pD[e+4>>1]&pD[t+14>>1])<<16>>16==0?(e=0,bD=i,e|0):(e=(pD[t+12>>1]&pD[e+6>>1])<<16>>16!=0,bD=i,e|0)}function wd(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return gD[t+4>>2]=+gD[e+24>>2],r=fD[e>>2]|0,fD[t+8>>2]=r,i?(fD[t+52>>2]=fD[e+8>>2],fD[t+56>>2]=fD[e+12>>2],fD[t+60>>2]=fD[e+16>>2],fD[t+64>>2]=fD[e+20>>2]):(l=+gD[e+8>>2],s=+gD[e+12>>2],a=+gD[e+16>>2],n=+gD[r+20>>2]*l+ +gD[r+24>>2]*s+ +gD[r+28>>2]*a,o=+gD[r+36>>2]*l+ +gD[r+40>>2]*s+ +gD[r+44>>2]*a,gD[t+52>>2]=+gD[r+4>>2]*l+ +gD[r+8>>2]*s+ +gD[r+12>>2]*a,gD[t+56>>2]=n,gD[t+60>>2]=o,gD[t+64>>2]=0),l=+gD[e+24>>2],gD[t+68>>2]=(1-l)*+gD[t+20>>2]+ +gD[t+36>>2]*l,gD[t+72>>2]=(1-l)*+gD[t+24>>2]+l*+gD[t+40>>2],gD[t+76>>2]=(1-l)*+gD[t+28>>2]+l*+gD[t+44>>2],+ +gD[e+24>>2]}function Rd(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0;var h=0,d=0;d=bD,h=t;do h=h+16|0;while((h|0)!=(t+48|0));gD[t>>2]=+gD[e>>2],gD[t+4>>2]=+gD[i>>2],gD[t+8>>2]=+gD[r>>2],gD[t+12>>2]=0,gD[t+16>>2]=+gD[o>>2],gD[t+20>>2]=+gD[n>>2],gD[t+24>>2]=+gD[a>>2],gD[t+28>>2]=0,gD[t+32>>2]=+gD[s>>2],gD[t+36>>2]=+gD[l>>2],gD[t+40>>2]=+gD[c>>2],gD[t+44>>2]=0,bD=d}function Dd(t){t|=0}function Pd(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function Bd(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;i=bD,bD=bD+176|0,Rd(i+128|0,t+68|0,t+84|0,t+100|0,t+72|0,t+88|0,t+104|0,t+76|0,t+92|0,t+108|0),l=-+gD[t+116>>2],s=-+gD[t+120>>2],n=-+gD[t+124>>2],r=+gD[i+128>>2]*l+ +gD[i+132>>2]*s+ +gD[i+136>>2]*n,o=+gD[i+144>>2]*l+ +gD[i+148>>2]*s+ +gD[i+152>>2]*n,n=+gD[i+160>>2]*l+ +gD[i+164>>2]*s+ +gD[i+168>>2]*n,a=i;do a=a+16|0;while((a|0)!=(i+48|0));fD[i+0>>2]=fD[i+128>>2],fD[i+4>>2]=fD[i+132>>2],fD[i+8>>2]=fD[i+136>>2],fD[i+12>>2]=fD[i+140>>2],fD[i+16>>2]=fD[i+144>>2],fD[i+20>>2]=fD[i+148>>2],fD[i+24>>2]=fD[i+152>>2],fD[i+28>>2]=fD[i+156>>2],fD[i+32>>2]=fD[i+160>>2],fD[i+36>>2]=fD[i+164>>2],fD[i+40>>2]=fD[i+168>>2],fD[i+44>>2]=fD[i+172>>2],gD[i+48>>2]=r,gD[i+52>>2]=o,gD[i+56>>2]=n,gD[i+60>>2]=0,Ld(i+64|0,i,t+4|0),fD[e+0>>2]=fD[i+64>>2],fD[e+4>>2]=fD[i+68>>2],fD[e+8>>2]=fD[i+72>>2],fD[e+12>>2]=fD[i+76>>2],fD[e+16>>2]=fD[i+80>>2],fD[e+20>>2]=fD[i+84>>2],fD[e+24>>2]=fD[i+88>>2],fD[e+28>>2]=fD[i+92>>2],fD[e+32>>2]=fD[i+96>>2],fD[e+36>>2]=fD[i+100>>2],fD[e+40>>2]=fD[i+104>>2],fD[e+44>>2]=fD[i+108>>2],fD[e+48>>2]=fD[i+112>>2],fD[e+52>>2]=fD[i+116>>2],fD[e+56>>2]=fD[i+120>>2],fD[e+60>>2]=fD[i+124>>2],bD=i}function Vd(t,e){t|=0,e|=0;var i=0;i=bD,bD=bD+64|0,Ld(i,e,t+68|0),fD[t+4>>2]=fD[i+0>>2],fD[t+8>>2]=fD[i+4>>2],fD[t+12>>2]=fD[i+8>>2],fD[t+16>>2]=fD[i+12>>2],fD[t+20>>2]=fD[i+16>>2],fD[t+24>>2]=fD[i+20>>2],fD[t+28>>2]=fD[i+24>>2],fD[t+32>>2]=fD[i+28>>2],fD[t+36>>2]=fD[i+32>>2],fD[t+40>>2]=fD[i+36>>2],fD[t+44>>2]=fD[i+40>>2],fD[t+48>>2]=fD[i+44>>2],fD[t+52>>2]=fD[i+48>>2],fD[t+56>>2]=fD[i+52>>2],fD[t+60>>2]=fD[i+56>>2],fD[t+64>>2]=fD[i+60>>2],bD=i}function Ld(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0;r=bD,bD=bD+96|0,_=+gD[i>>2],n=+gD[e>>2],f=+gD[i+16>>2],a=+gD[e+4>>2],p=+gD[i+32>>2],l=+gD[e+8>>2],gD[r+80>>2]=_*n+f*a+p*l,u=+gD[i+4>>2],d=+gD[i+20>>2],h=+gD[i+36>>2],gD[r+76>>2]=u*n+d*a+h*l,c=+gD[i+8>>2],o=+gD[i+24>>2],s=+gD[i+40>>2],gD[r+72>>2]=c*n+o*a+s*l,l=+gD[e+16>>2],a=+gD[e+20>>2],n=+gD[e+24>>2],gD[r+68>>2]=_*l+f*a+p*n,gD[r+64>>2]=u*l+d*a+h*n,gD[r+60>>2]=c*l+o*a+s*n,n=+gD[e+32>>2],a=+gD[e+36>>2],l=+gD[e+40>>2],gD[r+56>>2]=_*n+f*a+p*l,gD[r+52>>2]=u*n+d*a+h*l,gD[r+48>>2]=c*n+o*a+s*l,Rd(r,r+80|0,r+76|0,r+72|0,r+68|0,r+64|0,r+60|0,r+56|0,r+52|0,r+48|0),l=+gD[i+48>>2],s=+gD[i+52>>2],a=+gD[i+56>>2],o=l*+gD[e>>2]+s*+gD[e+4>>2]+a*+gD[e+8>>2]+ +gD[e+48>>2],n=l*+gD[e+16>>2]+s*+gD[e+20>>2]+a*+gD[e+24>>2]+ +gD[e+52>>2],a=l*+gD[e+32>>2]+s*+gD[e+36>>2]+a*+gD[e+40>>2]+ +gD[e+56>>2],e=t;do e=e+16|0;while((e|0)!=(t+48|0));fD[t+0>>2]=fD[r+0>>2],fD[t+4>>2]=fD[r+4>>2],fD[t+8>>2]=fD[r+8>>2],fD[t+12>>2]=fD[r+12>>2],fD[t+16>>2]=fD[r+16>>2],fD[t+20>>2]=fD[r+20>>2],fD[t+24>>2]=fD[r+24>>2],fD[t+28>>2]=fD[r+28>>2],fD[t+32>>2]=fD[r+32>>2],fD[t+36>>2]=fD[r+36>>2],fD[t+40>>2]=fD[r+40>>2],fD[t+44>>2]=fD[r+44>>2],gD[t+48>>2]=o,gD[t+52>>2]=n,gD[t+56>>2]=a,gD[t+60>>2]=0,bD=r}function kd(t){t|=0}function Hd(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function Id(t,e){t|=0,e|=0;var i=0;return i=bD,(pD[e+4>>1]&pD[t+10>>1])<<16>>16==0?(e=0,bD=i,e|0):(e=(pD[t+8>>1]&pD[e+6>>1])<<16>>16!=0,bD=i,e|0)}function Od(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;return r=bD,gD[t+4>>2]=+gD[e+40>>2],o=fD[e>>2]|0,fD[t+76>>2]=o,i?(fD[t+44>>2]=fD[e+8>>2],fD[t+48>>2]=fD[e+12>>2],fD[t+52>>2]=fD[e+16>>2],fD[t+56>>2]=fD[e+20>>2],i=t+60|0,t=e+24|0,fD[i+0>>2]=fD[t+0>>2],fD[i+4>>2]=fD[t+4>>2],fD[i+8>>2]=fD[t+8>>2],fD[i+12>>2]=fD[t+12>>2],n=+gD[e+40>>2],bD=r,+n):(c=+gD[e+8>>2],l=+gD[e+12>>2],s=+gD[e+16>>2],a=+gD[o+20>>2]*c+ +gD[o+24>>2]*l+ +gD[o+28>>2]*s,n=+gD[o+36>>2]*c+ +gD[o+40>>2]*l+ +gD[o+44>>2]*s,gD[t+44>>2]=+gD[o+4>>2]*c+ +gD[o+8>>2]*l+ +gD[o+12>>2]*s,gD[t+48>>2]=a,gD[t+52>>2]=n,gD[t+56>>2]=0,i=t+60|0,t=e+24|0,fD[i+0>>2]=fD[t+0>>2],fD[i+4>>2]=fD[t+4>>2],fD[i+8>>2]=fD[t+8>>2],fD[i+12>>2]=fD[t+12>>2],n=+gD[e+40>>2],bD=r,+n)}function Jd(t){t|=0}function Nd(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function Fd(t,e){t|=0,e|=0;var i=0;return i=bD,(pD[e+4>>1]&pD[t+6>>1])<<16>>16==0?(e=0,bD=i,e|0):(e=(pD[t+4>>1]&pD[e+6>>1])<<16>>16!=0,bD=i,e|0)}function Gd(t,e,i,r,o,n,a,s){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0;var l=0,c=0;return c=bD,l=+kD(960,t|0,e|0,i|0,r|0,o|0,n|0,a|0,s|0),bD=c,+l}function zd(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;return i=bD,(uD[t+527>>0]|0)!=0?(fD[e>>2]=0,fD[e+4>>2]=0,void(bD=i)):(fD[e>>2]=3,fD[e+4>>2]=3,s=fD[t+28>>2]|0,a=fD[t+32>>2]|0,jd(t,s+4|0,a+4|0,s+264|0,a+264|0),(((uD[t+526>>0]|0)!=0?(r=fD[e>>2]|0,fD[e>>2]=r+1,o=fD[e+4>>2]|0,fD[e+4>>2]=o+-1,n=+gD[t+456>>2],+gD[t+444>>2]<n):0)?+gD[t+448>>2]<n:0)&&(fD[e>>2]=r+2,fD[e+4>>2]=o+-2),(uD[t+525>>0]|0)==0?void(bD=i):(fD[e>>2]=(fD[e>>2]|0)+1,fD[e+4>>2]=(fD[e+4>>2]|0)+-1,void(bD=i)))}function jd(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0,ie=0;if(n=bD,bD=bD+272|0,gD[t+504>>2]=0,gD[t+500>>2]=0,uD[t+525>>0]=0,uD[t+526>>0]=0,(uD[t+552>>0]|0)!=0?(uD[t+527>>0]|0)==0:0)return Z=+gD[t+556>>2],U=+gD[t+560>>2],$=+gD[t+564>>2],W=+gD[t+568>>2],q=Z*(2/(Z*Z+U*U+$*$+W*W)),ee=U*(2/(Z*Z+U*U+$*$+W*W)),K=$*(2/(Z*Z+U*U+$*$+W*W)),Ld(n+208|0,e,t+300|0),Ld(n+144|0,i,t+364|0),R=+gD[n+144>>2],P=+gD[n+148>>2],l=+gD[n+152>>2],J=(1-(U*ee+$*K))*R+(Z*ee+W*K)*P+(Z*K-W*ee)*l,N=(Z*ee-W*K)*R+(1-(Z*q+$*K))*P+(U*K+W*q)*l,F=(Z*K+W*ee)*R+(U*K-W*q)*P+(1-(Z*q+U*ee))*l,B=+gD[n+160>>2],V=+gD[n+164>>2],s=+gD[n+168>>2],G=(1-(U*ee+$*K))*B+(Z*ee+W*K)*V+(Z*K-W*ee)*s,z=(Z*ee-W*K)*B+(1-(Z*q+$*K))*V+(U*K+W*q)*s,j=(Z*K+W*ee)*B+(U*K-W*q)*V+(1-(Z*q+U*ee))*s,L=+gD[n+176>>2],k=+gD[n+180>>2],H=+gD[n+184>>2],Q=(1-(U*ee+$*K))*L+(Z*ee+W*K)*k+(Z*K-W*ee)*H,$=(Z*ee-W*K)*L+(1-(Z*q+$*K))*k+(U*K+W*q)*H,ee=(Z*K+W*ee)*L+(U*K-W*q)*k+(1-(Z*q+U*ee))*H,U=+gD[n+208>>2],q=+gD[n+224>>2],Z=+gD[n+240>>2],W=+gD[n+212>>2],K=+gD[n+228>>2],te=+gD[n+244>>2],X=+gD[n+216>>2],Y=+gD[n+232>>2],ie=+gD[n+248>>2],I=-+gD[n+256>>2],O=-+gD[n+260>>2],a=-+gD[n+264>>2],l=R*0+P*0+l*0+ +gD[n+192>>2]+(F*(X*I+Y*O+ie*a)+(J*(U*I+q*O+Z*a)+N*(W*I+K*O+te*a))),s=B*0+V*0+s*0+ +gD[n+196>>2]+(j*(X*I+Y*O+ie*a)+(G*(U*I+q*O+Z*a)+z*(W*I+K*O+te*a))),a=L*0+k*0+H*0+ +gD[n+200>>2]+(ee*(X*I+Y*O+ie*a)+(Q*(U*I+q*O+Z*a)+$*(W*I+K*O+te*a))),gD[n+80>>2]=J*U+N*W+F*X,gD[n+84>>2]=J*q+N*K+F*Y,gD[n+88>>2]=J*Z+N*te+F*ie,gD[n+92>>2]=0,gD[n+96>>2]=G*U+z*W+j*X,gD[n+100>>2]=G*q+z*K+j*Y,gD[n+104>>2]=G*Z+z*te+j*ie,gD[n+108>>2]=0,gD[n+112>>2]=Q*U+$*W+ee*X,gD[n+116>>2]=Q*q+$*K+ee*Y,gD[n+120>>2]=Q*Z+$*te+ee*ie,gD[n+124>>2]=0,gD[n+128>>2]=l,gD[n+132>>2]=s,gD[n+136>>2]=a,gD[n+140>>2]=0,u(n+80|0,n+64|0),a=+gD[n+64>>2],s=+gD[n+68>>2],l=+gD[n+72>>2],+ED(+(a*a+s*s+l*l))<1.1920928955078125e-7?void(bD=n):(gD[t+472>>2]=0,ie=1/+CD(+(a*a+s*s+l*l)),gD[t+460>>2]=a*ie,gD[t+464>>2]=s*ie,gD[t+468>>2]=l*ie,ie=+gD[n+76>>2],ie=ie<-1?-1:ie,ie=+DD(+(ie>1?1:ie))*2,gD[t+504>>2]=ie,+ED(+ie)<1.1920928955078125e-7?void(bD=n):(uD[t+526>>0]=1,void(bD=n)));u(e,n+48|0),u(t+300|0,n+32|0),x=+gD[n+60>>2],b=+gD[n+32>>2],E=+gD[n+48>>2],M=+gD[n+44>>2],S=+gD[n+52>>2],g=+gD[n+40>>2],v=+gD[n+56>>2],T=+gD[n+36>>2],u(i,n+16|0),u(t+364|0,n),d=+gD[n+28>>2],s=+gD[n>>2],f=+gD[n+16>>2],c=+gD[n+12>>2],h=+gD[n+20>>2],_=+gD[n+8>>2],l=+gD[n+24>>2],p=+gD[n+4>>2],a=-(d*s+f*c+h*_-l*p),y=-(s*l+(c*h+d*p)-f*_),m=-(d*_+c*l+f*p-s*h),L=(x*b+E*M+S*g-v*T)*(d*c-s*f-h*p-_*l)+(x*M-b*E-S*T-g*v)*a+(x*g+M*v+E*T-b*S)*y-(b*v+(M*S+x*T)-E*g)*m,H=(x*b+E*M+S*g-v*T)*m+((b*v+(M*S+x*T)-E*g)*(d*c-s*f-h*p-_*l)+(x*M-b*E-S*T-g*v)*y)-(x*g+M*v+E*T-b*S)*a,R=(b*v+(M*S+x*T)-E*g)*a+((x*g+M*v+E*T-b*S)*(d*c-s*f-h*p-_*l)+(x*M-b*E-S*T-g*v)*m)-(x*b+E*M+S*g-v*T)*y,I=(x*M-b*E-S*T-g*v)*(d*c-s*f-h*p-_*l)-(x*b+E*M+S*g-v*T)*a-(b*v+(M*S+x*T)-E*g)*y-(x*g+M*v+E*T-b*S)*m,C=-L-H*0-R*0,w=(R+I*0-L*0)*-R+(I*(I+H*0-R*0)+C*-L)-(I*0+L*0-H)*-H,V=(I*0+L*0-H)*-L+(I*(R+I*0-L*0)+C*-H)-(I+H*0-R*0)*-R,C=(I+H*0-R*0)*-H+(I*(I*0+L*0-H)+C*-R)-(R+I*0-L*0)*-L,B=1/+CD(+(C*C+(w*w+V*V))),B*C*0+(B*V*0+B*w)<-.9999998807907104?+ED(0)>.7071067690849304?(A=0,C=xD,k=xD,w=0):(A=-0,C=1,k=0,w=0):(ie=+CD(+((B*C*0+(B*V*0+B*w)+1)*2)),A=(B*C*0-B*V*0)*(1/ie),C=(B*w*0-B*C)*(1/ie),k=(B*V-B*w*0)*(1/ie),w=ie*.5),O=1/+CD(+(w*w+(k*k+(C*C+A*A)))),B=A*O,V=C*O,k*=O,O=w*O,ie=1/+CD(+((I*O-L*-B-H*-V-R*-k)*(I*O-L*-B-H*-V-R*-k)+((H*-B+(R*O+I*-k)-L*-V)*(H*-B+(R*O+I*-k)-L*-V)+((R*-V+(L*O+I*-B)-H*-k)*(R*-V+(L*O+I*-B)-H*-k)+(L*-k+(H*O+I*-V)-R*-B)*(L*-k+(H*O+I*-V)-R*-B))))),w=ie*(R*-V+(L*O+I*-B)-H*-k),A=ie*(L*-k+(H*O+I*-V)-R*-B),C=ie*(H*-B+(R*O+I*-k)-L*-V),R=ie*(I*O-L*-B-H*-V-R*-k),L=+gD[t+444>>2],H=+gD[t+456>>2],(L>=H?(P=+gD[t+448>>2],P>=H):0)?(H=O<-1?-1:O,H=+DD(+(H>1?1:H))*2,H>1.1920928955078125e-7?(O=1/+CD(+(k*k+(B*B+V*V))),+ED(+(V*O))>1.1920928955078125e-7?(I=+CD(+((k*O*k*O/(V*O*V*O)+1)/(1/(P*P)+k*O*k*O/(V*O*V*O)/(L*L)))),V*=O,k*=O,B*=O):(I=L,V*=O,k*=O,B*=O)):(I=0,V=0,k=0,B=0),J=+gD[t+428>>2],O=I*J,H>O&&(uD[t+526>>0]=1,I=H<I&J<.9999998807907104?(H-O)/(I-O):1,gD[t+528>>2]=I,gD[t+504>>2]=H-O,+ED(+V)>1.1920928955078125e-7&&(P=+ED(+(V*-k/V*(P/L))),k<-0||(P=-P),k=1/+CD(+(V*V+B*B+P*P)),B*=k,V*=k,k=-(P*k)),ee=-B,te=-V,$=-k,Q=(s*l+(c*h+d*p)-f*_)*$+(d*c-s*f-h*p-_*l)*ee-(d*_+c*l+f*p-s*h)*te,ie=(d*c-s*f-h*p-_*l)*te+(d*_+c*l+f*p-s*h)*ee-(d*s+f*c+h*_-l*p)*$,Z=(d*c-s*f-h*p-_*l)*$+(d*s+f*c+h*_-l*p)*te-(s*l+(c*h+d*p)-f*_)*ee,$=-((d*s+f*c+h*_-l*p)*ee)-(s*l+(c*h+d*p)-f*_)*te-(d*_+c*l+f*p-s*h)*$,te=ie*m+((d*c-s*f-h*p-_*l)*Q+$*a)-Z*y,ee=Z*a+((d*c-s*f-h*p-_*l)*ie+$*y)-Q*m,ie=Q*y+((d*c-s*f-h*p-_*l)*Z+$*m)-ie*a,gD[t+460>>2]=te,gD[t+464>>2]=ee,gD[t+468>>2]=ie,gD[t+472>>2]=0,fD[t+536>>2]=0,fD[t+540>>2]=0,fD[t+544>>2]=0,fD[t+548>>2]=0,gD[t+492>>2]=1/(te*(+gD[r>>2]*te+ +gD[r+16>>2]*ee+ +gD[r+32>>2]*ie)+ee*(te*+gD[r+4>>2]+ee*+gD[r+20>>2]+ie*+gD[r+36>>2])+ie*(te*+gD[r+8>>2]+ee*+gD[r+24>>2]+ie*+gD[r+40>>2])+(te*(te*+gD[o>>2]+ee*+gD[o+16>>2]+ie*+gD[o+32>>2])+ee*(te*+gD[o+4>>2]+ee*+gD[o+20>>2]+ie*+gD[o+36>>2])+ie*(te*+gD[o+8>>2]+ee*+gD[o+24>>2]+ie*+gD[o+40>>2]))))):D=23;t:do if((D|0)==23){k=+gD[t+300>>2],I=+gD[t+316>>2],B=+gD[t+332>>2],F=+gD[e>>2],N=+gD[e+4>>2],J=+gD[e+8>>2],L=+gD[e+16>>2],V=+gD[e+20>>2],P=+gD[e+24>>2],H=+gD[e+32>>2],O=+gD[e+36>>2],G=+gD[e+40>>2],X=+gD[t+304>>2],W=+gD[t+320>>2],U=+gD[t+336>>2],Y=+gD[t+308>>2],K=+gD[t+324>>2],q=+gD[t+340>>2],$=+gD[t+364>>2],ee=+gD[t+380>>2],Q=+gD[t+396>>2],z=$*+gD[i>>2]+ee*+gD[i+4>>2]+Q*+gD[i+8>>2],j=$*+gD[i+16>>2]+ee*+gD[i+20>>2]+Q*+gD[i+24>>2],Q=$*+gD[i+32>>2]+ee*+gD[i+36>>2]+Q*+gD[i+40>>2],ee=(k*F+I*N+B*J)*z+(k*L+I*V+B*P)*j+(k*H+I*O+B*G)*Q,$=(F*X+N*W+J*U)*z+(L*X+V*W+P*U)*j+(H*X+O*W+G*U)*Q,Z=(F*Y+N*K+J*q)*z+(L*Y+V*K+P*q)*j+(H*Y+O*K+G*q)*Q,te=+gD[t+444>>2],ie=+gD[t+456>>2];do if(te<ie){if(te=+gD[t+448>>2],te<ie){if(+ED(+$)<1.1920928955078125e-7?+ED(+Z)<1.1920928955078125e-7:0)break t;uD[t+526>>0]=1,gD[t+460>>2]=-((k*H+I*O+B*G)*j-(k*L+I*V+B*P)*Q),gD[t+464>>2]=-((k*F+I*N+B*J)*Q-(k*H+I*O+B*G)*z),gD[t+468>>2]=-((k*L+I*V+B*P)*z-(k*F+I*N+B*J)*j),gD[t+472>>2]=0;break t}if(+ED(+ee)<1.1920928955078125e-7?+ED(+Z)<1.1920928955078125e-7:0)break;if(uD[t+526>>0]=1,te>=ie){if($=+BD(+Z,+ee),$>te){ee=+wD(+te),$=0,Z=+RD(+te);break}$<-te?(ee=+wD(+te),$=0,Z=-+RD(+te)):$=0}}else{if(+ED(+ee)<1.1920928955078125e-7?+ED(+$)<1.1920928955078125e-7:0)break;if(uD[t+526>>0]=1,te>=ie){if(Z=+BD(+$,+ee),Z>te){ee=+wD(+te),$=+RD(+te),Z=0;break}Z<-te?(ee=+wD(+te),$=-+RD(+te),Z=0):Z=0}}while(0);te=(F*Y+N*K+J*q)*Z+((F*X+N*W+J*U)*$+(k*F+I*N+B*J)*ee),F=(L*Y+V*K+P*q)*Z+((L*X+V*W+P*U)*$+(k*L+I*V+B*P)*ee),$=(H*Y+O*K+G*q)*Z+((H*X+O*W+G*U)*$+(k*H+I*O+B*G)*ee),ee=1/+CD(+($*$+(te*te+F*F))),gD[t+472>>2]=0,ie=+CD(+((j*ee*$-Q*ee*F)*(j*ee*$-Q*ee*F)+(Q*ee*te-z*ee*$)*(Q*ee*te-z*ee*$)+(z*ee*F-j*ee*te)*(z*ee*F-j*ee*te))),gD[t+504>>2]=ie,gD[t+460>>2]=-((j*ee*$-Q*ee*F)*(1/ie)),gD[t+464>>2]=-((Q*ee*te-z*ee*$)*(1/ie)),gD[t+468>>2]=-((z*ee*F-j*ee*te)*(1/ie))}while(0);return P=+gD[t+452>>2],P>=0?(B=R<-1?-1:R,B=+DD(+(B>1?1:B))*2,B>3.1415927410125732?(R=R>1?-1:-R,R=+DD(+(R>1?1:R))*2,w=-w,A=-A,C=-C):R=B,gD[t+512>>2]=R,R>1.1920928955078125e-7&&(ie=1/+CD(+(C*C+(A*A+w*w))),w*=ie,A*=ie,C*=ie),V=+gD[t+428>>2],R>P*V&&(uD[t+525>>0]=1,B=R-P*V,R=R<P&V<.9999998807907104?B/(P-P*V):1,gD[t+532>>2]=R,gD[t+508>>2]=B,ee=-w,te=-A,$=-C,Q=(s*l+(c*h+d*p)-f*_)*$+(d*c-s*f-h*p-_*l)*ee-(d*_+c*l+f*p-s*h)*te,ie=(d*c-s*f-h*p-_*l)*te+(d*_+c*l+f*p-s*h)*ee-(d*s+f*c+h*_-l*p)*$,Z=(d*c-s*f-h*p-_*l)*$+(d*s+f*c+h*_-l*p)*te-(s*l+(c*h+d*p)-f*_)*ee,$=-((d*s+f*c+h*_-l*p)*ee)-(s*l+(c*h+d*p)-f*_)*te-(d*_+c*l+f*p-s*h)*$,te=ie*m+((d*c-s*f-h*p-_*l)*Q+$*a)-Z*y,ee=Z*a+((d*c-s*f-h*p-_*l)*ie+$*y)-Q*m,ie=Q*y+((d*c-s*f-h*p-_*l)*Z+$*m)-ie*a,gD[t+476>>2]=te,gD[t+480>>2]=ee,gD[t+484>>2]=ie,gD[t+488>>2]=0,gD[t+496>>2]=1/(te*(+gD[r>>2]*te+ +gD[r+16>>2]*ee+ +gD[r+32>>2]*ie)+ee*(te*+gD[r+4>>2]+ee*+gD[r+20>>2]+ie*+gD[r+36>>2])+ie*(te*+gD[r+8>>2]+ee*+gD[r+24>>2]+ie*+gD[r+40>>2])+(te*(te*+gD[o>>2]+ee*+gD[o+16>>2]+ie*+gD[o+32>>2])+ee*(te*+gD[o+4>>2]+ee*+gD[o+20>>2]+ie*+gD[o+36>>2])+ie*(te*+gD[o+8>>2]+ee*+gD[o+24>>2]+ie*+gD[o+40>>2])))),(uD[t+526>>0]|0)==0?void(bD=n):(Q=-w,ie=-A,$=-C,Y=(b*v+(M*S+x*T)-E*g)*$+(x*M-b*E-S*T-g*v)*Q-(x*g+M*v+E*T-b*S)*ie,ee=(x*M-b*E-S*T-g*v)*ie+(x*g+M*v+E*T-b*S)*Q-(x*b+E*M+S*g-v*T)*$,Z=(x*M-b*E-S*T-g*v)*$+(x*b+E*M+S*g-v*T)*ie-(b*v+(M*S+x*T)-E*g)*Q,$=-((x*b+E*M+S*g-v*T)*Q)-(b*v+(M*S+x*T)-E*g)*ie-(x*g+M*v+E*T-b*S)*$,ie=-(x*b+E*M+S*g-v*T),Q=-(b*v+(M*S+x*T)-E*g),te=-(x*g+M*v+E*T-b*S),gD[t+536>>2]=ee*te+((x*M-b*E-S*T-g*v)*Y+$*ie)-Z*Q,gD[t+540>>2]=Z*ie+((x*M-b*E-S*T-g*v)*ee+$*Q)-Y*te,gD[t+544>>2]=Y*Q+((x*M-b*E-S*T-g*v)*Z+$*te)-ee*ie,gD[t+548>>2]=0,void(bD=n))):(gD[t+512>>2]=0,void(bD=n))}function Ud(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0;i=bD,bD=bD+64|0,a=fD[t+28>>2]|0,h=fD[t+32>>2]|0,jd(t,a+4|0,h+4|0,a+264|0,h+264|0),s=fD[e+8>>2]|0,gD[s>>2]=1,l=fD[e+24>>2]|0,gD[s+(l+1<<2)>>2]=1,gD[s+((l<<1)+2<<2)>>2]=1,u=+gD[t+348>>2],y=+gD[t+352>>2],_=+gD[t+356>>2],m=+gD[a+4>>2]*u+ +gD[a+8>>2]*y+ +gD[a+12>>2]*_,p=u*+gD[a+20>>2]+y*+gD[a+24>>2]+_*+gD[a+28>>2],_=u*+gD[a+36>>2]+y*+gD[a+40>>2]+_*+gD[a+44>>2],s=fD[e+12>>2]|0,gD[s>>2]=0,gD[s+4>>2]=_,gD[s+8>>2]=-p,gD[s+12>>2]=0,gD[s+(l<<2)>>2]=-_,gD[s+(l+1<<2)>>2]=0,gD[s+(l+2<<2)>>2]=m,gD[s+(l+3<<2)>>2]=0,gD[s+(l<<1<<2)>>2]=p,gD[s+((l<<1|1)<<2)>>2]=-m,gD[s+((l<<1)+2<<2)>>2]=0,gD[s+((l<<1)+3<<2)>>2]=0,s=fD[e+16>>2]|0,gD[s>>2]=-1,gD[s+(l+1<<2)>>2]=-1,gD[s+((l<<1)+2<<2)>>2]=-1,y=+gD[t+412>>2],u=+gD[t+416>>2],d=+gD[t+420>>2],g=+gD[h+4>>2]*y+ +gD[h+8>>2]*u+ +gD[h+12>>2]*d,f=y*+gD[h+20>>2]+u*+gD[h+24>>2]+d*+gD[h+28>>2],d=y*+gD[h+36>>2]+u*+gD[h+40>>2]+d*+gD[h+44>>2],s=fD[e+20>>2]|0,gD[s>>2]=0,gD[s+4>>2]=-d,gD[s+8>>2]=f,gD[s+12>>2]=0,gD[s+(l<<2)>>2]=d,gD[s+(l+1<<2)>>2]=0,gD[s+(l+2<<2)>>2]=-g,gD[s+(l+3<<2)>>2]=0,gD[s+(l<<1<<2)>>2]=-f,gD[s+((l<<1|1)<<2)>>2]=g,gD[s+((l<<1)+2<<2)>>2]=0,gD[s+((l<<1)+3<<2)>>2]=0,l=fD[t+592>>2]|0,u=+gD[((l&2|0)==0?e+4|0:t+600|0)>>2]*+gD[e>>2],r=fD[e+24>>2]|0,c=fD[e+28>>2]|0,n=fD[e+36>>2]|0,o=fD[e+40>>2]|0,gD[c>>2]=u*(g+ +gD[h+52>>2]-m-+gD[a+52>>2]),gD[n>>2]=-3.4028234663852886e38,gD[o>>2]=3.4028234663852886e38,(l&1|0)==0?(gD[c+(r<<2)>>2]=u*(f+ +gD[h+56>>2]-p-+gD[a+56>>2]),gD[n+(r<<2)>>2]=-3.4028234663852886e38,gD[o+(r<<2)>>2]=3.4028234663852886e38,gD[c+(r<<1<<2)>>2]=u*(d+ +gD[h+60>>2]-_-+gD[a+60>>2]),gD[n+(r<<1<<2)>>2]=-3.4028234663852886e38,gD[o+(r<<1<<2)>>2]=3.4028234663852886e38):(b=fD[e+32>>2]|0,gD[b>>2]=+gD[t+596>>2],gD[c+(r<<2)>>2]=u*(f+ +gD[h+56>>2]-p-+gD[a+56>>2]),gD[n+(r<<2)>>2]=-3.4028234663852886e38,gD[o+(r<<2)>>2]=3.4028234663852886e38,gD[b+(r<<2)>>2]=+gD[t+596>>2],gD[c+(r<<1<<2)>>2]=u*(d+ +gD[h+60>>2]-_-+gD[a+60>>2]),gD[n+(r<<1<<2)>>2]=-3.4028234663852886e38,gD[o+(r<<1<<2)>>2]=3.4028234663852886e38,gD[b+(r<<1<<2)>>2]=+gD[t+596>>2]);do if((uD[t+526>>0]|0)==0)r=r*3|0;else{if(h=fD[e+12>>2]|0,y=+gD[t+456>>2],+gD[t+444>>2]<y?+gD[t+448>>2]<y:0){Ld(i,a+4|0,t+300|0),u=+gD[i+4>>2],p=+gD[i+20>>2],f=+gD[i+36>>2],m=+gD[i+8>>2],g=+gD[i+24>>2],y=+gD[i+40>>2],l=fD[e+24>>2]|0,b=l+(r*3|0)|0,gD[h+(r*3<<2)>>2]=u,gD[h+((r*3|0)+1<<2)>>2]=p,gD[h+((r*3|0)+2<<2)>>2]=f,gD[h+(b<<2)>>2]=m,gD[h+(b+1<<2)>>2]=g,gD[h+(b+2<<2)>>2]=y,gD[s+(r*3<<2)>>2]=-u,gD[s+((r*3|0)+1<<2)>>2]=-p,gD[s+((r*3|0)+2<<2)>>2]=-f,gD[s+(b<<2)>>2]=-m,gD[s+(b+1<<2)>>2]=-g,gD[s+(b+2<<2)>>2]=-y,_=+gD[e>>2]*+gD[t+436>>2],c=fD[e+28>>2]|0,gD[c+(r*3<<2)>>2]=_*(u*+gD[t+460>>2]+p*+gD[t+464>>2]+f*+gD[t+468>>2]),gD[c+(b<<2)>>2]=_*(m*+gD[t+460>>2]+g*+gD[t+464>>2]+y*+gD[t+468>>2]),n=fD[e+36>>2]|0,gD[n+(r*3<<2)>>2]=-3.4028234663852886e38,o=fD[e+40>>2]|0,gD[o+(r*3<<2)>>2]=3.4028234663852886e38,gD[n+(b<<2)>>2]=-3.4028234663852886e38,gD[o+(b<<2)>>2]=3.4028234663852886e38,r=l+b|0;break}y=+gD[t+436>>2],m=y*+gD[t+460>>2]*y,g=y*y*+gD[t+464>>2],y=y*y*+gD[t+468>>2],gD[h+(r*3<<2)>>2]=m,gD[h+((r*3|0)+1<<2)>>2]=g,gD[h+((r*3|0)+2<<2)>>2]=y,gD[s+(r*3<<2)>>2]=-m,gD[s+((r*3|0)+1<<2)>>2]=-g,gD[s+((r*3|0)+2<<2)>>2]=-y,gD[c+(r*3<<2)>>2]=+gD[e>>2]*+gD[t+432>>2]*+gD[t+504>>2],(l&4|0)!=0&&(gD[(fD[e+32>>2]|0)+(r*3<<2)>>2]=+gD[t+604>>2]),gD[n+(r*3<<2)>>2]=0,gD[o+(r*3<<2)>>2]=3.4028234663852886e38,r=r+(r*3|0)|0}while(0);return(uD[t+525>>0]|0)==0?void(bD=i):(y=+gD[t+436>>2],m=y*+gD[t+476>>2]*y,g=y*y*+gD[t+480>>2],y=y*y*+gD[t+484>>2],s=fD[e+12>>2]|0,h=fD[e+20>>2]|0,gD[s+(r<<2)>>2]=m,l=r+1|0,gD[s+(l<<2)>>2]=g,b=r+2|0,gD[s+(b<<2)>>2]=y,gD[h+(r<<2)>>2]=-m,gD[h+(l<<2)>>2]=-g,gD[h+(b<<2)>>2]=-y,gD[c+(r<<2)>>2]=+gD[e>>2]*+gD[t+432>>2]*+gD[t+508>>2],(fD[t+592>>2]&4|0)!=0&&(gD[(fD[e+32>>2]|0)+(r<<2)>>2]=+gD[t+604>>2]),+gD[t+452>>2]>0?(e=n+(r<<2)|0,+gD[t+508>>2]>0?(gD[e>>2]=0,gD[o+(r<<2)>>2]=3.4028234663852886e38,void(bD=i)):(gD[e>>2]=-3.4028234663852886e38,gD[o+(r<<2)>>2]=0,void(bD=i))):(gD[n+(r<<2)>>2]=-3.4028234663852886e38,gD[o+(r<<2)>>2]=3.4028234663852886e38,void(bD=i)))}function Wd(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0;if(e=bD,bD=bD+176|0,(uD[t+527>>0]|0)==0)return void(bD=e);gD[t+36>>2]=0,gD[t+520>>2]=0,gD[t+516>>2]=0,fD[t+576>>2]=0,fD[t+580>>2]=0,fD[t+584>>2]=0,fD[t+588>>2]=0;t:do if((uD[t+524>>0]|0)==0)for(V=fD[t+28>>2]|0,S=+gD[t+348>>2],M=+gD[t+352>>2],r=+gD[t+356>>2],i=S*+gD[V+20>>2]+M*+gD[V+24>>2]+r*+gD[V+28>>2]+ +gD[V+56>>2],v=fD[t+32>>2]|0,n=+gD[t+412>>2],a=+gD[v+4>>2],s=+gD[t+416>>2],l=+gD[v+8>>2],c=+gD[t+420>>2],b=+gD[v+12>>2],u=+gD[v+20>>2],p=+gD[v+24>>2],f=+gD[v+28>>2],m=+gD[v+36>>2],g=+gD[v+40>>2],y=+gD[v+44>>2],d=+gD[v+52>>2],_=+gD[v+56>>2],h=+gD[v+60>>2],x=n*u+s*p+c*f+_-i,o=S*+gD[V+4>>2]+M*+gD[V+8>>2]+r*+gD[V+12>>2]+ +gD[V+52>>2],r=S*+gD[V+36>>2]+M*+gD[V+40>>2]+r*+gD[V+44>>2]+ +gD[V+60>>2],M=n*a+s*l+c*b+d-o,S=n*m+s*g+c*y+h-r,M*M+x*x+S*S>1.1920928955078125e-7?(B=1/+CD(+(M*M+x*x+S*S)),gD[e+128>>2]=M*B,gD[e+132>>2]=x*B,gD[e+136>>2]=S*B,gD[e+140>>2]=0,S*=B,x*=B,M*=B):(gD[e+128>>2]=1,gD[e+132>>2]=0,gD[e+136>>2]=0,gD[e+140>>2]=0,S=0,x=0,M=1),+ED(+S)>.7071067690849304?(R=S*S+x*x,D=1/+CD(+R),gD[e+144>>2]=0,B=-(D*S),gD[e+148>>2]=B,P=D*x,gD[e+152>>2]=P,gD[e+160>>2]=R*D,gD[e+164>>2]=-(M*P),gD[e+168>>2]=M*B):(P=M*M+x*x,B=1/+CD(+P),D=-(x*B),gD[e+144>>2]=D,R=B*M,gD[e+148>>2]=R,gD[e+152>>2]=0,gD[e+160>>2]=-(S*R),gD[e+164>>2]=S*D,gD[e+168>>2]=P*B),A=a,x=u,T=m,E=l,C=p,D=g,S=b,B=f,P=y,M=d,R=_,w=h,V=0;;){if(L=fD[t+28>>2]|0,gD[e+80>>2]=+gD[L+4>>2],gD[e+84>>2]=+gD[L+20>>2],gD[e+88>>2]=+gD[L+36>>2],gD[e+92>>2]=0,gD[e+96>>2]=+gD[L+8>>2],gD[e+100>>2]=+gD[L+24>>2],gD[e+104>>2]=+gD[L+40>>2],gD[e+108>>2]=0,gD[e+112>>2]=+gD[L+12>>2],gD[e+116>>2]=+gD[L+28>>2],gD[e+120>>2]=+gD[L+44>>2],gD[e+124>>2]=0,gD[e+32>>2]=A,gD[e+36>>2]=x,gD[e+40>>2]=T,gD[e+44>>2]=0,gD[e+48>>2]=E,gD[e+52>>2]=C,gD[e+56>>2]=D,gD[e+60>>2]=0,gD[e+64>>2]=S,gD[e+68>>2]=B,gD[e+72>>2]=P,gD[e+76>>2]=0,P=i-+gD[L+56>>2],B=r-+gD[L+60>>2],gD[e+16>>2]=o-+gD[L+52>>2],gD[e+20>>2]=P,gD[e+24>>2]=B,gD[e+28>>2]=0,gD[e>>2]=n*a+s*l+c*b+d-M,gD[e+4>>2]=n*u+s*p+c*f+_-R,gD[e+8>>2]=n*m+s*g+c*y+h-w,gD[e+12>>2]=0,nu(t+(V*84|0)+48|0,e+80|0,e+32|0,e+16|0,e,e+128+(V<<4)|0,L+396|0,+gD[L+344>>2],v+396|0,+gD[v+344>>2]),V=V+1|0,(V|0)==3){v=t+32|0;break t}v=fD[t+32>>2]|0,A=+gD[v+4>>2],x=+gD[v+20>>2],T=+gD[v+36>>2],E=+gD[v+8>>2],C=+gD[v+24>>2],D=+gD[v+40>>2],S=+gD[v+12>>2],B=+gD[v+28>>2],P=+gD[v+44>>2],M=+gD[v+52>>2],R=+gD[v+56>>2],w=+gD[v+60>>2]}else v=t+32|0;while(0);V=fD[t+28>>2]|0,L=fD[v>>2]|0,jd(t,V+4|0,L+4|0,V+264|0,L+264|0),bD=e}function Xd(t,e,i,r){t|=0,e|=0,i|=0,r=+r;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0;if(o=bD,bD=bD+448|0,(uD[t+527>>0]|0)==0)return void(bD=o);if(H=fD[t+28>>2]|0,D=+gD[t+348>>2],C=+gD[t+352>>2],A=+gD[t+356>>2],T=+gD[H+52>>2],E=D*+gD[H+4>>2]+C*+gD[H+8>>2]+A*+gD[H+12>>2]+T,M=+gD[H+56>>2],x=D*+gD[H+20>>2]+C*+gD[H+24>>2]+A*+gD[H+28>>2]+M,d=+gD[H+60>>2],A=D*+gD[H+36>>2]+C*+gD[H+40>>2]+A*+gD[H+44>>2]+d,H=fD[t+32>>2]|0,C=+gD[t+412>>2],D=+gD[t+416>>2],v=+gD[t+420>>2],y=+gD[H+52>>2],g=C*+gD[H+4>>2]+D*+gD[H+8>>2]+v*+gD[H+12>>2]+y,w=+gD[H+56>>2],R=C*+gD[H+20>>2]+D*+gD[H+24>>2]+v*+gD[H+28>>2]+w,m=+gD[H+60>>2],v=C*+gD[H+36>>2]+D*+gD[H+40>>2]+v*+gD[H+44>>2]+m,(uD[t+524>>0]|0)==0){f=+gD[e+192>>2]+ +gD[e+80>>2],_=+gD[e+196>>2]+ +gD[e+84>>2],p=+gD[e+200>>2]+ +gD[e+88>>2],D=+gD[i+192>>2]+ +gD[i+80>>2],C=+gD[i+196>>2]+ +gD[i+84>>2],S=+gD[i+200>>2]+ +gD[i+88>>2],b=+gD[e+176>>2]+ +gD[e+64>>2]+((A-d)*_-(x-M)*p)-(+gD[i+176>>2]+ +gD[i+64>>2]+((v-m)*C-(R-w)*S)),S=+gD[e+180>>2]+ +gD[e+68>>2]+((E-T)*p-(A-d)*f)-(+gD[i+180>>2]+ +gD[i+68>>2]+((g-y)*S-(v-m)*D)),C=+gD[e+184>>2]+ +gD[e+72>>2]+((x-M)*f-(E-T)*_)-(+gD[i+184>>2]+ +gD[i+72>>2]+((R-w)*D-(g-y)*C)),c=fD[e+240>>2]|0,n=0;do u=1/+gD[t+(n*84|0)+128>>2],l=t+(n*84|0)+48|0,f=+gD[l>>2],a=t+(n*84|0)+52|0,p=+gD[a>>2],s=t+(n*84|0)+56|0,_=+gD[s>>2],_=u*(((E-g)*f+(x-R)*p+(A-v)*_)*-.30000001192092896/r)-u*(b*f+S*p+C*_),gD[t+36>>2]=+gD[t+36>>2]+_,p=+gD[s>>2],f=+gD[a>>2],u=+gD[l>>2],h=fD[t+28>>2]|0,D=+gD[h+344>>2],(c|0)!=0&&(J=((A-d)*u-(E-T)*p)*+gD[h+300>>2]+((x-M)*p-(A-d)*f)*+gD[h+296>>2]+((E-T)*f-(x-M)*u)*+gD[h+304>>2],I=((A-d)*u-(E-T)*p)*+gD[h+284>>2]+((x-M)*p-(A-d)*f)*+gD[h+280>>2]+((E-T)*f-(x-M)*u)*+gD[h+288>>2],O=((A-d)*u-(E-T)*p)*+gD[h+268>>2]+((x-M)*p-(A-d)*f)*+gD[h+264>>2]+((E-T)*f-(x-M)*u)*+gD[h+272>>2],F=_*f*D*+gD[e+116>>2],N=_*p*D*+gD[e+120>>2],gD[e+64>>2]=_*u*D*+gD[e+112>>2]+ +gD[e+64>>2],gD[e+68>>2]=F+ +gD[e+68>>2],gD[e+72>>2]=N+ +gD[e+72>>2],I=I*_*+gD[e+100>>2],D=J*_*+gD[e+104>>2],gD[e+80>>2]=O*_*+gD[e+96>>2]+ +gD[e+80>>2],gD[e+84>>2]=I+ +gD[e+84>>2],gD[e+88>>2]=D+ +gD[e+88>>2]),h=fD[t+32>>2]|0,D=+gD[h+344>>2],(fD[i+240>>2]|0)!=0&&(F=((v-m)*u-(g-y)*p)*+gD[h+300>>2]+((R-w)*p-(v-m)*f)*+gD[h+296>>2]+((g-y)*f-(R-w)*u)*+gD[h+304>>2],N=((v-m)*u-(g-y)*p)*+gD[h+284>>2]+((R-w)*p-(v-m)*f)*+gD[h+280>>2]+((g-y)*f-(R-w)*u)*+gD[h+288>>2],J=((v-m)*u-(g-y)*p)*+gD[h+268>>2]+((R-w)*p-(v-m)*f)*+gD[h+264>>2]+((g-y)*f-(R-w)*u)*+gD[h+272>>2],I=D*+gD[a>>2]*-_*+gD[i+116>>2],O=D*+gD[s>>2]*-_*+gD[i+120>>2],gD[i+64>>2]=+gD[i+112>>2]*D*+gD[l>>2]*-_+ +gD[i+64>>2],gD[i+68>>2]=I+ +gD[i+68>>2],gD[i+72>>2]=O+ +gD[i+72>>2],N=N*+gD[i+100>>2]*-_,F=F*+gD[i+104>>2]*-_,gD[i+80>>2]=J*+gD[i+96>>2]*-_+ +gD[i+80>>2],gD[i+84>>2]=N+ +gD[i+84>>2],gD[i+88>>2]=F+ +gD[i+88>>2]),n=n+1|0;while((n|0)!=3)}do if((uD[t+552>>0]|0)==0){if(u=+gD[t+440>>2],!(u>1.1920928955078125e-7)){c=e+80|0,k=e+196|0,l=e+84|0,L=e+200|0,h=e+88|0,V=i+192|0,a=i+80|0,B=i+196|0,s=i+84|0,P=i+200|0,n=i+88|0,H=e+192|0;break}M=+gD[i+192>>2]+ +gD[i+80>>2]-(+gD[e+192>>2]+ +gD[e+80>>2]),x=+gD[i+196>>2]+ +gD[i+84>>2]-(+gD[e+196>>2]+ +gD[e+84>>2]),S=+gD[i+200>>2]+ +gD[i+88>>2]-(+gD[e+200>>2]+ +gD[e+88>>2]),M*M+x*x+S*S>1.1920928955078125e-7?(F=1/+CD(+(M*M+x*x+S*S)),n=fD[t+28>>2]|0,d=+gD[n+264>>2],b=+gD[n+280>>2],m=+gD[n+296>>2],f=+gD[n+268>>2],v=+gD[n+284>>2],g=+gD[n+300>>2],p=+gD[n+272>>2],y=+gD[n+288>>2],_=+gD[n+304>>2],n=fD[t+32>>2]|0,F=u*(1/(M*F*(M*F*d+x*F*b+S*F*m)+x*F*(M*F*f+x*F*v+S*F*g)+S*F*(M*F*p+x*F*y+S*F*_)+(M*F*(M*F*+gD[n+264>>2]+x*F*+gD[n+280>>2]+S*F*+gD[n+296>>2])+x*F*(M*F*+gD[n+268>>2]+x*F*+gD[n+284>>2]+S*F*+gD[n+300>>2])+S*F*(M*F*+gD[n+272>>2]+x*F*+gD[n+288>>2]+S*F*+gD[n+304>>2])))),u=+CD(+(S*F*S*F+(M*F*M*F+x*F*x*F))),M=1/u*M*F,x=1/u*x*F,S=1/u*S*F,(fD[e+240>>2]|0)!=0&&(F=u*0*+gD[e+116>>2],N=u*0*+gD[e+120>>2],gD[e+64>>2]=u*0*+gD[e+112>>2]+ +gD[e+64>>2],gD[e+68>>2]=F+ +gD[e+68>>2],gD[e+72>>2]=N+ +gD[e+72>>2],N=(x*v+M*b+S*y)*u*+gD[e+100>>2],F=(x*g+M*m+S*_)*u*+gD[e+104>>2],gD[e+80>>2]=(x*f+M*d+S*p)*u*+gD[e+96>>2]+ +gD[e+80>>2],gD[e+84>>2]=N+ +gD[e+84>>2],gD[e+88>>2]=F+ +gD[e+88>>2],n=fD[t+32>>2]|0),(fD[i+240>>2]|0)!=0?(F=x*+gD[n+300>>2]+M*+gD[n+296>>2]+S*+gD[n+304>>2],N=x*+gD[n+284>>2]+M*+gD[n+280>>2]+S*+gD[n+288>>2],J=x*+gD[n+268>>2]+M*+gD[n+264>>2]+S*+gD[n+272>>2],I=u*-0*+gD[i+116>>2],O=u*-0*+gD[i+120>>2],gD[i+64>>2]=u*-0*+gD[i+112>>2]+ +gD[i+64>>2],gD[i+68>>2]=I+ +gD[i+68>>2],gD[i+72>>2]=O+ +gD[i+72>>2],N=N*+gD[i+100>>2]*-u,F=F*+gD[i+104>>2]*-u,gD[i+80>>2]=J*+gD[i+96>>2]*-u+ +gD[i+80>>2],gD[i+84>>2]=N+ +gD[i+84>>2],gD[i+88>>2]=F+ +gD[i+88>>2],c=e+80|0,k=e+196|0,l=e+84|0,L=e+200|0,h=e+88|0,V=i+192|0,a=i+80|0,B=i+196|0,s=i+84|0,P=i+200|0,n=i+88|0,H=e+192|0):(c=e+80|0,k=e+196|0,l=e+84|0,L=e+200|0,h=e+88|0,V=i+192|0,a=i+80|0,B=i+196|0,s=i+84|0,P=i+200|0,n=i+88|0,H=e+192|0)):(c=e+80|0,k=e+196|0,l=e+84|0,L=e+200|0,h=e+88|0,V=i+192|0,a=i+80|0,B=i+196|0,s=i+84|0,P=i+200|0,n=i+88|0,H=e+192|0)}else k=fD[t+28>>2]|0,fD[o+352>>2]=fD[k+4>>2],fD[o+356>>2]=fD[k+8>>2],fD[o+360>>2]=fD[k+12>>2],fD[o+364>>2]=fD[k+16>>2],fD[o+368>>2]=fD[k+20>>2],fD[o+372>>2]=fD[k+24>>2],fD[o+376>>2]=fD[k+28>>2],fD[o+380>>2]=fD[k+32>>2],fD[o+384>>2]=fD[k+36>>2],fD[o+388>>2]=fD[k+40>>2],fD[o+392>>2]=fD[k+44>>2],fD[o+396>>2]=fD[k+48>>2],fD[o+400>>2]=fD[k+52>>2],fD[o+404>>2]=fD[k+56>>2],fD[o+408>>2]=fD[k+60>>2],fD[o+412>>2]=fD[k+64>>2],k=fD[t+32>>2]|0,fD[o+288>>2]=fD[k+4>>2],fD[o+292>>2]=fD[k+8>>2],fD[o+296>>2]=fD[k+12>>2],fD[o+300>>2]=fD[k+16>>2],fD[o+304>>2]=fD[k+20>>2],fD[o+308>>2]=fD[k+24>>2],fD[o+312>>2]=fD[k+28>>2],fD[o+316>>2]=fD[k+32>>2],fD[o+320>>2]=fD[k+36>>2],fD[o+324>>2]=fD[k+40>>2],fD[o+328>>2]=fD[k+44>>2],fD[o+332>>2]=fD[k+48>>2],fD[o+336>>2]=fD[k+52>>2],fD[o+340>>2]=fD[k+56>>2],fD[o+344>>2]=fD[k+60>>2],fD[o+348>>2]=fD[k+64>>2],J=+gD[e+196>>2]+ +gD[e+84>>2],T=+gD[e+200>>2]+ +gD[e+88>>2],gD[o+272>>2]=+gD[e+192>>2]+ +gD[e+80>>2],gD[o+276>>2]=J,gD[o+280>>2]=T,gD[o+284>>2]=0,T=+gD[i+196>>2]+ +gD[i+84>>2],J=+gD[i+200>>2]+ +gD[i+88>>2],gD[o+256>>2]=+gD[i+192>>2]+ +gD[i+80>>2],gD[o+260>>2]=T,gD[o+264>>2]=J,gD[o+268>>2]=0,gD[o+192>>2]=1,k=o+196|0,fD[k+0>>2]=0,fD[k+4>>2]=0,fD[k+8>>2]=0,fD[k+12>>2]=0,gD[o+212>>2]=1,H=o+216|0,fD[H+0>>2]=0,fD[H+4>>2]=0,fD[H+8>>2]=0,fD[H+12>>2]=0,gD[o+232>>2]=1,V=o+236|0,fD[V+0>>2]=0,fD[V+4>>2]=0,fD[V+8>>2]=0,fD[V+12>>2]=0,fD[V+16>>2]=0,qd(o+352|0,0,0,0,o+272|0,r,o+192|0),gD[o+128>>2]=1,V=o+132|0,fD[V+0>>2]=0,fD[V+4>>2]=0,fD[V+8>>2]=0,fD[V+12>>2]=0,gD[o+148>>2]=1,L=o+152|0,fD[L+0>>2]=0,fD[L+4>>2]=0,fD[L+8>>2]=0,fD[L+12>>2]=0,gD[o+168>>2]=1,B=o+172|0,fD[B+0>>2]=0,fD[B+4>>2]=0,fD[B+8>>2]=0,fD[B+12>>2]=0,fD[B+16>>2]=0,qd(o+288|0,0,0,0,o+256|0,r,o+128|0),J=+gD[t+556>>2],T=+gD[t+560>>2],N=+gD[t+564>>2],E=+gD[t+568>>2],w=J*(2/(J*J+T*T+N*N+E*E)),p=T*(2/(J*J+T*T+N*N+E*E)),R=N*(2/(J*J+T*T+N*N+E*E)),z=+gD[t+364>>2],G=+gD[t+368>>2],W=+gD[t+372>>2],y=(J*R-E*p)*W+(G*(J*p+E*R)+z*(1-(T*p+N*R))),b=W*(T*R+E*w)+(z*(J*p-E*R)+G*(1-(J*w+N*R))),v=z*(J*R+E*p)+G*(T*R-E*w)+W*(1-(J*w+T*p)),g=+gD[t+380>>2],A=+gD[t+384>>2],d=+gD[t+388>>2],M=(1-(T*p+N*R))*g+(J*p+E*R)*A+(J*R-E*p)*d,S=(J*p-E*R)*g+(1-(J*w+N*R))*A+(T*R+E*w)*d,x=(J*R+E*p)*g+(T*R-E*w)*A+(1-(J*w+T*p))*d,I=+gD[t+396>>2],u=+gD[t+400>>2],f=+gD[t+404>>2],O=(1-(T*p+N*R))*I+(J*p+E*R)*u+(J*R-E*p)*f,N=(J*p-E*R)*I+(1-(J*w+N*R))*u+(T*R+E*w)*f,p=(J*R+E*p)*I+(T*R-E*w)*u+(1-(J*w+T*p))*f,T=+gD[t+300>>2],w=+gD[t+316>>2],J=+gD[t+332>>2],E=+gD[t+304>>2],R=+gD[t+320>>2],F=+gD[t+336>>2],C=+gD[t+308>>2],D=+gD[t+324>>2],_=+gD[t+340>>2],m=-+gD[t+348>>2],K=-+gD[t+352>>2],U=-+gD[t+356>>2],W=z*0+G*0+W*0+ +gD[t+412>>2]+(v*(C*m+D*K+_*U)+(y*(T*m+w*K+J*U)+b*(E*m+R*K+F*U))),d=g*0+A*0+d*0+ +gD[t+416>>2]+(x*(C*m+D*K+_*U)+(M*(T*m+w*K+J*U)+S*(E*m+R*K+F*U))),U=I*0+u*0+f*0+ +gD[t+420>>2]+(p*(C*m+D*K+_*U)+(O*(T*m+w*K+J*U)+N*(E*m+R*K+F*U))),K=+gD[o+128>>2],m=+gD[V>>2],f=+gD[o+136>>2],u=+gD[o+144>>2],I=+gD[o+148>>2],A=+gD[L>>2],g=+gD[o+160>>2],G=+gD[o+164>>2],z=+gD[o+168>>2],j=f*U+(K*W+m*d)+ +gD[o+176>>2],X=U*A+(u*W+I*d)+ +gD[o+180>>2],q=W*g+d*G+U*z+ +gD[o+184>>2],gD[o+64>>2]=(y*T+b*E+v*C)*K+(M*T+S*E+x*C)*m+(O*T+N*E+p*C)*f,gD[o+68>>2]=(y*w+b*R+v*D)*K+(M*w+S*R+x*D)*m+(O*w+N*R+p*D)*f,gD[o+72>>2]=(y*J+b*F+v*_)*K+(M*J+S*F+x*_)*m+(O*J+N*F+p*_)*f,gD[o+76>>2]=0,gD[o+80>>2]=(y*T+b*E+v*C)*u+(M*T+S*E+x*C)*I+(O*T+N*E+p*C)*A,gD[o+84>>2]=(y*w+b*R+v*D)*u+(M*w+S*R+x*D)*I+(O*w+N*R+p*D)*A,gD[o+88>>2]=(y*J+b*F+v*_)*u+(M*J+S*F+x*_)*I+(O*J+N*F+p*_)*A,gD[o+92>>2]=0,gD[o+96>>2]=(y*T+b*E+v*C)*g+(M*T+S*E+x*C)*G+(O*T+N*E+p*C)*z,gD[o+100>>2]=(y*w+b*R+v*D)*g+(M*w+S*R+x*D)*G+(O*w+N*R+p*D)*z,gD[o+104>>2]=(y*J+b*F+v*_)*g+(M*J+S*F+x*_)*G+(O*J+N*F+p*_)*z,gD[o+108>>2]=0,gD[o+112>>2]=j,gD[o+116>>2]=X,gD[o+120>>2]=q,gD[o+124>>2]=0,q=(O*T+N*E+p*C)*-U+((y*T+b*E+v*C)*-W+(M*T+S*E+x*C)*-d),X=(O*w+N*R+p*D)*-U+((y*w+b*R+v*D)*-W+(M*w+S*R+x*D)*-d),d=(O*J+N*F+p*_)*-U+((y*J+b*F+v*_)*-W+(M*J+S*F+x*_)*-d),W=+gD[o+192>>2],U=+gD[k>>2],j=+gD[o+200>>2],z=+gD[o+208>>2],G=+gD[o+212>>2],g=+gD[H>>2],A=+gD[o+224>>2],I=+gD[o+228>>2],u=+gD[o+232>>2],f=q*W+X*U+d*j+ +gD[o+240>>2],m=q*z+X*G+d*g+ +gD[o+244>>2],d=q*A+X*I+d*u+ +gD[o+248>>2],gD[o>>2]=(y*T+b*E+v*C)*W+(y*w+b*R+v*D)*U+(y*J+b*F+v*_)*j,gD[o+4>>2]=(M*T+S*E+x*C)*W+(M*w+S*R+x*D)*U+(M*J+S*F+x*_)*j,gD[o+8>>2]=(O*T+N*E+p*C)*W+(O*w+N*R+p*D)*U+(O*J+N*F+p*_)*j,gD[o+12>>2]=0,gD[o+16>>2]=(y*T+b*E+v*C)*z+(y*w+b*R+v*D)*G+(y*J+b*F+v*_)*g,gD[o+20>>2]=(M*T+S*E+x*C)*z+(M*w+S*R+x*D)*G+(M*J+S*F+x*_)*g,gD[o+24>>2]=(O*T+N*E+p*C)*z+(O*w+N*R+p*D)*G+(O*J+N*F+p*_)*g,gD[o+28>>2]=0,gD[o+32>>2]=(y*T+b*E+v*C)*A+(y*w+b*R+v*D)*I+(y*J+b*F+v*_)*u,gD[o+36>>2]=(M*T+S*E+x*C)*A+(M*w+S*R+x*D)*I+(M*J+S*F+x*_)*u,gD[o+40>>2]=(O*T+N*E+p*C)*A+(O*w+N*R+p*D)*I+(O*J+N*F+p*_)*u,gD[o+44>>2]=0,gD[o+48>>2]=f,gD[o+52>>2]=m,gD[o+56>>2]=d,gD[o+60>>2]=0,ou(o+352|0,o+64|0,o+424|0,o+416|0),d=+gD[o+416>>2],m=1/r*+gD[o+424>>2]*d,f=1/r*d*+gD[o+428>>2],d=1/r*d*+gD[o+432>>2],ou(o+288|0,o,o+424|0,o+416|0),u=+gD[o+416>>2],m-=+gD[o+272>>2],f-=+gD[o+276>>2],d-=+gD[o+280>>2],_=1/r*+gD[o+424>>2]*u-+gD[o+256>>2],p=1/r*u*+gD[o+428>>2]-+gD[o+260>>2],u=1/r*u*+gD[o+432>>2]-+gD[o+264>>2],m*m+f*f+d*d>1.1920928955078125e-7?(b=1/+CD(+(m*m+f*f+d*d)),H=fD[t+28>>2]|0,S=m*b*(m*b*+gD[H+264>>2]+f*b*+gD[H+280>>2]+d*b*+gD[H+296>>2])+f*b*(m*b*+gD[H+268>>2]+f*b*+gD[H+284>>2]+d*b*+gD[H+300>>2])+d*b*(m*b*+gD[H+272>>2]+f*b*+gD[H+288>>2]+d*b*+gD[H+304>>2]),g=m*b,v=f*b,b=d*b):(S=0,g=0,v=0,b=0),_*_+p*p+u*u>1.1920928955078125e-7?(y=1/+CD(+(_*_+p*p+u*u)),H=fD[t+32>>2]|0,M=_*y*(_*y*+gD[H+264>>2]+p*y*+gD[H+280>>2]+u*y*+gD[H+296>>2])+p*y*(_*y*+gD[H+268>>2]+p*y*+gD[H+284>>2]+u*y*+gD[H+300>>2])+u*y*(_*y*+gD[H+272>>2]+p*y*+gD[H+288>>2]+u*y*+gD[H+304>>2]),T=_*y,x=p*y,y=u*y):(M=0,T=0,x=0,y=0),g=g*S+T*M,v=v*S+x*M,b=b*S+y*M,b*b+(g*g+v*v)>1.1920928955078125e-7?(K=1/+CD(+(b*b+(g*g+v*v))),a=fD[t+28>>2]|0,y=g*K*(g*K*+gD[a+264>>2]+v*K*+gD[a+280>>2]+b*K*+gD[a+296>>2])+v*K*(g*K*+gD[a+268>>2]+v*K*+gD[a+284>>2]+b*K*+gD[a+300>>2])+b*K*(g*K*+gD[a+272>>2]+v*K*+gD[a+288>>2]+b*K*+gD[a+304>>2]),n=fD[t+32>>2]|0,g=g*K*(g*K*+gD[n+264>>2]+v*K*+gD[n+280>>2]+b*K*+gD[n+296>>2])+v*K*(g*K*+gD[n+268>>2]+v*K*+gD[n+284>>2]+b*K*+gD[n+300>>2])+b*K*(g*K*+gD[n+272>>2]+v*K*+gD[n+288>>2]+b*K*+gD[n+304>>2]),_=1/((y+g)*(y+g))*(m*y-_*g),p=1/((y+g)*(y+g))*(f*y-p*g),d=1/((y+g)*(y+g))*(d*y-u*g),g=+gD[t+572>>2],g>=0&&((uD[t+553>>0]|0)!=0&&(g/=y),f=+gD[t+576>>2],u=+gD[t+580>>2],m=+gD[t+584>>2],y=+CD(+((_+f)*(_+f)+(p+u)*(p+u)+(d+m)*(d+m))),y>g&&(_=g*(_+f)*(1/y)-f,p=g*(p+u)*(1/y)-u,d=g*(d+m)*(1/y)-m),gD[t+576>>2]=_+f,gD[t+580>>2]=p+u,gD[t+584>>2]=d+m),u=+CD(+(d*d+(p*p+_*_))),f=_*(1/u),p*=1/u,d*=1/u,(fD[e+240>>2]|0)!=0&&(K=p*+gD[a+300>>2]+f*+gD[a+296>>2]+d*+gD[a+304>>2],q=p*+gD[a+284>>2]+f*+gD[a+280>>2]+d*+gD[a+288>>2],X=p*+gD[a+268>>2]+f*+gD[a+264>>2]+d*+gD[a+272>>2],U=u*0*+gD[e+116>>2],W=u*0*+gD[e+120>>2],gD[e+64>>2]=u*0*+gD[e+112>>2]+ +gD[e+64>>2],gD[e+68>>2]=U+ +gD[e+68>>2],gD[e+72>>2]=W+ +gD[e+72>>2],q=q*u*+gD[e+100>>2],K=K*u*+gD[e+104>>2],gD[e+80>>2]=X*u*+gD[e+96>>2]+ +gD[e+80>>2],gD[e+84>>2]=q+ +gD[e+84>>2],gD[e+88>>2]=K+ +gD[e+88>>2],n=fD[t+32>>2]|0),(fD[i+240>>2]|0)!=0?(K=p*+gD[n+300>>2]+f*+gD[n+296>>2]+d*+gD[n+304>>2],q=p*+gD[n+284>>2]+f*+gD[n+280>>2]+d*+gD[n+288>>2],X=p*+gD[n+268>>2]+f*+gD[n+264>>2]+d*+gD[n+272>>2],U=u*-0*+gD[i+116>>2],W=u*-0*+gD[i+120>>2],gD[i+64>>2]=u*-0*+gD[i+112>>2]+ +gD[i+64>>2],gD[i+68>>2]=U+ +gD[i+68>>2],gD[i+72>>2]=W+ +gD[i+72>>2],q=q*+gD[i+100>>2]*-u,K=K*+gD[i+104>>2]*-u,gD[i+80>>2]=X*+gD[i+96>>2]*-u+ +gD[i+80>>2],gD[i+84>>2]=q+ +gD[i+84>>2],gD[i+88>>2]=K+ +gD[i+88>>2],c=e+80|0,k=e+196|0,l=e+84|0,L=e+200|0,h=e+88|0,V=i+192|0,a=i+80|0,B=i+196|0,s=i+84|0,P=i+200|0,n=i+88|0,H=e+192|0):(c=e+80|0,k=e+196|0,l=e+84|0,L=e+200|0,h=e+88|0,V=i+192|0,a=i+80|0,B=i+196|0,s=i+84|0,P=i+200|0,n=i+88|0,H=e+192|0)):(c=e+80|0,k=e+196|0,l=e+84|0,L=e+200|0,h=e+88|0,V=i+192|0,a=i+80|0,B=i+196|0,s=i+84|0,P=i+200|0,n=i+88|0,H=e+192|0);
while(0);return d=+gD[H>>2]+ +gD[c>>2],u=+gD[k>>2]+ +gD[l>>2],p=+gD[L>>2]+ +gD[h>>2],f=+gD[V>>2]+ +gD[a>>2],_=+gD[B>>2]+ +gD[s>>2],m=+gD[P>>2]+ +gD[n>>2],(uD[t+526>>0]|0)!=0&&(M=+gD[t+528>>2],y=M*+gD[t+504>>2]*+gD[t+432>>2]/r,b=+gD[t+460>>2],v=+gD[t+464>>2],g=+gD[t+468>>2],(f-d)*b+(_-u)*v+(m-p)*g>0&&(y+=M*((f-d)*b+(_-u)*v+(m-p)*g)*+gD[t+436>>2]),X=+gD[t+516>>2],W=X+y*+gD[t+492>>2],W=W>0?W:0,gD[t+516>>2]=W,j=+gD[t+536>>2],U=+gD[t+540>>2],q=+gD[t+544>>2],K=j*b*(W-X)+v*(W-X)*U+g*(W-X)*q,y=+CD(+((g*(W-X)-q*K)*(g*(W-X)-q*K)+((b*(W-X)-j*K)*(b*(W-X)-j*K)+(v*(W-X)-U*K)*(v*(W-X)-U*K)))),b=1/y*(b*(W-X)-j*K),v=1/y*(v*(W-X)-U*K),g=1/y*(g*(W-X)-q*K),P=fD[t+28>>2]|0,(fD[e+240>>2]|0)!=0&&(K=v*+gD[P+300>>2]+b*+gD[P+296>>2]+g*+gD[P+304>>2],q=v*+gD[P+284>>2]+b*+gD[P+280>>2]+g*+gD[P+288>>2],X=v*+gD[P+268>>2]+b*+gD[P+264>>2]+g*+gD[P+272>>2],U=y*0*+gD[e+116>>2],W=y*0*+gD[e+120>>2],gD[e+64>>2]=y*0*+gD[e+112>>2]+ +gD[e+64>>2],gD[e+68>>2]=U+ +gD[e+68>>2],gD[e+72>>2]=W+ +gD[e+72>>2],q=q*y*+gD[e+100>>2],K=K*y*+gD[e+104>>2],gD[c>>2]=X*y*+gD[e+96>>2]+ +gD[c>>2],gD[l>>2]=q+ +gD[l>>2],gD[h>>2]=K+ +gD[h>>2]),P=fD[t+32>>2]|0,(fD[i+240>>2]|0)!=0&&(K=v*+gD[P+300>>2]+b*+gD[P+296>>2]+g*+gD[P+304>>2],q=v*+gD[P+284>>2]+b*+gD[P+280>>2]+g*+gD[P+288>>2],X=v*+gD[P+268>>2]+b*+gD[P+264>>2]+g*+gD[P+272>>2],U=y*-0*+gD[i+116>>2],W=y*-0*+gD[i+120>>2],gD[i+64>>2]=y*-0*+gD[i+112>>2]+ +gD[i+64>>2],gD[i+68>>2]=U+ +gD[i+68>>2],gD[i+72>>2]=W+ +gD[i+72>>2],q=q*+gD[i+100>>2]*-y,K=K*+gD[i+104>>2]*-y,gD[a>>2]=X*+gD[i+96>>2]*-y+ +gD[a>>2],gD[s>>2]=q+ +gD[s>>2],gD[n>>2]=K+ +gD[n>>2])),(uD[t+525>>0]|0)==0?void(bD=o):(b=+gD[t+532>>2],v=b*+gD[t+508>>2]*+gD[t+432>>2]/r,g=+gD[t+476>>2],y=+gD[t+480>>2],r=+gD[t+484>>2],(f-d)*g+(_-u)*y+(m-p)*r>0&&(v+=b*((f-d)*g+(_-u)*y+(m-p)*r)*+gD[t+436>>2]),d=+gD[t+520>>2],u=d+v*+gD[t+496>>2],u=u>0?u:0,gD[t+520>>2]=u,P=fD[t+28>>2]|0,(fD[e+240>>2]|0)!=0&&(K=y*+gD[P+300>>2]+g*+gD[P+296>>2]+r*+gD[P+304>>2],q=y*+gD[P+284>>2]+g*+gD[P+280>>2]+r*+gD[P+288>>2],r=y*+gD[P+268>>2]+g*+gD[P+264>>2]+r*+gD[P+272>>2],y=(u-d)*0*+gD[e+116>>2],g=(u-d)*0*+gD[e+120>>2],gD[e+64>>2]=(u-d)*0*+gD[e+112>>2]+ +gD[e+64>>2],gD[e+68>>2]=y+ +gD[e+68>>2],gD[e+72>>2]=g+ +gD[e+72>>2],g=q*(u-d)*+gD[e+100>>2],y=K*(u-d)*+gD[e+104>>2],gD[c>>2]=r*(u-d)*+gD[e+96>>2]+ +gD[c>>2],gD[l>>2]=g+ +gD[l>>2],gD[h>>2]=y+ +gD[h>>2],y=+gD[t+480>>2],g=+gD[t+476>>2],r=+gD[t+484>>2]),t=fD[t+32>>2]|0,(fD[i+240>>2]|0)==0?void(bD=o):(K=y*+gD[t+300>>2]+g*+gD[t+296>>2]+r*+gD[t+304>>2],q=y*+gD[t+284>>2]+g*+gD[t+280>>2]+r*+gD[t+288>>2],X=y*+gD[t+268>>2]+g*+gD[t+264>>2]+r*+gD[t+272>>2],U=(u-d)*-0*+gD[i+116>>2],W=(u-d)*-0*+gD[i+120>>2],gD[i+64>>2]=(u-d)*-0*+gD[i+112>>2]+ +gD[i+64>>2],gD[i+68>>2]=U+ +gD[i+68>>2],gD[i+72>>2]=W+ +gD[i+72>>2],q=q*+gD[i+100>>2]*-(u-d),K=K*+gD[i+104>>2]*-(u-d),gD[a>>2]=X*+gD[i+96>>2]*-(u-d)+ +gD[a>>2],gD[s>>2]=q+ +gD[s>>2],gD[n>>2]=K+ +gD[n>>2],void(bD=o)))}function qd(t,e,i,r,o,n,a){t|=0,e=+e,i=+i,r=+r,o|=0,n=+n,a|=0;var s=0,l=0,c=0,h=0,d=0,p=0,f=0,_=0,m=0;s=bD,bD=bD+16|0,i=i*n+ +gD[t+52>>2],r=r*n+ +gD[t+56>>2],gD[a+48>>2]=e*n+ +gD[t+48>>2],gD[a+52>>2]=i,gD[a+56>>2]=r,gD[a+60>>2]=0,r=+gD[o>>2],e=+gD[o+4>>2],i=+gD[o+8>>2],l=+CD(+(r*r+e*e+i*i)),l*n>.7853981852531433&&(l=.7853981852531433/n),c=l<.0010000000474974513?n*.5-l*n*n*n*.02083333395421505*l:+RD(+(l*.5*n))/l,p=c*r,e=c*e,i=c*i,_=+wD(+(l*n*.5)),u(t,s),d=+gD[s>>2],f=+gD[s+12>>2],n=+gD[s+8>>2],c=+gD[s+4>>2],m=1/+CD(+((_*f-p*d-e*c-i*n)*(_*f-p*d-e*c-i*n)+((i*f+_*n+p*c-e*d)*(i*f+_*n+p*c-e*d)+((_*d+p*f+e*n-i*c)*(_*d+p*f+e*n-i*c)+(i*d+(e*f+_*c)-p*n)*(i*d+(e*f+_*c)-p*n))))),r=(_*d+p*f+e*n-i*c)*m,l=m*(i*d+(e*f+_*c)-p*n),h=m*(i*f+_*n+p*c-e*d),n=m*(_*f-p*d-e*c-i*n),i=r*(2/(n*n+(h*h+(r*r+l*l)))),c=2/(n*n+(h*h+(r*r+l*l)))*l,e=2/(n*n+(h*h+(r*r+l*l)))*h,gD[a>>2]=1-(h*e+l*c),gD[a+4>>2]=r*c-n*e,gD[a+8>>2]=r*e+n*c,gD[a+12>>2]=0,gD[a+16>>2]=n*e+r*c,gD[a+20>>2]=1-(r*i+h*e),gD[a+24>>2]=l*e-n*i,gD[a+28>>2]=0,gD[a+32>>2]=r*e-n*c,gD[a+36>>2]=n*i+l*e,gD[a+40>>2]=1-(r*i+l*c),gD[a+44>>2]=0,bD=s}function Kd(t,e,i,r){t|=0,e|=0,i=+i,r=+r;var o=0,n=0,a=0,s=0,l=0,c=0,h=0;o=+wD(+i),i=+RD(+i),n=+gD[e+444>>2],+ED(+o)>1.1920928955078125e-7?(l=+gD[e+448>>2],a=i*i,s=o*o,n=+CD(+((i*i/(o*o)+1)/(1/(l*l)+i*i/(o*o)/(n*n))))):(a=i*i,s=o*o),c=n*.5,l=+RD(+c)/+CD(+(s+0+a)),c=+wD(+c),h=c*r+o*l*0-i*l*-0,s=c*0-i*l*r-l*0*0,n=c*0+l*0*0-o*l*r,a=-(l*0*r)-o*l*0-i*l*-0,gD[t>>2]=i*l*s+(c*h+a*-(l*0))-n*-(o*l),gD[t+4>>2]=n*-(l*0)+(c*s+a*-(o*l))-i*l*h,gD[t+8>>2]=h*-(o*l)+(c*n+i*l*a)-s*-(l*0),gD[t+12>>2]=0}function Yd(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0;i=bD,fD[t+556>>2]=fD[e+0>>2],fD[t+560>>2]=fD[e+4>>2],fD[t+564>>2]=fD[e+8>>2],fD[t+568>>2]=fD[e+12>>2],u=+gD[t+568>>2],f=+gD[t+560>>2],p=+gD[t+564>>2],a=+gD[t+556>>2],r=-a-f*0-p*0,n=(p+u*0-a*0)*-p+(u*(u+f*0-p*0)+r*-a)-(u*0+a*0-f)*-f,s=(u*0+a*0-f)*-a+(u*(p+u*0-a*0)+r*-f)-(u+f*0-p*0)*-p,r=(u+f*0-p*0)*-f+(u*(u*0+a*0-f)+r*-p)-(p+u*0-a*0)*-a,r*0+(s*0+n)<-.9999998807907104?+ED(0)>.7071067690849304?(o=0,r=xD,s=xD,n=0):(o=-0,r=1,s=0,n=0):(_=+CD(+((r*0+(s*0+n)+1)*2)),o=(r*0-s*0)*(1/_),r=(n*0-r)*(1/_),s=(s-n*0)*(1/_),n=_*.5),_=1/+CD(+(n*n+(s*s+(r*r+o*o)))),l=o*_,c=r*_,d=s*_,s=n*_,_=1/+CD(+((s*u-a*-l-f*-c-p*-d)*(s*u-a*-l-f*-c-p*-d)+((u*-d+s*p+f*-l-a*-c)*(u*-d+s*p+f*-l-a*-c)+((s*a+u*-l+p*-c-f*-d)*(s*a+u*-l+p*-c-f*-d)+(a*-d+(u*-c+s*f)-p*-l)*(a*-d+(u*-c+s*f)-p*-l))))),n=(s*a+u*-l+p*-c-f*-d)*_,r=_*(a*-d+(u*-c+s*f)-p*-l),o=_*(u*-d+s*p+f*-l-a*-c),a=_*(s*u-a*-l-f*-c-p*-d),_=+gD[t+444>>2],(_>=.05000000074505806?(h=+gD[t+448>>2],h>=.05000000074505806):0)&&(p=s<-1?-1:s,p=+DD(+(p>1?1:p))*2,p>1.1920928955078125e-7?(u=1/+CD(+(d*d+(l*l+c*c))),+ED(+(c*u))>1.1920928955078125e-7?(_=+CD(+((d*u*d*u/(c*u*c*u)+1)/(1/(h*h)+d*u*d*u/(c*u*c*u)/(_*_)))),f=l*u,h=c*u,u=d*u):(f=l*u,h=c*u,u=d*u)):(_=0,f=0,h=0,u=0),+ED(+p)>1.1920928955078125e-7&&(p>_?p=_:(s=-_,p<s&&(p=s)),s=p*.5,d=+RD(+s)/+CD(+(u*u+(h*h+f*f))),s=+wD(+s),l=f*d,c=h*d,d=u*d)),u=+gD[t+452>>2],u>=.05000000074505806&&(f=a<-1?-1:a,f=+DD(+(f>1?1:f))*2,f>3.1415927410125732?(f=a>1?-1:-a,f=+DD(+(f>1?1:f))*2,_=-n,h=-r,p=-o):(_=n,h=r,p=o),f>1.1920928955078125e-7&&(m=1/+CD(+(p*p+(h*h+_*_))),_*=m,h*=m,p*=m),+ED(+f)>1.1920928955078125e-7&&(f>u||(u=f<-u?-u:f),a=u*.5,r=+RD(+a)/+CD(+(p*p+(h*h+_*_))),n=_*r,a=+wD(+a),o=p*r,r=h*r)),gD[t+556>>2]=c*o+(l*a+s*n)-d*r,gD[t+560>>2]=d*n+(c*a+s*r)-l*o,gD[t+564>>2]=d*a+s*o+l*r-c*n,gD[t+568>>2]=s*a-l*n-c*r-d*o,bD=i}function Qd(t,e,i,r){t|=0,e|=0,i=+i,r|=0;var o=0;return o=bD,(e|0)==2|(e|0)==1?r>>>0<3?(gD[t+600>>2]=i,fD[t+592>>2]=fD[t+592>>2]|2,void(bD=o)):(gD[t+432>>2]=i,void(bD=o)):(e|0)==4|(e|0)==3?r>>>0<3?(gD[t+596>>2]=i,fD[t+592>>2]=fD[t+592>>2]|1,void(bD=o)):(gD[t+604>>2]=i,fD[t+592>>2]=fD[t+592>>2]|4,void(bD=o)):void(bD=o)}function Zd(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;r=bD;do if((e|0)==2|(e|0)==1){if(i>>>0<3){o=+gD[t+600>>2];break}o=(i+-3|0)>>>0<3?+gD[t+432>>2]:0}else if((e|0)==4|(e|0)==3){if(i>>>0<3){o=+gD[t+596>>2];break}o=(i+-3|0)>>>0<3?+gD[t+604>>2]:0}else o=0;while(0);return bD=r,+o}function $d(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,fD[t+300>>2]=fD[e+0>>2],fD[t+304>>2]=fD[e+4>>2],fD[t+308>>2]=fD[e+8>>2],fD[t+312>>2]=fD[e+12>>2],fD[t+316>>2]=fD[e+16>>2],fD[t+320>>2]=fD[e+20>>2],fD[t+324>>2]=fD[e+24>>2],fD[t+328>>2]=fD[e+28>>2],fD[t+332>>2]=fD[e+32>>2],fD[t+336>>2]=fD[e+36>>2],fD[t+340>>2]=fD[e+40>>2],fD[t+344>>2]=fD[e+44>>2],fD[t+348>>2]=fD[e+48>>2],fD[t+352>>2]=fD[e+52>>2],fD[t+356>>2]=fD[e+56>>2],fD[t+360>>2]=fD[e+60>>2],fD[t+364>>2]=fD[i+0>>2],fD[t+368>>2]=fD[i+4>>2],fD[t+372>>2]=fD[i+8>>2],fD[t+376>>2]=fD[i+12>>2],fD[t+380>>2]=fD[i+16>>2],fD[t+384>>2]=fD[i+20>>2],fD[t+388>>2]=fD[i+24>>2],fD[t+392>>2]=fD[i+28>>2],fD[t+396>>2]=fD[i+32>>2],fD[t+400>>2]=fD[i+36>>2],fD[t+404>>2]=fD[i+40>>2],fD[t+408>>2]=fD[i+44>>2],fD[t+412>>2]=fD[i+48>>2],fD[t+416>>2]=fD[i+52>>2],fD[t+420>>2]=fD[i+56>>2],fD[t+424>>2]=fD[i+60>>2],oP[fD[(fD[t>>2]|0)+8>>2]&511](t),bD=r}function tu(t){t|=0}function eu(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function iu(t){return t|=0,212}function ru(t,e,i){t|=0,e|=0,i|=0;var r=0;return r=bD,ju(t,e,i)|0,gD[e+52>>2]=+gD[t+300>>2],gD[e+56>>2]=+gD[t+304>>2],gD[e+60>>2]=+gD[t+308>>2],gD[e+64>>2]=+gD[t+312>>2],gD[e+68>>2]=+gD[t+316>>2],gD[e+72>>2]=+gD[t+320>>2],gD[e+76>>2]=+gD[t+324>>2],gD[e+80>>2]=+gD[t+328>>2],gD[e+84>>2]=+gD[t+332>>2],gD[e+88>>2]=+gD[t+336>>2],gD[e+92>>2]=+gD[t+340>>2],gD[e+96>>2]=+gD[t+344>>2],gD[e+100>>2]=+gD[t+348>>2],gD[e+104>>2]=+gD[t+352>>2],gD[e+108>>2]=+gD[t+356>>2],gD[e+112>>2]=+gD[t+360>>2],gD[e+116>>2]=+gD[t+364>>2],gD[e+120>>2]=+gD[t+368>>2],gD[e+124>>2]=+gD[t+372>>2],gD[e+128>>2]=+gD[t+376>>2],gD[e+132>>2]=+gD[t+380>>2],gD[e+136>>2]=+gD[t+384>>2],gD[e+140>>2]=+gD[t+388>>2],gD[e+144>>2]=+gD[t+392>>2],gD[e+148>>2]=+gD[t+396>>2],gD[e+152>>2]=+gD[t+400>>2],gD[e+156>>2]=+gD[t+404>>2],gD[e+160>>2]=+gD[t+408>>2],gD[e+164>>2]=+gD[t+412>>2],gD[e+168>>2]=+gD[t+416>>2],gD[e+172>>2]=+gD[t+420>>2],gD[e+176>>2]=+gD[t+424>>2],gD[e+180>>2]=+gD[t+444>>2],gD[e+184>>2]=+gD[t+448>>2],gD[e+188>>2]=+gD[t+452>>2],gD[e+192>>2]=+gD[t+428>>2],gD[e+196>>2]=+gD[t+432>>2],gD[e+200>>2]=+gD[t+436>>2],gD[e+204>>2]=+gD[t+440>>2],bD=r,1352}function ou(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0;return o=bD,bD=bD+64|0,n=+gD[t+20>>2],y=+gD[t+40>>2],p=+gD[t+24>>2],m=+gD[t+36>>2],g=+gD[t+32>>2],a=+gD[t+16>>2],c=+gD[t>>2],s=+gD[t+4>>2],f=+gD[t+8>>2],h=1/((n*y-p*m)*c+s*(p*g-y*a)+(m*a-n*g)*f),T=+gD[e>>2],x=+gD[e+4>>2],S=+gD[e+8>>2],M=+gD[e+16>>2],v=+gD[e+20>>2],b=+gD[e+24>>2],_=+gD[e+32>>2],d=+gD[e+36>>2],l=+gD[e+40>>2],gD[o+16>>2]=(n*y-p*m)*h*T+(p*g-y*a)*h*x+(m*a-n*g)*h*S,gD[o+20>>2]=T*h*(m*f-y*s)+x*h*(y*c-g*f)+h*(g*s-m*c)*S,gD[o+24>>2]=T*h*(p*s-n*f)+x*h*(a*f-p*c)+h*(n*c-a*s)*S,gD[o+28>>2]=0,gD[o+32>>2]=(n*y-p*m)*h*M+(p*g-y*a)*h*v+(m*a-n*g)*h*b,gD[o+36>>2]=h*(m*f-y*s)*M+h*(y*c-g*f)*v+h*(g*s-m*c)*b,gD[o+40>>2]=h*(p*s-n*f)*M+h*(a*f-p*c)*v+h*(n*c-a*s)*b,gD[o+44>>2]=0,gD[o+48>>2]=(n*y-p*m)*h*_+(p*g-y*a)*h*d+(m*a-n*g)*h*l,gD[o+52>>2]=h*(m*f-y*s)*_+h*(y*c-g*f)*d+h*(g*s-m*c)*l,gD[o+56>>2]=h*(p*s-n*f)*_+h*(a*f-p*c)*d+h*(n*c-a*s)*l,gD[o+60>>2]=0,u(o+16|0,o),l=+gD[o>>2],s=+gD[o+4>>2],a=+gD[o+8>>2],c=+gD[o+12>>2],n=1/+CD(+(l*l+s*s+a*a+c*c)),gD[o>>2]=l*n,gD[o+4>>2]=s*n,gD[o+8>>2]=a*n,gD[o+12>>2]=c*n,c=c*n<-1?-1:c*n,gD[r>>2]=+DD(+(c>1?1:c))*2,gD[i>>2]=l*n,gD[i+4>>2]=s*n,gD[i+8>>2]=a*n,gD[i+12>>2]=0,l*n*l*n+s*n*s*n+a*n*a*n<1.4210854715202004e-14?(gD[i>>2]=1,gD[i+4>>2]=0,gD[i+8>>2]=0,gD[i+12>>2]=0,void(bD=o)):(T=1/+CD(+(l*n*l*n+s*n*s*n+a*n*a*n)),gD[i>>2]=l*n*T,gD[i+4>>2]=T*s*n,gD[i+8>>2]=T*a*n,void(bD=o))}function nu(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s=+s,l|=0,c=+c;var h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0;h=bD,fD[t+0>>2]=fD[n+0>>2],fD[t+4>>2]=fD[n+4>>2],fD[t+8>>2]=fD[n+8>>2],fD[t+12>>2]=fD[n+12>>2],g=+gD[r+4>>2],m=+gD[t+8>>2],f=+gD[r+8>>2],v=+gD[t+4>>2],d=+gD[t>>2],S=+gD[r>>2],M=(g*m-f*v)*+gD[e>>2]+ +gD[e+4>>2]*(f*d-m*S)+(v*S-g*d)*+gD[e+8>>2],b=(g*m-f*v)*+gD[e+16>>2]+(f*d-m*S)*+gD[e+20>>2]+(v*S-g*d)*+gD[e+24>>2],g=(g*m-f*v)*+gD[e+32>>2]+(f*d-m*S)*+gD[e+36>>2]+(v*S-g*d)*+gD[e+40>>2],gD[t+16>>2]=M,gD[t+20>>2]=b,gD[t+24>>2]=g,gD[t+28>>2]=0,S=+gD[o+4>>2],f=+gD[o+8>>2],y=+gD[o>>2],_=+gD[i>>2]*(S*-m-f*-v)+ +gD[i+4>>2]*(f*-d-y*-m)+(y*-v-S*-d)*+gD[i+8>>2],p=(S*-m-f*-v)*+gD[i+16>>2]+(f*-d-y*-m)*+gD[i+20>>2]+(y*-v-S*-d)*+gD[i+24>>2],d=(S*-m-f*-v)*+gD[i+32>>2]+(f*-d-y*-m)*+gD[i+36>>2]+(y*-v-S*-d)*+gD[i+40>>2],gD[t+32>>2]=_,gD[t+36>>2]=p,gD[t+40>>2]=d,gD[t+44>>2]=0,S=+gD[a>>2]*M,v=+gD[a+4>>2]*b,y=+gD[a+8>>2]*g,gD[t+48>>2]=S,gD[t+52>>2]=v,gD[t+56>>2]=y,gD[t+60>>2]=0,m=+gD[l>>2]*_,f=+gD[l+4>>2]*p,u=+gD[l+8>>2]*d,gD[t+64>>2]=m,gD[t+68>>2]=f,gD[t+72>>2]=u,gD[t+76>>2]=0,gD[t+80>>2]=S*M+v*b+y*g+s+c+(m*_+f*p+u*d),bD=h}function au(t){t|=0;var e=0;return e=bD,su(t),(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function su(t){t|=0;var e=0,i=0,r=0,o=0;return e=bD,fD[t>>2]=1392,((uD[t+272>>0]|0)!=0?(o=fD[t+204>>2]|0,oP[fD[fD[o>>2]>>2]&511](o),o=fD[t+204>>2]|0,(o|0)!=0):0)&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),o=fD[t+196>>2]|0,((o|0)!=0?(oP[fD[fD[o>>2]>>2]&511](o),r=fD[t+196>>2]|0,(r|0)!=0):0)&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),((uD[t+273>>0]|0)!=0?(i=fD[t+200>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+200>>2]|0,(i|0)!=0):0)&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+316>>2]|0,(i|0)!=0&&((uD[t+320>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+316>>2]=0),uD[t+320>>0]=1,fD[t+316>>2]=0,fD[t+308>>2]=0,fD[t+312>>2]=0,i=fD[t+288>>2]|0,(i|0)!=0&&((uD[t+292>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+288>>2]=0),uD[t+292>>0]=1,fD[t+288>>2]=0,fD[t+280>>2]=0,fD[t+284>>2]=0,i=fD[t+240>>2]|0,(i|0)!=0&&((uD[t+244>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+240>>2]=0),uD[t+244>>0]=1,fD[t+240>>2]=0,fD[t+232>>2]=0,fD[t+236>>2]=0,i=fD[t+220>>2]|0,(i|0)!=0&&((uD[t+224>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+220>>2]=0),uD[t+224>>0]=1,fD[t+220>>2]=0,fD[t+212>>2]=0,fD[t+216>>2]=0,i=fD[t+188>>2]|0,(i|0)==0?(uD[t+192>>0]=1,fD[t+188>>2]=0,fD[t+180>>2]=0,o=t+184|0,fD[o>>2]=0,M_(t),void(bD=e)):((uD[t+192>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+188>>2]=0,uD[t+192>>0]=1,fD[t+188>>2]=0,fD[t+180>>2]=0,o=t+184|0,fD[o>>2]=0,M_(t),void(bD=e))}function lu(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(i=bD,bD=bD+32|0,n=fD[t+8>>2]|0,(n|0)<=0)return void(bD=i);r=0;do o=fD[(fD[t+16>>2]|0)+(r<<2)>>2]|0,((((o|0)==0?1:(fD[o+236>>2]&2|0)==0)?0:(fD[o+216>>2]|0)!=2)?(fD[o+204>>2]&2|0)==0|e!=0^1:!0)||(n=fD[o+480>>2]|0,(n|0)==0?n=o+4|0:(aP[fD[(fD[n>>2]|0)+8>>2]&127](n,o+4|0),n=o+4|0),s=(+gD[o+56>>2]-+gD[o+120>>2])*(1/e),l=1/e*(+gD[o+60>>2]-+gD[o+124>>2]),gD[o+312>>2]=(+gD[o+52>>2]-+gD[o+116>>2])*(1/e),gD[o+316>>2]=s,gD[o+320>>2]=l,gD[o+324>>2]=0,ou(o+68|0,n,i+8|0,i),l=+gD[i>>2],s=1/e*l*+gD[i+12>>2],a=1/e*l*+gD[i+16>>2],gD[o+328>>2]=1/e*+gD[i+8>>2]*l,gD[o+332>>2]=s,gD[o+336>>2]=a,gD[o+340>>2]=0,fD[o+132>>2]=fD[o+312>>2],fD[o+136>>2]=fD[o+316>>2],fD[o+140>>2]=fD[o+320>>2],fD[o+144>>2]=fD[o+324>>2],fD[o+148>>2]=fD[o+328>>2],fD[o+152>>2]=fD[o+332>>2],fD[o+156>>2]=fD[o+336>>2],fD[o+160>>2]=fD[o+340>>2],fD[o+68>>2]=fD[n+0>>2],fD[o+72>>2]=fD[n+4>>2],fD[o+76>>2]=fD[n+8>>2],fD[o+80>>2]=fD[n+12>>2],fD[o+84>>2]=fD[o+20>>2],fD[o+88>>2]=fD[o+24>>2],fD[o+92>>2]=fD[o+28>>2],fD[o+96>>2]=fD[o+32>>2],fD[o+100>>2]=fD[o+36>>2],fD[o+104>>2]=fD[o+40>>2],fD[o+108>>2]=fD[o+44>>2],fD[o+112>>2]=fD[o+48>>2],fD[o+116>>2]=fD[o+52>>2],fD[o+120>>2]=fD[o+56>>2],fD[o+124>>2]=fD[o+60>>2],fD[o+128>>2]=fD[o+64>>2],n=fD[t+8>>2]|0),r=r+1|0;while((r|0)<(n|0));bD=i}function cu(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0;e=bD,bD=bD+1024|0,Gx(1576),N_(t);t:do if((lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0)!=0?(D=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,((lP[fD[(fD[D>>2]|0)+48>>2]&127](D)|0)&6144|0)!=0):0){i=e+988|0,h=e+896|0,c=e+832|0,u=e+912|0,d=e+848|0,f=e+928|0,p=e+864|0,m=e+720|0,_=e+656|0,y=e+736|0,g=e+672|0,v=e+752|0,b=e+688|0,r=e+336|0,o=e+352|0,n=e+368|0,a=e+112|0,s=e+128|0,l=e+144|0,x=lP[fD[(fD[t>>2]|0)+104>>2]&127](t)|0;e:for(;;){if(M=x+-1|0,(x|0)<=0)break t;if(x=AP[fD[(fD[t>>2]|0)+108>>2]&31](t,M)|0,D=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,D=(lP[fD[(fD[D>>2]|0)+48>>2]&127](D)|0)>>>11,T=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,T=(lP[fD[(fD[T>>2]|0)+48>>2]&127](T)|0)>>>12,S=+gD[x+40>>2],S<=0)x=M;else switch(fD[x+4>>2]|0){case 3:if(gD[e+944>>2]=1,fD[e+948>>2]=0,fD[e+952>>2]=0,fD[e+956>>2]=0,fD[e+960>>2]=0,gD[e+964>>2]=1,fD[e+968>>2]=0,fD[e+972>>2]=0,fD[e+976>>2]=0,fD[e+980>>2]=0,gD[e+984>>2]=1,fD[i+0>>2]=0,fD[i+4>>2]=0,fD[i+8>>2]=0,fD[i+12>>2]=0,fD[i+16>>2]=0,R=+gD[x+300>>2],w=+gD[x+304>>2],P=+gD[x+308>>2],A=fD[x+28>>2]|0,B=R*+gD[A+20>>2]+w*+gD[A+24>>2]+P*+gD[A+28>>2]+ +gD[A+56>>2],V=R*+gD[A+36>>2]+w*+gD[A+40>>2]+P*+gD[A+44>>2]+ +gD[A+60>>2],gD[e+992>>2]=R*+gD[A+4>>2]+w*+gD[A+8>>2]+P*+gD[A+12>>2]+ +gD[A+52>>2],gD[e+996>>2]=B,gD[e+1e3>>2]=V,gD[e+1004>>2]=0,A=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,NP[fD[(fD[A>>2]|0)+56>>2]&7](A,e+944|0,S),V=+gD[x+316>>2],B=+gD[x+320>>2],P=+gD[x+324>>2],A=fD[x+32>>2]|0,w=V*+gD[A+20>>2]+B*+gD[A+24>>2]+P*+gD[A+28>>2]+ +gD[A+56>>2],R=V*+gD[A+36>>2]+B*+gD[A+40>>2]+P*+gD[A+44>>2]+ +gD[A+60>>2],gD[e+992>>2]=V*+gD[A+4>>2]+B*+gD[A+8>>2]+P*+gD[A+12>>2]+ +gD[A+52>>2],gD[e+996>>2]=w,gD[e+1e3>>2]=R,gD[e+1004>>2]=0,(D&1|0)==0){x=M;continue e}x=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,NP[fD[(fD[x>>2]|0)+56>>2]&7](x,e+944|0,S),x=M;continue e;case 4:if(Ld(e+880|0,(fD[x+28>>2]|0)+4|0,x+552|0),(D&1|0)==0?(Ld(e+816|0,(fD[x+32>>2]|0)+4|0,x+616|0),fD[e+880>>2]=fD[e+816>>2],fD[e+884>>2]=fD[e+820>>2],fD[e+888>>2]=fD[e+824>>2],fD[e+892>>2]=fD[e+828>>2],fD[h+0>>2]=fD[c+0>>2],fD[h+4>>2]=fD[c+4>>2],fD[h+8>>2]=fD[c+8>>2],fD[h+12>>2]=fD[c+12>>2],fD[u+0>>2]=fD[d+0>>2],fD[u+4>>2]=fD[d+4>>2],fD[u+8>>2]=fD[d+8>>2],fD[u+12>>2]=fD[d+12>>2],fD[f+0>>2]=fD[p+0>>2],fD[f+4>>2]=fD[p+4>>2],fD[f+8>>2]=fD[p+8>>2],fD[f+12>>2]=fD[p+12>>2]):(D=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,NP[fD[(fD[D>>2]|0)+56>>2]&7](D,e+880|0,S),Ld(e+816|0,(fD[x+32>>2]|0)+4|0,x+616|0),fD[e+880>>2]=fD[e+816>>2],fD[e+884>>2]=fD[e+820>>2],fD[e+888>>2]=fD[e+824>>2],fD[e+892>>2]=fD[e+828>>2],fD[h+0>>2]=fD[c+0>>2],fD[h+4>>2]=fD[c+4>>2],fD[h+8>>2]=fD[c+8>>2],fD[h+12>>2]=fD[c+12>>2],fD[u+0>>2]=fD[d+0>>2],fD[u+4>>2]=fD[d+4>>2],fD[u+8>>2]=fD[d+8>>2],fD[u+12>>2]=fD[d+12>>2],fD[f+0>>2]=fD[p+0>>2],fD[f+4>>2]=fD[p+4>>2],fD[f+8>>2]=fD[p+8>>2],fD[f+12>>2]=fD[p+12>>2],D=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,NP[fD[(fD[D>>2]|0)+56>>2]&7](D,e+880|0,S)),w=+OD(+(+gD[x+688>>2]-+gD[x+692>>2]),6.2831854820251465),w<-3.1415927410125732?w+=6.2831854820251465:w>3.1415927410125732&&(w+=-6.2831854820251465),R=+OD(+(+gD[x+688>>2]+ +gD[x+692>>2]),6.2831854820251465),R<-3.1415927410125732?R+=6.2831854820251465:R>3.1415927410125732&&(R+=-6.2831854820251465),w==R){x=M;continue e}if(x=w>R,(T&1|0)==0){x=M;continue e}gD[e+800>>2]=+gD[e+888>>2],gD[e+804>>2]=+gD[e+904>>2],gD[e+808>>2]=+gD[e+920>>2],gD[e+812>>2]=0,gD[e+784>>2]=+gD[e+880>>2],gD[e+788>>2]=+gD[e+896>>2],gD[e+792>>2]=+gD[e+912>>2],gD[e+796>>2]=0,D=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,A=fD[(fD[D>>2]|0)+60>>2]|0,fD[e+768>>2]=0,fD[e+772>>2]=0,fD[e+776>>2]=0,fD[e+780>>2]=0,_P[A&0](D,f,e+800|0,e+784|0,S,S,x?0:w,x?6.2831854820251465:R,e+768|0,x^1,10),x=M;continue e;case 5:if(Ld(e+704|0,(fD[x+28>>2]|0)+4|0,x+300|0),(D&1|0)==0?(Ld(e+640|0,(fD[x+32>>2]|0)+4|0,x+364|0),fD[e+704>>2]=fD[e+640>>2],fD[e+708>>2]=fD[e+644>>2],fD[e+712>>2]=fD[e+648>>2],fD[e+716>>2]=fD[e+652>>2],fD[m+0>>2]=fD[_+0>>2],fD[m+4>>2]=fD[_+4>>2],fD[m+8>>2]=fD[_+8>>2],fD[m+12>>2]=fD[_+12>>2],fD[y+0>>2]=fD[g+0>>2],fD[y+4>>2]=fD[g+4>>2],fD[y+8>>2]=fD[g+8>>2],fD[y+12>>2]=fD[g+12>>2],fD[v+0>>2]=fD[b+0>>2],fD[v+4>>2]=fD[b+4>>2],fD[v+8>>2]=fD[b+8>>2],fD[v+12>>2]=fD[b+12>>2]):(D=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,NP[fD[(fD[D>>2]|0)+56>>2]&7](D,e+704|0,S),Ld(e+640|0,(fD[x+32>>2]|0)+4|0,x+364|0),fD[e+704>>2]=fD[e+640>>2],fD[e+708>>2]=fD[e+644>>2],fD[e+712>>2]=fD[e+648>>2],fD[e+716>>2]=fD[e+652>>2],fD[m+0>>2]=fD[_+0>>2],fD[m+4>>2]=fD[_+4>>2],fD[m+8>>2]=fD[_+8>>2],fD[m+12>>2]=fD[_+12>>2],fD[y+0>>2]=fD[g+0>>2],fD[y+4>>2]=fD[g+4>>2],fD[y+8>>2]=fD[g+8>>2],fD[y+12>>2]=fD[g+12>>2],fD[v+0>>2]=fD[b+0>>2],fD[v+4>>2]=fD[b+4>>2],fD[v+8>>2]=fD[b+8>>2],fD[v+12>>2]=fD[b+12>>2],D=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,NP[fD[(fD[D>>2]|0)+56>>2]&7](D,e+704|0,S)),(T&1|0)==0){x=M;continue e}Kd(e+624|0,x,6.0868353843688965,S),w=+gD[e+624>>2],R=+gD[e+628>>2],P=+gD[e+632>>2],B=w*+gD[e+720>>2]+R*+gD[e+724>>2]+P*+gD[e+728>>2]+ +gD[e+756>>2],V=w*+gD[e+736>>2]+R*+gD[e+740>>2]+P*+gD[e+744>>2]+ +gD[e+760>>2],gD[e+624>>2]=w*+gD[e+704>>2]+R*+gD[e+708>>2]+P*+gD[e+712>>2]+ +gD[e+752>>2],gD[e+628>>2]=B,gD[e+632>>2]=V,gD[e+636>>2]=0,T=0;do Kd(e+608|0,x,+(T|0)*6.283185005187988*.03125,S),w=+gD[e+608>>2],R=+gD[e+612>>2],P=+gD[e+616>>2],B=w*+gD[e+720>>2]+R*+gD[e+724>>2]+P*+gD[e+728>>2]+ +gD[e+756>>2],V=w*+gD[e+736>>2]+R*+gD[e+740>>2]+P*+gD[e+744>>2]+ +gD[e+760>>2],gD[e+608>>2]=w*+gD[e+704>>2]+R*+gD[e+708>>2]+P*+gD[e+712>>2]+ +gD[e+752>>2],gD[e+612>>2]=B,gD[e+616>>2]=V,gD[e+620>>2]=0,D=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,A=fD[(fD[D>>2]|0)+8>>2]|0,fD[e+592>>2]=0,fD[e+596>>2]=0,fD[e+600>>2]=0,fD[e+604>>2]=0,GP[A&127](D,e+624|0,e+608|0,e+592|0),(T&3|0)==0&&(D=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,A=fD[(fD[D>>2]|0)+8>>2]|0,fD[e+576>>2]=0,fD[e+580>>2]=0,fD[e+584>>2]=0,fD[e+588>>2]=0,GP[A&127](D,v,e+608|0,e+576|0)),fD[e+624>>2]=fD[e+608>>2],fD[e+628>>2]=fD[e+612>>2],fD[e+632>>2]=fD[e+616>>2],fD[e+636>>2]=fD[e+620>>2],T=T+1|0;while((T|0)!=32);R=+gD[x+452>>2],w=+gD[x+512>>2],T=fD[x+32>>2]|0,+gD[T+344>>2]>0?(Ld(e+512|0,T+4|0,x+364|0),fD[e+704>>2]=fD[e+512>>2],fD[e+708>>2]=fD[e+516>>2],fD[e+712>>2]=fD[e+520>>2],fD[e+716>>2]=fD[e+524>>2],fD[m+0>>2]=fD[e+528>>2],fD[m+4>>2]=fD[e+532>>2],fD[m+8>>2]=fD[e+536>>2],fD[m+12>>2]=fD[e+540>>2],fD[y+0>>2]=fD[e+544>>2],fD[y+4>>2]=fD[e+548>>2],fD[y+8>>2]=fD[e+552>>2],fD[y+12>>2]=fD[e+556>>2],fD[v+0>>2]=fD[e+560>>2],fD[v+4>>2]=fD[e+564>>2],fD[v+8>>2]=fD[e+568>>2],fD[v+12>>2]=fD[e+572>>2]):(Ld(e+448|0,(fD[x+28>>2]|0)+4|0,x+300|0),fD[e+704>>2]=fD[e+448>>2],fD[e+708>>2]=fD[e+452>>2],fD[e+712>>2]=fD[e+456>>2],fD[e+716>>2]=fD[e+460>>2],fD[m+0>>2]=fD[e+464>>2],fD[m+4>>2]=fD[e+468>>2],fD[m+8>>2]=fD[e+472>>2],fD[m+12>>2]=fD[e+476>>2],fD[y+0>>2]=fD[e+480>>2],fD[y+4>>2]=fD[e+484>>2],fD[y+8>>2]=fD[e+488>>2],fD[y+12>>2]=fD[e+492>>2],fD[v+0>>2]=fD[e+496>>2],fD[v+4>>2]=fD[e+500>>2],fD[v+8>>2]=fD[e+504>>2],fD[v+12>>2]=fD[e+508>>2]),fD[e+432>>2]=fD[v+0>>2],fD[e+436>>2]=fD[v+4>>2],fD[e+440>>2]=fD[v+8>>2],fD[e+444>>2]=fD[v+12>>2],gD[e+416>>2]=+gD[e+704>>2],gD[e+420>>2]=+gD[e+720>>2],gD[e+424>>2]=+gD[e+736>>2],gD[e+428>>2]=0,gD[e+400>>2]=+gD[e+708>>2],gD[e+404>>2]=+gD[e+724>>2],gD[e+408>>2]=+gD[e+740>>2],gD[e+412>>2]=0,x=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,D=fD[(fD[x>>2]|0)+60>>2]|0,fD[e+384>>2]=0,fD[e+388>>2]=0,fD[e+392>>2]=0,fD[e+396>>2]=0,_P[D&0](x,e+432|0,e+416|0,e+400|0,S,S,-w-R,R-w,e+384|0,1,10),x=M;continue e;case 6:case 9:if(fD[e+320>>2]=fD[x+1064>>2],fD[e+324>>2]=fD[x+1068>>2],fD[e+328>>2]=fD[x+1072>>2],fD[e+332>>2]=fD[x+1076>>2],C=x+1080|0,fD[r+0>>2]=fD[C+0>>2],fD[r+4>>2]=fD[C+4>>2],fD[r+8>>2]=fD[C+8>>2],fD[r+12>>2]=fD[C+12>>2],A=x+1096|0,fD[o+0>>2]=fD[A+0>>2],fD[o+4>>2]=fD[A+4>>2],fD[o+8>>2]=fD[A+8>>2],fD[o+12>>2]=fD[A+12>>2],E=x+1112|0,fD[n+0>>2]=fD[E+0>>2],fD[n+4>>2]=fD[E+4>>2],fD[n+8>>2]=fD[E+8>>2],fD[n+12>>2]=fD[E+12>>2],(D&1|0)==0?(fD[e+320>>2]=fD[x+1128>>2],fD[e+324>>2]=fD[x+1132>>2],fD[e+328>>2]=fD[x+1136>>2],fD[e+332>>2]=fD[x+1140>>2],fD[r+0>>2]=fD[x+1144>>2],fD[r+4>>2]=fD[x+1148>>2],fD[r+8>>2]=fD[x+1152>>2],fD[r+12>>2]=fD[x+1156>>2],fD[o+0>>2]=fD[x+1160>>2],fD[o+4>>2]=fD[x+1164>>2],fD[o+8>>2]=fD[x+1168>>2],fD[o+12>>2]=fD[x+1172>>2],fD[n+0>>2]=fD[x+1176>>2],fD[n+4>>2]=fD[x+1180>>2],fD[n+8>>2]=fD[x+1184>>2],fD[n+12>>2]=fD[x+1188>>2]):(D=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,NP[fD[(fD[D>>2]|0)+56>>2]&7](D,e+320|0,S),fD[e+320>>2]=fD[x+1128>>2],fD[e+324>>2]=fD[x+1132>>2],fD[e+328>>2]=fD[x+1136>>2],fD[e+332>>2]=fD[x+1140>>2],fD[r+0>>2]=fD[x+1144>>2],fD[r+4>>2]=fD[x+1148>>2],fD[r+8>>2]=fD[x+1152>>2],fD[r+12>>2]=fD[x+1156>>2],fD[o+0>>2]=fD[x+1160>>2],fD[o+4>>2]=fD[x+1164>>2],fD[o+8>>2]=fD[x+1168>>2],fD[o+12>>2]=fD[x+1172>>2],fD[n+0>>2]=fD[x+1176>>2],fD[n+4>>2]=fD[x+1180>>2],fD[n+8>>2]=fD[x+1184>>2],fD[n+12>>2]=fD[x+1188>>2],D=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,NP[fD[(fD[D>>2]|0)+56>>2]&7](D,e+320|0,S)),(T&1|0)==0){x=M;continue e}fD[e+320>>2]=fD[x+1064>>2],fD[e+324>>2]=fD[x+1068>>2],fD[e+328>>2]=fD[x+1072>>2],fD[e+332>>2]=fD[x+1076>>2],fD[r+0>>2]=fD[C+0>>2],fD[r+4>>2]=fD[C+4>>2],fD[r+8>>2]=fD[C+8>>2],fD[r+12>>2]=fD[C+12>>2],fD[o+0>>2]=fD[A+0>>2],fD[o+4>>2]=fD[A+4>>2],fD[o+8>>2]=fD[A+8>>2],fD[o+12>>2]=fD[A+12>>2],fD[n+0>>2]=fD[E+0>>2],fD[n+4>>2]=fD[E+4>>2],fD[n+8>>2]=fD[E+8>>2],fD[n+12>>2]=fD[E+12>>2],T=x+1176|0,gD[e+304>>2]=+gD[e+328>>2],gD[e+308>>2]=+gD[e+344>>2],gD[e+312>>2]=+gD[e+360>>2],gD[e+316>>2]=0,gD[e+288>>2]=+gD[e+320>>2],gD[e+292>>2]=+gD[e+336>>2],gD[e+296>>2]=+gD[e+352>>2],gD[e+300>>2]=0,P=+gD[x+932>>2],R=+gD[x+936>>2],V=+gD[x+996>>2],L=+gD[x+1e3>>2],D=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,H=fD[(fD[D>>2]|0)+64>>2]|0,fD[e+272>>2]=0,fD[e+276>>2]=0,fD[e+280>>2]=0,fD[e+284>>2]=0,VP[H&0](D,T,e+304|0,e+288|0,S*.8999999761581421,P,R,V,L,e+272|0,10,1),L=+gD[e+324>>2],V=+gD[e+340>>2],R=+gD[e+356>>2],gD[e+288>>2]=L,gD[e+292>>2]=V,gD[e+296>>2]=R,gD[e+300>>2]=0,P=+gD[x+1196>>2],B=+gD[x+1200>>2],w=+wD(+P),P=+RD(+P),k=+wD(+B),B=+RD(+B),gD[e+256>>2]=w*k*L+w*B*V-P*R,gD[e+260>>2]=k*V-B*L,gD[e+264>>2]=P*k*L+P*B*V+w*R,fD[e+320>>2]=fD[x+1128>>2],fD[e+324>>2]=fD[x+1132>>2],fD[e+328>>2]=fD[x+1136>>2],fD[e+332>>2]=fD[x+1140>>2],fD[r+0>>2]=fD[x+1144>>2],fD[r+4>>2]=fD[x+1148>>2],fD[r+8>>2]=fD[x+1152>>2],fD[r+12>>2]=fD[x+1156>>2],fD[o+0>>2]=fD[x+1160>>2],fD[o+4>>2]=fD[x+1164>>2],fD[o+8>>2]=fD[x+1168>>2],fD[o+12>>2]=fD[x+1172>>2],fD[n+0>>2]=fD[T+0>>2],fD[n+4>>2]=fD[T+4>>2],fD[n+8>>2]=fD[T+8>>2],fD[n+12>>2]=fD[T+12>>2],R=-+gD[e+336>>2],w=-+gD[e+352>>2],gD[e+240>>2]=-+gD[e+320>>2],gD[e+244>>2]=R,gD[e+248>>2]=w,gD[e+252>>2]=0,w=+gD[x+868>>2],R=+gD[x+872>>2],w>R?(H=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,D=fD[(fD[H>>2]|0)+60>>2]|0,fD[e+224>>2]=0,fD[e+228>>2]=0,fD[e+232>>2]=0,fD[e+236>>2]=0,_P[D&0](H,T,e+240|0,e+256|0,S,S,-3.1415927410125732,3.1415927410125732,e+224|0,0,10)):w<R&&(H=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,D=fD[(fD[H>>2]|0)+60>>2]|0,fD[e+208>>2]=0,fD[e+212>>2]=0,fD[e+216>>2]=0,fD[e+220>>2]=0,_P[D&0](H,T,e+240|0,e+256|0,S,S,w,R,e+208|0,1,10)),fD[e+320>>2]=fD[x+1064>>2],fD[e+324>>2]=fD[x+1068>>2],fD[e+328>>2]=fD[x+1072>>2],fD[e+332>>2]=fD[x+1076>>2],fD[r+0>>2]=fD[C+0>>2],fD[r+4>>2]=fD[C+4>>2],fD[r+8>>2]=fD[C+8>>2],fD[r+12>>2]=fD[C+12>>2],fD[o+0>>2]=fD[A+0>>2],fD[o+4>>2]=fD[A+4>>2],fD[o+8>>2]=fD[A+8>>2],fD[o+12>>2]=fD[A+12>>2],fD[n+0>>2]=fD[E+0>>2],fD[n+4>>2]=fD[E+4>>2],fD[n+8>>2]=fD[E+8>>2],fD[n+12>>2]=fD[E+12>>2],fD[e+192>>2]=fD[x+680>>2],fD[e+196>>2]=fD[x+684>>2],fD[e+200>>2]=fD[x+688>>2],fD[e+204>>2]=fD[x+692>>2],fD[e+176>>2]=fD[x+696>>2],fD[e+180>>2]=fD[x+700>>2],fD[e+184>>2]=fD[x+704>>2],fD[e+188>>2]=fD[x+708>>2],x=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,H=fD[(fD[x>>2]|0)+72>>2]|0,fD[e+160>>2]=0,fD[e+164>>2]=0,fD[e+168>>2]=0,fD[e+172>>2]=0,iP[H&31](x,e+192|0,e+176|0,e+320|0,e+160|0),x=M;continue e;case 7:if(fD[e+96>>2]=fD[x+824>>2],fD[e+100>>2]=fD[x+828>>2],fD[e+104>>2]=fD[x+832>>2],fD[e+108>>2]=fD[x+836>>2],fD[a+0>>2]=fD[x+840>>2],fD[a+4>>2]=fD[x+844>>2],fD[a+8>>2]=fD[x+848>>2],fD[a+12>>2]=fD[x+852>>2],fD[s+0>>2]=fD[x+856>>2],fD[s+4>>2]=fD[x+860>>2],fD[s+8>>2]=fD[x+864>>2],fD[s+12>>2]=fD[x+868>>2],fD[l+0>>2]=fD[x+872>>2],fD[l+4>>2]=fD[x+876>>2],fD[l+8>>2]=fD[x+880>>2],fD[l+12>>2]=fD[x+884>>2],(D&1|0)==0?(fD[e+96>>2]=fD[x+888>>2],fD[e+100>>2]=fD[x+892>>2],fD[e+104>>2]=fD[x+896>>2],fD[e+108>>2]=fD[x+900>>2],fD[a+0>>2]=fD[x+904>>2],fD[a+4>>2]=fD[x+908>>2],fD[a+8>>2]=fD[x+912>>2],fD[a+12>>2]=fD[x+916>>2],fD[s+0>>2]=fD[x+920>>2],fD[s+4>>2]=fD[x+924>>2],fD[s+8>>2]=fD[x+928>>2],fD[s+12>>2]=fD[x+932>>2],fD[l+0>>2]=fD[x+936>>2],fD[l+4>>2]=fD[x+940>>2],fD[l+8>>2]=fD[x+944>>2],fD[l+12>>2]=fD[x+948>>2]):(H=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,NP[fD[(fD[H>>2]|0)+56>>2]&7](H,e+96|0,S),fD[e+96>>2]=fD[x+888>>2],fD[e+100>>2]=fD[x+892>>2],fD[e+104>>2]=fD[x+896>>2],fD[e+108>>2]=fD[x+900>>2],fD[a+0>>2]=fD[x+904>>2],fD[a+4>>2]=fD[x+908>>2],fD[a+8>>2]=fD[x+912>>2],fD[a+12>>2]=fD[x+916>>2],fD[s+0>>2]=fD[x+920>>2],fD[s+4>>2]=fD[x+924>>2],fD[s+8>>2]=fD[x+928>>2],fD[s+12>>2]=fD[x+932>>2],fD[l+0>>2]=fD[x+936>>2],fD[l+4>>2]=fD[x+940>>2],fD[l+8>>2]=fD[x+944>>2],fD[l+12>>2]=fD[x+948>>2],H=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,NP[fD[(fD[H>>2]|0)+56>>2]&7](H,e+96|0,S)),(T&1|0)==0){x=M;continue e}H=(uD[x+180>>0]|0)!=0?x+824|0:x+888|0,R=+gD[H>>2],V=+gD[H+4>>2],P=+gD[H+16>>2],k=+gD[H+20>>2],B=+gD[H+32>>2],L=+gD[H+36>>2],G=+gD[H+48>>2],N=+gD[H+52>>2],O=+gD[H+56>>2],w=+gD[x+184>>2],F=+gD[H+8>>2]*0,J=+gD[H+24>>2]*0,I=+gD[H+40>>2]*0,gD[e+80>>2]=G+(F+(V*0+R*w)),gD[e+84>>2]=N+(J+(k*0+P*w)),gD[e+88>>2]=O+(I+(L*0+B*w)),gD[e+92>>2]=0,w=+gD[x+188>>2],gD[e+64>>2]=G+(F+(V*0+R*w)),gD[e+68>>2]=N+(J+(k*0+P*w)),gD[e+72>>2]=O+(I+(L*0+B*w)),gD[e+76>>2]=0,H=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,D=fD[(fD[H>>2]|0)+8>>2]|0,fD[e+48>>2]=0,fD[e+52>>2]=0,fD[e+56>>2]=0,fD[e+60>>2]=0,GP[D&127](H,e+80|0,e+64|0,e+48|0),gD[e+32>>2]=R,gD[e+36>>2]=P,gD[e+40>>2]=B,gD[e+44>>2]=0,gD[e+16>>2]=V,gD[e+20>>2]=k,gD[e+24>>2]=L,gD[e+28>>2]=0,L=+gD[x+192>>2],k=+gD[x+196>>2],H=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,D=fD[(fD[H>>2]|0)+60>>2]|0,fD[e+0>>2]=0,fD[e+4>>2]=0,fD[e+8>>2]=0,fD[e+12>>2]=0,_P[D&0](H,x+936|0,e+32|0,e+16|0,S,S,L,k,e,1,10),x=M;continue e;default:x=M;continue e}}}while(0);if(((((lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0)!=0?(H=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,((lP[fD[(fD[H>>2]|0)+48>>2]&127](H)|0)&16387|0)!=0):0)?(lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0)!=0:0)?(H=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,(lP[fD[(fD[H>>2]|0)+48>>2]&127](H)|0)!=0):0)?(fD[t+280>>2]|0)>0:0){i=0;do H=fD[(fD[t+288>>2]|0)+(i<<2)>>2]|0,aP[fD[(fD[H>>2]|0)+12>>2]&127](H,fD[t+72>>2]|0),i=i+1|0;while((i|0)<(fD[t+280>>2]|0))}if(t=fD[5022]|0,H=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=H,(H|0)!=0)return void(bD=e);do if((fD[t+4>>2]|0)!=0){if($D(e+1008|0,0)|0,H=fD[5008]|0,gD[t+8>>2]=+(((fD[e+1012>>2]|0)-(fD[H+4>>2]|0)+(((fD[e+1008>>2]|0)-(fD[H>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)==0){t=fD[5022]|0;break}return void(bD=e)}while(0);fD[5022]=fD[t+20>>2],bD=e}function hu(t){t|=0;var e=0,i=0,r=0;if(e=bD,(fD[t+232>>2]|0)<=0)return void(bD=e);i=0;do r=(fD[(fD[t+240>>2]|0)+(i<<2)>>2]|0)+412|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,fD[r+16>>2]=0,fD[r+20>>2]=0,fD[r+24>>2]=0,fD[r+28>>2]=0,i=i+1|0;while((i|0)<(fD[t+232>>2]|0));bD=e}function du(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0;if(e=bD,i=fD[t+232>>2]|0,(i|0)<=0)return void(bD=e);t=fD[t+240>>2]|0,r=0;do o=fD[t+(r<<2)>>2]|0,n=fD[o+216>>2]|0,((n|0)==2|(n|0)==5?0:(fD[o+204>>2]&3|0)==0)&&(s=+gD[o+368>>2]*+gD[o+352>>2],a=+gD[o+372>>2]*+gD[o+356>>2],gD[o+412>>2]=+gD[o+364>>2]*+gD[o+348>>2]+ +gD[o+412>>2],gD[o+416>>2]=s+ +gD[o+416>>2],gD[o+420>>2]=a+ +gD[o+420>>2]),r=r+1|0;while((r|0)<(i|0));bD=e}function uu(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0;if(e=bD,bD=bD+144|0,Gx(1592),(uD[t+274>>0]|0)==0){if(a=fD[t+232>>2]|0,(a|0)>0){o=0;do n=fD[(fD[t+240>>2]|0)+(o<<2)>>2]|0,s=fD[n+216>>2]|0,(((s|0)==2|(s|0)==5?0:(fD[n+480>>2]|0)!=0)?(fD[n+204>>2]&3|0)==0:0)&&(r=((uD[t+300>>0]|0)!=0?(i=+gD[t+268>>2],i!=0):0)?+gD[t+264>>2]-i:+gD[t+264>>2]*+gD[n+244>>2],qd(n+68|0,+gD[n+132>>2],+gD[n+136>>2],+gD[n+140>>2],n+148|0,r,e),a=fD[n+480>>2]|0,aP[fD[(fD[a>>2]|0)+12>>2]&127](a,e),a=fD[t+232>>2]|0),o=o+1|0;while((o|0)<(a|0))}}else if(a=fD[t+8>>2]|0,(a|0)>0){o=0;do n=fD[(fD[t+16>>2]|0)+(o<<2)>>2]|0,((((n|0)==0?1:(fD[n+236>>2]&2|0)==0)?0:(fD[n+480>>2]|0)!=0)?(fD[n+204>>2]&3|0)==0:0)&&(i=((uD[t+300>>0]|0)!=0?(r=+gD[t+268>>2],r!=0):0)?+gD[t+264>>2]-r:+gD[t+264>>2]*+gD[n+244>>2],qd(n+68|0,+gD[n+132>>2],+gD[n+136>>2],+gD[n+140>>2],n+148|0,i,e+64|0),a=fD[n+480>>2]|0,aP[fD[(fD[a>>2]|0)+12>>2]&127](a,e+64|0),a=fD[t+8>>2]|0),o=o+1|0;while((o|0)<(a|0))}if(t=fD[5022]|0,s=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=s,(s|0)!=0)return void(bD=e);do if((fD[t+4>>2]|0)!=0){if($D(e+128|0,0)|0,s=fD[5008]|0,gD[t+8>>2]=+(((fD[e+132>>2]|0)-(fD[s+4>>2]|0)+(((fD[e+128>>2]|0)-(fD[s>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)==0){t=fD[5022]|0;break}return void(bD=e)}while(0);fD[5022]=fD[t+20>>2],bD=e}function pu(t,e,i,r){t|=0,e=+e,i|=0,r=+r;var o=0,n=0,a=0,s=0;if(o=bD,bD=bD+16|0,$D(fD[5008]|0,0)|0,Fx(20040),fD[5011]=(fD[5011]|0)+1,s=fD[5014]|0,fD[5014]=s+1,(s|0)==0&&($D(o|0,0)|0,s=fD[5008]|0,fD[5013]=(fD[o+4>>2]|0)-(fD[s+4>>2]|0)+(((fD[o>>2]|0)-(fD[s>>2]|0)|0)*1e6|0)),fD[5024]=0,$D(o|0,0)|0,Gx(1616),(i|0)!=0?(gD[t+268>>2]=r,a=+gD[t+264>>2]+e,gD[t+264>>2]=a,a>=r?(gD[t+264>>2]=a-+(~~(a/r)|0)*r,e=r,n=~~(a/r)):(e=r,n=0)):(gD[t+264>>2]=(uD[t+300>>0]|0)!=0?0:e,gD[t+268>>2]=0,n=!(+ED(+e)<1.1920928955078125e-7)&1,i=n),(lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0)!=0&&(s=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,uD[3896]=(lP[fD[(fD[s>>2]|0)+48>>2]&127](s)|0)>>>4&1),(n|0)!=0){if(i=(n|0)>(i|0)?i:n,rP[fD[(fD[t>>2]|0)+164>>2]&31](t,e*+(i|0)),oP[fD[(fD[t>>2]|0)+168>>2]&511](t),(i|0)>0){s=0;
do rP[fD[(fD[t>>2]|0)+160>>2]&31](t,e),oP[fD[(fD[t>>2]|0)+80>>2]&511](t),s=s+1|0;while((s|0)<(i|0))}}else oP[fD[(fD[t>>2]|0)+80>>2]&511](t);if(oP[fD[(fD[t>>2]|0)+120>>2]&511](t),fD[5024]=(fD[5024]|0)+1,t=fD[5022]|0,s=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=s,(s|0)!=0)return bD=o,n|0;do if((fD[t+4>>2]|0)!=0){if($D(o|0,0)|0,s=fD[5008]|0,gD[t+8>>2]=+(((fD[o+4>>2]|0)-(fD[s+4>>2]|0)+(((fD[o>>2]|0)-(fD[s>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)==0){t=fD[5022]|0;break}return bD=o,n|0}while(0);return fD[5022]=fD[t+20>>2],bD=o,n|0}function fu(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0;if(i=bD,bD=bD+464|0,Gx(1632),h=fD[t+84>>2]|0,(h|0)!=0&&rP[h&31](t,e),rP[fD[(fD[t>>2]|0)+140>>2]&31](t,e),gD[t+28>>2]=e,fD[t+32>>2]=0,fD[t+48>>2]=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,Gx(1768),Gx(1800),d=fD[t+316>>2]|0,(fD[t+308>>2]|0)>0){h=0;do x=fD[t+24>>2]|0,aP[fD[(fD[x>>2]|0)+16>>2]&127](x,fD[d+(h<<2)>>2]|0),h=h+1|0,d=fD[t+316>>2]|0;while((h|0)<(fD[t+308>>2]|0))}(d|0)!=0&&((uD[t+320>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[d+-4>>2]|0)),fD[t+316>>2]=0),uD[t+320>>0]=1,fD[t+316>>2]=0,fD[t+308>>2]=0,fD[t+312>>2]=0,h=fD[5022]|0,x=(fD[h+16>>2]|0)+-1|0,fD[h+16>>2]=x;do if((x|0)==0){if((fD[h+4>>2]|0)!=0){if($D(i+280|0,0)|0,x=fD[5008]|0,gD[h+8>>2]=+(((fD[i+284>>2]|0)-(fD[x+4>>2]|0)+(((fD[i+280>>2]|0)-(fD[x>>2]|0)|0)*1e6|0)-(fD[h+12>>2]|0)|0)>>>0)/1e3+ +gD[h+8>>2],(fD[h+16>>2]|0)!=0)break;h=fD[5022]|0}fD[5022]=fD[h+20>>2]}while(0);if((fD[t+232>>2]|0)>0){h=i+264|0,p=i+164|0,u=i+400|0,d=0;do{f=fD[(fD[t+240>>2]|0)+(d<<2)>>2]|0,gD[f+244>>2]=1,x=fD[f+216>>2]|0;do if((((x|0)==2|(x|0)==5?0:(fD[f+204>>2]&3|0)==0)?(qd(f+4|0,+gD[f+312>>2],+gD[f+316>>2],+gD[f+320>>2],f+328|0,e,i+216|0),a=+gD[h>>2],r=a-+gD[f+52>>2],s=+gD[i+268>>2],o=s-+gD[f+56>>2],l=+gD[i+272>>2],n=l-+gD[f+60>>2],(uD[t+44>>0]|0)!=0):0)?(b=+gD[f+252>>2],b*b!=0?b*b<r*r+o*o+n*n:0):0){if(Gx(1840),(fD[(fD[f+192>>2]|0)+4>>2]|0)<20&&(fD[440]=(fD[440]|0)+1,S=fD[t+68>>2]|0,S=lP[fD[(fD[S>>2]|0)+36>>2]&127](S)|0,x=fD[t+24>>2]|0,gD[i+124>>2]=1,pD[i+128>>1]=1,pD[i+130>>1]=-1,fD[i+120>>2]=688,fD[i+132>>2]=fD[f+52>>2],fD[i+136>>2]=fD[f+56>>2],fD[i+140>>2]=fD[f+60>>2],fD[i+144>>2]=fD[f+64>>2],fD[i+148>>2]=fD[h+0>>2],fD[i+152>>2]=fD[h+4>>2],fD[i+156>>2]=fD[h+8>>2],fD[i+160>>2]=fD[h+12>>2],fD[i+196>>2]=0,fD[i+120>>2]=2160,fD[i+200>>2]=f,gD[i+204>>2]=0,fD[i+208>>2]=S,fD[i+212>>2]=x,g=+gD[f+248>>2],fD[i+72>>2]=0,gD[i+76>>2]=1,gD[i+80>>2]=1,gD[i+84>>2]=1,gD[i+88>>2]=0,fD[i+64>>2]=16680,fD[i+68>>2]=8,gD[i+92>>2]=g,gD[i+108>>2]=g,gD[i+204>>2]=+gD[t+56>>2],x=fD[f+188>>2]|0,pD[i+128>>1]=pD[x+4>>1]|0,pD[i+130>>1]=pD[x+6>>1]|0,fD[i+48>>2]=fD[h+0>>2],fD[i+52>>2]=fD[h+4>>2],fD[i+56>>2]=fD[h+8>>2],fD[i+60>>2]=fD[h+12>>2],fD[i+0>>2]=fD[f+4>>2],fD[i+4>>2]=fD[f+8>>2],fD[i+8>>2]=fD[f+12>>2],fD[i+12>>2]=fD[f+16>>2],fD[i+16>>2]=fD[f+20>>2],fD[i+20>>2]=fD[f+24>>2],fD[i+24>>2]=fD[f+28>>2],fD[i+28>>2]=fD[f+32>>2],fD[i+32>>2]=fD[f+36>>2],fD[i+36>>2]=fD[f+40>>2],fD[i+40>>2]=fD[f+44>>2],fD[i+44>>2]=fD[f+48>>2],L_(t,i+64|0,f+4|0,i,i+120|0,0),g=+gD[i+124>>2],g<1)){if(m=g*(a-+gD[f+52>>2]),_=g*(s-+gD[f+56>>2]),g*=l-+gD[f+60>>2],b=-(_*+gD[i+168>>2])-m*+gD[p>>2]-g*+gD[i+172>>2],y=fD[t+24>>2]|0,y=gP[fD[(fD[y>>2]|0)+12>>2]&31](y,f,fD[i+196>>2]|0)|0,M=fD[t+308>>2]|0,(M|0)==(fD[t+312>>2]|0)?(c=(M|0)==0?1:M<<1,(M|0)<(c|0)):0){if((c|0)==0?v=0:(fD[5004]=(fD[5004]|0)+1,v=Ew((c<<2|3)+16|0)|0,(v|0)==0?v=0:(fD[(v+19&-16)+-4>>2]=v,v=v+19&-16),M=fD[t+308>>2]|0),(M|0)>0){S=0;do x=v+(S<<2)|0,(x|0)!=0&&(fD[x>>2]=fD[(fD[t+316>>2]|0)+(S<<2)>>2]),S=S+1|0;while((S|0)!=(M|0))}S=fD[t+316>>2]|0,(S|0)!=0&&((uD[t+320>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[S+-4>>2]|0),M=fD[t+308>>2]|0),fD[t+316>>2]=0),uD[t+320>>0]=1,fD[t+316>>2]=v,fD[t+312>>2]=c}v=(fD[t+316>>2]|0)+(M<<2)|0,(v|0)!=0&&(fD[v>>2]=y),fD[t+308>>2]=M+1,T=m+ +gD[f+52>>2],m=_+ +gD[f+56>>2],g+=+gD[f+60>>2],x=fD[i+196>>2]|0,k=+gD[x+4>>2],L=+gD[x+20>>2],V=+gD[x+36>>2],B=+gD[x+8>>2],P=+gD[x+24>>2],D=+gD[x+40>>2],R=+gD[x+12>>2],A=+gD[x+28>>2],E=+gD[x+44>>2],w=-+gD[x+52>>2],C=-+gD[x+56>>2],_=-+gD[x+60>>2],fD[i+280>>2]=0,fD[i+284>>2]=0,fD[i+288>>2]=0,fD[i+292>>2]=0,gD[i+296>>2]=T*k+m*L+g*V+(k*w+L*C+V*_),gD[i+300>>2]=T*B+m*P+g*D+(B*w+P*C+D*_),gD[i+304>>2]=T*R+m*A+g*E+(R*w+A*C+E*_),gD[i+308>>2]=0,fD[i+344>>2]=fD[p+0>>2],fD[i+348>>2]=fD[p+4>>2],fD[i+352>>2]=fD[p+8>>2],fD[i+356>>2]=fD[p+12>>2],gD[i+360>>2]=b,gD[i+364>>2]=0,gD[i+368>>2]=0,gD[i+372>>2]=0,fD[i+392>>2]=0,uD[i+396>>0]=0,fD[u+0>>2]=0,fD[u+4>>2]=0,fD[u+8>>2]=0,fD[u+12>>2]=0,fD[u+16>>2]=0,fD[u+20>>2]=0,fD[u+24>>2]=0,fD[u+28>>2]=0,x=pw(y,i+280|0)|0,gD[y+(x*184|0)+96>>2]=0,b=+gD[f+224>>2]*+gD[(fD[i+196>>2]|0)+224>>2],b=b<-10?-10:b,gD[y+(x*184|0)+88>>2]=b>10?10:b,fD[y+(x*184|0)+52>>2]=fD[f+52>>2],fD[y+(x*184|0)+56>>2]=fD[f+56>>2],fD[y+(x*184|0)+60>>2]=fD[f+60>>2],fD[y+(x*184|0)+64>>2]=fD[f+64>>2],gD[y+(x*184|0)+36>>2]=T,gD[y+(x*184|0)+40>>2]=m,gD[y+(x*184|0)+44>>2]=g,gD[y+(x*184|0)+48>>2]=0}if(f=fD[5022]|0,x=(fD[f+16>>2]|0)+-1|0,fD[f+16>>2]=x,(x|0)==0){if((fD[f+4>>2]|0)!=0){if($D(i+280|0,0)|0,x=fD[5008]|0,gD[f+8>>2]=+(((fD[i+284>>2]|0)-(fD[x+4>>2]|0)+(((fD[i+280>>2]|0)-(fD[x>>2]|0)|0)*1e6|0)-(fD[f+12>>2]|0)|0)>>>0)/1e3+ +gD[f+8>>2],(fD[f+16>>2]|0)!=0)break;f=fD[5022]|0}fD[5022]=fD[f+20>>2]}}while(0);d=d+1|0}while((d|0)<(fD[t+232>>2]|0))}c=fD[5022]|0,x=(fD[c+16>>2]|0)+-1|0,fD[c+16>>2]=x;do if((x|0)==0){if((fD[c+4>>2]|0)!=0){if($D(i+280|0,0)|0,x=fD[5008]|0,gD[c+8>>2]=+(((fD[i+284>>2]|0)-(fD[x+4>>2]|0)+(((fD[i+280>>2]|0)-(fD[x>>2]|0)|0)*1e6|0)-(fD[c+12>>2]|0)|0)>>>0)/1e3+ +gD[c+8>>2],(fD[c+16>>2]|0)!=0)break;c=fD[5022]|0}fD[5022]=fD[c+20>>2]}while(0);if(oP[fD[(fD[t>>2]|0)+44>>2]&511](t),oP[fD[(fD[t>>2]|0)+148>>2]&511](t),gD[t+104>>2]=e,aP[fD[(fD[t>>2]|0)+152>>2]&127](t,t+92|0),rP[fD[(fD[t>>2]|0)+144>>2]&31](t,e),Gx(1664),(fD[t+280>>2]|0)>0){c=0;do x=fD[(fD[t+288>>2]|0)+(c<<2)>>2]|0,NP[fD[(fD[x>>2]|0)+8>>2]&7](x,t,e),c=c+1|0;while((c|0)<(fD[t+280>>2]|0))}c=fD[5022]|0,x=(fD[c+16>>2]|0)+-1|0,fD[c+16>>2]=x;do if((x|0)==0){if((fD[c+4>>2]|0)!=0){if($D(i+280|0,0)|0,x=fD[5008]|0,gD[c+8>>2]=+(((fD[i+284>>2]|0)-(fD[x+4>>2]|0)+(((fD[i+280>>2]|0)-(fD[x>>2]|0)|0)*1e6|0)-(fD[c+12>>2]|0)|0)>>>0)/1e3+ +gD[c+8>>2],(fD[c+16>>2]|0)!=0)break;c=fD[5022]|0}fD[5022]=fD[c+20>>2]}while(0);if(rP[fD[(fD[t>>2]|0)+156>>2]&31](t,e),c=fD[t+80>>2]|0,(c|0)!=0&&rP[c&31](t,e),t=fD[5022]|0,x=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=x,(x|0)!=0)return void(bD=i);do if((fD[t+4>>2]|0)!=0){if($D(i+280|0,0)|0,x=fD[5008]|0,gD[t+8>>2]=+(((fD[i+284>>2]|0)-(fD[x+4>>2]|0)+(((fD[i+280>>2]|0)-(fD[x>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)==0){t=fD[5022]|0;break}return void(bD=i)}while(0);fD[5022]=fD[t+20>>2],bD=i}function _u(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0;if(i=bD,fD[t+248>>2]=fD[e+0>>2],fD[t+252>>2]=fD[e+4>>2],fD[t+256>>2]=fD[e+8>>2],fD[t+260>>2]=fD[e+12>>2],n=fD[t+232>>2]|0,(n|0)<=0)return void(bD=i);r=0;do o=fD[(fD[t+240>>2]|0)+(r<<2)>>2]|0,s=fD[o+216>>2]|0,((s|0)==2|(s|0)==5?0:(fD[o+504>>2]&1|0)==0)&&(a=+gD[o+344>>2],a!=0&&(c=1/a*+gD[e+4>>2],l=1/a*+gD[e+8>>2],gD[o+364>>2]=1/a*+gD[e>>2],gD[o+368>>2]=c,gD[o+372>>2]=l,gD[o+376>>2]=0),fD[o+380>>2]=fD[e+0>>2],fD[o+384>>2]=fD[e+4>>2],fD[o+388>>2]=fD[e+8>>2],fD[o+392>>2]=fD[e+12>>2],n=fD[t+232>>2]|0),r=r+1|0;while((r|0)<(n|0));bD=i}function mu(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+0>>2]=fD[e+248>>2],fD[t+4>>2]=fD[e+252>>2],fD[t+8>>2]=fD[e+256>>2],fD[t+12>>2]=fD[e+260>>2],bD=i}function gu(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,S_(t,e,i,r),bD=o}function yu(t,e){t|=0,e|=0;var i=0;return i=bD,((e|0)==0?1:(fD[e+236>>2]&2|0)==0)?(C_(t,e),void(bD=i)):(aP[fD[(fD[t>>2]|0)+92>>2]&127](t,e),void(bD=i))}function bu(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;r=bD,i=fD[t+232>>2]|0;t:do if((i|0)>0){for(o=fD[t+240>>2]|0,n=0;;){if(a=o+(n<<2)|0,s=n+1|0,(fD[a>>2]|0)==(e|0))break;if(!((s|0)<(i|0)))break t;n=s}(n|0)<(i|0)&&(fD[a>>2]=fD[o+(i+-1<<2)>>2],fD[(fD[t+240>>2]|0)+(i+-1<<2)>>2]=e,fD[t+232>>2]=i+-1)}while(0);C_(t,e),bD=r}function vu(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(i=bD,o=fD[e+204>>2]|0,((o&3|0)==0?(fD[e+504>>2]&1|0)==0:0)&&(l=+gD[e+344>>2],l!=0&&(h=1/l*+gD[t+252>>2],c=1/l*+gD[t+256>>2],gD[e+364>>2]=1/l*+gD[t+248>>2],gD[e+368>>2]=h,gD[e+372>>2]=c,gD[e+376>>2]=0),fD[e+380>>2]=fD[t+248>>2],fD[e+384>>2]=fD[t+252>>2],fD[e+388>>2]=fD[t+256>>2],fD[e+392>>2]=fD[t+260>>2]),(fD[e+192>>2]|0)==0)return void(bD=i);if((o&1|0)!=0)((fD[e+216>>2]|0)+-4|0)>>>0<2||(fD[e+216>>2]=2);else{if(n=fD[t+232>>2]|0,(n|0)==(fD[t+236>>2]|0)?(r=(n|0)==0?1:n<<1,(n|0)<(r|0)):0){if((r|0)==0?o=0:(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),n=fD[t+232>>2]|0),(n|0)>0){a=0;do s=o+(a<<2)|0,(s|0)!=0&&(fD[s>>2]=fD[(fD[t+240>>2]|0)+(a<<2)>>2]),a=a+1|0;while((a|0)!=(n|0))}a=fD[t+240>>2]|0,(a|0)!=0&&((uD[t+244>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0),n=fD[t+232>>2]|0),fD[t+240>>2]=0),uD[t+244>>0]=1,fD[t+240>>2]=o,fD[t+236>>2]=r}r=(fD[t+240>>2]|0)+(n<<2)|0,(r|0)!=0&&(fD[r>>2]=e),fD[t+232>>2]=n+1,o=fD[e+204>>2]|0}r=(o&1|0)==0?(o&2|0)==0:0,GP[fD[(fD[t>>2]|0)+36>>2]&127](t,e,r?1:2,r?-1:-3),bD=i}function Mu(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0;if(o=bD,a=fD[e+204>>2]|0,((a&3|0)==0?(fD[e+504>>2]&1|0)==0:0)&&(h=+gD[e+344>>2],h!=0&&(u=1/h*+gD[t+252>>2],d=1/h*+gD[t+256>>2],gD[e+364>>2]=1/h*+gD[t+248>>2],gD[e+368>>2]=u,gD[e+372>>2]=d,gD[e+376>>2]=0),fD[e+380>>2]=fD[t+248>>2],fD[e+384>>2]=fD[t+252>>2],fD[e+388>>2]=fD[t+256>>2],fD[e+392>>2]=fD[t+260>>2]),(fD[e+192>>2]|0)==0)return void(bD=o);if((a&1|0)!=0)((fD[e+216>>2]|0)+-4|0)>>>0<2||(fD[e+216>>2]=2);else{if(s=fD[t+232>>2]|0,(s|0)==(fD[t+236>>2]|0)?(n=(s|0)==0?1:s<<1,(s|0)<(n|0)):0){if((n|0)==0?a=0:(fD[5004]=(fD[5004]|0)+1,a=Ew((n<<2|3)+16|0)|0,(a|0)==0?a=0:(fD[(a+19&-16)+-4>>2]=a,a=a+19&-16),s=fD[t+232>>2]|0),(s|0)>0){c=0;do l=a+(c<<2)|0,(l|0)!=0&&(fD[l>>2]=fD[(fD[t+240>>2]|0)+(c<<2)>>2]),c=c+1|0;while((c|0)!=(s|0))}l=fD[t+240>>2]|0,(l|0)!=0&&((uD[t+244>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[l+-4>>2]|0),s=fD[t+232>>2]|0),fD[t+240>>2]=0),uD[t+244>>0]=1,fD[t+240>>2]=a,fD[t+236>>2]=n}n=(fD[t+240>>2]|0)+(s<<2)|0,(n|0)!=0&&(fD[n>>2]=e),fD[t+232>>2]=s+1}GP[fD[(fD[t>>2]|0)+36>>2]&127](t,e,i,r),bD=o}function Su(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;if(i=bD,bD=bD+16|0,Gx(1680),(fD[t+232>>2]|0)>0){r=(uD[3896]|0)==0,o=0;do{a=fD[(fD[t+240>>2]|0)+(o<<2)>>2]|0;t:do if((a|0)!=0){s=fD[a+216>>2]|0;do if((s|0)==4|(s|0)==2)n=10;else{if(d=+gD[a+312>>2],h=+gD[a+316>>2],c=+gD[a+320>>2],l=+gD[a+472>>2],d*d+h*h+c*c<l*l?(l=+gD[a+328>>2],c=+gD[a+332>>2],h=+gD[a+336>>2],d=+gD[a+476>>2],l*l+c*c+h*h<d*d):0){gD[a+220>>2]=+gD[a+220>>2]+e,n=10;break}gD[a+220>>2]=0,(s+-4|0)>>>0<2?n=10:(fD[a+216>>2]=0,s=0)}while(0);if((n|0)==10&&(n=0,(s|0)==4))break;do if(r){if((s+-2|0)>>>0<2?0:!(+gD[a+220>>2]>2))break;if((fD[a+204>>2]&3|0)!=0){if((s+-4|0)>>>0<2)break t;fD[a+216>>2]=2;break t}if((s|0)==1){fD[a+216>>2]=3;break t}if((s|0)!=2)break t;s=(fD[a+260>>2]|0)+2|0,fD[a+328>>2]=0,fD[a+332>>2]=0,fD[a+336>>2]=0,fD[a+340>>2]=0,fD[a+260>>2]=s,fD[a+312>>2]=0,fD[a+316>>2]=0,fD[a+320>>2]=0,fD[a+324>>2]=0;break t}while(0);(s+-4|0)>>>0<2||(fD[a+216>>2]=1)}while(0);o=o+1|0}while((o|0)<(fD[t+232>>2]|0))}if(t=fD[5022]|0,s=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=s,(s|0)!=0)return void(bD=i);do if((fD[t+4>>2]|0)!=0){if($D(i|0,0)|0,s=fD[5008]|0,gD[t+8>>2]=+(((fD[i+4>>2]|0)-(fD[s+4>>2]|0)+(((fD[i>>2]|0)-(fD[s>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)==0){t=fD[5022]|0;break}return void(bD=i)}while(0);fD[5022]=fD[t+20>>2],bD=i}function xu(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;if(r=bD,a=fD[t+212>>2]|0,(a|0)==(fD[t+216>>2]|0)?(o=(a|0)==0?1:a<<1,(a|0)<(o|0)):0){if((o|0)==0?n=0:(fD[5004]=(fD[5004]|0)+1,n=Ew((o<<2|3)+16|0)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),a=fD[t+212>>2]|0),(a|0)>0){s=0;do l=n+(s<<2)|0,(l|0)!=0&&(fD[l>>2]=fD[(fD[t+220>>2]|0)+(s<<2)>>2]),s=s+1|0;while((s|0)!=(a|0))}s=fD[t+220>>2]|0,(s|0)!=0&&((uD[t+224>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[s+-4>>2]|0),a=fD[t+212>>2]|0),fD[t+220>>2]=0),uD[t+224>>0]=1,fD[t+220>>2]=n,fD[t+216>>2]=o}return o=(fD[t+220>>2]|0)+(a<<2)|0,(o|0)!=0&&(fD[o>>2]=e),fD[t+212>>2]=a+1,i?(wb(fD[e+28>>2]|0,e),wb(fD[e+32>>2]|0,e),void(bD=r)):void(bD=r)}function Tu(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0;var c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0;if(l=bD,bD=bD+320|0,fD[t+188>>2]=-1,Gx(4080),fD[t+184>>2]=0,(i|0)>0){d=0;do fD[(fD[e+(d<<2)>>2]|0)+212>>2]=-1,d=d+1|0;while((d|0)!=(i|0))}if(d=fD[t+12>>2]|0,(d|0)<(i+1|0)){if(((i+1|0)!=0?(fD[5004]=(fD[5004]|0)+1,h=Ew(((i+1|0)*244|3)+16|0)|0,(h|0)!=0):0)?(fD[(h+19&-16)+-4>>2]=h,h=h+19&-16):h=0,d=fD[t+8>>2]|0,(d|0)>0){u=0;do b=h+(u*244|0)|0,j=fD[t+16>>2]|0,y=j+(u*244|0)|0,fD[b+0>>2]=fD[y+0>>2],fD[b+4>>2]=fD[y+4>>2],fD[b+8>>2]=fD[y+8>>2],fD[b+12>>2]=fD[y+12>>2],b=h+(u*244|0)+16|0,y=j+(u*244|0)+16|0,fD[b+0>>2]=fD[y+0>>2],fD[b+4>>2]=fD[y+4>>2],fD[b+8>>2]=fD[y+8>>2],fD[b+12>>2]=fD[y+12>>2],b=h+(u*244|0)+32|0,y=j+(u*244|0)+32|0,fD[b+0>>2]=fD[y+0>>2],fD[b+4>>2]=fD[y+4>>2],fD[b+8>>2]=fD[y+8>>2],fD[b+12>>2]=fD[y+12>>2],b=h+(u*244|0)+48|0,y=j+(u*244|0)+48|0,fD[b+0>>2]=fD[y+0>>2],fD[b+4>>2]=fD[y+4>>2],fD[b+8>>2]=fD[y+8>>2],fD[b+12>>2]=fD[y+12>>2],Bw(h+(u*244|0)+64|0,j+(u*244|0)+64|0,180)|0,u=u+1|0;while((u|0)!=(d|0))}d=fD[t+16>>2]|0,(d|0)!=0&&((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[d+-4>>2]|0)),fD[t+16>>2]=0),uD[t+20>>0]=1,fD[t+16>>2]=h,fD[t+12>>2]=i+1,h=t+8|0,u=i+1|0}else h=t+8|0,u=d;if(Rw(l+56|0,0,244)|0,d=fD[h>>2]|0,(d|0)<0){(u|0)<0&&(u=fD[t+16>>2]|0,(u|0)!=0&&((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[u+-4>>2]|0)),fD[t+16>>2]=0),uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+12>>2]=0);do j=fD[t+16>>2]|0,b=j+(d*244|0)|0,fD[b+0>>2]=fD[l+56>>2],fD[b+4>>2]=fD[l+60>>2],fD[b+8>>2]=fD[l+64>>2],fD[b+12>>2]=fD[l+68>>2],b=j+(d*244|0)+16|0,fD[b+0>>2]=fD[l+72>>2],fD[b+4>>2]=fD[l+76>>2],fD[b+8>>2]=fD[l+80>>2],fD[b+12>>2]=fD[l+84>>2],b=j+(d*244|0)+32|0,fD[b+0>>2]=fD[l+88>>2],fD[b+4>>2]=fD[l+92>>2],fD[b+8>>2]=fD[l+96>>2],fD[b+12>>2]=fD[l+100>>2],b=j+(d*244|0)+48|0,fD[b+0>>2]=fD[l+104>>2],fD[b+4>>2]=fD[l+108>>2],fD[b+8>>2]=fD[l+112>>2],fD[b+12>>2]=fD[l+116>>2],Bw(j+(d*244|0)+64|0,l+120|0,180)|0,d=d+1|0;while((d|0)!=0)}if(fD[h>>2]=0,(i|0)>0){h=0;do d=e+(h<<2)|0,u=Fb(t,fD[d>>2]|0,+gD[s+12>>2])|0,d=fD[d>>2]|0,((((d|0)==0?1:(fD[d+236>>2]&2|0)==0)?0:+gD[d+344>>2]!=0)?(c=fD[t+16>>2]|0,(fD[d+504>>2]&2|0)!=0):0)&&(C=+gD[s+76>>2],O=1/+gD[d+396>>2],F=1/+gD[d+400>>2],A=1/+gD[d+404>>2],L=+gD[d+4>>2],k=+gD[d+8>>2],H=+gD[d+12>>2],I=+gD[d+20>>2],N=+gD[d+24>>2],z=+gD[d+28>>2],J=+gD[d+36>>2],G=+gD[d+40>>2],T=+gD[d+44>>2],x=+gD[d+328>>2],M=+gD[d+332>>2],E=+gD[d+336>>2],v=(L*O*L+k*F*k+H*A*H)*x+(O*L*I+F*k*N+A*H*z)*M+(O*L*J+F*k*G+A*H*T)*E,S=(L*O*I+k*F*N+H*A*z)*x+(I*O*I+N*F*N+z*A*z)*M+(O*I*J+F*N*G+A*z*T)*E,T=E*(J*O*J+G*F*G+T*A*T)+(x*(L*O*J+k*F*G+H*A*T)+M*(I*O*J+N*F*G+z*A*T)),A=(M*T-E*S)*(M*T-E*S)+(E*v-x*T)*(E*v-x*T)+(x*S-M*v)*(x*S-M*v),A>C*C?(z=1/+CD(+A)*C,C=(M*T-E*S)*z,T=z*(E*v-x*T),v=z*(x*S-M*v)):(C=M*T-E*S,T=E*v-x*T,v=x*S-M*v),F=+gD[s+12>>2],G=(C*+gD[d+268>>2]+T*+gD[d+284>>2]+v*+gD[d+300>>2])*F,z=F*(C*+gD[d+272>>2]+T*+gD[d+288>>2]+v*+gD[d+304>>2]),gD[c+(u*244|0)+224>>2]=+gD[c+(u*244|0)+224>>2]-(C*+gD[d+264>>2]+T*+gD[d+280>>2]+v*+gD[d+296>>2])*F,gD[c+(u*244|0)+228>>2]=+gD[c+(u*244|0)+228>>2]-G,gD[c+(u*244|0)+232>>2]=+gD[c+(u*244|0)+232>>2]-z),h=h+1|0;while((h|0)<(i|0))}if((a|0)>0){i=0;do j=fD[n+(i<<2)>>2]|0,oP[fD[(fD[j>>2]|0)+8>>2]&511](j),gD[j+36>>2]=0,i=i+1|0;while((i|0)<(a|0))}if(h=fD[t+168>>2]|0,(h|0)<(a|0)?(fD[t+172>>2]|0)<(a|0):0){if((a|0)==0?i=0:(fD[5004]=(fD[5004]|0)+1,i=Ew((a<<3|3)+16|0)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),h=fD[t+168>>2]|0),(h|0)>0){c=0;do e=i+(c<<3)|0,(e|0)!=0&&(b=(fD[t+176>>2]|0)+(c<<3)|0,j=fD[b+4>>2]|0,fD[e>>2]=fD[b>>2],fD[e+4>>2]=j),c=c+1|0;while((c|0)!=(h|0))}c=fD[t+176>>2]|0,(c|0)!=0&&((uD[t+180>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[c+-4>>2]|0)),fD[t+176>>2]=0),uD[t+180>>0]=1,fD[t+176>>2]=i,fD[t+172>>2]=a}if(fD[t+168>>2]=a,(a|0)>0){i=0,c=0;do{if(e=fD[t+176>>2]|0,h=e+(i<<3)|0,d=n+(i<<2)|0,u=fD[d>>2]|0,p=fD[u+44>>2]|0,(p|0)!=0){u=p+0|0,p=u+64|0;do fD[u>>2]=0,u=u+4|0;while((u|0)<(p|0));u=fD[d>>2]|0}(uD[u+20>>0]|0)==0?(fD[h>>2]=0,fD[e+(i<<3)+4>>2]=0,e=0):(aP[fD[(fD[u>>2]|0)+16>>2]&127](u,h),e=fD[h>>2]|0),c=e+c|0,i=i+1|0}while((i|0)<(a|0))}else c=0;if(h=fD[t+48>>2]|0,(h|0)<(c|0)?(fD[t+52>>2]|0)<(c|0):0){if((c|0)==0?i=0:(fD[5004]=(fD[5004]|0)+1,i=Ew((c*152|3)+16|0)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),h=fD[t+48>>2]|0),(h|0)>0){e=0;do Bw(i+(e*152|0)|0,(fD[t+56>>2]|0)+(e*152|0)|0,152)|0,e=e+1|0;while((e|0)!=(h|0))}e=fD[t+56>>2]|0,(e|0)!=0&&((uD[t+60>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[e+-4>>2]|0)),fD[t+56>>2]=0),uD[t+60>>0]=1,fD[t+56>>2]=i,fD[t+52>>2]=c}if(fD[t+48>>2]=c,(a|0)>0)for(h=fD[t+176>>2]|0,i=0,c=0;;){if(e=h+(c<<3)|0,(fD[e>>2]|0)==0)e=0;else{if(g=fD[t+56>>2]|0,m=n+(c<<2)|0,_=fD[m>>2]|0,h=fD[_+28>>2]|0,d=fD[_+32>>2]|0,f=Fb(t,h,+gD[s+12>>2])|0,p=Fb(t,d,+gD[s+12>>2])|0,u=fD[t+16>>2]|0,b=fD[_+24>>2]|0,(b|0)<=0&&(b=fD[s+20>>2]|0),(b|0)>(fD[t+184>>2]|0)&&(fD[t+184>>2]=b),(fD[e>>2]|0)>0){y=0;do j=y+i|0,Rw(g+(j*152|0)|0,0,152)|0,gD[g+(j*152|0)+120>>2]=-3.4028234663852886e38,gD[g+(j*152|0)+124>>2]=3.4028234663852886e38,gD[g+(j*152|0)+100>>2]=0,gD[g+(j*152|0)+96>>2]=0,fD[g+(j*152|0)+144>>2]=f,fD[g+(j*152|0)+148>>2]=p,fD[g+(j*152|0)+136>>2]=b,y=y+1|0;while((y|0)<(fD[e>>2]|0))}if(fD[u+(f*244|0)+64>>2]=0,fD[u+(f*244|0)+68>>2]=0,fD[u+(f*244|0)+72>>2]=0,fD[u+(f*244|0)+76>>2]=0,fD[u+(f*244|0)+80>>2]=0,fD[u+(f*244|0)+84>>2]=0,fD[u+(f*244|0)+88>>2]=0,fD[u+(f*244|0)+92>>2]=0,fD[u+(f*244|0)+144>>2]=0,fD[u+(f*244|0)+148>>2]=0,fD[u+(f*244|0)+152>>2]=0,fD[u+(f*244|0)+156>>2]=0,fD[u+(f*244|0)+160>>2]=0,fD[u+(f*244|0)+164>>2]=0,fD[u+(f*244|0)+168>>2]=0,fD[u+(f*244|0)+172>>2]=0,fD[u+(p*244|0)+64>>2]=0,fD[u+(p*244|0)+68>>2]=0,fD[u+(p*244|0)+72>>2]=0,fD[u+(p*244|0)+76>>2]=0,fD[u+(p*244|0)+80>>2]=0,fD[u+(p*244|0)+84>>2]=0,fD[u+(p*244|0)+88>>2]=0,fD[u+(p*244|0)+92>>2]=0,fD[u+(p*244|0)+144>>2]=0,fD[u+(p*244|0)+148>>2]=0,fD[u+(p*244|0)+152>>2]=0,fD[u+(p*244|0)+156>>2]=0,fD[u+(p*244|0)+160>>2]=0,fD[u+(p*244|0)+164>>2]=0,fD[u+(p*244|0)+168>>2]=0,fD[u+(p*244|0)+172>>2]=0,gD[l>>2]=1/+gD[s+12>>2],gD[l+4>>2]=+gD[s+32>>2],fD[l+8>>2]=g+(i*152|0)+16,fD[l+12>>2]=g+(i*152|0),fD[l+16>>2]=g+(i*152|0)+48,fD[l+20>>2]=g+(i*152|0)+32,fD[l+24>>2]=38,fD[l+28>>2]=g+(i*152|0)+112,j=g+(i*152|0)+116|0,gD[j>>2]=+gD[s+40>>2],gD[l+52>>2]=+gD[s+4>>2],fD[l+32>>2]=j,fD[l+36>>2]=g+(i*152|0)+120,fD[l+40>>2]=g+(i*152|0)+124,fD[l+48>>2]=fD[s+20>>2],j=fD[m>>2]|0,aP[fD[(fD[j>>2]|0)+20>>2]&127](j,l),(fD[e>>2]|0)>0){y=0;do b=y+i|0,j=(fD[m>>2]|0)+16|0,v=+gD[j>>2],+gD[g+(b*152|0)+124>>2]>=v&&(gD[g+(b*152|0)+124>>2]=v,v=+gD[j>>2]),v=-v,+gD[g+(b*152|0)+120>>2]<=v&&(gD[g+(b*152|0)+120>>2]=v),fD[g+(b*152|0)+132>>2]=_,j=fD[_+28>>2]|0,G=+gD[g+(b*152|0)>>2],D=+gD[g+(b*152|0)+4>>2],P=+gD[g+(b*152|0)+8>>2],v=(G*+gD[j+280>>2]+D*+gD[j+284>>2]+P*+gD[j+288>>2])*+gD[j+548>>2],R=(G*+gD[j+296>>2]+D*+gD[j+300>>2]+P*+gD[j+304>>2])*+gD[j+552>>2],gD[g+(b*152|0)+64>>2]=(+gD[j+264>>2]*G+ +gD[j+268>>2]*D+ +gD[j+272>>2]*P)*+gD[j+544>>2],gD[g+(b*152|0)+68>>2]=v,gD[g+(b*152|0)+72>>2]=R,gD[g+(b*152|0)+76>>2]=0,j=fD[_+32>>2]|0,R=+gD[g+(b*152|0)+32>>2],v=+gD[g+(b*152|0)+36>>2],P=+gD[g+(b*152|0)+40>>2],D=(R*+gD[j+280>>2]+v*+gD[j+284>>2]+P*+gD[j+288>>2])*+gD[j+548>>2],G=(R*+gD[j+296>>2]+v*+gD[j+300>>2]+P*+gD[j+304>>2])*+gD[j+552>>2],gD[g+(b*152|0)+80>>2]=(+gD[j+264>>2]*R+ +gD[j+268>>2]*v+ +gD[j+272>>2]*P)*+gD[j+544>>2],gD[g+(b*152|0)+84>>2]=D,gD[g+(b*152|0)+88>>2]=G,gD[g+(b*152|0)+92>>2]=0,G=+gD[h+344>>2],D=+gD[g+(b*152|0)+16>>2],R=+gD[g+(b*152|0)+20>>2],w=+gD[g+(b*152|0)+24>>2],A=+gD[g+(b*152|0)>>2],C=+gD[g+(b*152|0)+4>>2],E=+gD[g+(b*152|0)+8>>2],z=+gD[d+344>>2],T=+gD[g+(b*152|0)+48>>2],x=+gD[g+(b*152|0)+52>>2],S=+gD[g+(b*152|0)+56>>2],M=+gD[g+(b*152|0)+32>>2],P=D*G*D+R*G*R+w*G*w+(A*(+gD[h+264>>2]*A+ +gD[h+268>>2]*C+ +gD[h+272>>2]*E)+C*(A*+gD[h+280>>2]+C*+gD[h+284>>2]+E*+gD[h+288>>2])+E*(A*+gD[h+296>>2]+C*+gD[h+300>>2]+E*+gD[h+304>>2]))+(T*z*T+x*z*x+S*z*S)+(M*(+gD[d+264>>2]*M+ +gD[d+268>>2]*v+ +gD[d+272>>2]*P)+v*(M*+gD[d+280>>2]+v*+gD[d+284>>2]+P*+gD[d+288>>2])+P*(M*+gD[d+296>>2]+v*+gD[d+300>>2]+P*+gD[d+304>>2])),J=+ED(+P)>1.1920928955078125e-7?1/P:0,gD[g+(b*152|0)+108>>2]=J,(fD[u+(f*244|0)+240>>2]|0)==0?(z=0,B=0,V=0,L=0,k=0,H=0):(z=+gD[u+(f*244|0)+208>>2],B=+gD[u+(f*244|0)+212>>2],V=+gD[u+(f*244|0)+216>>2],L=+gD[u+(f*244|0)+224>>2],k=+gD[u+(f*244|0)+228>>2],H=+gD[u+(f*244|0)+232>>2]),(fD[u+(p*244|0)+240>>2]|0)==0?(G=0,F=0,N=0,P=0,O=0,I=0):(G=+gD[u+(p*244|0)+208>>2],F=+gD[u+(p*244|0)+212>>2],N=+gD[u+(p*244|0)+216>>2],P=+gD[u+(p*244|0)+224>>2],O=+gD[u+(p*244|0)+228>>2],I=+gD[u+(p*244|0)+232>>2]),gD[g+(b*152|0)+112>>2]=+gD[g+(b*152|0)+112>>2]*J+J*(0-+gD[l+52>>2]*((z+ +gD[h+312>>2])*D+(B+ +gD[h+316>>2])*R+(V+ +gD[h+320>>2])*w+((L+ +gD[h+328>>2])*A+(k+ +gD[h+332>>2])*C+(H+ +gD[h+336>>2])*E)+((G+ +gD[d+312>>2])*T+(F+ +gD[d+316>>2])*x+(N+ +gD[d+320>>2])*S+((P+ +gD[d+328>>2])*M+(O+ +gD[d+332>>2])*v+(I+ +gD[d+336>>2])*+gD[g+(b*152|0)+40>>2])))),gD[g+(b*152|0)+100>>2]=0,y=y+1|0;while((y|0)<(fD[e>>2]|0))}e=fD[t+176>>2]|0,h=e,e=fD[e+(c<<3)>>2]|0}if(c=c+1|0,(c|0)>=(a|0))break;i=e+i|0}if(GP[fD[(fD[t>>2]|0)+28>>2]&127](t,r,o,s),r=fD[t+48>>2]|0,n=fD[t+28>>2]|0,a=fD[t+68>>2]|0,i=fD[t+128>>2]|0,(i|0)<(r|0)?(fD[t+132>>2]|0)<(r|0):0){if((r|0)==0?o=0:(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),i=fD[t+128>>2]|0),(i|0)>0){c=0;do e=o+(c<<2)|0,(e|0)!=0&&(fD[e>>2]=fD[(fD[t+136>>2]|0)+(c<<2)>>2]),c=c+1|0;while((c|0)!=(i|0))}i=fD[t+136>>2]|0,(i|0)!=0&&((uD[t+140>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+136>>2]=0),uD[t+140>>0]=1,fD[t+136>>2]=o,fD[t+132>>2]=r}if(fD[t+128>>2]=r,(fD[s+64>>2]&16|0)==0){if(o=fD[t+108>>2]|0,(o|0)<(n|0)?(fD[t+112>>2]|0)<(n|0):0){if((n|0)==0?s=0:(fD[5004]=(fD[5004]|0)+1,s=Ew((n<<2|3)+16|0)|0,(s|0)==0?s=0:(fD[(s+19&-16)+-4>>2]=s,s=s+19&-16),o=fD[t+108>>2]|0),(o|0)>0){i=0;do c=s+(i<<2)|0,(c|0)!=0&&(fD[c>>2]=fD[(fD[t+116>>2]|0)+(i<<2)>>2]),i=i+1|0;while((i|0)!=(o|0))}o=fD[t+116>>2]|0,(o|0)!=0&&((uD[t+120>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[t+116>>2]=0),uD[t+120>>0]=1,fD[t+116>>2]=s,fD[t+112>>2]=n}fD[t+108>>2]=n}else{if(c=fD[t+108>>2]|0,(c|0)<(n<<1|0)?(fD[t+112>>2]|0)<(n<<1|0):0){if((n|0)==0?s=0:(fD[5004]=(fD[5004]|0)+1,s=Ew((n<<3|3)+16|0)|0,(s|0)==0?s=0:(fD[(s+19&-16)+-4>>2]=s,s=s+19&-16),c=fD[t+108>>2]|0),(c|0)>0){i=0;do o=s+(i<<2)|0,(o|0)!=0&&(fD[o>>2]=fD[(fD[t+116>>2]|0)+(i<<2)>>2]),i=i+1|0;while((i|0)!=(c|0))}o=fD[t+116>>2]|0,(o|0)!=0&&((uD[t+120>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[t+116>>2]=0),uD[t+120>>0]=1,fD[t+116>>2]=s,fD[t+112>>2]=n<<1}fD[t+108>>2]=n<<1}if(i=fD[t+148>>2]|0,(i|0)<(a|0)?(fD[t+152>>2]|0)<(a|0):0){if((a|0)==0?s=0:(fD[5004]=(fD[5004]|0)+1,s=Ew((a<<2|3)+16|0)|0,(s|0)==0?s=0:(fD[(s+19&-16)+-4>>2]=s,s=s+19&-16),i=fD[t+148>>2]|0),(i|0)>0){o=0;do c=s+(o<<2)|0,(c|0)!=0&&(fD[c>>2]=fD[(fD[t+156>>2]|0)+(o<<2)>>2]),o=o+1|0;while((o|0)!=(i|0))}o=fD[t+156>>2]|0,(o|0)!=0&&((uD[t+160>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[t+156>>2]=0),uD[t+160>>0]=1,fD[t+156>>2]=s,fD[t+152>>2]=a}if(fD[t+148>>2]=a,(r|0)>0){o=fD[t+136>>2]|0,s=0;do fD[o+(s<<2)>>2]=s,s=s+1|0;while((s|0)!=(r|0))}if((n|0)>0){s=fD[t+116>>2]|0,r=0;do fD[s+(r<<2)>>2]=r,r=r+1|0;while((r|0)!=(n|0))}if((a|0)>0){t=fD[t+156>>2]|0,s=0;do fD[t+(s<<2)>>2]=s,s=s+1|0;while((s|0)!=(a|0))}if(t=fD[5022]|0,j=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=j,(j|0)!=0)return bD=l,0;do if((fD[t+4>>2]|0)!=0){if($D(l+304|0,0)|0,j=fD[5008]|0,gD[t+8>>2]=+(((fD[l+308>>2]|0)-(fD[j+4>>2]|0)+(((fD[l+304>>2]|0)-(fD[j>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)==0){t=fD[5022]|0;break}return bD=l,0}while(0);return fD[5022]=fD[t+20>>2],bD=l,0}function Eu(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0;var h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0;if(n=bD,c=fD[t+48>>2]|0,i=fD[t+28>>2]|0,o=fD[t+68>>2]|0,(fD[l+64>>2]&1|0)!=0){if((c|0)>0){r=fD[t+136>>2]|0,u=fD[t+192>>2]|0,p=0;do f=r+(p<<2)|0,_=fD[f>>2]|0,p=p+1|0,u=(VD(u,1664525)|0)+1013904223|0,p>>>0<65537?(m=u>>>16^u,p>>>0<257&&(p>>>0<17?(m=(m>>>8^m)>>>4^(m>>>8^m),p>>>0<5&&(m=p>>>0<3?(m>>>2^m)>>>1^(m>>>2^m):m>>>2^m)):m=m>>>8^m)):m=u,m=r+(((m>>>0)%(p>>>0)|0)<<2)|0,fD[f>>2]=fD[m>>2],fD[m>>2]=_;while((p|0)!=(c|0));fD[t+192>>2]=u}if((fD[l+20>>2]|0)>(e|0)){if((i|0)>0){f=fD[t+116>>2]|0,p=fD[t+192>>2]|0,u=0;do r=f+(u<<2)|0,c=fD[r>>2]|0,u=u+1|0,p=(VD(p,1664525)|0)+1013904223|0,u>>>0<65537?(_=p>>>16^p,u>>>0<257&&(u>>>0<17?(_=(_>>>8^_)>>>4^(_>>>8^_),u>>>0<5&&(_=u>>>0<3?(_>>>2^_)>>>1^(_>>>2^_):_>>>2^_)):_=_>>>8^_)):_=p,m=f+(((_>>>0)%(u>>>0)|0)<<2)|0,fD[r>>2]=fD[m>>2],fD[m>>2]=c;while((u|0)!=(i|0));fD[t+192>>2]=p}if((o|0)>0){p=fD[t+156>>2]|0,u=fD[t+192>>2]|0,r=0;do c=p+(r<<2)|0,i=fD[c>>2]|0,r=r+1|0,u=(VD(u,1664525)|0)+1013904223|0,r>>>0<65537?(f=u>>>16^u,r>>>0<257&&(r>>>0<17?(f=(f>>>8^f)>>>4^(f>>>8^f),r>>>0<5&&(f=r>>>0<3?(f>>>2^f)>>>1^(f>>>2^f):f>>>2^f)):f=f>>>8^f)):f=u,m=p+(((f>>>0)%(r>>>0)|0)<<2)|0,fD[c>>2]=fD[m>>2],fD[m>>2]=i;while((r|0)!=(o|0));fD[t+192>>2]=u}}}if(r=fD[t+48>>2]|0,(fD[l+64>>2]&256|0)==0){if((r|0)>0){h=0;do o=fD[(fD[t+136>>2]|0)+(h<<2)>>2]|0,d=fD[t+56>>2]|0,(fD[d+(o*152|0)+136>>2]|0)>(e|0)&&(r=fD[t+16>>2]|0,Lb(r+((fD[d+(o*152|0)+144>>2]|0)*244|0)|0,r+((fD[d+(o*152|0)+148>>2]|0)*244|0)|0,d+(o*152|0)|0),r=fD[t+48>>2]|0),h=h+1|0;while((h|0)<(r|0))}if((fD[l+20>>2]|0)<=(e|0))return bD=n,0;if((s|0)>0){d=0;do h=a+(d<<2)|0,e=fD[h>>2]|0,(uD[e+20>>0]|0)!=0&&(f=Fb(t,fD[e+28>>2]|0,+gD[l+12>>2])|0,m=Fb(t,fD[(fD[h>>2]|0)+32>>2]|0,+gD[l+12>>2])|0,_=fD[t+16>>2]|0,p=fD[h>>2]|0,IP[fD[(fD[p>>2]|0)+24>>2]&15](p,_+(f*244|0)|0,_+(m*244|0)|0,+gD[l+12>>2])),d=d+1|0;while((d|0)!=(s|0))}if(l=fD[t+28>>2]|0,(l|0)>0){s=0;do m=fD[(fD[t+116>>2]|0)+(s<<2)>>2]|0,_=fD[t+36>>2]|0,f=fD[t+16>>2]|0,kb(f+((fD[_+(m*152|0)+144>>2]|0)*244|0)|0,f+((fD[_+(m*152|0)+148>>2]|0)*244|0)|0,_+(m*152|0)|0),s=s+1|0;while((s|0)!=(l|0))}if(l=fD[t+68>>2]|0,(l|0)>0){s=0;do a=fD[(fD[t+156>>2]|0)+(s<<2)>>2]|0,h=fD[t+76>>2]|0,g=+gD[(fD[t+36>>2]|0)+((fD[h+(a*152|0)+140>>2]|0)*152|0)+100>>2],g>0&&(g*=+gD[h+(a*152|0)+104>>2],gD[h+(a*152|0)+120>>2]=-g,gD[h+(a*152|0)+124>>2]=g,m=fD[t+16>>2]|0,Lb(m+((fD[h+(a*152|0)+144>>2]|0)*244|0)|0,m+((fD[h+(a*152|0)+148>>2]|0)*244|0)|0,h+(a*152|0)|0)),s=s+1|0;while((s|0)!=(l|0))}if(l=fD[t+88>>2]|0,(l|0)<=0)return bD=n,0;s=0;do a=fD[t+96>>2]|0,g=+gD[(fD[t+36>>2]|0)+((fD[a+(s*152|0)+140>>2]|0)*152|0)+100>>2],g>0&&(y=+gD[a+(s*152|0)+104>>2],g=g*y>y?y:g*y,gD[a+(s*152|0)+120>>2]=-g,gD[a+(s*152|0)+124>>2]=g,m=fD[t+16>>2]|0,Lb(m+((fD[a+(s*152|0)+144>>2]|0)*244|0)|0,m+((fD[a+(s*152|0)+148>>2]|0)*244|0)|0,a+(s*152|0)|0)),s=s+1|0;while((s|0)!=(l|0));return bD=n,0}if((r|0)>0){o=0;do c=fD[(fD[t+136>>2]|0)+(o<<2)>>2]|0,i=fD[t+56>>2]|0,(fD[i+(c*152|0)+136>>2]|0)>(e|0)&&(r=fD[t+16>>2]|0,Lb(r+((fD[i+(c*152|0)+144>>2]|0)*244|0)|0,r+((fD[i+(c*152|0)+148>>2]|0)*244|0)|0,i+(c*152|0)|0),r=fD[t+48>>2]|0),o=o+1|0;while((o|0)<(r|0))}if((fD[l+20>>2]|0)<=(e|0))return bD=n,0;if((s|0)>0){e=0;do i=a+(e<<2)|0,o=fD[i>>2]|0,(uD[o+20>>0]|0)!=0&&(f=Fb(t,fD[o+28>>2]|0,+gD[l+12>>2])|0,m=Fb(t,fD[(fD[i>>2]|0)+32>>2]|0,+gD[l+12>>2])|0,_=fD[t+16>>2]|0,p=fD[i>>2]|0,IP[fD[(fD[p>>2]|0)+24>>2]&15](p,_+(f*244|0)|0,_+(m*244|0)|0,+gD[l+12>>2])),e=e+1|0;while((e|0)!=(s|0))}if(c=fD[l+64>>2]|0,s=fD[t+28>>2]|0,(c&512|0)!=0){if((s|0)<=0)return bD=n,0;i=0;do o=fD[(fD[t+116>>2]|0)+(i<<2)>>2]|0,e=fD[t+36>>2]|0,a=fD[t+16>>2]|0,kb(a+((fD[e+(o*152|0)+144>>2]|0)*244|0)|0,a+((fD[e+(o*152|0)+148>>2]|0)*244|0)|0,e+(o*152|0)|0),g=+gD[e+(o*152|0)+100>>2],o=VD(i,(c>>>4&1)+1|0)|0,e=fD[(fD[t+156>>2]|0)+(o<<2)>>2]|0,a=fD[t+76>>2]|0,g>0&&(y=g*+gD[a+(e*152|0)+104>>2],gD[a+(e*152|0)+120>>2]=-y,gD[a+(e*152|0)+124>>2]=y,m=fD[t+16>>2]|0,Lb(m+((fD[a+(e*152|0)+144>>2]|0)*244|0)|0,m+((fD[a+(e*152|0)+148>>2]|0)*244|0)|0,a+(e*152|0)|0)),((fD[l+64>>2]&16|0)!=0?(h=fD[(fD[t+156>>2]|0)+(o+1<<2)>>2]|0,d=fD[t+76>>2]|0,g>0):0)&&(y=g*+gD[d+(h*152|0)+104>>2],gD[d+(h*152|0)+120>>2]=-y,gD[d+(h*152|0)+124>>2]=y,m=fD[t+16>>2]|0,Lb(m+((fD[d+(h*152|0)+144>>2]|0)*244|0)|0,m+((fD[d+(h*152|0)+148>>2]|0)*244|0)|0,d+(h*152|0)|0)),i=i+1|0;while((i|0)!=(s|0));return bD=n,0}if((s|0)>0){l=0;do m=fD[(fD[t+116>>2]|0)+(l<<2)>>2]|0,_=fD[t+36>>2]|0,f=fD[t+16>>2]|0,kb(f+((fD[_+(m*152|0)+144>>2]|0)*244|0)|0,f+((fD[_+(m*152|0)+148>>2]|0)*244|0)|0,_+(m*152|0)|0),l=l+1|0;while((l|0)!=(s|0))}if(l=fD[t+68>>2]|0,(l|0)>0){s=0;do a=fD[(fD[t+156>>2]|0)+(s<<2)>>2]|0,h=fD[t+76>>2]|0,g=+gD[(fD[t+36>>2]|0)+((fD[h+(a*152|0)+140>>2]|0)*152|0)+100>>2],g>0&&(y=g*+gD[h+(a*152|0)+104>>2],gD[h+(a*152|0)+120>>2]=-y,gD[h+(a*152|0)+124>>2]=y,m=fD[t+16>>2]|0,Lb(m+((fD[h+(a*152|0)+144>>2]|0)*244|0)|0,m+((fD[h+(a*152|0)+148>>2]|0)*244|0)|0,h+(a*152|0)|0)),s=s+1|0;while((s|0)!=(l|0))}if(a=fD[t+88>>2]|0,(a|0)<=0)return bD=n,0;s=0;do l=fD[t+96>>2]|0,g=+gD[(fD[t+36>>2]|0)+((fD[l+(s*152|0)+140>>2]|0)*152|0)+100>>2],g>0&&(y=+gD[l+(s*152|0)+104>>2],y=g*y>y?y:g*y,gD[l+(s*152|0)+120>>2]=-y,gD[l+(s*152|0)+124>>2]=y,m=fD[t+16>>2]|0,Lb(m+((fD[l+(s*152|0)+144>>2]|0)*244|0)|0,m+((fD[l+(s*152|0)+148>>2]|0)*244|0)|0,l+(s*152|0)|0)),s=s+1|0;while((s|0)!=(a|0));return bD=n,0}function Cu(t,e,i,r,o,n,a,s,l){if(t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,i=bD,(fD[s+44>>2]|0)==0)return void(bD=i);if(a=fD[s+20>>2]|0,(fD[s+64>>2]&256|0)==0){if((a|0)<=0)return void(bD=i);for(o=1;;){if(n=fD[t+28>>2]|0,(n|0)>0){a=0;do r=fD[(fD[t+116>>2]|0)+(a<<2)>>2]|0,e=fD[t+36>>2]|0,l=fD[t+16>>2]|0,Hb(l+((fD[e+(r*152|0)+144>>2]|0)*244|0)|0,l+((fD[e+(r*152|0)+148>>2]|0)*244|0)|0,e+(r*152|0)|0),a=a+1|0;while((a|0)!=(n|0));a=fD[s+20>>2]|0}if((o|0)>=(a|0))break;o=o+1|0}return void(bD=i)}if((a|0)<=0)return void(bD=i);for(o=1;;){if(n=fD[t+28>>2]|0,(n|0)>0){a=0;do r=fD[(fD[t+116>>2]|0)+(a<<2)>>2]|0,e=fD[t+36>>2]|0,l=fD[t+16>>2]|0,Hb(l+((fD[e+(r*152|0)+144>>2]|0)*244|0)|0,l+((fD[e+(r*152|0)+148>>2]|0)*244|0)|0,e+(r*152|0)|0),a=a+1|0;while((a|0)!=(n|0));a=fD[s+20>>2]|0}if((o|0)>=(a|0))break;o=o+1|0}return void(bD=i)}function Au(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0;var c=0,h=0,d=0;if(c=bD,bD=bD+16|0,Gx(4112),EP[fD[(fD[t>>2]|0)+32>>2]&1](t,e,i,r,o,n,a,s,l),d=fD[t+184>>2]|0,h=fD[s+20>>2]|0,h=(d|0)>(h|0)?d:h,(h|0)>0){d=0;do+RP[fD[(fD[t>>2]|0)+40>>2]&3](t,d,e,i,r,o,n,a,s,l),d=d+1|0;while((d|0)<(h|0))}if(n=fD[5022]|0,d=(fD[n+16>>2]|0)+-1|0,fD[n+16>>2]=d,(d|0)!=0)return bD=c,0;do if((fD[n+4>>2]|0)!=0){if($D(c|0,0)|0,d=fD[5008]|0,gD[n+8>>2]=+(((fD[c+4>>2]|0)-(fD[d+4>>2]|0)+(((fD[c>>2]|0)-(fD[d>>2]|0)|0)*1e6|0)-(fD[n+12>>2]|0)|0)>>>0)/1e3+ +gD[n+8>>2],(fD[n+16>>2]|0)==0){n=fD[5022]|0;break}return bD=c,0}while(0);return fD[5022]=fD[n+20>>2],bD=c,0}function wu(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0;if(e=bD,bD=bD+80|0,n=fD[t+28>>2]|0,s=fD[r+64>>2]|0,(s&4|0)!=0&(n|0)>0)if(i=fD[t+36>>2]|0,a=fD[t+76>>2]|0,(s&16|0)==0){s=0;do u=fD[i+(s*152|0)+132>>2]|0,gD[u+120>>2]=+gD[i+(s*152|0)+100>>2],gD[u+124>>2]=+gD[a+((fD[i+(s*152|0)+140>>2]|0)*152|0)+100>>2],s=s+1|0;while((s|0)!=(n|0))}else{s=0;do u=fD[i+(s*152|0)+132>>2]|0,gD[u+120>>2]=+gD[i+(s*152|0)+100>>2],d=fD[i+(s*152|0)+140>>2]|0,gD[u+124>>2]=+gD[a+(d*152|0)+100>>2],gD[u+128>>2]=+gD[a+((d+1|0)*152|0)+100>>2],s=s+1|0;while((s|0)!=(n|0))}if(n=fD[t+48>>2]|0,(n|0)>0){a=0;do i=fD[t+56>>2]|0,s=fD[i+(a*152|0)+132>>2]|0,u=fD[s+44>>2]|0,d=i+(a*152|0)+100|0,(u|0)!=0&&(h=+gD[d>>2],f=fD[s+28>>2]|0,c=1/+gD[r+12>>2],l=h*+gD[i+(a*152|0)+20>>2]*+gD[f+352>>2]*c,p=h*+gD[i+(a*152|0)+24>>2]*+gD[f+356>>2]*c,gD[u>>2]=+gD[i+(a*152|0)+16>>2]*h*+gD[f+348>>2]*c+ +gD[u>>2],gD[u+4>>2]=l+ +gD[u+4>>2],gD[u+8>>2]=p+ +gD[u+8>>2],p=+gD[d>>2],f=fD[s+32>>2]|0,l=1/+gD[r+12>>2],c=p*+gD[i+(a*152|0)+52>>2]*+gD[f+352>>2]*l,h=p*+gD[i+(a*152|0)+56>>2]*+gD[f+356>>2]*l,gD[u+32>>2]=+gD[i+(a*152|0)+48>>2]*p*+gD[f+348>>2]*l+ +gD[u+32>>2],gD[u+36>>2]=c+ +gD[u+36>>2],gD[u+40>>2]=h+ +gD[u+40>>2],f=fD[s+28>>2]|0,h=+gD[d>>2],c=1/+gD[r+12>>2],l=+gD[i+(a*152|0)+4>>2]*+gD[f+548>>2]*h*c,p=h*+gD[i+(a*152|0)+8>>2]*+gD[f+552>>2]*c,gD[u+16>>2]=+gD[i+(a*152|0)>>2]*+gD[f+544>>2]*h*c+ +gD[u+16>>2],gD[u+20>>2]=l+ +gD[u+20>>2],gD[u+24>>2]=p+ +gD[u+24>>2],f=fD[s+32>>2]|0,p=+gD[d>>2],l=1/+gD[r+12>>2],c=+gD[i+(a*152|0)+36>>2]*+gD[f+548>>2]*p*l,h=p*+gD[i+(a*152|0)+40>>2]*+gD[f+552>>2]*l,gD[u+48>>2]=+gD[i+(a*152|0)+32>>2]*+gD[f+544>>2]*p*l+ +gD[u+48>>2],gD[u+52>>2]=c+ +gD[u+52>>2],gD[u+56>>2]=h+ +gD[u+56>>2]),gD[s+36>>2]=+gD[d>>2],p=+ED(+ +gD[d>>2]),p>=+gD[s+16>>2]&&(uD[s+20>>0]=0),a=a+1|0;
while((a|0)!=(n|0))}if(d=fD[t+8>>2]|0,(d|0)>0){n=fD[t+16>>2]|0,i=0;do a=n+(i*244|0)|0,s=fD[n+(i*244|0)+240>>2]|0,(s|0)!=0&&((fD[r+44>>2]|0)==0?(f=n+(i*244|0)+176|0,h=+gD[n+(i*244|0)+64>>2]+ +gD[f>>2],gD[f>>2]=h,f=n+(i*244|0)+180|0,c=+gD[n+(i*244|0)+68>>2]+ +gD[f>>2],gD[f>>2]=c,f=n+(i*244|0)+184|0,l=+gD[n+(i*244|0)+72>>2]+ +gD[f>>2],gD[f>>2]=l,f=n+(i*244|0)+192|0,gD[f>>2]=+gD[n+(i*244|0)+80>>2]+ +gD[f>>2],f=n+(i*244|0)+196|0,gD[f>>2]=+gD[n+(i*244|0)+84>>2]+ +gD[f>>2],f=n+(i*244|0)+200|0,gD[f>>2]=+gD[n+(i*244|0)+88>>2]+ +gD[f>>2]):(c=+gD[r+12>>2],l=+gD[r+52>>2],s=n+(i*244|0)+176|0,gD[s>>2]=+gD[n+(i*244|0)+64>>2]+ +gD[s>>2],s=n+(i*244|0)+180|0,gD[s>>2]=+gD[n+(i*244|0)+68>>2]+ +gD[s>>2],s=n+(i*244|0)+184|0,gD[s>>2]=+gD[n+(i*244|0)+72>>2]+ +gD[s>>2],s=n+(i*244|0)+192|0,gD[s>>2]=+gD[n+(i*244|0)+80>>2]+ +gD[s>>2],s=n+(i*244|0)+196|0,gD[s>>2]=+gD[n+(i*244|0)+84>>2]+ +gD[s>>2],s=n+(i*244|0)+200|0,gD[s>>2]=+gD[n+(i*244|0)+88>>2]+ +gD[s>>2],s=n+(i*244|0)+144|0,d=n+(i*244|0)+148|0,(((((+gD[s>>2]==0?+gD[d>>2]==0:0)?+gD[n+(i*244|0)+152>>2]==0:0)?+gD[n+(i*244|0)+160>>2]==0:0)?+gD[n+(i*244|0)+164>>2]==0:0)?+gD[n+(i*244|0)+168>>2]==0:0)?a=n:o=22,(o|0)==22&&(o=0,h=+gD[n+(i*244|0)+164>>2]*l,p=+gD[n+(i*244|0)+168>>2]*l,gD[e>>2]=+gD[n+(i*244|0)+160>>2]*l,gD[e+4>>2]=h,gD[e+8>>2]=p,gD[e+12>>2]=0,qd(a,+gD[s>>2],+gD[d>>2],+gD[n+(i*244|0)+152>>2],e,c,e+16|0),fD[a+0>>2]=fD[e+16>>2],fD[a+4>>2]=fD[e+20>>2],fD[a+8>>2]=fD[e+24>>2],fD[a+12>>2]=fD[e+28>>2],a=n+(i*244|0)+16|0,fD[a+0>>2]=fD[e+32>>2],fD[a+4>>2]=fD[e+36>>2],fD[a+8>>2]=fD[e+40>>2],fD[a+12>>2]=fD[e+44>>2],a=n+(i*244|0)+32|0,fD[a+0>>2]=fD[e+48>>2],fD[a+4>>2]=fD[e+52>>2],fD[a+8>>2]=fD[e+56>>2],fD[a+12>>2]=fD[e+60>>2],a=n+(i*244|0)+48|0,fD[a+0>>2]=fD[e+64>>2],fD[a+4>>2]=fD[e+68>>2],fD[a+8>>2]=fD[e+72>>2],fD[a+12>>2]=fD[e+76>>2],a=fD[t+16>>2]|0),n=a,h=+gD[a+(i*244|0)+176>>2],c=+gD[a+(i*244|0)+180>>2],l=+gD[a+(i*244|0)+184>>2],s=fD[a+(i*244|0)+240>>2]|0),p=h+ +gD[n+(i*244|0)+208>>2],h=c+ +gD[n+(i*244|0)+212>>2],c=l+ +gD[n+(i*244|0)+216>>2],u=s+260|0,fD[u>>2]=(fD[u>>2]|0)+1,gD[s+312>>2]=p,gD[s+316>>2]=h,gD[s+320>>2]=c,gD[s+324>>2]=0,u=fD[t+16>>2]|0,f=fD[u+(i*244|0)+240>>2]|0,c=+gD[u+(i*244|0)+192>>2]+ +gD[u+(i*244|0)+224>>2],h=+gD[u+(i*244|0)+196>>2]+ +gD[u+(i*244|0)+228>>2],p=+gD[u+(i*244|0)+200>>2]+ +gD[u+(i*244|0)+232>>2],fD[f+260>>2]=(fD[f+260>>2]|0)+1,gD[f+328>>2]=c,gD[f+332>>2]=h,gD[f+336>>2]=p,gD[f+340>>2]=0,(fD[r+44>>2]|0)!=0&&(u=fD[t+16>>2]|0,f=fD[u+(i*244|0)+240>>2]|0,d=u+(i*244|0)|0,fD[f+260>>2]=(fD[f+260>>2]|0)+1,fD[f+4>>2]=fD[d+0>>2],fD[f+8>>2]=fD[d+4>>2],fD[f+12>>2]=fD[d+8>>2],fD[f+16>>2]=fD[d+12>>2],d=u+(i*244|0)+16|0,fD[f+20>>2]=fD[d+0>>2],fD[f+24>>2]=fD[d+4>>2],fD[f+28>>2]=fD[d+8>>2],fD[f+32>>2]=fD[d+12>>2],d=u+(i*244|0)+32|0,fD[f+36>>2]=fD[d+0>>2],fD[f+40>>2]=fD[d+4>>2],fD[f+44>>2]=fD[d+8>>2],fD[f+48>>2]=fD[d+12>>2],u=u+(i*244|0)+48|0,fD[f+52>>2]=fD[u+0>>2],fD[f+56>>2]=fD[u+4>>2],fD[f+60>>2]=fD[u+8>>2],fD[f+64>>2]=fD[u+12>>2]),n=fD[t+16>>2]|0,fD[(fD[n+(i*244|0)+240>>2]|0)+212>>2]=-1,d=fD[t+8>>2]|0),i=i+1|0;while((i|0)<(d|0))}return((fD[t+28>>2]|0)<0?(fD[t+32>>2]|0)<0:0)&&(r=fD[t+36>>2]|0,(r|0)!=0&&((uD[t+40>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[t+36>>2]=0),uD[t+40>>0]=1,fD[t+36>>2]=0,fD[t+32>>2]=0),fD[t+28>>2]=0,((fD[t+48>>2]|0)<0?(fD[t+52>>2]|0)<0:0)&&(r=fD[t+56>>2]|0,(r|0)!=0&&((uD[t+60>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[t+56>>2]=0),uD[t+60>>0]=1,fD[t+56>>2]=0,fD[t+52>>2]=0),fD[t+48>>2]=0,((fD[t+68>>2]|0)<0?(fD[t+72>>2]|0)<0:0)&&(r=fD[t+76>>2]|0,(r|0)!=0&&((uD[t+80>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[t+76>>2]=0),uD[t+80>>0]=1,fD[t+76>>2]=0,fD[t+72>>2]=0),fD[t+68>>2]=0,((fD[t+88>>2]|0)<0?(fD[t+92>>2]|0)<0:0)&&(r=fD[t+96>>2]|0,(r|0)!=0&&((uD[t+100>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[t+96>>2]=0),uD[t+100>>0]=1,fD[t+96>>2]=0,fD[t+92>>2]=0),fD[t+88>>2]=0,(fD[t+8>>2]|0)>=0?(fD[t+8>>2]=0,bD=e,0):(fD[t+12>>2]|0)>=0?(fD[t+8>>2]=0,bD=e,0):(r=fD[t+16>>2]|0,(r|0)!=0&&((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[t+16>>2]=0),uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+12>>2]=0,fD[t+8>>2]=0,bD=e,0)}function Ru(t,e,i,r,o,n,a,s,l,c){if(t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,c=bD,bD=bD+16|0,Gx(4152),+PP[fD[(fD[t>>2]|0)+44>>2]&3](t,e,i,r,o,n,a,s,l),+PP[fD[(fD[t>>2]|0)+48>>2]&3](t,e,i,r,o,n,a,s,l),+kP[fD[(fD[t>>2]|0)+36>>2]&1](t,e,i,s),a=fD[5022]|0,r=(fD[a+16>>2]|0)+-1|0,fD[a+16>>2]=r,(r|0)!=0)return bD=c,0;do if((fD[a+4>>2]|0)!=0){if($D(c|0,0)|0,r=fD[5008]|0,gD[a+8>>2]=+(((fD[c+4>>2]|0)-(fD[r+4>>2]|0)+(((fD[c>>2]|0)-(fD[r>>2]|0)|0)*1e6|0)-(fD[a+12>>2]|0)|0)>>>0)/1e3+ +gD[a+8>>2],(fD[a+16>>2]|0)==0){a=fD[5022]|0;break}return bD=c,0}while(0);return fD[5022]=fD[a+20>>2],bD=c,0}function Du(t){t|=0,fD[t+192>>2]=0}function Pu(t,e,i){t|=0,e|=0,i|=0}function Bu(t,e,i){t|=0,e|=0,i|=0}function Vu(t){return t|=0,1}function Lu(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0;return r=bD,bD=bD+256|0,((uD[t+180>>0]|0)==0?(uD[t+48>>0]|0)!=0:0)?(Ld(r+64|0,i,t+116|0),fD[t+824>>2]=fD[r+64>>2],fD[t+828>>2]=fD[r+68>>2],fD[t+832>>2]=fD[r+72>>2],fD[t+836>>2]=fD[r+76>>2],fD[t+840>>2]=fD[r+80>>2],fD[t+844>>2]=fD[r+84>>2],fD[t+848>>2]=fD[r+88>>2],fD[t+852>>2]=fD[r+92>>2],fD[t+856>>2]=fD[r+96>>2],fD[t+860>>2]=fD[r+100>>2],fD[t+864>>2]=fD[r+104>>2],fD[t+868>>2]=fD[r+108>>2],fD[t+872>>2]=fD[r+112>>2],fD[t+876>>2]=fD[r+116>>2],fD[t+880>>2]=fD[r+120>>2],fD[t+884>>2]=fD[r+124>>2],Ld(r,e,t+52|0),fD[t+888>>2]=fD[r+0>>2],fD[t+892>>2]=fD[r+4>>2],fD[t+896>>2]=fD[r+8>>2],fD[t+900>>2]=fD[r+12>>2],fD[t+904>>2]=fD[r+16>>2],fD[t+908>>2]=fD[r+20>>2],fD[t+912>>2]=fD[r+24>>2],fD[t+916>>2]=fD[r+28>>2],fD[t+920>>2]=fD[r+32>>2],fD[t+924>>2]=fD[r+36>>2],fD[t+928>>2]=fD[r+40>>2],fD[t+932>>2]=fD[r+44>>2],fD[t+936>>2]=fD[r+48>>2],fD[t+940>>2]=fD[r+52>>2],fD[t+944>>2]=fD[r+56>>2],fD[t+948>>2]=fD[r+60>>2]):(Ld(r+192|0,e,t+52|0),fD[t+824>>2]=fD[r+192>>2],fD[t+828>>2]=fD[r+196>>2],fD[t+832>>2]=fD[r+200>>2],fD[t+836>>2]=fD[r+204>>2],fD[t+840>>2]=fD[r+208>>2],fD[t+844>>2]=fD[r+212>>2],fD[t+848>>2]=fD[r+216>>2],fD[t+852>>2]=fD[r+220>>2],fD[t+856>>2]=fD[r+224>>2],fD[t+860>>2]=fD[r+228>>2],fD[t+864>>2]=fD[r+232>>2],fD[t+868>>2]=fD[r+236>>2],fD[t+872>>2]=fD[r+240>>2],fD[t+876>>2]=fD[r+244>>2],fD[t+880>>2]=fD[r+248>>2],fD[t+884>>2]=fD[r+252>>2],Ld(r+128|0,i,t+116|0),fD[t+888>>2]=fD[r+128>>2],fD[t+892>>2]=fD[r+132>>2],fD[t+896>>2]=fD[r+136>>2],fD[t+900>>2]=fD[r+140>>2],fD[t+904>>2]=fD[r+144>>2],fD[t+908>>2]=fD[r+148>>2],fD[t+912>>2]=fD[r+152>>2],fD[t+916>>2]=fD[r+156>>2],fD[t+920>>2]=fD[r+160>>2],fD[t+924>>2]=fD[r+164>>2],fD[t+928>>2]=fD[r+168>>2],fD[t+932>>2]=fD[r+172>>2],fD[t+936>>2]=fD[r+176>>2],fD[t+940>>2]=fD[r+180>>2],fD[t+944>>2]=fD[r+184>>2],fD[t+948>>2]=fD[r+188>>2]),fD[t+968>>2]=fD[t+872>>2],fD[t+972>>2]=fD[t+876>>2],fD[t+976>>2]=fD[t+880>>2],fD[t+980>>2]=fD[t+884>>2],fD[t+984>>2]=fD[t+936>>2],fD[t+988>>2]=fD[t+940>>2],fD[t+992>>2]=fD[t+944>>2],fD[t+996>>2]=fD[t+948>>2],a=+gD[t+824>>2],n=+gD[t+840>>2],o=+gD[t+856>>2],gD[t+952>>2]=a,gD[t+956>>2]=n,gD[t+960>>2]=o,gD[t+964>>2]=0,((uD[t+180>>0]|0)==0?(uD[t+48>>0]|0)==0:0)?(_=+gD[t+968>>2],c=_-+gD[t+984>>2],p=+gD[t+972>>2],l=p-+gD[t+988>>2],u=+gD[t+976>>2],s=u-+gD[t+992>>2],gD[t+1016>>2]=c,gD[t+1020>>2]=l,gD[t+1024>>2]=s,gD[t+1028>>2]=0,d=a*c,f=n*l,f=d+f,d=o*s,d=f+d,f=a*d,n*=d,a=o*d,o=_+f,n=p+n,a=u+a,e=t+1e3|0,gD[e>>2]=o,e=t+1004|0,gD[e>>2]=n,e=t+1008|0,gD[e>>2]=a,e=t+1012|0,gD[e>>2]=0,e=t+1032|0,gD[e>>2]=d,e=t+828|0,i=t+844|0,h=t+860|0,a=+gD[e>>2],n=+gD[i>>2],o=+gD[h>>2],a*=c,n*=l,n=a+n,o*=s,o=n+o,h=t+1036|0,gD[h>>2]=o,h=t+832|0,i=t+848|0,e=t+864|0,o=+gD[h>>2],n=+gD[i>>2],a=+gD[e>>2],o*=c,n*=l,n=o+n,a*=s,a=n+a,e=t+1040|0,gD[e>>2]=a,void(bD=r)):(g=+gD[t+968>>2],u=+gD[t+984>>2]-g,m=+gD[t+972>>2],f=+gD[t+988>>2]-m,s=+gD[t+976>>2],_=+gD[t+992>>2]-s,gD[t+1016>>2]=u,gD[t+1020>>2]=f,gD[t+1024>>2]=_,gD[t+1028>>2]=0,p=a*u,l=n*f,l=p+l,p=o*_,p=l+p,l=a*p,c=n*p,d=o*p,l=g+l,c=m+c,d=s+d,h=t+1e3|0,gD[h>>2]=l,h=t+1004|0,gD[h>>2]=c,h=t+1008|0,gD[h>>2]=d,h=t+1012|0,gD[h>>2]=0,h=t+1032|0,gD[h>>2]=p,h=t+828|0,e=t+844|0,i=t+860|0,p=+gD[h>>2],d=+gD[e>>2],c=+gD[i>>2],p*=u,d*=f,d=p+d,c*=_,c=d+c,i=t+1036|0,gD[i>>2]=c,i=t+832|0,e=t+848|0,h=t+864|0,c=+gD[i>>2],d=+gD[e>>2],p=+gD[h>>2],u=c*u,f=d*f,f=u+f,_=p*_,_=f+_,h=t+1040|0,gD[h>>2]=_,void(bD=r))}function ku(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(i=bD,(uD[t+48>>0]|0)!=0)return fD[e>>2]=0,fD[e+4>>2]=0,void(bD=i);fD[e>>2]=4,fD[e+4>>2]=2,Lu(t,(fD[t+28>>2]|0)+4|0,(fD[t+32>>2]|0)+4|0),gD[t+1088>>2]=0,uD[t+297>>0]=0,r=+gD[t+192>>2],o=+gD[t+196>>2];do if(r<=o){if(l=+gD[t+892>>2],s=+gD[t+908>>2],n=+gD[t+924>>2],r=+cy(+BD(+(+gD[t+832>>2]*l+ +gD[t+848>>2]*s+ +gD[t+864>>2]*n),+(+gD[t+828>>2]*l+ +gD[t+844>>2]*s+ +gD[t+860>>2]*n)),r,o),gD[t+1084>>2]=r,o=+gD[t+192>>2],r<o){gD[t+1088>>2]=r-o,uD[t+297>>0]=1;break}o=+gD[t+196>>2],r>o&&(gD[t+1088>>2]=r-o,uD[t+297>>0]=1)}while(0);uD[t+296>>0]=0,o=+gD[t+1032>>2],gD[t+1080>>2]=o,r=+gD[t+184>>2],n=+gD[t+188>>2];do if(r<=n){if(o>n){gD[t+1032>>2]=o-n,uD[t+296>>0]=1,a=14;break}o<r?(gD[t+1032>>2]=o-r,uD[t+296>>0]=1,a=14):a=13}else a=13;while(0);return((a|0)==13?(gD[t+1032>>2]=0,(uD[t+1096>>0]|0)!=0):0)&&(a=14),(a|0)==14&&(fD[e>>2]=(fD[e>>2]|0)+1,fD[e+4>>2]=(fD[e+4>>2]|0)+-1),((uD[t+297>>0]|0)==0?(uD[t+1112>>0]|0)==0:0)?void(bD=i):(fD[e>>2]=(fD[e>>2]|0)+1,fD[e+4>>2]=(fD[e+4>>2]|0)+-1,void(bD=i))}function Hu(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0;i=bD,s=fD[t+28>>2]|0,l=fD[t+32>>2]|0,r=+gD[s+344>>2],o=+gD[l+344>>2],m=fD[e+24>>2]|0,a=(uD[t+180>>0]|0)!=0?1:-1,p=+gD[t+936>>2]-+gD[t+872>>2],f=+gD[t+940>>2]-+gD[t+876>>2],_=+gD[t+944>>2]-+gD[t+880>>2],h=r<1.1920928955078125e-7?1:o<1.1920928955078125e-7,u=r+o>0?o/(r+o):.5,d=1-u,D=+gD[t+824>>2],E=+gD[t+840>>2],M=+gD[t+856>>2],L=+gD[t+888>>2],H=+gD[t+904>>2],x=+gD[t+920>>2],w=(uD[t+49>>0]|0)==0;do{if(!w){if(T=u*D+d*L,V=u*E+d*H,P=u*M+d*x,C=1/+CD(+(T*T+V*V+P*P)),+ED(+(P*C))>.7071067690849304){J=1/+CD(+(P*C*P*C+V*C*V*C)),r=T*C,o=V*C,n=P*C,v=0,S=-(P*C*J),A=V*C*J,B=(P*C*P*C+V*C*V*C)*J,O=-(T*C*V*C*J),J=T*C*-(P*C*J);break}J=1/+CD(+(T*C*T*C+V*C*V*C)),r=T*C,o=V*C,n=P*C,v=-(V*C*J),S=T*C*J,A=0,B=-(P*C*T*C*J),O=P*C*-(V*C*J),J=(T*C*T*C+V*C*V*C)*J;break}r=D,o=E,n=M,v=+gD[t+828>>2],S=+gD[t+844>>2],A=+gD[t+860>>2],B=+gD[t+832>>2],O=+gD[t+848>>2],J=+gD[t+864>>2]}while(0);if(y=fD[e+12>>2]|0,gD[y>>2]=v,gD[y+4>>2]=S,gD[y+8>>2]=A,gD[y+(m<<2)>>2]=B,gD[y+(m+1<<2)>>2]=O,gD[y+(m+2<<2)>>2]=J,C=-v,b=fD[e+20>>2]|0,gD[b>>2]=C,V=-S,gD[b+4>>2]=V,k=-A,gD[b+8>>2]=k,T=-B,gD[b+(m<<2)>>2]=T,I=-O,gD[b+(m+1<<2)>>2]=I,P=-J,gD[b+(m+2<<2)>>2]=P,g=fD[t+300>>2]|0,N=+gD[t+280>>2],(g&128|0)==0&&(N*=+gD[e+4>>2]),W=N*+gD[e>>2],X=fD[e+28>>2]|0,gD[X>>2]=W*((E*x-M*H)*v+(M*L-D*x)*S+(D*H-E*L)*A),gD[X+(m<<2)>>2]=W*((E*x-M*H)*B+(M*L-D*x)*O+(D*H-E*L)*J),(g&64|0)!=0&&(X=fD[e+32>>2]|0,gD[X>>2]=+gD[t+292>>2],gD[X+(m<<2)>>2]=+gD[t+292>>2]),D=+gD[s+52>>2],H=+gD[s+56>>2],L=+gD[s+60>>2],M=+gD[l+52>>2],E=+gD[l+56>>2],x=+gD[l+60>>2],w?(W=(E-H)*A-(x-L)*S,U=(x-L)*v-(M-D)*A,j=(M-D)*S-(E-H)*v,gD[y+(m<<1<<2)>>2]=u*W,gD[y+((m<<1|1)<<2)>>2]=u*U,gD[y+((m<<1)+2<<2)>>2]=u*j,gD[b+(m<<1<<2)>>2]=d*W,gD[b+((m<<1|1)<<2)>>2]=d*U,gD[b+((m<<1)+2<<2)>>2]=d*j,j=(E-H)*J-(x-L)*O,U=(x-L)*B-(M-D)*J,W=(M-D)*O-(E-H)*B,gD[y+(m*3<<2)>>2]=u*j,gD[y+((m*3|0)+1<<2)>>2]=u*U,gD[y+((m*3|0)+2<<2)>>2]=u*W,gD[b+(m*3<<2)>>2]=d*j,gD[b+((m*3|0)+1<<2)>>2]=d*U,gD[b+((m*3|0)+2<<2)>>2]=d*W,R=fD[e+8>>2]|0,gD[R+(m<<1<<2)>>2]=v,gD[R+((m<<1|1)<<2)>>2]=S,gD[R+((m<<1)+2<<2)>>2]=A,gD[R+(m*3<<2)>>2]=B,gD[R+((m*3|0)+1<<2)>>2]=O,gD[R+((m*3|0)+2<<2)>>2]=J,w=fD[e+16>>2]|0,gD[w+(m<<1<<2)>>2]=C,gD[w+((m<<1|1)<<2)>>2]=V,gD[w+((m<<1)+2<<2)>>2]=k,gD[w+(m*3<<2)>>2]=T,gD[w+((m*3|0)+1<<2)>>2]=I,gD[w+((m*3|0)+2<<2)>>2]=P,V=0,k=0,I=0,T=0,C=0,P=0,E-=H,x-=L,M-=D):(M=+gD[t+936>>2]-M,T=+gD[t+940>>2]-E,E=+gD[t+944>>2]-x,C=r*M+o*T+n*E,x=r*C,P=o*C,C=n*C,j=+gD[t+872>>2]-D,U=+gD[t+876>>2]-H,W=+gD[t+880>>2]-L,A=r*j+o*U+n*W,v=r*A,S=o*A,A=n*A,L=+gD[t+1080>>2]-+gD[t+1032>>2],D=v+r*L-x,H=S+o*L-P,L=A+n*L-C,I=j-v+u*D,V=U-S+u*H,k=W-A+u*L,v=u*(M-x)+d*(j-v),S=u*(T-P)+d*(U-S),A=u*(E-C)+d*(W-A),v*v+S*S+A*A>1.1920928955078125e-7?(W=1/+CD(+(v*v+S*S+A*A)),v*=W,S=W*S,A=W*A):(v=+gD[t+828>>2],S=+gD[t+844>>2],A=+gD[t+860>>2]),B=o*A-n*S,O=n*v-r*A,J=r*S-o*v,gD[y+(m<<1<<2)>>2]=V*A-k*S,gD[y+((m<<1|1)<<2)>>2]=k*v-I*A,gD[y+((m<<1)+2<<2)>>2]=I*S-V*v,X=fD[e+20>>2]|0,gD[X+(m<<1<<2)>>2]=-((T-P-d*H)*A-(E-C-d*L)*S),gD[X+((m<<1|1)<<2)>>2]=-((E-C-d*L)*v-(M-x-d*D)*A),gD[X+((m<<1)+2<<2)>>2]=-((M-x-d*D)*S-(T-P-d*H)*v),N=(T-P-d*H)*J-(E-C-d*L)*O,G=(E-C-d*L)*B-(M-x-d*D)*J,W=(M-x-d*D)*O-(T-P-d*H)*B,(h?(uD[t+297>>0]|0)!=0:0)?(N=d*N,G=d*G,W=d*W,U=u*(V*J-k*O),z=u*(k*B-I*J),j=u*(I*O-V*B)):(U=V*J-k*O,z=k*B-I*J,j=I*O-V*B),b=fD[e+12>>2]|0,gD[b+(m*3<<2)>>2]=U,gD[b+((m*3|0)+1<<2)>>2]=z,gD[b+((m*3|0)+2<<2)>>2]=j,b=fD[e+20>>2]|0,gD[b+(m*3<<2)>>2]=-N,gD[b+((m*3|0)+1<<2)>>2]=-G,gD[b+((m*3|0)+2<<2)>>2]=-W,R=fD[e+8>>2]|0,gD[R+(m<<1<<2)>>2]=v,gD[R+((m<<1|1)<<2)>>2]=S,gD[R+((m<<1)+2<<2)>>2]=A,gD[R+(m*3<<2)>>2]=B,gD[R+((m*3|0)+1<<2)>>2]=O,gD[R+((m*3|0)+2<<2)>>2]=J,w=fD[e+16>>2]|0,gD[w+(m<<1<<2)>>2]=-v,gD[w+((m<<1|1)<<2)>>2]=-S,gD[w+((m<<1)+2<<2)>>2]=-A,gD[w+(m*3<<2)>>2]=-B,gD[w+((m*3|0)+1<<2)>>2]=-O,gD[w+((m*3|0)+2<<2)>>2]=-J,g=fD[t+300>>2]|0,T=T-P-d*H,C=E-C-d*L,P=M-x-d*D,E=0,x=0,M=0),D=+gD[t+264>>2],(g&32|0)==0&&(D*=+gD[e+4>>2]),W=D*+gD[e>>2],y=fD[e+28>>2]|0,gD[y+(m<<1<<2)>>2]=W*(p*v+f*S+_*A),gD[y+(m*3<<2)>>2]=W*(p*B+f*O+_*J),(g&16|0)!=0&&(X=fD[e+32>>2]|0,gD[X+(m<<1<<2)>>2]=+gD[t+276>>2],gD[X+(m*3<<2)>>2]=+gD[t+276>>2]),(uD[t+296>>0]|0)==0?(uD[t+1096>>0]|0)==0?l=4:(F=0,X=0,m=0,p=0,c=30):(p=a*+gD[t+1032>>2],F=1,X=(uD[t+1096>>0]|0)==0,m=p>0?2:1,c=30),(c|0)==30){if(c=fD[e+24>>2]<<2,gD[R+(c<<2)>>2]=r,gD[R+((c|1)<<2)>>2]=o,gD[R+((c|2)<<2)>>2]=n,gD[w+(c<<2)>>2]=-r,gD[w+((c|1)<<2)>>2]=-o,gD[w+((c|2)<<2)>>2]=-n,(uD[t+49>>0]|0)!=0?h||(R=fD[e+12>>2]|0,gD[R+(c<<2)>>2]=n*V-o*k,gD[R+((c|1)<<2)>>2]=r*k-n*I,gD[R+((c|2)<<2)>>2]=o*I-r*V,gD[b+(c<<2)>>2]=-(n*T-o*C),gD[b+((c|1)<<2)>>2]=-(r*C-n*P),gD[b+((c|2)<<2)>>2]=-(o*P-r*T)):(j=n*E-o*x,U=r*x-n*M,W=o*M-r*E,R=fD[e+12>>2]|0,gD[R+(c<<2)>>2]=u*j,gD[R+((c|1)<<2)>>2]=u*U,gD[R+((c|2)<<2)>>2]=u*W,gD[b+(c<<2)>>2]=d*j,gD[b+((c|1)<<2)>>2]=d*U,gD[b+((c|2)<<2)>>2]=d*W),w=+gD[t+184>>2]==+gD[t+188>>2],gD[y+(c<<2)>>2]=0,h=(fD[e+36>>2]|0)+(c<<2)|0,gD[h>>2]=0,R=(fD[e+40>>2]|0)+(c<<2)|0,gD[R>>2]=0,d=+gD[((g&512|0)==0?e+4|0:t+232|0)>>2],!(F&w|X)){(g&1|0)!=0&&(gD[(fD[e+32>>2]|0)+(c<<2)>>2]=+gD[t+212>>2]),u=+gD[t+1100>>2],v=+gD[t+1080>>2],M=+gD[t+184>>2],_=+gD[t+188>>2],f=d*+gD[e>>2];t:do if(M>_)f=1;else if(M!=_){if(u/f<0){do if(v>=M){if(!(M-u/f>v))break;f=(M-v)/(u/f);break t}while(0);f=v<M?0:1;break}if(u/f>0){do if(v<=_){if(!(_-u/f<v))break;f=(_-v)/(u/f);break t}while(0);f=v>_?0:1}else f=0}else f=0;while(0);gD[y+(c<<2)>>2]=+gD[y+(c<<2)>>2]-a*f*u,gD[h>>2]=+gD[h>>2]-+gD[t+1104>>2]*+gD[e>>2],gD[R>>2]=+gD[t+1104>>2]*+gD[e>>2]+ +gD[R>>2]}if(F){gD[y+(c<<2)>>2]=+gD[y+(c<<2)>>2]+p*d*+gD[e>>2],(g&256|0)!=0&&(gD[(fD[e+32>>2]|0)+(c<<2)>>2]=+gD[t+244>>2]);do{if(!w){if((m|0)==1){gD[h>>2]=-3.4028234663852886e38,gD[R>>2]=0;break}gD[h>>2]=0,gD[R>>2]=3.4028234663852886e38;break}gD[h>>2]=-3.4028234663852886e38,gD[R>>2]=3.4028234663852886e38}while(0);W=1-+gD[t+240>>2],d=+ED(+W);do if(!(W!=W|!1|W==0)){if(a*=r*+gD[s+312>>2]+o*+gD[s+316>>2]+n*+gD[s+320>>2]-(r*+gD[l+312>>2]+o*+gD[l+316>>2]+n*+gD[l+320>>2]),(m|0)==1){if(!(a<0))break;if(!(+gD[y+(c<<2)>>2]<-(d*a)))break;gD[y+(c<<2)>>2]=-(d*a);break}if(!(a>0))break;if(!(+gD[y+(c<<2)>>2]>-(d*a)))break;gD[y+(c<<2)>>2]=-(d*a);break}while(0);gD[y+(c<<2)>>2]=+gD[t+232>>2]*+gD[y+(c<<2)>>2],l=5}else l=5}if((uD[t+297>>0]|0)==0){if((uD[t+1112>>0]|0)==0)return void(bD=i);c=0,h=0,s=0,a=0}else a=+gD[t+1088>>2],c=1,h=(uD[t+1112>>0]|0)==0,s=a>0?1:2;if(l=VD(fD[e+24>>2]|0,l)|0,X=fD[e+12>>2]|0,gD[X+(l<<2)>>2]=r,gD[X+(l+1<<2)>>2]=o,gD[X+(l+2<<2)>>2]=n,gD[b+(l<<2)>>2]=-r,gD[b+(l+1<<2)>>2]=-o,gD[b+(l+2<<2)>>2]=-n,d=+gD[t+192>>2],u=+gD[t+196>>2],p=+gD[((g&2048|0)==0?e+4|0:t+248|0)>>2],!(c&d==u|h)){(g&4|0)==0?(v=u,S=d):(gD[(fD[e+32>>2]|0)+(l<<2)>>2]=+gD[t+228>>2],v=+gD[t+196>>2],S=+gD[t+192>>2]),M=+gD[t+1084>>2],f=+gD[t+1116>>2],_=p*+gD[e>>2];t:do if(S>v)_=1;else if(S!=v){if(f/_<0){do if(M>=S){if(!(S-f/_>M))break;_=(S-M)/(f/_);break t}while(0);_=M<S?0:1;break}if(f/_>0){do if(M<=v){if(!(v-f/_<M))break;_=(v-M)/(f/_);break t}while(0);_=M>v?0:1}else _=0}else _=0;while(0);gD[y+(l<<2)>>2]=_*f,gD[(fD[e+36>>2]|0)+(l<<2)>>2]=-(+gD[t+1120>>2]*+gD[e>>2]),gD[(fD[e+40>>2]|0)+(l<<2)>>2]=+gD[t+1120>>2]*+gD[e>>2]}if(!c)return void(bD=i);gD[y+(l<<2)>>2]=+gD[y+(l<<2)>>2]+a*p*+gD[e>>2],(g&1024|0)!=0&&(gD[(fD[e+32>>2]|0)+(l<<2)>>2]=+gD[t+260>>2]);do{if(d!=u){if(c=(fD[e+36>>2]|0)+(l<<2)|0,(s|0)==1){gD[c>>2]=0,gD[(fD[e+40>>2]|0)+(l<<2)>>2]=3.4028234663852886e38;break}gD[c>>2]=-3.4028234663852886e38,gD[(fD[e+40>>2]|0)+(l<<2)>>2]=0;break}gD[(fD[e+36>>2]|0)+(l<<2)>>2]=-3.4028234663852886e38,gD[(fD[e+40>>2]|0)+(l<<2)>>2]=3.4028234663852886e38}while(0);W=1-+gD[t+256>>2],a=+ED(+W);do if(!(W!=W|!1|W==0)){if(F=fD[t+28>>2]|0,X=fD[t+32>>2]|0,r=r*+gD[F+328>>2]+o*+gD[F+332>>2]+n*+gD[F+336>>2]-(r*+gD[X+328>>2]+o*+gD[X+332>>2]+n*+gD[X+336>>2]),(s|0)==1){if(!(r<0))break;if(!(+gD[y+(l<<2)>>2]<-(a*r)))break;gD[y+(l<<2)>>2]=-(a*r);break}if(!(r>0))break;if(!(+gD[y+(l<<2)>>2]>-(a*r)))break;gD[y+(l<<2)>>2]=-(a*r);break}while(0);gD[y+(l<<2)>>2]=+gD[t+248>>2]*+gD[y+(l<<2)>>2],bD=i}function Iu(t,e,i,r){t|=0,e|=0,i=+i,r|=0;var o=0;return o=bD,(e|0)==2?(r|0)<1?(gD[t+232>>2]=i,fD[t+300>>2]=fD[t+300>>2]|512,void(bD=o)):(r|0)<3?(gD[t+264>>2]=i,fD[t+300>>2]=fD[t+300>>2]|32,void(bD=o)):(r|0)==3?(gD[t+248>>2]=i,fD[t+300>>2]=fD[t+300>>2]|2048,void(bD=o)):(r|0)>=6?void(bD=o):(gD[t+280>>2]=i,fD[t+300>>2]=fD[t+300>>2]|128,void(bD=o)):(e|0)==3?(r|0)<1?(gD[t+212>>2]=i,fD[t+300>>2]=fD[t+300>>2]|1,void(bD=o)):(r|0)!=3?void(bD=o):(gD[t+228>>2]=i,fD[t+300>>2]=fD[t+300>>2]|4,void(bD=o)):(e|0)==4?(r|0)<1?(gD[t+244>>2]=i,fD[t+300>>2]=fD[t+300>>2]|256,void(bD=o)):(r|0)<3?(gD[t+276>>2]=i,fD[t+300>>2]=fD[t+300>>2]|16,void(bD=o)):(r|0)==3?(gD[t+260>>2]=i,fD[t+300>>2]=fD[t+300>>2]|1024,void(bD=o)):(r|0)>=6?void(bD=o):(gD[t+292>>2]=i,fD[t+300>>2]=fD[t+300>>2]|64,void(bD=o)):void(bD=o)}function Ou(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;r=bD;do if((e|0)==2){if((i|0)<1){o=+gD[t+232>>2];break}if((i|0)<3){o=+gD[t+264>>2];break}if((i|0)==3){o=+gD[t+248>>2];break}o=(i|0)<6?+gD[t+280>>2]:3.4028234663852886e38}else if((e|0)==4){if((i|0)<1){o=+gD[t+244>>2];break}if((i|0)<3){o=+gD[t+276>>2];break}if((i|0)==3){o=+gD[t+260>>2];break}o=(i|0)<6?+gD[t+292>>2]:3.4028234663852886e38}else if((e|0)==3){if((i|0)<1){o=+gD[t+212>>2];break}o=(i|0)==3?+gD[t+228>>2]:3.4028234663852886e38}else o=3.4028234663852886e38;while(0);return bD=r,+o}function Ju(t){t|=0}function Nu(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function Fu(t){return t|=0,204}function Gu(t,e,i){t|=0,e|=0,i|=0;var r=0;return r=bD,ju(t,e,i)|0,gD[e+52>>2]=+gD[t+52>>2],gD[e+56>>2]=+gD[t+56>>2],gD[e+60>>2]=+gD[t+60>>2],gD[e+64>>2]=+gD[t+64>>2],gD[e+68>>2]=+gD[t+68>>2],gD[e+72>>2]=+gD[t+72>>2],gD[e+76>>2]=+gD[t+76>>2],gD[e+80>>2]=+gD[t+80>>2],gD[e+84>>2]=+gD[t+84>>2],gD[e+88>>2]=+gD[t+88>>2],gD[e+92>>2]=+gD[t+92>>2],gD[e+96>>2]=+gD[t+96>>2],gD[e+100>>2]=+gD[t+100>>2],gD[e+104>>2]=+gD[t+104>>2],gD[e+108>>2]=+gD[t+108>>2],gD[e+112>>2]=+gD[t+112>>2],gD[e+116>>2]=+gD[t+116>>2],gD[e+120>>2]=+gD[t+120>>2],gD[e+124>>2]=+gD[t+124>>2],gD[e+128>>2]=+gD[t+128>>2],gD[e+132>>2]=+gD[t+132>>2],gD[e+136>>2]=+gD[t+136>>2],gD[e+140>>2]=+gD[t+140>>2],gD[e+144>>2]=+gD[t+144>>2],gD[e+148>>2]=+gD[t+148>>2],gD[e+152>>2]=+gD[t+152>>2],gD[e+156>>2]=+gD[t+156>>2],gD[e+160>>2]=+gD[t+160>>2],gD[e+164>>2]=+gD[t+164>>2],gD[e+168>>2]=+gD[t+168>>2],gD[e+172>>2]=+gD[t+172>>2],gD[e+176>>2]=+gD[t+176>>2],gD[e+180>>2]=+gD[t+188>>2],gD[e+184>>2]=+gD[t+184>>2],gD[e+188>>2]=+gD[t+196>>2],gD[e+192>>2]=+gD[t+192>>2],fD[e+196>>2]=_D[t+180>>0],fD[e+200>>2]=_D[t+49>>0],bD=r,4352}function zu(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,bD=bD+32|0,fD[t+4>>2]=e,fD[t>>2]=64,fD[t+8>>2]=-1,fD[t+12>>2]=-1,gD[t+16>>2]=3.4028234663852886e38,uD[t+20>>0]=1,uD[t+21>>0]=0,fD[t+24>>2]=-1,fD[t+28>>2]=i,((uD[5024]|0)==0?(HD(5024)|0)!=0:0)&&(fD[r+16>>2]=0,fD[r+20>>2]=0,fD[r+24>>2]=0,fD[r+28>>2]=0,Tb(4408,0,0,0,r+16|0),JD(5024)),fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,Eb(4408,0,r),fD[t+32>>2]=4408,gD[t+36>>2]=0,gD[t+40>>2]=.30000001192092896,fD[t+44>>2]=0,bD=r}function ju(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;if(r=bD,fD[e>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,fD[t+28>>2]|0)|0,fD[e+4>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,fD[t+32>>2]|0)|0,o=AP[fD[(fD[i>>2]|0)+40>>2]&31](i,t)|0,n=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,o)|0,fD[e+8>>2]=n,(n|0)!=0&&aP[fD[(fD[i>>2]|0)+48>>2]&127](i,o),fD[e+12>>2]=fD[t+4>>2],fD[e+24>>2]=_D[t+21>>0],fD[e+40>>2]=fD[t+24>>2],gD[e+44>>2]=+gD[t+16>>2],fD[e+48>>2]=_D[t+20>>0],fD[e+20>>2]=fD[t+12>>2],fD[e+16>>2]=fD[t+8>>2],gD[e+28>>2]=+gD[t+36>>2],gD[e+32>>2]=+gD[t+40>>2],fD[e+36>>2]=0,o=fD[t+28>>2]|0,(fD[o+488>>2]|0)>0){i=0;do(fD[(fD[o+496>>2]|0)+(i<<2)>>2]|0)==(t|0)&&(fD[e+36>>2]=1,o=fD[t+28>>2]|0),i=i+1|0;while((i|0)<(fD[o+488>>2]|0))}if(o=fD[t+32>>2]|0,!((fD[o+488>>2]|0)>0))return bD=r,4376;i=0;do(fD[(fD[o+496>>2]|0)+(i<<2)>>2]|0)==(t|0)&&(fD[e+36>>2]=1,o=fD[t+32>>2]|0),i=i+1|0;while((i|0)<(fD[o+488>>2]|0));return bD=r,4376}function Uu(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0;if(a=bD,fD[t>>2]=5216,pD[t+4>>1]=-2,pD[t+6>>1]=-1,fD[t+92>>2]=o,fD[t+96>>2]=0,uD[t+100>>0]=0,fD[t+104>>2]=0,fD[t+108>>2]=0,(o|0)==0&&(fD[5004]=(fD[5004]|0)+1,o=Ew(95)|0,((o|0)!=0?(fD[(o+19&-16)+-4>>2]=o,(o+19&-16|0)!=0):0)?(FA(o+19&-16),o=o+19&-16):o=0,fD[t+92>>2]=o,uD[t+100>>0]=1),n||(fD[5004]=(fD[5004]|0)+1,n=Ew(43)|0,((n|0)!=0?(s=n+19&-16,fD[s+-4>>2]=n,(n+19&-16|0)!=0):0)?(fD[s+0>>2]=0,fD[s+4>>2]=0,fD[s+8>>2]=0,fD[s+12>>2]=0,fD[s+16>>2]=0,fD[s+20>>2]=0,fD[(n+19&-16)>>2]=5280,uD[s+20>>0]=1,fD[s+16>>2]=0,fD[s+8>>2]=0,fD[s+12>>2]=0,s=n+19&-16):s=0,fD[t+112>>2]=s,fD[5004]=(fD[5004]|0)+1,s=Ew(215)|0,((s|0)!=0?(fD[(s+19&-16)+-4>>2]=s,(s+19&-16|0)!=0):0)?(GE(s+19&-16,fD[t+112>>2]|0),s=s+19&-16):s=0,fD[t+108>>2]=s,uD[s+193>>0]=1),fD[t+8>>2]=fD[e+0>>2],fD[t+12>>2]=fD[e+4>>2],fD[t+16>>2]=fD[e+8>>2],fD[t+20>>2]=fD[e+12>>2],fD[t+24>>2]=fD[i+0>>2],fD[t+28>>2]=fD[i+4>>2],fD[t+32>>2]=fD[i+8>>2],fD[t+36>>2]=fD[i+12>>2],h=+(mD[t+6>>1]|0),c=h/(+gD[t+28>>2]-+gD[t+12>>2]),l=h/(+gD[t+32>>2]-+gD[t+16>>2]),gD[t+40>>2]=h/(+gD[t+24>>2]-+gD[t+8>>2]),gD[t+44>>2]=c,gD[t+48>>2]=l,gD[t+52>>2]=0,e=(r&65535)+1&65535,fD[5004]=(fD[5004]|0)+1,i=Ew(e<<6|19)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),(e|0)!=0){s=i+(e<<6)|0,n=i;do fD[n>>2]=0,fD[n+8>>2]=0,n=n+64|0;while((n|0)!=(s|0))}if(fD[t+60>>2]=i,pD[t+58>>1]=(r&65535)+1,pD[t+56>>1]=0,pD[t+64>>1]=1,e>>>0>1){r=1,s=1;do pD[i+(r<<6)+48>>1]=r+1,s=s+1<<16>>16,r=s&65535;while(r>>>0<e>>>0)}pD[i+(e+-1<<6)+48>>1]=0,fD[5004]=(fD[5004]|0)+1,r=Ew((e<<3|3)+16|0)|0,(r|0)!=0?(fD[(r+19&-16)+-4>>2]=r,fD[t+80>>2]=r+19&-16,r=(r+19&-16|0)==0?0:r+19&-16):(fD[t+80>>2]=0,r=0),fD[t+68>>2]=r,fD[5004]=(fD[5004]|0)+1,r=Ew((e<<3|3)+16|0)|0,(r|0)!=0?(fD[(r+19&-16)+-4>>2]=r,fD[t+84>>2]=r+19&-16,r=(r+19&-16|0)==0?0:r+19&-16):(fD[t+84>>2]=0,r=0),fD[t+72>>2]=r,fD[5004]=(fD[5004]|0)+1,r=Ew((e<<3|3)+16|0)|0,(r|0)!=0?(fD[(r+19&-16)+-4>>2]=r,fD[t+88>>2]=r+19&-16,r=(r+19&-16|0)==0?0:r+19&-16):(fD[t+88>>2]=0,r=0),fD[t+76>>2]=r,fD[fD[t+60>>2]>>2]=0,o=fD[t+60>>2]|0,pD[o+48>>1]=0,pD[o+54>>1]=1,n=fD[t+68>>2]|0,pD[n>>1]=0,pD[n+2>>1]=0,pD[n+4>>1]=pD[t+6>>1]|0,pD[n+6>>1]=0,pD[o+50>>1]=0,pD[o+56>>1]=1,n=fD[t+72>>2]|0,pD[n>>1]=0,pD[n+2>>1]=0,pD[n+4>>1]=pD[t+6>>1]|0,pD[n+6>>1]=0,pD[o+52>>1]=0,pD[o+58>>1]=1,o=fD[t+76>>2]|0,pD[o>>1]=0,pD[o+2>>1]=0,pD[o+4>>1]=pD[t+6>>1]|0,pD[o+6>>1]=0,fD[t>>2]=5040,bD=a}function Wu(t){t|=0;var e=0;e=bD,dp(t),bD=e}function Xu(t){t|=0;var e=0;return e=bD,dp(t),(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function qu(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0;var c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0;if(c=bD,bD=bD+16|0,lp(t,c+6|0,+gD[e>>2],+gD[e+4>>2],+gD[e+8>>2],0),lp(t,c,+gD[i>>2],+gD[i+4>>2],+gD[i+8>>2],1),h=pD[t+64>>1]|0,d=fD[t+60>>2]|0,pD[t+64>>1]=pD[d+((h&65535)<<6)+48>>1]|0,pD[t+56>>1]=(pD[t+56>>1]|0)+1<<16>>16,fD[d+((h&65535)<<6)+12>>2]=h&65535,fD[d+((h&65535)<<6)>>2]=o,pD[d+((h&65535)<<6)+4>>1]=n,pD[d+((h&65535)<<6)+6>>1]=a,fD[d+((h&65535)<<6)+8>>2]=l,_=(mD[t+56>>1]|0)<<1,m=(_&65534)+-1|0,p=(fD[t+60>>2]|0)+54|0,pD[p>>1]=(mD[p>>1]|0)+2,p=fD[t+68>>2]|0,u=mD[p+(m<<2)>>1]|mD[p+(m<<2)+2>>1]<<16,pD[p+((_&65534|1)<<2)>>1]=u,pD[p+((_&65534|1)<<2)+2>>1]=u>>>16,p=fD[t+68>>2]|0,pD[p+(m<<2)>>1]=pD[c+6>>1]|0,pD[p+(m<<2)+2>>1]=h,pD[p+((_&65534)<<2)>>1]=pD[c>>1]|0,pD[p+((_&65534)<<2)+2>>1]=h,pD[d+((h&65535)<<6)+48>>1]=m,pD[d+((h&65535)<<6)+54>>1]=_,p=(fD[t+60>>2]|0)+56|0,pD[p>>1]=(mD[p>>1]|0)+2,p=fD[t+72>>2]|0,u=mD[p+(m<<2)>>1]|mD[p+(m<<2)+2>>1]<<16,pD[p+((_&65534|1)<<2)>>1]=u,pD[p+((_&65534|1)<<2)+2>>1]=u>>>16,p=fD[t+72>>2]|0,pD[p+(m<<2)>>1]=pD[c+8>>1]|0,pD[p+(m<<2)+2>>1]=h,pD[p+((_&65534)<<2)>>1]=pD[c+2>>1]|0,pD[p+((_&65534)<<2)+2>>1]=h,pD[d+((h&65535)<<6)+50>>1]=m,pD[d+((h&65535)<<6)+56>>1]=_,p=(fD[t+60>>2]|0)+58|0,pD[p>>1]=(mD[p>>1]|0)+2,p=fD[t+76>>2]|0,u=mD[p+(m<<2)>>1]|mD[p+(m<<2)+2>>1]<<16,pD[p+((_&65534|1)<<2)>>1]=u,pD[p+((_&65534|1)<<2)+2>>1]=u>>>16,p=fD[t+76>>2]|0,pD[p+(m<<2)>>1]=pD[c+10>>1]|0,pD[p+(m<<2)+2>>1]=h,pD[p+((_&65534)<<2)>>1]=pD[c+4>>1]|0,pD[p+((_&65534)<<2)+2>>1]=h,pD[d+((h&65535)<<6)+52>>1]=m,pD[d+((h&65535)<<6)+58>>1]=_,_=fD[t+68>>2]|0,m=mD[d+((h&65535)<<6)+48>>1]|0,p=fD[t+60>>2]|0,u=pD[_+(m+-1<<2)>>1]|0,(mD[_+(m<<2)>>1]|0)<(u&65535)){for(l=p+((mD[_+(m<<2)+2>>1]|0)<<6)+48|0,f=_+(m<<2)|0,_=_+(m+-1<<2)|0;;){if(m=mD[_+2>>1]|0,(u&1)==0?(m=p+(m<<6)+48|0,pD[m>>1]=(pD[m>>1]|0)+1<<16>>16):(m=p+(m<<6)+54|0,pD[m>>1]=(pD[m>>1]|0)+1<<16>>16),pD[l>>1]=(pD[l>>1]|0)+-1<<16>>16,u=mD[f>>1]|mD[f+2>>1]<<16,m=mD[_>>1]|mD[_+2>>1]<<16,pD[f>>1]=m,pD[f+2>>1]=m>>>16,pD[_>>1]=u,pD[_+2>>1]=u>>>16,f=f+-4|0,_=_+-4|0,u=pD[_>>1]|0,!((mD[f>>1]|0)<(u&65535)))break;p=fD[t+60>>2]|0}l=fD[t+68>>2]|0}else l=_;u=mD[d+((h&65535)<<6)+54>>1]|0,_=l+(u<<2)|0,f=l+(u+-1<<2)|0,p=pD[f>>1]|0;t:do if((mD[_>>1]|0)<(p&65535))for(m=fD[t+60>>2]|0,l=m+((mD[l+(u<<2)+2>>1]|0)<<6)+54|0,u=m;;){if(m=mD[f+2>>1]|0,(p&1)==0?(m=u+(m<<6)+48|0,pD[m>>1]=(pD[m>>1]|0)+1<<16>>16):(m=u+(m<<6)+54|0,pD[m>>1]=(pD[m>>1]|0)+1<<16>>16),pD[l>>1]=(pD[l>>1]|0)+-1<<16>>16,p=mD[_>>1]|mD[_+2>>1]<<16,m=mD[f>>1]|mD[f+2>>1]<<16,pD[_>>1]=m,pD[_+2>>1]=m>>>16,pD[f>>1]=p,pD[f+2>>1]=p>>>16,_=_+-4|0,f=f+-4|0,p=pD[f>>1]|0,!((mD[_>>1]|0)<(p&65535)))break t;u=fD[t+60>>2]|0}while(0);if(m=fD[t+72>>2]|0,_=mD[d+((h&65535)<<6)+50>>1]|0,p=fD[t+60>>2]|0,u=pD[m+(_+-1<<2)>>1]|0,(mD[m+(_<<2)>>1]|0)<(u&65535)){for(l=p+((mD[m+(_<<2)+2>>1]|0)<<6)+50|0,f=m+(_<<2)|0,_=m+(_+-1<<2)|0;;){if(m=mD[_+2>>1]|0,(u&1)==0?(m=p+(m<<6)+50|0,pD[m>>1]=(pD[m>>1]|0)+1<<16>>16):(m=p+(m<<6)+56|0,pD[m>>1]=(pD[m>>1]|0)+1<<16>>16),pD[l>>1]=(pD[l>>1]|0)+-1<<16>>16,u=mD[f>>1]|mD[f+2>>1]<<16,m=mD[_>>1]|mD[_+2>>1]<<16,pD[f>>1]=m,pD[f+2>>1]=m>>>16,pD[_>>1]=u,pD[_+2>>1]=u>>>16,f=f+-4|0,_=_+-4|0,u=pD[_>>1]|0,!((mD[f>>1]|0)<(u&65535)))break;p=fD[t+60>>2]|0}m=fD[t+72>>2]|0}l=mD[d+((h&65535)<<6)+56>>1]|0,_=m+(l<<2)|0,f=m+(l+-1<<2)|0,u=pD[f>>1]|0;t:do if((mD[_>>1]|0)<(u&65535))for(p=fD[t+60>>2]|0,l=p+((mD[m+(l<<2)+2>>1]|0)<<6)+56|0;;){if(m=mD[f+2>>1]|0,(u&1)==0?(m=p+(m<<6)+50|0,pD[m>>1]=(pD[m>>1]|0)+1<<16>>16):(m=p+(m<<6)+56|0,pD[m>>1]=(pD[m>>1]|0)+1<<16>>16),pD[l>>1]=(pD[l>>1]|0)+-1<<16>>16,u=mD[_>>1]|mD[_+2>>1]<<16,m=mD[f>>1]|mD[f+2>>1]<<16,pD[_>>1]=m,pD[_+2>>1]=m>>>16,pD[f>>1]=u,pD[f+2>>1]=u>>>16,_=_+-4|0,f=f+-4|0,u=pD[f>>1]|0,!((mD[_>>1]|0)<(u&65535)))break t;p=fD[t+60>>2]|0}while(0);return cp(t,2,pD[d+((h&65535)<<6)+52>>1]|0),hp(t,2,pD[d+((h&65535)<<6)+58>>1]|0,s),d=fD[t+60>>2]|0,t=fD[t+108>>2]|0,(t|0)==0?(m=d+((h&65535)<<6)|0,bD=c,m|0):(fD[d+((h&65535)<<6)+60>>2]=HP[fD[(fD[t>>2]|0)+8>>2]&3](t,e,i,r,o,n,a,s,0)|0,m=d+((h&65535)<<6)|0,bD=c,m|0)}function Ku(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0;r=bD,o=fD[t+108>>2]|0,(o|0)!=0&&OP[fD[(fD[o>>2]|0)+12>>2]&127](o,fD[e+60>>2]|0,i),o=fD[e+12>>2]|0,e=fD[t+60>>2]|0,p=fD[t+92>>2]|0,lP[fD[(fD[p>>2]|0)+56>>2]&127](p)|0||(p=fD[t+92>>2]|0,OP[fD[(fD[p>>2]|0)+16>>2]&127](p,e+((o&65535)<<6)|0,i)),i=mD[t+56>>1]|0,n=fD[t+60>>2]|0,pD[n+54>>1]=(mD[n+54>>1]|0)+65534,pD[n+56>>1]=(mD[n+56>>1]|0)+65534,pD[n+58>>1]=(mD[n+58>>1]|0)+65534,n=0;do{if(s=t+(n<<2)+68|0,a=fD[s>>2]|0,h=mD[e+((o&65535)<<6)+(n<<1)+54>>1]|0,pD[a+(h<<2)>>1]=pD[t+6>>1]|0,d=pD[a+(h+1<<2)+2>>1]|0,d<<16>>16==0)h=a;else{for(l=(fD[t+60>>2]|0)+((mD[a+(h<<2)+2>>1]|0)<<6)+(n<<1)+54|0,c=a+(h<<2)|0,h=a+(h+1<<2)|0;;){if(p=pD[h>>1]|0,(mD[c>>1]|0)<(p&65535))break;if(u=fD[t+60>>2]|0,d&=65535,(p&1)==0?(p=u+(d<<6)+(n<<1)+48|0,pD[p>>1]=(pD[p>>1]|0)+-1<<16>>16):(p=u+(d<<6)+(n<<1)+54|0,pD[p>>1]=(pD[p>>1]|0)+-1<<16>>16),pD[l>>1]=(pD[l>>1]|0)+1<<16>>16,d=mD[c>>1]|mD[c+2>>1]<<16,p=mD[h>>1]|mD[h+2>>1]<<16,pD[c>>1]=p,pD[c+2>>1]=p>>>16,pD[h>>1]=d,pD[h+2>>1]=d>>>16,d=pD[h+6>>1]|0,d<<16>>16==0)break;c=c+4|0,h=h+4|0}h=fD[s>>2]|0}d=mD[e+((o&65535)<<6)+(n<<1)+48>>1]|0,pD[a+(d<<2)>>1]=pD[t+6>>1]|0,c=pD[h+(d+1<<2)+2>>1]|0;t:do if(c<<16>>16!=0)for(s=(fD[t+60>>2]|0)+((mD[h+(d<<2)+2>>1]|0)<<6)+(n<<1)+48|0,l=h+(d<<2)|0,h=h+(d+1<<2)|0;;){if(d=pD[h>>1]|0,(mD[l>>1]|0)<(d&65535))break t;if(u=fD[t+60>>2]|0,c&=65535,(d&1)==0?(p=u+(c<<6)+(n<<1)+48|0,pD[p>>1]=(pD[p>>1]|0)+-1<<16>>16):(p=u+(c<<6)+(n<<1)+54|0,pD[p>>1]=(pD[p>>1]|0)+-1<<16>>16),pD[s>>1]=(pD[s>>1]|0)+1<<16>>16,c=mD[l>>1]|mD[l+2>>1]<<16,p=mD[h>>1]|mD[h+2>>1]<<16,pD[l>>1]=p,pD[l+2>>1]=p>>>16,pD[h>>1]=c,pD[h+2>>1]=c>>>16,c=pD[h+6>>1]|0,c<<16>>16==0)break;l=l+4|0,h=h+4|0}while(0);pD[a+((i<<1)+-1<<2)+2>>1]=0,pD[a+((i<<1)+-1<<2)>>1]=pD[t+6>>1]|0,n=n+1|0}while((n|0)!=3);pD[(fD[t+60>>2]|0)+((o&65535)<<6)+48>>1]=pD[t+64>>1]|0,pD[t+64>>1]=o,pD[t+56>>1]=(pD[t+56>>1]|0)+-1<<16>>16,bD=r}function Yu(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0;n=bD,bD=bD+16|0,fD[e+16>>2]=fD[i+0>>2],fD[e+20>>2]=fD[i+4>>2],fD[e+24>>2]=fD[i+8>>2],fD[e+28>>2]=fD[i+12>>2],fD[e+32>>2]=fD[r+0>>2],fD[e+36>>2]=fD[r+4>>2],fD[e+40>>2]=fD[r+8>>2],fD[e+44>>2]=fD[r+12>>2],d=fD[t+60>>2]|0,u=fD[e+12>>2]&65535,lp(t,n+6|0,+gD[i>>2],+gD[i+4>>2],+gD[i+8>>2],0),lp(t,n,+gD[r>>2],+gD[r+4>>2],+gD[r+8>>2],1),b=0;do{v=pD[d+(u<<6)+(b<<1)+48>>1]|0,g=pD[d+(u<<6)+(b<<1)+54>>1]|0,C=pD[n+6+(b<<1)>>1]|0,M=t+(b<<2)+68|0,R=fD[M>>2]|0,w=(C&65535)-(mD[R+((v&65535)<<2)>>1]|0)|0,A=pD[n+(b<<1)>>1]|0,y=(A&65535)-(mD[R+((g&65535)<<2)>>1]|0)|0,pD[R+((v&65535)<<2)>>1]=C,pD[R+((g&65535)<<2)>>1]=A,(w|0)<0&&cp(t,b,v);t:do if((y|0)>0?(m=fD[M>>2]|0,p=fD[t+60>>2]|0,f=mD[m+((g&65535)<<2)+2>>1]|0,_=pD[m+((g&65535)+1<<2)+2>>1]|0,!(_<<16>>16==0)):0)for(S=1<<b&3,x=p+(f<<6)+(b<<1)+54|0,R=_,T=m+((g&65535)<<2)|0,E=m+((g&65535)+1<<2)|0;;){if(C=pD[E>>1]|0,(mD[T>>1]|0)<(C&65535))break t;if(A=fD[t+60>>2]|0,R&=65535,(C&1)==0?((((((mD[p+(f<<6)+(S<<1)+54>>1]|0)>=(mD[A+(R<<6)+(S<<1)+48>>1]|0)?(mD[A+(R<<6)+(S<<1)+54>>1]|0)>=(mD[p+(f<<6)+(S<<1)+48>>1]|0):0)?(mD[p+(f<<6)+((1<<S&3)<<1)+54>>1]|0)>=(mD[A+(R<<6)+((1<<S&3)<<1)+48>>1]|0):0)?(mD[A+(R<<6)+((1<<S&3)<<1)+54>>1]|0)>=(mD[p+(f<<6)+((1<<S&3)<<1)+48>>1]|0):0)?(s=fD[t+92>>2]|0,l=A+((mD[T+2>>1]|0)<<6)|0,gP[fD[(fD[s>>2]|0)+8>>2]&31](s,l,A+(R<<6)|0)|0,s=fD[t+96>>2]|0,(s|0)!=0):0)&&gP[fD[(fD[s>>2]|0)+8>>2]&31](s,l,A+(R<<6)|0)|0,R=A+(R<<6)+(b<<1)+48|0,pD[R>>1]=(pD[R>>1]|0)+-1<<16>>16):(R=A+(R<<6)+(b<<1)+54|0,pD[R>>1]=(pD[R>>1]|0)+-1<<16>>16),pD[x>>1]=(pD[x>>1]|0)+1<<16>>16,R=mD[T>>1]|mD[T+2>>1]<<16,A=mD[E>>1]|mD[E+2>>1]<<16,pD[T>>1]=A,pD[T+2>>1]=A>>>16,pD[E>>1]=R,pD[E+2>>1]=R>>>16,R=pD[E+6>>1]|0,R<<16>>16==0)break;T=T+4|0,E=E+4|0}while(0);t:do if((w|0)>0?(c=fD[M>>2]|0,h=pD[c+((v&65535)+1<<2)+2>>1]|0,!(h<<16>>16==0)):0)for(S=(fD[t+60>>2]|0)+((mD[c+((v&65535)<<2)+2>>1]|0)<<6)+(b<<1)+48|0,x=1<<b&3,E=h,M=c+((v&65535)<<2)|0,v=c+((v&65535)+1<<2)|0;;){if(C=pD[v>>1]|0,(mD[M>>1]|0)<(C&65535))break t;if(T=fD[t+60>>2]|0,E&=65535,(C&1)==0?(R=T+(E<<6)+(b<<1)+48|0,pD[R>>1]=(pD[R>>1]|0)+-1<<16>>16):(C=mD[M+2>>1]|0,(((((mD[T+(C<<6)+(x<<1)+54>>1]|0)>=(mD[T+(E<<6)+(x<<1)+48>>1]|0)?(mD[T+(E<<6)+(x<<1)+54>>1]|0)>=(mD[T+(C<<6)+(x<<1)+48>>1]|0):0)?(mD[T+(C<<6)+((1<<x&3)<<1)+54>>1]|0)>=(mD[T+(E<<6)+((1<<x&3)<<1)+48>>1]|0):0)?(mD[T+(E<<6)+((1<<x&3)<<1)+54>>1]|0)>=(mD[T+(C<<6)+((1<<x&3)<<1)+48>>1]|0):0)?(a=fD[t+92>>2]|0,uP[fD[(fD[a>>2]|0)+12>>2]&31](a,T+(C<<6)|0,T+(E<<6)|0,o)|0,a=fD[t+96>>2]|0,(a|0)!=0):0)&&uP[fD[(fD[a>>2]|0)+12>>2]&31](a,T+(C<<6)|0,T+(E<<6)|0,o)|0,R=T+(E<<6)+(b<<1)+54|0,pD[R>>1]=(pD[R>>1]|0)+-1<<16>>16),pD[S>>1]=(pD[S>>1]|0)+1<<16>>16,E=mD[M>>1]|mD[M+2>>1]<<16,R=mD[v>>1]|mD[v+2>>1]<<16,pD[M>>1]=R,pD[M+2>>1]=R>>>16,pD[v>>1]=E,pD[v+2>>1]=E>>>16,E=pD[v+6>>1]|0,E<<16>>16==0)break;
M=M+4|0,v=v+4|0}while(0);(y|0)<0&&hp(t,b,g,o),b=b+1|0}while((b|0)!=3);return a=fD[t+108>>2]|0,(a|0)==0?void(bD=n):(iP[fD[(fD[a>>2]|0)+16>>2]&31](a,fD[e+60>>2]|0,i,r,o),void(bD=n))}function Qu(t,e,i,r){t|=0,e|=0,i|=0,r|=0,t=bD,fD[i+0>>2]=fD[e+16>>2],fD[i+4>>2]=fD[e+20>>2],fD[i+8>>2]=fD[e+24>>2],fD[i+12>>2]=fD[e+28>>2],fD[r+0>>2]=fD[e+32>>2],fD[r+4>>2]=fD[e+36>>2],fD[r+8>>2]=fD[e+40>>2],fD[r+12>>2]=fD[e+44>>2],bD=t}function Zu(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0;if(a=bD,s=fD[t+108>>2]|0,(s|0)!=0)return yP[fD[(fD[s>>2]|0)+24>>2]&7](s,e,i,r,o,n),void(bD=a);if(s=pD[t+56>>1]|0,!((s&65535)<<1>>>0>1))return void(bD=a);for(o=1,n=2;;){if(i=fD[t+68>>2]|0,(pD[i+(o<<2)>>1]&1)!=0&&(AP[fD[(fD[r>>2]|0)+8>>2]&31](r,(fD[t+60>>2]|0)+((mD[i+(o<<2)+2>>1]|0)<<6)|0)|0,s=pD[t+56>>1]|0),o=n&65535,!(o>>>0<((s&65535)<<1|1)>>>0))break;n=n+1<<16>>16}bD=a}function $u(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0;if(o=bD,n=fD[t+108>>2]|0,(n|0)!=0)return GP[fD[(fD[n>>2]|0)+28>>2]&127](n,e,i,r),void(bD=o);if(s=pD[t+56>>1]|0,!((s&65535)<<1>>>0>1))return void(bD=o);for(l=1,n=2;;){if(c=fD[t+68>>2]|0,(pD[c+(l<<2)>>1]&1)!=0&&(a=fD[t+60>>2]|0,l=mD[c+(l<<2)+2>>1]|0,c=(+gD[e>>2]>+gD[a+(l<<6)+32>>2]?!0:+gD[i>>2]<+gD[a+(l<<6)+16>>2])?0:1,(+gD[e+8>>2]>+gD[a+(l<<6)+40>>2]?0:!(+gD[i+8>>2]<+gD[a+(l<<6)+24>>2]))||(c=0),(+gD[e+4>>2]>+gD[a+(l<<6)+36>>2]?!0:+gD[i+4>>2]<+gD[a+(l<<6)+20>>2]|c^1)||(AP[fD[(fD[r>>2]|0)+8>>2]&31](r,a+(l<<6)|0)|0,s=pD[t+56>>1]|0)),l=n&65535,!(l>>>0<((s&65535)<<1|1)>>>0))break;n=n+1<<16>>16}bD=o}function tp(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0;if(r=bD,bD=bD+32|0,f=fD[t+92>>2]|0,!(lP[fD[(fD[f>>2]|0)+56>>2]&127](f)|0))return void(bD=r);if(i=fD[t+92>>2]|0,i=lP[fD[(fD[i>>2]|0)+28>>2]&127](i)|0,o=fD[i+4>>2]|0,(o|0)>1&&(sp(i,0,o+-1|0),o=fD[i+4>>2]|0),d=o-(fD[t+104>>2]|0)|0,fD[r+16>>2]=0,fD[r+20>>2]=0,fD[r+24>>2]=0,fD[r+28>>2]=0,ap(i,d,r+16|0),fD[t+104>>2]=0,d=fD[i+4>>2]|0,(d|0)>0){for(n=0,u=0,c=0,o=0;;){a=fD[i+12>>2]|0,s=a+(o<<4)|0,h=fD[s>>2]|0,a=a+(o<<4)+4|0,l=fD[a>>2]|0,(h|0)==(n|0)?(l|0)==(u|0)?(l=u,h=n,n=12):(h=n,n=8):n=8;t:do if((n|0)==8){n=0,p=h+54|0,f=h+48|0,u=0;do{if((mD[p+(u<<1)>>1]|0)<(mD[l+48+(u<<1)>>1]|0)){n=12;break t}if((mD[l+54+(u<<1)>>1]|0)<(mD[f+(u<<1)>>1]|0)){n=12;break t}u=u+1|0}while((u|0)<3)}while(0);if((n|0)==12&&(c=fD[t+92>>2]|0,OP[fD[(fD[c>>2]|0)+32>>2]&127](c,s,e),fD[s>>2]=0,fD[a>>2]=0,c=(fD[t+104>>2]|0)+1|0,fD[t+104>>2]=c,fD[3808]=(fD[3808]|0)+-1,d=fD[i+4>>2]|0),o=o+1|0,(o|0)>=(d|0))break;n=h,u=l}(d|0)>1&&(sp(i,0,d+-1|0),c=fD[t+104>>2]|0,d=fD[i+4>>2]|0)}else c=0;f=d-c|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,ap(i,f,r),fD[t+104>>2]=0,bD=r}function ep(t){return t|=0,fD[t+92>>2]|0}function ip(t){return t|=0,fD[t+92>>2]|0}function rp(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,fD[e+0>>2]=fD[t+8>>2],fD[e+4>>2]=fD[t+12>>2],fD[e+8>>2]=fD[t+16>>2],fD[e+12>>2]=fD[t+20>>2],fD[i+0>>2]=fD[t+24>>2],fD[i+4>>2]=fD[t+28>>2],fD[i+8>>2]=fD[t+32>>2],fD[i+12>>2]=fD[t+36>>2],bD=r}function op(t,e){t|=0,e|=0;var i=0,r=0,o=0;if(e=bD,(pD[t+56>>1]|0)!=0)return void(bD=e);if(pD[t+64>>1]=1,r=pD[t+58>>1]|0,i=fD[t+60>>2]|0,(r&65535)>1)for(r=1,o=1;;){if(pD[i+(r<<6)+48>>1]=r+1,o=o+1<<16>>16,r=pD[t+58>>1]|0,!((o&65535)<(r&65535)))break;r=o&65535}pD[i+((r&65535)+-1<<6)+48>>1]=0,bD=e}function np(t){t|=0}function ap(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;if(r=bD,o=fD[t+4>>2]|0,!((o|0)<=(e|0)&(o|0)<(e|0)))return fD[t+4>>2]=e,void(bD=r);if((fD[t+8>>2]|0)<(e|0)){if((e|0)==0?(n=0,a=o):(fD[5004]=(fD[5004]|0)+1,n=Ew((e<<4|3)+16|0)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),a=fD[t+4>>2]|0),(a|0)>0){s=0;do l=fD[t+12>>2]|0,fD[n+(s<<4)>>2]=fD[l+(s<<4)>>2],fD[n+(s<<4)+4>>2]=fD[l+(s<<4)+4>>2],fD[n+(s<<4)+8>>2]=fD[l+(s<<4)+8>>2],fD[n+(s<<4)+12>>2]=fD[l+(s<<4)+12>>2],s=s+1|0;while((s|0)!=(a|0))}a=fD[t+12>>2]|0,(a|0)!=0&&((uD[t+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[t+12>>2]=0),uD[t+16>>0]=1,fD[t+12>>2]=n,fD[t+8>>2]=e,n=t+12|0}else n=t+12|0;do l=fD[n>>2]|0,fD[l+(o<<4)>>2]=fD[i>>2],fD[l+(o<<4)+4>>2]=fD[i+4>>2],fD[l+(o<<4)+8>>2]=fD[i+8>>2],fD[l+(o<<4)+12>>2]=fD[i+12>>2],o=o+1|0;while((o|0)!=(e|0));fD[t+4>>2]=e,bD=r}function sp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0;for(r=bD;;){for(s=(e+i|0)/2|0,n=fD[t+12>>2]|0,a=fD[n+(s<<4)>>2]|0,o=fD[n+(s<<4)+4>>2]|0,s=fD[n+(s<<4)+8>>2]|0,l=e,u=i;;){t:for(;;){h=fD[n+(l<<4)>>2]|0,f=(h|0)==0?-1:fD[h+12>>2]|0,d=(a|0)==0?-1:fD[a+12>>2]|0,c=fD[n+(l<<4)+4>>2]|0,_=(c|0)==0?-1:fD[c+12>>2]|0,p=(o|0)==0?-1:fD[o+12>>2]|0;do if((f|0)<=(d|0)){if(d=(h|0)==(a|0)&(_|0)>(p|0),d|(h|0)==(a|0)^1){if(d)break;break t}if((c|0)!=(o|0))break t;if(!((fD[n+(l<<4)+8>>2]|0)>>>0>s>>>0))break t}while(0);l=l+1|0}t:do if((a|0)==0)for(;;){p=fD[n+(u<<4)>>2]|0,_=(p|0)==0?-1:fD[p+12>>2]|0,m=(o|0)==0?-1:fD[o+12>>2]|0,d=fD[n+(u<<4)+4>>2]|0,f=(d|0)==0?-1:fD[d+12>>2]|0;do if(!((_|0)<-1)){if(f=(p|0)==0&(m|0)>(f|0),f|(p|0)==0^1){if(f)break;break t}if((o|0)!=(d|0))break t;if(!(s>>>0>(fD[n+(u<<4)+8>>2]|0)>>>0))break t}while(0);u=u+-1|0}else for(d=fD[a+12>>2]|0,f=u;;){p=fD[n+(f<<4)>>2]|0,g=(p|0)==0?-1:fD[p+12>>2]|0,_=(o|0)==0?-1:fD[o+12>>2]|0,u=fD[n+(f<<4)+4>>2]|0,m=(u|0)==0?-1:fD[u+12>>2]|0;do if((d|0)<=(g|0)){if(_=(a|0)==(p|0)&(_|0)>(m|0),_|(a|0)==(p|0)^1){if(_)break;u=f;break t}if((o|0)!=(u|0)){u=f;break t}if(!(s>>>0>(fD[n+(f<<4)+8>>2]|0)>>>0)){u=f;break t}}while(0);f=f+-1|0}while(0);if((l|0)<=(u|0)&&(g=n+(l<<4)|0,_=fD[n+(l<<4)+8>>2]|0,m=fD[n+(l<<4)+12>>2]|0,f=n+(u<<4)|0,fD[g+0>>2]=fD[f+0>>2],fD[g+4>>2]=fD[f+4>>2],fD[g+8>>2]=fD[f+8>>2],fD[g+12>>2]=fD[f+12>>2],g=fD[t+12>>2]|0,fD[g+(u<<4)>>2]=h,fD[g+(u<<4)+4>>2]=c,fD[g+(u<<4)+8>>2]=_,fD[g+(u<<4)+12>>2]=m,l=l+1|0,u=u+-1|0),(l|0)>(u|0))break;n=fD[t+12>>2]|0}if((u|0)>(e|0)&&sp(t,e,u),!((l|0)<(i|0)))break;e=l}bD=r}function lp(t,e,i,r,o,n){t|=0,e|=0,i=+i,r=+r,o=+o,n|=0;var a=0,s=0;a=bD,i=(i-+gD[t+8>>2])*+gD[t+40>>2],r=(r-+gD[t+12>>2])*+gD[t+44>>2],o=(o-+gD[t+16>>2])*+gD[t+48>>2];do{if(!(i<=0)){if(s=pD[t+6>>1]|0,i>=+(s&65535|0)){s=pD[t+4>>1]&s&65535|n;break}s=pD[t+4>>1]&(~~i&65535)&65535|n;break}s=n}while(0);pD[e>>1]=s;do{if(!(r<=0)){if(s=pD[t+6>>1]|0,r>=+(s&65535|0)){s=pD[t+4>>1]&s&65535|n;break}s=pD[t+4>>1]&(~~r&65535)&65535|n;break}s=n}while(0);return pD[e+2>>1]=s,o<=0?(n&=65535,s=e+4|0,pD[s>>1]=n,void(bD=a)):(s=pD[t+6>>1]|0,o>=+(s&65535|0)?(n=pD[t+4>>1]&s&65535|n,n&=65535,s=e+4|0,pD[s>>1]=n,void(bD=a)):(n=pD[t+4>>1]&(~~o&65535)&65535|n,n&=65535,s=e+4|0,pD[s>>1]=n,void(bD=a)))}function cp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;if(s=bD,d=fD[t+(e<<2)+68>>2]|0,r=fD[t+60>>2]|0,o=mD[d+((i&65535)<<2)+2>>1]|0,c=pD[d+((i&65535)+-1<<2)>>1]|0,!((mD[d+((i&65535)<<2)>>1]|0)<(c&65535)))return void(bD=s);for(l=r,h=d+((i&65535)<<2)|0,d=d+((i&65535)+-1<<2)|0;;){if(i=mD[d+2>>1]|0,(c&1)==0?(i=l+(i<<6)+(e<<1)+48|0,pD[i>>1]=(pD[i>>1]|0)+1<<16>>16):((((((mD[r+(o<<6)+((1<<e&3)<<1)+54>>1]|0)>=(mD[l+(i<<6)+((1<<e&3)<<1)+48>>1]|0)?(mD[l+(i<<6)+((1<<e&3)<<1)+54>>1]|0)>=(mD[r+(o<<6)+((1<<e&3)<<1)+48>>1]|0):0)?(mD[r+(o<<6)+((1<<(1<<e&3)&3)<<1)+54>>1]|0)>=(mD[l+(i<<6)+((1<<(1<<e&3)&3)<<1)+48>>1]|0):0)?(mD[l+(i<<6)+((1<<(1<<e&3)&3)<<1)+54>>1]|0)>=(mD[r+(o<<6)+((1<<(1<<e&3)&3)<<1)+48>>1]|0):0)?(n=fD[t+92>>2]|0,a=l+(i<<6)|0,gP[fD[(fD[n>>2]|0)+8>>2]&31](n,r+(o<<6)|0,a)|0,n=fD[t+96>>2]|0,(n|0)!=0):0)&&gP[fD[(fD[n>>2]|0)+8>>2]&31](n,r+(o<<6)|0,a)|0,i=l+(i<<6)+(e<<1)+54|0,pD[i>>1]=(pD[i>>1]|0)+1<<16>>16),pD[r+(o<<6)+(e<<1)+48>>1]=(pD[r+(o<<6)+(e<<1)+48>>1]|0)+-1<<16>>16,c=mD[h>>1]|mD[h+2>>1]<<16,i=mD[d>>1]|mD[d+2>>1]<<16,pD[h>>1]=i,pD[h+2>>1]=i>>>16,pD[d>>1]=c,pD[d+2>>1]=c>>>16,h=h+-4|0,d=d+-4|0,c=pD[d>>1]|0,!((mD[h>>1]|0)<(c&65535)))break;l=fD[t+60>>2]|0}bD=s}function hp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0;if(n=bD,u=fD[t+(e<<2)+68>>2]|0,h=pD[u+((i&65535)+-1<<2)>>1]|0,!((mD[u+((i&65535)<<2)>>1]|0)<(h&65535)))return void(bD=n);for(c=fD[t+60>>2]|0,o=c+((mD[u+((i&65535)<<2)+2>>1]|0)<<6)+(e<<1)+54|0,d=u+((i&65535)<<2)|0,u=u+((i&65535)+-1<<2)|0;;){if(i=mD[u+2>>1]|0,(h&1)==0?(h=mD[d+2>>1]|0,(((((mD[c+(h<<6)+((1<<e&3)<<1)+54>>1]|0)>=(mD[c+(i<<6)+((1<<e&3)<<1)+48>>1]|0)?(mD[c+(i<<6)+((1<<e&3)<<1)+54>>1]|0)>=(mD[c+(h<<6)+((1<<e&3)<<1)+48>>1]|0):0)?(mD[c+(h<<6)+((1<<(1<<e&3)&3)<<1)+54>>1]|0)>=(mD[c+(i<<6)+((1<<(1<<e&3)&3)<<1)+48>>1]|0):0)?(mD[c+(i<<6)+((1<<(1<<e&3)&3)<<1)+54>>1]|0)>=(mD[c+(h<<6)+((1<<(1<<e&3)&3)<<1)+48>>1]|0):0)?(s=fD[t+92>>2]|0,l=c+(h<<6)|0,a=c+(i<<6)|0,uP[fD[(fD[s>>2]|0)+12>>2]&31](s,l,a,r)|0,s=fD[t+96>>2]|0,(s|0)!=0):0)&&uP[fD[(fD[s>>2]|0)+12>>2]&31](s,l,a,r)|0,i=c+(i<<6)+(e<<1)+48|0,pD[i>>1]=(pD[i>>1]|0)+1<<16>>16):(i=c+(i<<6)+(e<<1)+54|0,pD[i>>1]=(pD[i>>1]|0)+1<<16>>16),pD[o>>1]=(pD[o>>1]|0)+-1<<16>>16,h=mD[d>>1]|mD[d+2>>1]<<16,i=mD[u>>1]|mD[u+2>>1]<<16,pD[d>>1]=i,pD[d+2>>1]=i>>>16,pD[u>>1]=h,pD[u+2>>1]=h>>>16,d=d+-4|0,u=u+-4|0,h=pD[u>>1]|0,!((mD[d>>1]|0)<(h&65535)))break;c=fD[t+60>>2]|0}bD=n}function dp(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=5216,(fD[t+108>>2]|0)!=0&&(i=fD[t+112>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+112>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+108>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+108>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0))),i=fD[t+88>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+84>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+80>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+60>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),(uD[t+100>>0]|0)==0?void(bD=e):(i=fD[t+92>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),t=fD[t+92>>2]|0,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e)))}function up(t){t|=0;var e=0;e=bD,dp(t),bD=e}function pp(t){t|=0;var e=0;return e=bD,dp(t),(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function fp(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=5280,i=fD[t+16>>2]|0,(i|0)!=0&&((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+16>>2]=0),uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,bD=e}function _p(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=5280,i=fD[t+16>>2]|0,((i|0)!=0?(uD[t+20>>0]|0)!=0:0)&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),Cw(t),bD=e}function mp(t,e,i){return t|=0,e|=0,i|=0,0}function gp(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,0}function yp(t,e,i){t|=0,e|=0,i|=0}function bp(t){return t|=0,fD[t+16>>2]|0}function vp(t){return t|=0,fD[t+16>>2]|0}function Mp(t){return t|=0,t+4|0}function Sp(t,e,i){t|=0,e|=0,i|=0}function xp(t){return t|=0,0}function Tp(t,e,i){t|=0,e|=0,i|=0}function Ep(t,e){t|=0,e|=0}function Cp(t,e,i){t|=0,e|=0,i|=0}function Ap(t,e,i){return t|=0,e|=0,i|=0,0}function wp(t){return t|=0,1}function Rp(t,e){t|=0,e|=0}function Dp(t,e){t|=0,e|=0}function Pp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0;o=bD,s=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),d=s+ +gD[t+28>>2],c=s+ +gD[t+32>>2],s+=+gD[t+36>>2],b=+ED(+ +gD[e>>2]),y=+ED(+ +gD[e+4>>2]),g=+ED(+ +gD[e+8>>2]),_=+ED(+ +gD[e+16>>2]),f=+ED(+ +gD[e+20>>2]),p=+ED(+ +gD[e+24>>2]),h=+ED(+ +gD[e+32>>2]),l=+ED(+ +gD[e+36>>2]),a=+ED(+ +gD[e+40>>2]),m=+gD[e+48>>2],u=+gD[e+52>>2],n=+gD[e+56>>2],gD[i>>2]=m-(d*b+c*y+s*g),gD[i+4>>2]=u-(d*_+c*f+s*p),gD[i+8>>2]=n-(d*h+c*l+s*a),gD[i+12>>2]=0,gD[r>>2]=d*b+c*y+s*g+m,gD[r+4>>2]=d*_+c*f+s*p+u,gD[r+8>>2]=d*h+c*l+s*a+n,gD[r+12>>2]=0,bD=o}function Bp(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;r=bD,s=+gD[t+28>>2],n=+gD[t+32>>2],l=+gD[t+36>>2],a=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),o=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),l=(l+ +vP[fD[(fD[t>>2]|0)+48>>2]&15](t))*2,gD[i>>2]=e/12*((n+o)*2*(n+o)*2+l*l),gD[i+4>>2]=e/12*((s+a)*2*(s+a)*2+l*l),gD[i+8>>2]=e/12*((s+a)*2*(s+a)*2+(n+o)*2*(n+o)*2),gD[i+12>>2]=0,bD=r}function Vp(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=15736,i=fD[t+52>>2]|0,(i|0)==0?void(bD=e):(oP[fD[fD[i>>2]>>2]&511](i),t=fD[t+52>>2]|0,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e)))}function Lp(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=15736,i=fD[t+52>>2]|0,(i|0)!=0&&(oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+52>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),(t|0)==0)?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function kp(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;i=bD,c=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),a=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),r=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),d=(c+ +gD[t+28>>2])/+gD[t+12>>2],l=(a+ +gD[t+32>>2])/+gD[t+16>>2],n=(r+ +gD[t+36>>2])/+gD[t+20>>2],h=+ED(+ +gD[e>>2]),s=+ED(+ +gD[e+4>>2]),o=+ED(+ +gD[e+8>>2]),gD[t+12>>2]=h,gD[t+16>>2]=s,gD[t+20>>2]=o,gD[t+24>>2]=0,gD[t+28>>2]=d*h-c,gD[t+32>>2]=l*s-a,gD[t+36>>2]=n*o-r,gD[t+40>>2]=0,bD=i}function Hp(t){return t|=0,5608}function Ip(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0;i=bD,a=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),o=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),s=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),a+=+gD[t+28>>2],o+=+gD[t+32>>2],s+=+gD[t+36>>2],gD[t+44>>2]=e,n=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),r=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),e=s-+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),gD[t+28>>2]=a-n,gD[t+32>>2]=o-r,gD[t+36>>2]=e,gD[t+40>>2]=0,bD=i}function Op(t){return t|=0,+ +gD[t+44>>2]}function Jp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;r=bD,s=+gD[e+28>>2],l=+gD[e+32>>2],o=+gD[e+36>>2],a=+vP[fD[(fD[e>>2]|0)+48>>2]&15](e),n=+vP[fD[(fD[e>>2]|0)+48>>2]&15](e),o+=+vP[fD[(fD[e>>2]|0)+48>>2]&15](e),n=+gD[i+4>>2]>=0?l+n:-(l+n),o=+gD[i+8>>2]>=0?o:-o,gD[t>>2]=+gD[i>>2]>=0?s+a:-(s+a),gD[t+4>>2]=n,gD[t+8>>2]=o,gD[t+12>>2]=0,bD=r}function Np(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;n=+gD[e+28>>2],o=+gD[e+32>>2],o=+gD[i+4>>2]>=0?o:-o,r=+gD[e+36>>2],r=+gD[i+8>>2]>=0?r:-r,gD[t>>2]=+gD[i>>2]>=0?n:-n,gD[t+4>>2]=o,gD[t+8>>2]=r,gD[t+12>>2]=0}function Fp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0;if(o=bD,(r|0)<=0)return void(bD=o);n=0;do l=+gD[t+28>>2],s=+gD[t+32>>2],s=+gD[e+(n<<4)+4>>2]>=0?s:-s,a=+gD[t+36>>2],a=+gD[e+(n<<4)+8>>2]>=0?a:-a,gD[i+(n<<4)>>2]=+gD[e+(n<<4)>>2]>=0?l:-l,gD[i+(n<<4)+4>>2]=s,gD[i+(n<<4)+8>>2]=a,gD[i+(n<<4)+12>>2]=0,n=n+1|0;while((n|0)!=(r|0));bD=o}function Gp(t){return t|=0,6}function zp(t,e,i){switch(t|=0,e|=0,i|=0,t=bD,e|0){case 3:return gD[i>>2]=0,gD[i+4>>2]=-1,gD[i+8>>2]=0,gD[i+12>>2]=0,void(bD=t);case 2:return gD[i>>2]=0,gD[i+4>>2]=1,gD[i+8>>2]=0,gD[i+12>>2]=0,void(bD=t);case 1:return gD[i>>2]=-1,gD[i+4>>2]=0,gD[i+8>>2]=0,gD[i+12>>2]=0,void(bD=t);case 4:return gD[i>>2]=0,gD[i+4>>2]=0,gD[i+8>>2]=1,gD[i+12>>2]=0,void(bD=t);case 0:return gD[i>>2]=1,gD[i+4>>2]=0,gD[i+8>>2]=0,gD[i+12>>2]=0,void(bD=t);case 5:return gD[i>>2]=0,gD[i+4>>2]=0,gD[i+8>>2]=-1,gD[i+12>>2]=0,void(bD=t);default:return void(bD=t)}}function jp(t){return t|=0,8}function Up(t){return t|=0,12}function Wp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;o=bD;do switch(e|0){case 7:n=3;break;case 1:n=0,e=2;break;case 6:n=2;break;case 3:n=2;break;case 0:n=0,e=1;break;case 11:n=6,e=7;break;case 8:n=4,e=5;break;case 10:n=5,e=7;break;case 4:n=0;break;case 2:n=1,e=3;break;case 9:n=4,e=6;break;case 5:n=1;break;default:n=0,e=0}while(0);OP[fD[(fD[t>>2]|0)+108>>2]&127](t,n,i),OP[fD[(fD[t>>2]|0)+108>>2]&127](t,e,r),bD=o}function Xp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;r=bD,l=+gD[t+28>>2],a=+gD[t+32>>2],o=+gD[t+36>>2],s=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),n=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),o+=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),gD[i>>2]=+(e&1^1|0)*(l+s)-+(e&1|0)*(l+s),gD[i+4>>2]=+(e>>>1&1^1|0)*(a+n)-+(e>>>1&1|0)*(a+n),gD[i+8>>2]=+(e>>>2&1^1|0)*o-+(e>>>2&1|0)*o,gD[i+12>>2]=0,bD=r}function qp(t){return t|=0,6}function Kp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0;o=bD,bD=bD+48|0,OP[fD[(fD[t>>2]|0)+124>>2]&127](t,o+32|0,r),s=+gD[o+32>>2],a=+gD[o+36>>2],n=+gD[o+40>>2],gD[e>>2]=s,gD[e+4>>2]=a,gD[e+8>>2]=n,gD[e+12>>2]=0,r=fD[(fD[t>>2]|0)+64>>2]|0,gD[o>>2]=-s,gD[o+4>>2]=-a,gD[o+8>>2]=-n,gD[o+12>>2]=0,OP[r&127](o+16|0,t,o),fD[i+0>>2]=fD[o+16>>2],fD[i+4>>2]=fD[o+20>>2],fD[i+8>>2]=fD[o+24>>2],fD[i+12>>2]=fD[o+28>>2],bD=o}function Yp(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;return r=bD,l=+gD[t+28>>2],o=+gD[t+32>>2],s=+gD[t+36>>2],c=+gD[e>>2],e=((((c<=l+i?c>=-l-i:0)?(a=+gD[e+4>>2],a<=o+i):0)?a>=-o-i:0)?(n=+gD[e+8>>2],n<=s+i):0)?n>=-s-i:0,bD=r,e|0}function Qp(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0;switch(r=bD,n=+gD[t+28>>2],o=+gD[t+32>>2],a=+gD[t+36>>2],i|0){case 2:return gD[e>>2]=0,gD[e+4>>2]=1,gD[e+8>>2]=0,gD[e+12>>2]=-o,void(bD=r);case 3:return gD[e>>2]=0,gD[e+4>>2]=-1,gD[e+8>>2]=0,gD[e+12>>2]=-o,void(bD=r);case 1:return gD[e>>2]=-1,gD[e+4>>2]=0,gD[e+8>>2]=0,gD[e+12>>2]=-n,void(bD=r);case 0:return gD[e>>2]=1,gD[e+4>>2]=0,gD[e+8>>2]=0,gD[e+12>>2]=-n,void(bD=r);case 4:return gD[e>>2]=0,gD[e+4>>2]=0,gD[e+8>>2]=1,gD[e+12>>2]=-a,void(bD=r);case 5:return gD[e>>2]=0,gD[e+4>>2]=0,gD[e+8>>2]=-1,gD[e+12>>2]=-a,void(bD=r);default:return void(bD=r)}}function Zp(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return o=bD,bD=bD+48|0,fD[t+8>>2]=0,gD[t+12>>2]=0,fD[t>>2]=17416,fD[t+48>>2]=e,fD[t+4>>2]=21,lP[fD[(fD[e>>2]|0)+40>>2]&127](e)|0?OP[fD[(fD[e>>2]|0)+48>>2]&127](e,t+16|0,t+32|0):(fD[o+32>>2]=0,fD[o+36>>2]=0,fD[o+40>>2]=0,fD[o+44>>2]=0,gD[o+32>>2]=1,OP[fD[(fD[t>>2]|0)+68>>2]&127](o+16|0,t,o+32|0),gD[t+32>>2]=+gD[o+16>>2]+ +gD[t+12>>2],gD[o+32>>2]=-1,OP[fD[(fD[t>>2]|0)+68>>2]&127](o,t,o+32|0),fD[o+16>>2]=fD[o+0>>2],fD[o+20>>2]=fD[o+4>>2],fD[o+24>>2]=fD[o+8>>2],fD[o+28>>2]=fD[o+12>>2],gD[t+16>>2]=+gD[o+16>>2]-+gD[t+12>>2],fD[o+32>>2]=0,fD[o+36>>2]=0,fD[o+40>>2]=0,fD[o+44>>2]=0,gD[o+36>>2]=1,OP[fD[(fD[t>>2]|0)+68>>2]&127](o+16|0,t,o+32|0),gD[t+36>>2]=+gD[o+20>>2]+ +gD[t+12>>2],gD[o+36>>2]=-1,OP[fD[(fD[t>>2]|0)+68>>2]&127](o,t,o+32|0),fD[o+16>>2]=fD[o+0>>2],fD[o+20>>2]=fD[o+4>>2],fD[o+24>>2]=fD[o+8>>2],fD[o+28>>2]=fD[o+12>>2],gD[t+20>>2]=+gD[o+20>>2]-+gD[t+12>>2],fD[o+32>>2]=0,fD[o+36>>2]=0,fD[o+40>>2]=0,fD[o+44>>2]=0,gD[o+40>>2]=1,OP[fD[(fD[t>>2]|0)+68>>2]&127](o+16|0,t,o+32|0),gD[t+40>>2]=+gD[o+24>>2]+ +gD[t+12>>2],gD[o+40>>2]=-1,OP[fD[(fD[t>>2]|0)+68>>2]&127](o,t,o+32|0),fD[o+16>>2]=fD[o+0>>2],fD[o+20>>2]=fD[o+4>>2],fD[o+24>>2]=fD[o+8>>2],fD[o+28>>2]=fD[o+12>>2],gD[t+24>>2]=+gD[o+24>>2]-+gD[t+12>>2]),fD[t>>2]=5624,fD[t+52>>2]=0,fD[t+56>>2]=0,uD[t+60>>0]=i&1,uD[t+61>>0]=0,fD[t+4>>2]=21,r?(fD[5004]=(fD[5004]|0)+1,i=Ew(191)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),fD[i+52>>2]=282,uD[i+60>>0]=0,uD[i+80>>0]=1,fD[i+76>>2]=0,fD[i+68>>2]=0,fD[i+72>>2]=0,uD[i+100>>0]=1,fD[i+96>>2]=0,fD[i+88>>2]=0,fD[i+92>>2]=0,uD[i+120>>0]=1,fD[i+116>>2]=0,fD[i+108>>2]=0,fD[i+112>>2]=0,uD[i+140>>0]=1,fD[i+136>>2]=0,fD[i+128>>2]=0,fD[i+132>>2]=0,fD[i+144>>2]=0,uD[i+164>>0]=1,fD[i+160>>2]=0,fD[i+152>>2]=0,fD[i+156>>2]=0,fD[i+168>>2]=0,gD[i+4>>2]=-3.4028234663852886e38,gD[i+8>>2]=-3.4028234663852886e38,gD[i+12>>2]=-3.4028234663852886e38,gD[i+16>>2]=0,gD[i+20>>2]=3.4028234663852886e38,gD[i+24>>2]=3.4028234663852886e38,gD[i+28>>2]=3.4028234663852886e38,gD[i+32>>2]=0,fD[i>>2]=14880,fD[t+52>>2]=i,BA(i,fD[t+48>>2]|0,(uD[t+60>>0]|0)!=0,t+16|0,t+32|0),uD[t+61>>0]=1,void(bD=o)):void(bD=o)}function $p(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=5624,(uD[t+61>>0]|0)!=0&&(i=fD[t+52>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+52>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),(t|0)==0)?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function tf(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=5624,(uD[t+61>>0]|0)==0?void(bD=e):(i=fD[t+52>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),t=fD[t+52>>2]|0,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e)))}function ef(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0;if(o=bD,bD=bD+80|0,m=fD[t+48>>2]|0,fD[o>>2]=5808,fD[o+4>>2]=m,fD[o+8>>2]=e,e=fD[t+52>>2]|0,(uD[e+60>>0]|0)==0){s=fD[e+56>>2]|0;t:do if((s|0)>0)for(a=0,n=fD[e+96>>2]|0,t=1;;){if(d=(+gD[i>>2]>+gD[n+16>>2]?!0:+gD[r>>2]<+gD[n>>2])?0:1,(+gD[i+8>>2]>+gD[n+24>>2]?0:!(+gD[r+8>>2]<+gD[n+8>>2]))||(d=0),(+gD[i+4>>2]>+gD[n+20>>2]?!0:+gD[r+4>>2]<+gD[n+4>>2])?(h=fD[n+32>>2]|0,c=(h|0)==-1,d=0,l=43):(h=fD[n+32>>2]|0,(h|0)==-1&d?(OP[fD[(fD[o>>2]|0)+8>>2]&127](o,fD[n+36>>2]|0,fD[n+40>>2]|0),s=fD[e+56>>2]|0,l=44):(c=(h|0)==-1,l=43)),(l|0)==43&&(l=0,d|c?l=44:(a=h+a|0,n=n+(h<<6)|0)),(l|0)==44&&(a=a+1|0,n=n+64|0),(a|0)>=(s|0))break t;t=t+1|0}else t=0;while(0);return(fD[4028]|0)>=(t|0)?void(bD=o):(fD[4028]=t,void(bD=o))}if(b=+gD[i>>2],x=+gD[i+4>>2],A=+gD[i+8>>2],C=+gD[e+4>>2],b=b<C?C:b,S=+gD[e+8>>2],x=x<S?S:x,y=+gD[e+12>>2],A=A<y?y:A,w=+gD[e+20>>2],T=+gD[e+24>>2],v=+gD[e+28>>2],E=+gD[e+36>>2],M=+gD[e+40>>2],g=+gD[e+44>>2],i=~~(((w<b?w:b)-C)*E)&65534,pD[o+66>>1]=i,n=~~(((T<x?T:x)-S)*M)&65534,pD[o+68>>1]=n,t=~~(((v<A?v:A)-y)*g)&65534,pD[o+70>>1]=t,A=+gD[r>>2],x=+gD[r+4>>2],b=+gD[r+8>>2],A=A<C?C:A,x=x<S?S:x,b=b<y?y:b,r=(~~(((w<A?w:A)-C)*E+1)&65535|1)&65535,pD[o+60>>1]=r,s=(~~(((T<x?T:x)-S)*M+1)&65535|1)&65535,pD[o+62>>1]=s,a=(~~(((v<b?v:b)-y)*g+1)&65535|1)&65535,pD[o+64>>1]=a,l=fD[e+144>>2]|0,(l|0)==1){if((fD[e+152>>2]|0)<=0)return void(bD=o);l=0;do{if(h=fD[e+160>>2]|0,((r&65535)>=(mD[h+(l<<5)>>1]|0)?(i&65535)<=(mD[h+(l<<5)+6>>1]|0):0)&(t&65535)<=(mD[h+(l<<5)+10>>1]|0)&(a&65535)>=(mD[h+(l<<5)+4>>1]|0)&(n&65535)<=(mD[h+(l<<5)+8>>1]|0)&(s&65535)>=(mD[h+(l<<5)+2>>1]|0)){c=fD[h+(l<<5)+12>>2]|0,d=fD[h+(l<<5)+16>>2]|0;t:do if((d|0)>0)for(p=c,u=(fD[e+136>>2]|0)+(c<<4)|0,h=1;;){if(f=((r&65535)>=(mD[u>>1]|0)?(i&65535)<=(mD[u+6>>1]|0):0)&(t&65535)<=(mD[u+10>>1]|0)&(a&65535)>=(mD[u+4>>1]|0)&(n&65535)<=(mD[u+8>>1]|0)&(s&65535)>=(mD[u+2>>1]|0),_=u+12|0,m=fD[_>>2]|0,(m|0)>-1&f&&OP[fD[(fD[o>>2]|0)+8>>2]&127](o,m>>21,m&2097151),f|(m|0)>-1?(p=p+1|0,u=u+16|0):(m=fD[_>>2]|0,p=p-m|0,u=u+(0-m<<4)|0),(p|0)>=(d+c|0))break t;h=h+1|0}else h=0;while(0);(fD[4028]|0)<(h|0)&&(fD[4028]=h)}l=l+1|0}while((l|0)<(fD[e+152>>2]|0));return void(bD=o)}if((l|0)==2)return rv(fD[e+136>>2]|0,o,o+66|0,o+60|0),void(bD=o);if((l|0)==0){l=fD[e+56>>2]|0;t:do if((l|0)>0)for(c=0,h=fD[e+136>>2]|0,e=1;;){if(u=((r&65535)>=(mD[h>>1]|0)?(i&65535)<=(mD[h+6>>1]|0):0)&(t&65535)<=(mD[h+10>>1]|0)&(a&65535)>=(mD[h+4>>1]|0)&(n&65535)<=(mD[h+8>>1]|0)&(s&65535)>=(mD[h+2>>1]|0),d=h+12|0,p=fD[d>>2]|0,(p|0)>-1&u&&OP[fD[(fD[o>>2]|0)+8>>2]&127](o,p>>21,p&2097151),u|(p|0)>-1?(c=c+1|0,h=h+16|0):(m=fD[d>>2]|0,c=c-m|0,h=h+(0-m<<4)|0),(c|0)>=(l|0))break t;e=e+1|0}else e=0;while(0);return(fD[4028]|0)>=(e|0)?void(bD=o):(fD[4028]=e,void(bD=o))}return void(bD=o)}function rf(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;return i=bD,s=lP[fD[(fD[t>>2]|0)+28>>2]&127](t)|0,a=+gD[s>>2]-+gD[e>>2],n=+gD[s+4>>2]-+gD[e+4>>2],o=+gD[s+8>>2]-+gD[e+8>>2],a*a+n*n+o*o>1.1920928955078125e-7?(EM(t,e),((uD[t+61>>0]|0)!=0?(r=fD[t+52>>2]|0,oP[fD[fD[r>>2]>>2]&511](r),r=fD[t+52>>2]|0,(r|0)!=0):0)&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[5004]=(fD[5004]|0)+1,r=Ew(191)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),fD[r+52>>2]=282,uD[r+60>>0]=0,uD[r+80>>0]=1,fD[r+76>>2]=0,fD[r+68>>2]=0,fD[r+72>>2]=0,uD[r+100>>0]=1,fD[r+96>>2]=0,fD[r+88>>2]=0,fD[r+92>>2]=0,uD[r+120>>0]=1,fD[r+116>>2]=0,fD[r+108>>2]=0,fD[r+112>>2]=0,uD[r+140>>0]=1,fD[r+136>>2]=0,fD[r+128>>2]=0,fD[r+132>>2]=0,fD[r+144>>2]=0,uD[r+164>>0]=1,fD[r+160>>2]=0,fD[r+152>>2]=0,fD[r+156>>2]=0,fD[r+168>>2]=0,gD[r+4>>2]=-3.4028234663852886e38,gD[r+8>>2]=-3.4028234663852886e38,gD[r+12>>2]=-3.4028234663852886e38,gD[r+16>>2]=0,gD[r+20>>2]=3.4028234663852886e38,gD[r+24>>2]=3.4028234663852886e38,gD[r+28>>2]=3.4028234663852886e38,gD[r+32>>2]=0,fD[r>>2]=14880,fD[t+52>>2]=r,BA(r,fD[t+48>>2]|0,(uD[t+60>>0]|0)!=0,t+16|0,t+32|0),uD[t+61>>0]=1,void(bD=i)):void(bD=i)}function of(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0;r=bD,n=AP[fD[(fD[i>>2]|0)+40>>2]&31](i,t)|0,a=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,n)|0,fD[e>>2]=a,(a|0)!=0&&aP[fD[(fD[i>>2]|0)+48>>2]&127](i,n),fD[e+4>>2]=fD[t+4>>2],a=fD[t+48>>2]|0,gP[fD[(fD[a>>2]|0)+56>>2]&31](a,e+12|0,i)|0,gD[e+52>>2]=+gD[t+12>>2];do{if((fD[t+52>>2]|0)!=0?((lP[fD[(fD[i>>2]|0)+52>>2]&127](i)|0)&1|0)==0:0){if(n=AP[fD[(fD[i>>2]|0)+24>>2]&31](i,fD[t+52>>2]|0)|0,(n|0)==0){fD[e+40>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,fD[t+52>>2]|0)|0,fD[e+44>>2]=0,n=fD[t+52>>2]|0,n=lP[fD[(fD[n>>2]|0)+12>>2]&127](n)|0,n=gP[fD[(fD[i>>2]|0)+16>>2]&31](i,n,1)|0,a=fD[t+52>>2]|0,a=gP[fD[(fD[a>>2]|0)+16>>2]&31](a,fD[n+8>>2]|0,i)|0,iP[fD[(fD[i>>2]|0)+20>>2]&31](i,n,a,1213612625,fD[t+52>>2]|0);break}fD[e+40>>2]=n,fD[e+44>>2]=0;break}o=8}while(0);return(o|0)==8&&(fD[e+40>>2]=0,fD[e+44>>2]=0),((fD[t+56>>2]|0)!=0?((lP[fD[(fD[i>>2]|0)+52>>2]&127](i)|0)&2|0)==0:0)?(o=AP[fD[(fD[i>>2]|0)+24>>2]&31](i,fD[t+56>>2]|0)|0,(o|0)==0?(fD[e+48>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,fD[t+56>>2]|0)|0,n=fD[t+56>>2]|0,n=lP[fD[(fD[n>>2]|0)+8>>2]&127](n)|0,n=gP[fD[(fD[i>>2]|0)+16>>2]&31](i,n,1)|0,a=fD[t+56>>2]|0,a=gP[fD[(fD[a>>2]|0)+12>>2]&31](a,fD[n+8>>2]|0,i)|0,iP[fD[(fD[i>>2]|0)+20>>2]&31](i,n,a,1346456916,fD[t+56>>2]|0),bD=r,5712):(fD[e+48>>2]=o,bD=r,5712)):(fD[e+48>>2]=0,bD=r,5712)}function nf(t,e){t|=0,e|=0;var i=0,r=0,o=0;return i=bD,r=fD[t+52>>2]|0,(r|0)==0?void(bD=i):(o=lP[fD[(fD[r>>2]|0)+12>>2]&127](r)|0,o=gP[fD[(fD[e>>2]|0)+16>>2]&31](e,o,1)|0,r=fD[t+52>>2]|0,r=gP[fD[(fD[r>>2]|0)+16>>2]&31](r,fD[o+8>>2]|0,e)|0,iP[fD[(fD[e>>2]|0)+20>>2]&31](e,o,r,1213612625,fD[t+52>>2]|0),void(bD=i))}function af(t,e){t|=0,e|=0;var i=0,r=0,o=0;return i=bD,r=fD[t+56>>2]|0,(r|0)==0?void(bD=i):(o=lP[fD[(fD[r>>2]|0)+8>>2]&127](r)|0,o=gP[fD[(fD[e>>2]|0)+16>>2]&31](e,o,1)|0,r=fD[t+56>>2]|0,r=gP[fD[(fD[r>>2]|0)+12>>2]&31](r,fD[o+8>>2]|0,e)|0,iP[fD[(fD[e>>2]|0)+20>>2]&31](e,o,r,1346456916,fD[t+56>>2]|0),void(bD=i))}function sf(t){return t|=0,5784}function lf(t,e){t|=0,e=+e,gD[t+12>>2]=e}function cf(t){return t|=0,+ +gD[t+12>>2]}function hf(t){return t|=0,60}function df(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,OP[fD[(fD[e>>2]|0)+68>>2]&127](t,e,i),bD=r}function uf(t){t|=0}function pf(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function ff(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0;for(l=bD,bD=bD+32|0,n=fD[t+4>>2]|0,CP[fD[(fD[n>>2]|0)+16>>2]&3](n,l+28|0,l+24|0,l+20|0,l+16|0,l+12|0,l+8|0,l+4|0,l,e),n=fD[l+12>>2]|0,a=VD(fD[l+8>>2]|0,i)|0,o=fD[t+4>>2]|0,s=fD[l>>2]|0,r=2;;){if(h=(s|0)==2?fD[n+a+(r<<2)>>2]|0:(s|0)==3?mD[n+a+(r<<1)>>1]|0:_D[n+(r+a)>>0]|0,c=fD[l+28>>2]|0,h=VD(fD[l+16>>2]|0,h)|0,(fD[l+20>>2]|0)==0?(u=+gD[c+(h+4)>>2]*+gD[o+8>>2],d=+gD[c+(h+8)>>2]*+gD[o+12>>2],gD[t+(r<<4)+12>>2]=+gD[c+h>>2]*+gD[o+4>>2],gD[t+(r<<4)+16>>2]=u,gD[t+(r<<4)+20>>2]=d,gD[t+(r<<4)+24>>2]=0):(d=+yD[c+(h+8)>>3]*+gD[o+8>>2],u=+yD[c+(h+16)>>3]*+gD[o+12>>2],gD[t+(r<<4)+12>>2]=+yD[c+h>>3]*+gD[o+4>>2],gD[t+(r<<4)+16>>2]=d,gD[t+(r<<4)+20>>2]=u,gD[t+(r<<4)+24>>2]=0),!((r|0)>0))break;r=r+-1|0}h=fD[t+8>>2]|0,GP[fD[(fD[h>>2]|0)+8>>2]&127](h,t+12|0,e,i),h=fD[t+4>>2]|0,aP[fD[(fD[h>>2]|0)+24>>2]&127](h,e),bD=l}function _f(t){t|=0}function mf(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function gf(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0;if(l=bD,bD=bD+80|0,a=fD[t+4>>2]|0,CP[fD[(fD[a>>2]|0)+16>>2]&3](a,l+28|0,l+24|0,l+20|0,l+16|0,l+12|0,l+8|0,l+4|0,l,e),a=fD[l+12>>2]|0,n=VD(fD[l+8>>2]|0,i)|0,r=fD[t+4>>2]|0,s=(fD[l+20>>2]|0)==0,o=fD[l+28>>2]|0,(fD[l>>2]|0)!=3)return c=fD[l+16>>2]|0,h=VD(c,fD[a+(n+8)>>2]|0)|0,s?(p=+gD[o+(h+4)>>2]*+gD[r+8>>2],u=+gD[o+(h+8)>>2]*+gD[r+12>>2],gD[l+64>>2]=+gD[o+h>>2]*+gD[r+4>>2],gD[l+68>>2]=p,gD[l+72>>2]=u,gD[l+76>>2]=0,d=VD(c,fD[a+(n+4)>>2]|0)|0,u=+gD[o+(d+4)>>2]*+gD[r+8>>2],p=+gD[o+(d+8)>>2]*+gD[r+12>>2],gD[l+48>>2]=+gD[o+d>>2]*+gD[r+4>>2],gD[l+52>>2]=u,gD[l+56>>2]=p,gD[l+60>>2]=0,d=VD(c,fD[a+n>>2]|0)|0,p=+gD[o+(d+4)>>2]*+gD[r+8>>2],u=+gD[o+(d+8)>>2]*+gD[r+12>>2],gD[l+32>>2]=+gD[o+d>>2]*+gD[r+4>>2],gD[l+36>>2]=p,gD[l+40>>2]=u,gD[l+44>>2]=0,d=t+8|0,d=fD[d>>2]|0,h=fD[d>>2]|0,h=h+8|0,h=fD[h>>2]|0,GP[h&127](d,l+32|0,e,i),d=fD[t+4>>2]|0,h=fD[d>>2]|0,h=h+24|0,h=fD[h>>2]|0,aP[h&127](d,e),void(bD=l)):(u=+yD[o+(h+8)>>3]*+gD[r+8>>2],p=+yD[o+(h+16)>>3]*+gD[r+12>>2],gD[l+64>>2]=+yD[o+h>>3]*+gD[r+4>>2],gD[l+68>>2]=u,gD[l+72>>2]=p,gD[l+76>>2]=0,d=VD(c,fD[a+(n+4)>>2]|0)|0,p=+yD[o+(d+8)>>3]*+gD[r+8>>2],u=+yD[o+(d+16)>>3]*+gD[r+12>>2],gD[l+48>>2]=+yD[o+d>>3]*+gD[r+4>>2],gD[l+52>>2]=p,gD[l+56>>2]=u,gD[l+60>>2]=0,d=VD(c,fD[a+n>>2]|0)|0,u=+yD[o+(d+8)>>3]*+gD[r+8>>2],p=+yD[o+(d+16)>>3]*+gD[r+12>>2],gD[l+32>>2]=+yD[o+d>>3]*+gD[r+4>>2],gD[l+36>>2]=u,gD[l+40>>2]=p,gD[l+44>>2]=0,d=t+8|0,d=fD[d>>2]|0,h=fD[d>>2]|0,h=h+8|0,h=fD[h>>2]|0,GP[h&127](d,l+32|0,e,i),d=fD[t+4>>2]|0,h=fD[d>>2]|0,h=h+24|0,h=fD[h>>2]|0,aP[h&127](d,e),void(bD=l));for(c=fD[l+16>>2]|0,h=2;;){if(d=VD(c,mD[a+n+(h<<1)>>1]|0)|0,s?(u=+gD[o+(d+4)>>2]*+gD[r+8>>2],p=+gD[o+(d+8)>>2]*+gD[r+12>>2],gD[l+32+(h<<4)>>2]=+gD[o+d>>2]*+gD[r+4>>2],gD[l+32+(h<<4)+4>>2]=u,gD[l+32+(h<<4)+8>>2]=p,gD[l+32+(h<<4)+12>>2]=0):(u=+yD[o+(d+8)>>3]*+gD[r+8>>2],p=+yD[o+(d+16)>>3]*+gD[r+12>>2],gD[l+32+(h<<4)>>2]=+yD[o+d>>3]*+gD[r+4>>2],gD[l+32+(h<<4)+4>>2]=u,gD[l+32+(h<<4)+8>>2]=p,gD[l+32+(h<<4)+12>>2]=0),!((h|0)>0))break;h=h+-1|0}d=t+8|0,d=fD[d>>2]|0,h=fD[d>>2]|0,h=h+8|0,h=fD[h>>2]|0,GP[h&127](d,l+32|0,e,i),d=fD[t+4>>2]|0,h=fD[d>>2]|0,h=h+24|0,h=fD[h>>2]|0,aP[h&127](d,e),bD=l}function yf(t){t|=0}function bf(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function vf(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0;for(l=bD,bD=bD+80|0,s=fD[t+4>>2]|0,CP[fD[(fD[s>>2]|0)+16>>2]&3](s,l+28|0,l+24|0,l+20|0,l+16|0,l+12|0,l+8|0,l+4|0,l,e),s=(fD[l+12>>2]|0)+(VD(fD[l+8>>2]|0,i)|0)|0,n=fD[t+4>>2]|0,r=(fD[l>>2]|0)==3,a=(fD[l+20>>2]|0)==0,o=fD[l+28>>2]|0,c=2;;){if(h=r?mD[s+(c<<1)>>1]|0:fD[s+(c<<2)>>2]|0,h=VD(fD[l+16>>2]|0,h)|0,a?(u=+gD[o+(h+4)>>2]*+gD[n+8>>2],d=+gD[o+(h+8)>>2]*+gD[n+12>>2],gD[l+32+(c<<4)>>2]=+gD[o+h>>2]*+gD[n+4>>2],gD[l+32+(c<<4)+4>>2]=u,gD[l+32+(c<<4)+8>>2]=d,gD[l+32+(c<<4)+12>>2]=0):(d=+yD[o+(h+8)>>3]*+gD[n+8>>2],u=+yD[o+(h+16)>>3]*+gD[n+12>>2],gD[l+32+(c<<4)>>2]=+yD[o+h>>3]*+gD[n+4>>2],gD[l+32+(c<<4)+4>>2]=d,gD[l+32+(c<<4)+8>>2]=u,gD[l+32+(c<<4)+12>>2]=0),!((c|0)>0))break;c=c+-1|0}h=fD[t+8>>2]|0,GP[fD[(fD[h>>2]|0)+8>>2]&127](h,l+32|0,e,i),h=fD[t+4>>2]|0,aP[fD[(fD[h>>2]|0)+24>>2]&127](h,e),bD=l}function Mf(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0;return r=bD,bD=bD+32|0,fD[t+0>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,o=+gD[i>>2],n=+gD[i+4>>2],a=+gD[i+8>>2],o*o+n*n+a*a<9999999747378752e-20?(o=1,n=0,a=0):(p=1/+CD(+(o*o+n*n+a*a)),o*=p,n*=p,a*=p),i=fD[e+52>>2]|0,c=+gD[e+(((i+2|0)%3|0)<<2)+28>>2],fD[r+16>>2]=0,fD[r+20>>2]=0,fD[r+24>>2]=0,fD[r+28>>2]=0,gD[r+16+(i<<2)>>2]=+gD[e+(i<<2)+28>>2],l=o*c,s=n*c,c=a*c,p=l+ +gD[r+16>>2],h=s+ +gD[r+20>>2],d=c+ +gD[r+24>>2],u=+vP[fD[(fD[e>>2]|0)+48>>2]&15](e),p-=o*u,h-=n*u,u=d-a*u,d=a*u+(o*p+n*h),d>-0xde0b6b000000000?(gD[t>>2]=p,gD[t+4>>2]=h,gD[t+8>>2]=u,gD[t+12>>2]=0):d=-0xde0b6b000000000,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,i=fD[e+52>>2]|0,gD[r+(i<<2)>>2]=-+gD[e+(i<<2)+28>>2],l+=+gD[r>>2],s+=+gD[r+4>>2],p=c+ +gD[r+8>>2],c=+vP[fD[(fD[e>>2]|0)+48>>2]&15](e),l-=o*c,s-=n*c,c=p-a*c,a*c+(o*l+n*s)>d?(gD[t>>2]=l,gD[t+4>>2]=s,gD[t+8>>2]=c,gD[t+12>>2]=0,void(bD=r)):void(bD=r)}function Sf(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0;if(o=bD,bD=bD+32|0,s=fD[t+52>>2]|0,n=+gD[t+(((s+2|0)%3|0)<<2)+28>>2],(r|0)<=0)return void(bD=o);for(a=0;;){if(c=t+(s<<2)+28|0,fD[o+16>>2]=0,fD[o+20>>2]=0,fD[o+24>>2]=0,fD[o+28>>2]=0,gD[o+16+(s<<2)>>2]=+gD[c>>2],c=e+(a<<4)|0,l=e+(a<<4)+4|0,s=e+(a<<4)+8|0,g=n*+gD[c>>2]+ +gD[o+16>>2],_=n*+gD[l>>2]+ +gD[o+20>>2],p=n*+gD[s>>2]+ +gD[o+24>>2],b=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),m=+gD[c>>2],f=+gD[l>>2],y=+gD[s>>2],m*(g-b*m)+f*(_-b*f)+y*(p-b*y)>-0xde0b6b000000000?(gD[i+(a<<4)>>2]=g-b*m,gD[i+(a<<4)+4>>2]=_-b*f,gD[i+(a<<4)+8>>2]=p-b*y,gD[i+(a<<4)+12>>2]=0,u=+gD[c>>2],d=+gD[l>>2],h=+gD[s>>2],p=m*(g-b*m)+f*(_-b*f)+y*(p-b*y)):(u=m,d=f,h=y,p=-0xde0b6b000000000),fD[o+0>>2]=0,fD[o+4>>2]=0,fD[o+8>>2]=0,fD[o+12>>2]=0,v=fD[t+52>>2]|0,gD[o+(v<<2)>>2]=-+gD[t+(v<<2)+28>>2],u=n*u+ +gD[o>>2],d=n*d+ +gD[o+4>>2],f=n*h+ +gD[o+8>>2],h=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),_=+gD[c>>2],m=+gD[l>>2],g=+gD[s>>2],_*(u-h*_)+m*(d-h*m)+g*(f-h*g)>p&&(gD[i+(a<<4)>>2]=u-h*_,gD[i+(a<<4)+4>>2]=d-h*m,gD[i+(a<<4)+8>>2]=f-h*g,gD[i+(a<<4)+12>>2]=0),a=a+1|0,(a|0)==(r|0))break;s=fD[t+52>>2]|0}bD=o}function xf(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0,s=0;r=bD,bD=bD+16|0,s=fD[t+52>>2]|0,n=+gD[t+(((s+2|0)%3|0)<<2)+28>>2],gD[r>>2]=n,gD[r+4>>2]=n,gD[r+8>>2]=n,gD[r+12>>2]=0,gD[r+(s<<2)>>2]=+gD[t+(s<<2)+28>>2]+ +gD[r+(s<<2)>>2],n=(+gD[r>>2]+.03999999910593033)*2,o=(+gD[r+4>>2]+.03999999910593033)*2,a=(+gD[r+8>>2]+.03999999910593033)*2,gD[i>>2]=e*.0833333283662796*(o*o+a*a),gD[i+4>>2]=e*.0833333283662796*(n*n+a*a),gD[i+8>>2]=e*.0833333283662796*(n*n+o*o),bD=r
}function Tf(t){t|=0}function Ef(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function Cf(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0;o=bD,bD=bD+16|0,v=fD[t+52>>2]|0,s=+gD[t+(((v+2|0)%3|0)<<2)+28>>2],gD[o>>2]=s,gD[o+4>>2]=s,gD[o+8>>2]=s,gD[o+12>>2]=0,gD[o+(v<<2)>>2]=s+ +gD[t+(v<<2)+28>>2],s=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),n=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),h=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),s+=+gD[o>>2],gD[o>>2]=s,n+=+gD[o+4>>2],gD[o+4>>2]=n,h+=+gD[o+8>>2],g=+ED(+ +gD[e>>2]),m=+ED(+ +gD[e+4>>2]),y=+ED(+ +gD[e+8>>2]),p=+ED(+ +gD[e+16>>2]),u=+ED(+ +gD[e+20>>2]),f=+ED(+ +gD[e+24>>2]),l=+ED(+ +gD[e+32>>2]),a=+ED(+ +gD[e+36>>2]),c=+ED(+ +gD[e+40>>2]),b=+gD[e+48>>2],_=+gD[e+52>>2],d=+gD[e+56>>2],gD[i>>2]=b-(h*y+(g*s+m*n)),gD[i+4>>2]=_-(h*f+(p*s+u*n)),gD[i+8>>2]=d-(h*c+(l*s+a*n)),gD[i+12>>2]=0,gD[r>>2]=b+(h*y+(g*s+m*n)),gD[r+4>>2]=_+(h*f+(p*s+u*n)),gD[r+8>>2]=d+(h*c+(l*s+a*n)),gD[r+12>>2]=0,bD=o}function Af(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;i=bD,c=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),a=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),r=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),d=(c+ +gD[t+28>>2])/+gD[t+12>>2],l=(a+ +gD[t+32>>2])/+gD[t+16>>2],n=(r+ +gD[t+36>>2])/+gD[t+20>>2],h=+ED(+ +gD[e>>2]),s=+ED(+ +gD[e+4>>2]),o=+ED(+ +gD[e+8>>2]),gD[t+12>>2]=h,gD[t+16>>2]=s,gD[t+20>>2]=o,gD[t+24>>2]=0,gD[t+28>>2]=d*h-c,gD[t+32>>2]=l*s-a,gD[t+36>>2]=n*o-r,gD[t+40>>2]=0,bD=i}function wf(t){return t|=0,6776}function Rf(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+0>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,gD[t+(fD[e+52>>2]<<2)>>2]=1,bD=i}function Df(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0;i=bD,a=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),o=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),s=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),a+=+gD[t+28>>2],o+=+gD[t+32>>2],s+=+gD[t+36>>2],gD[t+44>>2]=e,n=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),r=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),e=s-+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),gD[t+28>>2]=a-n,gD[t+32>>2]=o-r,gD[t+36>>2]=e,gD[t+40>>2]=0,bD=i}function Pf(t){return t|=0,60}function Bf(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;return r=bD,o=AP[fD[(fD[i>>2]|0)+40>>2]&31](i,t)|0,n=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,o)|0,fD[e>>2]=n,(n|0)!=0&&aP[fD[(fD[i>>2]|0)+48>>2]&127](i,o),fD[e+4>>2]=fD[t+4>>2],gD[e+28>>2]=+gD[t+28>>2],gD[e+32>>2]=+gD[t+32>>2],gD[e+36>>2]=+gD[t+36>>2],gD[e+40>>2]=+gD[t+40>>2],gD[e+12>>2]=+gD[t+12>>2],gD[e+16>>2]=+gD[t+16>>2],gD[e+20>>2]=+gD[t+20>>2],gD[e+24>>2]=+gD[t+24>>2],gD[e+44>>2]=+gD[t+44>>2],fD[e+52>>2]=fD[t+52>>2],bD=r,6752}function Vf(t){t|=0}function Lf(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function kf(t){return t|=0,6736}function Hf(t){t|=0}function If(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function Of(t){return t|=0,6720}function Jf(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;return r=bD,bD=bD+80|0,o=fD[fD[t>>2]>>2]|0,n=fD[fD[t+4>>2]>>2]|0,gP[fD[(fD[e>>2]|0)+24>>2]&31](e,o,n)|0?(a=fD[o+192>>2]|0,fD[r+56>>2]=0,fD[r+60>>2]=a,fD[r+64>>2]=o,fD[r+68>>2]=o+4,fD[r+72>>2]=-1,fD[r+76>>2]=-1,a=fD[n+192>>2]|0,fD[r+32>>2]=0,fD[r+36>>2]=a,fD[r+40>>2]=n,fD[r+44>>2]=n+4,fD[r+48>>2]=-1,fD[r+52>>2]=-1,a=fD[t+8>>2]|0,(a|0)==0&&(a=uP[fD[(fD[e>>2]|0)+8>>2]&31](e,r+56|0,r+32|0,0)|0,fD[t+8>>2]=a,(a|0)==0)?void(bD=r):(fD[r>>2]=13504,fD[r+4>>2]=0,fD[r+8>>2]=r+56,fD[r+12>>2]=r+32,(fD[i+8>>2]|0)==1?(iP[fD[(fD[a>>2]|0)+8>>2]&31](a,r+56|0,r+32|0,i,r),void(bD=r)):(s=+mP[fD[(fD[a>>2]|0)+12>>2]&15](a,o,n,i,r),+gD[i+12>>2]>s?(gD[i+12>>2]=s,void(bD=r)):void(bD=r)))):void(bD=r)}function Nf(t){t|=0}function Ff(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=6808,i=fD[t+20>>2]|0,(i|0)!=0&&((uD[t+24>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+20>>2]=0),uD[t+24>>0]=1,fD[t+20>>2]=0,fD[t+12>>2]=0,fD[t+16>>2]=0,Cw(t),bD=e}function Gf(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=6808,i=fD[t+20>>2]|0,(i|0)!=0&&((uD[t+24>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+20>>2]=0),uD[t+24>>0]=1,fD[t+20>>2]=0,fD[t+12>>2]=0,fD[t+16>>2]=0,bD=e}function zf(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(r=bD,bD=bD+16|0,fD[1698]=(fD[1698]|0)+1,(fD[t+4>>2]&2|0)==0?n=15720:(n=fD[e+192>>2]|0,a=+BP[fD[(fD[n>>2]|0)+20>>2]&1](n,.019999999552965164),gD[r+4>>2]=a,n=fD[i+192>>2]|0,s=+BP[fD[(fD[n>>2]|0)+20>>2]&1](n,.019999999552965164),gD[r>>2]=s,n=a<s?r+4|0:r),s=+gD[n>>2],h=+gD[e+184>>2],a=+gD[i+184>>2],a=h<a?h:a,l=fD[t+68>>2]|0,n=fD[l+8>>2]|0,(n|0)==0){if((fD[t+4>>2]&4|0)!=0)return c=0,bD=r,c|0;fD[5004]=(fD[5004]|0)+1,n=Ew(791)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16)}else c=fD[l+12>>2]|0,fD[l+12>>2]=fD[c>>2],fD[l+8>>2]=n+-1,n=c;if(fD[n>>2]=1025,fD[n+116>>2]=0,uD[n+120>>0]=0,c=n+124|0,fD[c+0>>2]=0,fD[c+4>>2]=0,fD[c+8>>2]=0,fD[c+12>>2]=0,fD[c+16>>2]=0,fD[c+20>>2]=0,fD[c+24>>2]=0,fD[c+28>>2]=0,fD[n+300>>2]=0,uD[n+304>>0]=0,c=n+308|0,fD[c+0>>2]=0,fD[c+4>>2]=0,fD[c+8>>2]=0,fD[c+12>>2]=0,fD[c+16>>2]=0,fD[c+20>>2]=0,fD[c+24>>2]=0,fD[c+28>>2]=0,fD[n+484>>2]=0,uD[n+488>>0]=0,c=n+492|0,fD[c+0>>2]=0,fD[c+4>>2]=0,fD[c+8>>2]=0,fD[c+12>>2]=0,fD[c+16>>2]=0,fD[c+20>>2]=0,fD[c+24>>2]=0,fD[c+28>>2]=0,fD[n+668>>2]=0,uD[n+672>>0]=0,c=n+676|0,fD[c+0>>2]=0,fD[c+4>>2]=0,fD[c+8>>2]=0,fD[c+12>>2]=0,fD[c+16>>2]=0,fD[c+20>>2]=0,fD[c+24>>2]=0,fD[c+28>>2]=0,fD[n+740>>2]=e,fD[n+744>>2]=i,fD[n+748>>2]=0,gD[n+752>>2]=s,gD[n+756>>2]=a,fD[n+768>>2]=fD[t+12>>2],i=fD[t+12>>2]|0,(i|0)==(fD[t+16>>2]|0)?(o=(i|0)==0?1:i<<1,(i|0)<(o|0)):0){if((o|0)==0?e=0:(fD[5004]=(fD[5004]|0)+1,e=Ew((o<<2|3)+16|0)|0,(e|0)==0?e=0:(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16),i=fD[t+12>>2]|0),(i|0)>0){c=0;do l=e+(c<<2)|0,(l|0)!=0&&(fD[l>>2]=fD[(fD[t+20>>2]|0)+(c<<2)>>2]),c=c+1|0;while((c|0)!=(i|0))}l=fD[t+20>>2]|0,(l|0)!=0&&((uD[t+24>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[l+-4>>2]|0),i=fD[t+12>>2]|0),fD[t+20>>2]=0),uD[t+24>>0]=1,fD[t+20>>2]=e,fD[t+16>>2]=o}return o=(fD[t+20>>2]|0)+(i<<2)|0,(o|0)!=0&&(fD[o>>2]=n),fD[t+12>>2]=i+1,c=n,bD=r,c|0}function jf(t,e){t|=0,e|=0;var i=0,r=0;if(t=bD,i=fD[e+748>>2]|0,(i|0)>0){r=0;do r=r+1|0;while((r|0)<(i|0))}fD[e+748>>2]=0,bD=t}function Uf(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;return i=bD,fD[1698]=(fD[1698]|0)+-1,aP[fD[(fD[t>>2]|0)+20>>2]&127](t,e),r=fD[e+768>>2]|0,o=(fD[t+12>>2]|0)+-1|0,a=fD[t+20>>2]|0,n=fD[a+(r<<2)>>2]|0,fD[a+(r<<2)>>2]=fD[a+(o<<2)>>2],fD[(fD[t+20>>2]|0)+(o<<2)>>2]=n,fD[(fD[(fD[t+20>>2]|0)+(r<<2)>>2]|0)+768>>2]=r,fD[t+12>>2]=(fD[t+12>>2]|0)+-1,t=fD[t+68>>2]|0,(e|0)==0?void(bD=i):(a=fD[t+16>>2]|0,(a>>>0>e>>>0?0:(a+(VD(fD[t>>2]|0,fD[t+4>>2]|0)|0)|0)>>>0>e>>>0)?(fD[e>>2]=fD[t+12>>2],fD[t+12>>2]=e,fD[t+8>>2]=(fD[t+8>>2]|0)+1,void(bD=i)):(fD[5006]=(fD[5006]|0)+1,Cw(fD[e+-4>>2]|0),void(bD=i)))}function Wf(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return o=bD,bD=bD+16|0,fD[o>>2]=t,fD[o+4>>2]=r,r=fD[t+((fD[(fD[e+4>>2]|0)+4>>2]|0)*144|0)+(fD[(fD[i+4>>2]|0)+4>>2]<<2)+72>>2]|0,r=uP[fD[(fD[r>>2]|0)+8>>2]&31](r,o,e,i)|0,bD=o,r|0}function Xf(t,e,i){t|=0,e|=0,i|=0;var r=0;return t=bD,e=fD[e+204>>2]|0,i=((e&4|0)==0?(r=fD[i+204>>2]|0,(r&4|0)==0):0)?(e&3|0)==0?1:(r&3|0)==0:0,bD=t,i|0}function qf(t,e,i){t|=0,e|=0,i|=0;var r=0;return t=bD,r=fD[e+216>>2]|0,e=((r|0)==2|(r|0)==5?(r=fD[i+216>>2]|0,(r|0)==2|(r|0)==5):0)?0:(fD[e+256>>2]|0)==0?1:AP[fD[fD[e>>2]>>2]&31](e,i)|0,bD=t,e|0}function Kf(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,bD=bD+16|0,fD[o>>2]=6920,fD[o+4>>2]=i,fD[o+8>>2]=t,OP[fD[(fD[e>>2]|0)+48>>2]&127](e,o,r),bD=o}function Yf(t){t|=0}function Qf(t,e){t|=0,e|=0;var i=0,r=0;return i=bD,t=fD[t+64>>2]|0,r=fD[t+8>>2]|0,(r|0)!=0?(e=fD[t+12>>2]|0,fD[t+12>>2]=fD[e>>2],fD[t+8>>2]=r+-1,r=e,bD=i,r|0):(fD[5004]=(fD[5004]|0)+1,e=Ew(e+19|0)|0,(e|0)==0?(r=0,bD=i,r|0):(fD[(e+19&-16)+-4>>2]=e,r=e+19&-16,bD=i,r|0))}function Zf(t,e){t|=0,e|=0;var i=0,r=0;return i=bD,t=fD[t+64>>2]|0,(e|0)==0?void(bD=i):(r=fD[t+16>>2]|0,(r>>>0>e>>>0?0:(r+(VD(fD[t>>2]|0,fD[t+4>>2]|0)|0)|0)>>>0>e>>>0)?(fD[e>>2]=fD[t+12>>2],fD[t+12>>2]=e,fD[t+8>>2]=(fD[t+8>>2]|0)+1,void(bD=i)):(fD[5006]=(fD[5006]|0)+1,Cw(fD[e+-4>>2]|0),void(bD=i)))}function $f(t){return t|=0,fD[t+12>>2]|0}function t_(t,e){return t|=0,e|=0,fD[(fD[t+20>>2]|0)+(e<<2)>>2]|0}function e_(t){return t|=0,t=(fD[t+12>>2]|0)==0?0:fD[t+20>>2]|0,t|0}function i_(t){return t|=0,fD[t+68>>2]|0}function r_(t){return t|=0,fD[t+68>>2]|0}function o_(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function n_(t,e){t|=0,e|=0;var i=0,r=0;return i=bD,r=fD[t+8>>2]|0,OP[fD[r+60>>2]&127](e,r,fD[t+4>>2]|0),bD=i,0}function a_(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function s_(t,e,i){t|=0,e|=0,i|=0,fD[t+16>>2]=e,fD[t+24>>2]=i}function l_(t,e,i){t|=0,e|=0,i|=0,fD[t+20>>2]=e,fD[t+28>>2]=i}function c_(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0;return r=bD,gD[e+16>>2]=+gD[t+4>>2],gD[e+20>>2]=+gD[t+8>>2],gD[e+24>>2]=+gD[t+12>>2],gD[e+28>>2]=+gD[t+16>>2],gD[e+32>>2]=+gD[t+20>>2],gD[e+36>>2]=+gD[t+24>>2],gD[e+40>>2]=+gD[t+28>>2],gD[e+44>>2]=+gD[t+32>>2],gD[e+48>>2]=+gD[t+36>>2],gD[e+52>>2]=+gD[t+40>>2],gD[e+56>>2]=+gD[t+44>>2],gD[e+60>>2]=+gD[t+48>>2],gD[e+64>>2]=+gD[t+52>>2],gD[e+68>>2]=+gD[t+56>>2],gD[e+72>>2]=+gD[t+60>>2],gD[e+76>>2]=+gD[t+64>>2],gD[e+80>>2]=+gD[t+68>>2],gD[e+84>>2]=+gD[t+72>>2],gD[e+88>>2]=+gD[t+76>>2],gD[e+92>>2]=+gD[t+80>>2],gD[e+96>>2]=+gD[t+84>>2],gD[e+100>>2]=+gD[t+88>>2],gD[e+104>>2]=+gD[t+92>>2],gD[e+108>>2]=+gD[t+96>>2],gD[e+112>>2]=+gD[t+100>>2],gD[e+116>>2]=+gD[t+104>>2],gD[e+120>>2]=+gD[t+108>>2],gD[e+124>>2]=+gD[t+112>>2],gD[e+128>>2]=+gD[t+116>>2],gD[e+132>>2]=+gD[t+120>>2],gD[e+136>>2]=+gD[t+124>>2],gD[e+140>>2]=+gD[t+128>>2],gD[e+144>>2]=+gD[t+132>>2],gD[e+148>>2]=+gD[t+136>>2],gD[e+152>>2]=+gD[t+140>>2],gD[e+156>>2]=+gD[t+144>>2],gD[e+160>>2]=+gD[t+148>>2],gD[e+164>>2]=+gD[t+152>>2],gD[e+168>>2]=+gD[t+156>>2],gD[e+172>>2]=+gD[t+160>>2],gD[e+176>>2]=+gD[t+164>>2],gD[e+180>>2]=+gD[t+168>>2],gD[e+184>>2]=+gD[t+172>>2],gD[e+188>>2]=+gD[t+176>>2],fD[e+224>>2]=fD[t+180>>2],gD[e+192>>2]=+gD[t+184>>2],fD[e>>2]=0,fD[e+4>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,fD[t+192>>2]|0)|0,fD[e+8>>2]=0,fD[e+228>>2]=fD[t+204>>2],fD[e+232>>2]=fD[t+208>>2],fD[e+236>>2]=fD[t+212>>2],fD[e+240>>2]=fD[t+216>>2],gD[e+196>>2]=+gD[t+220>>2],gD[e+200>>2]=+gD[t+224>>2],gD[e+204>>2]=+gD[t+232>>2],gD[e+208>>2]=+gD[t+228>>2],fD[e+244>>2]=fD[t+236>>2],o=AP[fD[(fD[i>>2]|0)+40>>2]&31](i,t)|0,n=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,o)|0,fD[e+12>>2]=n,(n|0)==0?(i=t+244|0,a=+gD[i>>2],i=e+212|0,gD[i>>2]=a,i=t+248|0,a=+gD[i>>2],i=e+216|0,gD[i>>2]=a,i=t+252|0,a=+gD[i>>2],i=e+220|0,gD[i>>2]=a,i=t+256|0,i=fD[i>>2]|0,n=e+248|0,fD[n>>2]=i,bD=r,7016):(aP[fD[(fD[i>>2]|0)+48>>2]&127](i,o),i=t+244|0,a=+gD[i>>2],i=e+212|0,gD[i>>2]=a,i=t+248|0,a=+gD[i>>2],i=e+216|0,gD[i>>2]=a,i=t+252|0,a=+gD[i>>2],i=e+220|0,gD[i>>2]=a,i=t+256|0,i=fD[i>>2]|0,n=e+248|0,fD[n>>2]=i,bD=r,7016)}function h_(t,e){t|=0,e|=0;var i=0,r=0,o=0;i=bD,o=lP[fD[(fD[t>>2]|0)+16>>2]&127](t)|0,o=gP[fD[(fD[e>>2]|0)+16>>2]&31](e,o,1)|0,r=gP[fD[(fD[t>>2]|0)+20>>2]&31](t,fD[o+8>>2]|0,e)|0,iP[fD[(fD[e>>2]|0)+20>>2]&31](e,o,r,1245859651,t),bD=i}function d_(t,e){return t|=0,e|=0,1}function u_(t){return t|=0,256}function p_(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;r=bD,bD=bD+96|0,gD[r+32>>2]=1,fD[r+36>>2]=0,fD[r+40>>2]=0,fD[r+44>>2]=0,fD[r+48>>2]=0,gD[r+52>>2]=1,fD[r+56>>2]=0,fD[r+60>>2]=0,fD[r+64>>2]=0,fD[r+68>>2]=0,gD[r+72>>2]=1,h=r+76|0,fD[h+0>>2]=0,fD[h+4>>2]=0,fD[h+8>>2]=0,fD[h+12>>2]=0,fD[h+16>>2]=0,GP[fD[(fD[t>>2]|0)+8>>2]&127](t,r+32|0,r+16|0,r),l=+gD[r>>2],c=+gD[r+16>>2],a=+gD[r+4>>2],s=+gD[r+20>>2],o=+gD[r+8>>2],n=+gD[r+24>>2],gD[i>>2]=+CD(+((l-c)*(l-c)+(a-s)*(a-s)+(o-n)*(o-n)))*.5,gD[e>>2]=(c+l)*.5,gD[e+4>>2]=(s+a)*.5,gD[e+8>>2]=(n+o)*.5,gD[e+12>>2]=0,bD=r}function f_(t,e){t|=0,e=+e;var i=0;return i=bD,e=+vP[fD[(fD[t>>2]|0)+16>>2]&15](t)*e,bD=i,+e}function __(t){t|=0;var e=0,i=0,r=0,o=0;return e=bD,bD=bD+32|0,OP[fD[(fD[t>>2]|0)+12>>2]&127](t,e+8|0,e),o=+gD[e+8>>2],r=+gD[e+12>>2],i=+gD[e+16>>2],i=+CD(+(o*o+r*r+i*i)),bD=e,+(i+ +gD[e>>2])}function m_(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0;a=bD,GP[fD[(fD[t>>2]|0)+8>>2]&127](t,e,o,n),f=+gD[n>>2],u=+gD[n+4>>2],s=+gD[n+8>>2],c=+gD[o>>2],p=+gD[o+4>>2],l=+gD[o+8>>2],_=+gD[i>>2],d=+gD[i+4>>2],h=+gD[i+8>>2],_>0?f+=_:c+=_,d>0?u+=d:p+=d,h>0?s+=h:l+=h,h=+gD[r>>2],d=+gD[r+4>>2],_=+gD[r+8>>2],_=+CD(+(h*h+d*d+_*_)),_*=+vP[fD[(fD[t>>2]|0)+16>>2]&15](t),gD[o>>2]=c,gD[o+4>>2]=p,gD[o+8>>2]=l,gD[o+12>>2]=0,gD[n>>2]=f,gD[n+4>>2]=u,gD[n+8>>2]=s,gD[n+12>>2]=0,gD[o>>2]=+gD[o>>2]-_,gD[o+4>>2]=+gD[o+4>>2]-_,gD[o+8>>2]=+gD[o+8>>2]-_,gD[n>>2]=_+ +gD[n>>2],gD[n+4>>2]=_+ +gD[n+4>>2],gD[n+8>>2]=_+ +gD[n+8>>2],bD=a}function g_(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;return r=bD,o=AP[fD[(fD[i>>2]|0)+40>>2]&31](i,t)|0,n=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,o)|0,fD[e>>2]=n,(n|0)!=0&&aP[fD[(fD[i>>2]|0)+48>>2]&127](i,o),fD[e+4>>2]=fD[t+4>>2],bD=r,7080}function y_(t,e){t|=0,e|=0;var i=0,r=0,o=0;i=bD,o=lP[fD[(fD[t>>2]|0)+52>>2]&127](t)|0,o=gP[fD[(fD[e>>2]|0)+16>>2]&31](e,o,1)|0,r=gP[fD[(fD[t>>2]|0)+56>>2]&31](t,fD[o+8>>2]|0,e)|0,iP[fD[(fD[e>>2]|0)+20>>2]&31](e,o,r,1346455635,t),bD=i}function b_(t){return t|=0,12}function v_(t){t|=0;var e=0;e=bD,M_(t),Cw(t),bD=e}function M_(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0;if(e=bD,fD[t>>2]=7144,i=fD[t+8>>2]|0,o=fD[t+16>>2]|0,(i|0)>0){r=0;do n=(fD[o+(r<<2)>>2]|0)+188|0,a=fD[n>>2]|0,(a|0)!=0&&(i=fD[t+68>>2]|0,i=lP[fD[(fD[i>>2]|0)+36>>2]&127](i)|0,OP[fD[(fD[i>>2]|0)+40>>2]&127](i,a,fD[t+24>>2]|0),i=fD[t+68>>2]|0,OP[fD[(fD[i>>2]|0)+12>>2]&127](i,a,fD[t+24>>2]|0),fD[n>>2]=0,i=fD[t+8>>2]|0,o=fD[t+16>>2]|0),r=r+1|0;while((r|0)<(i|0))}return(o|0)==0?(uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,a=t+12|0,fD[a>>2]=0,void(bD=e)):((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[t+16>>2]=0,uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,a=t+12|0,fD[a>>2]=0,void(bD=e))}function S_(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0;if(o=bD,bD=bD+96|0,s=fD[t+8>>2]|0,(s|0)==(fD[t+12>>2]|0)?(n=(s|0)==0?1:s<<1,(s|0)<(n|0)):0){if((n|0)==0?a=0:(fD[5004]=(fD[5004]|0)+1,a=Ew((n<<2|3)+16|0)|0,(a|0)==0?a=0:(fD[(a+19&-16)+-4>>2]=a,a=a+19&-16),s=fD[t+8>>2]|0),(s|0)>0){l=0;do c=a+(l<<2)|0,(c|0)!=0&&(fD[c>>2]=fD[(fD[t+16>>2]|0)+(l<<2)>>2]),l=l+1|0;while((l|0)!=(s|0))}l=fD[t+16>>2]|0,(l|0)!=0&&((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[l+-4>>2]|0),s=fD[t+8>>2]|0),fD[t+16>>2]=0),uD[t+20>>0]=1,fD[t+16>>2]=a,fD[t+12>>2]=n}n=(fD[t+16>>2]|0)+(s<<2)|0,(n|0)!=0&&(fD[n>>2]=e),fD[t+8>>2]=s+1,fD[o+32>>2]=fD[e+4>>2],fD[o+36>>2]=fD[e+8>>2],fD[o+40>>2]=fD[e+12>>2],fD[o+44>>2]=fD[e+16>>2],fD[o+48>>2]=fD[e+20>>2],fD[o+52>>2]=fD[e+24>>2],fD[o+56>>2]=fD[e+28>>2],fD[o+60>>2]=fD[e+32>>2],fD[o+64>>2]=fD[e+36>>2],fD[o+68>>2]=fD[e+40>>2],fD[o+72>>2]=fD[e+44>>2],fD[o+76>>2]=fD[e+48>>2],fD[o+80>>2]=fD[e+52>>2],fD[o+84>>2]=fD[e+56>>2],fD[o+88>>2]=fD[e+60>>2],fD[o+92>>2]=fD[e+64>>2],c=fD[e+192>>2]|0,GP[fD[(fD[c>>2]|0)+8>>2]&127](c,o+32|0,o+16|0,o),c=fD[t+68>>2]|0,fD[e+188>>2]=HP[fD[(fD[c>>2]|0)+8>>2]&3](c,o+16|0,o,fD[(fD[e+192>>2]|0)+4>>2]|0,e,i,r,fD[t+24>>2]|0,0)|0,bD=o}function x_(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0;if(e=bD,bD=bD+64|0,Gx(7424),u=fD[t+8>>2]|0,(u|0)>0){r=0;do o=fD[(fD[t+16>>2]|0)+(r<<2)>>2]|0,((uD[t+76>>0]|0)==0?(p=fD[o+216>>2]|0,(p|0)==2|(p|0)==5):0)||(p=fD[o+192>>2]|0,GP[fD[(fD[p>>2]|0)+8>>2]&127](p,o+4|0,e+48|0,e+32|0),a=+gD[e+48>>2]+-.019999999552965164,gD[e+48>>2]=a,n=+gD[e+52>>2]+-.019999999552965164,gD[e+52>>2]=n,c=+gD[e+56>>2]+-.019999999552965164,gD[e+56>>2]=c,h=+gD[e+32>>2]+.019999999552965164,gD[e+32>>2]=h,l=+gD[e+36>>2]+.019999999552965164,gD[e+36>>2]=l,s=+gD[e+40>>2]+.019999999552965164,gD[e+40>>2]=s,(((uD[t+44>>0]|0)!=0?(fD[o+236>>2]|0)==2:0)?(fD[o+204>>2]&3|0)==0:0)&&(p=fD[o+192>>2]|0,GP[fD[(fD[p>>2]|0)+8>>2]&127](p,o+68|0,e+16|0,e),a=+gD[e+16>>2]+-.019999999552965164,gD[e+16>>2]=a,n=+gD[e+20>>2]+-.019999999552965164,gD[e+20>>2]=n,c=+gD[e+24>>2]+-.019999999552965164,gD[e+24>>2]=c,h=+gD[e>>2]+.019999999552965164,gD[e>>2]=h,l=+gD[e+4>>2]+.019999999552965164,gD[e+4>>2]=l,s=+gD[e+8>>2]+.019999999552965164,gD[e+8>>2]=s,d=+gD[e+48>>2],a<d?gD[e+48>>2]=a:a=d,d=+gD[e+52>>2],n<d?gD[e+52>>2]=n:n=d,d=+gD[e+56>>2],c<d?gD[e+56>>2]=c:c=d,d=+gD[e+28>>2],d<+gD[e+60>>2]&&(gD[e+60>>2]=d),d=+gD[e+32>>2],d<h?gD[e+32>>2]=h:h=d,d=+gD[e+36>>2],d<l?gD[e+36>>2]=l:l=d,d=+gD[e+40>>2],d<s?gD[e+40>>2]=s:s=d,d=+gD[e+12>>2],+gD[e+44>>2]<d&&(gD[e+44>>2]=d)),u=fD[t+68>>2]|0,((fD[o+204>>2]&1|0)==0?(a=h-a,h=l-n,d=s-c,a*a+h*h+d*d<999999995904):!0)?iP[fD[(fD[u>>2]|0)+16>>2]&31](u,fD[o+188>>2]|0,e+48|0,e+32|0,fD[t+24>>2]|0):(((fD[o+216>>2]|0)+-4|0)>>>0<2||(fD[o+216>>2]=5),((uD[7200]|0)!=0?(i=fD[t+72>>2]|0,(i|0)!=0):0)&&(uD[7200]=0,aP[fD[(fD[i>>2]|0)+36>>2]&127](i,7208),p=fD[t+72>>2]|0,aP[fD[(fD[p>>2]|0)+36>>2]&127](p,7264),p=fD[t+72>>2]|0,aP[fD[(fD[p>>2]|0)+36>>2]&127](p,7336),p=fD[t+72>>2]|0,aP[fD[(fD[p>>2]|0)+36>>2]&127](p,7408))),u=fD[t+8>>2]|0),r=r+1|0;while((r|0)<(u|0))}if(t=fD[5022]|0,p=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=p,(p|0)!=0)return void(bD=e);do if((fD[t+4>>2]|0)!=0){if($D(e+48|0,0)|0,p=fD[5008]|0,gD[t+8>>2]=+(((fD[e+52>>2]|0)-(fD[p+4>>2]|0)+(((fD[e+48>>2]|0)-(fD[p>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)==0){t=fD[5022]|0;break}return void(bD=e)}while(0);fD[5022]=fD[t+20>>2],bD=e}function T_(t){t|=0;var e=0,i=0;if(e=bD,bD=bD+16|0,Gx(7440),i=fD[t+68>>2]|0,aP[fD[(fD[i>>2]|0)+32>>2]&127](i,fD[t+24>>2]|0),t=fD[5022]|0,i=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=i,(i|0)!=0)return void(bD=e);do if((fD[t+4>>2]|0)!=0){if($D(e|0,0)|0,i=fD[5008]|0,gD[t+8>>2]=+(((fD[e+4>>2]|0)-(fD[i+4>>2]|0)+(((fD[e>>2]|0)-(fD[i>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)==0){t=fD[5022]|0;break}return void(bD=e)}while(0);fD[5022]=fD[t+20>>2],bD=e}function E_(t){t|=0;var e=0,i=0,r=0,o=0;e=bD,bD=bD+16|0,Gx(7472),oP[fD[(fD[t>>2]|0)+8>>2]&511](t),oP[fD[(fD[t>>2]|0)+12>>2]&511](t),i=fD[t+24>>2]|0,Gx(7512),(i|0)!=0&&(o=fD[(fD[i>>2]|0)+32>>2]|0,r=fD[t+68>>2]|0,r=lP[fD[(fD[r>>2]|0)+36>>2]&127](r)|0,GP[o&127](i,r,t+28|0,fD[t+24>>2]|0)),t=fD[5022]|0,o=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=o;do if((o|0)==0){if((fD[t+4>>2]|0)!=0){if($D(e|0,0)|0,i=fD[5008]|0,gD[t+8>>2]=+(((fD[e+4>>2]|0)-(fD[i+4>>2]|0)+(((fD[e>>2]|0)-(fD[i>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],i=fD[5022]|0,(fD[t+16>>2]|0)!=0){t=i;break}t=i}t=fD[t+20>>2]|0,fD[5022]=t}while(0);if(i=t+16|0,o=(fD[i>>2]|0)+-1|0,fD[i>>2]=o,(o|0)!=0)return void(bD=e);do if((fD[t+4>>2]|0)!=0){if($D(e|0,0)|0,r=fD[5008]|0,o=t+8|0,gD[o>>2]=+(((fD[e+4>>2]|0)-(fD[r+4>>2]|0)+(((fD[e>>2]|0)-(fD[r>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[o>>2],(fD[i>>2]|0)==0){t=fD[5022]|0;break}return void(bD=e)}while(0);fD[5022]=fD[t+20>>2],bD=e}function C_(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(r=bD,o=fD[e+188>>2]|0,(o|0)!=0&&(l=fD[t+68>>2]|0,l=lP[fD[(fD[l>>2]|0)+36>>2]&127](l)|0,OP[fD[(fD[l>>2]|0)+40>>2]&127](l,o,fD[t+24>>2]|0),l=fD[t+68>>2]|0,OP[fD[(fD[l>>2]|0)+12>>2]&127](l,o,fD[t+24>>2]|0),fD[e+188>>2]=0),o=fD[t+8>>2]|0,(o|0)<=0)return void(bD=r);for(n=fD[t+16>>2]|0,a=0;;){if(s=n+(a<<2)|0,l=a+1|0,(fD[s>>2]|0)==(e|0))break;if(!((l|0)<(o|0))){i=9;break}a=l}return(i|0)==9?void(bD=r):(a|0)>=(o|0)?void(bD=r):(fD[s>>2]=fD[n+(o+-1<<2)>>2],fD[(fD[t+16>>2]|0)+(o+-1<<2)>>2]=e,fD[t+8>>2]=o+-1,void(bD=r))}function A_(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0;if(o=bD,bD=bD+1392|0,fD[o+1192>>2]=0,gD[o+1196>>2]=1,gD[o+1200>>2]=1,gD[o+1204>>2]=1,gD[o+1208>>2]=0,fD[o+1184>>2]=16680,fD[o+1188>>2]=8,gD[o+1212>>2]=0,gD[o+1228>>2]=0,v=fD[i+4>>2]|0,b=fD[i+12>>2]|0,M=fD[v+4>>2]|0,(M|0)<20)return fD[o+1008>>2]=9440,fD[o+1176>>2]=0,gD[o+1180>>2]=0,gD[o+1172>>2]=+gD[r+4>>2],gD[o+956>>2]=9999999747378752e-20,uD[o+980>>0]=0,fD[o+632>>2]=17152,fD[o+636>>2]=o+648,fD[o+640>>2]=o+1184,fD[o+644>>2]=v,fD[o+616>>2]=13184,fD[o+620>>2]=o+648,fD[o+624>>2]=o+1184,fD[o+628>>2]=v,D=(fD[r+16>>2]&4|0)==0?o+616|0:o+632|0,MP[fD[(fD[D>>2]|0)+8>>2]&3](D,t,e,b,b,o+1008|0)|0?(b=o+1140|0,s=+gD[b>>2],n=+gD[o+1144>>2],l=+gD[o+1148>>2],s*s+n*n+l*l>9999999747378752e-20?(a=+gD[o+1172>>2],a<+gD[r+4>>2]?(w=1/+CD(+(s*s+n*n+l*l)),gD[b>>2]=s*w,gD[o+1144>>2]=n*w,gD[o+1148>>2]=l*w,fD[o+584>>2]=fD[i+8>>2],fD[o+588>>2]=0,fD[o+592>>2]=fD[b+0>>2],fD[o+596>>2]=fD[b+4>>2],fD[o+600>>2]=fD[b+8>>2],fD[o+604>>2]=fD[b+12>>2],gD[o+608>>2]=a,+wP[fD[(fD[r>>2]|0)+12>>2]&15](r,o+584|0,1),void(bD=o)):void(bD=o)):void(bD=o)):void(bD=o);if((M+-21|0)>>>0<9)return f=+gD[b>>2],_=+gD[b+16>>2],p=+gD[b+32>>2],m=+gD[b+4>>2],g=+gD[b+20>>2],u=+gD[b+36>>2],A=+gD[b+8>>2],w=+gD[b+24>>2],d=+gD[b+40>>2],y=-+gD[b+48>>2],E=-+gD[b+52>>2],C=-+gD[b+56>>2],l=+gD[t+48>>2],c=+gD[t+52>>2],h=+gD[t+56>>2],gD[o+568>>2]=f*y+_*E+p*C+(f*l+_*c+p*h),gD[o+572>>2]=m*y+g*E+u*C+(m*l+g*c+u*h),gD[o+576>>2]=A*y+w*E+d*C+(A*l+w*c+d*h),gD[o+580>>2]=0,a=+gD[e+48>>2],n=+gD[e+52>>2],s=+gD[e+56>>2],p=f*y+_*E+p*C+(f*a+_*n+p*s),u=m*y+g*E+u*C+(m*a+g*n+u*s),d=A*y+w*E+d*C+(A*a+w*n+d*s),gD[o+552>>2]=p,gD[o+556>>2]=u,gD[o+560>>2]=d,gD[o+564>>2]=0,e=fD[v+4>>2]|0,(e|0)==25?(D=fD[i+8>>2]|0,R=fD[r+16>>2]|0,fD[o+316>>2]=fD[o+568>>2],fD[o+320>>2]=fD[o+572>>2],fD[o+324>>2]=fD[o+576>>2],fD[o+328>>2]=fD[o+580>>2],fD[o+332>>2]=fD[o+552>>2],fD[o+336>>2]=fD[o+556>>2],fD[o+340>>2]=fD[o+560>>2],fD[o+344>>2]=fD[o+564>>2],fD[o+348>>2]=R,gD[o+352>>2]=1,fD[o+312>>2]=9248,fD[o+356>>2]=r,fD[o+360>>2]=D,fD[o+364>>2]=v,fD[o+368>>2]=fD[b+0>>2],fD[o+372>>2]=fD[b+4>>2],fD[o+376>>2]=fD[b+8>>2],fD[o+380>>2]=fD[b+12>>2],fD[o+384>>2]=fD[b+16>>2],fD[o+388>>2]=fD[b+20>>2],fD[o+392>>2]=fD[b+24>>2],fD[o+396>>2]=fD[b+28>>2],fD[o+400>>2]=fD[b+32>>2],fD[o+404>>2]=fD[b+36>>2],fD[o+408>>2]=fD[b+40>>2],fD[o+412>>2]=fD[b+44>>2],fD[o+416>>2]=fD[b+48>>2],fD[o+420>>2]=fD[b+52>>2],fD[o+424>>2]=fD[b+56>>2],fD[o+428>>2]=fD[b+60>>2],gD[o+352>>2]=+gD[r+4>>2],GP[fD[(fD[v>>2]|0)+144>>2]&127](v,o+312|0,o+568|0,o+552|0),void(bD=o)):(e|0)==21?(D=fD[i+8>>2]|0,R=fD[r+16>>2]|0,fD[o+436>>2]=fD[o+568>>2],fD[o+440>>2]=fD[o+572>>2],fD[o+444>>2]=fD[o+576>>2],fD[o+448>>2]=fD[o+580>>2],fD[o+452>>2]=fD[o+552>>2],fD[o+456>>2]=fD[o+556>>2],fD[o+460>>2]=fD[o+560>>2],fD[o+464>>2]=fD[o+564>>2],fD[o+468>>2]=R,gD[o+472>>2]=1,fD[o+432>>2]=9248,fD[o+476>>2]=r,fD[o+480>>2]=D,fD[o+484>>2]=v,fD[o+488>>2]=fD[b+0>>2],fD[o+492>>2]=fD[b+4>>2],fD[o+496>>2]=fD[b+8>>2],fD[o+500>>2]=fD[b+12>>2],fD[o+504>>2]=fD[b+16>>2],fD[o+508>>2]=fD[b+20>>2],fD[o+512>>2]=fD[b+24>>2],fD[o+516>>2]=fD[b+28>>2],fD[o+520>>2]=fD[b+32>>2],fD[o+524>>2]=fD[b+36>>2],fD[o+528>>2]=fD[b+40>>2],fD[o+532>>2]=fD[b+44>>2],fD[o+536>>2]=fD[b+48>>2],fD[o+540>>2]=fD[b+52>>2],fD[o+544>>2]=fD[b+56>>2],fD[o+548>>2]=fD[b+60>>2],gD[o+472>>2]=+gD[r+4>>2],r=fD[v+48>>2]|0,fD[o+1272>>2]=6152,fD[o+1276>>2]=r,fD[o+1280>>2]=o+432,r=fD[v+52>>2]|0,fD[o+1328>>2]=0,fD[o+1332>>2]=0,fD[o+1336>>2]=0,fD[o+1340>>2]=0,fD[o+1304>>2]=0,fD[o+1308>>2]=0,fD[o+1312>>2]=0,fD[o+1316>>2]=0,(uD[r+60>>0]|0)==0?(ov(r,o+1272|0,o+568|0,p,u,d,o+1328|0,o+1304|0),void(bD=o)):(nv(r,o+1272|0,o+568|0,p,u,d,o+1328|0,o+1304|0,fD[r+56>>2]|0),void(bD=o))):(B=+gD[b>>2],P=+gD[b+16>>2],p=+gD[b+32>>2],f=+gD[b+4>>2],_=+gD[b+20>>2],m=+gD[b+36>>2],C=+gD[b+8>>2],A=+gD[b+24>>2],w=+gD[b+40>>2],g=-+gD[b+48>>2],y=-+gD[b+52>>2],E=-+gD[b+56>>2],u=B*g+P*y+p*E+(B*l+P*c+p*h),d=f*g+_*y+m*E+(f*l+_*c+m*h),c=C*g+A*y+w*E+(C*l+A*c+w*h),h=B*g+P*y+p*E+(B*a+P*n+p*s),l=f*g+_*y+m*E+(f*a+_*n+m*s),n=C*g+A*y+w*E+(C*a+A*n+w*s),D=fD[i+8>>2]|0,R=fD[r+16>>2]|0,gD[o+196>>2]=u,gD[o+200>>2]=d,gD[o+204>>2]=c,gD[o+208>>2]=0,gD[o+212>>2]=h,gD[o+216>>2]=l,gD[o+220>>2]=n,gD[o+224>>2]=0,fD[o+228>>2]=R,gD[o+232>>2]=1,fD[o+192>>2]=9056,fD[o+236>>2]=r,fD[o+240>>2]=D,fD[o+244>>2]=v,fD[o+248>>2]=fD[b+0>>2],fD[o+252>>2]=fD[b+4>>2],fD[o+256>>2]=fD[b+8>>2],fD[o+260>>2]=fD[b+12>>2],fD[o+264>>2]=fD[b+16>>2],fD[o+268>>2]=fD[b+20>>2],fD[o+272>>2]=fD[b+24>>2],fD[o+276>>2]=fD[b+28>>2],fD[o+280>>2]=fD[b+32>>2],fD[o+284>>2]=fD[b+36>>2],fD[o+288>>2]=fD[b+40>>2],fD[o+292>>2]=fD[b+44>>2],fD[o+296>>2]=fD[b+48>>2],fD[o+300>>2]=fD[b+52>>2],fD[o+304>>2]=fD[b+56>>2],fD[o+308>>2]=fD[b+60>>2],gD[o+232>>2]=+gD[r+4>>2],gD[o+176>>2]=u,gD[o+180>>2]=d,gD[o+184>>2]=c,gD[o+188>>2]=0,h<u&&(gD[o+176>>2]=h),l<d&&(gD[o+180>>2]=l),n<c&&(gD[o+184>>2]=n),gD[o+160>>2]=u,gD[o+164>>2]=d,gD[o+168>>2]=c,gD[o+172>>2]=0,u<h&&(gD[o+160>>2]=h),d<l&&(gD[o+164>>2]=l),c<n&&(gD[o+168>>2]=n),GP[fD[(fD[v>>2]|0)+64>>2]&127](v,o+192|0,o+176|0,o+160|0),void(bD=o));if((M|0)!=31)return void(bD=o);if(M=fD[v+64>>2]|0,D=fD[i+8>>2]|0,fD[o+128>>2]=8840,fD[o+132>>2]=D,fD[o+136>>2]=v,fD[o+140>>2]=b,fD[o+144>>2]=t,fD[o+148>>2]=e,fD[o+152>>2]=r,(M|0)==0){if(r=fD[v+16>>2]|0,(r|0)<=0)return void(bD=o);for(i=0;;){if(D=fD[v+24>>2]|0,R=fD[D+(i*80|0)+64>>2]|0,Ld(o+1328|0,b,D+(i*80|0)|0),D=fD[o+132>>2]|0,fD[o+1304>>2]=0,fD[o+1308>>2]=R,fD[o+1312>>2]=D,fD[o+1316>>2]=o+1328,fD[o+1320>>2]=-1,fD[o+1324>>2]=i,D=fD[o+152>>2]|0,gD[o+1276>>2]=1,fD[o+1280>>2]=0,pD[o+1284>>1]=1,pD[o+1286>>1]=-1,fD[o+1288>>2]=0,fD[o+1272>>2]=8664,fD[o+1292>>2]=D,fD[o+1296>>2]=i,gD[o+1276>>2]=+gD[D+4>>2],fD[o+1288>>2]=fD[D+16>>2],A_(fD[o+144>>2]|0,fD[o+148>>2]|0,o+1304|0,o+1272|0),i=i+1|0,(i|0)>=(r|0))break;v=fD[o+136>>2]|0,b=fD[o+140>>2]|0}return void(bD=o)}if(R_(o+64|0,b,t),h=+gD[o+112>>2],d=+gD[o+116>>2],c=+gD[o+120>>2],R_(o,b,e),v=fD[M>>2]|0,(v|0)==0)return void(bD=o);u=+gD[o+48>>2]-h,f=+gD[o+52>>2]-d,_=+gD[o+56>>2]-c,p=1/+CD(+(u*u+f*f+_*_)),m=u*p==0?0xde0b6b000000000:1/(u*p),g=f*p==0?0xde0b6b000000000:1/(f*p),y=_*p==0?0xde0b6b000000000:1/(_*p),r=m<0&1,b=g<0&1,i=y<0&1,fD[5004]=(fD[5004]|0)+1,e=Ew(531)|0,(e|0)==0?x=0:(fD[(e+19&-16)+-4>>2]=e,x=e+19&-16),t=0;do e=x+(t<<2)|0,(e|0)!=0&&(fD[e>>2]=0),t=t+1|0;while((t|0)!=128);fD[x>>2]=v,M=128,T=128,v=1,S=126;do{e=v+-1|0,t=fD[x+(e<<2)>>2]|0,fD[o+1240>>2]=fD[t+0>>2],fD[o+1244>>2]=fD[t+4>>2],fD[o+1248>>2]=fD[t+8>>2],fD[o+1252>>2]=fD[t+12>>2],fD[o+1256>>2]=fD[t+16>>2],fD[o+1260>>2]=fD[t+20>>2],fD[o+1264>>2]=fD[t+24>>2],fD[o+1268>>2]=fD[t+28>>2],A=m*(+gD[o+1240+(r<<4)>>2]-h),E=m*(+gD[o+1240+((r^1)<<4)>>2]-h),w=g*(+gD[o+1240+(b<<4)+4>>2]-d),C=g*(+gD[o+1240+((b^1)<<4)+4>>2]-d);do if(((A>C|w>E?!0:(l=w>A?w:A,a=C<E?C:E,s=y*(+gD[o+1240+(i<<4)+8>>2]-c),n=y*(+gD[o+1240+((i^1)<<4)+8>>2]-c),l>n|s>a))?0:(s>l?s:l)<u*p*u+f*p*f+_*p*_)?(n<a?n:a)>0:0){if((fD[t+40>>2]|0)==0){aP[fD[(fD[o+128>>2]|0)+12>>2]&127](o+128|0,t),v=e;break}if((e|0)>(S|0)){if(S=M<<1,(M|0)<(S|0)){do if((T|0)<(S|0)){do if((M|0)==0)T=0;else{if(fD[5004]=(fD[5004]|0)+1,T=Ew((M<<3|3)+16|0)|0,(T|0)==0?T=0:(fD[(T+19&-16)+-4>>2]=T,T=T+19&-16),!((M|0)>0))break;R=0;do D=T+(R<<2)|0,(D|0)!=0&&(fD[D>>2]=fD[x+(R<<2)>>2]),R=R+1|0;while((R|0)!=(M|0))}while(0);if((x|0)==0){x=T,T=S;break}fD[5006]=(fD[5006]|0)+1,Cw(fD[x+-4>>2]|0),x=T,T=S}while(0);do R=x+(M<<2)|0,(R|0)!=0&&(fD[R>>2]=0),M=M+1|0;while((M|0)!=(S|0))}M=S,S=S+-2|0}fD[x+(e<<2)>>2]=fD[t+36>>2],fD[x+(v<<2)>>2]=fD[t+40>>2],v=v+1|0}else v=e;while(0)}while((v|0)!=0);return(x|0)==0?void(bD=o):(fD[5006]=(fD[5006]|0)+1,Cw(fD[x+-4>>2]|0),void(bD=o))}function w_(t){t|=0}function R_(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0;l=+gD[i+48>>2]-+gD[e+48>>2],a=+gD[i+52>>2]-+gD[e+52>>2],o=+gD[i+56>>2]-+gD[e+56>>2],f=+gD[e>>2],x=+gD[i>>2],p=+gD[e+16>>2],S=+gD[i+16>>2],u=+gD[e+32>>2],M=+gD[i+32>>2],v=+gD[i+4>>2],b=+gD[i+20>>2],y=+gD[i+36>>2],g=+gD[i+8>>2],m=+gD[i+24>>2],_=+gD[i+40>>2],d=+gD[e+4>>2],h=+gD[e+20>>2],c=+gD[e+36>>2],s=+gD[e+8>>2],n=+gD[e+24>>2],r=+gD[e+40>>2],gD[t>>2]=f*x+p*S+u*M,gD[t+4>>2]=f*v+p*b+u*y,gD[t+8>>2]=f*g+p*m+u*_,gD[t+12>>2]=0,gD[t+16>>2]=x*d+S*h+M*c,gD[t+20>>2]=v*d+b*h+y*c,gD[t+24>>2]=g*d+m*h+_*c,gD[t+28>>2]=0,gD[t+32>>2]=x*s+S*n+M*r,gD[t+36>>2]=v*s+b*n+y*r,gD[t+40>>2]=g*s+m*n+_*r,gD[t+44>>2]=0,gD[t+48>>2]=l*f+a*p+o*u,gD[t+52>>2]=l*d+a*h+o*c,gD[t+56>>2]=l*s+a*n+o*r,gD[t+60>>2]=0}function D_(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n;var a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0;if(a=bD,bD=bD+1664|0,s=fD[r+4>>2]|0,l=fD[r+12>>2]|0,T=fD[s+4>>2]|0,(T|0)<20)return fD[a+1424>>2]=9440,fD[a+1592>>2]=0,gD[a+1596>>2]=n,gD[a+1588>>2]=+gD[o+4>>2],gD[a+1372>>2]=9999999747378752e-20,uD[a+1396>>0]=0,fD[a+1056>>2]=13248,fD[a+1032>>2]=10152,fD[a+1036>>2]=a+1064,fD[a+1040>>2]=a+1056,fD[a+1044>>2]=t,fD[a+1048>>2]=s,fD[a+1052>>2]=0,fT(a+1032|0,e,i,l,l,a+1424|0)|0?(s=a+1556|0,d=+gD[s>>2],h=+gD[a+1560>>2],c=+gD[a+1564>>2],d*d+h*h+c*c>9999999747378752e-20?(n=+gD[a+1588>>2],n<+gD[o+4>>2]?(x=1/+CD(+(d*d+h*h+c*c)),gD[s>>2]=d*x,gD[a+1560>>2]=h*x,gD[a+1564>>2]=c*x,fD[a+984>>2]=fD[r+8>>2],fD[a+988>>2]=0,fD[a+992>>2]=fD[s+0>>2],fD[a+996>>2]=fD[s+4>>2],fD[a+1e3>>2]=fD[s+8>>2],fD[a+1004>>2]=fD[s+12>>2],fD[a+1008>>2]=fD[a+1572>>2],fD[a+1012>>2]=fD[a+1576>>2],fD[a+1016>>2]=fD[a+1580>>2],fD[a+1020>>2]=fD[a+1584>>2],gD[a+1024>>2]=n,+wP[fD[(fD[o>>2]|0)+12>>2]&15](o,a+984|0,1),void(bD=a)):void(bD=a)):void(bD=a)):void(bD=a);if(!((T+-21|0)>>>0<9)){if((T|0)!=31)return void(bD=a);if(Gx(7544),(fD[s+16>>2]|0)>0){T=0;do C=fD[s+24>>2]|0,c=+gD[C+(T*80|0)>>2],u=+gD[C+(T*80|0)+4>>2],_=+gD[C+(T*80|0)+8>>2],h=+gD[C+(T*80|0)+16>>2],p=+gD[C+(T*80|0)+20>>2],g=+gD[C+(T*80|0)+24>>2],d=+gD[C+(T*80|0)+32>>2],f=+gD[C+(T*80|0)+36>>2],b=+gD[C+(T*80|0)+40>>2],L=+gD[C+(T*80|0)+48>>2],V=+gD[C+(T*80|0)+52>>2],x=+gD[C+(T*80|0)+56>>2],C=fD[C+(T*80|0)+64>>2]|0,B=+gD[l>>2],P=+gD[l+4>>2],D=+gD[l+8>>2],R=+gD[l+16>>2],w=+gD[l+20>>2],A=+gD[l+24>>2],m=+gD[l+32>>2],y=+gD[l+36>>2],v=+gD[l+40>>2],M=L*B+V*P+x*D+ +gD[l+48>>2],S=L*R+V*w+x*A+ +gD[l+52>>2],x=L*m+V*y+x*v+ +gD[l+56>>2],gD[a+1600>>2]=c*B+h*P+d*D,gD[a+1604>>2]=u*B+p*P+f*D,gD[a+1608>>2]=_*B+g*P+b*D,gD[a+1612>>2]=0,gD[a+1616>>2]=c*R+h*w+d*A,gD[a+1620>>2]=u*R+p*w+f*A,gD[a+1624>>2]=_*R+g*w+b*A,gD[a+1628>>2]=0,gD[a+1632>>2]=c*m+h*y+d*v,gD[a+1636>>2]=u*m+p*y+f*v,gD[a+1640>>2]=_*m+g*y+b*v,gD[a+1644>>2]=0,gD[a+1648>>2]=M,gD[a+1652>>2]=S,gD[a+1656>>2]=x,gD[a+1660>>2]=0,pD[a+32>>1]=1,pD[a+34>>1]=-1,fD[a+24>>2]=8024,fD[a+36>>2]=o,fD[a+40>>2]=T,gD[a+28>>2]=+gD[o+4>>2],E=fD[r+8>>2]|0,fD[a>>2]=r,fD[a+4>>2]=C,fD[a+8>>2]=E,fD[a+12>>2]=a+1600,fD[a+16>>2]=-1,fD[a+20>>2]=T,D_(t,e,i,a,a+24|0,n),T=T+1|0;while((T|0)<(fD[s+16>>2]|0))}if(r=fD[5022]|0,C=(fD[r+16>>2]|0)+-1|0,fD[r+16>>2]=C,(C|0)!=0)return void(bD=a);do if((fD[r+4>>2]|0)!=0){if($D(a+1600|0,0)|0,C=fD[5008]|0,gD[r+8>>2]=+(((fD[a+1604>>2]|0)-(fD[C+4>>2]|0)+(((fD[a+1600>>2]|0)-(fD[C>>2]|0)|0)*1e6|0)-(fD[r+12>>2]|0)|0)>>>0)/1e3+ +gD[r+8>>2],(fD[r+16>>2]|0)==0){r=fD[5022]|0;break}return void(bD=a)}while(0);return fD[5022]=fD[r+20>>2],void(bD=a)}return(T|0)==21?(m=+gD[l>>2],h=+gD[l+16>>2],d=+gD[l+32>>2],u=+gD[l+4>>2],p=+gD[l+20>>2],f=+gD[l+36>>2],x=+gD[l+8>>2],M=+gD[l+24>>2],b=+gD[l+40>>2],_=-+gD[l+48>>2],c=-+gD[l+52>>2],g=-+gD[l+56>>2],y=+gD[e+48>>2],v=+gD[e+52>>2],S=+gD[e+56>>2],gD[a+968>>2]=m*_+h*c+d*g+(m*y+h*v+d*S),gD[a+972>>2]=u*_+p*c+f*g+(u*y+p*v+f*S),gD[a+976>>2]=x*_+M*c+b*g+(x*y+M*v+b*S),gD[a+980>>2]=0,S=+gD[i+48>>2],v=+gD[i+52>>2],y=+gD[i+56>>2],k=+gD[i>>2],A=+gD[i+16>>2],w=+gD[i+32>>2],R=+gD[i+4>>2],D=+gD[i+20>>2],P=+gD[i+36>>2],B=+gD[i+8>>2],V=+gD[i+24>>2],L=+gD[i+40>>2],gD[a+904>>2]=m*k+h*A+d*w,gD[a+908>>2]=m*R+h*D+d*P,gD[a+912>>2]=m*B+h*V+d*L,gD[a+916>>2]=0,gD[a+920>>2]=u*k+p*A+f*w,gD[a+924>>2]=u*R+p*D+f*P,gD[a+928>>2]=u*B+p*V+f*L,gD[a+932>>2]=0,gD[a+936>>2]=x*k+M*A+b*w,gD[a+940>>2]=x*R+M*D+b*P,gD[a+944>>2]=x*B+M*V+b*L,C=a+948|0,fD[C+0>>2]=0,fD[C+4>>2]=0,fD[C+8>>2]=0,fD[C+12>>2]=0,fD[C+16>>2]=0,r=fD[r+8>>2]|0,L=+vP[fD[(fD[s>>2]|0)+48>>2]&15](s),fD[a+680>>2]=16256,fD[a+684>>2]=t,fD[a+688>>2]=fD[e+0>>2],fD[a+692>>2]=fD[e+4>>2],fD[a+696>>2]=fD[e+8>>2],fD[a+700>>2]=fD[e+12>>2],fD[a+704>>2]=fD[e+16>>2],fD[a+708>>2]=fD[e+20>>2],fD[a+712>>2]=fD[e+24>>2],fD[a+716>>2]=fD[e+28>>2],fD[a+720>>2]=fD[e+32>>2],fD[a+724>>2]=fD[e+36>>2],fD[a+728>>2]=fD[e+40>>2],fD[a+732>>2]=fD[e+44>>2],fD[a+736>>2]=fD[e+48>>2],fD[a+740>>2]=fD[e+52>>2],fD[a+744>>2]=fD[e+56>>2],fD[a+748>>2]=fD[e+60>>2],fD[a+752>>2]=fD[i+0>>2],fD[a+756>>2]=fD[i+4>>2],fD[a+760>>2]=fD[i+8>>2],fD[a+764>>2]=fD[i+12>>2],fD[a+768>>2]=fD[i+16>>2],fD[a+772>>2]=fD[i+20>>2],fD[a+776>>2]=fD[i+24>>2],fD[a+780>>2]=fD[i+28>>2],fD[a+784>>2]=fD[i+32>>2],fD[a+788>>2]=fD[i+36>>2],fD[a+792>>2]=fD[i+40>>2],fD[a+796>>2]=fD[i+44>>2],fD[a+800>>2]=fD[i+48>>2],fD[a+804>>2]=fD[i+52>>2],fD[a+808>>2]=fD[i+56>>2],fD[a+812>>2]=fD[i+60>>2],fD[a+816>>2]=fD[l+0>>2],fD[a+820>>2]=fD[l+4>>2],fD[a+824>>2]=fD[l+8>>2],fD[a+828>>2]=fD[l+12>>2],fD[a+832>>2]=fD[l+16>>2],fD[a+836>>2]=fD[l+20>>2],fD[a+840>>2]=fD[l+24>>2],fD[a+844>>2]=fD[l+28>>2],fD[a+848>>2]=fD[l+32>>2],fD[a+852>>2]=fD[l+36>>2],fD[a+856>>2]=fD[l+40>>2],fD[a+860>>2]=fD[l+44>>2],fD[a+864>>2]=fD[l+48>>2],fD[a+868>>2]=fD[l+52>>2],fD[a+872>>2]=fD[l+56>>2],fD[a+876>>2]=fD[l+60>>2],gD[a+884>>2]=L,fD[a+680>>2]=8448,fD[a+892>>2]=o,fD[a+896>>2]=r,fD[a+900>>2]=s,gD[a+880>>2]=+gD[o+4>>2],gD[a+888>>2]=n,GP[fD[(fD[t>>2]|0)+8>>2]&127](t,a+904|0,a+664|0,a+648|0),r=fD[s+48>>2]|0,fD[a+1600>>2]=5992,fD[a+1604>>2]=r,fD[a+1608>>2]=a+680,r=fD[s+52>>2]|0,(uD[r+60>>0]|0)==0?(ov(r,a+1600|0,a+968|0,m*_+h*c+d*g+(m*S+h*v+d*y),u*_+p*c+f*g+(u*S+p*v+f*y),x*_+M*c+b*g+(x*S+M*v+b*y),a+664|0,a+648|0),void(bD=a)):(nv(r,a+1600|0,a+968|0,m*_+h*c+d*g+(m*S+h*v+d*y),u*_+p*c+f*g+(u*S+p*v+f*y),x*_+M*c+b*g+(x*S+M*v+b*y),a+664|0,a+648|0,fD[r+56>>2]|0),void(bD=a))):(T|0)==28?(fD[a+472>>2]=9440,fD[a+640>>2]=0,gD[a+644>>2]=n,gD[a+636>>2]=+gD[o+4>>2],fD[a+448>>2]=10152,fD[a+452>>2]=0,fD[a+456>>2]=0,fD[a+460>>2]=t,fD[a+464>>2]=0,fD[a+468>>2]=s,fT(a+448|0,e,i,l,l,a+472|0)|0?(s=a+604|0,n=+gD[s>>2],c=+gD[a+608>>2],h=+gD[a+612>>2],n*n+c*c+h*h>9999999747378752e-20?(d=+gD[a+636>>2],d<+gD[o+4>>2]?(k=1/+CD(+(n*n+c*c+h*h)),gD[s>>2]=n*k,gD[a+608>>2]=c*k,gD[a+612>>2]=h*k,fD[a+400>>2]=fD[r+8>>2],fD[a+404>>2]=0,fD[a+408>>2]=fD[s+0>>2],fD[a+412>>2]=fD[s+4>>2],fD[a+416>>2]=fD[s+8>>2],fD[a+420>>2]=fD[s+12>>2],fD[a+424>>2]=fD[a+620>>2],fD[a+428>>2]=fD[a+624>>2],fD[a+432>>2]=fD[a+628>>2],fD[a+436>>2]=fD[a+632>>2],gD[a+440>>2]=d,+wP[fD[(fD[o>>2]|0)+12>>2]&15](o,a+400|0,1),void(bD=a)):void(bD=a)):void(bD=a)):void(bD=a)):(_=+gD[l>>2],m=+gD[l+16>>2],g=+gD[l+32>>2],y=+gD[l+4>>2],b=+gD[l+20>>2],v=+gD[l+36>>2],D=+gD[l+8>>2],B=+gD[l+24>>2],L=+gD[l+40>>2],w=-+gD[l+48>>2],A=-+gD[l+52>>2],x=-+gD[l+56>>2],M=+gD[e+48>>2],S=+gD[e+52>>2],h=+gD[e+56>>2],f=_*w+m*A+g*x+(_*M+m*S+g*h),d=y*w+b*A+v*x+(y*M+b*S+v*h),h=D*w+B*A+L*x+(D*M+B*S+L*h),S=+gD[i+48>>2],M=+gD[i+52>>2],c=+gD[i+56>>2],p=_*w+m*A+g*x+(_*S+m*M+g*c),u=y*w+b*A+v*x+(y*S+b*M+v*c),c=D*w+B*A+L*x+(D*S+B*M+L*c),M=+gD[i>>2],S=+gD[i+16>>2],x=+gD[i+32>>2],A=+gD[i+4>>2],w=+gD[i+20>>2],R=+gD[i+36>>2],P=+gD[i+8>>2],V=+gD[i+24>>2],k=+gD[i+40>>2],gD[a+336>>2]=_*M+m*S+g*x,gD[a+340>>2]=_*A+m*w+g*R,gD[a+344>>2]=_*P+m*V+g*k,gD[a+348>>2]=0,gD[a+352>>2]=y*M+b*S+v*x,gD[a+356>>2]=y*A+b*w+v*R,gD[a+360>>2]=y*P+b*V+v*k,gD[a+364>>2]=0,gD[a+368>>2]=D*M+B*S+L*x,gD[a+372>>2]=D*A+B*w+L*R,gD[a+376>>2]=D*P+B*V+L*k,C=a+380|0,fD[C+0>>2]=0,fD[C+4>>2]=0,fD[C+8>>2]=0,fD[C+12>>2]=0,fD[C+16>>2]=0,C=fD[r+8>>2]|0,k=+vP[fD[(fD[s>>2]|0)+48>>2]&15](s),fD[a+112>>2]=16256,fD[a+116>>2]=t,fD[a+120>>2]=fD[e+0>>2],fD[a+124>>2]=fD[e+4>>2],fD[a+128>>2]=fD[e+8>>2],fD[a+132>>2]=fD[e+12>>2],fD[a+136>>2]=fD[e+16>>2],fD[a+140>>2]=fD[e+20>>2],fD[a+144>>2]=fD[e+24>>2],fD[a+148>>2]=fD[e+28>>2],fD[a+152>>2]=fD[e+32>>2],fD[a+156>>2]=fD[e+36>>2],fD[a+160>>2]=fD[e+40>>2],fD[a+164>>2]=fD[e+44>>2],fD[a+168>>2]=fD[e+48>>2],fD[a+172>>2]=fD[e+52>>2],fD[a+176>>2]=fD[e+56>>2],fD[a+180>>2]=fD[e+60>>2],fD[a+184>>2]=fD[i+0>>2],fD[a+188>>2]=fD[i+4>>2],fD[a+192>>2]=fD[i+8>>2],fD[a+196>>2]=fD[i+12>>2],fD[a+200>>2]=fD[i+16>>2],fD[a+204>>2]=fD[i+20>>2],fD[a+208>>2]=fD[i+24>>2],fD[a+212>>2]=fD[i+28>>2],fD[a+216>>2]=fD[i+32>>2],fD[a+220>>2]=fD[i+36>>2],fD[a+224>>2]=fD[i+40>>2],fD[a+228>>2]=fD[i+44>>2],fD[a+232>>2]=fD[i+48>>2],fD[a+236>>2]=fD[i+52>>2],fD[a+240>>2]=fD[i+56>>2],fD[a+244>>2]=fD[i+60>>2],fD[a+248>>2]=fD[l+0>>2],fD[a+252>>2]=fD[l+4>>2],fD[a+256>>2]=fD[l+8>>2],fD[a+260>>2]=fD[l+12>>2],fD[a+264>>2]=fD[l+16>>2],fD[a+268>>2]=fD[l+20>>2],fD[a+272>>2]=fD[l+24>>2],fD[a+276>>2]=fD[l+28>>2],fD[a+280>>2]=fD[l+32>>2],fD[a+284>>2]=fD[l+36>>2],fD[a+288>>2]=fD[l+40>>2],fD[a+292>>2]=fD[l+44>>2],fD[a+296>>2]=fD[l+48>>2],fD[a+300>>2]=fD[l+52>>2],fD[a+304>>2]=fD[l+56>>2],fD[a+308>>2]=fD[l+60>>2],gD[a+316>>2]=k,fD[a+112>>2]=8224,fD[a+324>>2]=o,fD[a+328>>2]=C,fD[a+332>>2]=s,gD[a+312>>2]=+gD[o+4>>2],gD[a+320>>2]=n,GP[fD[(fD[t>>2]|0)+8>>2]&127](t,a+336|0,a+96|0,a+80|0),gD[a+64>>2]=f,gD[a+68>>2]=d,gD[a+72>>2]=h,gD[a+76>>2]=0,p<f?(gD[a+64>>2]=p,m=p):m=f,u<d?(gD[a+68>>2]=u,_=u):_=d,c<h?(gD[a+72>>2]=c,n=c):n=h,gD[a+48>>2]=f,gD[a+52>>2]=d,gD[a+56>>2]=h,gD[a+60>>2]=0,f<p?gD[a+48>>2]=p:p=f,d<u&&(gD[a+52>>2]=u,d=u),h<c?gD[a+56>>2]=c:c=h,gD[a+64>>2]=+gD[a+96>>2]+m,gD[a+68>>2]=+gD[a+100>>2]+_,gD[a+72>>2]=+gD[a+104>>2]+n,gD[a+48>>2]=+gD[a+80>>2]+p,gD[a+52>>2]=+gD[a+84>>2]+d,gD[a+56>>2]=+gD[a+88>>2]+c,GP[fD[(fD[s>>2]|0)+64>>2]&127](s,a+112|0,a+64|0,a+48|0),void(bD=a))
}function P_(t){t|=0}function B_(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0;a=bD,bD=bD+256|0,fD[a+32>>2]=7960,n=a+68|0,fD[n+0>>2]=fD[e+0>>2],fD[n+4>>2]=fD[e+4>>2],fD[n+8>>2]=fD[e+8>>2],fD[n+12>>2]=fD[e+12>>2],o=a+84|0,fD[o+0>>2]=fD[i+0>>2],fD[o+4>>2]=fD[i+4>>2],fD[o+8>>2]=fD[i+8>>2],fD[o+12>>2]=fD[i+12>>2],fD[a+244>>2]=t,fD[a+248>>2]=r,gD[a+100>>2]=1,fD[a+104>>2]=0,fD[a+108>>2]=0,fD[a+112>>2]=0,fD[a+116>>2]=0,gD[a+120>>2]=1,fD[a+124>>2]=0,fD[a+128>>2]=0,fD[a+132>>2]=0,fD[a+136>>2]=0,gD[a+140>>2]=1,fD[a+144>>2]=0,fD[a+148>>2]=fD[n+0>>2],fD[a+152>>2]=fD[n+4>>2],fD[a+156>>2]=fD[n+8>>2],fD[a+160>>2]=fD[n+12>>2],gD[a+164>>2]=1,fD[a+168>>2]=0,fD[a+172>>2]=0,fD[a+176>>2]=0,fD[a+180>>2]=0,gD[a+184>>2]=1,fD[a+188>>2]=0,fD[a+192>>2]=0,fD[a+196>>2]=0,fD[a+200>>2]=0,gD[a+204>>2]=1,fD[a+208>>2]=0,fD[a+212>>2]=fD[i+0>>2],fD[a+216>>2]=fD[i+4>>2],fD[a+220>>2]=fD[i+8>>2],fD[a+224>>2]=fD[i+12>>2],h=+gD[i>>2]-+gD[e>>2],s=+gD[i+4>>2]-+gD[e+4>>2],p=+gD[i+8>>2]-+gD[e+8>>2],l=1/+CD(+(h*h+s*s+p*p)),u=h*l==0?0xde0b6b000000000:1/(h*l),gD[a+36>>2]=u,d=s*l==0?0xde0b6b000000000:1/(s*l),gD[a+40>>2]=d,c=p*l==0?0xde0b6b000000000:1/(p*l),gD[a+44>>2]=c,fD[a+52>>2]=u<0&1,fD[a+56>>2]=d<0&1,fD[a+60>>2]=c<0&1,gD[a+64>>2]=h*l*(+gD[o>>2]-+gD[n>>2])+s*l*(+gD[a+88>>2]-+gD[a+72>>2])+p*l*(+gD[a+92>>2]-+gD[a+76>>2]),r=fD[t+68>>2]|0,n=fD[(fD[r>>2]|0)+24>>2]|0,fD[a+16>>2]=0,fD[a+20>>2]=0,fD[a+24>>2]=0,fD[a+28>>2]=0,fD[a+0>>2]=0,fD[a+4>>2]=0,fD[a+8>>2]=0,fD[a+12>>2]=0,yP[n&7](r,e,i,a+32|0,a+16|0,a),bD=a}function V_(t){t|=0}function L_(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n;var a=0,s=0,l=0,c=0,h=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0;if(a=bD,bD=bD+416|0,Gx(7568),fD[a+144>>2]=fD[i+0>>2],fD[a+148>>2]=fD[i+4>>2],fD[a+152>>2]=fD[i+8>>2],fD[a+156>>2]=fD[i+12>>2],fD[a+160>>2]=fD[i+16>>2],fD[a+164>>2]=fD[i+20>>2],fD[a+168>>2]=fD[i+24>>2],fD[a+172>>2]=fD[i+28>>2],fD[a+176>>2]=fD[i+32>>2],fD[a+180>>2]=fD[i+36>>2],fD[a+184>>2]=fD[i+40>>2],fD[a+188>>2]=fD[i+44>>2],s=a+192|0,fD[s+0>>2]=fD[i+48>>2],fD[s+4>>2]=fD[i+52>>2],fD[s+8>>2]=fD[i+56>>2],fD[s+12>>2]=fD[i+60>>2],fD[a+80>>2]=fD[r+0>>2],fD[a+84>>2]=fD[r+4>>2],fD[a+88>>2]=fD[r+8>>2],fD[a+92>>2]=fD[r+12>>2],fD[a+96>>2]=fD[r+16>>2],fD[a+100>>2]=fD[r+20>>2],fD[a+104>>2]=fD[r+24>>2],fD[a+108>>2]=fD[r+28>>2],fD[a+112>>2]=fD[r+32>>2],fD[a+116>>2]=fD[r+36>>2],fD[a+120>>2]=fD[r+40>>2],fD[a+124>>2]=fD[r+44>>2],l=a+128|0,fD[l+0>>2]=fD[r+48>>2],fD[l+4>>2]=fD[r+52>>2],fD[l+8>>2]=fD[r+56>>2],fD[l+12>>2]=fD[r+60>>2],ou(a+144|0,a+80|0,a+212|0,a+208|0),y=+gD[a+208>>2],c=y*+gD[a+216>>2],_=y*+gD[a+220>>2],gD[a+32>>2]=+gD[a+212>>2]*y,gD[a+36>>2]=c,gD[a+40>>2]=_,gD[a+44>>2]=0,fD[a+16>>2]=0,fD[a+20>>2]=0,fD[a+24>>2]=0,fD[a+28>>2]=0,gD[a+212>>2]=1,b=a+216|0,fD[b+0>>2]=0,fD[b+4>>2]=0,fD[b+8>>2]=0,fD[b+12>>2]=0,gD[a+232>>2]=1,g=a+236|0,fD[g+0>>2]=0,fD[g+4>>2]=0,fD[g+8>>2]=0,fD[g+12>>2]=0,gD[a+252>>2]=1,m=a+256|0,fD[m+0>>2]=0,fD[m+4>>2]=0,fD[m+8>>2]=0,fD[m+12>>2]=0,fD[m+16>>2]=0,u(a+144|0,a),_=+gD[a>>2],c=+gD[a+4>>2],y=+gD[a+8>>2],f=+gD[a+12>>2],d=_*(2/(_*_+c*c+y*y+f*f)),h=c*(2/(_*_+c*c+y*y+f*f)),p=y*(2/(_*_+c*c+y*y+f*f)),gD[a+212>>2]=1-(c*h+y*p),gD[b>>2]=_*h-f*p,gD[a+220>>2]=_*p+f*h,gD[a+224>>2]=0,gD[a+228>>2]=_*h+f*p,gD[a+232>>2]=1-(_*d+y*p),gD[g>>2]=c*p-f*d,gD[a+240>>2]=0,gD[a+244>>2]=_*p-f*h,gD[a+248>>2]=c*p+f*d,gD[a+252>>2]=1-(_*d+c*h),gD[m>>2]=0,m_(e,a+212|0,a+16|0,a+32|0,a+64|0,a+48|0),fD[a+212>>2]=7848,fD[a+248>>2]=fD[i+0>>2],fD[a+252>>2]=fD[i+4>>2],fD[a+256>>2]=fD[i+8>>2],fD[a+260>>2]=fD[i+12>>2],fD[a+264>>2]=fD[i+16>>2],fD[a+268>>2]=fD[i+20>>2],fD[a+272>>2]=fD[i+24>>2],fD[a+276>>2]=fD[i+28>>2],fD[a+280>>2]=fD[i+32>>2],fD[a+284>>2]=fD[i+36>>2],fD[a+288>>2]=fD[i+40>>2],fD[a+292>>2]=fD[i+44>>2],m=a+296|0,fD[m+0>>2]=fD[i+48>>2],fD[m+4>>2]=fD[i+52>>2],fD[m+8>>2]=fD[i+56>>2],fD[m+12>>2]=fD[i+60>>2],fD[a+312>>2]=fD[r+0>>2],fD[a+316>>2]=fD[r+4>>2],fD[a+320>>2]=fD[r+8>>2],fD[a+324>>2]=fD[r+12>>2],fD[a+328>>2]=fD[r+16>>2],fD[a+332>>2]=fD[r+20>>2],fD[a+336>>2]=fD[r+24>>2],fD[a+340>>2]=fD[r+28>>2],fD[a+344>>2]=fD[r+32>>2],fD[a+348>>2]=fD[r+36>>2],fD[a+352>>2]=fD[r+40>>2],fD[a+356>>2]=fD[r+44>>2],i=a+360|0,fD[i+0>>2]=fD[r+48>>2],fD[i+4>>2]=fD[r+52>>2],fD[i+8>>2]=fD[r+56>>2],fD[i+12>>2]=fD[r+60>>2],fD[a+392>>2]=t,fD[a+396>>2]=o,gD[a+400>>2]=n,fD[a+404>>2]=e,h=+gD[i>>2]-+gD[m>>2],n=+gD[a+364>>2]-+gD[a+300>>2],c=+gD[a+368>>2]-+gD[a+304>>2],d=1/+CD(+(h*h+n*n+c*c)),p=h*d==0?0xde0b6b000000000:1/(h*d),gD[a+216>>2]=p,f=n*d==0?0xde0b6b000000000:1/(n*d),gD[a+220>>2]=f,_=c*d==0?0xde0b6b000000000:1/(c*d),gD[a+224>>2]=_,fD[a+232>>2]=p<0&1,fD[a+236>>2]=f<0&1,fD[a+240>>2]=_<0&1,gD[a+244>>2]=c*c*d+(h*h*d+n*n*d),b=fD[t+68>>2]|0,yP[fD[(fD[b>>2]|0)+24>>2]&7](b,s,l,a+212|0,a+64|0,a+48|0),s=fD[5022]|0,b=(fD[s+16>>2]|0)+-1|0,fD[s+16>>2]=b,(b|0)!=0)return void(bD=a);do if((fD[s+4>>2]|0)!=0){if($D(a+212|0,0)|0,b=fD[5008]|0,gD[s+8>>2]=+(((fD[a+216>>2]|0)-(fD[b+4>>2]|0)+(((fD[a+212>>2]|0)-(fD[b>>2]|0)|0)*1e6|0)-(fD[s+12>>2]|0)|0)>>>0)/1e3+ +gD[s+8>>2],(fD[s+16>>2]|0)==0){s=fD[5022]|0;break}return void(bD=a)}while(0);fD[5022]=fD[s+20>>2],bD=a}function k_(t){t|=0}function H_(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;return o=bD,bD=bD+96|0,n=fD[e+192>>2]|0,fD[o+64>>2]=0,fD[o+68>>2]=n,fD[o+72>>2]=e,fD[o+76>>2]=e+4,fD[o+80>>2]=-1,fD[o+84>>2]=-1,e=fD[i+192>>2]|0,fD[o+40>>2]=0,fD[o+44>>2]=e,fD[o+48>>2]=i,fD[o+52>>2]=i+4,fD[o+56>>2]=-1,fD[o+60>>2]=-1,i=fD[t+24>>2]|0,i=uP[fD[(fD[i>>2]|0)+8>>2]&31](i,o+64|0,o+40|0,0)|0,(i|0)==0?void(bD=o):(fD[o+4>>2]=0,fD[o+8>>2]=o+64,fD[o+12>>2]=o+40,fD[o>>2]=7728,fD[o+32>>2]=r,iP[fD[(fD[i>>2]|0)+8>>2]&31](i,o+64|0,o+40|0,t+28|0,o),oP[fD[fD[i>>2]>>2]&511](i),n=fD[t+24>>2]|0,aP[fD[(fD[n>>2]|0)+60>>2]&127](n,i),void(bD=o))}function I_(t){t|=0}function O_(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0;switch(o=bD,bD=bD+480|0,n=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,NP[fD[(fD[n>>2]|0)+56>>2]&7](n,e,1),n=fD[i+4>>2]|0,n|0){case 9:if(n=fD[i+92>>2]|0,(n|0)<=0)return void(bD=o);do n=n+-1|0,f=fD[i+100>>2]|0,C=+gD[f+(n<<4)>>2],E=+gD[f+(n<<4)+4>>2],c=+gD[f+(n<<4)+8>>2],f=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,p=fD[(fD[f>>2]|0)+16>>2]|0,d=+gD[(fD[i+120>>2]|0)+(n<<2)>>2],x=+gD[e>>2],S=+gD[e+4>>2],T=+gD[e+8>>2],v=+gD[e+16>>2],b=+gD[e+20>>2],M=+gD[e+24>>2],g=+gD[e+32>>2],m=+gD[e+36>>2],y=+gD[e+40>>2],_=C*x+E*S+c*T+ +gD[e+48>>2],l=C*v+E*b+c*M+ +gD[e+52>>2],c=C*g+E*m+c*y+ +gD[e+56>>2],gD[o+320>>2]=x+S*0+T*0,gD[o+324>>2]=x*0+S+T*0,gD[o+328>>2]=T+(x*0+S*0),gD[o+332>>2]=0,gD[o+336>>2]=v+b*0+M*0,gD[o+340>>2]=v*0+b+M*0,gD[o+344>>2]=M+(v*0+b*0),gD[o+348>>2]=0,gD[o+352>>2]=g+m*0+y*0,gD[o+356>>2]=g*0+m+y*0,gD[o+360>>2]=y+(g*0+m*0),gD[o+364>>2]=0,gD[o+368>>2]=_,gD[o+372>>2]=l,gD[o+376>>2]=c,gD[o+380>>2]=0,dP[p&0](f,d,o+320|0,r);while((n|0)>0);return void(bD=o);case 8:return C=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),f=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,dP[fD[(fD[f>>2]|0)+16>>2]&0](f,C,e,r),void(bD=o);case 28:return C=+gD[i+64>>2],f=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,xP[fD[(fD[f>>2]|0)+88>>2]&0](f,i+48|0,C,e,r),void(bD=o);case 11:return E=+gD[i+56>>2],C=+gD[i+60>>2],f=fD[i+68>>2]|0,p=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,hP[fD[(fD[p>>2]|0)+84>>2]&0](p,E,C,f,e,r),void(bD=o);case 31:if(n=fD[i+16>>2]|0,(n|0)<=0)return void(bD=o);do n=n+-1|0,f=fD[i+24>>2]|0,l=+gD[f+(n*80|0)>>2],_=+gD[f+(n*80|0)+4>>2],y=+gD[f+(n*80|0)+8>>2],c=+gD[f+(n*80|0)+16>>2],m=+gD[f+(n*80|0)+20>>2],v=+gD[f+(n*80|0)+24>>2],d=+gD[f+(n*80|0)+32>>2],g=+gD[f+(n*80|0)+36>>2],S=+gD[f+(n*80|0)+40>>2],L=+gD[f+(n*80|0)+48>>2],V=+gD[f+(n*80|0)+52>>2],C=+gD[f+(n*80|0)+56>>2],f=fD[f+(n*80|0)+64>>2]|0,p=fD[(fD[t>>2]|0)+28>>2]|0,B=+gD[e>>2],P=+gD[e+4>>2],D=+gD[e+8>>2],R=+gD[e+16>>2],w=+gD[e+20>>2],A=+gD[e+24>>2],b=+gD[e+32>>2],M=+gD[e+36>>2],x=+gD[e+40>>2],T=L*B+V*P+C*D+ +gD[e+48>>2],E=L*R+V*w+C*A+ +gD[e+52>>2],C=L*b+V*M+C*x+ +gD[e+56>>2],gD[o+416>>2]=l*B+c*P+d*D,gD[o+420>>2]=_*B+m*P+g*D,gD[o+424>>2]=y*B+v*P+S*D,gD[o+428>>2]=0,gD[o+432>>2]=l*R+c*w+d*A,gD[o+436>>2]=_*R+m*w+g*A,gD[o+440>>2]=y*R+v*w+S*A,gD[o+444>>2]=0,gD[o+448>>2]=l*b+c*M+d*x,gD[o+452>>2]=_*b+m*M+g*x,gD[o+456>>2]=y*b+v*M+S*x,gD[o+460>>2]=0,gD[o+464>>2]=T,gD[o+468>>2]=E,gD[o+472>>2]=C,gD[o+476>>2]=0,GP[p&127](t,o+416|0,f,r);while((n|0)>0);return void(bD=o);case 10:return f=fD[i+52>>2]|0,V=+gD[i+(((f+2|0)%3|0)<<2)+28>>2],L=+gD[i+(f<<2)+28>>2],p=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,hP[fD[(fD[p>>2]|0)+76>>2]&0](p,V,L,f,e,r),void(bD=o);case 0:return fD[o+400>>2]=fD[i+28>>2],fD[o+404>>2]=fD[i+32>>2],fD[o+408>>2]=fD[i+36>>2],fD[o+412>>2]=fD[i+40>>2],B=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),V=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),L=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),B+=+gD[o+400>>2],gD[o+400>>2]=B,V+=+gD[o+404>>2],gD[o+404>>2]=V,L+=+gD[o+408>>2],gD[o+408>>2]=L,f=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,p=fD[(fD[f>>2]|0)+72>>2]|0,gD[o+384>>2]=-B,gD[o+388>>2]=-V,gD[o+392>>2]=-L,gD[o+396>>2]=0,iP[p&31](f,o+384|0,o+400|0,e,r),void(bD=o);case 13:return f=fD[i+52>>2]|0,V=+vP[fD[(fD[i>>2]|0)+92>>2]&15](i),fD[o+304>>2]=fD[i+28>>2],fD[o+308>>2]=fD[i+32>>2],fD[o+312>>2]=fD[i+36>>2],fD[o+316>>2]=fD[i+40>>2],P=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),B=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),L=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),gD[o+304>>2]=P+ +gD[o+304>>2],gD[o+308>>2]=B+ +gD[o+308>>2],gD[o+312>>2]=L+ +gD[o+312>>2],L=+gD[o+304+(f<<2)>>2],p=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,hP[fD[(fD[p>>2]|0)+80>>2]&0](p,V,L,f,e,r),void(bD=o);default:t:do if((n|0)<7){if(a=fD[i+52>>2]|0,(a|0)==0){if((lP[fD[(fD[i>>2]|0)+100>>2]&127](i)|0)<=0)break;for(n=0;;)if(GP[fD[(fD[i>>2]|0)+104>>2]&127](i,n,o+208|0,o+192|0),B=+gD[o+208>>2],v=+gD[e>>2],D=+gD[o+212>>2],M=+gD[e+4>>2],w=+gD[o+216>>2],S=+gD[e+8>>2],T=+gD[e+16>>2],E=+gD[e+20>>2],C=+gD[e+24>>2],R=+gD[e+32>>2],P=+gD[e+36>>2],V=+gD[e+40>>2],x=+gD[e+48>>2],A=+gD[e+52>>2],L=+gD[e+56>>2],gD[o+176>>2]=B*v+D*M+w*S+x,gD[o+180>>2]=B*T+D*E+w*C+A,gD[o+184>>2]=B*R+D*P+w*V+L,gD[o+188>>2]=0,w=+gD[o+192>>2],D=+gD[o+196>>2],B=+gD[o+200>>2],gD[o+160>>2]=w*v+D*M+B*S+x,gD[o+164>>2]=w*T+D*E+B*C+A,gD[o+168>>2]=w*R+D*P+B*V+L,gD[o+172>>2]=0,f=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,GP[fD[(fD[f>>2]|0)+8>>2]&127](f,o+176|0,o+160|0,r),n=n+1|0,(n|0)>=(lP[fD[(fD[i>>2]|0)+100>>2]&127](i)|0))break t}if((fD[a+28>>2]|0)>0){n=0;do{h=fD[a+36>>2]|0,s=fD[h+(n*36|0)+4>>2]|0;e:do if((s|0)>0)for(u=fD[h+(n*36|0)+12>>2]|0,p=u,d=0,c=0,l=0,u=fD[u+(s+-1<<2)>>2]|0,f=0;;){if(h=fD[p+(f<<2)>>2]|0,p=fD[a+16>>2]|0,d+=+gD[p+(h<<4)>>2],c+=+gD[p+(h<<4)+4>>2],l+=+gD[p+(h<<4)+8>>2],p=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,k=fD[(fD[p>>2]|0)+8>>2]|0,H=fD[a+16>>2]|0,B=+gD[H+(u<<4)>>2],v=+gD[e>>2],D=+gD[H+(u<<4)+4>>2],M=+gD[e+4>>2],w=+gD[H+(u<<4)+8>>2],S=+gD[e+8>>2],T=+gD[e+16>>2],E=+gD[e+20>>2],C=+gD[e+24>>2],R=+gD[e+32>>2],P=+gD[e+36>>2],V=+gD[e+40>>2],x=+gD[e+48>>2],A=+gD[e+52>>2],L=+gD[e+56>>2],gD[o+288>>2]=B*v+D*M+w*S+x,gD[o+292>>2]=B*T+D*E+w*C+A,gD[o+296>>2]=B*R+D*P+w*V+L,gD[o+300>>2]=0,w=+gD[H+(h<<4)>>2],D=+gD[H+(h<<4)+4>>2],B=+gD[H+(h<<4)+8>>2],gD[o+272>>2]=w*v+D*M+B*S+x,gD[o+276>>2]=w*T+D*E+B*C+A,gD[o+280>>2]=w*R+D*P+B*V+L,gD[o+284>>2]=0,GP[k&127](p,o+288|0,o+272|0,r),f=f+1|0,u=fD[a+36>>2]|0,(f|0)>=(fD[u+(n*36|0)+4>>2]|0))break e;p=fD[u+(n*36|0)+12>>2]|0,u=h}else d=0,c=0,l=0;while(0);d*=1/+(s|0),c*=1/+(s|0),l*=1/+(s|0),H=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,((lP[fD[(fD[H>>2]|0)+48>>2]&127](H)|0)&16384|0)!=0&&(gD[o+256>>2]=1,gD[o+260>>2]=1,gD[o+264>>2]=0,gD[o+268>>2]=0,H=fD[a+36>>2]|0,w=+gD[H+(n*36|0)+20>>2],D=+gD[H+(n*36|0)+24>>2],B=+gD[H+(n*36|0)+28>>2],H=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,k=fD[(fD[H>>2]|0)+8>>2]|0,v=+gD[e>>2],M=+gD[e+4>>2],S=+gD[e+8>>2],T=+gD[e+16>>2],E=+gD[e+20>>2],C=+gD[e+24>>2],R=+gD[e+32>>2],P=+gD[e+36>>2],V=+gD[e+40>>2],x=+gD[e+48>>2],A=+gD[e+52>>2],L=+gD[e+56>>2],gD[o+240>>2]=d*v+c*M+l*S+x,gD[o+244>>2]=d*T+c*E+l*C+A,gD[o+248>>2]=d*R+c*P+l*V+L,gD[o+252>>2]=0,gD[o+224>>2]=(d+w)*v+(c+D)*M+(l+B)*S+x,gD[o+228>>2]=(d+w)*T+(c+D)*E+(l+B)*C+A,gD[o+232>>2]=(d+w)*R+(c+D)*P+(l+B)*V+L,gD[o+236>>2]=0,GP[k&127](H,o+240|0,o+224|0,o+256|0)),n=n+1|0}while((n|0)<(fD[a+28>>2]|0))}}while(0);return n=fD[i+4>>2]|0,(n+-21|0)>>>0<9&&(gD[o+144>>2]=0xde0b6b000000000,gD[o+148>>2]=0xde0b6b000000000,gD[o+152>>2]=0xde0b6b000000000,gD[o+156>>2]=0,gD[o+128>>2]=-0xde0b6b000000000,gD[o+132>>2]=-0xde0b6b000000000,gD[o+136>>2]=-0xde0b6b000000000,gD[o+140>>2]=0,n=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,fD[o+32>>2]=7624,fD[o+36>>2]=7648,fD[o+40>>2]=n,fD[o+44>>2]=fD[r+0>>2],fD[o+48>>2]=fD[r+4>>2],fD[o+52>>2]=fD[r+8>>2],fD[o+56>>2]=fD[r+12>>2],fD[o+60>>2]=fD[e+0>>2],fD[o+64>>2]=fD[e+4>>2],fD[o+68>>2]=fD[e+8>>2],fD[o+72>>2]=fD[e+12>>2],fD[o+76>>2]=fD[e+16>>2],fD[o+80>>2]=fD[e+20>>2],fD[o+84>>2]=fD[e+24>>2],fD[o+88>>2]=fD[e+28>>2],fD[o+92>>2]=fD[e+32>>2],fD[o+96>>2]=fD[e+36>>2],fD[o+100>>2]=fD[e+40>>2],fD[o+104>>2]=fD[e+44>>2],fD[o+108>>2]=fD[e+48>>2],fD[o+112>>2]=fD[e+52>>2],fD[o+116>>2]=fD[e+56>>2],fD[o+120>>2]=fD[e+60>>2],GP[fD[(fD[i>>2]|0)+64>>2]&127](i,o+32|0,o+128|0,o+144|0),n=fD[i+4>>2]|0),(n|0)!=3?void(bD=o):(gD[o+16>>2]=0xde0b6b000000000,gD[o+20>>2]=0xde0b6b000000000,gD[o+24>>2]=0xde0b6b000000000,gD[o+28>>2]=0,gD[o>>2]=-0xde0b6b000000000,gD[o+4>>2]=-0xde0b6b000000000,gD[o+8>>2]=-0xde0b6b000000000,gD[o+12>>2]=0,H=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,fD[o+32>>2]=7624,fD[o+36>>2]=7648,fD[o+40>>2]=H,fD[o+44>>2]=fD[r+0>>2],fD[o+48>>2]=fD[r+4>>2],fD[o+52>>2]=fD[r+8>>2],fD[o+56>>2]=fD[r+12>>2],fD[o+60>>2]=fD[e+0>>2],fD[o+64>>2]=fD[e+4>>2],fD[o+68>>2]=fD[e+8>>2],fD[o+72>>2]=fD[e+12>>2],fD[o+76>>2]=fD[e+16>>2],fD[o+80>>2]=fD[e+20>>2],fD[o+84>>2]=fD[e+24>>2],fD[o+88>>2]=fD[e+28>>2],fD[o+92>>2]=fD[e+32>>2],fD[o+96>>2]=fD[e+36>>2],fD[o+100>>2]=fD[e+40>>2],fD[o+104>>2]=fD[e+44>>2],fD[o+108>>2]=fD[e+48>>2],fD[o+112>>2]=fD[e+52>>2],fD[o+116>>2]=fD[e+56>>2],fD[o+120>>2]=fD[e+60>>2],H=fD[i+92>>2]|0,GP[fD[(fD[H>>2]|0)+8>>2]&127](H,o+36|0,o,o+16|0),void(bD=o))}}function J_(t){t|=0}function N_(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0;if(e=bD,bD=bD+112|0,((lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0)!=0?(p=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,((lP[fD[(fD[p>>2]|0)+48>>2]&127](p)|0)&8|0)!=0):0)?(i=fD[t+24>>2]|0,i=lP[fD[(fD[i>>2]|0)+36>>2]&127](i)|0,gD[e+96>>2]=1,gD[e+100>>2]=1,gD[e+104>>2]=0,gD[e+108>>2]=0,(i|0)>0):0){u=0;do{if(o=fD[t+24>>2]|0,o=AP[fD[(fD[o>>2]|0)+40>>2]&31](o,u)|0,n=fD[o+748>>2]|0,(n|0)>0){r=0;do p=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,nP[fD[(fD[p>>2]|0)+32>>2]&0](p,o+(r*184|0)+36|0,o+(r*184|0)+68|0,+gD[o+(r*184|0)+84>>2],fD[o+(r*184|0)+152>>2]|0,e+96|0),r=r+1|0;while((r|0)!=(n|0))}u=u+1|0}while((u|0)!=(i|0))}if((lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0)==0)return void(bD=e);if(p=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,((lP[fD[(fD[p>>2]|0)+48>>2]&127](p)|0)&3|0)==0)return void(bD=e);if((fD[t+8>>2]|0)<=0)return void(bD=e);n=e+84|0,o=e+88|0,r=e+92|0,i=0;do{if(u=fD[(fD[t+16>>2]|0)+(i<<2)>>2]|0,(fD[u+204>>2]&32|0)==0){if((lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0)!=0?(p=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,((lP[fD[(fD[p>>2]|0)+48>>2]&127](p)|0)&1|0)!=0):0){switch(gD[e+80>>2]=1,gD[n>>2]=1,gD[o>>2]=1,gD[r>>2]=0,fD[u+216>>2]|0){case 1:gD[e+80>>2]=1,gD[n>>2]=1,gD[o>>2]=1,gD[r>>2]=0;break;case 4:gD[e+80>>2]=1,gD[n>>2]=0,gD[o>>2]=0,gD[r>>2]=0;break;case 5:gD[e+80>>2]=1,gD[n>>2]=1,gD[o>>2]=0,gD[r>>2]=0;break;case 2:gD[e+80>>2]=0,gD[n>>2]=1,gD[o>>2]=0,gD[r>>2]=0;break;case 3:gD[e+80>>2]=0,gD[n>>2]=1,gD[o>>2]=1,gD[r>>2]=0;break;default:gD[e+80>>2]=1,gD[n>>2]=0,gD[o>>2]=0,gD[r>>2]=0}GP[fD[(fD[t>>2]|0)+28>>2]&127](t,u+4|0,fD[u+192>>2]|0,e+80|0)}if(p=fD[t+72>>2]|0,(p|0)!=0?((lP[fD[(fD[p>>2]|0)+48>>2]&127](p)|0)&2|0)!=0:0){gD[e+32>>2]=1,gD[e+36>>2]=0,gD[e+40>>2]=0,gD[e+44>>2]=0,p=fD[u+192>>2]|0,GP[fD[(fD[p>>2]|0)+8>>2]&127](p,u+4|0,e+64|0,e+48|0),gD[e+64>>2]=+gD[e+64>>2]+-.019999999552965164,gD[e+68>>2]=+gD[e+68>>2]+-.019999999552965164,gD[e+72>>2]=+gD[e+72>>2]+-.019999999552965164,gD[e+48>>2]=+gD[e+48>>2]+.019999999552965164,gD[e+52>>2]=+gD[e+52>>2]+.019999999552965164,gD[e+56>>2]=+gD[e+56>>2]+.019999999552965164;do if(((uD[t+44>>0]|0)!=0?(fD[u+236>>2]|0)==2:0)?(fD[u+204>>2]&3|0)==0:0){if(p=fD[u+192>>2]|0,GP[fD[(fD[p>>2]|0)+8>>2]&127](p,u+68|0,e+16|0,e),d=+gD[e+16>>2]+-.019999999552965164,gD[e+16>>2]=d,h=+gD[e+20>>2]+-.019999999552965164,gD[e+20>>2]=h,c=+gD[e+24>>2]+-.019999999552965164,gD[e+24>>2]=c,l=+gD[e>>2]+.019999999552965164,gD[e>>2]=l,s=+gD[e+4>>2]+.019999999552965164,gD[e+4>>2]=s,a=+gD[e+8>>2]+.019999999552965164,gD[e+8>>2]=a,d<+gD[e+64>>2]&&(gD[e+64>>2]=d),h<+gD[e+68>>2]&&(gD[e+68>>2]=h),c<+gD[e+72>>2]&&(gD[e+72>>2]=c),c=+gD[e+28>>2],c<+gD[e+76>>2]&&(gD[e+76>>2]=c),+gD[e+48>>2]<l&&(gD[e+48>>2]=l),+gD[e+52>>2]<s&&(gD[e+52>>2]=s),+gD[e+56>>2]<a&&(gD[e+56>>2]=a),a=+gD[e+12>>2],!(+gD[e+60>>2]<a))break;gD[e+60>>2]=a}while(0);p=fD[t+72>>2]|0,GP[fD[(fD[p>>2]|0)+52>>2]&127](p,e+64|0,e+48|0,e+32|0)}}i=i+1|0}while((i|0)<(fD[t+8>>2]|0));bD=e}function F_(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0;if(a=bD,bD=bD+80|0,f=fD[t+8>>2]|0,(f|0)>0){c=0;do h=fD[(fD[t+16>>2]|0)+(c<<2)>>2]|0,(fD[h+236>>2]|0)==1&&(aP[fD[(fD[h>>2]|0)+24>>2]&127](h,e),f=fD[t+8>>2]|0),c=c+1|0;while((c|0)<(f|0))}if(uD[a+16>>0]=1,fD[a+12>>2]=0,fD[a+4>>2]=0,fD[a+8>>2]=0,uD[a+36>>0]=1,fD[a+32>>2]=0,fD[a+24>>2]=0,fD[a+28>>2]=0,uD[a+56>>0]=1,fD[a+52>>2]=0,fD[a+44>>2]=0,fD[a+48>>2]=0,uD[a+76>>0]=1,fD[a+72>>2]=0,fD[a+64>>2]=0,fD[a+68>>2]=0,(f|0)<=0)return z_(a),void(bD=a);for(g=-1,m=0,u=0,_=0,p=0,c=0;;){h=fD[(fD[(fD[t+16>>2]|0)+(c<<2)>>2]|0)+192>>2]|0,d=(h+~(h<<15)>>10^h+~(h<<15))*9|0,d=(d>>6^d)+~((d>>6^d)<<11)>>16^(d>>6^d)+~((d>>6^d)<<11),g=d&g;t:do if(g>>>0<m>>>0?(n=fD[u+(g<<2)>>2]|0,(n|0)==-1):!0)r=15;else{for(g=fD[a+72>>2]|0,y=n;;){if((h|0)==(fD[g+(y<<3)>>2]|0))break;if(y=fD[_+(y<<2)>>2]|0,(y|0)==-1){r=15;break t}}((y|0)!=-1?((fD[a+52>>2]|0)+(y<<2)|0)!=0:0)||(r=15)}while(0);if((r|0)==15){r=0,f=d&p+-1;t:do if(f>>>0<m>>>0?(o=fD[u+(f<<2)>>2]|0,(o|0)==-1):!0)r=22;else{for(m=fD[a+72>>2]|0,g=o;;){if((h|0)==(fD[m+(g<<3)>>2]|0))break;if(g=fD[_+(g<<2)>>2]|0,(g|0)==-1){r=22;break t}}(g|0)!=-1?fD[(fD[a+52>>2]|0)+(g<<2)>>2]=h:r=22}while(0);if((r|0)==22){if(r=0,u=fD[a+44>>2]|0,(u|0)==(p|0))if(_=(p|0)==0?1:p<<1,(p|0)<(_|0)){if(((_|0)!=0?(fD[5004]=(fD[5004]|0)+1,l=Ew((_<<2|3)+16|0)|0,(l|0)!=0):0)?(fD[(l+19&-16)+-4>>2]=l,m=l+19&-16):m=0,(p|0)>0){g=0;do y=m+(g<<2)|0,(y|0)!=0&&(fD[y>>2]=fD[(fD[a+52>>2]|0)+(g<<2)>>2]),g=g+1|0;while((g|0)!=(p|0))}g=fD[a+52>>2]|0,(g|0)!=0&&((uD[a+56>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[g+-4>>2]|0)),fD[a+52>>2]=0),uD[a+56>>0]=1,fD[a+52>>2]=m,fD[a+48>>2]=_,_=p}else _=p;else _=u;if(m=(fD[a+52>>2]|0)+(_<<2)|0,(m|0)!=0&&(fD[m>>2]=h),fD[a+44>>2]=_+1,m=fD[a+64>>2]|0,(m|0)==(fD[a+68>>2]|0)?(s=(m|0)==0?1:m<<1,(m|0)<(s|0)):0){if(((s|0)!=0?(fD[5004]=(fD[5004]|0)+1,i=Ew((s<<3|3)+16|0)|0,(i|0)!=0):0)?(fD[(i+19&-16)+-4>>2]=i,_=i+19&-16):_=0,(m|0)>0){y=0;do g=_+(y<<3)|0,(g|0)!=0&&(v=(fD[a+72>>2]|0)+(y<<3)|0,b=fD[v+4>>2]|0,fD[g>>2]=fD[v>>2],fD[g+4>>2]=b),y=y+1|0;while((y|0)!=(m|0))}m=fD[a+72>>2]|0,(m|0)!=0&&((uD[a+76>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[m+-4>>2]|0)),fD[a+72>>2]=0),uD[a+76>>0]=1,fD[a+72>>2]=_,fD[a+68>>2]=s,m=fD[a+64>>2]|0}if(_=(fD[a+72>>2]|0)+(m<<3)|0,(_|0)!=0&&(fD[_>>2]=h,fD[_+4>>2]=0),fD[a+64>>2]=m+1,_=fD[a+48>>2]|0,(p|0)<(_|0)){p=fD[a+4>>2]|0;do if((p|0)<(_|0)){if((p|0)<=(_|0)){if((fD[a+8>>2]|0)<(_|0)){do if((_|0)==0)f=0;else{if(fD[5004]=(fD[5004]|0)+1,f=Ew((_<<2|3)+16|0)|0,(f|0)==0){f=0;break}fD[(f+19&-16)+-4>>2]=f,f=f+19&-16}while(0);if(y=fD[a+12>>2]|0,(p|0)>0){g=0;do m=f+(g<<2)|0,(m|0)!=0&&(fD[m>>2]=fD[y+(g<<2)>>2]),g=g+1|0;while((g|0)!=(p|0))}(y|0)!=0&&((uD[a+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[y+-4>>2]|0)),fD[a+12>>2]=0),uD[a+16>>0]=1,fD[a+12>>2]=f,fD[a+8>>2]=_}else f=fD[a+12>>2]|0;m=p;do g=f+(m<<2)|0,(g|0)!=0&&(fD[g>>2]=0),m=m+1|0;while((m|0)!=(_|0))}if(fD[a+4>>2]=_,f=fD[a+24>>2]|0,(f|0)<(_|0)){if((fD[a+28>>2]|0)<(_|0)){do if((_|0)==0)m=0;else{if(fD[5004]=(fD[5004]|0)+1,m=Ew((_<<2|3)+16|0)|0,(m|0)==0){m=0;break}fD[(m+19&-16)+-4>>2]=m,m=m+19&-16}while(0);if(y=fD[a+32>>2]|0,(f|0)>0){b=0;do g=m+(b<<2)|0,(g|0)!=0&&(fD[g>>2]=fD[y+(b<<2)>>2]),b=b+1|0;while((b|0)!=(f|0))}(y|0)!=0&&((uD[a+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[y+-4>>2]|0)),fD[a+32>>2]=0),uD[a+36>>0]=1,fD[a+32>>2]=m,fD[a+28>>2]=_}else m=fD[a+32>>2]|0;do g=m+(f<<2)|0,(g|0)!=0&&(fD[g>>2]=0),f=f+1|0;while((f|0)!=(_|0))}if(fD[a+24>>2]=_,(_|0)>0&&(Rw(fD[a+12>>2]|0,-1,_<<2|0)|0,Rw(fD[a+32>>2]|0,-1,_<<2|0)|0),(p|0)<=0){_=fD[a+48>>2]|0;break}m=fD[a+72>>2]|0,f=fD[a+12>>2]|0,y=fD[a+32>>2]|0,_=fD[a+48>>2]|0,g=0;do v=fD[m+(g<<3)>>2]|0,v=(v+~(v<<15)>>10^v+~(v<<15))*9|0,v=f+((((v>>6^v)+~((v>>6^v)<<11)>>16^(v>>6^v)+~((v>>6^v)<<11))&_+-1)<<2)|0,fD[y+(g<<2)>>2]=fD[v>>2],fD[v>>2]=g,g=g+1|0;while((g|0)!=(p|0))}while(0);p=_,f=d&_+-1}else p=_;v=fD[a+12>>2]|0,b=v+(f<<2)|0,_=fD[a+32>>2]|0,fD[_+(u<<2)>>2]=fD[b>>2],fD[b>>2]=u,u=v}aP[fD[(fD[h>>2]|0)+60>>2]&127](h,e),f=fD[t+8>>2]|0}if(c=c+1|0,(c|0)>=(f|0))break;g=p+-1|0,m=fD[a+4>>2]|0}z_(a),bD=a}function G_(t,e){t|=0,e|=0;var i=0;i=bD,oP[fD[(fD[e>>2]|0)+32>>2]&511](e),F_(t,e),oP[fD[(fD[e>>2]|0)+36>>2]&511](e),bD=i}function z_(t){t|=0;var e=0,i=0;return e=bD,i=fD[t+72>>2]|0,(i|0)!=0&&((uD[t+76>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+72>>2]=0),uD[t+76>>0]=1,fD[t+72>>2]=0,fD[t+64>>2]=0,fD[t+68>>2]=0,i=fD[t+52>>2]|0,(i|0)!=0&&((uD[t+56>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+52>>2]=0),uD[t+56>>0]=1,fD[t+52>>2]=0,fD[t+44>>2]=0,fD[t+48>>2]=0,i=fD[t+32>>2]|0,(i|0)!=0&&((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+32>>2]=0),uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,fD[t+28>>2]=0,i=fD[t+12>>2]|0,(i|0)==0?(uD[t+16>>0]=1,fD[t+12>>2]=0,fD[t+4>>2]=0,i=t+8|0,fD[i>>2]=0,void(bD=e)):((uD[t+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+12>>2]=0,uD[t+16>>0]=1,fD[t+12>>2]=0,fD[t+4>>2]=0,i=t+8|0,fD[i>>2]=0,void(bD=e))}function j_(t){t|=0}function U_(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function W_(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0;return i=bD,bD=bD+96|0,u=+gD[e>>2],a=+gD[t+28>>2],p=+gD[e+4>>2],l=+gD[t+32>>2],f=+gD[e+8>>2],h=+gD[t+36>>2],_=+gD[t+44>>2],m=+gD[t+48>>2],o=+gD[t+52>>2],y=+gD[t+60>>2],b=+gD[t+64>>2],v=+gD[t+68>>2],d=+gD[t+76>>2],g=+gD[t+80>>2],M=+gD[t+84>>2],gD[i+80>>2]=u*a+p*l+f*h+d,gD[i+84>>2]=u*_+p*m+f*o+g,gD[i+88>>2]=u*y+p*b+f*v+M,gD[i+92>>2]=0,n=+gD[e+16>>2],s=+gD[e+20>>2],c=+gD[e+24>>2],gD[i+64>>2]=n*a+s*l+c*h+d,gD[i+68>>2]=n*_+s*m+c*o+g,gD[i+72>>2]=n*y+s*b+c*v+M,gD[i+76>>2]=0,S=+gD[e+32>>2],x=+gD[e+36>>2],T=+gD[e+40>>2],gD[i+48>>2]=S*a+x*l+T*h+d,gD[i+52>>2]=S*_+x*m+T*o+g,gD[i+56>>2]=S*y+x*b+T*v+M,gD[i+60>>2]=0,E=(u*a+p*l+f*h+d+(n*a+s*l+c*h+d)+(S*a+x*l+T*h+d))*.3333333432674408,C=(u*_+p*m+f*o+g+(n*_+s*m+c*o+g)+(S*_+x*m+T*o+g))*.3333333432674408,A=(u*y+p*b+f*v+M+(n*y+s*b+c*v+M)+(S*y+x*b+T*v+M))*.3333333432674408,gD[i+32>>2]=E,gD[i+36>>2]=C,gD[i+40>>2]=A,gD[i+44>>2]=0,r=fD[t+8>>2]|0,((lP[fD[(fD[r>>2]|0)+48>>2]&127](r)|0)&16384|0)==0?(e=fD[t+8>>2]|0,w=fD[e>>2]|0,w=w+8|0,w=fD[w>>2]|0,r=t+12|0,GP[w&127](e,i+80|0,i+64|0,r),e=fD[t+8>>2]|0,w=fD[e>>2]|0,w=w+8|0,w=fD[w>>2]|0,GP[w&127](e,i+64|0,i+48|0,r),e=fD[t+8>>2]|0,t=fD[e>>2]|0,t=t+8|0,t=fD[t>>2]|0,GP[t&127](e,i+48|0,i+80|0,r),void(bD=i)):(D=n*a+s*l+c*h+d-(u*a+p*l+f*h+d),R=n*_+s*m+c*o+g-(u*_+p*m+f*o+g),c=n*y+s*b+c*v+M-(u*y+p*b+f*v+M),d=S*a+x*l+T*h+d-(u*a+p*l+f*h+d),g=S*_+x*m+T*o+g-(u*_+p*m+f*o+g),x=S*y+x*b+T*v+M-(u*y+p*b+f*v+M),T=1/+CD(+((D*g-R*d)*(D*g-R*d)+((R*x-c*g)*(R*x-c*g)+(c*d-D*x)*(c*d-D*x)))),gD[i+16>>2]=1,gD[i+20>>2]=1,gD[i+24>>2]=0,gD[i+28>>2]=0,r=fD[t+8>>2]|0,e=fD[(fD[r>>2]|0)+8>>2]|0,gD[i>>2]=T*(R*x-c*g)+E,gD[i+4>>2]=T*(c*d-D*x)+C,gD[i+8>>2]=T*(D*g-R*d)+A,gD[i+12>>2]=0,GP[e&127](r,i+32|0,i,i+16|0),r=fD[t+8>>2]|0,e=fD[r>>2]|0,e=e+8|0,e=fD[e>>2]|0,w=t+12|0,GP[e&127](r,i+80|0,i+64|0,w),r=fD[t+8>>2]|0,e=fD[r>>2]|0,e=e+8|0,e=fD[e>>2]|0,GP[e&127](r,i+64|0,i+48|0,w),r=fD[t+8>>2]|0,e=fD[r>>2]|0,e=e+8|0,e=fD[e>>2]|0,GP[e&127](r,i+48|0,i+80|0,w),void(bD=i))}function X_(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,GP[fD[(fD[t>>2]|0)+8>>2]&127](t,e,i,r),bD=o}function q_(t){t|=0;var e=0;e=bD,Cw(t+-4|0),bD=e}function K_(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,GP[fD[(fD[t+-4>>2]|0)+8>>2]&127](t+-4|0,e,i,r),bD=o}function Y_(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function Q_(t,e,i,r){t|=0,e|=0,i|=0,r=+r;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0;return c=bD,bD=bD+192|0,o=fD[(fD[t+4>>2]|0)+740>>2]|0,n=fD[(fD[t+8>>2]|0)+8>>2]|0,u=+gD[i>>2],a=+gD[e>>2]*r+u,h=+gD[i+4>>2],s=+gD[e+4>>2]*r+h,d=+gD[i+8>>2],l=+gD[e+8>>2]*r+d,(o|0)!=(n|0)?(y=fD[(fD[t+12>>2]|0)+8>>2]|0,b=a-+gD[y+52>>2],f=s-+gD[y+56>>2],_=l-+gD[y+60>>2],g=u-+gD[n+52>>2],m=h-+gD[n+56>>2],p=d-+gD[n+60>>2],u=b*+gD[y+4>>2]+f*+gD[y+20>>2]+_*+gD[y+36>>2],h=b*+gD[y+8>>2]+f*+gD[y+24>>2]+_*+gD[y+40>>2],d=b*+gD[y+12>>2]+f*+gD[y+28>>2]+_*+gD[y+44>>2],_=g*+gD[n+4>>2]+m*+gD[n+20>>2]+p*+gD[n+36>>2],f=g*+gD[n+8>>2]+m*+gD[n+24>>2]+p*+gD[n+40>>2],p=g*+gD[n+12>>2]+m*+gD[n+28>>2]+p*+gD[n+44>>2]):(m=a-+gD[o+52>>2],f=s-+gD[o+56>>2],_=l-+gD[o+60>>2],y=fD[(fD[t+12>>2]|0)+8>>2]|0,g=u-+gD[y+52>>2],b=h-+gD[y+56>>2],p=d-+gD[y+60>>2],u=m*+gD[o+4>>2]+f*+gD[o+20>>2]+_*+gD[o+36>>2],h=m*+gD[o+8>>2]+f*+gD[o+24>>2]+_*+gD[o+40>>2],d=m*+gD[o+12>>2]+f*+gD[o+28>>2]+_*+gD[o+44>>2],_=g*+gD[y+4>>2]+b*+gD[y+20>>2]+p*+gD[y+36>>2],f=g*+gD[y+8>>2]+b*+gD[y+24>>2]+p*+gD[y+40>>2],p=g*+gD[y+12>>2]+b*+gD[y+28>>2]+p*+gD[y+44>>2]),gD[c>>2]=u,gD[c+4>>2]=h,gD[c+8>>2]=d,gD[c+12>>2]=0,gD[c+16>>2]=_,gD[c+20>>2]=f,gD[c+24>>2]=p,gD[c+28>>2]=0,fD[c+64>>2]=fD[e+0>>2],fD[c+68>>2]=fD[e+4>>2],fD[c+72>>2]=fD[e+8>>2],fD[c+76>>2]=fD[e+12>>2],gD[c+80>>2]=r,gD[c+84>>2]=0,gD[c+88>>2]=0,gD[c+92>>2]=0,fD[c+112>>2]=0,uD[c+116>>0]=0,fD[c+120>>2]=0,fD[c+124>>2]=0,fD[c+128>>2]=0,fD[c+132>>2]=0,fD[c+136>>2]=0,fD[c+140>>2]=0,fD[c+144>>2]=0,fD[c+148>>2]=0,gD[c+48>>2]=a,gD[c+52>>2]=s,gD[c+56>>2]=l,gD[c+60>>2]=0,fD[c+32>>2]=fD[i+0>>2],fD[c+36>>2]=fD[i+4>>2],fD[c+40>>2]=fD[i+8>>2],fD[c+44>>2]=fD[i+12>>2],(o|0)!=(n|0)?(M=fD[t+20>>2]|0,fD[c+96>>2]=M,i=fD[t+16>>2]|0,fD[c+100>>2]=i,v=fD[t+28>>2]|0,fD[c+104>>2]=v,y=fD[t+24>>2]|0,fD[c+108>>2]=y,e=t+12|0,S=(o|0)!=(n|0)?e:t+8|0,S=fD[S>>2]|0,e=(o|0)!=(n|0)?t+8|0:e,e=fD[e>>2]|0,n=t+32|0,n=fD[n>>2]|0,o=fD[n>>2]|0,o=o+12|0,o=fD[o>>2]|0,+fP[o&1](n,c,S,M,v,e,i,y),void(bD=c)):(i=fD[t+16>>2]|0,fD[c+96>>2]=i,M=fD[t+20>>2]|0,fD[c+100>>2]=M,y=fD[t+24>>2]|0,fD[c+104>>2]=y,S=fD[t+28>>2]|0,fD[c+108>>2]=S,v=t+12|0,e=(o|0)!=(n|0)?v:t+8|0,e=fD[e>>2]|0,v=(o|0)!=(n|0)?t+8|0:v,v=fD[v>>2]|0,n=t+32|0,n=fD[n>>2]|0,o=fD[n>>2]|0,o=o+12|0,o=fD[o>>2]|0,+fP[o&1](n,c,e,i,y,v,M,S),void(bD=c))}function Z_(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function $_(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;return i=bD,bD=bD+32|0,r=fD[t+184>>2]|0,+gD[r+4>>2]==0?(e=0,bD=i,e|0):(e=fD[e>>2]|0,AP[fD[(fD[r>>2]|0)+8>>2]&31](r,fD[e+188>>2]|0)|0?(n=fD[t+192>>2]|0,a=fD[e+192>>2]|0,r=fD[t+184>>2]|0,o=+gD[t+188>>2],fD[i>>2]=0,fD[i+4>>2]=a,fD[i+8>>2]=e,fD[i+12>>2]=e+4,fD[i+16>>2]=-1,fD[i+20>>2]=-1,D_(n,t+36|0,t+100|0,i,r,o),e=1,bD=i,e|0):(e=1,bD=i,e|0))}function tm(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function em(t,e){t|=0,e|=0;var i=0,r=0,o=0;return i=bD,bD=bD+32|0,r=fD[t+216>>2]|0,+gD[r+4>>2]==0?(e=0,bD=i,e|0):(e=fD[e>>2]|0,AP[fD[(fD[r>>2]|0)+8>>2]&31](r,fD[e+188>>2]|0)|0?(o=fD[e+192>>2]|0,r=fD[t+216>>2]|0,fD[i>>2]=0,fD[i+4>>2]=o,fD[i+8>>2]=e,fD[i+12>>2]=e+4,fD[i+16>>2]=-1,fD[i+20>>2]=-1,A_(t+68|0,t+132|0,i,r),e=1,bD=i,e|0):(e=1,bD=i,e|0))}function im(t){t|=0}function rm(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function om(t,e){t|=0,e|=0;var i=0;return i=bD,t=fD[t+12>>2]|0,t=AP[fD[(fD[t>>2]|0)+8>>2]&31](t,e)|0,bD=i,t|0}function nm(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;return r=bD,bD=bD+16|0,fD[r>>2]=-1,fD[r+4>>2]=fD[t+16>>2],(fD[e+4>>2]|0)==0&&(fD[e+4>>2]=r),n=fD[t+12>>2]|0,o=+wP[fD[(fD[n>>2]|0)+12>>2]&15](n,e,i),gD[t+4>>2]=+gD[(fD[t+12>>2]|0)+4>>2],bD=r,+o}function am(t){t|=0}function sm(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function lm(t,e,i,r,o,n){t|=0,e|=0,i|=0,r=+r,o|=0,n|=0;var a=0;return a=bD,bD=bD+64|0,fD[a+48>>2]=o,fD[a+52>>2]=n,n=fD[t+212>>2]|0,+gD[n+4>>2]>=r?(fD[a>>2]=fD[t+216>>2],fD[a+4>>2]=a+48,fD[a+8>>2]=fD[e+0>>2],fD[a+12>>2]=fD[e+4>>2],fD[a+16>>2]=fD[e+8>>2],fD[a+20>>2]=fD[e+12>>2],fD[a+24>>2]=fD[i+0>>2],fD[a+28>>2]=fD[i+4>>2],fD[a+32>>2]=fD[i+8>>2],fD[a+36>>2]=fD[i+12>>2],gD[a+40>>2]=r,r=+wP[fD[(fD[n>>2]|0)+12>>2]&15](n,a,0),bD=a,+r):(bD=a,+r)}function cm(t){t|=0}function hm(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function dm(t,e,i,r,o,n){t|=0,e|=0,i|=0,r=+r,o|=0,n|=0;var a=0;return a=bD,bD=bD+64|0,fD[a+48>>2]=o,fD[a+52>>2]=n,n=fD[t+212>>2]|0,+gD[n+4>>2]>=r?(fD[a>>2]=fD[t+216>>2],fD[a+4>>2]=a+48,fD[a+8>>2]=fD[e+0>>2],fD[a+12>>2]=fD[e+4>>2],fD[a+16>>2]=fD[e+8>>2],fD[a+20>>2]=fD[e+12>>2],fD[a+24>>2]=fD[i+0>>2],fD[a+28>>2]=fD[i+4>>2],fD[a+32>>2]=fD[i+8>>2],fD[a+36>>2]=fD[i+12>>2],gD[a+40>>2]=r,r=+wP[fD[(fD[n>>2]|0)+12>>2]&15](n,a,1),bD=a,+r):(bD=a,+r)}function um(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function pm(t){t|=0}function fm(t){t|=0}function _m(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function mm(t,e){t|=0,e|=0;var i=0;return i=bD,t=fD[t+20>>2]|0,t=AP[fD[(fD[t>>2]|0)+8>>2]&31](t,e)|0,bD=i,t|0}function gm(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;return r=bD,bD=bD+16|0,fD[r>>2]=-1,fD[r+4>>2]=fD[t+24>>2],(fD[e+4>>2]|0)==0&&(fD[e+4>>2]=r),n=fD[t+20>>2]|0,o=+wP[fD[(fD[n>>2]|0)+12>>2]&15](n,e,i),gD[t+4>>2]=+gD[(fD[t+20>>2]|0)+4>>2],bD=r,+o}function ym(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function bm(t,e,i){t|=0,e|=0,i|=0}function vm(t,e){t|=0,e|=0;var i=0,r=0,o=0;i=bD,bD=bD+128|0,r=fD[e+36>>2]|0,e=fD[(fD[t+8>>2]|0)+24>>2]|0,o=fD[e+(r*80|0)+64>>2]|0,Ld(i+56|0,fD[t+12>>2]|0,e+(r*80|0)|0),e=fD[t+4>>2]|0,fD[i+32>>2]=0,fD[i+36>>2]=o,fD[i+40>>2]=e,fD[i+44>>2]=i+56,fD[i+48>>2]=-1,fD[i+52>>2]=r,e=fD[t+24>>2]|0,gD[i+4>>2]=1,fD[i+8>>2]=0,pD[i+12>>1]=1,pD[i+14>>1]=-1,fD[i+16>>2]=0,fD[i>>2]=8664,fD[i+20>>2]=e,fD[i+24>>2]=r,gD[i+4>>2]=+gD[e+4>>2],fD[i+16>>2]=fD[e+16>>2],A_(fD[t+16>>2]|0,fD[t+20>>2]|0,i+32|0,i),bD=i}function Mm(t,e,i){t|=0,e|=0,i=+i;var r=0;r=bD,aP[fD[(fD[t>>2]|0)+12>>2]&127](t,e),bD=r}function Sm(t,e){return t|=0,e|=0,1}function xm(t,e){return t|=0,e|=0,1}function Tm(t){t|=0}function Em(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function Cm(t,e,i,r,o){t|=0,e|=0,i=+i,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0;return n=bD,bD=bD+48|0,fD[n+32>>2]=r,fD[n+36>>2]=o,h=+gD[e>>2],c=+gD[e+4>>2],a=+gD[e+8>>2],l=+gD[t+56>>2]*h+ +gD[t+60>>2]*c+ +gD[t+64>>2]*a,s=h*+gD[t+72>>2]+c*+gD[t+76>>2]+a*+gD[t+80>>2],a=h*+gD[t+88>>2]+c*+gD[t+92>>2]+a*+gD[t+96>>2],fD[n>>2]=fD[t+48>>2],fD[n+4>>2]=n+32,gD[n+8>>2]=l,gD[n+12>>2]=s,gD[n+16>>2]=a,gD[n+20>>2]=0,gD[n+24>>2]=i,r=fD[t+44>>2]|0,i=+wP[fD[(fD[r>>2]|0)+12>>2]&15](r,n,1),bD=n,+i}function Am(t){t|=0}function wm(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function Rm(t,e,i,r,o){t|=0,e|=0,i=+i,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0;return n=bD,bD=bD+48|0,fD[n+32>>2]=r,fD[n+36>>2]=o,h=+gD[e>>2],c=+gD[e+4>>2],a=+gD[e+8>>2],l=+gD[t+56>>2]*h+ +gD[t+60>>2]*c+ +gD[t+64>>2]*a,s=h*+gD[t+72>>2]+c*+gD[t+76>>2]+a*+gD[t+80>>2],a=h*+gD[t+88>>2]+c*+gD[t+92>>2]+a*+gD[t+96>>2],fD[n>>2]=fD[t+48>>2],fD[n+4>>2]=n+32,gD[n+8>>2]=l,gD[n+12>>2]=s,gD[n+16>>2]=a,gD[n+20>>2]=0,gD[n+24>>2]=i,r=fD[t+44>>2]|0,i=+wP[fD[(fD[r>>2]|0)+12>>2]&15](r,n,1),bD=n,+i}function Dm(t,e){t|=0,e=+e}function Pm(t,e){t|=0,e|=0}function Bm(t,e,i){t|=0,e|=0,i|=0}function Vm(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function Lm(t,e){t|=0,e|=0;var i=0,r=0;return i=bD,fD[t+8>>2]=0,fD[t>>2]=9512,uD[t+28>>0]=1,fD[t+24>>2]=0,fD[t+16>>2]=0,fD[t+20>>2]=0,gD[t+32>>2]=0xde0b6b000000000,gD[t+36>>2]=0xde0b6b000000000,gD[t+40>>2]=0xde0b6b000000000,gD[t+44>>2]=0,gD[t+48>>2]=-0xde0b6b000000000,gD[t+52>>2]=-0xde0b6b000000000,gD[t+56>>2]=-0xde0b6b000000000,gD[t+60>>2]=0,fD[t+64>>2]=0,fD[t+68>>2]=1,gD[t+72>>2]=0,gD[t+76>>2]=1,gD[t+80>>2]=1,gD[t+84>>2]=1,gD[t+88>>2]=0,fD[t+4>>2]=31,e?(fD[5004]=(fD[5004]|0)+1,e=Ew(79)|0,((e|0)!=0?(r=e+19&-16,fD[r+-4>>2]=e,(e+19&-16|0)!=0):0)?(uD[r+36>>0]=1,fD[r+32>>2]=0,fD[r+24>>2]=0,fD[r+28>>2]=0,uD[r+56>>0]=1,fD[r+52>>2]=0,fD[r+44>>2]=0,fD[r+48>>2]=0,fD[(e+19&-16)>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=-1,fD[r+12>>2]=0,fD[r+16>>2]=0,r=e+19&-16):r=0,fD[t+64>>2]=r,void(bD=i)):void(bD=i)}function km(t){t|=0;var e=0,i=0,r=0;return e=bD,fD[t>>2]=9512,i=fD[t+64>>2]|0,((i|0)!=0?(IE(i),r=fD[t+64>>2]|0,(r|0)!=0):0)&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),i=fD[t+24>>2]|0,(i|0)!=0&&((uD[t+28>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+24>>2]=0),uD[t+28>>0]=1,fD[t+24>>2]=0,fD[t+16>>2]=0,fD[t+20>>2]=0,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))
}function Hm(t){t|=0;var e=0,i=0,r=0;return e=bD,fD[t>>2]=9512,i=fD[t+64>>2]|0,((i|0)!=0?(IE(i),r=fD[t+64>>2]|0,(r|0)!=0):0)&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),i=fD[t+24>>2]|0,(i|0)==0?(uD[t+28>>0]=1,fD[t+24>>2]=0,fD[t+16>>2]=0,r=t+20|0,fD[r>>2]=0,void(bD=e)):((uD[t+28>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+24>>2]=0,uD[t+28>>0]=1,fD[t+24>>2]=0,fD[t+16>>2]=0,r=t+20|0,fD[r>>2]=0,void(bD=e))}function Im(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;if(i=bD,bD=bD+80|0,fD[t+68>>2]=(fD[t+68>>2]|0)+1,r=fD[t+16>>2]|0,(r|0)<=0)return a=fD[t>>2]|0,a=a+68|0,a=fD[a>>2]|0,oP[a&511](t),void(bD=i);a=r;do r=r+-1|0,n=fD[t+24>>2]|0,(fD[n+(r*80|0)+64>>2]|0)==(e|0)&&(fD[t+68>>2]=(fD[t+68>>2]|0)+1,o=fD[t+64>>2]|0,(o|0)!=0&&(n=fD[n+(r*80|0)+76>>2]|0,FE(o,n)|0,a=fD[o+4>>2]|0,(a|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[o+4>>2]=n,fD[o+12>>2]=(fD[o+12>>2]|0)+-1,a=fD[t+16>>2]|0,n=fD[t+24>>2]|0),a=a+-1|0,h=n+(r*80|0)|0,fD[i+0>>2]=fD[h+0>>2],fD[i+4>>2]=fD[h+4>>2],fD[i+8>>2]=fD[h+8>>2],fD[i+12>>2]=fD[h+12>>2],c=n+(r*80|0)+16|0,fD[i+16>>2]=fD[c+0>>2],fD[i+20>>2]=fD[c+4>>2],fD[i+24>>2]=fD[c+8>>2],fD[i+28>>2]=fD[c+12>>2],l=n+(r*80|0)+32|0,fD[i+32>>2]=fD[l+0>>2],fD[i+36>>2]=fD[l+4>>2],fD[i+40>>2]=fD[l+8>>2],fD[i+44>>2]=fD[l+12>>2],s=n+(r*80|0)+48|0,fD[i+48>>2]=fD[s+0>>2],fD[i+52>>2]=fD[s+4>>2],fD[i+56>>2]=fD[s+8>>2],fD[i+60>>2]=fD[s+12>>2],o=n+(r*80|0)+64|0,fD[i+64>>2]=fD[o+0>>2],fD[i+68>>2]=fD[o+4>>2],fD[i+72>>2]=fD[o+8>>2],fD[i+76>>2]=fD[o+12>>2],d=n+(a*80|0)|0,fD[h+0>>2]=fD[d+0>>2],fD[h+4>>2]=fD[d+4>>2],fD[h+8>>2]=fD[d+8>>2],fD[h+12>>2]=fD[d+12>>2],h=n+(a*80|0)+16|0,fD[c+0>>2]=fD[h+0>>2],fD[c+4>>2]=fD[h+4>>2],fD[c+8>>2]=fD[h+8>>2],fD[c+12>>2]=fD[h+12>>2],c=n+(a*80|0)+32|0,fD[l+0>>2]=fD[c+0>>2],fD[l+4>>2]=fD[c+4>>2],fD[l+8>>2]=fD[c+8>>2],fD[l+12>>2]=fD[c+12>>2],l=n+(a*80|0)+48|0,fD[s+0>>2]=fD[l+0>>2],fD[s+4>>2]=fD[l+4>>2],fD[s+8>>2]=fD[l+8>>2],fD[s+12>>2]=fD[l+12>>2],n=n+(a*80|0)+64|0,fD[o+0>>2]=fD[n+0>>2],fD[o+4>>2]=fD[n+4>>2],fD[o+8>>2]=fD[n+8>>2],fD[o+12>>2]=fD[n+12>>2],n=fD[t+24>>2]|0,fD[n+(a*80|0)+0>>2]=fD[i+0>>2],fD[n+(a*80|0)+4>>2]=fD[i+4>>2],fD[n+(a*80|0)+8>>2]=fD[i+8>>2],fD[n+(a*80|0)+12>>2]=fD[i+12>>2],fD[n+(a*80|0)+16>>2]=fD[i+16>>2],fD[n+(a*80|0)+20>>2]=fD[i+20>>2],fD[n+(a*80|0)+24>>2]=fD[i+24>>2],fD[n+(a*80|0)+28>>2]=fD[i+28>>2],fD[n+(a*80|0)+32>>2]=fD[i+32>>2],fD[n+(a*80|0)+36>>2]=fD[i+36>>2],fD[n+(a*80|0)+40>>2]=fD[i+40>>2],fD[n+(a*80|0)+44>>2]=fD[i+44>>2],fD[n+(a*80|0)+48>>2]=fD[i+48>>2],fD[n+(a*80|0)+52>>2]=fD[i+52>>2],fD[n+(a*80|0)+56>>2]=fD[i+56>>2],fD[n+(a*80|0)+60>>2]=fD[i+60>>2],fD[n+(a*80|0)+64>>2]=fD[i+64>>2],fD[n+(a*80|0)+68>>2]=fD[i+68>>2],fD[n+(a*80|0)+72>>2]=fD[i+72>>2],fD[n+(a*80|0)+76>>2]=fD[i+76>>2],(fD[t+64>>2]|0)!=0&&(fD[(fD[(fD[t+24>>2]|0)+(r*80|0)+76>>2]|0)+36>>2]=r),a=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=a);while((r|0)>0);d=fD[t>>2]|0,d=d+68|0,d=fD[d>>2]|0,oP[d&511](t),bD=i}function Om(t){t|=0;var e=0,i=0,r=0,o=0,n=0;if(e=bD,bD=bD+32|0,gD[t+32>>2]=0xde0b6b000000000,gD[t+36>>2]=0xde0b6b000000000,gD[t+40>>2]=0xde0b6b000000000,gD[t+44>>2]=0,gD[t+48>>2]=-0xde0b6b000000000,gD[t+52>>2]=-0xde0b6b000000000,gD[t+56>>2]=-0xde0b6b000000000,gD[t+60>>2]=0,(fD[t+16>>2]|0)<=0)return void(bD=e);i=0;do o=fD[t+24>>2]|0,n=fD[o+(i*80|0)+64>>2]|0,GP[fD[(fD[n>>2]|0)+8>>2]&127](n,o+(i*80|0)|0,e+16|0,e),r=+gD[e+16>>2],+gD[t+32>>2]>r&&(gD[t+32>>2]=r),r=+gD[e>>2],+gD[t+48>>2]<r&&(gD[t+48>>2]=r),r=+gD[e+20>>2],+gD[t+36>>2]>r&&(gD[t+36>>2]=r),r=+gD[e+4>>2],+gD[t+52>>2]<r&&(gD[t+52>>2]=r),r=+gD[e+24>>2],+gD[t+40>>2]>r&&(gD[t+40>>2]=r),r=+gD[e+8>>2],+gD[t+56>>2]<r&&(gD[t+56>>2]=r),i=i+1|0;while((i|0)<(fD[t+16>>2]|0));bD=e}function Jm(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0;o=bD,m=+gD[t+48>>2],y=+gD[t+32>>2],A=+gD[t+52>>2],b=+gD[t+36>>2],w=+gD[t+56>>2],s=+gD[t+40>>2],R=(fD[t+16>>2]|0)==0,v=R?0:(w+s)*.5,S=R?0:(A+b)*.5,T=R?0:(m+y)*.5,d=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),c=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),d=(R?0:(m-y)*.5)+d,c=(R?0:(A-b)*.5)+c,s=(R?0:(w-s)*.5)+ +vP[fD[(fD[t>>2]|0)+48>>2]&15](t),w=+gD[e>>2],b=+ED(+w),A=+gD[e+4>>2],y=+ED(+A),m=+gD[e+8>>2],g=+ED(+m),C=+gD[e+16>>2],_=+ED(+C),E=+gD[e+20>>2],f=+ED(+E),u=+gD[e+24>>2],p=+ED(+u),x=+gD[e+32>>2],h=+ED(+x),M=+gD[e+36>>2],l=+ED(+M),n=+gD[e+40>>2],a=+ED(+n),m=T*w+S*A+v*m+ +gD[e+48>>2],u=T*C+S*E+v*u+ +gD[e+52>>2],n=T*x+S*M+v*n+ +gD[e+56>>2],gD[i>>2]=m-(d*b+c*y+s*g),gD[i+4>>2]=u-(d*_+c*f+s*p),gD[i+8>>2]=n-(d*h+c*l+s*a),gD[i+12>>2]=0,gD[r>>2]=d*b+c*y+s*g+m,gD[r+4>>2]=d*_+c*f+s*p+u,gD[r+8>>2]=d*h+c*l+s*a+n,gD[r+12>>2]=0,bD=o}function Nm(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0,s=0;r=bD,bD=bD+96|0,gD[r+32>>2]=1,fD[r+36>>2]=0,fD[r+40>>2]=0,fD[r+44>>2]=0,fD[r+48>>2]=0,gD[r+52>>2]=1,fD[r+56>>2]=0,fD[r+60>>2]=0,fD[r+64>>2]=0,fD[r+68>>2]=0,gD[r+72>>2]=1,s=r+76|0,fD[s+0>>2]=0,fD[s+4>>2]=0,fD[s+8>>2]=0,fD[s+12>>2]=0,fD[s+16>>2]=0,GP[fD[(fD[t>>2]|0)+8>>2]&127](t,r+32|0,r+16|0,r),n=(+gD[r>>2]-+gD[r+16>>2])*.5*2,o=(+gD[r+4>>2]-+gD[r+20>>2])*.5*2,a=(+gD[r+8>>2]-+gD[r+24>>2])*.5*2,gD[i>>2]=e/12*(o*o+a*a),gD[i+4>>2]=e/12*(n*n+a*a),gD[i+8>>2]=e/12*(n*n+o*o),bD=r}function Fm(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0;if(s=bD,bD=bD+144|0,(fD[t+16>>2]|0)<=0)return u=t+76|0,fD[u+0>>2]=fD[e+0>>2],fD[u+4>>2]=fD[e+4>>2],fD[u+8>>2]=fD[e+8>>2],fD[u+12>>2]=fD[e+12>>2],u=fD[t>>2]|0,u=u+68|0,u=fD[u>>2]|0,oP[u&511](t),void(bD=s);o=s+32|0,n=s+48|0,a=s+64|0,r=0;do{if(u=fD[t+24>>2]|0,d=u+(r*80|0)|0,fD[s+16>>2]=fD[d+0>>2],fD[s+20>>2]=fD[d+4>>2],fD[s+24>>2]=fD[d+8>>2],fD[s+28>>2]=fD[d+12>>2],d=u+(r*80|0)+16|0,fD[o+0>>2]=fD[d+0>>2],fD[o+4>>2]=fD[d+4>>2],fD[o+8>>2]=fD[d+8>>2],fD[o+12>>2]=fD[d+12>>2],d=u+(r*80|0)+32|0,fD[n+0>>2]=fD[d+0>>2],fD[n+4>>2]=fD[d+4>>2],fD[n+8>>2]=fD[d+8>>2],fD[n+12>>2]=fD[d+12>>2],d=u+(r*80|0)+48|0,fD[a+0>>2]=fD[d+0>>2],fD[a+4>>2]=fD[d+4>>2],fD[a+8>>2]=fD[d+8>>2],fD[a+12>>2]=fD[d+12>>2],u=fD[u+(r*80|0)+64>>2]|0,u=lP[fD[(fD[u>>2]|0)+28>>2]&127](u)|0,fD[s+0>>2]=fD[u+0>>2],fD[s+4>>2]=fD[u+4>>2],fD[s+8>>2]=fD[u+8>>2],p=+gD[s+4>>2]*+gD[e+4>>2]/+gD[t+80>>2],f=+gD[s+8>>2]*+gD[e+8>>2]/+gD[t+84>>2],gD[s>>2]=+gD[s>>2]*+gD[e>>2]/+gD[t+76>>2],gD[s+4>>2]=p,gD[s+8>>2]=f,gD[s+12>>2]=0,u=fD[(fD[t+24>>2]|0)+(r*80|0)+64>>2]|0,aP[fD[(fD[u>>2]|0)+24>>2]&127](u,s),f=+gD[s+68>>2]*+gD[e+4>>2]/+gD[t+80>>2],p=+gD[s+72>>2]*+gD[e+8>>2]/+gD[t+84>>2],gD[s+64>>2]=+gD[a>>2]*+gD[e>>2]/+gD[t+76>>2],gD[s+68>>2]=f,gD[s+72>>2]=p,gD[s+76>>2]=0,u=fD[t+24>>2]|0,d=u+(r*80|0)|0,fD[d+0>>2]=fD[s+16>>2],fD[d+4>>2]=fD[s+20>>2],fD[d+8>>2]=fD[s+24>>2],fD[d+12>>2]=fD[s+28>>2],d=u+(r*80|0)+16|0,fD[d+0>>2]=fD[o+0>>2],fD[d+4>>2]=fD[o+4>>2],fD[d+8>>2]=fD[o+8>>2],fD[d+12>>2]=fD[o+12>>2],d=u+(r*80|0)+32|0,fD[d+0>>2]=fD[n+0>>2],fD[d+4>>2]=fD[n+4>>2],fD[d+8>>2]=fD[n+8>>2],fD[d+12>>2]=fD[n+12>>2],u=u+(r*80|0)+48|0,fD[u+0>>2]=fD[a+0>>2],fD[u+4>>2]=fD[a+4>>2],fD[u+8>>2]=fD[a+8>>2],fD[u+12>>2]=fD[a+12>>2],(fD[t+64>>2]|0)!=0){l=fD[(fD[t+24>>2]|0)+(r*80|0)+64>>2]|0,GP[fD[(fD[l>>2]|0)+8>>2]&127](l,s+16|0,s+128|0,s+112|0),fD[s+80>>2]=fD[s+128>>2],fD[s+84>>2]=fD[s+132>>2],fD[s+88>>2]=fD[s+136>>2],fD[s+92>>2]=fD[s+140>>2],fD[s+96>>2]=fD[s+112>>2],fD[s+100>>2]=fD[s+116>>2],fD[s+104>>2]=fD[s+120>>2],fD[s+108>>2]=fD[s+124>>2],l=fD[t+64>>2]|0,i=fD[(fD[t+24>>2]|0)+(r*80|0)+76>>2]|0,d=FE(l,i)|0;t:do if((d|0)!=0){if(c=fD[l+8>>2]|0,!((c|0)>-1)){d=fD[l>>2]|0;break}if((c|0)>0)for(h=0;;){if(u=fD[d+32>>2]|0,h=h+1|0,(u|0)==0)break t;if((h|0)>=(c|0)){d=u;break}d=u}}else d=0;while(0);fD[i+0>>2]=fD[s+80>>2],fD[i+4>>2]=fD[s+84>>2],fD[i+8>>2]=fD[s+88>>2],fD[i+12>>2]=fD[s+92>>2],fD[i+16>>2]=fD[s+96>>2],fD[i+20>>2]=fD[s+100>>2],fD[i+24>>2]=fD[s+104>>2],fD[i+28>>2]=fD[s+108>>2],NE(l,d,i)}r=r+1|0}while((r|0)<(fD[t+16>>2]|0));u=t+76|0,fD[u+0>>2]=fD[e+0>>2],fD[u+4>>2]=fD[e+4>>2],fD[u+8>>2]=fD[e+8>>2],fD[u+12>>2]=fD[e+12>>2],u=fD[t>>2]|0,u=u+68|0,u=fD[u>>2]|0,oP[u&511](t),bD=s}function Gm(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;if(r=bD,o=AP[fD[(fD[i>>2]|0)+40>>2]&31](i,t)|0,s=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,o)|0,fD[e>>2]=s,(s|0)!=0&&aP[fD[(fD[i>>2]|0)+48>>2]&127](i,o),fD[e+4>>2]=fD[t+4>>2],gD[e+20>>2]=+gD[t+72>>2],o=fD[t+16>>2]|0,fD[e+16>>2]=o,fD[e+12>>2]=0,(o|0)==0)return bD=r,9616;if(o=gP[fD[(fD[i>>2]|0)+16>>2]&31](i,76,o)|0,s=fD[o+8>>2]|0,fD[e+12>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,s)|0,(fD[e+16>>2]|0)>0)for(a=fD[t+24>>2]|0,n=0;;){if(gD[s+72>>2]=+gD[a+(n*80|0)+72>>2],fD[s+64>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,fD[a+(n*80|0)+64>>2]|0)|0,(AP[fD[(fD[i>>2]|0)+24>>2]&31](i,fD[(fD[t+24>>2]|0)+(n*80|0)+64>>2]|0)|0)==0&&(a=fD[(fD[i>>2]|0)+16>>2]|0,l=fD[(fD[t+24>>2]|0)+(n*80|0)+64>>2]|0,l=lP[fD[(fD[l>>2]|0)+52>>2]&127](l)|0,l=gP[a&31](i,l,1)|0,a=fD[(fD[t+24>>2]|0)+(n*80|0)+64>>2]|0,a=gP[fD[(fD[a>>2]|0)+56>>2]&31](a,fD[l+8>>2]|0,i)|0,iP[fD[(fD[i>>2]|0)+20>>2]&31](i,l,a,1346455635,fD[(fD[t+24>>2]|0)+(n*80|0)+64>>2]|0)),a=fD[t+24>>2]|0,fD[s+68>>2]=fD[a+(n*80|0)+68>>2],gD[s>>2]=+gD[a+(n*80|0)>>2],gD[s+4>>2]=+gD[a+(n*80|0)+4>>2],gD[s+8>>2]=+gD[a+(n*80|0)+8>>2],gD[s+12>>2]=+gD[a+(n*80|0)+12>>2],gD[s+16>>2]=+gD[a+(n*80|0)+16>>2],gD[s+20>>2]=+gD[a+(n*80|0)+20>>2],gD[s+24>>2]=+gD[a+(n*80|0)+24>>2],gD[s+28>>2]=+gD[a+(n*80|0)+28>>2],gD[s+32>>2]=+gD[a+(n*80|0)+32>>2],gD[s+36>>2]=+gD[a+(n*80|0)+36>>2],gD[s+40>>2]=+gD[a+(n*80|0)+40>>2],gD[s+44>>2]=+gD[a+(n*80|0)+44>>2],gD[s+48>>2]=+gD[a+(n*80|0)+48>>2],gD[s+52>>2]=+gD[a+(n*80|0)+52>>2],gD[s+56>>2]=+gD[a+(n*80|0)+56>>2],gD[s+60>>2]=+gD[a+(n*80|0)+60>>2],n=n+1|0,(n|0)>=(fD[e+16>>2]|0)){e=i;break}s=s+76|0}else e=i;return iP[fD[(fD[e>>2]|0)+20>>2]&31](i,o,9584,1497453121,fD[o+8>>2]|0),bD=r,9616}function zm(t){return t|=0,t+76|0}function jm(t){return t|=0,9680}function Um(t,e){t|=0,e=+e,gD[t+72>>2]=e}function Wm(t){return t|=0,+ +gD[t+72>>2]}function Xm(t){return t|=0,24}function qm(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;return a=bD,bD=bD+48|0,o=+gD[e+60>>2]*.5,r=fD[e+68>>2]|0,s=+gD[i>>2],c=+gD[i+4>>2],h=+gD[i+8>>2],h=+CD(+(s*s+c*c+h*h)),n=fD[e+64>>2]|0,+gD[i+(r<<2)>>2]>h*+gD[e+52>>2]?(gD[a+32+(n<<2)>>2]=0,gD[a+32+(r<<2)>>2]=o,gD[a+32+(fD[e+72>>2]<<2)>>2]=0,fD[t+0>>2]=fD[a+32>>2],fD[t+4>>2]=fD[a+36>>2],fD[t+8>>2]=fD[a+40>>2],fD[t+12>>2]=fD[a+44>>2],void(bD=a)):(s=+gD[i+(n<<2)>>2],l=fD[e+72>>2]|0,c=+gD[i+(l<<2)>>2],h=+CD(+(s*s+c*c)),h>1.1920928955078125e-7?(h=+gD[e+56>>2]/h,gD[a+16+(n<<2)>>2]=s*h,gD[a+16+(r<<2)>>2]=-o,gD[a+16+(l<<2)>>2]=h*c,fD[t+0>>2]=fD[a+16>>2],fD[t+4>>2]=fD[a+20>>2],fD[t+8>>2]=fD[a+24>>2],fD[t+12>>2]=fD[a+28>>2],void(bD=a)):(gD[a+(n<<2)>>2]=0,gD[a+(r<<2)>>2]=-o,gD[a+(l<<2)>>2]=0,fD[t+0>>2]=fD[a+0>>2],fD[t+4>>2]=fD[a+4>>2],fD[t+8>>2]=fD[a+8>>2],fD[t+12>>2]=fD[a+12>>2],void(bD=a)))}function Km(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,qm(t,e,i),bD=r}function Ym(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0;if(o=bD,bD=bD+16|0,(r|0)<=0)return void(bD=o);n=0;do a=i+(n<<4)|0,qm(o,t,e+(n<<4)|0),fD[a+0>>2]=fD[o+0>>2],fD[a+4>>2]=fD[o+4>>2],fD[a+8>>2]=fD[o+8>>2],fD[a+12>>2]=fD[o+12>>2],n=n+1|0;while((n|0)!=(r|0));bD=o}function Qm(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return r=bD,qm(t,e,i),+vP[fD[(fD[e>>2]|0)+48>>2]&15](e)==0?void(bD=r):(l=+gD[i>>2],a=+gD[i+4>>2],n=+gD[i+8>>2],o=l*l+a*a+n*n<1.4210854715202004e-14?-1:n,s=l*l+a*a+n*n<1.4210854715202004e-14?-1:a,l=l*l+a*a+n*n<1.4210854715202004e-14?-1:l,n=1/+CD(+(o*o+(l*l+s*s))),a=+vP[fD[(fD[e>>2]|0)+48>>2]&15](e),gD[t>>2]=n*l*a+ +gD[t>>2],gD[t+4>>2]=a*n*s+ +gD[t+4>>2],gD[t+8>>2]=a*n*o+ +gD[t+8>>2],void(bD=r))}function Zm(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;s=fD[t+68>>2]|0,a=fD[t+64>>2]|0,n=fD[t+72>>2]|0,r=+gD[e+(s<<2)>>2]/+gD[t+(s<<2)+12>>2]*+gD[t+60>>2],gD[t+60>>2]=r,o=+gD[t+56>>2]*(+gD[e+(a<<2)>>2]/+gD[t+(a<<2)+12>>2]+ +gD[e+(n<<2)>>2]/+gD[t+(n<<2)+12>>2])*.5,gD[t+56>>2]=o,gD[t+52>>2]=o/+CD(+(r*r+o*o)),o=+ED(+ +gD[e>>2]),r=+ED(+ +gD[e+4>>2]),i=+ED(+ +gD[e+8>>2]),gD[t+12>>2]=o,gD[t+16>>2]=r,gD[t+20>>2]=i,gD[t+24>>2]=0}function $m(t){t|=0}function tg(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function eg(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,GP[fD[(fD[t>>2]|0)+80>>2]&127](t,e,i,r),bD=o}function ig(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;r=bD,bD=bD+96|0,gD[r+32>>2]=1,fD[r+36>>2]=0,fD[r+40>>2]=0,fD[r+44>>2]=0,fD[r+48>>2]=0,gD[r+52>>2]=1,fD[r+56>>2]=0,fD[r+60>>2]=0,fD[r+64>>2]=0,fD[r+68>>2]=0,gD[r+72>>2]=1,l=r+76|0,fD[l+0>>2]=0,fD[l+4>>2]=0,fD[l+8>>2]=0,fD[l+12>>2]=0,fD[l+16>>2]=0,GP[fD[(fD[t>>2]|0)+8>>2]&127](t,r+32|0,r+16|0,r),a=(+gD[r>>2]-+gD[r+16>>2])*.5,n=(+gD[r+4>>2]-+gD[r+20>>2])*.5,s=(+gD[r+8>>2]-+gD[r+24>>2])*.5,o=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),gD[i>>2]=e*.0833333283662796*((n+o)*2*(n+o)*2+(s+o)*2*(s+o)*2),gD[i+4>>2]=e*.0833333283662796*((a+o)*2*(a+o)*2+(s+o)*2*(s+o)*2),gD[i+8>>2]=e*.0833333283662796*((a+o)*2*(a+o)*2+(n+o)*2*(n+o)*2),gD[i+12>>2]=0,bD=r}function rg(t){return t|=0,10136}function og(t,e){t|=0,e|=0,gD[t>>2]=0,gD[t+4>>2]=1,gD[t+8>>2]=0,gD[t+12>>2]=0}function ng(t,e){t|=0,e=+e,gD[t+44>>2]=e}function ag(t){return t|=0,60}function sg(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;return r=bD,o=AP[fD[(fD[i>>2]|0)+40>>2]&31](i,t)|0,n=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,o)|0,fD[e>>2]=n,(n|0)!=0&&aP[fD[(fD[i>>2]|0)+48>>2]&127](i,o),fD[e+4>>2]=fD[t+4>>2],gD[e+28>>2]=+gD[t+28>>2],gD[e+32>>2]=+gD[t+32>>2],gD[e+36>>2]=+gD[t+36>>2],gD[e+40>>2]=+gD[t+40>>2],gD[e+12>>2]=+gD[t+12>>2],gD[e+16>>2]=+gD[t+16>>2],gD[e+20>>2]=+gD[t+20>>2],gD[e+24>>2]=+gD[t+24>>2],gD[e+44>>2]=+gD[t+44>>2],fD[e+52>>2]=fD[t+68>>2],bD=r,10120}function lg(t){t|=0}function cg(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function hg(t){return t|=0,10112}function dg(t,e){t|=0,e|=0,gD[t>>2]=0,gD[t+4>>2]=0,gD[t+8>>2]=1,gD[t+12>>2]=0}function ug(t){t|=0}function pg(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function fg(t){return t|=0,10104}function _g(t,e){t|=0,e|=0,gD[t>>2]=1,gD[t+4>>2]=0,gD[t+8>>2]=0,gD[t+12>>2]=0}function mg(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;i=bD,l=fD[t+212>>2]|0;t:do if((l|0)>0){for(o=fD[t+220>>2]|0,n=0;;){if(a=o+(n<<2)|0,s=n+1|0,(fD[a>>2]|0)==(e|0))break;if(!((s|0)<(l|0)))break t;n=s}(n|0)<(l|0)&&(fD[a>>2]=fD[o+(l+-1<<2)>>2],fD[(fD[t+220>>2]|0)+(l+-1<<2)>>2]=e,fD[t+212>>2]=l+-1)}while(0);t=fD[e+28>>2]|0,n=fD[t+488>>2]|0;t:do if((n|0)>0){for(o=fD[t+496>>2]|0,a=0;;){if(s=o+(a<<2)|0,l=a+1|0,(fD[s>>2]|0)==(e|0))break;if(!((l|0)<(n|0)))break t;a=l}(a|0)<(n|0)&&(fD[s>>2]=fD[o+(n+-1<<2)>>2],fD[(fD[t+496>>2]|0)+(n+-1<<2)>>2]=e,fD[t+488>>2]=n+-1,n=n+-1|0)}while(0);if(fD[t+256>>2]=(n|0)>0&1,t=fD[e+32>>2]|0,o=fD[t+488>>2]|0,(o|0)<=0)return s=o,s=(s|0)>0,s&=1,l=t+256|0,fD[l>>2]=s,void(bD=i);for(a=fD[t+496>>2]|0,s=0;;){if(l=a+(s<<2)|0,n=s+1|0,(fD[l>>2]|0)==(e|0))break;if(!((n|0)<(o|0))){r=19;break}s=n}return(r|0)==19?(s=(o|0)>0,s&=1,l=t+256|0,fD[l>>2]=s,void(bD=i)):(s|0)>=(o|0)?(s=o,s=(s|0)>0,s&=1,l=t+256|0,fD[l>>2]=s,void(bD=i)):(fD[l>>2]=fD[a+(o+-1<<2)>>2],fD[(fD[t+496>>2]|0)+(o+-1<<2)>>2]=e,fD[t+488>>2]=o+-1,s=o+-1|0,s=(s|0)>0,s&=1,l=t+256|0,fD[l>>2]=s,void(bD=i))}function gg(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(i=bD,n=fD[t+280>>2]|0,(n|0)==(fD[t+284>>2]|0)?(r=(n|0)==0?1:n<<1,(n|0)<(r|0)):0){if((r|0)==0?o=0:(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),n=fD[t+280>>2]|0),(n|0)>0){a=0;do s=o+(a<<2)|0,(s|0)!=0&&(fD[s>>2]=fD[(fD[t+288>>2]|0)+(a<<2)>>2]),a=a+1|0;while((a|0)!=(n|0))}a=fD[t+288>>2]|0,(a|0)!=0&&((uD[t+292>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0),n=fD[t+280>>2]|0),fD[t+288>>2]=0),uD[t+292>>0]=1,fD[t+288>>2]=o,fD[t+284>>2]=r}return r=(fD[t+288>>2]|0)+(n<<2)|0,(r|0)==0?(s=n+1|0,fD[t+280>>2]=s,void(bD=i)):(fD[r>>2]=e,s=n+1|0,fD[t+280>>2]=s,void(bD=i))}function yg(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(r=bD,o=fD[t+280>>2]|0,(o|0)<=0)return void(bD=r);for(n=fD[t+288>>2]|0,a=0;;){if(s=n+(a<<2)|0,l=a+1|0,(fD[s>>2]|0)==(e|0))break;if(!((l|0)<(o|0))){i=7;break}a=l}return(i|0)==7?void(bD=r):(a|0)>=(o|0)?void(bD=r):(fD[s>>2]=fD[n+(o+-1<<2)>>2],fD[(fD[t+288>>2]|0)+(o+-1<<2)>>2]=e,fD[t+280>>2]=o+-1,void(bD=r))}function bg(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+64>>2]&127](t,e),bD=i}function vg(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+68>>2]&127](t,e),bD=i}function Mg(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+64>>2]&127](t,e),bD=i}function Sg(t,e){t|=0,e|=0;var i=0;i=bD,aP[fD[(fD[t>>2]|0)+68>>2]&127](t,e),bD=i}function xg(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0;if(i=bD,bD=bD+16|0,Gx(1704),r=fD[t+212>>2]|0,o=fD[t+180>>2]|0,(o|0)<(r|0)){if((fD[t+184>>2]|0)<(r|0)){if((r|0)==0?(a=0,c=o):(fD[5004]=(fD[5004]|0)+1,a=Ew((r<<2|3)+16|0)|0,(a|0)==0?a=0:(fD[(a+19&-16)+-4>>2]=a,a=a+19&-16),c=fD[t+180>>2]|0),(c|0)>0){s=0;do l=a+(s<<2)|0,(l|0)!=0&&(fD[l>>2]=fD[(fD[t+188>>2]|0)+(s<<2)>>2]),s=s+1|0;while((s|0)!=(c|0))}s=fD[t+188>>2]|0,(s|0)!=0&&((uD[t+192>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[s+-4>>2]|0)),fD[t+188>>2]=0),uD[t+192>>0]=1,fD[t+188>>2]=a,fD[t+184>>2]=r,a=t+188|0}else a=t+188|0;do s=(fD[a>>2]|0)+(o<<2)|0,(s|0)!=0&&(fD[s>>2]=0),o=o+1|0;while((o|0)!=(r|0))}for(fD[t+180>>2]=r,r=0;;){if((r|0)>=(lP[fD[(fD[t>>2]|0)+104>>2]&127](t)|0))break;fD[(fD[t+188>>2]|0)+(r<<2)>>2]=fD[(fD[t+220>>2]|0)+(r<<2)>>2],r=r+1|0}if(r=fD[t+180>>2]|0,(r|0)>1&&Fg(t+176|0,0,r+-1|0),o=(lP[fD[(fD[t>>2]|0)+104>>2]&127](t)|0)==0?0:fD[t+188>>2]|0,r=fD[t+196>>2]|0,g=fD[t+180>>2]|0,a=lP[fD[(fD[t>>2]|0)+20>>2]&127](t)|0,fD[r+4>>2]=e,fD[r+12>>2]=o,fD[r+16>>2]=g,fD[r+20>>2]=a,a=fD[r+32>>2]|0,(a|0)<0){(fD[r+36>>2]|0)<0?(o=fD[r+40>>2]|0,(o|0)!=0&&((uD[r+44>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[r+40>>2]=0),uD[r+44>>0]=1,fD[r+40>>2]=0,fD[r+36>>2]=0,o=a):o=a;do a=(fD[r+40>>2]|0)+(o<<2)|0,(a|0)!=0&&(fD[a>>2]=0),o=o+1|0;while((o|0)!=0)}if(fD[r+32>>2]=0,o=fD[r+52>>2]|0,(o|0)<0){(fD[r+56>>2]|0)<0&&(a=fD[r+60>>2]|0,(a|0)!=0&&((uD[r+64>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[r+60>>2]=0),uD[r+64>>0]=1,fD[r+60>>2]=0,fD[r+56>>2]=0);do a=(fD[r+60>>2]|0)+(o<<2)|0,(a|0)!=0&&(fD[a>>2]=0),o=o+1|0;while((o|0)!=0)}if(fD[r+52>>2]=0,a=fD[r+72>>2]|0,(a|0)<0){(fD[r+76>>2]|0)<0?(o=fD[r+80>>2]|0,(o|0)!=0&&((uD[r+84>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[r+80>>2]=0),uD[r+84>>0]=1,fD[r+80>>2]=0,fD[r+76>>2]=0,o=a):o=a;do a=(fD[r+80>>2]|0)+(o<<2)|0,(a|0)!=0&&(fD[a>>2]=0),o=o+1|0;while((o|0)!=0)}if(fD[r+72>>2]=0,r=fD[t+200>>2]|0,l=fD[(fD[r>>2]|0)+8>>2]|0,a=fD[t+8>>2]|0,o=fD[t+24>>2]|0,o=lP[fD[(fD[o>>2]|0)+36>>2]&127](o)|0,OP[l&127](r,a,o),o=fD[t+204>>2]|0,a=fD[t+24>>2]|0,r=fD[t+196>>2]|0,Gx(16584),l=fD[o+28>>2]|0,(l|0)<0){(fD[o+32>>2]|0)<0&&(s=fD[o+36>>2]|0,(s|0)!=0&&((uD[o+40>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[s+-4>>2]|0)),fD[o+36>>2]=0),uD[o+40>>0]=1,fD[o+36>>2]=0,fD[o+32>>2]=0);do s=(fD[o+36>>2]|0)+(l<<2)|0,(s|0)!=0&&(fD[s>>2]=0),l=l+1|0;while((l|0)!=0)}if(fD[o+28>>2]=0,s=fD[o+8>>2]|0,(s|0)>0){l=fD[o+16>>2]|0,c=0;do{if(h=l+(c<<3)|0,u=fD[h>>2]|0,(u|0)==(c|0))p=c;else{d=h;do p=l+(u<<3)|0,fD[d>>2]=fD[p>>2],p=fD[p>>2]|0,d=l+(p<<3)|0,u=fD[d>>2]|0;while((p|0)!=(u|0))}fD[h>>2]=p,c=c+1|0}while((c|0)!=(s|0));if(u=fD[o+8>>2]|0,(u|0)>1&&(IM(o+4|0,0,u+-1|0),u=fD[o+8>>2]|0),(u|0)>0)for(d=fD[o+16>>2]|0,p=0;;){h=fD[d+(p<<3)>>2]|0,l=p;do if(l=l+1|0,s=(l|0)<(u|0),!s)break;while((fD[d+(l<<3)>>2]|0)==(h|0));if((p|0)<(l|0)){c=fD[t+16>>2]|0,_=1,f=p;do m=fD[c+(fD[d+(f<<3)+4>>2]<<2)>>2]|0,(fD[m+208>>2]|0)==(h|0)&&(g=fD[m+216>>2]|0,_=_&(g|0)!=1&(g|0)!=4),f=f+1|0;while((f|0)!=(l|0));if(_){do f=fD[c+(fD[d+(p<<3)+4>>2]<<2)>>2]|0,((fD[f+208>>2]|0)==(h|0)?((fD[f+216>>2]|0)+-4|0)>>>0<2:!0)||(fD[f+216>>2]=2),p=p+1|0;while((p|0)<(l|0))}else do f=fD[c+(fD[d+(p<<3)+4>>2]<<2)>>2]|0,((fD[f+208>>2]|0)==(h|0)?(fD[f+216>>2]|0)==2:0)&&(fD[f+216>>2]=3,gD[f+220>>2]=0),p=p+1|0;while((p|0)<(l|0))}if(!s)break;p=l}}if(l=lP[fD[(fD[a>>2]|0)+36>>2]&127](a)|0,(l|0)>0){s=0;do{if(c=AP[fD[(fD[a>>2]|0)+40>>2]&31](a,s)|0,h=fD[c+740>>2]|0,d=fD[c+744>>2]|0,u=((h|0)!=0?(fD[h+216>>2]|0)!=2:0)?101:99,(((u|0)==99?(u=0,(d|0)!=0):0)?(fD[d+216>>2]|0)!=2:0)&&(u=101),(u|0)==101&&(g=fD[h+204>>2]|0,((((g&2|0)!=0?(fD[h+216>>2]|0)!=2:0)?(g&4|0)==0:0)?(fD[d+204>>2]&3|0)==0:0)&&(((fD[d+216>>2]|0)+-4|0)>>>0<2||(fD[d+216>>2]=1),gD[d+220>>2]=0),g=fD[d+204>>2]|0,((((g&2|0)!=0?(fD[d+216>>2]|0)!=2:0)?(g&4|0)==0:0)?(fD[h+204>>2]&3|0)==0:0)&&(((fD[h+216>>2]|0)+-4|0)>>>0<2||(fD[h+216>>2]=1),gD[h+220>>2]=0),(uD[o+64>>0]|0)!=0?gP[fD[(fD[a>>2]|0)+28>>2]&31](a,h,d)|0:0)){if(d=fD[o+28>>2]|0,(d|0)==(fD[o+32>>2]|0)?(n=(d|0)==0?1:d<<1,(d|0)<(n|0)):0){if((n|0)==0?h=0:(fD[5004]=(fD[5004]|0)+1,h=Ew((n<<2|3)+16|0)|0,(h|0)==0?h=0:(fD[(h+19&-16)+-4>>2]=h,h=h+19&-16),d=fD[o+28>>2]|0),(d|0)>0){p=0;do u=h+(p<<2)|0,(u|0)!=0&&(fD[u>>2]=fD[(fD[o+36>>2]|0)+(p<<2)>>2]),p=p+1|0;while((p|0)!=(d|0))}u=fD[o+36>>2]|0,(u|0)!=0&&((uD[o+40>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[u+-4>>2]|0),d=fD[o+28>>2]|0),fD[o+36>>2]=0),uD[o+40>>0]=1,fD[o+36>>2]=h,fD[o+32>>2]=n}h=(fD[o+36>>2]|0)+(d<<2)|0,(h|0)!=0&&(fD[h>>2]=c),fD[o+28>>2]=d+1}s=s+1|0}while((s|0)<(l|0))}n=fD[5022]|0,g=(fD[n+16>>2]|0)+-1|0,fD[n+16>>2]=g;do if((g|0)==0){if((fD[n+4>>2]|0)!=0){if($D(i|0,0)|0,g=fD[5008]|0,gD[n+8>>2]=+(((fD[i+4>>2]|0)-(fD[g+4>>2]|0)+(((fD[i>>2]|0)-(fD[g>>2]|0)|0)*1e6|0)-(fD[n+12>>2]|0)|0)>>>0)/1e3+ +gD[n+8>>2],(fD[n+16>>2]|0)!=0)break;n=fD[5022]|0}fD[5022]=fD[n+20>>2]}while(0);if(n=fD[o+8>>2]|0,Gx(16616),(uD[o+64>>0]|0)!=0){if(a=fD[o+28>>2]|0,(a|0)>1&&kv(o+24|0,0,a+-1|0),(n|0)>0){c=1,h=0,s=0;do{p=fD[o+16>>2]|0,l=fD[p+(h<<3)>>2]|0;t:do if((h|0)<(n|0))for(u=l,d=1;;){if((u|0)!=(l|0))break t;u=fD[(fD[t+16>>2]|0)+(fD[p+(h<<3)+4>>2]<<2)>>2]|0,_=fD[o+48>>2]|0;do if((_|0)==(fD[o+52>>2]|0)){if(p=(_|0)==0?1:_<<1,(_|0)>=(p|0))break;if((p|0)==0?f=0:(fD[5004]=(fD[5004]|0)+1,f=Ew((p<<2|3)+16|0)|0,(f|0)==0?f=0:(fD[(f+19&-16)+-4>>2]=f,f=f+19&-16),_=fD[o+48>>2]|0),(_|0)>0){m=0;do g=f+(m<<2)|0,(g|0)!=0&&(fD[g>>2]=fD[(fD[o+56>>2]|0)+(m<<2)>>2]),m=m+1|0;while((m|0)!=(_|0))}m=fD[o+56>>2]|0,(m|0)!=0&&((uD[o+60>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[m+-4>>2]|0),_=fD[o+48>>2]|0),fD[o+56>>2]=0),uD[o+60>>0]=1,fD[o+56>>2]=f,fD[o+52>>2]=p}while(0);if(p=(fD[o+56>>2]|0)+(_<<2)|0,(p|0)!=0&&(fD[p>>2]=u),fD[o+48>>2]=_+1,g=fD[u+216>>2]|0,d&=(g|0)==2|(g|0)==5,h=h+1|0,(h|0)>=(n|0))break t;p=fD[o+16>>2]|0,u=fD[p+(h<<3)>>2]|0}else d=1;while(0);if((s|0)<(a|0))if(p=fD[o+36>>2]|0,u=p+(s<<2)|0,f=fD[u>>2]|0,_=fD[(fD[f+740>>2]|0)+208>>2]|0,(_|0)>-1||(_=fD[(fD[f+744>>2]|0)+208>>2]|0),(_|0)==(l|0)){f=s;do{if(f=f+1|0,(f|0)>=(a|0))break;_=fD[p+(f<<2)>>2]|0,c=fD[(fD[_+740>>2]|0)+208>>2]|0,(c|0)>-1||(c=fD[(fD[_+744>>2]|0)+208>>2]|0)}while((l|0)==(c|0));c=f,p=f-s|0}else p=0,u=0;else p=0,u=0;if(d||yP[fD[(fD[r>>2]|0)+8>>2]&7](r,fD[o+56>>2]|0,fD[o+48>>2]|0,u,p,l),s=(p|0)==0?s:c,d=fD[o+48>>2]|0,(d|0)<0){(fD[o+52>>2]|0)<0&&(l=fD[o+56>>2]|0,(l|0)!=0&&((uD[o+60>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[l+-4>>2]|0)),fD[o+56>>2]=0),uD[o+60>>0]=1,fD[o+56>>2]=0,fD[o+52>>2]=0);do l=(fD[o+56>>2]|0)+(d<<2)|0,(l|0)!=0&&(fD[l>>2]=0),d=d+1|0;while((d|0)!=0)}fD[o+48>>2]=0}while((h|0)<(n|0))}}else m=lP[fD[(fD[a>>2]|0)+44>>2]&127](a)|0,g=lP[fD[(fD[a>>2]|0)+36>>2]&127](a)|0,yP[fD[(fD[r>>2]|0)+8>>2]&7](r,fD[t+16>>2]|0,fD[t+8>>2]|0,m,g,-1);r=fD[5022]|0,g=(fD[r+16>>2]|0)+-1|0,fD[r+16>>2]=g;do if((g|0)==0){if((fD[r+4>>2]|0)!=0){if($D(i|0,0)|0,g=fD[5008]|0,gD[r+8>>2]=+(((fD[i+4>>2]|0)-(fD[g+4>>2]|0)+(((fD[i>>2]|0)-(fD[g>>2]|0)|0)*1e6|0)-(fD[r+12>>2]|0)|0)>>>0)/1e3+ +gD[r+8>>2],(fD[r+16>>2]|0)!=0)break;r=fD[5022]|0}fD[5022]=fD[r+20>>2]}while(0);if(Tg(fD[t+196>>2]|0),g=fD[t+200>>2]|0,OP[fD[(fD[g>>2]|0)+16>>2]&127](g,e,fD[t+72>>2]|0),t=fD[5022]|0,g=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=g,(g|0)!=0)return void(bD=i);do if((fD[t+4>>2]|0)!=0){if($D(i|0,0)|0,g=fD[5008]|0,gD[t+8>>2]=+(((fD[i+4>>2]|0)-(fD[g+4>>2]|0)+(((fD[i>>2]|0)-(fD[g>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)==0){t=fD[5022]|0;break}return void(bD=i)}while(0);fD[5022]=fD[t+20>>2],bD=i}function Tg(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(e=bD,i=fD[t+32>>2]|0,r=(i|0)==0?0:fD[t+40>>2]|0,o=fD[t+52>>2]|0,n=(o|0)==0?0:fD[t+60>>2]|0,a=fD[t+72>>2]|0,s=(a|0)==0?0:fD[t+80>>2]|0,l=fD[t+8>>2]|0,+RP[fD[(fD[l>>2]|0)+12>>2]&3](l,r,i,n,o,s,a,fD[t+4>>2]|0,fD[t+20>>2]|0,fD[t+24>>2]|0),i=fD[t+32>>2]|0,(i|0)<0){(fD[t+36>>2]|0)<0&&(r=fD[t+40>>2]|0,(r|0)!=0&&((uD[t+44>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[t+40>>2]=0),uD[t+44>>0]=1,fD[t+40>>2]=0,fD[t+36>>2]=0);do r=(fD[t+40>>2]|0)+(i<<2)|0,(r|0)!=0&&(fD[r>>2]=0),i=i+1|0;while((i|0)!=0)}if(fD[t+32>>2]=0,i=fD[t+52>>2]|0,(i|0)<0){(fD[t+56>>2]|0)<0&&(r=fD[t+60>>2]|0,(r|0)!=0&&((uD[t+64>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[t+60>>2]=0),uD[t+64>>0]=1,fD[t+60>>2]=0,fD[t+56>>2]=0);do r=(fD[t+60>>2]|0)+(i<<2)|0,(r|0)!=0&&(fD[r>>2]=0),i=i+1|0;while((i|0)!=0)}if(fD[t+52>>2]=0,i=fD[t+72>>2]|0,(i|0)>=0)return fD[t+72>>2]=0,void(bD=e);(fD[t+76>>2]|0)<0?(r=fD[t+80>>2]|0,(r|0)!=0&&((uD[t+84>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[t+80>>2]=0),uD[t+84>>0]=1,fD[t+80>>2]=0,fD[t+76>>2]=0,r=i):r=i;do i=(fD[t+80>>2]|0)+(r<<2)|0,(i|0)!=0&&(fD[i>>2]=0),r=r+1|0;while((r|0)!=0);fD[t+72>>2]=0,bD=e}function Eg(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;if(e=bD,bD=bD+16|0,Gx(1728),d=fD[t+204>>2]|0,OP[fD[(fD[d>>2]|0)+8>>2]&127](d,t,fD[t+24>>2]|0),(fD[t+308>>2]|0)>0){o=fD[t+316>>2]|0,n=0;do{if(a=fD[o+(n<<2)>>2]|0,s=fD[a+740>>2]|0,a=fD[a+744>>2]|0,((s|0)!=0?(a|0)==0?1:(fD[s+204>>2]&3|0)!=0:!0)?0:(fD[a+204>>2]&3|0)==0){if(l=fD[s+208>>2]|0,s=fD[a+208>>2]|0,a=fD[(fD[t+204>>2]|0)+16>>2]|0,c=fD[a+(l<<3)>>2]|0,(c|0)!=(l|0)){h=a+(l<<3)|0;do l=a+(c<<3)|0,fD[h>>2]=fD[l>>2],l=fD[l>>2]|0,h=a+(l<<3)|0,c=fD[h>>2]|0;while((l|0)!=(c|0))}if(c=fD[a+(s<<3)>>2]|0,(c|0)!=(s|0)){h=a+(s<<3)|0;do s=a+(c<<3)|0,fD[h>>2]=fD[s>>2],s=fD[s>>2]|0,h=a+(s<<3)|0,c=fD[h>>2]|0;while((s|0)!=(c|0))}(l|0)!=(s|0)&&(fD[a+(l<<3)>>2]=s,d=a+(s<<3)+4|0,fD[d>>2]=(fD[d>>2]|0)+(fD[a+(l<<3)+4>>2]|0))}n=n+1|0}while((n|0)<(fD[t+308>>2]|0))}if(o=fD[t+212>>2]|0,(o|0)>0){a=fD[t+220>>2]|0,n=0;do{if(s=fD[a+(n<<2)>>2]|0,(((uD[s+20>>0]|0)!=0?(i=fD[s+28>>2]|0,r=fD[s+32>>2]|0,(i|0)!=0):0)?(r|0)==0?1:(fD[i+204>>2]&3|0)!=0:!0)?0:(fD[r+204>>2]&3|0)==0){if(c=fD[i+208>>2]|0,l=fD[r+208>>2]|0,s=fD[(fD[t+204>>2]|0)+16>>2]|0,h=fD[s+(c<<3)>>2]|0,(h|0)!=(c|0)){d=s+(c<<3)|0;do c=s+(h<<3)|0,fD[d>>2]=fD[c>>2],c=fD[c>>2]|0,d=s+(c<<3)|0,h=fD[d>>2]|0;while((c|0)!=(h|0))}if(h=fD[s+(l<<3)>>2]|0,(h|0)!=(l|0)){d=s+(l<<3)|0;do l=s+(h<<3)|0,fD[d>>2]=fD[l>>2],l=fD[l>>2]|0,d=s+(l<<3)|0,h=fD[d>>2]|0;while((l|0)!=(h|0))}(c|0)!=(l|0)&&(fD[s+(c<<3)>>2]=l,d=s+(l<<3)+4|0,fD[d>>2]=(fD[d>>2]|0)+(fD[s+(c<<3)+4>>2]|0))}n=n+1|0}while((n|0)!=(o|0))}if(d=fD[t+204>>2]|0,aP[fD[(fD[d>>2]|0)+12>>2]&127](d,t),t=fD[5022]|0,d=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=d,(d|0)!=0)return void(bD=e);do if((fD[t+4>>2]|0)!=0){if($D(e|0,0)|0,d=fD[5008]|0,gD[t+8>>2]=+(((fD[e+4>>2]|0)-(fD[d+4>>2]|0)+(((fD[e>>2]|0)-(fD[d>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)==0){t=fD[5022]|0;break}return void(bD=e)}while(0);fD[5022]=fD[t+20>>2],bD=e}function Cg(t){t|=0}function Ag(t){t|=0}function wg(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0;if(i=bD,bD=bD+352|0,Gx(1872),(fD[t+232>>2]|0)>0){d=i+232|0,l=0;do{c=fD[(fD[t+240>>2]|0)+(l<<2)>>2]|0,gD[c+244>>2]=1,M=fD[c+216>>2]|0;do if((M|0)==2|(M|0)==5?0:(fD[c+204>>2]&3|0)==0){if(qd(c+4|0,+gD[c+312>>2],+gD[c+316>>2],+gD[c+320>>2],c+328|0,e,i+184|0),T=+gD[d>>2]-+gD[c+52>>2],x=+gD[i+236>>2]-+gD[c+56>>2],S=+gD[i+240>>2]-+gD[c+60>>2],(uD[t+44>>0]|0)!=0?(E=+gD[c+252>>2],E*E!=0?E*E<T*T+x*x+S*S:0):0){Gx(1896),(fD[(fD[c+192>>2]|0)+4>>2]|0)<20?(fD[440]=(fD[440]|0)+1,v=fD[t+68>>2]|0,v=lP[fD[(fD[v>>2]|0)+36>>2]&127](v)|0,M=fD[t+24>>2]|0,gD[i+252>>2]=1,pD[i+256>>1]=1,pD[i+258>>1]=-1,fD[i+248>>2]=688,fD[i+260>>2]=fD[c+52>>2],fD[i+264>>2]=fD[c+56>>2],fD[i+268>>2]=fD[c+60>>2],fD[i+272>>2]=fD[c+64>>2],fD[i+276>>2]=fD[d+0>>2],fD[i+280>>2]=fD[d+4>>2],fD[i+284>>2]=fD[d+8>>2],fD[i+288>>2]=fD[d+12>>2],fD[i+324>>2]=0,fD[i+248>>2]=2160,fD[i+328>>2]=c,gD[i+332>>2]=0,fD[i+336>>2]=v,fD[i+340>>2]=M,S=+gD[c+248>>2],fD[i+136>>2]=0,gD[i+140>>2]=1,gD[i+144>>2]=1,gD[i+148>>2]=1,gD[i+152>>2]=0,fD[i+128>>2]=16680,fD[i+132>>2]=8,gD[i+156>>2]=S,gD[i+172>>2]=S,gD[i+332>>2]=+gD[t+56>>2],M=fD[c+188>>2]|0,pD[i+256>>1]=pD[M+4>>1]|0,pD[i+258>>1]=pD[M+6>>1]|0,fD[i+112>>2]=fD[d+0>>2],fD[i+116>>2]=fD[d+4>>2],fD[i+120>>2]=fD[d+8>>2],fD[i+124>>2]=fD[d+12>>2],fD[i+64>>2]=fD[c+4>>2],fD[i+68>>2]=fD[c+8>>2],fD[i+72>>2]=fD[c+12>>2],fD[i+76>>2]=fD[c+16>>2],fD[i+80>>2]=fD[c+20>>2],fD[i+84>>2]=fD[c+24>>2],fD[i+88>>2]=fD[c+28>>2],fD[i+92>>2]=fD[c+32>>2],fD[i+96>>2]=fD[c+36>>2],fD[i+100>>2]=fD[c+40>>2],fD[i+104>>2]=fD[c+44>>2],fD[i+108>>2]=fD[c+48>>2],L_(t,i+128|0,c+4|0,i+64|0,i+248|0,0),S=+gD[i+252>>2],S<1?(gD[c+244>>2]=S,qd(c+4|0,+gD[c+312>>2],+gD[c+316>>2],+gD[c+320>>2],c+328|0,S*e,i+184|0),gD[c+244>>2]=0,Cb(c,i+184|0),u=4):u=0,(u|0)==0&&(h=11)):h=11,(h|0)==11&&(h=0,u=0),p=fD[5022]|0,M=(fD[p+16>>2]|0)+-1|0,fD[p+16>>2]=M;do if((M|0)==0){if((fD[p+4>>2]|0)!=0){if($D(i+248|0,0)|0,M=fD[5008]|0,gD[p+8>>2]=+(((fD[i+252>>2]|0)-(fD[M+4>>2]|0)+(((fD[i+248>>2]|0)-(fD[M>>2]|0)|0)*1e6|0)-(fD[p+12>>2]|0)|0)>>>0)/1e3+ +gD[p+8>>2],(fD[p+16>>2]|0)!=0)break;p=fD[5022]|0}fD[5022]=fD[p+20>>2]}while(0);if((u|0)==4)break}Cb(c,i+184|0)}while(0);l=l+1|0}while((l|0)<(fD[t+232>>2]|0))}do if((uD[t+275>>0]|0)!=0){if(Gx(1920),d=fD[t+308>>2]|0,(d|0)>0){l=0;do{if(c=fD[(fD[t+316>>2]|0)+(l<<2)>>2]|0,y=fD[c+740>>2]|0,(fD[y+236>>2]&2|0)==0&&(y=0),h=fD[c+744>>2]|0,(fD[h+236>>2]&2|0)==0&&(h=0),v=fD[c+748>>2]|0,(v|0)>0){if(p=y+52|0,u=y+56|0,d=y+60|0,m=h+52|0,f=h+56|0,_=h+60|0,g=(h|0)==0,(y|0)==0){y=h+228|0,b=0;do e=+gD[57]*+gD[y>>2],((e>0?(r=+gD[c+(b*184|0)+124>>2],r!=0):0)?(o=e*r*+gD[c+(b*184|0)+68>>2],n=e*r*+gD[c+(b*184|0)+72>>2],a=e*r*+gD[c+(b*184|0)+76>>2],gD[i+48>>2]=-o,gD[i+52>>2]=-n,gD[i+56>>2]=-a,gD[i+60>>2]=0,E=+gD[c+(b*184|0)+56>>2]-+gD[u>>2],T=+gD[c+(b*184|0)+60>>2]-+gD[d>>2],gD[i+32>>2]=+gD[c+(b*184|0)+52>>2]-+gD[p>>2],gD[i+36>>2]=E,gD[i+40>>2]=T,gD[i+44>>2]=0,T=+gD[c+(b*184|0)+40>>2]-+gD[f>>2],E=+gD[c+(b*184|0)+44>>2]-+gD[_>>2],gD[i+16>>2]=+gD[c+(b*184|0)+36>>2]-+gD[m>>2],gD[i+20>>2]=T,gD[i+24>>2]=E,gD[i+28>>2]=0,!g):0)&&(gD[i>>2]=o,gD[i+4>>2]=n,gD[i+8>>2]=a,gD[i+12>>2]=0,Kc(h,i,i+16|0),v=fD[c+748>>2]|0),b=b+1|0;while((b|0)<(v|0))}else{v=y+228|0,M=h+228|0,b=0;do e=+gD[v>>2]*+gD[M>>2],((e>0?(s=+gD[c+(b*184|0)+124>>2],s!=0):0)?(T=-(e*s*+gD[c+(b*184|0)+72>>2]),E=-(e*s*+gD[c+(b*184|0)+76>>2]),gD[i+48>>2]=-(e*s*+gD[c+(b*184|0)+68>>2]),gD[i+52>>2]=T,gD[i+56>>2]=E,gD[i+60>>2]=0,E=+gD[c+(b*184|0)+56>>2]-+gD[u>>2],T=+gD[c+(b*184|0)+60>>2]-+gD[d>>2],gD[i+32>>2]=+gD[c+(b*184|0)+52>>2]-+gD[p>>2],gD[i+36>>2]=E,gD[i+40>>2]=T,gD[i+44>>2]=0,T=+gD[c+(b*184|0)+40>>2]-+gD[f>>2],E=+gD[c+(b*184|0)+44>>2]-+gD[_>>2],gD[i+16>>2]=+gD[c+(b*184|0)+36>>2]-+gD[m>>2],gD[i+20>>2]=T,gD[i+24>>2]=E,gD[i+28>>2]=0,Kc(y,i+48|0,i+32|0),!g):0)&&(T=-+gD[i+52>>2],E=-+gD[i+56>>2],gD[i>>2]=-+gD[i+48>>2],gD[i+4>>2]=T,gD[i+8>>2]=E,gD[i+12>>2]=0,Kc(h,i,i+16|0)),b=b+1|0;while((b|0)<(fD[c+748>>2]|0))}d=fD[t+308>>2]|0}l=l+1|0}while((l|0)<(d|0))}if(t=fD[5022]|0,M=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=M,(M|0)==0){if((fD[t+4>>2]|0)!=0){if($D(i+248|0,0)|0,M=fD[5008]|0,gD[t+8>>2]=+(((fD[i+252>>2]|0)-(fD[M+4>>2]|0)+(((fD[i+248>>2]|0)-(fD[M>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)!=0)break;t=fD[5022]|0}fD[5022]=fD[t+20>>2]}}while(0);if(t=fD[5022]|0,M=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=M,(M|0)!=0)return void(bD=i);do if((fD[t+4>>2]|0)!=0){if($D(i+248|0,0)|0,M=fD[5008]|0,gD[t+8>>2]=+(((fD[i+252>>2]|0)-(fD[M+4>>2]|0)+(((fD[i+248>>2]|0)-(fD[M>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)==0){t=fD[5022]|0;break}return void(bD=i)}while(0);fD[5022]=fD[t+20>>2],bD=i}function Rg(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0;if(i=bD,bD=bD+16|0,Gx(1960),f=fD[t+232>>2]|0,(f|0)>0){r=0;do{if(o=fD[(fD[t+240>>2]|0)+(r<<2)>>2]|0,(fD[o+204>>2]&3|0)==0){a=+gD[o+444>>2],c=+AD(+(1-a),+e),d=c*+gD[o+312>>2],gD[o+312>>2]=d,l=c*+gD[o+316>>2],gD[o+316>>2]=l,c*=+gD[o+320>>2],gD[o+320>>2]=c,n=+gD[o+448>>2],u=+AD(+(1-n),+e),s=u*+gD[o+328>>2],gD[o+328>>2]=s,h=u*+gD[o+332>>2],gD[o+332>>2]=h,u*=+gD[o+336>>2],gD[o+336>>2]=u;
do if((uD[o+452>>0]|0)!=0){(u*u+(s*s+h*h)<+gD[o+464>>2]?d*d+l*l+c*c<+gD[o+460>>2]:0)&&(p=+gD[o+456>>2],gD[o+328>>2]=s*p,gD[o+332>>2]=p*h,gD[o+336>>2]=p*u,gD[o+312>>2]=p*d,gD[o+316>>2]=p*l,gD[o+320>>2]=p*c,d=p*d,l=p*l,c=p*c,s*=p,h=p*h,u=p*u),p=+CD(+(d*d+l*l+c*c));do if(p<a){if(p>.004999999888241291){d-=d*(1/p)*.004999999888241291,gD[o+312>>2]=d,l-=l*(1/p)*.004999999888241291,gD[o+316>>2]=l,c-=c*(1/p)*.004999999888241291,gD[o+320>>2]=c;break}fD[o+312>>2]=0,fD[o+316>>2]=0,fD[o+320>>2]=0,fD[o+324>>2]=0,d=0,l=0,c=0;break}while(0);if(a=+CD(+(s*s+h*h+u*u)),a<n){if(a>.004999999888241291){gD[o+328>>2]=s-s*(1/a)*.004999999888241291,gD[o+332>>2]=h-h*(1/a)*.004999999888241291,gD[o+336>>2]=u-u*(1/a)*.004999999888241291;break}fD[o+328>>2]=0,fD[o+332>>2]=0,fD[o+336>>2]=0,fD[o+340>>2]=0;break}}while(0);qd(o+4|0,d,l,c,o+328|0,e,o+68|0),f=fD[t+232>>2]|0}r=r+1|0}while((r|0)<(f|0))}if(t=fD[5022]|0,f=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=f,(f|0)!=0)return void(bD=i);do if((fD[t+4>>2]|0)!=0){if($D(i|0,0)|0,f=fD[5008]|0,gD[t+8>>2]=+(((fD[i+4>>2]|0)-(fD[f+4>>2]|0)+(((fD[i>>2]|0)-(fD[f>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)==0){t=fD[5022]|0;break}return void(bD=i)}while(0);fD[5022]=fD[t+20>>2],bD=i}function Dg(t,e){t|=0,e|=0;var i=0,r=0;i=bD,((uD[t+273>>0]|0)!=0?(r=fD[t+200>>2]|0,(r|0)!=0):0)&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),uD[t+273>>0]=0,fD[t+200>>2]=e,fD[(fD[t+196>>2]|0)+8>>2]=e,bD=i}function Pg(t){return t|=0,fD[t+200>>2]|0}function Bg(t){return t|=0,fD[t+212>>2]|0}function Vg(t,e){return t|=0,e|=0,fD[(fD[t+220>>2]|0)+(e<<2)>>2]|0}function Lg(t,e){return t|=0,e|=0,fD[(fD[t+220>>2]|0)+(e<<2)>>2]|0}function kg(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;i=bD,oP[fD[(fD[e>>2]|0)+32>>2]&511](e),r=gP[fD[(fD[e>>2]|0)+16>>2]&31](e,104,1)|0,o=fD[r+8>>2]|0,n=o+0|0,a=n+104|0;do fD[n>>2]=0,n=n+4|0;while((n|0)<(a|0));if(gD[o+88>>2]=+gD[t+248>>2],gD[o+92>>2]=+gD[t+252>>2],gD[o+96>>2]=+gD[t+256>>2],gD[o+100>>2]=+gD[t+260>>2],gD[o>>2]=+gD[t+92>>2],gD[o+4>>2]=+gD[t+96>>2],gD[o+8>>2]=+gD[t+100>>2],gD[o+12>>2]=+gD[t+104>>2],gD[o+16>>2]=+gD[t+108>>2],gD[o+20>>2]=+gD[t+116>>2],gD[o+24>>2]=+gD[t+120>>2],gD[o+28>>2]=+gD[t+124>>2],gD[o+32>>2]=+gD[t+128>>2],gD[o+36>>2]=+gD[t+132>>2],gD[o+40>>2]=+gD[t+140>>2],gD[o+44>>2]=+gD[t+144>>2],gD[o+48>>2]=+gD[t+148>>2],gD[o+52>>2]=+gD[t+152>>2],gD[o+56>>2]=+gD[t+168>>2],gD[o+60>>2]=+gD[t+172>>2],fD[o+64>>2]=fD[t+112>>2],fD[o+68>>2]=fD[t+156>>2],fD[o+72>>2]=fD[t+160>>2],fD[o+76>>2]=fD[t+164>>2],fD[o+80>>2]=fD[t+136>>2],iP[fD[(fD[e>>2]|0)+20>>2]&31](e,r,1992,1145853764,o),o=fD[t+8>>2]|0,(o|0)>0){r=0;do n=fD[(fD[t+16>>2]|0)+(r<<2)>>2]|0,(fD[n+236>>2]&2|0)!=0&&(a=lP[fD[(fD[n>>2]|0)+16>>2]&127](n)|0,a=gP[fD[(fD[e>>2]|0)+16>>2]&31](e,a,1)|0,o=gP[fD[(fD[n>>2]|0)+20>>2]&31](n,fD[a+8>>2]|0,e)|0,iP[fD[(fD[e>>2]|0)+20>>2]&31](e,a,o,1497645650,n),o=fD[t+8>>2]|0),r=r+1|0;while((r|0)<(o|0))}if((fD[t+212>>2]|0)<=0)return F_(t,e),a=fD[e>>2]|0,a=a+36|0,a=fD[a>>2]|0,oP[a&511](e),void(bD=i);r=0;do a=fD[(fD[t+220>>2]|0)+(r<<2)>>2]|0,o=lP[fD[(fD[a>>2]|0)+36>>2]&127](a)|0,o=gP[fD[(fD[e>>2]|0)+16>>2]&31](e,o,1)|0,n=gP[fD[(fD[a>>2]|0)+40>>2]&31](a,fD[o+8>>2]|0,e)|0,iP[fD[(fD[e>>2]|0)+20>>2]&31](e,o,n,1397641027,a),r=r+1|0;while((r|0)<(fD[t+212>>2]|0));F_(t,e),a=fD[e>>2]|0,a=a+36|0,a=fD[a>>2]|0,oP[a&511](e),bD=i}function Hg(t,e){t|=0,e|=0,fD[t+72>>2]=e}function Ig(t){return t|=0,fD[t+72>>2]|0}function Og(t){return t|=0,2}function Jg(t,e){t|=0,e|=0}function Ng(t,e){t|=0,e=+e;var i=0,r=0,o=0;if(i=bD,bD=bD+16|0,Gx(1664),(fD[t+280>>2]|0)>0){r=0;do o=fD[(fD[t+288>>2]|0)+(r<<2)>>2]|0,NP[fD[(fD[o>>2]|0)+8>>2]&7](o,t,e),r=r+1|0;while((r|0)<(fD[t+280>>2]|0))}if(t=fD[5022]|0,o=(fD[t+16>>2]|0)+-1|0,fD[t+16>>2]=o,(o|0)!=0)return void(bD=i);do if((fD[t+4>>2]|0)!=0){if($D(i|0,0)|0,o=fD[5008]|0,gD[t+8>>2]=+(((fD[i+4>>2]|0)-(fD[o+4>>2]|0)+(((fD[i>>2]|0)-(fD[o>>2]|0)|0)*1e6|0)-(fD[t+12>>2]|0)|0)>>>0)/1e3+ +gD[t+8>>2],(fD[t+16>>2]|0)==0){t=fD[5022]|0;break}return void(bD=i)}while(0);fD[5022]=fD[t+20>>2],bD=i}function Fg(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;for(r=bD;;){for(o=fD[t+12>>2]|0,n=fD[o+(((e+i|0)/2|0)<<2)>>2]|0,c=e,l=i;;){if(a=fD[(fD[n+28>>2]|0)+208>>2]|0,(a|0)>-1)for(;;){if(s=fD[o+(c<<2)>>2]|0,h=fD[(fD[s+28>>2]|0)+208>>2]|0,(h|0)>-1||(h=fD[(fD[s+32>>2]|0)+208>>2]|0),!((h|0)<(a|0)))break;c=c+1|0}else for(h=fD[(fD[n+32>>2]|0)+208>>2]|0;;){if(s=fD[o+(c<<2)>>2]|0,d=fD[(fD[s+28>>2]|0)+208>>2]|0,(d|0)>-1||(d=fD[(fD[s+32>>2]|0)+208>>2]|0),!((d|0)<(h|0)))break;c=c+1|0}if((a|0)>-1)for(;;){if(h=fD[o+(l<<2)>>2]|0,d=fD[(fD[h+28>>2]|0)+208>>2]|0,(d|0)>-1||(d=fD[(fD[h+32>>2]|0)+208>>2]|0),!((a|0)<(d|0)))break;l=l+-1|0}else for(a=fD[(fD[n+32>>2]|0)+208>>2]|0;;){if(h=fD[o+(l<<2)>>2]|0,d=fD[(fD[h+28>>2]|0)+208>>2]|0,(d|0)>-1||(d=fD[(fD[h+32>>2]|0)+208>>2]|0),!((a|0)<(d|0)))break;l=l+-1|0}if((c|0)<=(l|0)&&(fD[o+(c<<2)>>2]=h,fD[(fD[t+12>>2]|0)+(l<<2)>>2]=s,c=c+1|0,l=l+-1|0),(c|0)>(l|0))break;o=fD[t+12>>2]|0}if((l|0)>(e|0)&&Fg(t,e,l),!((c|0)<(i|0)))break;e=c}bD=r}function Gg(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function zg(t){return t|=0,t+12|0}function jg(t){return t|=0,2144}function Ug(t,e){t|=0,e|=0,gD[t>>2]=1,gD[t+4>>2]=1,gD[t+8>>2]=1,gD[t+12>>2]=0}function Wg(t,e){t|=0,e=+e,gD[t+44>>2]=e}function Xg(t){return t|=0,+(+gD[t+28>>2]*+gD[t+12>>2])}function qg(t){return t|=0,52}function Kg(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;return r=bD,o=AP[fD[(fD[i>>2]|0)+40>>2]&31](i,t)|0,n=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,o)|0,fD[e>>2]=n,(n|0)!=0&&aP[fD[(fD[i>>2]|0)+48>>2]&127](i,o),fD[e+4>>2]=fD[t+4>>2],gD[e+28>>2]=+gD[t+28>>2],gD[e+32>>2]=+gD[t+32>>2],gD[e+36>>2]=+gD[t+36>>2],gD[e+40>>2]=+gD[t+40>>2],gD[e+12>>2]=+gD[t+12>>2],gD[e+16>>2]=+gD[t+16>>2],gD[e+20>>2]=+gD[t+20>>2],gD[e+24>>2]=+gD[t+24>>2],gD[e+44>>2]=+gD[t+44>>2],bD=r,2112}function Yg(t){return t|=0,0}function Qg(t,e,i){t|=0,e|=0,i|=0}function Zg(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function $g(t,e){t|=0,e|=0;var i=0,r=0,o=0;return i=bD,o=fD[e>>2]|0,r=fD[t+80>>2]|0,(o|0)==(r|0)?(e=0,bD=i,e|0):(pD[t+10>>1]&pD[e+4>>1])<<16>>16==0?(e=0,bD=i,e|0):(pD[e+6>>1]&pD[t+8>>1])<<16>>16==0?(e=0,bD=i,e|0):(e=fD[t+92>>2]|0,e=gP[fD[(fD[e>>2]|0)+28>>2]&31](e,r,o)|0,bD=i,e|0)}function ty(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;return r=bD,o=fD[e>>2]|0,(o|0)==(fD[t+80>>2]|0)?(n=1,bD=r,+n):(fD[o+204>>2]&4|0)!=0?(n=1,bD=r,+n):(+gD[t+28>>2]-+gD[t+12>>2])*+gD[e+8>>2]+(+gD[t+32>>2]-+gD[t+16>>2])*+gD[e+12>>2]+(+gD[t+36>>2]-+gD[t+20>>2])*+gD[e+16>>2]>=-+gD[t+84>>2]?(n=1,bD=r,+n):(gD[t+4>>2]=+gD[e+40>>2],fD[t+76>>2]=o,i?(fD[t+44>>2]=fD[e+8>>2],fD[t+48>>2]=fD[e+12>>2],fD[t+52>>2]=fD[e+16>>2],fD[t+56>>2]=fD[e+20>>2]):(c=+gD[e+8>>2],l=+gD[e+12>>2],s=+gD[e+16>>2],a=c*+gD[o+20>>2]+l*+gD[o+24>>2]+s*+gD[o+28>>2],n=c*+gD[o+36>>2]+l*+gD[o+40>>2]+s*+gD[o+44>>2],gD[t+44>>2]=+gD[o+4>>2]*c+ +gD[o+8>>2]*l+ +gD[o+12>>2]*s,gD[t+48>>2]=a,gD[t+52>>2]=n,gD[t+56>>2]=0),fD[t+60>>2]=fD[e+24>>2],fD[t+64>>2]=fD[e+28>>2],fD[t+68>>2]=fD[e+32>>2],fD[t+72>>2]=fD[e+36>>2],c=+gD[e+40>>2],bD=r,+c)}function ey(t){t|=0;var e=0;e=bD,oy(t),bD=e}function iy(t){t|=0;var e=0;e=bD,oy(t),Cw(t),bD=e}function ry(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0;if(a=bD,(n|0)<0)return f=fD[t+8>>2]|0,+RP[fD[(fD[f>>2]|0)+12>>2]&3](f,e,i,r,o,fD[t+12>>2]|0,fD[t+16>>2]|0,fD[t+4>>2]|0,fD[t+20>>2]|0,fD[t+24>>2]|0),void(bD=a);c=fD[t+16>>2]|0;t:do if((c|0)>0)for(l=fD[t+12>>2]|0,d=0;;){if(s=l+(d<<2)|0,u=fD[s>>2]|0,h=fD[(fD[u+28>>2]|0)+208>>2]|0,u=(h|0)>-1?h:fD[(fD[u+32>>2]|0)+208>>2]|0,h=d+1|0,(u|0)==(n|0))break t;if(!((h|0)<(c|0))){d=h,s=0;break}d=h}else d=0,s=0;while(0);if((d|0)<(c|0)){h=fD[t+12>>2]|0,l=0;do p=fD[h+(d<<2)>>2]|0,u=fD[(fD[p+28>>2]|0)+208>>2]|0,(u|0)>-1||(u=fD[(fD[p+32>>2]|0)+208>>2]|0),l=((u|0)==(n|0)&1)+l|0,d=d+1|0;while((d|0)<(c|0))}else l=0;if(n=fD[t+4>>2]|0,(fD[n+72>>2]|0)<2)return f=fD[t+8>>2]|0,+RP[fD[(fD[f>>2]|0)+12>>2]&3](f,e,i,r,o,s,l,n,fD[t+20>>2]|0,fD[t+24>>2]|0),void(bD=a);if((i|0)>0)for(d=fD[t+32>>2]|0,u=fD[t+36>>2]|0,n=0;;){if(c=e+(n<<2)|0,(d|0)==(u|0))if(h=(u|0)==0?1:u<<1,(u|0)<(h|0)){if((h|0)==0?d=0:(fD[5004]=(fD[5004]|0)+1,d=Ew((h<<2|3)+16|0)|0,(d|0)==0?d=0:(fD[(d+19&-16)+-4>>2]=d,d=d+19&-16),u=fD[t+32>>2]|0),(u|0)>0){f=0;do p=d+(f<<2)|0,(p|0)!=0&&(fD[p>>2]=fD[(fD[t+40>>2]|0)+(f<<2)>>2]),f=f+1|0;while((f|0)!=(u|0))}p=fD[t+40>>2]|0,(p|0)!=0&&((uD[t+44>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[p+-4>>2]|0),u=fD[t+32>>2]|0),fD[t+40>>2]=0),uD[t+44>>0]=1,fD[t+40>>2]=d,fD[t+36>>2]=h,d=u}else d=u,h=u;else h=u;if(u=(fD[t+40>>2]|0)+(d<<2)|0,(u|0)!=0&&(fD[u>>2]=fD[c>>2]),d=d+1|0,fD[t+32>>2]=d,n=n+1|0,(n|0)==(i|0))break;u=h}if((o|0)>0)for(c=fD[t+52>>2]|0,h=fD[t+56>>2]|0,e=0;;){if(i=r+(e<<2)|0,(c|0)==(h|0))if(n=(h|0)==0?1:h<<1,(h|0)<(n|0)){if((n|0)==0?c=0:(fD[5004]=(fD[5004]|0)+1,c=Ew((n<<2|3)+16|0)|0,(c|0)==0?c=0:(fD[(c+19&-16)+-4>>2]=c,c=c+19&-16),h=fD[t+52>>2]|0),(h|0)>0){u=0;do d=c+(u<<2)|0,(d|0)!=0&&(fD[d>>2]=fD[(fD[t+60>>2]|0)+(u<<2)>>2]),u=u+1|0;while((u|0)!=(h|0))}d=fD[t+60>>2]|0,(d|0)!=0&&((uD[t+64>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[d+-4>>2]|0),h=fD[t+52>>2]|0),fD[t+60>>2]=0),uD[t+64>>0]=1,fD[t+60>>2]=c,fD[t+56>>2]=n,c=h}else c=h,n=h;else n=h;if(h=(fD[t+60>>2]|0)+(c<<2)|0,(h|0)!=0&&(fD[h>>2]=fD[i>>2]),c=c+1|0,fD[t+52>>2]=c,e=e+1|0,(e|0)==(o|0))break;h=n}if((l|0)>0)for(i=fD[t+72>>2]|0,n=fD[t+76>>2]|0,r=0;;){if(o=s+(r<<2)|0,(i|0)==(n|0))if(e=(n|0)==0?1:n<<1,(n|0)<(e|0)){if((e|0)==0?i=0:(fD[5004]=(fD[5004]|0)+1,i=Ew((e<<2|3)+16|0)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),n=fD[t+72>>2]|0),(n|0)>0){c=0;do h=i+(c<<2)|0,(h|0)!=0&&(fD[h>>2]=fD[(fD[t+80>>2]|0)+(c<<2)>>2]),c=c+1|0;while((c|0)!=(n|0))}c=fD[t+80>>2]|0,(c|0)!=0&&((uD[t+84>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[c+-4>>2]|0),n=fD[t+72>>2]|0),fD[t+80>>2]=0),uD[t+84>>0]=1,fD[t+80>>2]=i,fD[t+76>>2]=e,i=n}else i=n,e=n;else e=n;if(n=(fD[t+80>>2]|0)+(i<<2)|0,(n|0)!=0&&(fD[n>>2]=fD[o>>2]),i=i+1|0,fD[t+72>>2]=i,r=r+1|0,(r|0)==(l|0))break;n=e}else i=fD[t+72>>2]|0;return((fD[t+52>>2]|0)+i|0)<=(fD[(fD[t+4>>2]|0)+72>>2]|0)?void(bD=a):(Tg(t),void(bD=a))}function oy(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=2240,i=fD[t+80>>2]|0,(i|0)!=0&&((uD[t+84>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+80>>2]=0),uD[t+84>>0]=1,fD[t+80>>2]=0,fD[t+72>>2]=0,fD[t+76>>2]=0,i=fD[t+60>>2]|0,(i|0)!=0&&((uD[t+64>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+60>>2]=0),uD[t+64>>0]=1,fD[t+60>>2]=0,fD[t+52>>2]=0,fD[t+56>>2]=0,i=fD[t+40>>2]|0,(i|0)==0?(uD[t+44>>0]=1,fD[t+40>>2]=0,fD[t+32>>2]=0,i=t+36|0,fD[i>>2]=0,void(bD=e)):((uD[t+44>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+40>>2]=0,uD[t+44>>0]=1,fD[t+40>>2]=0,fD[t+32>>2]=0,i=t+36|0,fD[i>>2]=0,void(bD=e))}function ny(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0;r=bD,bD=bD+128|0,Ld(r+64|0,e,t+48|0),fD[t+1064>>2]=fD[r+64>>2],fD[t+1068>>2]=fD[r+68>>2],fD[t+1072>>2]=fD[r+72>>2],fD[t+1076>>2]=fD[r+76>>2],fD[t+1080>>2]=fD[r+80>>2],fD[t+1084>>2]=fD[r+84>>2],fD[t+1088>>2]=fD[r+88>>2],fD[t+1092>>2]=fD[r+92>>2],fD[t+1096>>2]=fD[r+96>>2],fD[t+1100>>2]=fD[r+100>>2],fD[t+1104>>2]=fD[r+104>>2],fD[t+1108>>2]=fD[r+108>>2],fD[t+1112>>2]=fD[r+112>>2],fD[t+1116>>2]=fD[r+116>>2],fD[t+1120>>2]=fD[r+120>>2],fD[t+1124>>2]=fD[r+124>>2],Ld(r,i,t+112|0),fD[t+1128>>2]=fD[r+0>>2],fD[t+1132>>2]=fD[r+4>>2],fD[t+1136>>2]=fD[r+8>>2],fD[t+1140>>2]=fD[r+12>>2],fD[t+1144>>2]=fD[r+16>>2],fD[t+1148>>2]=fD[r+20>>2],fD[t+1152>>2]=fD[r+24>>2],fD[t+1156>>2]=fD[r+28>>2],fD[t+1160>>2]=fD[r+32>>2],fD[t+1164>>2]=fD[r+36>>2],fD[t+1168>>2]=fD[r+40>>2],fD[t+1172>>2]=fD[r+44>>2],fD[t+1176>>2]=fD[r+48>>2],fD[t+1180>>2]=fD[r+52>>2],fD[t+1184>>2]=fD[r+56>>2],fD[t+1188>>2]=fD[r+60>>2],y=+gD[t+1176>>2]-+gD[t+1112>>2],b=+gD[t+1180>>2]-+gD[t+1116>>2],_=+gD[t+1184>>2]-+gD[t+1120>>2],p=+gD[t+1084>>2],u=+gD[t+1104>>2],l=+gD[t+1088>>2],o=+gD[t+1100>>2],f=+gD[t+1096>>2],c=+gD[t+1080>>2],h=+gD[t+1064>>2],s=+gD[t+1068>>2],a=+gD[t+1072>>2],n=1/((p*u-l*o)*h+s*(l*f-u*c)+(o*c-p*f)*a),d=(o*c-p*f)*n,g=(p*u-l*o)*n*y+n*(o*a-u*s)*b+n*(l*s-p*a)*_,m=y*(l*f-u*c)*n+b*n*(u*h-f*a)+n*(c*a-l*h)*_,_=y*d+n*(f*s-o*h)*b+n*(p*h-c*s)*_,gD[t+1256>>2]=g,gD[t+1260>>2]=m,gD[t+1264>>2]=_,gD[t+1268>>2]=0,gD[t+840>>2]=g,b=+gD[t+680>>2],y=+gD[t+696>>2];do{if(!(b>y)){if(b>g){fD[t+856>>2]=2,gD[t+824>>2]=g-b;break}if(y<g){fD[t+856>>2]=1,gD[t+824>>2]=g-y;break}fD[t+856>>2]=0,gD[t+824>>2]=0;break}fD[t+856>>2]=0,gD[t+824>>2]=0}while(0);gD[t+844>>2]=m,y=+gD[t+684>>2],g=+gD[t+700>>2];do{if(!(y>g)){if(y>m){fD[t+860>>2]=2,gD[t+828>>2]=m-y;break}if(g<m){fD[t+860>>2]=1,gD[t+828>>2]=m-g;break}fD[t+860>>2]=0,gD[t+828>>2]=0;break}fD[t+860>>2]=0,gD[t+828>>2]=0}while(0);gD[t+848>>2]=_,g=+gD[t+688>>2],m=+gD[t+704>>2];do{if(!(g>m)){if(g>_){fD[t+864>>2]=2,gD[t+832>>2]=_-g;break}if(m<_){fD[t+864>>2]=1,gD[t+832>>2]=_-m;break}fD[t+864>>2]=0,gD[t+832>>2]=0;break}fD[t+864>>2]=0,gD[t+832>>2]=0}while(0);x=+gD[t+1128>>2],S=+gD[t+1144>>2],y=+gD[t+1160>>2],m=+gD[t+1132>>2],g=+gD[t+1148>>2],b=+gD[t+1164>>2],T=(p*u-l*o)*n*m+n*(o*a-u*s)*g+n*(l*s-p*a)*b,_=(l*f-u*c)*n*m+n*(u*h-f*a)*g+n*(c*a-l*h)*b,M=x*d+n*(f*s-o*h)*S+n*(p*h-c*s)*y,v=d*+gD[t+1136>>2]+n*(f*s-o*h)*+gD[t+1152>>2]+n*(p*h-c*s)*+gD[t+1168>>2];do{if(M<1){if(M>-1){gD[t+1192>>2]=+BD(+-(d*m+n*(f*s-o*h)*g+n*(p*h-c*s)*b),+v),T=M<-1?-1:M,gD[t+1196>>2]=+PD(+(T>1?1:T)),gD[t+1200>>2]=+BD(+-(x*(l*f-u*c)*n+S*n*(u*h-f*a)+n*(c*a-l*h)*y),+(x*(p*u-l*o)*n+S*n*(o*a-u*s)+n*(l*s-p*a)*y));break}gD[t+1192>>2]=-+BD(+T,+_),gD[t+1196>>2]=-1.5707963705062866,gD[t+1200>>2]=0;break}gD[t+1192>>2]=+BD(+T,+_),gD[t+1196>>2]=1.5707963705062866,gD[t+1200>>2]=0}while(0);return gD[t+1236>>2]=0,_=u*(x*u-y*a)-l*(S*a-x*l),m=a*(S*a-x*l)-u*(y*l-S*u),g=l*(y*l-S*u)-a*(x*u-y*a),gD[t+1220>>2]=0,b=S*(S*a-x*l)-y*(x*u-y*a),v=y*(y*l-S*u)-x*(S*a-x*l),M=x*(x*u-y*a)-S*(y*l-S*u),gD[t+1252>>2]=0,T=1/+CD(+(_*_+m*m+g*g)),gD[t+1208>>2]=_*T,gD[t+1212>>2]=m*T,gD[t+1216>>2]=g*T,T=1/+CD(+((y*l-S*u)*(y*l-S*u)+(x*u-y*a)*(x*u-y*a)+(S*a-x*l)*(S*a-x*l))),gD[t+1224>>2]=(y*l-S*u)*T,gD[t+1228>>2]=(x*u-y*a)*T,gD[t+1232>>2]=(S*a-x*l)*T,T=1/+CD(+(b*b+v*v+M*M)),gD[t+1240>>2]=b*T,gD[t+1244>>2]=v*T,gD[t+1248>>2]=M*T,(uD[t+1301>>0]|0)==0?void(bD=r):(n=+gD[(fD[t+28>>2]|0)+344>>2],o=+gD[(fD[t+32>>2]|0)+344>>2],e=n<1.1920928955078125e-7?1:o<1.1920928955078125e-7&1,uD[t+1280>>0]=e,n+o>0?(gD[t+1272>>2]=o/(n+o),o/=n+o):(gD[t+1272>>2]=.5,o=.5),gD[t+1276>>2]=1-o,void(bD=r))}function ay(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r=+r,o=+o,n=+n,a=+a,s=+s,l=+l;var c=0,h=0;return c=bD,bD=bD+128|0,(e|0)==0?void(bD=c):(h=fD[t+28>>2]|0,gD[c+80>>2]=+gD[h+4>>2],gD[c+84>>2]=+gD[h+20>>2],gD[c+88>>2]=+gD[h+36>>2],gD[c+92>>2]=0,gD[c+96>>2]=+gD[h+8>>2],gD[c+100>>2]=+gD[h+24>>2],gD[c+104>>2]=+gD[h+40>>2],gD[c+108>>2]=0,gD[c+112>>2]=+gD[h+12>>2],gD[c+116>>2]=+gD[h+28>>2],gD[c+120>>2]=+gD[h+44>>2],gD[c+124>>2]=0,t=fD[t+32>>2]|0,gD[c+32>>2]=+gD[t+4>>2],gD[c+36>>2]=+gD[t+20>>2],gD[c+40>>2]=+gD[t+36>>2],gD[c+44>>2]=0,gD[c+48>>2]=+gD[t+8>>2],gD[c+52>>2]=+gD[t+24>>2],gD[c+56>>2]=+gD[t+40>>2],gD[c+60>>2]=0,gD[c+64>>2]=+gD[t+12>>2],gD[c+68>>2]=+gD[t+28>>2],gD[c+72>>2]=+gD[t+44>>2],gD[c+76>>2]=0,o-=+gD[h+56>>2],n-=+gD[h+60>>2],gD[c+16>>2]=r-+gD[h+52>>2],gD[c+20>>2]=o,gD[c+24>>2]=n,gD[c+28>>2]=0,s-=+gD[t+56>>2],l-=+gD[t+60>>2],gD[c>>2]=a-+gD[t+52>>2],gD[c+4>>2]=s,gD[c+8>>2]=l,gD[c+12>>2]=0,nu(e,c+80|0,c+32|0,c+16|0,c,i,h+396|0,+gD[h+344>>2],t+396|0,+gD[t+344>>2]),void(bD=c))}function sy(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0;return r=bD,(e|0)==0?void(bD=r):(L=fD[t+28>>2]|0,g=+gD[L+4>>2],m=+gD[L+20>>2],_=+gD[L+36>>2],p=+gD[L+8>>2],u=+gD[L+24>>2],d=+gD[L+40>>2],c=+gD[L+12>>2],s=+gD[L+28>>2],n=+gD[L+44>>2],t=fD[t+32>>2]|0,V=+gD[t+4>>2],B=+gD[t+20>>2],P=+gD[t+36>>2],R=+gD[t+8>>2],w=+gD[t+24>>2],A=+gD[t+40>>2],E=+gD[t+12>>2],x=+gD[t+28>>2],M=+gD[t+44>>2],fD[e+0>>2]=0,fD[e+4>>2]=0,fD[e+8>>2]=0,fD[e+12>>2]=0,l=+gD[i>>2],a=+gD[i+4>>2],o=+gD[i+8>>2],gD[e+16>>2]=g*l+m*a+_*o,gD[e+20>>2]=p*l+u*a+d*o,gD[e+24>>2]=c*l+s*a+n*o,gD[e+28>>2]=0,T=-+gD[i>>2],S=-+gD[i+4>>2],v=-+gD[i+8>>2],gD[e+32>>2]=V*T+B*S+P*v,gD[e+36>>2]=R*T+w*S+A*v,gD[e+40>>2]=E*T+x*S+M*v,gD[e+44>>2]=0,y=(g*l+m*a+_*o)*+gD[L+396>>2],f=(p*l+u*a+d*o)*+gD[L+400>>2],h=(c*l+s*a+n*o)*+gD[L+404>>2],gD[e+48>>2]=y,gD[e+52>>2]=f,gD[e+56>>2]=h,gD[e+60>>2]=0,D=(V*T+B*S+P*v)*+gD[t+396>>2],C=(R*T+w*S+A*v)*+gD[t+400>>2],b=(E*T+x*S+M*v)*+gD[t+404>>2],gD[e+64>>2]=D,gD[e+68>>2]=C,gD[e+72>>2]=b,gD[e+76>>2]=0,gD[e+80>>2]=(V*T+B*S+P*v)*D+(R*T+w*S+A*v)*C+(E*T+x*S+M*v)*b+(y*(g*l+m*a+_*o)+f*(p*l+u*a+d*o)+h*(c*l+s*a+n*o)),void(bD=r))}function ly(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;r=bD,o=+cy(+gD[t+(e<<2)+1192>>2],+gD[t+(e<<6)+868>>2],+gD[t+(e<<6)+872>>2]),gD[t+(e<<6)+920>>2]=o,n=+gD[t+(e<<6)+868>>2],a=+gD[t+(e<<6)+872>>2];do if(n>a)fD[t+(e<<6)+924>>2]=0,i=14;else{if(n>o){if(fD[t+(e<<6)+924>>2]=1,gD[t+(e<<6)+916>>2]=o-n,o-n>3.1415927410125732){gD[t+(e<<6)+916>>2]=o-n+-6.2831854820251465;break}if(!(o-n<-3.1415927410125732))break;gD[t+(e<<6)+916>>2]=o-n+6.2831854820251465;break}if(!(a<o)){fD[t+(e<<6)+924>>2]=0,i=14;break}if(fD[t+(e<<6)+924>>2]=2,gD[t+(e<<6)+916>>2]=o-a,o-a>3.1415927410125732){gD[t+(e<<6)+916>>2]=o-a+-6.2831854820251465;break}o-a<-3.1415927410125732&&(gD[t+(e<<6)+916>>2]=o-a+6.2831854820251465)}while(0);return((i|0)==14?(uD[t+(e<<6)+912>>0]|0)==0:0)?(e=0,bD=r,e|0):(e=1,bD=r,e|0)}function cy(t,e,i){t=+t,e=+e,i=+i;var r=0;return r=bD,e>=i?(e=t,bD=r,+e):t<e?(e=+OD(+(e-t),6.2831854820251465),e<-3.1415927410125732?e+=6.2831854820251465:e>3.1415927410125732&&(e+=-6.2831854820251465),e=+ED(+e),i=+OD(+(i-t),6.2831854820251465),i<-3.1415927410125732?i+=6.2831854820251465:i>3.1415927410125732&&(i+=-6.2831854820251465),e<+ED(+i)?(e=t,bD=r,+e):(e=t+6.2831854820251465,bD=r,+e)):t>i?(i=+OD(+(t-i),6.2831854820251465),i<-3.1415927410125732?i+=6.2831854820251465:i>3.1415927410125732&&(i+=-6.2831854820251465),i=+ED(+i),e=+OD(+(t-e),6.2831854820251465),e<-3.1415927410125732?e+=6.2831854820251465:e>3.1415927410125732&&(e+=-6.2831854820251465),+ED(+e)<i?(e=t+-6.2831854820251465,bD=r,+e):(e=t,bD=r,+e)):(e=t,bD=r,+e)}function hy(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0;return o=bD,bD=bD+16|0,(uD[t+1308>>0]|0)==0?void(bD=o):(gD[t+928>>2]=0,gD[t+992>>2]=0,gD[t+1056>>2]=0,fD[t+712>>2]=0,fD[t+716>>2]=0,fD[t+720>>2]=0,fD[t+724>>2]=0,ny(t,(fD[t+28>>2]|0)+4|0,(fD[t+32>>2]|0)+4|0),oP[fD[(fD[t>>2]|0)+44>>2]&511](t),e=+gD[t+1284>>2],i=+gD[t+1288>>2],r=+gD[t+1292>>2],+gD[t+696>>2]>=+gD[t+680>>2]&&((uD[t+1300>>0]|0)==0?(s=t+1160|0,a=t+1144|0,n=t+1128|0):(s=t+1096|0,a=t+1080|0,n=t+1064|0),l=+gD[s>>2],c=+gD[a>>2],gD[o>>2]=+gD[n>>2],gD[o+4>>2]=c,gD[o+8>>2]=l,gD[o+12>>2]=0,ay(t,t+176|0,o,e,i,r,e,i,r)),+gD[t+700>>2]>=+gD[t+684>>2]&&((uD[t+1300>>0]|0)==0?(s=t+1164|0,a=t+1148|0,n=t+1132|0):(s=t+1100|0,a=t+1084|0,n=t+1068|0),c=+gD[s>>2],l=+gD[a>>2],gD[o>>2]=+gD[n>>2],gD[o+4>>2]=l,gD[o+8>>2]=c,gD[o+12>>2]=0,ay(t,t+260|0,o,e,i,r,e,i,r)),+gD[t+704>>2]>=+gD[t+688>>2]&&((uD[t+1300>>0]|0)==0?(n=t+1168|0,s=t+1152|0,a=t+1136|0):(n=t+1104|0,s=t+1088|0,a=t+1072|0),c=+gD[n>>2],l=+gD[s>>2],gD[o>>2]=+gD[a>>2],gD[o+4>>2]=l,gD[o+8>>2]=c,gD[o+12>>2]=0,ay(t,t+344|0,o,e,i,r,e,i,r)),ly(t,0)|0&&(fD[o+0>>2]=fD[t+1208>>2],fD[o+4>>2]=fD[t+1212>>2],fD[o+8>>2]=fD[t+1216>>2],fD[o+12>>2]=fD[t+1220>>2],sy(t,t+428|0,o)),ly(t,1)|0&&(fD[o+0>>2]=fD[t+1224>>2],fD[o+4>>2]=fD[t+1228>>2],fD[o+8>>2]=fD[t+1232>>2],fD[o+12>>2]=fD[t+1236>>2],sy(t,t+512|0,o)),ly(t,2)|0?(fD[o+0>>2]=fD[t+1240>>2],fD[o+4>>2]=fD[t+1244>>2],fD[o+8>>2]=fD[t+1248>>2],fD[o+12>>2]=fD[t+1252>>2],sy(t,t+596|0,o),void(bD=o)):void(bD=o))}function dy(t,e){t|=0,e|=0;var i=0,r=0,o=0;return i=bD,(uD[t+1308>>0]|0)!=0?(fD[e>>2]=0,fD[e+4>>2]=0,void(bD=i)):(ny(t,(fD[t+28>>2]|0)+4|0,(fD[t+32>>2]|0)+4|0),fD[e>>2]=0,fD[e+4>>2]=6,((fD[t+856>>2]|0)==0?(uD[t+788>>0]|0)==0:0)?(o=0,r=6):(fD[e>>2]=1,fD[e+4>>2]=5,o=1,r=5),((fD[t+860>>2]|0)==0?(uD[t+789>>0]|0)==0:0)||(o=o+1|0,fD[e>>2]=o,r=r+-1|0,fD[e+4>>2]=r),((fD[t+864>>2]|0)==0?(uD[t+790>>0]|0)==0:0)||(fD[e>>2]=o+1,fD[e+4>>2]=r+-1),ly(t,0)|0&&(fD[e>>2]=(fD[e>>2]|0)+1,fD[e+4>>2]=(fD[e+4>>2]|0)+-1),ly(t,1)|0&&(fD[e>>2]=(fD[e>>2]|0)+1,fD[e+4>>2]=(fD[e+4>>2]|0)+-1),ly(t,2)|0?(fD[e>>2]=(fD[e>>2]|0)+1,fD[e+4>>2]=(fD[e+4>>2]|0)+-1,void(bD=i)):void(bD=i))}function uy(t,e){t|=0,e|=0;var i=0,r=0,o=0;return i=bD,o=fD[t+28>>2]|0,r=fD[t+32>>2]|0,(uD[t+1301>>0]|0)==0?(py(t,e,fy(t,e,0,o+4|0,r+4|0,o+312|0,r+312|0,o+328|0,r+328|0)|0,o+4|0,r+4|0,o+312|0,r+312|0,o+328|0,r+328|0)|0,void(bD=i)):(fy(t,e,py(t,e,0,o+4|0,r+4|0,o+312|0,r+312|0,o+328|0,r+328|0)|0,o+4|0,r+4|0,o+312|0,r+312|0,o+328|0,r+328|0)|0,void(bD=i))}function py(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0;var c=0,h=0,d=0,u=0;h=bD,bD=bD+16|0,c=0;do d=t+(c<<6)+868|0,((fD[t+(c<<6)+924>>2]|0)==0?(uD[t+(c<<6)+912>>0]|0)==0:0)||(u=t+(c<<4)+1208|0,fD[h+0>>2]=fD[u+0>>2],fD[h+4>>2]=fD[u+4>>2],fD[h+8>>2]=fD[u+8>>2],fD[h+12>>2]=fD[u+12>>2],u=fD[t+1304>>2]>>(c*3|0)+9,(u&1|0)==0&&(gD[t+(c<<6)+896>>2]=+gD[fD[e+32>>2]>>2]),(u&2|0)==0&&(gD[t+(c<<6)+904>>2]=+gD[fD[e+32>>2]>>2]),(u&4|0)==0&&(gD[t+(c<<6)+900>>2]=+gD[e+4>>2]),i=(_y(t,d,r,o,n,a,s,l,e,i,h,1,0)|0)+i|0),c=c+1|0;while((c|0)!=3);return bD=h,i|0}function fy(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0;var c=0,h=0,d=0,u=0;c=bD,bD=bD+80|0,gD[c+76>>2]=0,gD[c+24>>2]=0,gD[c+28>>2]=.10000000149011612,gD[c+32>>2]=300,gD[c+16>>2]=1,gD[c+20>>2]=-1,gD[c+44>>2]=0,gD[c+48>>2]=.20000000298023224,gD[c+52>>2]=0,gD[c+56>>2]=0,gD[c+36>>2]=1,gD[c+40>>2]=.5,fD[c+72>>2]=0,gD[c+64>>2]=0,uD[c+60>>0]=0,h=0;do{u=fD[t+(h<<2)+856>>2]|0,d=uD[t+h+788>>0]|0;do if(!((u|0)==0&d<<24>>24==0)){if(gD[c+56>>2]=0,fD[c+72>>2]=u,gD[c+68>>2]=+gD[t+(h<<2)+840>>2],gD[c+64>>2]=+gD[t+(h<<2)+824>>2],gD[c+36>>2]=+gD[t+732>>2],uD[c+60>>0]=d,gD[c+20>>2]=+gD[t+(h<<2)+696>>2],gD[c+40>>2]=+gD[t+728>>2],gD[c+16>>2]=+gD[t+(h<<2)+680>>2],gD[c+32>>2]=0,gD[c+28>>2]=+gD[t+(h<<2)+808>>2],gD[c+24>>2]=+gD[t+(h<<2)+792>>2],gD[c>>2]=+gD[t+(h<<2)+1064>>2],gD[c+4>>2]=+gD[t+(h<<2)+1080>>2],gD[c+8>>2]=+gD[t+(h<<2)+1096>>2],gD[c+12>>2]=0,d=fD[t+1304>>2]>>h*3,u=(d&1|0)==0?fD[e+32>>2]|0:t+(h<<2)+740|0,gD[c+44>>2]=+gD[u>>2],u=(d&2|0)==0?fD[e+32>>2]|0:t+(h<<2)+772|0,gD[c+52>>2]=+gD[u>>2],d=(d&4|0)==0?e+4|0:t+(h<<2)+756|0,gD[c+48>>2]=+gD[d>>2],(uD[t+1301>>0]|0)==0){i=(_y(t,c+16|0,r,o,n,a,s,l,e,i,c,0,0)|0)+i|0;break}u=h+1|0,d=(fD[t+(((u|0)==3?0:u)<<6)+924>>2]|0)==0?1:(fD[t+(((h+2|0)%3|0)<<6)+924>>2]|0)==0&1,i=(_y(t,c+16|0,r,o,n,a,s,l,e,i,c,0,d)|0)+i|0}while(0);h=h+1|0}while((h|0)!=3);return bD=c,i|0}function _y(t,e,i,r,o,n,a,s,l,c,h,d,u){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,h|=0,d|=0,u|=0;var p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0;if(p=bD,f=VD(fD[l+24>>2]|0,c)|0,m=(uD[e+44>>0]|0)==0,c=fD[e+56>>2]|0,m&(c|0)==0)return r=0,bD=p,r|0;C=fD[((d|0)!=0?l+12|0:l+8|0)>>2]|0,E=fD[((d|0)!=0?l+20|0:l+16|0)>>2]|0,gD[C+(f<<2)>>2]=+gD[h>>2],gD[C+(f+1<<2)>>2]=+gD[h+4>>2],gD[C+(f+2<<2)>>2]=+gD[h+8>>2],gD[E+(f<<2)>>2]=-+gD[h>>2],gD[E+(f+1<<2)>>2]=-+gD[h+4>>2],gD[E+(f+2<<2)>>2]=-+gD[h+8>>2];do if((d|0)==0){if(g=+gD[t+1176>>2],(uD[t+1301>>0]|0)==0){v=g-+gD[i+48>>2],x=+gD[t+1180>>2]-+gD[i+52>>2],T=+gD[t+1184>>2]-+gD[i+56>>2],S=+gD[h+8>>2],b=+gD[h+4>>2],M=+gD[h>>2],C=fD[l+12>>2]|0,gD[C+(f<<2)>>2]=x*S-T*b,gD[C+(f+1<<2)>>2]=T*M-v*S,gD[C+(f+2<<2)>>2]=v*b-x*M,M=+gD[t+1176>>2]-+gD[r+48>>2],x=+gD[t+1180>>2]-+gD[r+52>>2],b=+gD[t+1184>>2]-+gD[r+56>>2],v=+gD[h+8>>2],S=+gD[h+4>>2],T=+gD[h>>2],C=fD[l+20>>2]|0,gD[C+(f<<2)>>2]=-(x*v-b*S),gD[C+(f+1<<2)>>2]=-(b*T-M*v),gD[C+(f+2<<2)>>2]=-(M*S-x*T);break}B=g-+gD[r+48>>2],D=+gD[t+1180>>2]-+gD[r+52>>2],w=+gD[t+1184>>2]-+gD[r+56>>2],P=+gD[h>>2],R=+gD[h+4>>2],A=+gD[h+8>>2],L=+gD[t+1112>>2]-+gD[i+48>>2],M=+gD[t+1116>>2]-+gD[i+52>>2],g=+gD[t+1120>>2]-+gD[i+56>>2],S=+gD[e+52>>2]-+gD[e+48>>2],V=P*(P*L+R*M+A*g)+P*S-P*(B*P+D*R+w*A),x=R*(P*L+R*M+A*g)+R*S-R*(B*P+D*R+w*A),S=A*(P*L+R*M+A*g)+A*S-A*(B*P+D*R+w*A),y=+gD[t+1272>>2],T=+gD[t+1276>>2],v=A*(M-R*(P*L+R*M+A*g)+y*x)-R*(g-A*(P*L+R*M+A*g)+y*S),b=P*(g-A*(P*L+R*M+A*g)+y*S)-A*(L-P*(P*L+R*M+A*g)+y*V),g=R*(L-P*(P*L+R*M+A*g)+y*V)-P*(M-R*(P*L+R*M+A*g)+y*x),M=A*(D-R*(B*P+D*R+w*A)-T*x)-R*(w-A*(B*P+D*R+w*A)-T*S),S=P*(w-A*(B*P+D*R+w*A)-T*S)-A*(B-P*(B*P+D*R+w*A)-T*V),x=R*(B-P*(B*P+D*R+w*A)-T*V)-P*(D-R*(B*P+D*R+w*A)-T*x),(uD[t+1280>>0]|0)!=0&(u|0)==0&&(M=T*M,S=T*S,x=T*x,v=y*v,b=y*b,g=y*g),C=fD[l+12>>2]|0,gD[C+(f<<2)>>2]=v,gD[C+(f+1<<2)>>2]=b,gD[C+(f+2<<2)>>2]=g,C=fD[l+20>>2]|0,gD[C+(f<<2)>>2]=-M,gD[C+(f+1<<2)>>2]=-S,gD[C+(f+2<<2)>>2]=-x}while(0);((c|0)!=0?+gD[e>>2]==+gD[e+4>>2]:0)?(m=fD[l+28>>2]|0,gD[m+(f<<2)>>2]=0):_=11;do if((_|0)==11){if(_=fD[l+28>>2]|0,gD[_+(f<<2)>>2]=0,!m){if(gD[(fD[l+32>>2]|0)+(f<<2)>>2]=+gD[e+28>>2],(c|0)!=0){m=_;break}g=+gD[e+8>>2],M=(d|0)!=0?g:-g,b=+gD[e+52>>2],v=+gD[e>>2],y=+gD[e+4>>2],S=+gD[l>>2]*+gD[e+32>>2];do if(v>y)y=1;else if(v!=y){if(M/=S,M<0){if(b>=v?v-M>b:0){y=(v-b)/M;break}y=b<v?0:1;break}if(M>0){if(b<=y?y-M<b:0){y=(y-b)/M;break}y=b>y?0:1}else y=0}else y=0;while(0);gD[_+(f<<2)>>2]=y*g+ +gD[_+(f<<2)>>2],gD[(fD[l+36>>2]|0)+(f<<2)>>2]=-+gD[e+12>>2],gD[(fD[l+40>>2]|0)+(f<<2)>>2]=+gD[e+12>>2]}if((c|0)==0)return C=1,bD=p,C|0;m=_}while(0);return g=+gD[l>>2]*+gD[e+32>>2]*+gD[e+48>>2],_=m+(f<<2)|0,y=+gD[_>>2],(d|0)!=0?g=y-g:g+=y,gD[_>>2]=g,gD[(fD[l+32>>2]|0)+(f<<2)>>2]=+gD[e+36>>2],+gD[e>>2]==+gD[e+4>>2]?(gD[(fD[l+36>>2]|0)+(f<<2)>>2]=-3.4028234663852886e38,gD[(fD[l+40>>2]|0)+(f<<2)>>2]=3.4028234663852886e38,C=1,bD=p,C|0):(m=(fD[l+36>>2]|0)+(f<<2)|0,(c|0)==1?(gD[m>>2]=0,gD[(fD[l+40>>2]|0)+(f<<2)>>2]=3.4028234663852886e38):(gD[m>>2]=-3.4028234663852886e38,gD[(fD[l+40>>2]|0)+(f<<2)>>2]=0),g=+gD[e+40>>2],g>0?((d|0)!=0?(V=+gD[h>>2],L=+gD[h+4>>2],y=+gD[h+8>>2],y=+gD[a>>2]*V+ +gD[a+4>>2]*L+ +gD[a+8>>2]*y-(V*+gD[s>>2]+L*+gD[s+4>>2]+y*+gD[s+8>>2])):(V=+gD[h>>2],L=+gD[h+4>>2],y=+gD[h+8>>2],y=+gD[o>>2]*V+ +gD[o+4>>2]*L+ +gD[o+8>>2]*y-(V*+gD[n>>2]+L*+gD[n+4>>2]+y*+gD[n+8>>2])),(c|0)==1?y<0?(g=-(y*g),+gD[_>>2]<g?(gD[_>>2]=g,C=1,bD=p,C|0):(C=1,bD=p,C|0)):(C=1,bD=p,C|0):y>0?(g=-(y*g),+gD[_>>2]>g?(gD[_>>2]=g,C=1,bD=p,C|0):(C=1,bD=p,C|0)):(C=1,bD=p,C|0)):(C=1,bD=p,C|0))}function my(t){t|=0;var e=0,i=0,r=0,o=0;i=+gD[(fD[t+28>>2]|0)+344>>2],e=+gD[(fD[t+32>>2]|0)+344>>2],e=e==0?1:i/(i+e),o=1-e,r=e*+gD[t+1116>>2]+o*+gD[t+1180>>2],i=e*+gD[t+1120>>2]+o*+gD[t+1184>>2],gD[t+1284>>2]=e*+gD[t+1112>>2]+o*+gD[t+1176>>2],gD[t+1288>>2]=r,gD[t+1292>>2]=i,gD[t+1296>>2]=0}function gy(t,e,i,r){t|=0,e|=0,i=+i,r|=0;var o=0;return o=bD,r>>>0<3?(e|0)==2?(gD[t+(r<<2)+756>>2]=i,fD[t+1304>>2]=fD[t+1304>>2]|4<<r*3,void(bD=o)):(e|0)==3?(gD[t+(r<<2)+740>>2]=i,fD[t+1304>>2]=fD[t+1304>>2]|1<<r*3,void(bD=o)):(e|0)==4?(gD[t+(r<<2)+772>>2]=i,fD[t+1304>>2]=fD[t+1304>>2]|2<<r*3,void(bD=o)):void(bD=o):(r+-3|0)>>>0<3?(e|0)==3?(gD[t+(r+-3<<6)+896>>2]=i,fD[t+1304>>2]=fD[t+1304>>2]|1<<r*3,void(bD=o)):(e|0)==4?(gD[t+(r+-3<<6)+904>>2]=i,fD[t+1304>>2]=fD[t+1304>>2]|2<<r*3,void(bD=o)):(e|0)==2?(gD[t+(r+-3<<6)+900>>2]=i,fD[t+1304>>2]=fD[t+1304>>2]|4<<r*3,void(bD=o)):void(bD=o):void(bD=o)}function yy(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;r=bD;do{if(i>>>0<3){if((e|0)==2){o=+gD[t+(i<<2)+756>>2];break}if((e|0)==3){o=+gD[t+(i<<2)+740>>2];break}if((e|0)==4){o=+gD[t+(i<<2)+772>>2];break}o=0;break}if((i+-3|0)>>>0<3){if((e|0)==3){o=+gD[t+(i+-3<<6)+896>>2];break}if((e|0)==4){o=+gD[t+(i+-3<<6)+904>>2];break}if((e|0)==2){o=+gD[t+(i+-3<<6)+900>>2];break}o=0;break}o=0}while(0);return bD=r,+o}function by(t){t|=0}function vy(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function My(t){return t|=0,252}function Sy(t,e,i){t|=0,e|=0,i|=0;var r=0;return r=bD,ju(t,e,i)|0,gD[e+52>>2]=+gD[t+48>>2],gD[e+56>>2]=+gD[t+52>>2],gD[e+60>>2]=+gD[t+56>>2],gD[e+64>>2]=+gD[t+60>>2],gD[e+68>>2]=+gD[t+64>>2],gD[e+72>>2]=+gD[t+68>>2],gD[e+76>>2]=+gD[t+72>>2],gD[e+80>>2]=+gD[t+76>>2],gD[e+84>>2]=+gD[t+80>>2],gD[e+88>>2]=+gD[t+84>>2],gD[e+92>>2]=+gD[t+88>>2],gD[e+96>>2]=+gD[t+92>>2],gD[e+100>>2]=+gD[t+96>>2],gD[e+104>>2]=+gD[t+100>>2],gD[e+108>>2]=+gD[t+104>>2],gD[e+112>>2]=+gD[t+108>>2],gD[e+116>>2]=+gD[t+112>>2],gD[e+120>>2]=+gD[t+116>>2],gD[e+124>>2]=+gD[t+120>>2],gD[e+128>>2]=+gD[t+124>>2],gD[e+132>>2]=+gD[t+128>>2],gD[e+136>>2]=+gD[t+132>>2],gD[e+140>>2]=+gD[t+136>>2],gD[e+144>>2]=+gD[t+140>>2],gD[e+148>>2]=+gD[t+144>>2],gD[e+152>>2]=+gD[t+148>>2],gD[e+156>>2]=+gD[t+152>>2],gD[e+160>>2]=+gD[t+156>>2],gD[e+164>>2]=+gD[t+160>>2],gD[e+168>>2]=+gD[t+164>>2],gD[e+172>>2]=+gD[t+168>>2],gD[e+176>>2]=+gD[t+172>>2],gD[e+228>>2]=+gD[t+868>>2],gD[e+212>>2]=+gD[t+872>>2],gD[e+196>>2]=+gD[t+680>>2],gD[e+180>>2]=+gD[t+696>>2],gD[e+232>>2]=+gD[t+932>>2],gD[e+216>>2]=+gD[t+936>>2],gD[e+200>>2]=+gD[t+684>>2],gD[e+184>>2]=+gD[t+700>>2],gD[e+236>>2]=+gD[t+996>>2],gD[e+220>>2]=+gD[t+1e3>>2],gD[e+204>>2]=+gD[t+688>>2],gD[e+188>>2]=+gD[t+704>>2],fD[e+244>>2]=_D[t+1300>>0],fD[e+248>>2]=_D[t+1301>>0],bD=r,2464}function xy(t,e,i,r,o,n,a,s){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0;var l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0;l=bD,fD[t+4>>2]=4,fD[t+8>>2]=-1,fD[t+12>>2]=-1,gD[t+16>>2]=3.4028234663852886e38,uD[t+20>>0]=1,uD[t+21>>0]=0,fD[t+24>>2]=-1,fD[t+28>>2]=e,fD[t+32>>2]=i,gD[t+36>>2]=0,gD[t+40>>2]=.30000001192092896,fD[t+44>>2]=0,fD[t>>2]=2504,gD[t+688>>2]=0,gD[t+692>>2]=-1,gD[t+696>>2]=.8999999761581421,gD[t+700>>2]=.30000001192092896,gD[t+704>>2]=1,gD[t+708>>2]=0,gD[t+712>>2]=0,uD[t+716>>0]=0,uD[t+736>>0]=0,uD[t+737>>0]=0,uD[t+738>>0]=0,uD[t+739>>0]=1,uD[t+740>>0]=s&1,fD[t+748>>2]=0,fD[t+600>>2]=fD[r+0>>2],fD[t+604>>2]=fD[r+4>>2],fD[t+608>>2]=fD[r+8>>2],fD[t+612>>2]=fD[r+12>>2],m=+gD[e+4>>2],y=+gD[e+20>>2],_=+gD[e+36>>2],d=+gD[n>>2],b=+gD[n+4>>2],g=+gD[n+8>>2];do{if(!(m*d+y*b+_*g>=.9999998807907104)){if(m*d+y*b+_*g<=-.9999998807907104){f=+gD[e+24>>2],h=+gD[e+44>>2],p=+gD[e+40>>2],c=+gD[e+12>>2],u=+gD[e+8>>2],d=+gD[e+28>>2];break}f=m*g-_*d,h=b*(_*b-y*g)-d*(m*g-_*d),p=y*d-m*b,c=g*(m*g-_*d)-b*(y*d-m*b),u=_*b-y*g,d=d*(y*d-m*b)-g*(_*b-y*g);break}f=+gD[e+24>>2],h=-+gD[e+44>>2],p=+gD[e+40>>2],c=-+gD[e+12>>2],u=+gD[e+8>>2],d=-+gD[e+28>>2]}while(0);gD[t+552>>2]=c,gD[t+556>>2]=u,gD[t+560>>2]=+gD[n>>2],gD[t+564>>2]=0,gD[t+568>>2]=d,gD[t+572>>2]=f,gD[t+576>>2]=+gD[n+4>>2],gD[t+580>>2]=0,gD[t+584>>2]=h,gD[t+588>>2]=p,gD[t+592>>2]=+gD[n+8>>2],gD[t+596>>2]=0,_=+gD[n+4>>2],f=+gD[a+8>>2],m=+gD[n+8>>2],u=+gD[a+4>>2],p=+gD[a>>2],b=+gD[n>>2];do{if(f*m+(_*u+p*b)<-.9999998807907104){if(+ED(+m)>.7071067690849304){b=1/+CD(+(_*_+m*m)),y=0,g=-(m*b),b=_*b,_=0;break}m=1/+CD(+(_*_+b*b)),y=0,g=b*m,b=0,_=-(_*m);break}v=+CD(+((f*m+(_*u+p*b)+1)*2)),y=v*.5,g=(m*p-f*b)*(1/v),b=(u*b-_*p)*(1/v),_=(_*f-m*u)*(1/v)}while(0);x=c*y+h*g-d*b,M=d*y+c*b-h*_,S=h*y+d*_-c*g,d=-(c*_)-d*g-h*b,m=-_,_=-g,g=-b,v=M*g+(y*x+d*m)-S*_,b=S*m+(y*M+d*_)-x*g,y=x*_+(y*S+d*g)-M*m,fD[t+664>>2]=fD[o+0>>2],fD[t+668>>2]=fD[o+4>>2],fD[t+672>>2]=fD[o+8>>2],fD[t+676>>2]=fD[o+12>>2],gD[t+616>>2]=v,gD[t+620>>2]=u*y-f*b,gD[t+624>>2]=+gD[a>>2],gD[t+628>>2]=0,gD[t+632>>2]=b,gD[t+636>>2]=f*v-p*y,gD[t+640>>2]=+gD[a+4>>2],gD[t+644>>2]=0,gD[t+648>>2]=y,gD[t+652>>2]=p*b-u*v,gD[t+656>>2]=+gD[a+8>>2],gD[t+660>>2]=0,gD[t+732>>2]=s?-1:1,bD=l}function Ty(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0;o=bD,zu(t,4,e),fD[t>>2]=2504,fD[t+552>>2]=fD[i+0>>2],fD[t+556>>2]=fD[i+4>>2],fD[t+560>>2]=fD[i+8>>2],fD[t+564>>2]=fD[i+12>>2],fD[t+568>>2]=fD[i+16>>2],fD[t+572>>2]=fD[i+20>>2],fD[t+576>>2]=fD[i+24>>2],fD[t+580>>2]=fD[i+28>>2],fD[t+584>>2]=fD[i+32>>2],fD[t+588>>2]=fD[i+36>>2],fD[t+592>>2]=fD[i+40>>2],fD[t+596>>2]=fD[i+44>>2],fD[t+600>>2]=fD[i+48>>2],fD[t+604>>2]=fD[i+52>>2],fD[t+608>>2]=fD[i+56>>2],fD[t+612>>2]=fD[i+60>>2],fD[t+616>>2]=fD[i+0>>2],fD[t+620>>2]=fD[i+4>>2],fD[t+624>>2]=fD[i+8>>2],fD[t+628>>2]=fD[i+12>>2],fD[t+632>>2]=fD[i+16>>2],fD[t+636>>2]=fD[i+20>>2],fD[t+640>>2]=fD[i+24>>2],fD[t+644>>2]=fD[i+28>>2],fD[t+648>>2]=fD[i+32>>2],fD[t+652>>2]=fD[i+36>>2],fD[t+656>>2]=fD[i+40>>2],fD[t+660>>2]=fD[i+44>>2],fD[t+664>>2]=fD[i+48>>2],fD[t+668>>2]=fD[i+52>>2],fD[t+672>>2]=fD[i+56>>2],fD[t+676>>2]=fD[i+60>>2],gD[t+688>>2]=0,gD[t+692>>2]=-1,gD[t+696>>2]=.8999999761581421,gD[t+700>>2]=.30000001192092896,gD[t+704>>2]=1,gD[t+708>>2]=0,gD[t+712>>2]=0,uD[t+716>>0]=0,uD[t+736>>0]=0,uD[t+737>>0]=0,uD[t+738>>0]=0,uD[t+739>>0]=1,uD[t+740>>0]=r&1,fD[t+748>>2]=0,e=fD[t+28>>2]|0,c=+gD[t+600>>2],l=+gD[t+604>>2],s=+gD[t+608>>2],a=c*+gD[e+20>>2]+l*+gD[e+24>>2]+s*+gD[e+28>>2]+ +gD[e+56>>2],n=c*+gD[e+36>>2]+l*+gD[e+40>>2]+s*+gD[e+44>>2]+ +gD[e+60>>2],gD[t+664>>2]=c*+gD[e+4>>2]+l*+gD[e+8>>2]+s*+gD[e+12>>2]+ +gD[e+52>>2],gD[t+668>>2]=a,gD[t+672>>2]=n,gD[t+676>>2]=0,gD[t+732>>2]=r?-1:1,bD=o
}function Ey(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0;if(e=bD,bD=bD+176|0,(uD[t+738>>0]|0)==0)return void(bD=e);gD[t+36>>2]=0,gD[t+744>>2]=0;t:do if((uD[t+736>>0]|0)==0)for(V=fD[t+28>>2]|0,S=+gD[t+600>>2],M=+gD[t+604>>2],n=+gD[t+608>>2],o=S*+gD[V+20>>2]+M*+gD[V+24>>2]+n*+gD[V+28>>2]+ +gD[V+56>>2],v=fD[t+32>>2]|0,s=+gD[t+664>>2],l=+gD[v+4>>2],c=+gD[t+668>>2],h=+gD[v+8>>2],d=+gD[t+672>>2],u=+gD[v+12>>2],f=+gD[v+20>>2],_=+gD[v+24>>2],m=+gD[v+28>>2],i=+gD[v+36>>2],b=+gD[v+40>>2],y=+gD[v+44>>2],p=+gD[v+52>>2],g=+gD[v+56>>2],r=+gD[v+60>>2],x=s*f+c*_+d*m+g-o,a=S*+gD[V+4>>2]+M*+gD[V+8>>2]+n*+gD[V+12>>2]+ +gD[V+52>>2],n=S*+gD[V+36>>2]+M*+gD[V+40>>2]+n*+gD[V+44>>2]+ +gD[V+60>>2],M=s*l+c*h+d*u+p-a,S=s*i+c*b+d*y+r-n,M*M+x*x+S*S>1.1920928955078125e-7?(B=1/+CD(+(M*M+x*x+S*S)),gD[e+128>>2]=M*B,gD[e+132>>2]=x*B,gD[e+136>>2]=S*B,gD[e+140>>2]=0,S*=B,x*=B,M*=B):(gD[e+128>>2]=1,gD[e+132>>2]=0,gD[e+136>>2]=0,gD[e+140>>2]=0,S=0,x=0,M=1),+ED(+S)>.7071067690849304?(R=S*S+x*x,D=1/+CD(+R),gD[e+144>>2]=0,B=-(D*S),gD[e+148>>2]=B,P=D*x,gD[e+152>>2]=P,gD[e+160>>2]=R*D,gD[e+164>>2]=-(M*P),gD[e+168>>2]=M*B):(P=M*M+x*x,B=1/+CD(+P),D=-(x*B),gD[e+144>>2]=D,R=B*M,gD[e+148>>2]=R,gD[e+152>>2]=0,gD[e+160>>2]=-(S*R),gD[e+164>>2]=S*D,gD[e+168>>2]=P*B),T=l,M=f,S=i,x=h,E=_,C=b,A=u,B=m,w=y,P=p,D=g,R=r,V=0;;){if(L=fD[t+28>>2]|0,gD[e+80>>2]=+gD[L+4>>2],gD[e+84>>2]=+gD[L+20>>2],gD[e+88>>2]=+gD[L+36>>2],gD[e+92>>2]=0,gD[e+96>>2]=+gD[L+8>>2],gD[e+100>>2]=+gD[L+24>>2],gD[e+104>>2]=+gD[L+40>>2],gD[e+108>>2]=0,gD[e+112>>2]=+gD[L+12>>2],gD[e+116>>2]=+gD[L+28>>2],gD[e+120>>2]=+gD[L+44>>2],gD[e+124>>2]=0,gD[e+32>>2]=T,gD[e+36>>2]=M,gD[e+40>>2]=S,gD[e+44>>2]=0,gD[e+48>>2]=x,gD[e+52>>2]=E,gD[e+56>>2]=C,gD[e+60>>2]=0,gD[e+64>>2]=A,gD[e+68>>2]=B,gD[e+72>>2]=w,gD[e+76>>2]=0,w=o-+gD[L+56>>2],B=n-+gD[L+60>>2],gD[e+16>>2]=a-+gD[L+52>>2],gD[e+20>>2]=w,gD[e+24>>2]=B,gD[e+28>>2]=0,gD[e>>2]=s*l+c*h+d*u+p-P,gD[e+4>>2]=s*f+c*_+d*m+g-D,gD[e+8>>2]=s*i+c*b+d*y+r-R,gD[e+12>>2]=0,nu(t+(V*84|0)+48|0,e+80|0,e+32|0,e+16|0,e,e+128+(V<<4)|0,L+396|0,+gD[L+344>>2],v+396|0,+gD[v+344>>2]),V=V+1|0,(V|0)==3)break t;v=fD[t+32>>2]|0,T=+gD[v+4>>2],M=+gD[v+20>>2],S=+gD[v+36>>2],x=+gD[v+8>>2],E=+gD[v+24>>2],C=+gD[v+40>>2],A=+gD[v+12>>2],B=+gD[v+28>>2],w=+gD[v+44>>2],P=+gD[v+52>>2],D=+gD[v+56>>2],R=+gD[v+60>>2]}while(0);o=+gD[t+560>>2],r=+gD[t+576>>2],i=+gD[t+592>>2],+ED(+i)>.7071067690849304?(n=1/+CD(+(r*r+i*i)),h=0,c=-(i*n),l=r*n,s=(r*r+i*i)*n,a=-(o*r*n),n=o*-(i*n)):(n=1/+CD(+(o*o+r*r)),h=-(r*n),c=o*n,l=0,s=-(i*o*n),a=i*-(r*n),n=(o*o+r*r)*n),V=fD[t+28>>2]|0,d=+gD[V+4>>2],A=+gD[V+8>>2],S=+gD[V+12>>2],f=h*d+c*A+l*S,b=+gD[V+20>>2],_=+gD[V+24>>2],T=+gD[V+28>>2],m=h*b+c*_+l*T,D=+gD[V+36>>2],w=+gD[V+40>>2],C=+gD[V+44>>2],g=h*D+c*w+l*C,P=s*d+a*A+n*S,l=s*b+a*_+n*T,a=s*D+a*w+n*C,L=fD[t+32>>2]|0,x=+gD[L+4>>2],E=+gD[L+20>>2],k=+gD[L+36>>2],O=+gD[L+8>>2],J=+gD[L+24>>2],F=+gD[L+40>>2],z=+gD[L+12>>2],n=+gD[L+28>>2],R=+gD[L+44>>2],fD[t+300>>2]=0,fD[t+304>>2]=0,fD[t+308>>2]=0,fD[t+312>>2]=0,gD[t+316>>2]=d*f+b*m+D*g,gD[t+320>>2]=A*f+_*m+w*g,gD[t+324>>2]=S*f+T*m+C*g,gD[t+328>>2]=0,gD[t+332>>2]=x*-f+E*-m+k*-g,gD[t+336>>2]=O*-f+J*-m+F*-g,gD[t+340>>2]=z*-f+n*-m+R*-g,gD[t+344>>2]=0,h=(d*f+b*m+D*g)*+gD[V+396>>2],B=(A*f+_*m+w*g)*+gD[V+400>>2],u=(S*f+T*m+C*g)*+gD[V+404>>2],gD[t+348>>2]=h,gD[t+352>>2]=B,gD[t+356>>2]=u,gD[t+360>>2]=0,I=(x*-f+E*-m+k*-g)*+gD[L+396>>2],G=(O*-f+J*-m+F*-g)*+gD[L+400>>2],s=(z*-f+n*-m+R*-g)*+gD[L+404>>2],gD[t+364>>2]=I,gD[t+368>>2]=G,gD[t+372>>2]=s,gD[t+376>>2]=0,gD[t+380>>2]=(x*-f+E*-m+k*-g)*I+(O*-f+J*-m+F*-g)*G+(z*-f+n*-m+R*-g)*s+(h*(d*f+b*m+D*g)+B*(A*f+_*m+w*g)+u*(S*f+T*m+C*g)),L=fD[t+28>>2]|0,g=+gD[L+4>>2],m=+gD[L+20>>2],f=+gD[L+36>>2],u=+gD[L+8>>2],B=+gD[L+24>>2],h=+gD[L+40>>2],s=+gD[L+12>>2],R=+gD[L+28>>2],n=+gD[L+44>>2],V=fD[t+32>>2]|0,z=+gD[V+4>>2],G=+gD[V+20>>2],F=+gD[V+36>>2],J=+gD[V+8>>2],O=+gD[V+24>>2],I=+gD[V+40>>2],k=+gD[V+12>>2],E=+gD[V+28>>2],x=+gD[V+44>>2],fD[t+384>>2]=0,fD[t+388>>2]=0,fD[t+392>>2]=0,fD[t+396>>2]=0,gD[t+400>>2]=P*g+l*m+a*f,gD[t+404>>2]=P*u+l*B+a*h,gD[t+408>>2]=P*s+l*R+a*n,gD[t+412>>2]=0,gD[t+416>>2]=z*-P+G*-l+F*-a,gD[t+420>>2]=J*-P+O*-l+I*-a,gD[t+424>>2]=k*-P+E*-l+x*-a,gD[t+428>>2]=0,y=(P*g+l*m+a*f)*+gD[L+396>>2],p=(P*u+l*B+a*h)*+gD[L+400>>2],c=(P*s+l*R+a*n)*+gD[L+404>>2],gD[t+432>>2]=y,gD[t+436>>2]=p,gD[t+440>>2]=c,gD[t+444>>2]=0,N=(z*-P+G*-l+F*-a)*+gD[V+396>>2],H=(J*-P+O*-l+I*-a)*+gD[V+400>>2],M=(k*-P+E*-l+x*-a)*+gD[V+404>>2],gD[t+448>>2]=N,gD[t+452>>2]=H,gD[t+456>>2]=M,gD[t+460>>2]=0,gD[t+464>>2]=(z*-P+G*-l+F*-a)*N+(J*-P+O*-l+I*-a)*H+(k*-P+E*-l+x*-a)*M+(y*(P*g+l*m+a*f)+p*(P*u+l*B+a*h)+c*(P*s+l*R+a*n)),V=fD[t+28>>2]|0,n=+gD[V+4>>2],a=+gD[V+20>>2],R=+gD[V+36>>2],s=+gD[V+8>>2],l=+gD[V+24>>2],P=+gD[V+40>>2],c=+gD[V+12>>2],h=+gD[V+28>>2],B=+gD[V+44>>2],L=fD[t+32>>2]|0,u=+gD[L+4>>2],p=+gD[L+20>>2],f=+gD[L+36>>2],m=+gD[L+8>>2],g=+gD[L+24>>2],y=+gD[L+40>>2],M=+gD[L+12>>2],x=+gD[L+28>>2],E=+gD[L+44>>2],fD[t+468>>2]=0,fD[t+472>>2]=0,fD[t+476>>2]=0,fD[t+480>>2]=0,R=(d*o+A*r+S*i)*n+(b*o+_*r+T*i)*a+(D*o+w*r+C*i)*R,P=(d*o+A*r+S*i)*s+(b*o+_*r+T*i)*l+(D*o+w*r+C*i)*P,B=(d*o+A*r+S*i)*c+(b*o+_*r+T*i)*h+(D*o+w*r+C*i)*B,gD[t+484>>2]=R,gD[t+488>>2]=P,gD[t+492>>2]=B,gD[t+496>>2]=0,S=-(d*o+A*r+S*i),T=-(b*o+_*r+T*i),C=-(D*o+w*r+C*i),gD[t+500>>2]=u*S+p*T+f*C,gD[t+504>>2]=m*S+g*T+y*C,gD[t+508>>2]=M*S+x*T+E*C,gD[t+512>>2]=0,w=R*+gD[V+396>>2],D=P*+gD[V+400>>2],i=B*+gD[V+404>>2],gD[t+516>>2]=w,gD[t+520>>2]=D,gD[t+524>>2]=i,gD[t+528>>2]=0,_=(u*S+p*T+f*C)*+gD[L+396>>2],b=(m*S+g*T+y*C)*+gD[L+400>>2],A=(M*S+x*T+E*C)*+gD[L+404>>2],gD[t+532>>2]=_,gD[t+536>>2]=b,gD[t+540>>2]=A,gD[t+544>>2]=0,gD[t+548>>2]=(u*S+p*T+f*C)*_+(m*S+g*T+y*C)*b+(M*S+x*T+E*C)*A+(w*R+D*P+i*B),gD[t+724>>2]=0,i=+wy(t,(fD[t+28>>2]|0)+4|0,(fD[t+32>>2]|0)+4|0),gD[t+728>>2]=i,gD[t+708>>2]=0,gD[t+712>>2]=0,uD[t+716>>0]=0;do if(+gD[t+692>>2]>=0){if(i=+OD(+(i-+gD[t+688>>2]),6.2831854820251465),i<-3.1415927410125732?i+=6.2831854820251465:i>3.1415927410125732&&(i+=-6.2831854820251465),r=+gD[t+692>>2],i<-r){uD[t+716>>0]=1,gD[t+708>>2]=-(i+r),gD[t+712>>2]=1;break}i>r&&(uD[t+716>>0]=1,gD[t+708>>2]=r-i,gD[t+712>>2]=-1)}while(0);V=fD[t+28>>2]|0,J=+gD[t+560>>2],N=+gD[t+576>>2],z=+gD[t+592>>2],F=J*+gD[V+4>>2]+N*+gD[V+8>>2]+z*+gD[V+12>>2],G=J*+gD[V+20>>2]+N*+gD[V+24>>2]+z*+gD[V+28>>2],z=J*+gD[V+36>>2]+N*+gD[V+40>>2]+z*+gD[V+44>>2],L=fD[t+32>>2]|0,gD[t+720>>2]=1/(F*(F*+gD[V+264>>2]+G*+gD[V+280>>2]+z*+gD[V+296>>2])+G*(F*+gD[V+268>>2]+G*+gD[V+284>>2]+z*+gD[V+300>>2])+z*(F*+gD[V+272>>2]+G*+gD[V+288>>2]+z*+gD[V+304>>2])+(F*(F*+gD[L+264>>2]+G*+gD[L+280>>2]+z*+gD[L+296>>2])+G*(F*+gD[L+268>>2]+G*+gD[L+284>>2]+z*+gD[L+300>>2])+z*(F*+gD[L+272>>2]+G*+gD[L+288>>2]+z*+gD[L+304>>2]))),bD=e}function Cy(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;if(i=bD,(uD[t+738>>0]|0)!=0)return fD[e>>2]=0,fD[e+4>>2]=0,void(bD=i);fD[e>>2]=5,fD[e+4>>2]=1,o=+wy(t,(fD[t+28>>2]|0)+4|0,(fD[t+32>>2]|0)+4|0),gD[t+728>>2]=o,gD[t+708>>2]=0,gD[t+712>>2]=0,uD[t+716>>0]=0;do{if(+gD[t+692>>2]>=0){if(o=+OD(+(o-+gD[t+688>>2]),6.2831854820251465),o<-3.1415927410125732?o+=6.2831854820251465:o>3.1415927410125732&&(o+=-6.2831854820251465),n=+gD[t+692>>2],o<-n){uD[t+716>>0]=1,gD[t+708>>2]=-(o+n),gD[t+712>>2]=1;break}if(o>n){uD[t+716>>0]=1,gD[t+708>>2]=n-o,gD[t+712>>2]=-1;break}if((uD[t+716>>0]|0)==0){r=13;break}break}r=13}while(0);return((r|0)==13?(uD[t+737>>0]|0)==0:0)?void(bD=i):(fD[e>>2]=(fD[e>>2]|0)+1,fD[e+4>>2]=(fD[e+4>>2]|0)+-1,void(bD=i))}function Ay(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0;if(i=bD,bD=bD+256|0,r=fD[t+28>>2]|0,o=fD[t+32>>2]|0,c=fD[e+24>>2]|0,(uD[t+739>>0]|0)==0){if(Ld(i+192|0,r+4|0,t+552|0),Ld(i+128|0,o+4|0,t+616|0),u=+gD[i+240>>2],h=+gD[i+244>>2],n=+gD[i+248>>2],a=+gD[i+176>>2],d=+gD[i+180>>2],s=+gD[i+184>>2],U=(uD[t+736>>0]|0)==0,U?(k=fD[e+8>>2]|0,gD[k>>2]=1,gD[k+(c+1<<2)>>2]=1,gD[k+((c<<1)+2<<2)>>2]=1,k=fD[e+16>>2]|0,gD[k>>2]=-1,gD[k+(c+1<<2)>>2]=-1,gD[k+((c<<1)+2<<2)>>2]=-1,k=c<<1,X=c+1|0,W=(c<<1)+2|0):(k=c<<1,X=c+1|0,W=(c<<1)+2|0),l=u-+gD[r+52>>2],G=h-+gD[r+56>>2],F=n-+gD[r+60>>2],j=fD[e+12>>2]|0,gD[j>>2]=0,gD[j+4>>2]=F,gD[j+8>>2]=-G,gD[j+12>>2]=0,gD[j+(c<<2)>>2]=-F,gD[j+(X<<2)>>2]=0,gD[j+(c+2<<2)>>2]=l,gD[j+(c+3<<2)>>2]=0,gD[j+(k<<2)>>2]=G,K=k|1,gD[j+(K<<2)>>2]=-l,gD[j+(W<<2)>>2]=0,q=k+3|0,gD[j+(q<<2)>>2]=0,l=a-+gD[o+52>>2],G=d-+gD[o+56>>2],F=s-+gD[o+60>>2],z=fD[e+20>>2]|0,gD[z>>2]=0,gD[z+4>>2]=-F,gD[z+8>>2]=G,gD[z+12>>2]=0,gD[z+(c<<2)>>2]=F,gD[z+(X<<2)>>2]=0,gD[z+(c+2<<2)>>2]=-l,gD[z+(c+3<<2)>>2]=0,gD[z+(k<<2)>>2]=-G,gD[z+(K<<2)>>2]=l,gD[z+(W<<2)>>2]=0,gD[z+(q<<2)>>2]=0,l=+gD[e>>2]*+gD[e+4>>2],k=fD[e+28>>2]|0,U&&(gD[k>>2]=l*(a-u),gD[k+(c<<2)>>2]=l*(d-h),gD[k+(c<<1<<2)>>2]=l*(s-n)),s=+gD[i+200>>2],a=+gD[i+216>>2],n=+gD[i+232>>2],L=+gD[i+192>>2],H=+gD[i+208>>2],V=+gD[i+224>>2],O=+gD[i+196>>2],N=+gD[i+212>>2],I=+gD[i+228>>2],c=fD[e+24>>2]|0,gD[j+(c*3<<2)>>2]=L,gD[j+((c*3|0)+1<<2)>>2]=H,gD[j+((c*3|0)+2<<2)>>2]=V,gD[j+(c<<2<<2)>>2]=O,gD[j+((c<<2|1)<<2)>>2]=N,gD[j+((c<<2|2)<<2)>>2]=I,gD[z+(c*3<<2)>>2]=-L,gD[z+((c*3|0)+1<<2)>>2]=-H,gD[z+((c*3|0)+2<<2)>>2]=-V,gD[z+(c<<2<<2)>>2]=-O,gD[z+((c<<2|1)<<2)>>2]=-N,gD[z+((c<<2|2)<<2)>>2]=-I,F=+gD[i+136>>2],J=+gD[i+152>>2],G=+gD[i+168>>2],gD[k+(c*3<<2)>>2]=l*(V*(s*J-a*F)+(L*(a*G-n*J)+H*(n*F-s*G))),gD[k+(c<<2<<2)>>2]=l*(I*(s*J-a*F)+(O*(a*G-n*J)+N*(n*F-s*G))),(uD[t+716>>0]|0)==0){if((uD[t+737>>0]|0)==0)return void(bD=i);U=0,X=0,k=0,l=0}else l=+gD[t+708>>2]*+gD[t+732>>2],U=1,X=(uD[t+737>>0]|0)==0,k=l>0?1:2;if(gD[j+(c*5<<2)>>2]=s,gD[j+((c*5|0)+1<<2)>>2]=a,gD[j+((c*5|0)+2<<2)>>2]=n,gD[z+(c*5<<2)>>2]=-s,gD[z+((c*5|0)+1<<2)>>2]=-a,gD[z+((c*5|0)+2<<2)>>2]=-n,d=+OD(+(+gD[t+688>>2]-+gD[t+692>>2]),6.2831854820251465),d<-3.1415927410125732?d+=6.2831854820251465:d>3.1415927410125732&&(d+=-6.2831854820251465),p=+OD(+(+gD[t+688>>2]+ +gD[t+692>>2]),6.2831854820251465),p<-3.1415927410125732?p+=6.2831854820251465:p>3.1415927410125732&&(p+=-6.2831854820251465),j=d==p,z=(fD[e+28>>2]|0)+(c*5<<2)|0,gD[z>>2]=0,W=fD[t+748>>2]|0,h=+gD[((W&2|0)==0?e+4|0:t+760|0)>>2],!(U&j|X)){(W&4|0)!=0&&(gD[(fD[e+32>>2]|0)+(c*5<<2)>>2]=+gD[t+752>>2]),f=+gD[t+728>>2],u=+gD[t+680>>2],X=d>p;do if(X|j)d=X?1:0;else{if(_=u/(h*+gD[e>>2]),_<0){if(f>=d?d-_>f:0){d=(d-f)/_;break}d=f<d?0:1;break}if(_>0){if(f<=p?p-_<f:0){d=(p-f)/_;break}d=f>p?0:1}else d=0}while(0);gD[z>>2]=d*u*+gD[t+732>>2]+ +gD[z>>2],gD[(fD[e+36>>2]|0)+(c*5<<2)>>2]=-+gD[t+684>>2],gD[(fD[e+40>>2]|0)+(c*5<<2)>>2]=+gD[t+684>>2]}if(!U)return void(bD=i);gD[z>>2]=+gD[z>>2]+l*h*+gD[e>>2],(W&1|0)!=0&&(gD[(fD[e+32>>2]|0)+(c*5<<2)>>2]=+gD[t+756>>2]);do{if(!j){if(j=(fD[e+36>>2]|0)+(c*5<<2)|0,(k|0)==1){gD[j>>2]=0,gD[(fD[e+40>>2]|0)+(c*5<<2)>>2]=3.4028234663852886e38;break}gD[j>>2]=-3.4028234663852886e38,gD[(fD[e+40>>2]|0)+(c*5<<2)>>2]=0;break}gD[(fD[e+36>>2]|0)+(c*5<<2)>>2]=-3.4028234663852886e38,gD[(fD[e+40>>2]|0)+(c*5<<2)>>2]=3.4028234663852886e38}while(0);l=+gD[t+704>>2];do if(l>0){if(n=s*+gD[r+328>>2]+a*+gD[r+332>>2]+n*+gD[r+336>>2]-(s*+gD[o+328>>2]+a*+gD[o+332>>2]+n*+gD[o+336>>2]),(k|0)==1){if(!(n<0))break;if(!(+gD[z>>2]<-(l*n)))break;gD[z>>2]=-(l*n);break}if(!(n>0))break;if(!(+gD[z>>2]>-(l*n)))break;gD[z>>2]=-(l*n);break}while(0);return gD[z>>2]=+gD[t+700>>2]*+gD[z>>2],void(bD=i)}if(Ld(i+64|0,r+4|0,t+552|0),Ld(i,o+4|0,t+616|0),E=+gD[i+48>>2],x=+gD[i+112>>2],C=+gD[i+52>>2],T=+gD[i+116>>2],A=+gD[i+56>>2],S=+gD[i+120>>2],a=+gD[(fD[t+28>>2]|0)+344>>2],n=+gD[(fD[t+32>>2]|0)+344>>2],k=a<1.1920928955078125e-7?1:n<1.1920928955078125e-7,D=a+n>0?n/(a+n):.5,V=1-D,u=+gD[i+72>>2],d=+gD[i+88>>2],_=+gD[i+104>>2],p=+gD[i+8>>2],f=+gD[i+24>>2],h=+gD[i+40>>2],l=D*u+V*p,a=D*d+V*f,n=D*_+V*h,s=1/+CD(+(l*l+a*a+n*n)),b=E-+gD[o+52>>2],I=C-+gD[o+56>>2],N=A-+gD[o+60>>2],v=l*s*(b*l*s+I*a*s+N*n*s),O=a*s*(b*l*s+I*a*s+N*n*s),F=n*s*(b*l*s+I*a*s+N*n*s),M=x-+gD[r+52>>2],J=T-+gD[r+56>>2],G=S-+gD[r+60>>2],m=l*s*(l*s*M+a*s*J+n*s*G),g=a*s*(l*s*M+a*s*J+n*s*G),y=n*s*(l*s*M+a*s*J+n*s*G),R=M-m+D*(m-v),w=J-g+D*(g-O),P=G-y+D*(y-F),L=b-v-V*(m-v),B=I-O-V*(g-O),H=N-F-V*(y-F),m=D*(b-v)+V*(M-m),g=D*(I-O)+V*(J-g),y=D*(N-F)+V*(G-y),m*m+g*g+y*y>1.1920928955078125e-7?(M=1/+CD(+(m*m+g*g+y*y)),m*=M,g=M*g,M*=y):(m=+gD[i+68>>2],g=+gD[i+84>>2],M=+gD[i+100>>2]),v=a*s*M-n*s*g,b=n*s*m-M*l*s,y=g*l*s-a*s*m,K=fD[e+12>>2]|0,gD[K>>2]=w*M-P*g,gD[K+4>>2]=P*m-R*M,gD[K+8>>2]=R*g-w*m,K=fD[e+20>>2]|0,gD[K>>2]=-(B*M-H*g),gD[K+4>>2]=-(H*m-L*M),gD[K+8>>2]=-(L*g-B*m),(k?(uD[t+716>>0]|0)!=0:0)?(J=V*(B*y-H*b),O=V*(H*v-L*y),I=V*(L*b-B*v),N=D*(w*y-P*b),F=D*(P*v-R*y),G=D*(R*b-w*v)):(J=B*y-H*b,O=H*v-L*y,I=L*b-B*v,N=w*y-P*b,F=P*v-R*y,G=R*b-w*v),K=fD[e+12>>2]|0,gD[K+(c<<2)>>2]=N,gD[K+(c+1<<2)>>2]=F,gD[K+(c+2<<2)>>2]=G,K=fD[e+20>>2]|0,gD[K+(c<<2)>>2]=-J,gD[K+(c+1<<2)>>2]=-O,gD[K+(c+2<<2)>>2]=-I,k?(I=V*(B*n*s-H*a*s),H=V*(H*l*s-L*n*s),B=V*(L*a*s-B*l*s),V=D*(w*n*s-P*a*s),P=D*(P*l*s-R*n*s),w=D*(R*a*s-w*l*s)):(I=B*n*s-H*a*s,H=H*l*s-L*n*s,B=L*a*s-B*l*s,V=w*n*s-P*a*s,P=P*l*s-R*n*s,w=R*a*s-w*l*s),k=fD[e+12>>2]|0,gD[k+(c<<1<<2)>>2]=V,gD[k+((c<<1|1)<<2)>>2]=P,gD[k+((c<<1)+2<<2)>>2]=w,k=fD[e+20>>2]|0,gD[k+(c<<1<<2)>>2]=-I,gD[k+((c<<1|1)<<2)>>2]=-H,gD[k+((c<<1)+2<<2)>>2]=-B,w=+gD[e>>2]*+gD[e+4>>2],(uD[t+736>>0]|0)==0?(j=fD[e+8>>2]|0,gD[j>>2]=m,gD[j+4>>2]=g,gD[j+8>>2]=M,j=fD[e+8>>2]|0,gD[j+(c<<2)>>2]=v,gD[j+(c+1<<2)>>2]=b,gD[j+(c+2<<2)>>2]=y,j=fD[e+8>>2]|0,gD[j+(c<<1<<2)>>2]=l*s,gD[j+((c<<1|1)<<2)>>2]=a*s,gD[j+((c<<1)+2<<2)>>2]=n*s,j=fD[e+16>>2]|0,G=-m,gD[j>>2]=G,N=-g,gD[j+4>>2]=N,F=-M,gD[j+8>>2]=F,gD[j+(c<<2)>>2]=-v,gD[j+(c+1<<2)>>2]=-b,gD[j+(c+2<<2)>>2]=-y,gD[j+(c<<1<<2)>>2]=-(l*s),gD[j+((c<<1|1)<<2)>>2]=-(a*s),gD[j+((c<<1)+2<<2)>>2]=-(n*s),j=fD[e+28>>2]|0,gD[j>>2]=w*((E-x)*m+(C-T)*g+(A-S)*M),gD[j+(c<<2)>>2]=w*((E-x)*v+(C-T)*b+(A-S)*y),gD[j+(c<<1<<2)>>2]=w*((E-x)*l*s+(C-T)*a*s+(A-S)*n*s),x=-v,T=-b,E=-y,A=N,S=F,C=G,k=fD[e+20>>2]|0):(x=-v,T=-b,E=-y,A=-g,S=-M,C=-m,j=fD[e+28>>2]|0),z=fD[e+12>>2]|0,gD[z+(c*3<<2)>>2]=m,gD[z+((c*3|0)+1<<2)>>2]=g,gD[z+((c*3|0)+2<<2)>>2]=M,gD[z+(c<<2<<2)>>2]=v,gD[z+((c<<2|1)<<2)>>2]=b,gD[z+((c<<2|2)<<2)>>2]=y,gD[k+(c*3<<2)>>2]=C,gD[k+((c*3|0)+1<<2)>>2]=A,gD[k+((c*3|0)+2<<2)>>2]=S,gD[k+(c<<2<<2)>>2]=x,gD[k+((c<<2|1)<<2)>>2]=T,gD[k+((c<<2|2)<<2)>>2]=E,G=+gD[e>>2]*+gD[e+4>>2],gD[j+(c*3<<2)>>2]=G*((d*h-_*f)*m+(_*p-u*h)*g+(u*f-d*p)*M),gD[j+(c<<2<<2)>>2]=G*((d*h-_*f)*v+(_*p-u*h)*b+(u*f-d*p)*y),(uD[t+716>>0]|0)==0){if((uD[t+737>>0]|0)==0)return void(bD=i);U=0,X=0,c=0,h=0}else h=+gD[t+708>>2]*+gD[t+732>>2],U=1,X=(uD[t+737>>0]|0)==0,c=h>0?1:2;if(j=(fD[e+24>>2]|0)*5|0,gD[z+(j<<2)>>2]=l*s,gD[z+(j+1<<2)>>2]=a*s,gD[z+(j+2<<2)>>2]=n*s,gD[k+(j<<2)>>2]=-(l*s),gD[k+(j+1<<2)>>2]=-(a*s),gD[k+(j+2<<2)>>2]=-(n*s),d=+OD(+(+gD[t+688>>2]-+gD[t+692>>2]),6.2831854820251465),d<-3.1415927410125732?d+=6.2831854820251465:d>3.1415927410125732&&(d+=-6.2831854820251465),p=+OD(+(+gD[t+688>>2]+ +gD[t+692>>2]),6.2831854820251465),p<-3.1415927410125732?p+=6.2831854820251465:p>3.1415927410125732&&(p+=-6.2831854820251465),z=d==p,k=(fD[e+28>>2]|0)+(j<<2)|0,gD[k>>2]=0,W=fD[t+748>>2]|0,u=+gD[((W&2|0)==0?e+4|0:t+760|0)>>2],!(U&z|X)){(W&4|0)!=0&&(gD[(fD[e+32>>2]|0)+(j<<2)>>2]=+gD[t+752>>2]),_=+gD[t+728>>2],f=+gD[t+680>>2],X=d>p;do if(X|z)d=X?1:0;else{if(m=f/(u*+gD[e>>2]),m<0){if(_>=d?d-m>_:0){d=(d-_)/m;break}d=_<d?0:1;break}if(m>0){if(_<=p?p-m<_:0){d=(p-_)/m;break}d=_>p?0:1}else d=0}while(0);gD[k>>2]=d*f*+gD[t+732>>2]+ +gD[k>>2],gD[(fD[e+36>>2]|0)+(j<<2)>>2]=-+gD[t+684>>2],gD[(fD[e+40>>2]|0)+(j<<2)>>2]=+gD[t+684>>2]}if(!U)return void(bD=i);gD[k>>2]=+gD[k>>2]+h*u*+gD[e>>2],(W&1|0)!=0&&(gD[(fD[e+32>>2]|0)+(j<<2)>>2]=+gD[t+756>>2]);do{if(!z){if(z=(fD[e+36>>2]|0)+(j<<2)|0,(c|0)==1){gD[z>>2]=0,gD[(fD[e+40>>2]|0)+(j<<2)>>2]=3.4028234663852886e38;break}gD[z>>2]=-3.4028234663852886e38,gD[(fD[e+40>>2]|0)+(j<<2)>>2]=0;break}gD[(fD[e+36>>2]|0)+(j<<2)>>2]=-3.4028234663852886e38,gD[(fD[e+40>>2]|0)+(j<<2)>>2]=3.4028234663852886e38}while(0);h=+gD[t+704>>2];do if(h>0){if(n=+gD[r+328>>2]*l*s+ +gD[r+332>>2]*a*s+ +gD[r+336>>2]*n*s-(l*s*+gD[o+328>>2]+a*s*+gD[o+332>>2]+n*s*+gD[o+336>>2]),(c|0)==1){if(!(n<0))break;if(!(+gD[k>>2]<-(h*n)))break;gD[k>>2]=-(h*n);break}if(!(n>0))break;if(!(+gD[k>>2]>-(h*n)))break;gD[k>>2]=-(h*n);break}while(0);gD[k>>2]=+gD[t+700>>2]*+gD[k>>2],bD=i}function wy(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0;return v=+gD[t+552>>2],b=+gD[t+568>>2],y=+gD[t+584>>2],g=+gD[e>>2],m=+gD[e+4>>2],_=+gD[e+8>>2],p=+gD[e+16>>2],u=+gD[e+20>>2],d=+gD[e+24>>2],c=+gD[e+32>>2],s=+gD[e+36>>2],n=+gD[e+40>>2],l=+gD[t+556>>2],a=+gD[t+572>>2],o=+gD[t+588>>2],S=+gD[t+620>>2],M=+gD[t+636>>2],r=+gD[t+652>>2],f=S*+gD[i>>2]+M*+gD[i+4>>2]+r*+gD[i+8>>2],h=S*+gD[i+16>>2]+M*+gD[i+20>>2]+r*+gD[i+24>>2],r=S*+gD[i+32>>2]+M*+gD[i+36>>2]+r*+gD[i+40>>2],r=+BD(+((v*g+b*m+y*_)*f+(v*p+b*u+y*d)*h+(v*c+b*s+y*n)*r),+((g*l+m*a+_*o)*f+(p*l+u*a+d*o)*h+(c*l+s*a+n*o)*r)),+(r*+gD[t+732>>2])}function Ry(t,e,i,r){t|=0,e|=0,i=+i,r|=0;var o=0;o=bD;do if((r|0)==5|(r|0)==-1){if((e|0)==2){gD[t+760>>2]=i,fD[t+748>>2]=fD[t+748>>2]|2;break}if((e|0)==3){gD[t+752>>2]=i,fD[t+748>>2]=fD[t+748>>2]|4;break}if((e|0)==4){gD[t+756>>2]=i,fD[t+748>>2]=fD[t+748>>2]|1;break}break}while(0);bD=o}function Dy(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;r=bD;do{if((i|0)==5|(i|0)==-1){if((e|0)==2){o=+gD[t+760>>2];break}if((e|0)==4){o=+gD[t+756>>2];break}if((e|0)==3){o=+gD[t+752>>2];break}o=0;break}o=0}while(0);return bD=r,+o}function Py(t){t|=0}function By(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function Vy(t){return t|=0,220}function Ly(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;return r=bD,ju(t,e,i)|0,gD[e+52>>2]=+gD[t+552>>2],gD[e+56>>2]=+gD[t+556>>2],gD[e+60>>2]=+gD[t+560>>2],gD[e+64>>2]=+gD[t+564>>2],gD[e+68>>2]=+gD[t+568>>2],gD[e+72>>2]=+gD[t+572>>2],gD[e+76>>2]=+gD[t+576>>2],gD[e+80>>2]=+gD[t+580>>2],gD[e+84>>2]=+gD[t+584>>2],gD[e+88>>2]=+gD[t+588>>2],gD[e+92>>2]=+gD[t+592>>2],gD[e+96>>2]=+gD[t+596>>2],gD[e+100>>2]=+gD[t+600>>2],gD[e+104>>2]=+gD[t+604>>2],gD[e+108>>2]=+gD[t+608>>2],gD[e+112>>2]=+gD[t+612>>2],gD[e+116>>2]=+gD[t+616>>2],gD[e+120>>2]=+gD[t+620>>2],gD[e+124>>2]=+gD[t+624>>2],gD[e+128>>2]=+gD[t+628>>2],gD[e+132>>2]=+gD[t+632>>2],gD[e+136>>2]=+gD[t+636>>2],gD[e+140>>2]=+gD[t+640>>2],gD[e+144>>2]=+gD[t+644>>2],gD[e+148>>2]=+gD[t+648>>2],gD[e+152>>2]=+gD[t+652>>2],gD[e+156>>2]=+gD[t+656>>2],gD[e+160>>2]=+gD[t+660>>2],gD[e+164>>2]=+gD[t+664>>2],gD[e+168>>2]=+gD[t+668>>2],gD[e+172>>2]=+gD[t+672>>2],gD[e+176>>2]=+gD[t+676>>2],fD[e+184>>2]=_D[t+736>>0],fD[e+188>>2]=_D[t+737>>0],gD[e+196>>2]=+gD[t+684>>2],gD[e+192>>2]=+gD[t+680>>2],fD[e+180>>2]=_D[t+740>>0],o=+OD(+(+gD[t+688>>2]-+gD[t+692>>2]),6.2831854820251465),o<-3.1415927410125732?o+=6.2831854820251465:o>3.1415927410125732&&(o+=-6.2831854820251465),gD[e+200>>2]=o,o=+OD(+(+gD[t+688>>2]+ +gD[t+692>>2]),6.2831854820251465),o<-3.1415927410125732?(o+=6.2831854820251465,i=e+204|0,gD[i>>2]=o,i=t+696|0,o=+gD[i>>2],i=e+208|0,gD[i>>2]=o,i=t+700|0,o=+gD[i>>2],i=e+212|0,gD[i>>2]=o,i=t+704|0,o=+gD[i>>2],i=e+216|0,gD[i>>2]=o,bD=r,2592):o>3.1415927410125732?(o+=-6.2831854820251465,i=e+204|0,gD[i>>2]=o,i=t+696|0,o=+gD[i>>2],i=e+208|0,gD[i>>2]=o,i=t+700|0,o=+gD[i>>2],i=e+212|0,gD[i>>2]=o,i=t+704|0,o=+gD[i>>2],i=e+216|0,gD[i>>2]=o,bD=r,2592):(i=e+204|0,gD[i>>2]=o,i=t+696|0,o=+gD[i>>2],i=e+208|0,gD[i>>2]=o,i=t+700|0,o=+gD[i>>2],i=e+212|0,gD[i>>2]=o,i=t+704|0,o=+gD[i>>2],i=e+216|0,gD[i>>2]=o,bD=r,2592)}function ky(t){t|=0;var e=0,i=0;if(e=bD,fD[t>>2]=2632,i=fD[t+140>>2]|0,(i|0)!=0){if((uD[t+144>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),uD[t+144>>0]=1,fD[t+140>>2]=0,fD[t+132>>2]=0,fD[t+136>>2]=0,(t|0)==0)return void(bD=e)}else uD[t+144>>0]=1,fD[t+140>>2]=0,fD[t+132>>2]=0,fD[t+136>>2]=0;fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),bD=e}function Hy(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=2632,i=fD[t+140>>2]|0,(i|0)!=0&&((uD[t+144>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+140>>2]=0),uD[t+144>>0]=1,fD[t+140>>2]=0,fD[t+132>>2]=0,fD[t+136>>2]=0,bD=e}function Iy(t){t|=0}function Oy(t,e,i,r,o){t|=0,e|=0,i=+i,r=+r,o=+o;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0;for(n=bD,bD=bD+240|0,h=+gD[t+96>>2]+r,d=+gD[t+100>>2]+o,gD[t+112>>2]=+gD[t+92>>2]+i,gD[t+116>>2]=h,gD[t+120>>2]=d,gD[t+124>>2]=0,gD[n+168>>2]=1,fD[n+172>>2]=0,fD[n+176>>2]=0,fD[n+180>>2]=0,fD[n+184>>2]=0,gD[n+188>>2]=1,fD[n+192>>2]=0,fD[n+196>>2]=0,fD[n+200>>2]=0,fD[n+204>>2]=0,gD[n+208>>2]=1,a=n+212|0,fD[a+0>>2]=0,fD[a+4>>2]=0,fD[a+8>>2]=0,fD[a+12>>2]=0,fD[a+16>>2]=0,gD[n+104>>2]=1,fD[n+108>>2]=0,fD[n+112>>2]=0,fD[n+116>>2]=0,fD[n+120>>2]=0,gD[n+124>>2]=1,fD[n+128>>2]=0,fD[n+132>>2]=0,fD[n+136>>2]=0,fD[n+140>>2]=0,gD[n+144>>2]=1,a=n+148|0,fD[a+0>>2]=0,fD[a+4>>2]=0,fD[a+8>>2]=0,fD[a+12>>2]=0,fD[a+16>>2]=0,i=1,a=10;;){if(u=a,a=a+-1|0,(u|0)<=0){t=12;break}if(fD[n+216>>2]=fD[t+92>>2],fD[n+220>>2]=fD[t+96>>2],fD[n+224>>2]=fD[t+100>>2],fD[n+228>>2]=fD[t+104>>2],fD[n+152>>2]=fD[t+112>>2],fD[n+156>>2]=fD[t+116>>2],fD[n+160>>2]=fD[t+120>>2],fD[n+164>>2]=fD[t+124>>2],h=+gD[t+92>>2]-+gD[t+112>>2],d=+gD[t+96>>2]-+gD[t+116>>2],o=+gD[t+100>>2]-+gD[t+120>>2],u=fD[t+8>>2]|0,gD[n+4>>2]=1,pD[n+8>>1]=1,pD[n+10>>1]=-1,fD[n+76>>2]=0,fD[n+12>>2]=0,fD[n+16>>2]=0,fD[n+20>>2]=0,fD[n+24>>2]=0,fD[n+28>>2]=0,fD[n+32>>2]=0,fD[n+36>>2]=0,fD[n+40>>2]=0,fD[n>>2]=2896,fD[n+80>>2]=u,gD[n+84>>2]=h,gD[n+88>>2]=d,gD[n+92>>2]=o,gD[n+96>>2]=0,gD[n+100>>2]=0,u=fD[u+188>>2]|0,pD[n+8>>1]=pD[u+4>>1]|0,pD[n+10>>1]=pD[u+6>>1]|0,u=fD[t+12>>2]|0,o=+vP[fD[(fD[u>>2]|0)+48>>2]&15](u),u=fD[t+12>>2]|0,rP[fD[(fD[u>>2]|0)+44>>2]&31](u,o+ +gD[t+56>>2]),(uD[t+170>>0]|0)==0?L_(e,fD[t+12>>2]|0,n+168|0,n+104|0,n,+gD[e+56>>2]):uA(fD[t+8>>2]|0,fD[t+12>>2]|0,n+168|0,n+104|0,n,+gD[e+56>>2]),u=fD[t+12>>2]|0,rP[fD[(fD[u>>2]|0)+44>>2]&31](u,o),d=+gD[n+4>>2],i-=d,!(d<1)){if(fD[t+92>>2]=fD[t+112>>2],fD[t+96>>2]=fD[t+116>>2],fD[t+100>>2]=fD[t+120>>2],fD[t+104>>2]=fD[t+124>>2],i>.009999999776482582)continue;t=12;break}if(h=+gD[t+112>>2],s=+gD[t+92>>2],c=+gD[t+116>>2],r=+gD[t+96>>2],l=+gD[t+120>>2],o=+gD[t+100>>2],d=+CD(+((h-s)*(h-s)+(c-r)*(c-r)+(l-o)*(l-o))),d>1.1920928955078125e-7&&(m=+gD[n+44>>2],f=+gD[n+48>>2],y=+gD[n+52>>2],g=((h-s)*(1/d)*m+(c-r)*(1/d)*f+(l-o)*(1/d)*y)*2,_=(h-s)*(1/d)-m*g,p=(c-r)*(1/d)-f*g,g=(l-o)*(1/d)-y*g,l=1/+CD(+(g*g+(_*_+p*p))),fD[t+112>>2]=fD[t+92>>2],fD[t+116>>2]=fD[t+96>>2],fD[t+120>>2]=fD[t+100>>2],fD[t+124>>2]=fD[t+104>>2],h=d*(l*_-m*(y*l*g+(m*l*_+f*l*p)))+ +gD[t+112>>2],gD[t+112>>2]=h,c=d*(l*p-f*(y*l*g+(m*l*_+f*l*p)))+ +gD[t+116>>2],gD[t+116>>2]=c,l=d*(l*g-y*(y*l*g+(m*l*_+f*l*p)))+ +gD[t+120>>2],gD[t+120>>2]=l),s=h-s,r=c-r,o=l-o,!(s*s+r*r+o*o>1.1920928955078125e-7)){t=12;break}if(y=1/+CD(+(s*s+r*r+o*o)),!(i>.009999999776482582?!(s*y*+gD[t+76>>2]+r*y*+gD[t+80>>2]+o*y*+gD[t+84>>2]<=0):0)){t=12;break}}return(t|0)==12?void(bD=n):void 0}function Jy(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;i=bD,uD[t+171>>0]=1,fD[t+60>>2]=fD[e+0>>2],fD[t+64>>2]=fD[e+4>>2],fD[t+68>>2]=fD[e+8>>2],fD[t+72>>2]=fD[e+12>>2],r=+gD[t+60>>2],a=+gD[t+64>>2],o=+gD[t+68>>2],n=1/+CD(+(r*r+a*a+o*o)),+CD(+(o*n*o*n+(r*n*r*n+a*n*a*n)))<1.1920928955078125e-7?(r=0,a=0,n=0,o=0):(r*=n,a*=n,n=o*n,o=+gD[t+72>>2]),gD[t+76>>2]=r,gD[t+80>>2]=a,gD[t+84>>2]=n,gD[t+88>>2]=o,bD=i}function Ny(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0,n=0,a=0,s=0;r=bD,uD[t+171>>0]=0,fD[t+60>>2]=fD[e+0>>2],fD[t+64>>2]=fD[e+4>>2],fD[t+68>>2]=fD[e+8>>2],fD[t+72>>2]=fD[e+12>>2],o=+gD[t+60>>2],s=+gD[t+64>>2],n=+gD[t+68>>2],a=1/+CD(+(o*o+s*s+n*n)),+CD(+(n*a*n*a+(o*a*o*a+s*a*s*a)))<1.1920928955078125e-7?(o=0,s=0,a=0,n=0):(o*=a,s*=a,a=n*a,n=+gD[t+72>>2]),gD[t+76>>2]=o,gD[t+80>>2]=s,gD[t+84>>2]=a,gD[t+88>>2]=n,gD[t+172>>2]=+gD[t+172>>2]+i,bD=r}function Fy(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;if(i=bD,gD[t+16>>2]=0,gD[t+20>>2]=0,uD[t+168>>0]=0,uD[t+169>>0]=0,gD[t+172>>2]=0,fD[t+60>>2]=0,fD[t+64>>2]=0,fD[t+68>>2]=0,fD[t+72>>2]=0,t=fD[(fD[t+8>>2]|0)+284>>2]|0,(fD[(lP[fD[(fD[t>>2]|0)+28>>2]&127](t)|0)+4>>2]|0)<=0)return void(bD=i);do o=fD[t>>2]|0,n=fD[o+12>>2]|0,o=fD[fD[(lP[fD[o+28>>2]&127](t)|0)+12>>2]>>2]|0,r=fD[(fD[(lP[fD[(fD[t>>2]|0)+28>>2]&127](t)|0)+12>>2]|0)+4>>2]|0,uP[n&31](t,o,r,fD[e+24>>2]|0)|0;while((fD[(lP[fD[(fD[t>>2]|0)+28>>2]&127](t)|0)+4>>2]|0)>0);bD=i}function Gy(t,e){t|=0,e|=0;var i=0;i=bD,bD=bD+32|0,fD[i+16>>2]=0,fD[i+20>>2]=0,fD[i+24>>2]=0,fD[i+28>>2]=0,fD[i+0>>2]=fD[e+0>>2],fD[i+4>>2]=fD[e+4>>2],fD[i+8>>2]=fD[e+8>>2],fD[i+12>>2]=fD[e+12>>2],e=fD[t+8>>2]|0,fD[e+260>>2]=(fD[e+260>>2]|0)+1,gD[e+4>>2]=1,fD[e+8>>2]=fD[i+16>>2],fD[e+12>>2]=fD[i+20>>2],fD[e+16>>2]=fD[i+24>>2],fD[e+20>>2]=0,gD[e+24>>2]=1,fD[e+28>>2]=0,fD[e+32>>2]=0,fD[e+36>>2]=0,fD[e+40>>2]=0,gD[e+44>>2]=1,gD[e+48>>2]=0,fD[e+52>>2]=fD[i+0>>2],fD[e+56>>2]=fD[i+4>>2],fD[e+60>>2]=fD[i+8>>2],fD[e+64>>2]=fD[i+12>>2],bD=i}function zy(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0;for(o=bD,bD=bD+96|0,uD[t+148>>0]=0,i=0;;){if(y=fD[t+12>>2]|0,GP[fD[(fD[y>>2]|0)+8>>2]&127](y,(fD[t+8>>2]|0)+4|0,o+80|0,o+64|0),y=fD[e+68>>2]|0,iP[fD[(fD[y>>2]|0)+16>>2]&31](y,fD[(fD[t+8>>2]|0)+188>>2]|0,o+80|0,o+64|0,fD[e+24>>2]|0),y=fD[e+24>>2]|0,GP[fD[(fD[y>>2]|0)+32>>2]&127](y,fD[(fD[t+8>>2]|0)+284>>2]|0,e+28|0,y),y=fD[t+8>>2]|0,fD[t+92>>2]=fD[y+52>>2],fD[t+96>>2]=fD[y+56>>2],fD[t+100>>2]=fD[y+60>>2],fD[t+104>>2]=fD[y+64>>2],y=fD[y+284>>2]|0,(lP[fD[(fD[y>>2]|0)+36>>2]&127](y)|0)>0){n=0,p=0,h=0;do{if(s=fD[t+132>>2]|0,(s|0)<0){(fD[t+136>>2]|0)<0&&(a=fD[t+140>>2]|0,(a|0)!=0&&((uD[t+144>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[t+140>>2]=0),uD[t+144>>0]=1,fD[t+140>>2]=0,fD[t+136>>2]=0);do a=(fD[t+140>>2]|0)+(s<<2)|0,(a|0)!=0&&(fD[a>>2]=0),s=s+1|0;while((s|0)!=0)}fD[t+132>>2]=0,s=fD[(fD[t+8>>2]|0)+284>>2]|0,s=fD[(lP[fD[(fD[s>>2]|0)+28>>2]&127](s)|0)+12>>2]|0,y=fD[fD[s+(n<<4)>>2]>>2]|0,a=fD[fD[s+(n<<4)+4>>2]>>2]|0,((y|0)!=0?(fD[y+204>>2]&4|0)!=0:0)||(r=15);do if((r|0)==15){if(r=0,(a|0)!=0?(fD[a+204>>2]&4|0)!=0:0)break;if(a=fD[s+(n<<4)+8>>2]|0,(a|0)!=0&&aP[fD[(fD[a>>2]|0)+16>>2]&127](a,t+128|0),c=fD[t+132>>2]|0,(c|0)>0)for(l=fD[t+140>>2]|0,s=fD[t+8>>2]|0,a=0,m=h;;){if(h=fD[l+(a<<2)>>2]|0,d=(fD[h+740>>2]|0)==(s|0)?-1:1,f=fD[h+748>>2]|0,(f|0)>0){u=0;do _=+gD[h+(u*184|0)+84>>2],_<0&&(g=h+(u*184|0)+68|0,_<p?(y=h+(u*184|0)+72|0,b=d*+gD[y>>2],m=h+(u*184|0)+76|0,p=d*+gD[m>>2],gD[t+152>>2]=d*+gD[g>>2],gD[t+156>>2]=b,gD[t+160>>2]=p,gD[t+164>>2]=0,f=fD[h+748>>2]|0,p=_):(y=h+(u*184|0)+72|0,m=h+(u*184|0)+76|0),v=_*d*+gD[y>>2]*.20000000298023224,b=_*d*+gD[m>>2]*.20000000298023224,gD[t+92>>2]=_*d*+gD[g>>2]*.20000000298023224+ +gD[t+92>>2],gD[t+96>>2]=v+ +gD[t+96>>2],gD[t+100>>2]=b+ +gD[t+100>>2],m=1),u=u+1|0;while((u|0)<(f|0));h=m}else h=m;if(a=a+1|0,(a|0)>=(c|0))break;m=h}}while(0);n=n+1|0,y=fD[(fD[t+8>>2]|0)+284>>2]|0}while((n|0)<(lP[fD[(fD[y>>2]|0)+36>>2]&127](y)|0))}else h=0;if(y=fD[t+8>>2]|0,fD[o+0>>2]=fD[y+4>>2],fD[o+4>>2]=fD[y+8>>2],fD[o+8>>2]=fD[y+12>>2],fD[o+12>>2]=fD[y+16>>2],fD[o+16>>2]=fD[y+20>>2],fD[o+20>>2]=fD[y+24>>2],fD[o+24>>2]=fD[y+28>>2],fD[o+28>>2]=fD[y+32>>2],fD[o+32>>2]=fD[y+36>>2],fD[o+36>>2]=fD[y+40>>2],fD[o+40>>2]=fD[y+44>>2],fD[o+44>>2]=fD[y+48>>2],fD[o+48>>2]=fD[t+92>>2],fD[o+52>>2]=fD[t+96>>2],fD[o+56>>2]=fD[t+100>>2],fD[o+60>>2]=fD[t+104>>2],fD[y+260>>2]=(fD[y+260>>2]|0)+1,fD[y+4>>2]=fD[o+0>>2],fD[y+8>>2]=fD[o+4>>2],fD[y+12>>2]=fD[o+8>>2],fD[y+16>>2]=fD[o+12>>2],fD[y+20>>2]=fD[o+16>>2],fD[y+24>>2]=fD[o+20>>2],fD[y+28>>2]=fD[o+24>>2],fD[y+32>>2]=fD[o+28>>2],fD[y+36>>2]=fD[o+32>>2],fD[y+40>>2]=fD[o+36>>2],fD[y+44>>2]=fD[o+40>>2],fD[y+48>>2]=fD[o+44>>2],fD[y+52>>2]=fD[o+48>>2],fD[y+56>>2]=fD[o+52>>2],fD[y+60>>2]=fD[o+56>>2],fD[y+64>>2]=fD[o+60>>2],!h){r=32;break}if(uD[t+148>>0]=1,(i|0)>3){r=32;break}i=i+1|0}return(r|0)==32?(y=(fD[t+8>>2]|0)+52|0,fD[t+92>>2]=fD[y+0>>2],fD[t+96>>2]=fD[y+4>>2],fD[t+100>>2]=fD[y+8>>2],fD[t+104>>2]=fD[y+12>>2],Vw(t+112|0,y|0,16)|0,void(bD=o)):void 0}function jy(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0;if(r=bD,bD=bD+528|0,(uD[t+171>>0]|0)==0?+gD[t+172>>2]<=0:0)return void(bD=r);if(uD[t+168>>0]=(lP[fD[(fD[t>>2]|0)+48>>2]&127](t)|0)&1,h=+gD[t+16>>2]-+gD[t+44>>2]*i,gD[t+16>>2]=h,(h>0?(a=+gD[t+28>>2],h>a):0)?gD[t+16>>2]=a:a=h,(a<0?(p=+ED(+a),n=+ED(+ +gD[t+24>>2]),p>n):0)&&(gD[t+16>>2]=-n,a=-n),gD[t+20>>2]=a*i,s=fD[t+8>>2]|0,fD[r+0>>2]=fD[s+4>>2],fD[r+4>>2]=fD[s+8>>2],fD[r+8>>2]=fD[s+12>>2],fD[r+12>>2]=fD[s+16>>2],fD[r+16>>2]=fD[s+20>>2],fD[r+20>>2]=fD[s+24>>2],fD[r+24>>2]=fD[s+28>>2],fD[r+28>>2]=fD[s+32>>2],fD[r+32>>2]=fD[s+36>>2],fD[r+36>>2]=fD[s+40>>2],fD[r+40>>2]=fD[s+44>>2],fD[r+44>>2]=fD[s+48>>2],fD[r+48>>2]=fD[s+52>>2],fD[r+52>>2]=fD[s+56>>2],fD[r+56>>2]=fD[s+60>>2],fD[r+60>>2]=fD[s+64>>2],s=fD[t+176>>2]|0,((uD[2736]|0)==0?(HD(2736)|0)!=0:0)&&(gD[672]=1,fD[673]=0,fD[674]=0,fD[675]=0,fD[676]=0,gD[677]=1,fD[678]=0,fD[679]=0,fD[680]=0,fD[681]=0,gD[682]=1,gD[683]=0,JD(2736)),h=+gD[t+20>>2],h=+gD[t+52>>2]+(h>0?h:0),d=+gD[2692+(s<<4)>>2]*h+ +gD[t+96>>2],p=h*+gD[2696+(s<<4)>>2]+ +gD[t+100>>2],gD[t+112>>2]=+gD[t+92>>2]+ +gD[2688+(s<<4)>>2]*h,gD[t+116>>2]=d,gD[t+120>>2]=p,gD[t+124>>2]=0,gD[r+456>>2]=1,fD[r+460>>2]=0,fD[r+464>>2]=0,fD[r+468>>2]=0,fD[r+472>>2]=0,gD[r+476>>2]=1,fD[r+480>>2]=0,fD[r+484>>2]=0,fD[r+488>>2]=0,fD[r+492>>2]=0,gD[r+496>>2]=1,s=r+500|0,fD[s+0>>2]=0,fD[s+4>>2]=0,fD[s+8>>2]=0,fD[s+12>>2]=0,fD[s+16>>2]=0,gD[r+392>>2]=1,fD[r+396>>2]=0,fD[r+400>>2]=0,fD[r+404>>2]=0,fD[r+408>>2]=0,gD[r+412>>2]=1,fD[r+416>>2]=0,fD[r+420>>2]=0,fD[r+424>>2]=0,fD[r+428>>2]=0,gD[r+432>>2]=1,s=r+436|0,fD[s+0>>2]=0,fD[s+4>>2]=0,fD[s+8>>2]=0,fD[s+12>>2]=0,fD[s+16>>2]=0,s=fD[t+176>>2]|0,((uD[2736]|0)==0?(HD(2736)|0)!=0:0)&&(gD[672]=1,fD[673]=0,fD[674]=0,fD[675]=0,fD[676]=0,gD[677]=1,fD[678]=0,fD[679]=0,fD[680]=0,fD[681]=0,gD[682]=1,gD[683]=0,JD(2736)),l=fD[t+12>>2]|0,h=+vP[fD[(fD[l>>2]|0)+48>>2]&15](l),h+=+gD[t+56>>2],d=h*+gD[2692+(s<<4)>>2]+ +gD[t+96>>2],p=h*+gD[2696+(s<<4)>>2]+ +gD[t+100>>2],gD[r+504>>2]=+gD[2688+(s<<4)>>2]*h+ +gD[t+92>>2],gD[r+508>>2]=d,gD[r+512>>2]=p,gD[r+516>>2]=0,fD[r+440>>2]=fD[t+112>>2],fD[r+444>>2]=fD[t+116>>2],fD[r+448>>2]=fD[t+120>>2],fD[r+452>>2]=fD[t+124>>2],s=fD[t+8>>2]|0,l=fD[t+176>>2]|0,((uD[2736]|0)==0?(HD(2736)|0)!=0:0)&&(gD[672]=1,fD[673]=0,fD[674]=0,fD[675]=0,fD[676]=0,gD[677]=1,fD[678]=0,fD[679]=0,fD[680]=0,fD[681]=0,gD[682]=1,gD[683]=0,JD(2736)),h=-+gD[2688+(l<<4)>>2],d=-+gD[2692+(l<<4)>>2],p=-+gD[2696+(l<<4)>>2],gD[r+292>>2]=1,pD[r+296>>1]=1,pD[r+298>>1]=-1,u=r+300|0,fD[r+364>>2]=0,fD[u+0>>2]=0,fD[u+4>>2]=0,fD[u+8>>2]=0,fD[u+12>>2]=0,fD[u+16>>2]=0,fD[u+20>>2]=0,fD[u+24>>2]=0,fD[u+28>>2]=0,fD[r+288>>2]=2896,fD[r+368>>2]=s,gD[r+372>>2]=h,gD[r+376>>2]=d,gD[r+380>>2]=p,gD[r+384>>2]=0,gD[r+388>>2]=.707099974155426,s=fD[t+8>>2]|0,u=fD[s+188>>2]|0,pD[r+296>>1]=pD[u+4>>1]|0,pD[r+298>>1]=pD[u+6>>1]|0,(uD[t+170>>0]|0)==0?L_(e,fD[t+12>>2]|0,r+456|0,r+392|0,r+288|0,0):uA(s,fD[t+12>>2]|0,r+456|0,r+392|0,r+288|0,+gD[e+56>>2]),+gD[r+292>>2]<1){s=fD[t+176>>2]|0,((uD[2736]|0)==0?(HD(2736)|0)!=0:0)&&(gD[672]=1,fD[673]=0,fD[674]=0,fD[675]=0,fD[676]=0,gD[677]=1,fD[678]=0,fD[679]=0,fD[680]=0,fD[681]=0,gD[682]=1,gD[683]=0,JD(2736));do if(+gD[r+332>>2]*+gD[2688+(s<<4)>>2]+ +gD[r+336>>2]*+gD[2692+(s<<4)>>2]+ +gD[r+340>>2]*+gD[2696+(s<<4)>>2]>0){if(n=+gD[r+292>>2],gD[t+108>>2]=+gD[t+52>>2]*n,(uD[t+180>>0]|0)==0){fD[t+92>>2]=fD[t+112>>2],fD[t+96>>2]=fD[t+116>>2],fD[t+100>>2]=fD[t+120>>2],fD[t+104>>2]=fD[t+124>>2];break}gD[t+92>>2]=(1-n)*+gD[t+92>>2]+n*+gD[t+112>>2],gD[t+96>>2]=(1-n)*+gD[t+96>>2]+n*+gD[t+116>>2],gD[t+100>>2]=(1-n)*+gD[t+100>>2]+n*+gD[t+120>>2];break}while(0);gD[t+16>>2]=0,gD[t+20>>2]=0}else gD[t+108>>2]=+gD[t+52>>2],fD[t+92>>2]=fD[t+112>>2],fD[t+96>>2]=fD[t+116>>2],fD[t+100>>2]=fD[t+120>>2],fD[t+104>>2]=fD[t+124>>2];(uD[t+171>>0]|0)==0?(d=+gD[t+172>>2],p=d>i?i:d,gD[t+172>>2]=d-i,Oy(t,e,+gD[t+60>>2]*p,p*+gD[t+64>>2],p*+gD[t+68>>2])):Oy(t,e,+gD[t+60>>2],+gD[t+64>>2],+gD[t+68>>2]),fD[r+272>>2]=fD[t+112>>2],fD[r+276>>2]=fD[t+116>>2],fD[r+280>>2]=fD[t+120>>2],fD[r+284>>2]=fD[t+124>>2],n=+gD[t+16>>2],n=n<0?-n:0,n*=i;do if(n>0?(o=+gD[t+24>>2],n>o):0){if((uD[t+168>>0]|0)==0?(uD[t+169>>0]|0)!=0:0){o=n;break}}else o=n;while(0);for(s=fD[t+176>>2]|0,((uD[2736]|0)==0?(HD(2736)|0)!=0:0)&&(gD[672]=1,fD[673]=0,fD[674]=0,fD[675]=0,fD[676]=0,gD[677]=1,fD[678]=0,fD[679]=0,fD[680]=0,fD[681]=0,gD[682]=1,gD[683]=0,JD(2736)),a=o+ +gD[t+108>>2],n=+gD[2688+(s<<4)>>2]*a,o=a*+gD[2692+(s<<4)>>2],a*=+gD[2696+(s<<4)>>2],gD[t+112>>2]=+gD[t+112>>2]-n,gD[t+116>>2]=+gD[t+116>>2]-o,gD[t+120>>2]=+gD[t+120>>2]-a,l=fD[t+8>>2]|0,c=fD[t+176>>2]|0,((uD[2736]|0)==0?(HD(2736)|0)!=0:0)&&(gD[672]=1,fD[673]=0,fD[674]=0,fD[675]=0,fD[676]=0,gD[677]=1,fD[678]=0,fD[679]=0,fD[680]=0,fD[681]=0,gD[682]=1,gD[683]=0,JD(2736)),p=+gD[t+40>>2],s=r+172|0,gD[s>>2]=1,pD[r+176>>1]=1,pD[r+178>>1]=-1,u=r+180|0,fD[r+244>>2]=0,fD[u+0>>2]=0,fD[u+4>>2]=0,fD[u+8>>2]=0,fD[u+12>>2]=0,fD[u+16>>2]=0,fD[u+20>>2]=0,fD[u+24>>2]=0,fD[u+28>>2]=0,fD[r+168>>2]=2896,fD[r+248>>2]=l,fD[r+252>>2]=fD[2688+(c<<4)>>2],fD[r+256>>2]=fD[2692+(c<<4)>>2],fD[r+260>>2]=fD[2696+(c<<4)>>2],fD[r+264>>2]=fD[2700+(c<<4)>>2],gD[r+268>>2]=p,c=fD[t+8>>2]|0,l=fD[c+188>>2]|0,pD[r+176>>1]=pD[l+4>>1]|0,pD[r+178>>1]=pD[l+6>>1]|0,l=fD[t+176>>2]|0,((uD[2736]|0)==0?(HD(2736)|0)!=0:0)&&(gD[672]=1,fD[673]=0,fD[674]=0,fD[675]=0,fD[676]=0,gD[677]=1,fD[678]=0,fD[679]=0,fD[680]=0,fD[681]=0,gD[682]=1,gD[683]=0,JD(2736)),p=+gD[t+40>>2],gD[r+68>>2]=1,pD[r+72>>1]=1,pD[r+74>>1]=-1,u=r+76|0,fD[r+140>>2]=0,fD[u+0>>2]=0,fD[u+4>>2]=0,fD[u+8>>2]=0,fD[u+12>>2]=0,fD[u+16>>2]=0,fD[u+20>>2]=0,fD[u+24>>2]=0,fD[u+28>>2]=0,fD[r+64>>2]=2896,fD[r+144>>2]=c,fD[r+148>>2]=fD[2688+(l<<4)>>2],fD[r+152>>2]=fD[2692+(l<<4)>>2],fD[r+156>>2]=fD[2696+(l<<4)>>2],fD[r+160>>2]=fD[2700+(l<<4)>>2],gD[r+164>>2]=p,l=fD[(fD[t+8>>2]|0)+188>>2]|0,pD[r+72>>1]=pD[l+4>>1]|0,pD[r+74>>1]=pD[l+6>>1]|0,p=+gD[t+112>>2],d=+gD[t+116>>2],h=+gD[t+120>>2],l=0;;){if(gD[r+456>>2]=1,fD[r+460>>2]=0,fD[r+464>>2]=0,fD[r+468>>2]=0,fD[r+472>>2]=0,gD[r+476>>2]=1,fD[r+480>>2]=0,fD[r+484>>2]=0,fD[r+488>>2]=0,fD[r+492>>2]=0,gD[r+496>>2]=1,fD[r+500>>2]=0,gD[r+392>>2]=1,fD[r+396>>2]=0,fD[r+400>>2]=0,fD[r+404>>2]=0,fD[r+408>>2]=0,gD[r+412>>2]=1,fD[r+416>>2]=0,fD[r+420>>2]=0,fD[r+424>>2]=0,fD[r+428>>2]=0,gD[r+432>>2]=1,fD[r+436>>2]=0,gD[r+288>>2]=1,fD[r+292>>2]=0,fD[r+296>>2]=0,fD[r+300>>2]=0,fD[r+304>>2]=0,gD[r+308>>2]=1,fD[r+312>>2]=0,fD[r+316>>2]=0,fD[r+320>>2]=0,fD[r+324>>2]=0,gD[r+328>>2]=1,fD[r+332>>2]=0,fD[r+336>>2]=0,fD[r+340>>2]=0,fD[r+504>>2]=fD[t+92>>2],fD[r+508>>2]=fD[t+96>>2],fD[r+512>>2]=fD[t+100>>2],fD[r+516>>2]=fD[t+104>>2],fD[r+440>>2]=fD[t+112>>2],fD[r+444>>2]=fD[t+116>>2],fD[r+448>>2]=fD[t+120>>2],fD[r+452>>2]=fD[t+124>>2],gD[r+336>>2]=p-n,gD[r+340>>2]=d-o,gD[r+344>>2]=h-a,gD[r+348>>2]=0,(uD[t+170>>0]|0)==0?(L_(e,fD[t+12>>2]|0,r+456|0,r+392|0,r+168|0,+gD[e+56>>2]),+gD[s>>2]<1||L_(e,fD[t+12>>2]|0,r+456|0,r+288|0,r+64|0,+gD[e+56>>2])):(uA(fD[t+8>>2]|0,fD[t+12>>2]|0,r+456|0,r+392|0,r+168|0,+gD[e+56>>2]),+gD[s>>2]<1||uA(fD[t+8>>2]|0,fD[t+12>>2]|0,r+456|0,r+288|0,r+64|0,+gD[e+56>>2])),h=+gD[t+16>>2],d=h<0?-h:0,p=d*i,c=(uD[t+182>>0]|0)==0,u=(c?0:+gD[s>>2]<1)?1:+gD[r+68>>2]<1,!(p>0))break;
if(d=+gD[t+52>>2],!(p<d)|u^1|l)break;if((uD[t+168>>0]|0)==0?(uD[t+169>>0]|0)!=0:0){l=0;break}fD[t+112>>2]=fD[r+272>>2],fD[t+116>>2]=fD[r+276>>2],fD[t+120>>2]=fD[r+280>>2],fD[t+124>>2]=fD[r+284>>2],l=fD[t+176>>2]|0;do if((uD[2736]|0)==0){if((HD(2736)|0)==0)break;gD[672]=1,fD[673]=0,fD[674]=0,fD[675]=0,fD[676]=0,gD[677]=1,fD[678]=0,fD[679]=0,fD[680]=0,fD[681]=0,gD[682]=1,gD[683]=0,JD(2736)}while(0);p=d+ +gD[t+108>>2],d=p*+gD[2692+(l<<4)>>2],h=p*+gD[2696+(l<<4)>>2],p=+gD[t+112>>2]-+gD[2688+(l<<4)>>2]*p,gD[t+112>>2]=p,d=+gD[t+116>>2]-d,gD[t+116>>2]=d,h=+gD[t+120>>2]-h,gD[t+120>>2]=h,l=1}if(d=+gD[s>>2],d<1|l){o=+gD[t+96>>2],i=(o-+gD[r+232>>2])*.5;do{if(!c){if((uD[t+181>>0]|0)==0){gD[t+92>>2]=(1-i)*+gD[t+92>>2]+i*+gD[t+112>>2],gD[t+96>>2]=(1-i)*o+i*+gD[t+116>>2],gD[t+100>>2]=(1-i)*+gD[t+100>>2]+i*+gD[t+120>>2],e=t+181|0;break}gD[t+92>>2]=(1-d)*+gD[t+92>>2]+d*+gD[t+112>>2],gD[t+96>>2]=(1-d)*o+d*+gD[t+116>>2],gD[t+100>>2]=(1-d)*+gD[t+100>>2]+d*+gD[t+120>>2],e=t+181|0;break}gD[t+92>>2]=(1-d)*+gD[t+92>>2]+d*+gD[t+112>>2],gD[t+96>>2]=(1-d)*o+d*+gD[t+116>>2],gD[t+100>>2]=(1-d)*+gD[t+100>>2]+d*+gD[t+120>>2],e=t+181|0}while(0);uD[e>>0]=0,gD[t+16>>2]=0,gD[t+20>>2]=0,uD[t+169>>0]=0}else{uD[t+181>>0]=1;do if(!c&&(d=h<0?-h:0,h=+gD[t+24>>2],d*i>h)){if((uD[t+168>>0]|0)==0?(uD[t+169>>0]|0)!=0:0)break;gD[t+112>>2]=n+ +gD[t+112>>2],gD[t+116>>2]=o+ +gD[t+116>>2],gD[t+120>>2]=a+ +gD[t+120>>2],e=fD[t+176>>2]|0;do if((uD[2736]|0)==0){if((HD(2736)|0)==0)break;gD[672]=1,fD[673]=0,fD[674]=0,fD[675]=0,fD[676]=0,gD[677]=1,fD[678]=0,fD[679]=0,fD[680]=0,fD[681]=0,gD[682]=1,gD[683]=0,JD(2736)}while(0);h+=+gD[t+108>>2],d=h*+gD[2692+(e<<4)>>2],p=h*+gD[2696+(e<<4)>>2],gD[t+112>>2]=+gD[t+112>>2]-+gD[2688+(e<<4)>>2]*h,gD[t+116>>2]=+gD[t+116>>2]-d,gD[t+120>>2]=+gD[t+120>>2]-p}while(0);fD[t+92>>2]=fD[t+112>>2],fD[t+96>>2]=fD[t+116>>2],fD[t+100>>2]=fD[t+120>>2],fD[t+104>>2]=fD[t+124>>2]}fD[r+48>>2]=fD[t+92>>2],fD[r+52>>2]=fD[t+96>>2],fD[r+56>>2]=fD[t+100>>2],fD[r+60>>2]=fD[t+104>>2],u=fD[t+8>>2]|0,fD[u+260>>2]=(fD[u+260>>2]|0)+1,fD[u+4>>2]=fD[r+0>>2],fD[u+8>>2]=fD[r+4>>2],fD[u+12>>2]=fD[r+8>>2],fD[u+16>>2]=fD[r+12>>2],fD[u+20>>2]=fD[r+16>>2],fD[u+24>>2]=fD[r+20>>2],fD[u+28>>2]=fD[r+24>>2],fD[u+32>>2]=fD[r+28>>2],fD[u+36>>2]=fD[r+32>>2],fD[u+40>>2]=fD[r+36>>2],fD[u+44>>2]=fD[r+40>>2],fD[u+48>>2]=fD[r+44>>2],fD[u+52>>2]=fD[r+48>>2],fD[u+56>>2]=fD[r+52>>2],fD[u+60>>2]=fD[r+56>>2],fD[u+64>>2]=fD[r+60>>2],bD=r}function Uy(t){t|=0;var e=0;return e=bD,t=lP[fD[(fD[t>>2]|0)+48>>2]&127](t)|0,bD=e,t|0}function Wy(t){t|=0;var e=0;return e=bD,lP[fD[(fD[t>>2]|0)+40>>2]&127](t)|0?(gD[t+16>>2]=+gD[t+28>>2],uD[t+169>>0]=1,void(bD=e)):void(bD=e)}function Xy(t){t|=0;var e=0;return e=bD,+gD[t+16>>2]!=0?(t=0,bD=e,t|0):(t=+gD[t+20>>2]==0,bD=e,t|0)}function qy(t,e){t|=0,e|=0}function Ky(t,e){t|=0,e|=0,uD[t+180>>0]=e&1}function Yy(t,e,i){t|=0,e|=0,i=+i;var r=0;r=bD,aP[fD[(fD[t>>2]|0)+32>>2]&127](t,e),NP[fD[(fD[t>>2]|0)+36>>2]&7](t,e,i),bD=r}function Qy(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function Zy(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;return r=bD,o=fD[e>>2]|0,(o|0)==(fD[t+80>>2]|0)?(s=1,bD=r,+s):(fD[o+204>>2]&4|0)!=0?(s=1,bD=r,+s):(i?(s=+gD[e+8>>2],a=+gD[e+12>>2],n=+gD[e+16>>2]):(c=+gD[e+8>>2],l=+gD[e+12>>2],n=+gD[e+16>>2],s=+gD[o+4>>2]*c+ +gD[o+8>>2]*l+ +gD[o+12>>2]*n,a=c*+gD[o+20>>2]+l*+gD[o+24>>2]+n*+gD[o+28>>2],n=c*+gD[o+36>>2]+l*+gD[o+40>>2]+n*+gD[o+44>>2]),s*+gD[t+84>>2]+a*+gD[t+88>>2]+n*+gD[t+92>>2]<+gD[t+100>>2]?(c=1,bD=r,+c):(gD[t+4>>2]=+gD[e+40>>2],fD[t+76>>2]=o,i?(fD[t+44>>2]=fD[e+8>>2],fD[t+48>>2]=fD[e+12>>2],fD[t+52>>2]=fD[e+16>>2],fD[t+56>>2]=fD[e+20>>2]):(n=+gD[e+8>>2],a=+gD[e+12>>2],s=+gD[e+16>>2],l=n*+gD[o+20>>2]+a*+gD[o+24>>2]+s*+gD[o+28>>2],c=n*+gD[o+36>>2]+a*+gD[o+40>>2]+s*+gD[o+44>>2],gD[t+44>>2]=+gD[o+4>>2]*n+ +gD[o+8>>2]*a+ +gD[o+12>>2]*s,gD[t+48>>2]=l,gD[t+52>>2]=c,gD[t+56>>2]=0),fD[t+60>>2]=fD[e+24>>2],fD[t+64>>2]=fD[e+28>>2],fD[t+68>>2]=fD[e+32>>2],fD[t+72>>2]=fD[e+36>>2],c=+gD[e+40>>2],bD=r,+c))}function $y(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0;e=bD,bD=bD+144|0,gD[t+36>>2]=0,fD[e+128>>2]=0,fD[e+132>>2]=0,fD[e+136>>2]=0,fD[e+140>>2]=0,i=0;do r=e+128+(i<<2)|0,gD[r>>2]=1,n=fD[t+28>>2]|0,R=+gD[n+4>>2],gD[e+80>>2]=R,E=+gD[n+20>>2],gD[e+84>>2]=E,a=+gD[n+36>>2],gD[e+88>>2]=a,gD[e+92>>2]=0,w=+gD[n+8>>2],gD[e+96>>2]=w,T=+gD[n+24>>2],gD[e+100>>2]=T,g=+gD[n+40>>2],gD[e+104>>2]=g,gD[e+108>>2]=0,A=+gD[n+12>>2],gD[e+112>>2]=A,x=+gD[n+28>>2],gD[e+116>>2]=x,h=+gD[n+44>>2],gD[e+120>>2]=h,gD[e+124>>2]=0,o=fD[t+32>>2]|0,v=+gD[o+4>>2],gD[e+32>>2]=v,m=+gD[o+20>>2],gD[e+36>>2]=m,d=+gD[o+36>>2],gD[e+40>>2]=d,gD[e+44>>2]=0,b=+gD[o+8>>2],gD[e+48>>2]=b,_=+gD[o+24>>2],gD[e+52>>2]=_,c=+gD[o+40>>2],gD[e+56>>2]=c,gD[e+60>>2]=0,y=+gD[o+12>>2],gD[e+64>>2]=y,f=+gD[o+28>>2],gD[e+68>>2]=f,s=+gD[o+44>>2],gD[e+72>>2]=s,gD[e+76>>2]=0,M=+gD[t+300>>2],p=+gD[t+304>>2],l=+gD[t+308>>2],C=+gD[n+52>>2],S=+gD[n+56>>2],u=+gD[n+60>>2],gD[e+16>>2]=M*R+p*w+l*A+C-C,gD[e+20>>2]=M*E+p*T+l*x+S-S,gD[e+24>>2]=M*a+p*g+l*h+u-u,gD[e+28>>2]=0,u=+gD[t+316>>2],h=+gD[t+320>>2],l=+gD[t+324>>2],g=+gD[o+52>>2],p=+gD[o+56>>2],a=+gD[o+60>>2],gD[e>>2]=u*v+h*b+l*y+g-g,gD[e+4>>2]=u*m+h*_+l*f+p-p,gD[e+8>>2]=u*d+h*c+l*s+a-a,gD[e+12>>2]=0,n=fD[t+28>>2]|0,nu(t+(i*84|0)+48|0,e+80|0,e+32|0,e+16|0,e,e+128|0,n+396|0,+gD[n+344>>2],o+396|0,+gD[o+344>>2]),gD[r>>2]=0,i=i+1|0;while((i|0)!=3);bD=e}function tb(t,e){t|=0,e|=0;var i=0;return i=bD,(uD[t+344>>0]|0)==0?(fD[e>>2]=3,fD[e+4>>2]=3,void(bD=i)):(fD[e>>2]=0,fD[e+4>>2]=0,void(bD=i))}function eb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0;return i=bD,l=fD[t+28>>2]|0,c=fD[t+32>>2]|0,r=fD[e+8>>2]|0,gD[r>>2]=1,a=fD[e+24>>2]|0,gD[r+(a+1<<2)>>2]=1,gD[r+((a<<1)+2<<2)>>2]=1,h=+gD[t+300>>2],_=+gD[t+304>>2],n=+gD[t+308>>2],p=+gD[l+4>>2]*h+ +gD[l+8>>2]*_+ +gD[l+12>>2]*n,d=h*+gD[l+20>>2]+_*+gD[l+24>>2]+n*+gD[l+28>>2],n=h*+gD[l+36>>2]+_*+gD[l+40>>2]+n*+gD[l+44>>2],r=fD[e+12>>2]|0,gD[r>>2]=0,gD[r+4>>2]=n,gD[r+8>>2]=-d,gD[r+12>>2]=0,gD[r+(a<<2)>>2]=-n,gD[r+(a+1<<2)>>2]=0,gD[r+(a+2<<2)>>2]=p,gD[r+(a+3<<2)>>2]=0,gD[r+(a<<1<<2)>>2]=d,gD[r+((a<<1|1)<<2)>>2]=-p,gD[r+((a<<1)+2<<2)>>2]=0,gD[r+((a<<1)+3<<2)>>2]=0,r=fD[e+16>>2]|0,gD[r>>2]=-1,gD[r+(a+1<<2)>>2]=-1,gD[r+((a<<1)+2<<2)>>2]=-1,_=+gD[t+316>>2],h=+gD[t+320>>2],o=+gD[t+324>>2],f=+gD[c+4>>2]*_+ +gD[c+8>>2]*h+ +gD[c+12>>2]*o,u=_*+gD[c+20>>2]+h*+gD[c+24>>2]+o*+gD[c+28>>2],o=_*+gD[c+36>>2]+h*+gD[c+40>>2]+o*+gD[c+44>>2],r=fD[e+20>>2]|0,gD[r>>2]=0,gD[r+4>>2]=-o,gD[r+8>>2]=u,gD[r+12>>2]=0,gD[r+(a<<2)>>2]=o,gD[r+(a+1<<2)>>2]=0,gD[r+(a+2<<2)>>2]=-f,gD[r+(a+3<<2)>>2]=0,gD[r+(a<<1<<2)>>2]=-u,gD[r+((a<<1|1)<<2)>>2]=f,gD[r+((a<<1)+2<<2)>>2]=0,gD[r+((a<<1)+3<<2)>>2]=0,a=fD[t+332>>2]|0,h=+gD[((a&1|0)==0?e+4|0:t+336|0)>>2]*+gD[e>>2],r=fD[e+24>>2]|0,s=fD[e+28>>2]|0,gD[s>>2]=h*(f+ +gD[c+52>>2]-p-+gD[l+52>>2]),gD[s+(r<<2)>>2]=h*(u+ +gD[c+56>>2]-d-+gD[l+56>>2]),gD[s+(r<<1<<2)>>2]=h*(o+ +gD[c+60>>2]-n-+gD[l+60>>2]),(a&2|0)!=0&&(c=fD[e+32>>2]|0,gD[c>>2]=+gD[t+340>>2],gD[c+(r<<2)>>2]=+gD[t+340>>2],gD[c+(r<<1<<2)>>2]=+gD[t+340>>2]),o=+gD[t+356>>2],o>0?(gD[fD[e+36>>2]>>2]=-o,gD[fD[e+40>>2]>>2]=o,n=+gD[t+356>>2]):n=o,n>0&&(gD[(fD[e+36>>2]|0)+(r<<2)>>2]=-o,gD[(fD[e+40>>2]|0)+(r<<2)>>2]=o,n=+gD[t+356>>2]),n>0?(gD[(fD[e+36>>2]|0)+(r<<1<<2)>>2]=-o,gD[(fD[e+40>>2]|0)+(r<<1<<2)>>2]=o,c=t+352|0,_=+gD[c>>2],c=e+52|0,gD[c>>2]=_,void(bD=i)):(c=t+352|0,_=+gD[c>>2],c=e+52|0,gD[c>>2]=_,void(bD=i))}function ib(t,e,i,r){t|=0,e|=0,i=+i,r|=0;var o=0;o=bD;do if((r|0)==-1){if((e|0)==2|(e|0)==1){gD[t+336>>2]=i,fD[t+332>>2]=fD[t+332>>2]|1;break}if((e|0)==4|(e|0)==3){gD[t+340>>2]=i,fD[t+332>>2]=fD[t+332>>2]|2;break}break}while(0);bD=o}function rb(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;r=bD;do{if((i|0)==-1){if((e|0)==2|(e|0)==1){o=+gD[t+336>>2];break}if((e|0)==4|(e|0)==3){o=+gD[t+340>>2];break}o=3.4028234663852886e38;break}o=3.4028234663852886e38}while(0);return bD=r,+o}function ob(t){t|=0}function nb(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function ab(t){return t|=0,84}function sb(t,e,i){t|=0,e|=0,i|=0;var r=0;return r=bD,ju(t,e,i)|0,gD[e+52>>2]=+gD[t+300>>2],gD[e+56>>2]=+gD[t+304>>2],gD[e+60>>2]=+gD[t+308>>2],gD[e+64>>2]=+gD[t+312>>2],gD[e+68>>2]=+gD[t+316>>2],gD[e+72>>2]=+gD[t+320>>2],gD[e+76>>2]=+gD[t+324>>2],gD[e+80>>2]=+gD[t+328>>2],bD=r,3080}function lb(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=3912,i=fD[t+496>>2]|0,(i|0)!=0&&((uD[t+500>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+496>>2]=0),uD[t+500>>0]=1,fD[t+496>>2]=0,fD[t+488>>2]=0,fD[t+492>>2]=0,bD=e}function cb(t){t|=0;var e=0;e=bD,hb(t),Cw(t),bD=e}function hb(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=3752,i=fD[t+144>>2]|0,(i|0)!=0&&((uD[t+148>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+144>>2]=0),uD[t+148>>0]=1,fD[t+144>>2]=0,fD[t+136>>2]=0,fD[t+140>>2]=0,i=fD[t+76>>2]|0,(i|0)!=0&&((uD[t+80>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+76>>2]=0),uD[t+80>>0]=1,fD[t+76>>2]=0,fD[t+68>>2]=0,fD[t+72>>2]=0,i=fD[t+56>>2]|0,(i|0)!=0&&((uD[t+60>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+56>>2]=0),uD[t+60>>0]=1,fD[t+56>>2]=0,fD[t+48>>2]=0,fD[t+52>>2]=0,i=fD[t+36>>2]|0,(i|0)!=0&&((uD[t+40>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+36>>2]=0),uD[t+40>>0]=1,fD[t+36>>2]=0,fD[t+28>>2]=0,fD[t+32>>2]=0,i=fD[t+16>>2]|0,(i|0)==0?(uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,i=t+12|0,fD[i>>2]=0,void(bD=e)):((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+16>>2]=0,uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,i=t+12|0,fD[i>>2]=0,void(bD=e))}function db(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0;r=bD,bD=bD+64|0,uD[e+84>>0]=0,fD[r+0>>2]=fD[t+4>>2],fD[r+4>>2]=fD[t+8>>2],fD[r+8>>2]=fD[t+12>>2],fD[r+12>>2]=fD[t+16>>2],fD[r+16>>2]=fD[t+20>>2],fD[r+20>>2]=fD[t+24>>2],fD[r+24>>2]=fD[t+28>>2],fD[r+28>>2]=fD[t+32>>2],fD[r+32>>2]=fD[t+36>>2],fD[r+36>>2]=fD[t+40>>2],fD[r+40>>2]=fD[t+44>>2],fD[r+44>>2]=fD[t+48>>2],fD[r+48>>2]=fD[t+52>>2],fD[r+52>>2]=fD[t+56>>2],fD[r+56>>2]=fD[t+60>>2],fD[r+60>>2]=fD[t+64>>2],(i?(o=fD[t+480>>2]|0,(o|0)!=0):0)&&aP[fD[(fD[o>>2]|0)+8>>2]&127](o,r),y=+gD[e+156>>2],m=+gD[r>>2],g=+gD[e+160>>2],_=+gD[r+4>>2],h=+gD[e+164>>2],f=+gD[r+8>>2],p=+gD[r+16>>2],u=+gD[r+20>>2],d=+gD[r+24>>2],c=+gD[r+32>>2],s=+gD[r+36>>2],n=+gD[r+40>>2],l=y*p+g*u+h*d+ +gD[r+52>>2],a=y*c+g*s+h*n+ +gD[r+56>>2],gD[e+36>>2]=y*m+g*_+h*f+ +gD[r+48>>2],gD[e+40>>2]=l,gD[e+44>>2]=a,gD[e+48>>2]=0,a=+gD[e+172>>2],l=+gD[e+176>>2],h=+gD[e+180>>2],gD[e+52>>2]=m*a+_*l+f*h,gD[e+56>>2]=a*p+l*u+h*d,gD[e+60>>2]=a*c+l*s+h*n,gD[e+64>>2]=0,h=+gD[e+188>>2],l=+gD[e+192>>2],a=+gD[e+196>>2],gD[e+68>>2]=m*h+_*l+f*a,gD[e+72>>2]=h*p+l*u+a*d,gD[e+76>>2]=h*c+l*s+a*n,gD[e+80>>2]=0,bD=r}function ub(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0;o=bD,db(t,e+(i*284|0)|0,r),u=+gD[e+(i*284|0)+52>>2],s=+gD[e+(i*284|0)+56>>2],m=+gD[e+(i*284|0)+60>>2],B=+gD[e+(i*284|0)+76>>2],E=+gD[e+(i*284|0)+72>>2],T=+gD[e+(i*284|0)+68>>2],S=1/+CD(+((E*-u-T*-s)*(E*-u-T*-s)+((B*-s-E*-m)*(B*-s-E*-m)+(T*-m-B*-u)*(T*-m-B*-u)))),M=(B*-s-E*-m)*S,v=S*(T*-m-B*-u),S*=E*-u-T*-s,n=+gD[e+(i*284|0)+232>>2]*.5,h=+RD(+n)/+CD(+(u*u+s*s+m*m)),n=+wD(+n),d=2/(n*n+(h*-m*h*-m+(h*-u*h*-u+h*-s*h*-s))),D=1-(h*-s*h*-s*d+h*-m*h*-m*d),R=h*-u*h*-s*d-n*h*-m*d,P=h*-u*h*-m*d+n*h*-s*d,A=h*-u*h*-s*d+n*h*-m*d,C=1-(h*-u*h*-u*d+h*-m*h*-m*d),w=h*-s*h*-m*d-n*h*-u*d,c=h*-u*h*-m*d-n*h*-s*d,n=h*-s*h*-m*d+n*h*-u*d,d=1-(h*-u*h*-u*d+h*-s*h*-s*d),h=+gD[e+(i*284|0)+236>>2]*-.5,x=+RD(+h)/+CD(+(B*B+(E*E+T*T))),h=+wD(+h),g=2/(h*h+(B*x*B*x+(T*x*T*x+E*x*E*x))),p=1-(E*x*E*x*g+B*x*B*x*g),l=T*x*E*x*g-h*B*x*g,b=T*x*B*x*g+h*E*x*g,f=T*x*E*x*g+h*B*x*g,a=1-(T*x*T*x*g+B*x*B*x*g),y=E*x*B*x*g-h*T*x*g,_=T*x*B*x*g-h*E*x*g,h=E*x*B*x*g+h*T*x*g,g=1-(T*x*T*x*g+E*x*E*x*g),x=+gD[e+(i*284|0)+72>>2],E=+gD[e+(i*284|0)+76>>2],gD[e+(i*284|0)+92>>2]=E*(D*b+R*y+P*g)+(T*(P*_+(R*f+D*p))+x*(P*h+(D*l+R*a))),gD[e+(i*284|0)+96>>2]=S*(D*b+R*y+P*g)+(M*(P*_+(R*f+D*p))+v*(P*h+(D*l+R*a))),gD[e+(i*284|0)+100>>2]=(D*b+R*y+P*g)*-m+((P*_+(R*f+D*p))*-u+(P*h+(D*l+R*a))*-s),gD[e+(i*284|0)+104>>2]=0,gD[e+(i*284|0)+108>>2]=E*(A*b+C*y+w*g)+(T*(w*_+(C*f+A*p))+x*(w*h+(A*l+C*a))),gD[e+(i*284|0)+112>>2]=S*(A*b+C*y+w*g)+(M*(w*_+(C*f+A*p))+v*(w*h+(A*l+C*a))),gD[e+(i*284|0)+116>>2]=(A*b+C*y+w*g)*-m+((w*_+(C*f+A*p))*-u+(w*h+(A*l+C*a))*-s),gD[e+(i*284|0)+120>>2]=0,gD[e+(i*284|0)+124>>2]=E*(c*b+n*y+d*g)+(T*(d*_+(n*f+c*p))+x*(d*h+(c*l+n*a))),gD[e+(i*284|0)+128>>2]=S*(c*b+n*y+d*g)+(M*(d*_+(n*f+c*p))+v*(d*h+(c*l+n*a))),gD[e+(i*284|0)+132>>2]=(c*b+n*y+d*g)*-m+((d*_+(n*f+c*p))*-u+(d*h+(c*l+n*a))*-s),gD[e+(i*284|0)+136>>2]=0,s=+gD[e+(i*284|0)+32>>2],a=s*+gD[e+(i*284|0)+56>>2]+ +gD[e+(i*284|0)+40>>2],n=s*+gD[e+(i*284|0)+60>>2]+ +gD[e+(i*284|0)+44>>2],gD[e+(i*284|0)+140>>2]=+gD[e+(i*284|0)+52>>2]*s+ +gD[e+(i*284|0)+36>>2],gD[e+(i*284|0)+144>>2]=a,gD[e+(i*284|0)+148>>2]=n,gD[e+(i*284|0)+152>>2]=0,bD=o}function pb(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0;if(i=bD,bD=bD+112|0,o=fD[t+136>>2]|0,(o|0)>0){r=0;do ub(fD[t+116>>2]|0,fD[t+144>>2]|0,r,0),r=r+1|0,o=fD[t+136>>2]|0;while((r|0)<(o|0));r=t+116|0}else r=t+116|0;a=fD[r>>2]|0,T=+gD[a+312>>2],E=+gD[a+316>>2],p=+gD[a+320>>2],p=+CD(+(T*T+E*E+p*p))*3.5999999046325684,gD[t+112>>2]=p,v=fD[t+128>>2]|0,+gD[a+(v<<2)+4>>2]*+gD[a+312>>2]+ +gD[a+(v<<2)+20>>2]*+gD[a+316>>2]+ +gD[a+(v<<2)+36>>2]*+gD[a+320>>2]<0&&(gD[t+112>>2]=p*-1);t:do if((o|0)>0){o=0;do{n=fD[t+144>>2]|0,u=n+(o*284|0)|0,db(a,u,0),m=n+(o*284|0)+204|0,v=n+(o*284|0)+212|0,p=+gD[m>>2]+ +gD[v>>2],c=n+(o*284|0)+52|0,h=n+(o*284|0)+56|0,d=n+(o*284|0)+60|0,C=n+(o*284|0)+36|0,l=n+(o*284|0)+16|0,T=p*+gD[h>>2]+ +gD[n+(o*284|0)+40>>2],E=p*+gD[d>>2]+ +gD[n+(o*284|0)+44>>2],gD[n+(o*284|0)+16>>2]=+gD[c>>2]*p+ +gD[C>>2],s=n+(o*284|0)+20|0,gD[s>>2]=T,a=n+(o*284|0)+24|0,gD[a>>2]=E,gD[n+(o*284|0)+28>>2]=0,gD[i+64>>2]=-1,b=fD[t+100>>2]|0,C=uP[fD[(fD[b>>2]|0)+8>>2]&31](b,C,l,i+32|0)|0,b=n+(o*284|0)+88|0,fD[b>>2]=0;do{if((C|0)!=0){if(p*=+gD[i+64>>2],fD[u+0>>2]=fD[i+48>>2],fD[u+4>>2]=fD[i+52>>2],fD[u+8>>2]=fD[i+56>>2],fD[u+12>>2]=fD[i+60>>2],uD[n+(o*284|0)+84>>0]=1,((uD[3736]|0)==0?(HD(3736)|0)!=0:0)&&(fD[i+88>>2]=0,fD[i+92>>2]=0,fD[i+96>>2]=0,fD[i+100>>2]=0,Tb(3120,0,0,0,i+88|0),JD(3736)),fD[i+72>>2]=0,fD[i+76>>2]=0,fD[i+80>>2]=0,fD[i+84>>2]=0,Eb(3120,0,i+72|0),fD[b>>2]=3120,_=p-+gD[v>>2],b=n+(o*284|0)+32|0,gD[b>>2]=_,p=+gD[m>>2],f=+gD[n+(o*284|0)+208>>2]*.009999999776482582,_<p-f&&(gD[b>>2]=p-f,_=p-f),_>p+f&&(gD[b>>2]=p+f),fD[l+0>>2]=fD[i+32>>2],fD[l+4>>2]=fD[i+36>>2],fD[l+8>>2]=fD[i+40>>2],fD[l+12>>2]=fD[i+44>>2],f=+gD[u>>2],p=+gD[n+(o*284|0)+4>>2],_=+gD[n+(o*284|0)+8>>2],g=f*+gD[c>>2]+p*+gD[h>>2]+_*+gD[d>>2],c=fD[r>>2]|0,y=+gD[l>>2]-+gD[c+52>>2],M=+gD[s>>2]-+gD[c+56>>2],T=+gD[a>>2]-+gD[c+60>>2],E=+gD[c+332>>2],S=+gD[c+336>>2],x=+gD[c+328>>2],g>=-.10000000149011612){gD[n+(o*284|0)+272>>2]=0,gD[n+(o*284|0)+268>>2]=10;break}gD[n+(o*284|0)+272>>2]=-1/g*(p*(y*S-T*x+ +gD[c+316>>2])+f*(E*T-M*S+ +gD[c+312>>2])+_*(M*x-y*E+ +gD[c+320>>2])),gD[n+(o*284|0)+268>>2]=-1/g;break}gD[n+(o*284|0)+32>>2]=+gD[m>>2],gD[n+(o*284|0)+272>>2]=0,T=-+gD[h>>2],E=-+gD[d>>2],gD[u>>2]=-+gD[c>>2],gD[n+(o*284|0)+4>>2]=T,gD[n+(o*284|0)+8>>2]=E,gD[n+(o*284|0)+12>>2]=0,gD[n+(o*284|0)+268>>2]=1}while(0);o=o+1|0,n=fD[t+136>>2]|0,a=fD[r>>2]|0}while((o|0)<(n|0));if(p=1/+gD[a+344>>2],(n|0)>0){l=fD[t+144>>2]|0,s=0;do(uD[l+(s*284|0)+84>>0]|0)!=0?(E=+gD[l+(s*284|0)+272>>2],E=p*(+gD[l+(s*284|0)+216>>2]*(+gD[l+(s*284|0)+204>>2]-+gD[l+(s*284|0)+32>>2])*+gD[l+(s*284|0)+268>>2]-E*+gD[(E<0?l+(s*284|0)+220|0:l+(s*284|0)+224|0)>>2]),o=l+(s*284|0)+276|0,gD[o>>2]=E,E<0&&(gD[o>>2]=0)):gD[l+(s*284|0)+276>>2]=0,s=s+1|0;while((s|0)<(n|0));for(o=0;;){if(x=+gD[l+(o*284|0)+276>>2],E=+gD[l+(o*284|0)+248>>2],x=x>E?E:x,E=x*+gD[l+(o*284|0)+4>>2]*e,T=x*+gD[l+(o*284|0)+8>>2]*e,gD[i+16>>2]=+gD[l+(o*284|0)>>2]*x*e,gD[i+20>>2]=E,gD[i+24>>2]=T,gD[i+28>>2]=0,T=+gD[l+(o*284|0)+20>>2]-+gD[a+56>>2],E=+gD[l+(o*284|0)+24>>2]-+gD[a+60>>2],gD[i>>2]=+gD[l+(o*284|0)+16>>2]-+gD[a+52>>2],gD[i+4>>2]=T,gD[i+8>>2]=E,gD[i+12>>2]=0,Kc(a,i+16|0,i),o=o+1|0,(o|0)>=(fD[t+136>>2]|0))break t;l=fD[t+144>>2]|0,a=fD[r>>2]|0}}}while(0);if(rP[fD[(fD[t>>2]|0)+20>>2]&31](t,e),o=fD[t+136>>2]|0,(o|0)<=0)return void(bD=i);n=fD[t+144>>2]|0,r=fD[r>>2]|0,a=0;do _=+gD[n+(a*284|0)+36>>2]-+gD[r+52>>2],f=+gD[n+(a*284|0)+40>>2]-+gD[r+56>>2],y=+gD[n+(a*284|0)+44>>2]-+gD[r+60>>2],p=+gD[r+332>>2],g=+gD[r+336>>2],M=+gD[r+328>>2],(uD[n+(a*284|0)+84>>0]|0)==0?(p=+gD[n+(a*284|0)+240>>2],C=n+(a*284|0)+236|0,gD[C>>2]=p+ +gD[C>>2]):(C=fD[t+128>>2]|0,w=+gD[r+(C<<2)+4>>2],S=+gD[r+(C<<2)+20>>2],T=+gD[r+(C<<2)+36>>2],A=+gD[n+(a*284|0)>>2],x=+gD[n+(a*284|0)+4>>2],E=+gD[n+(a*284|0)+8>>2],p=((f*M-_*p+ +gD[r+320>>2])*(T-E*(w*A+S*x+T*E))+((p*y-f*g+ +gD[r+312>>2])*(w-A*(w*A+S*x+T*E))+(_*g-y*M+ +gD[r+316>>2])*(S-x*(w*A+S*x+T*E))))*e/+gD[n+(a*284|0)+212>>2],gD[n+(a*284|0)+240>>2]=p,C=n+(a*284|0)+236|0,gD[C>>2]=p+ +gD[C>>2]),gD[n+(a*284|0)+240>>2]=p*.9900000095367432,a=a+1|0;while((a|0)<(o|0));bD=i}function fb(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0;if(i=bD,bD=bD+384|0,n=fD[t+136>>2]|0,(n|0)==0)return void(bD=i);if(a=fD[t+8>>2]|0,(a|0)<(n|0)){if((fD[t+12>>2]|0)<(n|0)){if(fD[5004]=(fD[5004]|0)+1,s=Ew((n<<4|3)+16|0)|0,(s|0)==0?s=0:(fD[(s+19&-16)+-4>>2]=s,s=s+19&-16),l=fD[t+8>>2]|0,(l|0)>0){c=0;do f=s+(c<<4)|0,u=(fD[t+16>>2]|0)+(c<<4)|0,fD[f+0>>2]=fD[u+0>>2],fD[f+4>>2]=fD[u+4>>2],fD[f+8>>2]=fD[u+8>>2],fD[f+12>>2]=fD[u+12>>2],c=c+1|0;while((c|0)!=(l|0))}l=fD[t+16>>2]|0,(l|0)!=0&&((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[l+-4>>2]|0)),fD[t+16>>2]=0),uD[t+20>>0]=1,fD[t+16>>2]=s,fD[t+12>>2]=n,s=t+16|0}else s=t+16|0;do f=(fD[s>>2]|0)+(a<<4)|0,fD[f+0>>2]=fD[i+144>>2],fD[f+4>>2]=fD[i+148>>2],fD[f+8>>2]=fD[i+152>>2],fD[f+12>>2]=fD[i+156>>2],a=a+1|0;while((a|0)!=(n|0))}if(fD[t+8>>2]=n,a=fD[t+28>>2]|0,(a|0)<(n|0)){if((fD[t+32>>2]|0)<(n|0)){if(fD[5004]=(fD[5004]|0)+1,s=Ew((n<<4|3)+16|0)|0,(s|0)==0?s=0:(fD[(s+19&-16)+-4>>2]=s,s=s+19&-16),c=fD[t+28>>2]|0,(c|0)>0){l=0;do f=s+(l<<4)|0,u=(fD[t+36>>2]|0)+(l<<4)|0,fD[f+0>>2]=fD[u+0>>2],fD[f+4>>2]=fD[u+4>>2],fD[f+8>>2]=fD[u+8>>2],fD[f+12>>2]=fD[u+12>>2],l=l+1|0;while((l|0)!=(c|0))}l=fD[t+36>>2]|0,(l|0)!=0&&((uD[t+40>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[l+-4>>2]|0)),fD[t+36>>2]=0),uD[t+40>>0]=1,fD[t+36>>2]=s,fD[t+32>>2]=n,s=t+36|0}else s=t+36|0;do f=(fD[s>>2]|0)+(a<<4)|0,fD[f+0>>2]=fD[i+128>>2],fD[f+4>>2]=fD[i+132>>2],fD[f+8>>2]=fD[i+136>>2],fD[f+12>>2]=fD[i+140>>2],a=a+1|0;while((a|0)!=(n|0))}if(fD[t+28>>2]=n,a=fD[t+48>>2]|0,(a|0)<(n|0)){if((fD[t+52>>2]|0)<(n|0)){if(fD[5004]=(fD[5004]|0)+1,s=Ew((n<<2|3)+16|0)|0,(s|0)==0?s=0:(fD[(s+19&-16)+-4>>2]=s,s=s+19&-16),l=fD[t+48>>2]|0,(l|0)>0){c=0;do h=s+(c<<2)|0,(h|0)!=0&&(gD[h>>2]=+gD[(fD[t+56>>2]|0)+(c<<2)>>2]),c=c+1|0;while((c|0)!=(l|0))}l=fD[t+56>>2]|0,(l|0)!=0&&((uD[t+60>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[l+-4>>2]|0)),fD[t+56>>2]=0),uD[t+60>>0]=1,fD[t+56>>2]=s,fD[t+52>>2]=n}else s=fD[t+56>>2]|0;do l=s+(a<<2)|0,(l|0)!=0&&(gD[l>>2]=0),a=a+1|0;while((a|0)!=(n|0))}if(fD[t+48>>2]=n,a=fD[t+68>>2]|0,(a|0)<(n|0)){if((fD[t+72>>2]|0)<(n|0)){if(fD[5004]=(fD[5004]|0)+1,s=Ew((n<<2|3)+16|0)|0,(s|0)==0?s=0:(fD[(s+19&-16)+-4>>2]=s,s=s+19&-16),c=fD[t+68>>2]|0,(c|0)>0){l=0;do h=s+(l<<2)|0,(h|0)!=0&&(gD[h>>2]=+gD[(fD[t+76>>2]|0)+(l<<2)>>2]),l=l+1|0;while((l|0)!=(c|0))}l=fD[t+76>>2]|0,(l|0)!=0&&((uD[t+80>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[l+-4>>2]|0)),fD[t+76>>2]=0),uD[t+80>>0]=1,fD[t+76>>2]=s,fD[t+72>>2]=n}else s=fD[t+76>>2]|0;do l=s+(a<<2)|0,(l|0)!=0&&(gD[l>>2]=0),a=a+1|0;while((a|0)!=(n|0))}if(fD[t+68>>2]=n,l=fD[t+136>>2]|0,(l|0)<=0)return void(bD=i);a=fD[t+76>>2]|0,s=fD[t+56>>2]|0,n=0;do gD[a+(n<<2)>>2]=0,gD[s+(n<<2)>>2]=0,n=n+1|0;while((n|0)<(l|0));n=0;do a=fD[t+144>>2]|0,s=fD[a+(n*284|0)+88>>2]|0,(s|0)!=0&&(l=a+(n*284|0)+92|0,fD[i+80>>2]=fD[l+0>>2],fD[i+84>>2]=fD[l+4>>2],fD[i+88>>2]=fD[l+8>>2],fD[i+92>>2]=fD[l+12>>2],l=a+(n*284|0)+108|0,fD[i+96>>2]=fD[l+0>>2],fD[i+100>>2]=fD[l+4>>2],fD[i+104>>2]=fD[l+8>>2],fD[i+108>>2]=fD[l+12>>2],l=a+(n*284|0)+124|0,fD[i+112>>2]=fD[l+0>>2],fD[i+116>>2]=fD[l+4>>2],fD[i+120>>2]=fD[l+8>>2],fD[i+124>>2]=fD[l+12>>2],l=fD[t+36>>2]|0,v=fD[t+120>>2]|0,d=+gD[i+80+(v<<2)+16>>2],M=+gD[i+80+(v<<2)+32>>2],gD[l+(n<<4)>>2]=+gD[i+80+(v<<2)>>2],gD[l+(n<<4)+4>>2]=d,gD[l+(n<<4)+8>>2]=M,gD[l+(n<<4)+12>>2]=0,l=fD[t+36>>2]|0,v=l+(n<<4)|0,M=+gD[v>>2],c=a+(n*284|0)|0,d=+gD[c>>2],h=l+(n<<4)+4|0,b=+gD[h>>2],f=a+(n*284|0)+4|0,p=+gD[f>>2],l=l+(n<<4)+8|0,m=+gD[l>>2],u=a+(n*284|0)+8|0,y=+gD[u>>2],_=M-d*(M*d+b*p+m*y),g=b-p*(M*d+b*p+m*y),y=m-y*(M*d+b*p+m*y),m=1/+CD(+(_*_+g*g+y*y)),gD[v>>2]=_*m,gD[h>>2]=g*m,gD[l>>2]=y*m,l=fD[t+16>>2]|0,p=+gD[f>>2],b=+gD[u>>2],d=+gD[c>>2],gD[l+(n<<4)>>2]=p*y*m-b*g*m,gD[l+(n<<4)+4>>2]=b*_*m-y*m*d,gD[l+(n<<4)+8>>2]=g*m*d-p*_*m,gD[l+(n<<4)+12>>2]=0,l=fD[t+16>>2]|0,c=l+(n<<4)|0,m=+gD[c>>2],u=l+(n<<4)+4|0,_=+gD[u>>2],l=l+(n<<4)+8|0,p=+gD[l>>2],d=1/+CD(+(m*m+_*_+p*p)),gD[c>>2]=m*d,gD[u>>2]=_*d,gD[l>>2]=p*d,l=fD[t+116>>2]|0,u=fD[t+36>>2]|0,c=u+(n<<4)|0,f=(fD[t+76>>2]|0)+(n<<2)|0,d=+gD[c>>2],h=u+(n<<4)+4|0,p=+gD[h>>2],u=u+(n<<4)+8|0,_=+gD[u>>2],d*d+p*p+_*_>1.100000023841858?gD[f>>2]=0:(M=+gD[a+(n*284|0)+16>>2],p=M-+gD[l+52>>2],_=+gD[a+(n*284|0)+20>>2],x=_-+gD[l+56>>2],b=+gD[a+(n*284|0)+24>>2],E=b-+gD[l+60>>2],gD[i+360>>2]=p,gD[i+364>>2]=x,gD[i+368>>2]=E,gD[i+372>>2]=0,M-=+gD[s+52>>2],_-=+gD[s+56>>2],b-=+gD[s+60>>2],gD[i+344>>2]=M,gD[i+348>>2]=_,gD[i+352>>2]=b,gD[i+356>>2]=0,d=+gD[l+332>>2],C=+gD[l+336>>2],S=+gD[l+328>>2],g=+gD[s+332>>2],T=+gD[s+336>>2],m=+gD[s+328>>2],y=d*E-C*x+ +gD[l+312>>2]-(g*b-T*_+ +gD[s+312>>2]),b=+gD[l+316>>2]+(C*p-E*S)-(+gD[s+316>>2]+(T*M-b*m)),M=x*S-d*p+ +gD[l+320>>2]-(_*m-g*M+ +gD[s+320>>2]),gD[i+208>>2]=+gD[l+4>>2],gD[i+212>>2]=+gD[l+20>>2],gD[i+216>>2]=+gD[l+36>>2],gD[i+220>>2]=0,gD[i+224>>2]=+gD[l+8>>2],gD[i+228>>2]=+gD[l+24>>2],gD[i+232>>2]=+gD[l+40>>2],gD[i+236>>2]=0,gD[i+240>>2]=+gD[l+12>>2],gD[i+244>>2]=+gD[l+28>>2],gD[i+248>>2]=+gD[l+44>>2],gD[i+252>>2]=0,gD[i+160>>2]=+gD[s+4>>2],gD[i+164>>2]=+gD[s+20>>2],gD[i+168>>2]=+gD[s+36>>2],gD[i+172>>2]=0,gD[i+176>>2]=+gD[s+8>>2],gD[i+180>>2]=+gD[s+24>>2],gD[i+184>>2]=+gD[s+40>>2],gD[i+188>>2]=0,gD[i+192>>2]=+gD[s+12>>2],gD[i+196>>2]=+gD[s+28>>2],gD[i+200>>2]=+gD[s+44>>2],gD[i+204>>2]=0,nu(i+256|0,i+208|0,i+160|0,i+360|0,i+344|0,c,l+396|0,+gD[l+344>>2],s+396|0,+gD[s+344>>2]),gD[f>>2]=1/+gD[i+336>>2]*(y*+gD[c>>2]+b*+gD[h>>2]+M*+gD[u>>2])*-.20000000298023224),l=fD[t+136>>2]|0),n=n+1|0;while((n|0)<(l|0));if((l|0)<=0)return void(bD=i);for(h=fD[t+144>>2]|0,a=0,n=0;;){if(s=fD[h+(n*284|0)+88>>2]|0,(s|0)!=0?(d=+gD[h+(n*284|0)+252>>2],d!=0?(s=fD[t+56>>2]|0,u=s+(n<<2)|0,gD[u>>2]=0,c=h+(n*284|0)+280|0,gD[c>>2]=1,l=h,p=d*e):(C=+gD[h+(n*284|0)+256>>2],C=C!=0?C:0,l=fD[t+116>>2]|0,u=fD[t+16>>2]|0,b=+gD[h+(n*284|0)+16>>2],g=+gD[h+(n*284|0)+20>>2],A=+gD[h+(n*284|0)+24>>2],R=+gD[u+(n<<4)>>2],m=+gD[u+(n<<4)+4>>2],p=+gD[u+(n<<4)+8>>2],H=b-+gD[l+52>>2],I=g-+gD[l+56>>2],L=A-+gD[l+60>>2],V=+gD[l+264>>2]*(I*p-L*m)+ +gD[l+280>>2]*(L*R-H*p)+(H*m-I*R)*+gD[l+296>>2],O=(I*p-L*m)*+gD[l+268>>2]+(L*R-H*p)*+gD[l+284>>2]+(H*m-I*R)*+gD[l+300>>2],k=(I*p-L*m)*+gD[l+272>>2]+(L*R-H*p)*+gD[l+288>>2]+(H*m-I*R)*+gD[l+304>>2],T=b-+gD[s+52>>2],S=g-+gD[s+56>>2],_=A-+gD[s+60>>2],D=(m*T-R*S)*+gD[s+296>>2]+(+gD[s+264>>2]*(p*S-m*_)+ +gD[s+280>>2]*(R*_-p*T)),B=(p*S-m*_)*+gD[s+268>>2]+(R*_-p*T)*+gD[s+284>>2]+(m*T-R*S)*+gD[s+300>>2],P=(p*S-m*_)*+gD[s+272>>2]+(R*_-p*T)*+gD[s+288>>2]+(m*T-R*S)*+gD[s+304>>2],b-=+gD[l+52>>2],g-=+gD[l+56>>2],A-=+gD[l+60>>2],M=+gD[l+332>>2],w=+gD[l+336>>2],y=+gD[l+328>>2],E=+gD[s+332>>2],d=+gD[s+336>>2],x=+gD[s+328>>2],p=-(1/(+gD[l+344>>2]+(p*(I*V-H*O)+(R*(L*O-I*k)+m*(H*k-L*V)))+(+gD[s+344>>2]+(p*(S*D-T*B)+(R*(_*B-S*P)+m*(T*P-_*D)))))*((A*M-g*w+ +gD[l+312>>2]-(_*E-S*d+ +gD[s+312>>2]))*R+(+gD[l+316>>2]+(b*w-A*y)-(+gD[s+316>>2]+(T*d-_*x)))*m+(g*y-b*M+ +gD[l+320>>2]-(S*x-T*E+ +gD[s+320>>2]))*p)),p=C<p?C:p,l=fD[t+144>>2]|0,s=fD[t+56>>2]|0,u=s+(n<<2)|0,gD[u>>2]=0,c=l+(n*284|0)+280|0,gD[c>>2]=1,p=p<-C?-C:p),gD[c>>2]=1,d=+gD[h+(n*284|0)+276>>2]*e*+gD[h+(n*284|0)+228>>2],gD[u>>2]=p,p*=.5,_=+gD[(fD[t+76>>2]|0)+(n<<2)>>2],p*p+_*_>d*d&&(O=d/+CD(+(p*p+_*_)),gD[c>>2]=O*+gD[c>>2],a=1)):(s=fD[t+56>>2]|0,gD[s+(n<<2)>>2]=0,gD[h+(n*284|0)+280>>2]=1,l=h),n=n+1|0,c=fD[t+136>>2]|0,(n|0)>=(c|0))break;h=l}if(a){if((c|0)<=0)return void(bD=i);n=fD[t+76>>2]|0,a=0;do h=n+(a<<2)|0,(+gD[h>>2]!=0?(r=l+(a*284|0)+280|0,o=+gD[r>>2],o<1):0)&&(v=s+(a<<2)|0,gD[v>>2]=o*+gD[v>>2],gD[h>>2]=+gD[r>>2]*+gD[h>>2]),a=a+1|0;while((a|0)<(c|0))}if((c|0)<=0)return void(bD=i);for(c=0;;){if(h=fD[t+116>>2]|0,a=l+(c*284|0)+16|0,r=l+(c*284|0)+20|0,O=+gD[r>>2]-+gD[h+56>>2],n=l+(c*284|0)+24|0,o=+gD[n>>2]-+gD[h+60>>2],gD[i+64>>2]=+gD[a>>2]-+gD[h+52>>2],gD[i+68>>2]=O,gD[i+72>>2]=o,gD[i+76>>2]=0,o=+gD[s+(c<<2)>>2],o!=0&&(v=fD[t+16>>2]|0,I=o*+gD[v+(c<<4)+4>>2],O=o*+gD[v+(c<<4)+8>>2],gD[i+48>>2]=o*+gD[v+(c<<4)>>2],gD[i+52>>2]=I,gD[i+56>>2]=O,gD[i+60>>2]=0,Kc(h,i+48|0,i+64|0)),o=+gD[(fD[t+76>>2]|0)+(c<<2)>>2],o!=0&&(v=fD[(fD[t+144>>2]|0)+(c*284|0)+88>>2]|0,V=+gD[r>>2]-+gD[v+56>>2],k=+gD[n>>2]-+gD[v+60>>2],gD[i+32>>2]=+gD[a>>2]-+gD[v+52>>2],gD[i+36>>2]=V,gD[i+40>>2]=k,gD[i+44>>2]=0,f=fD[t+36>>2]|0,k=o*+gD[f+(c<<4)+4>>2],V=o*+gD[f+(c<<4)+8>>2],gD[i+16>>2]=+gD[f+(c<<4)>>2]*o,gD[i+20>>2]=k,gD[i+24>>2]=V,gD[i+28>>2]=0,f=fD[t+116>>2]|0,u=fD[t+124>>2]|0,V=+gD[f+(u<<2)+4>>2],k=+gD[f+(u<<2)+20>>2],O=+gD[f+(u<<2)+36>>2],B=+gD[i+64>>2],L=+gD[i+68>>2],H=+gD[i+72>>2],I=(V*B+k*L+O*H)*(1-+gD[l+(c*284|0)+244>>2]),gD[i+64>>2]=B-V*I,gD[i+68>>2]=L-k*I,gD[i+72>>2]=H-O*I,Kc(f,i+16|0,i+64|0),I=-+gD[i+20>>2],O=-+gD[i+24>>2],gD[i>>2]=-+gD[i+16>>2],gD[i+4>>2]=I,gD[i+8>>2]=O,gD[i+12>>2]=0,Kc(v,i,i+32|0)),c=c+1|0,(c|0)>=(fD[t+136>>2]|0))break;l=fD[t+144>>2]|0,s=fD[t+56>>2]|0}bD=i}function _b(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(i=bD,bD=bD+48|0,(fD[t+136>>2]|0)<=0)return void(bD=i);r=0;do l=fD[t+144>>2]|0,gD[i+32>>2]=(uD[l+(r*284|0)+84>>0]|0)==0?1:0,gD[i+36>>2]=0,gD[i+40>>2]=1,gD[i+44>>2]=0,s=l+(r*284|0)+140|0,fD[i+16>>2]=fD[s+0>>2],fD[i+20>>2]=fD[s+4>>2],fD[i+24>>2]=fD[s+8>>2],fD[i+28>>2]=fD[s+12>>2],s=fD[t+120>>2]|0,o=fD[(fD[e>>2]|0)+8>>2]|0,a=+gD[l+(r*284|0)+(s<<2)+108>>2]+ +gD[i+20>>2],n=+gD[l+(r*284|0)+(s<<2)+124>>2]+ +gD[i+24>>2],gD[i>>2]=+gD[l+(r*284|0)+(s<<2)+92>>2]+ +gD[i+16>>2],gD[i+4>>2]=a,gD[i+8>>2]=n,gD[i+12>>2]=0,GP[o&127](e,i+16|0,i,i+32|0),GP[fD[(fD[e>>2]|0)+8>>2]&127](e,i+16|0,(fD[t+144>>2]|0)+(r*284|0)+16|0,i+32|0),r=r+1|0;while((r|0)<(fD[t+136>>2]|0));bD=i}function mb(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0;return o=bD,bD=bD+96|0,gD[o+4>>2]=1,fD[o+8>>2]=0,pD[o+12>>1]=1,pD[o+14>>1]=-1,fD[o+16>>2]=0,fD[o>>2]=336,fD[o+20>>2]=fD[e+0>>2],fD[o+24>>2]=fD[e+4>>2],fD[o+28>>2]=fD[e+8>>2],fD[o+32>>2]=fD[e+12>>2],fD[o+36>>2]=fD[i+0>>2],fD[o+40>>2]=fD[i+4>>2],fD[o+44>>2]=fD[i+8>>2],fD[o+48>>2]=fD[i+12>>2],t=fD[t+4>>2]|0,GP[fD[(fD[t>>2]|0)+32>>2]&127](t,e,i,o),i=fD[o+8>>2]|0,(i|0)==0?(t=0,bD=o,t|0):(fD[i+236>>2]&2|0)==0?(t=0,bD=o,t|0):(fD[i+204>>2]&4|0)!=0?(t=0,bD=o,t|0):(fD[r+0>>2]=fD[o+68>>2],fD[r+4>>2]=fD[o+72>>2],fD[r+8>>2]=fD[o+76>>2],fD[r+12>>2]=fD[o+80>>2],fD[r+16>>2]=fD[o+52>>2],fD[r+20>>2]=fD[o+56>>2],fD[r+24>>2]=fD[o+60>>2],fD[r+28>>2]=fD[o+64>>2],l=+gD[r+16>>2],s=+gD[r+20>>2],a=+gD[r+24>>2],n=1/+CD(+(l*l+s*s+a*a)),gD[r+16>>2]=l*n,gD[r+20>>2]=s*n,gD[r+24>>2]=a*n,gD[r+32>>2]=+gD[o+4>>2],t=i,bD=o,t|0)}function gb(t,e,i){t|=0,e|=0,i=+i,e=bD,rP[fD[(fD[t>>2]|0)+16>>2]&31](t,i),bD=e}function yb(t,e,i,r){t|=0,e|=0,i|=0,r|=0,fD[t+120>>2]=e,fD[t+124>>2]=i,fD[t+128>>2]=r}function bb(t){t|=0}function vb(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function Mb(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=3912,i=fD[t+496>>2]|0,(i|0)==0?(uD[t+500>>0]=1,fD[t+496>>2]=0,fD[t+488>>2]=0,fD[t+492>>2]=0):((uD[t+500>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),uD[t+500>>0]=1,fD[t+496>>2]=0,fD[t+488>>2]=0,fD[t+492>>2]=0),fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),bD=e}function Sb(t,e){t|=0,e|=0,fD[t+260>>2]=(fD[t+260>>2]|0)+1,fD[t+192>>2]=e,fD[t+200>>2]=e}function xb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0;i=bD,fD[t+236>>2]=2,fD[t+312>>2]=0,fD[t+316>>2]=0,fD[t+320>>2]=0,fD[t+324>>2]=0,fD[t+328>>2]=0,fD[t+332>>2]=0,fD[t+336>>2]=0,fD[t+340>>2]=0,gD[t+544>>2]=1,gD[t+548>>2]=1,gD[t+552>>2]=1,gD[t+556>>2]=0,gD[t+348>>2]=1,gD[t+352>>2]=1,gD[t+356>>2]=1,s=t+360|0,a=s+36|0;do fD[s>>2]=0,s=s+4|0;while((s|0)<(a|0));fD[t+412>>2]=0,fD[t+416>>2]=0,fD[t+420>>2]=0,fD[t+424>>2]=0,fD[t+428>>2]=0,fD[t+432>>2]=0,fD[t+436>>2]=0,fD[t+440>>2]=0,o=+gD[e+92>>2],r=+gD[e+96>>2],o=o<0?0:o>1?1:o,gD[t+444>>2]=o,r=r<0?0:r>1?1:r,gD[t+448>>2]=r,gD[t+472>>2]=+gD[e+112>>2],gD[t+476>>2]=+gD[e+116>>2],a=fD[e+4>>2]|0,fD[t+480>>2]=a,fD[t+608>>2]=0,fD[t+612>>2]=0,uD[t+452>>0]=uD[e+120>>0]|0,gD[t+456>>2]=+gD[e+124>>2],gD[t+460>>2]=+gD[e+128>>2],gD[t+464>>2]=+gD[e+132>>2],gD[t+468>>2]=+gD[e+136>>2],(a|0)==0?(fD[t+4>>2]=fD[e+8>>2],fD[t+8>>2]=fD[e+12>>2],fD[t+12>>2]=fD[e+16>>2],fD[t+16>>2]=fD[e+20>>2],fD[t+20>>2]=fD[e+24>>2],fD[t+24>>2]=fD[e+28>>2],fD[t+28>>2]=fD[e+32>>2],fD[t+32>>2]=fD[e+36>>2],fD[t+36>>2]=fD[e+40>>2],fD[t+40>>2]=fD[e+44>>2],fD[t+44>>2]=fD[e+48>>2],fD[t+48>>2]=fD[e+52>>2],fD[t+52>>2]=fD[e+56>>2],fD[t+56>>2]=fD[e+60>>2],fD[t+60>>2]=fD[e+64>>2],fD[t+64>>2]=fD[e+68>>2],c=t+52|0,l=t+20|0,a=t+36|0,s=t+4|0):(aP[fD[(fD[a>>2]|0)+8>>2]&127](a,t+4|0),c=t+52|0,l=t+20|0,a=t+36|0,s=t+4|0),fD[t+68>>2]=fD[s+0>>2],fD[t+72>>2]=fD[s+4>>2],fD[t+76>>2]=fD[s+8>>2],fD[t+80>>2]=fD[s+12>>2],fD[t+84>>2]=fD[l+0>>2],fD[t+88>>2]=fD[l+4>>2],fD[t+92>>2]=fD[l+8>>2],fD[t+96>>2]=fD[l+12>>2],fD[t+100>>2]=fD[a+0>>2],fD[t+104>>2]=fD[a+4>>2],fD[t+108>>2]=fD[a+8>>2],fD[t+112>>2]=fD[a+12>>2],fD[t+116>>2]=fD[c+0>>2],fD[t+120>>2]=fD[c+4>>2],fD[t+124>>2]=fD[c+8>>2],fD[t+128>>2]=fD[c+12>>2],fD[t+132>>2]=0,fD[t+136>>2]=0,fD[t+140>>2]=0,fD[t+144>>2]=0,fD[t+148>>2]=0,fD[t+152>>2]=0,fD[t+156>>2]=0,fD[t+160>>2]=0,gD[t+224>>2]=+gD[e+100>>2],gD[t+232>>2]=+gD[e+104>>2],gD[t+228>>2]=+gD[e+108>>2],aP[fD[(fD[t>>2]|0)+12>>2]&127](t,fD[e+72>>2]|0),a=fD[986]|0,fD[986]=a+1,fD[t+508>>2]=a,o=+gD[e>>2],a=fD[t+204>>2]|0,o==0?(fD[t+204>>2]=a|1,gD[t+344>>2]=0,r=0):(fD[t+204>>2]=a&-2,gD[t+344>>2]=1/o,r=1/o),n=o*+gD[t+384>>2],h=o*+gD[t+388>>2],gD[t+364>>2]=o*+gD[t+380>>2],gD[t+368>>2]=n,gD[t+372>>2]=h,gD[t+376>>2]=0,o=+gD[e+76>>2],o=o!=0?1/o:0,n=+gD[e+80>>2],n=n!=0?1/n:0,h=+gD[e+84>>2],h=h!=0?1/h:0,gD[t+396>>2]=o,gD[t+400>>2]=n,gD[t+404>>2]=h,gD[t+408>>2]=0,E=r*+gD[t+352>>2],b=r*+gD[t+356>>2],gD[t+560>>2]=r*+gD[t+348>>2],gD[t+564>>2]=E,gD[t+568>>2]=b,gD[t+572>>2]=0,b=+gD[t+4>>2],E=b*o,y=+gD[t+8>>2],T=y*n,g=+gD[t+12>>2],x=g*h,m=+gD[t+20>>2],S=o*m,_=+gD[t+24>>2],M=n*_,f=+gD[t+28>>2],v=h*f,p=+gD[t+36>>2],u=o*p,d=+gD[t+40>>2],r=n*d,n=+gD[t+44>>2],o=h*n,gD[t+264>>2]=b*E+y*T+g*x,gD[t+268>>2]=E*m+T*_+x*f,gD[t+272>>2]=E*p+T*d+x*n,gD[t+276>>2]=0,gD[t+280>>2]=b*S+y*M+g*v,gD[t+284>>2]=m*S+_*M+f*v,gD[t+288>>2]=S*p+M*d+v*n,gD[t+292>>2]=0,gD[t+296>>2]=b*u+y*r+g*o,gD[t+300>>2]=m*u+_*r+f*o,gD[t+304>>2]=p*u+d*r+n*o,gD[t+308>>2]=0,fD[t+504>>2]=0,fD[t+512>>2]=0,fD[t+516>>2]=0,fD[t+520>>2]=0,fD[t+524>>2]=0,fD[t+528>>2]=0,fD[t+532>>2]=0,fD[t+536>>2]=0,fD[t+540>>2]=0,o=+gD[t+344>>2],n=o*+gD[t+352>>2],h=o*+gD[t+356>>2],gD[t+560>>2]=+gD[t+348>>2]*o,gD[t+564>>2]=n,gD[t+568>>2]=h,s=t+572|0,a=s+36|0;do fD[s>>2]=0,s=s+4|0;while((s|0)<(a|0));bD=i}function Tb(t,e,i,r,o){t|=0,e=+e,i|=0,r|=0,o|=0;var n=0;n=bD,bD=bD+144|0,gD[t+164>>2]=1,gD[t+168>>2]=1,gD[t+172>>2]=1,gD[t+176>>2]=0,fD[t+180>>2]=0,gD[t+184>>2]=0xde0b6b000000000,fD[t+188>>2]=0,fD[t+192>>2]=0,fD[t+196>>2]=0,fD[t+200>>2]=0,fD[t+204>>2]=1,fD[t+208>>2]=-1,fD[t+212>>2]=-1,fD[t+216>>2]=1,gD[t+220>>2]=0,gD[t+224>>2]=.5,gD[t+228>>2]=0,gD[t+232>>2]=0,fD[t+236>>2]=1,fD[t+240>>2]=0,gD[t+244>>2]=1,fD[t+248>>2]=0,fD[t+252>>2]=0,fD[t+256>>2]=0,fD[t+260>>2]=0,gD[t+4>>2]=1,fD[t+8>>2]=0,fD[t+12>>2]=0,fD[t+16>>2]=0,fD[t+20>>2]=0,gD[t+24>>2]=1,fD[t+28>>2]=0,fD[t+32>>2]=0,fD[t+36>>2]=0,fD[t+40>>2]=0,gD[t+44>>2]=1,fD[t+48>>2]=0,fD[t+52>>2]=0,fD[t+56>>2]=0,fD[t+60>>2]=0,fD[t+64>>2]=0,fD[t>>2]=3912,uD[t+500>>0]=1,fD[t+496>>2]=0,fD[t+488>>2]=0,fD[t+492>>2]=0,gD[n>>2]=e,fD[n+4>>2]=i,fD[n+72>>2]=r,fD[n+76>>2]=fD[o+0>>2],fD[n+80>>2]=fD[o+4>>2],fD[n+84>>2]=fD[o+8>>2],fD[n+88>>2]=fD[o+12>>2],gD[n+92>>2]=0,gD[n+96>>2]=0,gD[n+100>>2]=.5,gD[n+104>>2]=0,gD[n+108>>2]=0,gD[n+112>>2]=.800000011920929,gD[n+116>>2]=1,uD[n+120>>0]=0,gD[n+124>>2]=.004999999888241291,gD[n+128>>2]=.009999999776482582,gD[n+132>>2]=.009999999776482582,gD[n+136>>2]=.009999999776482582,gD[n+8>>2]=1,fD[n+12>>2]=0,fD[n+16>>2]=0,fD[n+20>>2]=0,fD[n+24>>2]=0,gD[n+28>>2]=1,fD[n+32>>2]=0,fD[n+36>>2]=0,fD[n+40>>2]=0,fD[n+44>>2]=0,gD[n+48>>2]=1,fD[n+52>>2]=0,fD[n+56>>2]=0,fD[n+60>>2]=0,fD[n+64>>2]=0,fD[n+68>>2]=0,xb(t,n),bD=n
}function Eb(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0;a=fD[t+204>>2]|0,e==0?(fD[t+204>>2]=a|1,gD[t+344>>2]=0,r=0):(fD[t+204>>2]=a&-2,gD[t+344>>2]=1/e,r=1/e),o=+gD[t+384>>2]*e,n=+gD[t+388>>2]*e,gD[t+364>>2]=+gD[t+380>>2]*e,gD[t+368>>2]=o,gD[t+372>>2]=n,gD[t+376>>2]=0,e=+gD[i>>2],e=e!=0?1/e:0,o=+gD[i+4>>2],o=o!=0?1/o:0,n=+gD[i+8>>2],n=n!=0?1/n:0,gD[t+396>>2]=e,gD[t+400>>2]=o,gD[t+404>>2]=n,gD[t+408>>2]=0,o=r*+gD[t+352>>2],n=r*+gD[t+356>>2],gD[t+560>>2]=+gD[t+348>>2]*r,gD[t+564>>2]=o,gD[t+568>>2]=n,gD[t+572>>2]=0}function Cb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0;a=bD,(fD[t+204>>2]&2|0)==0?(fD[t+68>>2]=fD[e+0>>2],fD[t+72>>2]=fD[e+4>>2],fD[t+76>>2]=fD[e+8>>2],fD[t+80>>2]=fD[e+12>>2],fD[t+84>>2]=fD[e+16>>2],fD[t+88>>2]=fD[e+20>>2],fD[t+92>>2]=fD[e+24>>2],fD[t+96>>2]=fD[e+28>>2],fD[t+100>>2]=fD[e+32>>2],fD[t+104>>2]=fD[e+36>>2],fD[t+108>>2]=fD[e+40>>2],fD[t+112>>2]=fD[e+44>>2],fD[t+116>>2]=fD[e+48>>2],fD[t+120>>2]=fD[e+52>>2],fD[t+124>>2]=fD[e+56>>2],fD[t+128>>2]=fD[e+60>>2],l=t+20|0,c=e+16|0,i=t+36|0,s=e+32|0,o=t+52|0,n=e+48|0,r=t+4|0):(fD[t+68>>2]=fD[t+4>>2],fD[t+72>>2]=fD[t+8>>2],fD[t+76>>2]=fD[t+12>>2],fD[t+80>>2]=fD[t+16>>2],fD[t+84>>2]=fD[t+20>>2],fD[t+88>>2]=fD[t+24>>2],fD[t+92>>2]=fD[t+28>>2],fD[t+96>>2]=fD[t+32>>2],fD[t+100>>2]=fD[t+36>>2],fD[t+104>>2]=fD[t+40>>2],fD[t+108>>2]=fD[t+44>>2],fD[t+112>>2]=fD[t+48>>2],fD[t+116>>2]=fD[t+52>>2],fD[t+120>>2]=fD[t+56>>2],fD[t+124>>2]=fD[t+60>>2],fD[t+128>>2]=fD[t+64>>2],l=t+20|0,c=e+16|0,i=t+36|0,s=e+32|0,o=t+52|0,n=e+48|0,r=t+4|0),fD[t+132>>2]=fD[t+312>>2],fD[t+136>>2]=fD[t+316>>2],fD[t+140>>2]=fD[t+320>>2],fD[t+144>>2]=fD[t+324>>2],fD[t+148>>2]=fD[t+328>>2],fD[t+152>>2]=fD[t+332>>2],fD[t+156>>2]=fD[t+336>>2],fD[t+160>>2]=fD[t+340>>2],fD[r+0>>2]=fD[e+0>>2],fD[r+4>>2]=fD[e+4>>2],fD[r+8>>2]=fD[e+8>>2],fD[r+12>>2]=fD[e+12>>2],fD[l+0>>2]=fD[c+0>>2],fD[l+4>>2]=fD[c+4>>2],fD[l+8>>2]=fD[c+8>>2],fD[l+12>>2]=fD[c+12>>2],fD[i+0>>2]=fD[s+0>>2],fD[i+4>>2]=fD[s+4>>2],fD[i+8>>2]=fD[s+8>>2],fD[i+12>>2]=fD[s+12>>2],fD[o+0>>2]=fD[n+0>>2],fD[o+4>>2]=fD[n+4>>2],fD[o+8>>2]=fD[n+8>>2],fD[o+12>>2]=fD[n+12>>2],M=+gD[t+4>>2],_=+gD[t+396>>2],v=+gD[t+8>>2],p=+gD[t+400>>2],b=+gD[t+12>>2],d=+gD[t+404>>2],y=+gD[t+20>>2],g=+gD[t+24>>2],m=+gD[t+28>>2],f=+gD[t+36>>2],u=+gD[t+40>>2],h=+gD[t+44>>2],gD[t+264>>2]=M*M*_+v*v*p+b*b*d,gD[t+268>>2]=M*_*y+v*p*g+b*d*m,gD[t+272>>2]=M*_*f+v*p*u+b*d*h,gD[t+276>>2]=0,gD[t+280>>2]=M*_*y+v*p*g+b*d*m,gD[t+284>>2]=y*_*y+g*p*g+m*d*m,gD[t+288>>2]=_*y*f+p*g*u+d*m*h,gD[t+292>>2]=0,gD[t+296>>2]=M*_*f+v*p*u+b*d*h,gD[t+300>>2]=y*_*f+g*p*u+m*d*h,gD[t+304>>2]=f*_*f+u*p*u+h*d*h,gD[t+308>>2]=0,bD=a}function Ab(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;i=bD;t:do if((fD[e+236>>2]&2|0)!=0?(r=fD[t+488>>2]|0,(r|0)>0):0)for(t=fD[t+496>>2]|0,o=0;;){if(n=fD[t+(o<<2)>>2]|0,(uD[n+20>>0]|0)!=0){if((fD[n+28>>2]|0)==(e|0)){e=0;break t}if((fD[n+32>>2]|0)==(e|0)){e=0;break t}}if(o=o+1|0,(o|0)>=(r|0)){e=1;break}}else e=1;while(0);return bD=i,e|0}function wb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;i=bD,n=fD[t+488>>2]|0;t:do if((n|0)>0){for(a=fD[t+496>>2]|0,o=0;;){if(s=o+1|0,(fD[a+(o<<2)>>2]|0)==(e|0))break;if(!((s|0)<(n|0)))break t;o=s}if((o|0)!=(n|0))return s=t+256|0,fD[s>>2]=1,void(bD=i)}while(0);if((n|0)==(fD[t+492>>2]|0)?(r=(n|0)==0?1:n<<1,(n|0)<(r|0)):0){if((r|0)==0?o=0:(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),n=fD[t+488>>2]|0),(n|0)>0){a=0;do s=o+(a<<2)|0,(s|0)!=0&&(fD[s>>2]=fD[(fD[t+496>>2]|0)+(a<<2)>>2]),a=a+1|0;while((a|0)!=(n|0))}a=fD[t+496>>2]|0,(a|0)!=0&&((uD[t+500>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0),n=fD[t+488>>2]|0),fD[t+496>>2]=0),uD[t+500>>0]=1,fD[t+496>>2]=o,fD[t+492>>2]=r}r=(fD[t+496>>2]|0)+(n<<2)|0,(r|0)!=0&&(fD[r>>2]=e),fD[t+488>>2]=n+1,s=t+256|0,fD[s>>2]=1,bD=i}function Rb(t){return t|=0,488}function Db(t,e,i){t|=0,e|=0,i|=0;var r=0;return r=bD,c_(t,e,i)|0,gD[e+256>>2]=+gD[t+264>>2],gD[e+260>>2]=+gD[t+268>>2],gD[e+264>>2]=+gD[t+272>>2],gD[e+268>>2]=+gD[t+276>>2],gD[e+272>>2]=+gD[t+280>>2],gD[e+276>>2]=+gD[t+284>>2],gD[e+280>>2]=+gD[t+288>>2],gD[e+284>>2]=+gD[t+292>>2],gD[e+288>>2]=+gD[t+296>>2],gD[e+292>>2]=+gD[t+300>>2],gD[e+296>>2]=+gD[t+304>>2],gD[e+300>>2]=+gD[t+308>>2],gD[e+304>>2]=+gD[t+312>>2],gD[e+308>>2]=+gD[t+316>>2],gD[e+312>>2]=+gD[t+320>>2],gD[e+316>>2]=+gD[t+324>>2],gD[e+320>>2]=+gD[t+328>>2],gD[e+324>>2]=+gD[t+332>>2],gD[e+328>>2]=+gD[t+336>>2],gD[e+332>>2]=+gD[t+340>>2],gD[e+448>>2]=+gD[t+344>>2],gD[e+336>>2]=+gD[t+544>>2],gD[e+340>>2]=+gD[t+548>>2],gD[e+344>>2]=+gD[t+552>>2],gD[e+348>>2]=+gD[t+556>>2],gD[e+352>>2]=+gD[t+348>>2],gD[e+356>>2]=+gD[t+352>>2],gD[e+360>>2]=+gD[t+356>>2],gD[e+364>>2]=+gD[t+360>>2],gD[e+368>>2]=+gD[t+364>>2],gD[e+372>>2]=+gD[t+368>>2],gD[e+376>>2]=+gD[t+372>>2],gD[e+380>>2]=+gD[t+376>>2],gD[e+384>>2]=+gD[t+380>>2],gD[e+388>>2]=+gD[t+384>>2],gD[e+392>>2]=+gD[t+388>>2],gD[e+396>>2]=+gD[t+392>>2],gD[e+400>>2]=+gD[t+396>>2],gD[e+404>>2]=+gD[t+400>>2],gD[e+408>>2]=+gD[t+404>>2],gD[e+412>>2]=+gD[t+408>>2],gD[e+416>>2]=+gD[t+412>>2],gD[e+420>>2]=+gD[t+416>>2],gD[e+424>>2]=+gD[t+420>>2],gD[e+428>>2]=+gD[t+424>>2],gD[e+432>>2]=+gD[t+428>>2],gD[e+436>>2]=+gD[t+432>>2],gD[e+440>>2]=+gD[t+436>>2],gD[e+444>>2]=+gD[t+440>>2],gD[e+452>>2]=+gD[t+444>>2],gD[e+456>>2]=+gD[t+448>>2],fD[e+484>>2]=_D[t+452>>0],gD[e+460>>2]=+gD[t+456>>2],gD[e+464>>2]=+gD[t+460>>2],gD[e+468>>2]=+gD[t+464>>2],gD[e+472>>2]=+gD[t+468>>2],gD[e+476>>2]=+gD[t+472>>2],gD[e+480>>2]=+gD[t+476>>2],bD=r,3952}function Pb(t,e){t|=0,e|=0;var i=0,r=0,o=0;i=bD,r=fD[(fD[e>>2]|0)+16>>2]|0,o=lP[fD[(fD[t>>2]|0)+16>>2]&127](t)|0,o=gP[r&31](e,o,1)|0,r=gP[fD[(fD[t>>2]|0)+20>>2]&31](t,fD[o+8>>2]|0,e)|0,iP[fD[(fD[e>>2]|0)+20>>2]&31](e,o,r,1497645650,t),bD=i}function Bb(t){t|=0;var e=0;return e=bD,Vb(t),(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function Vb(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=4024,i=fD[t+176>>2]|0,(i|0)!=0&&((uD[t+180>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+176>>2]=0),uD[t+180>>0]=1,fD[t+176>>2]=0,fD[t+168>>2]=0,fD[t+172>>2]=0,i=fD[t+156>>2]|0,(i|0)!=0&&((uD[t+160>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+156>>2]=0),uD[t+160>>0]=1,fD[t+156>>2]=0,fD[t+148>>2]=0,fD[t+152>>2]=0,i=fD[t+136>>2]|0,(i|0)!=0&&((uD[t+140>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+136>>2]=0),uD[t+140>>0]=1,fD[t+136>>2]=0,fD[t+128>>2]=0,fD[t+132>>2]=0,i=fD[t+116>>2]|0,(i|0)!=0&&((uD[t+120>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+116>>2]=0),uD[t+120>>0]=1,fD[t+116>>2]=0,fD[t+108>>2]=0,fD[t+112>>2]=0,i=fD[t+96>>2]|0,(i|0)!=0&&((uD[t+100>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+96>>2]=0),uD[t+100>>0]=1,fD[t+96>>2]=0,fD[t+88>>2]=0,fD[t+92>>2]=0,i=fD[t+76>>2]|0,(i|0)!=0&&((uD[t+80>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+76>>2]=0),uD[t+80>>0]=1,fD[t+76>>2]=0,fD[t+68>>2]=0,fD[t+72>>2]=0,i=fD[t+56>>2]|0,(i|0)!=0&&((uD[t+60>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+56>>2]=0),uD[t+60>>0]=1,fD[t+56>>2]=0,fD[t+48>>2]=0,fD[t+52>>2]=0,i=fD[t+36>>2]|0,(i|0)!=0&&((uD[t+40>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+36>>2]=0),uD[t+40>>0]=1,fD[t+36>>2]=0,fD[t+28>>2]=0,fD[t+32>>2]=0,i=fD[t+16>>2]|0,(i|0)==0?(uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,i=t+12|0,fD[i>>2]=0,void(bD=e)):((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+16>>2]=0,uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,i=t+12|0,fD[i>>2]=0,void(bD=e))}function Lb(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;a=bD,s=+gD[i+100>>2],n=+gD[i+16>>2],r=+gD[i+20>>2],o=+gD[i+24>>2],l=+gD[i+108>>2],l=+gD[i+112>>2]-s*+gD[i+116>>2]-(n*+gD[t+64>>2]+r*+gD[t+68>>2]+o*+gD[t+72>>2]+(+gD[i>>2]*+gD[t+80>>2]+ +gD[i+4>>2]*+gD[t+84>>2]+ +gD[i+8>>2]*+gD[t+88>>2]))*l-l*(+gD[i+48>>2]*+gD[e+64>>2]+ +gD[i+52>>2]*+gD[e+68>>2]+ +gD[i+56>>2]*+gD[e+72>>2]+(+gD[i+32>>2]*+gD[e+80>>2]+ +gD[i+36>>2]*+gD[e+84>>2]+ +gD[i+40>>2]*+gD[e+88>>2])),c=+gD[i+120>>2];do{if(!(s+l<c)){if(c=+gD[i+124>>2],s+l>c){gD[i+100>>2]=c,l=c-s;break}gD[i+100>>2]=s+l;break}gD[i+100>>2]=c,l=c-s}while(0);return(fD[t+240>>2]|0)!=0&&(c=l*+gD[t+132>>2]*r*+gD[t+116>>2],s=l*+gD[t+136>>2]*o*+gD[t+120>>2],gD[t+64>>2]=+gD[t+112>>2]*l*+gD[t+128>>2]*n+ +gD[t+64>>2],gD[t+68>>2]=c+ +gD[t+68>>2],gD[t+72>>2]=s+ +gD[t+72>>2],s=l*+gD[t+100>>2]*+gD[i+68>>2],c=l*+gD[t+104>>2]*+gD[i+72>>2],gD[t+80>>2]=l*+gD[t+96>>2]*+gD[i+64>>2]+ +gD[t+80>>2],gD[t+84>>2]=s+ +gD[t+84>>2],gD[t+88>>2]=c+ +gD[t+88>>2]),(fD[e+240>>2]|0)==0?void(bD=a):(c=l*+gD[e+132>>2]*+gD[i+52>>2]*+gD[e+116>>2],s=l*+gD[e+136>>2]*+gD[i+56>>2]*+gD[e+120>>2],gD[e+64>>2]=+gD[e+112>>2]*l*+gD[e+128>>2]*+gD[i+48>>2]+ +gD[e+64>>2],gD[e+68>>2]=c+ +gD[e+68>>2],gD[e+72>>2]=s+ +gD[e+72>>2],s=l*+gD[e+100>>2]*+gD[i+84>>2],c=l*+gD[e+104>>2]*+gD[i+88>>2],gD[e+80>>2]=l*+gD[e+96>>2]*+gD[i+80>>2]+ +gD[e+80>>2],gD[e+84>>2]=s+ +gD[e+84>>2],gD[e+88>>2]=c+ +gD[e+88>>2],void(bD=a))}function kb(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;return a=bD,c=+gD[i+100>>2],n=+gD[i+16>>2],r=+gD[i+20>>2],o=+gD[i+24>>2],h=+gD[i+108>>2],h=+gD[i+112>>2]-c*+gD[i+116>>2]-(n*+gD[t+64>>2]+r*+gD[t+68>>2]+o*+gD[t+72>>2]+(+gD[i>>2]*+gD[t+80>>2]+ +gD[i+4>>2]*+gD[t+84>>2]+ +gD[i+8>>2]*+gD[t+88>>2]))*h-h*(+gD[i+48>>2]*+gD[e+64>>2]+ +gD[i+52>>2]*+gD[e+68>>2]+ +gD[i+56>>2]*+gD[e+72>>2]+(+gD[i+32>>2]*+gD[e+80>>2]+ +gD[i+36>>2]*+gD[e+84>>2]+ +gD[i+40>>2]*+gD[e+88>>2])),l=+gD[i+120>>2],c+h<l?s=l-c:(s=h,l=c+h),gD[i+100>>2]=l,(fD[t+240>>2]|0)!=0&&(h=s*+gD[t+132>>2]*r*+gD[t+116>>2],c=s*+gD[t+136>>2]*o*+gD[t+120>>2],gD[t+64>>2]=+gD[t+112>>2]*s*+gD[t+128>>2]*n+ +gD[t+64>>2],gD[t+68>>2]=h+ +gD[t+68>>2],gD[t+72>>2]=c+ +gD[t+72>>2],c=s*+gD[t+100>>2]*+gD[i+68>>2],h=s*+gD[t+104>>2]*+gD[i+72>>2],gD[t+80>>2]=s*+gD[t+96>>2]*+gD[i+64>>2]+ +gD[t+80>>2],gD[t+84>>2]=c+ +gD[t+84>>2],gD[t+88>>2]=h+ +gD[t+88>>2]),(fD[e+240>>2]|0)==0?void(bD=a):(h=s*+gD[e+132>>2]*+gD[i+52>>2]*+gD[e+116>>2],c=s*+gD[e+136>>2]*+gD[i+56>>2]*+gD[e+120>>2],gD[e+64>>2]=+gD[e+112>>2]*s*+gD[e+128>>2]*+gD[i+48>>2]+ +gD[e+64>>2],gD[e+68>>2]=h+ +gD[e+68>>2],gD[e+72>>2]=c+ +gD[e+72>>2],c=s*+gD[e+100>>2]*+gD[i+84>>2],h=s*+gD[e+104>>2]*+gD[i+88>>2],gD[e+80>>2]=s*+gD[e+96>>2]*+gD[i+80>>2]+ +gD[e+80>>2],gD[e+84>>2]=c+ +gD[e+84>>2],gD[e+88>>2]=h+ +gD[e+88>>2],void(bD=a))}function Hb(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;return a=bD,l=+gD[i+128>>2],l==0?void(bD=a):(fD[1002]=(fD[1002]|0)+1,s=+gD[i+96>>2],o=+gD[i+16>>2],n=+gD[i+20>>2],r=+gD[i+24>>2],h=+gD[i+108>>2],h=l-s*+gD[i+116>>2]-(o*+gD[t+144>>2]+n*+gD[t+148>>2]+r*+gD[t+152>>2]+(+gD[i>>2]*+gD[t+160>>2]+ +gD[i+4>>2]*+gD[t+164>>2]+ +gD[i+8>>2]*+gD[t+168>>2]))*h-h*(+gD[i+48>>2]*+gD[e+144>>2]+ +gD[i+52>>2]*+gD[e+148>>2]+ +gD[i+56>>2]*+gD[e+152>>2]+(+gD[i+32>>2]*+gD[e+160>>2]+ +gD[i+36>>2]*+gD[e+164>>2]+ +gD[i+40>>2]*+gD[e+168>>2])),c=+gD[i+120>>2],s+h<c?l=c-s:(l=h,c=s+h),gD[i+96>>2]=c,(fD[t+240>>2]|0)!=0&&(h=l*+gD[t+132>>2]*n*+gD[t+116>>2],c=l*+gD[t+136>>2]*r*+gD[t+120>>2],gD[t+144>>2]=+gD[t+112>>2]*l*+gD[t+128>>2]*o+ +gD[t+144>>2],gD[t+148>>2]=h+ +gD[t+148>>2],gD[t+152>>2]=c+ +gD[t+152>>2],c=l*+gD[t+100>>2]*+gD[i+68>>2],h=l*+gD[t+104>>2]*+gD[i+72>>2],gD[t+160>>2]=l*+gD[t+96>>2]*+gD[i+64>>2]+ +gD[t+160>>2],gD[t+164>>2]=c+ +gD[t+164>>2],gD[t+168>>2]=h+ +gD[t+168>>2]),(fD[e+240>>2]|0)==0?void(bD=a):(h=l*+gD[e+132>>2]*+gD[i+52>>2]*+gD[e+116>>2],c=l*+gD[e+136>>2]*+gD[i+56>>2]*+gD[e+120>>2],gD[e+144>>2]=+gD[e+112>>2]*l*+gD[e+128>>2]*+gD[i+48>>2]+ +gD[e+144>>2],gD[e+148>>2]=h+ +gD[e+148>>2],gD[e+152>>2]=c+ +gD[e+152>>2],c=l*+gD[e+100>>2]*+gD[i+84>>2],h=l*+gD[e+104>>2]*+gD[i+88>>2],gD[e+160>>2]=l*+gD[e+96>>2]*+gD[i+80>>2]+ +gD[e+160>>2],gD[e+164>>2]=c+ +gD[e+164>>2],gD[e+168>>2]=h+ +gD[e+168>>2],void(bD=a)))}function Ib(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;if(r=bD,((e|0)!=0?(fD[e+236>>2]&2|0)!=0:0)||(e=0),o=(e|0)==0,fD[t+64>>2]=0,fD[t+68>>2]=0,fD[t+72>>2]=0,fD[t+76>>2]=0,fD[t+80>>2]=0,fD[t+84>>2]=0,fD[t+88>>2]=0,fD[t+92>>2]=0,fD[t+144>>2]=0,fD[t+148>>2]=0,fD[t+152>>2]=0,fD[t+156>>2]=0,fD[t+160>>2]=0,fD[t+164>>2]=0,fD[t+168>>2]=0,fD[t+172>>2]=0,o){gD[t>>2]=1,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,fD[t+16>>2]=0,gD[t+20>>2]=1,fD[t+24>>2]=0,fD[t+28>>2]=0,fD[t+32>>2]=0,fD[t+36>>2]=0,gD[t+40>>2]=1,fD[t+44>>2]=0,fD[t+48>>2]=0,fD[t+52>>2]=0,fD[t+56>>2]=0,fD[t+60>>2]=0,fD[t+240>>2]=0,fD[t+128>>2]=0,fD[t+132>>2]=0,fD[t+136>>2]=0,fD[t+140>>2]=0,gD[t+96>>2]=1,gD[t+100>>2]=1,gD[t+104>>2]=1,gD[t+108>>2]=0,gD[t+112>>2]=1,gD[t+116>>2]=1,gD[t+120>>2]=1,gD[t+124>>2]=0,e=t+176|0,t=e+64|0;do fD[e>>2]=0,e=e+4|0;while((e|0)<(t|0));return void(bD=r)}return o=e+4|0,fD[t+0>>2]=fD[o+0>>2],fD[t+4>>2]=fD[o+4>>2],fD[t+8>>2]=fD[o+8>>2],fD[t+12>>2]=fD[o+12>>2],o=e+20|0,fD[t+16>>2]=fD[o+0>>2],fD[t+20>>2]=fD[o+4>>2],fD[t+24>>2]=fD[o+8>>2],fD[t+28>>2]=fD[o+12>>2],o=e+36|0,fD[t+32>>2]=fD[o+0>>2],fD[t+36>>2]=fD[o+4>>2],fD[t+40>>2]=fD[o+8>>2],fD[t+44>>2]=fD[o+12>>2],o=e+52|0,fD[t+48>>2]=fD[o+0>>2],fD[t+52>>2]=fD[o+4>>2],fD[t+56>>2]=fD[o+8>>2],fD[t+60>>2]=fD[o+12>>2],o=e+344|0,c=+gD[o>>2],h=e+348|0,l=c*+gD[e+352>>2],s=c*+gD[e+356>>2],gD[t+128>>2]=c*+gD[h>>2],gD[t+132>>2]=l,gD[t+136>>2]=s,gD[t+140>>2]=0,fD[t+240>>2]=e,d=e+544|0,fD[t+96>>2]=fD[d+0>>2],fD[t+100>>2]=fD[d+4>>2],fD[t+104>>2]=fD[d+8>>2],fD[t+108>>2]=fD[d+12>>2],fD[t+112>>2]=fD[h+0>>2],fD[t+116>>2]=fD[h+4>>2],fD[t+120>>2]=fD[h+8>>2],fD[t+124>>2]=fD[h+12>>2],h=e+312|0,fD[t+176>>2]=fD[h+0>>2],fD[t+180>>2]=fD[h+4>>2],fD[t+184>>2]=fD[h+8>>2],fD[t+188>>2]=fD[h+12>>2],h=e+328|0,fD[t+192>>2]=fD[h+0>>2],fD[t+196>>2]=fD[h+4>>2],fD[t+200>>2]=fD[h+8>>2],fD[t+204>>2]=fD[h+12>>2],s=+gD[o>>2],l=s*+gD[e+416>>2]*i,c=s*+gD[e+420>>2]*i,gD[t+208>>2]=s*+gD[e+412>>2]*i,gD[t+212>>2]=l,gD[t+216>>2]=c,gD[t+220>>2]=0,c=+gD[e+428>>2],l=+gD[e+432>>2],s=+gD[e+436>>2],a=(c*+gD[e+268>>2]+l*+gD[e+284>>2]+s*+gD[e+300>>2])*i,n=(c*+gD[e+272>>2]+l*+gD[e+288>>2]+s*+gD[e+304>>2])*i,gD[t+224>>2]=(+gD[e+264>>2]*c+ +gD[e+280>>2]*l+ +gD[e+296>>2]*s)*i,gD[t+228>>2]=a,gD[t+232>>2]=n,gD[t+236>>2]=0,void(bD=r)}function Ob(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0;return i=bD,(t|0)==0?void(bD=i):(fD[t+180>>2]&1|0)==0?void(bD=i):(f=+gD[t+4>>2],m=+gD[e>>2],d=+gD[t+20>>2],_=+gD[e+4>>2],l=+gD[t+36>>2],r=+gD[e+8>>2],p=+gD[t+8>>2],h=+gD[t+24>>2],a=+gD[t+40>>2],u=+gD[t+12>>2],c=+gD[t+28>>2],o=+gD[t+44>>2],s=(f*m+d*_+l*r)*+gD[t+164>>2],n=(m*p+_*h+r*a)*+gD[t+168>>2],r=(m*u+_*c+r*o)*+gD[t+172>>2],gD[e>>2]=f*s+p*n+u*r,gD[e+4>>2]=d*s+h*n+c*r,gD[e+8>>2]=l*s+a*n+o*r,gD[e+12>>2]=0,void(bD=i))}function Jb(t,e,i,r,o,n,a,s,l,c,h){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l=+l,c=+c,h=+h;var d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0;if(u=bD,d=fD[t+68>>2]|0,(d|0)==(fD[t+72>>2]|0)?(p=(d|0)==0?1:d<<1,(d|0)<(p|0)):0){if((p|0)==0?(b=0,A=d):(fD[5004]=(fD[5004]|0)+1,b=Ew((p*152|3)+16|0)|0,(b|0)==0?b=0:(fD[(b+19&-16)+-4>>2]=b,b=b+19&-16),A=fD[t+68>>2]|0),(A|0)>0){C=0;do Bw(b+(C*152|0)|0,(fD[t+76>>2]|0)+(C*152|0)|0,152)|0,C=C+1|0;while((C|0)!=(A|0))}C=fD[t+76>>2]|0,(C|0)!=0&&((uD[t+80>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[C+-4>>2]|0)),fD[t+76>>2]=0),uD[t+80>>0]=1,fD[t+76>>2]=b,fD[t+72>>2]=p,p=fD[t+68>>2]|0}else p=d;return fD[t+68>>2]=p+1,p=fD[t+76>>2]|0,fD[p+(d*152|0)+140>>2]=o,o=fD[t+16>>2]|0,b=fD[o+(i*244|0)+240>>2]|0,t=fD[o+(r*244|0)+240>>2]|0,fD[p+(d*152|0)+144>>2]=i,fD[p+(d*152|0)+148>>2]=r,g=+gD[n+84>>2],gD[p+(d*152|0)+104>>2]=g,fD[p+(d*152|0)+132>>2]=0,gD[p+(d*152|0)+100>>2]=0,gD[p+(d*152|0)+96>>2]=0,(b|0)!=0?(fD[p+(d*152|0)+16>>2]=fD[e+0>>2],fD[p+(d*152|0)+20>>2]=fD[e+4>>2],fD[p+(d*152|0)+24>>2]=fD[e+8>>2],fD[p+(d*152|0)+28>>2]=fD[e+12>>2],x=+gD[a+4>>2],T=+gD[p+(d*152|0)+24>>2],E=+gD[a+8>>2],y=+gD[p+(d*152|0)+20>>2],v=+gD[p+(d*152|0)+16>>2],m=+gD[a>>2],gD[p+(d*152|0)>>2]=x*T-E*y,gD[p+(d*152|0)+4>>2]=E*v-T*m,gD[p+(d*152|0)+8>>2]=y*m-x*v,gD[p+(d*152|0)+12>>2]=0,M=((x*T-E*y)*+gD[b+280>>2]+(E*v-T*m)*+gD[b+284>>2]+(y*m-x*v)*+gD[b+288>>2])*+gD[b+548>>2],S=((x*T-E*y)*+gD[b+296>>2]+(E*v-T*m)*+gD[b+300>>2]+(y*m-x*v)*+gD[b+304>>2])*+gD[b+552>>2],gD[p+(d*152|0)+64>>2]=((x*T-E*y)*+gD[b+264>>2]+ +gD[b+268>>2]*(E*v-T*m)+(y*m-x*v)*+gD[b+272>>2])*+gD[b+544>>2],gD[p+(d*152|0)+68>>2]=M,gD[p+(d*152|0)+72>>2]=S,gD[p+(d*152|0)+76>>2]=0,y=x*T-E*y):(fD[p+(d*152|0)+64>>2]=0,fD[p+(d*152|0)+68>>2]=0,fD[p+(d*152|0)+72>>2]=0,fD[p+(d*152|0)+76>>2]=0,fD[p+(d*152|0)+0>>2]=0,fD[p+(d*152|0)+4>>2]=0,fD[p+(d*152|0)+8>>2]=0,fD[p+(d*152|0)+12>>2]=0,fD[p+(d*152|0)+16>>2]=0,fD[p+(d*152|0)+20>>2]=0,fD[p+(d*152|0)+24>>2]=0,fD[p+(d*152|0)+28>>2]=0,y=0),(t|0)!=0?(m=-+gD[e>>2],T=-+gD[e+4>>2],f=-+gD[e+8>>2],gD[p+(d*152|0)+48>>2]=m,gD[p+(d*152|0)+52>>2]=T,gD[p+(d*152|0)+56>>2]=f,gD[p+(d*152|0)+60>>2]=0,E=+gD[s+4>>2],w=+gD[s+8>>2],S=+gD[s>>2],gD[p+(d*152|0)+32>>2]=E*f-w*T,gD[p+(d*152|0)+36>>2]=w*m-S*f,gD[p+(d*152|0)+40>>2]=S*T-E*m,gD[p+(d*152|0)+44>>2]=0,x=((E*f-w*T)*+gD[t+264>>2]+ +gD[t+268>>2]*(w*m-S*f)+(S*T-E*m)*+gD[t+272>>2])*+gD[t+544>>2],M=((E*f-w*T)*+gD[t+280>>2]+(w*m-S*f)*+gD[t+284>>2]+(S*T-E*m)*+gD[t+288>>2])*+gD[t+548>>2],v=((E*f-w*T)*+gD[t+296>>2]+(w*m-S*f)*+gD[t+300>>2]+(S*T-E*m)*+gD[t+304>>2])*+gD[t+552>>2],gD[p+(d*152|0)+80>>2]=x,gD[p+(d*152|0)+84>>2]=M,gD[p+(d*152|0)+88>>2]=v,gD[p+(d*152|0)+92>>2]=0,_=E*f-w*T,f=w*m-S*f,m=S*T-E*m):(fD[p+(d*152|0)+80>>2]=0,fD[p+(d*152|0)+84>>2]=0,fD[p+(d*152|0)+88>>2]=0,fD[p+(d*152|0)+92>>2]=0,fD[p+(d*152|0)+32>>2]=0,fD[p+(d*152|0)+36>>2]=0,fD[p+(d*152|0)+40>>2]=0,fD[p+(d*152|0)+44>>2]=0,fD[p+(d*152|0)+48>>2]=0,fD[p+(d*152|0)+52>>2]=0,fD[p+(d*152|0)+56>>2]=0,fD[p+(d*152|0)+60>>2]=0,x=0,M=0,v=0,_=0,f=0,m=0),(b|0)!=0?(w=+gD[p+(d*152|0)+68>>2],R=+gD[a+8>>2],D=+gD[p+(d*152|0)+72>>2],T=+gD[a+4>>2],S=+gD[a>>2],E=+gD[p+(d*152|0)+64>>2],S=+gD[b+344>>2]+((w*R-D*T)*+gD[e>>2]+(D*S-R*E)*+gD[e+4>>2]+(T*E-w*S)*+gD[e+8>>2])):S=0,(t|0)!=0?(R=-x,D=-M,T=-v,E=+gD[s+8>>2],w=+gD[s+4>>2],v=+gD[s>>2],v=+gD[t+344>>2]+((E*D-w*T)*+gD[e>>2]+(v*T-E*R)*+gD[e+4>>2]+(w*R-v*D)*+gD[e+8>>2])):v=0,l/=S+v,gD[p+(d*152|0)+108>>2]=l,(b|0)!=0?(M=+gD[o+(i*244|0)+176>>2]+ +gD[o+(i*244|0)+208>>2],v=+gD[o+(i*244|0)+180>>2]+ +gD[o+(i*244|0)+212>>2],S=+gD[o+(i*244|0)+184>>2]+ +gD[o+(i*244|0)+216>>2]):(M=0,v=0,S=0),(b|0)!=0?(x=+gD[o+(i*244|0)+192>>2],T=+gD[o+(i*244|0)+196>>2],E=+gD[o+(i*244|0)+200>>2]):(x=0,T=0,E=0),y=M*+gD[p+(d*152|0)+16>>2]+v*+gD[p+(d*152|0)+20>>2]+S*+gD[p+(d*152|0)+24>>2]+(x*y+T*+gD[p+(d*152|0)+4>>2]+E*+gD[p+(d*152|0)+8>>2]),(t|0)!=0?(v=+gD[o+(r*244|0)+176>>2]+ +gD[o+(r*244|0)+208>>2],S=+gD[o+(r*244|0)+180>>2]+ +gD[o+(r*244|0)+212>>2],M=+gD[o+(r*244|0)+184>>2]+ +gD[o+(r*244|0)+216>>2]):(v=0,S=0,M=0),v=v*+gD[p+(d*152|0)+48>>2]+S*+gD[p+(d*152|0)+52>>2]+M*+gD[p+(d*152|0)+56>>2],(t|0)==0?(w=0,R=0,D=0,w*=_,R*=f,R=w+R,D*=m,D=R+D,D=v+D,D=y+D,D=c-D,D=l*D,A=p+(d*152|0)+112|0,gD[A>>2]=D,A=p+(d*152|0)+116|0,gD[A>>2]=h,D=-g,A=p+(d*152|0)+120|0,gD[A>>2]=D,A=p+(d*152|0)+124|0,gD[A>>2]=g,void(bD=u)):(w=+gD[o+(r*244|0)+192>>2],R=+gD[o+(r*244|0)+196>>2],D=+gD[o+(r*244|0)+200>>2],w*=_,R*=f,R=w+R,D*=m,D=R+D,D=v+D,D=y+D,D=c-D,D=l*D,A=p+(d*152|0)+112|0,gD[A>>2]=D,A=p+(d*152|0)+116|0,gD[A>>2]=h,D=-g,A=p+(d*152|0)+120|0,gD[A>>2]=D,A=p+(d*152|0)+124|0,gD[A>>2]=g,void(bD=u))}function Nb(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0;if(s=bD,a=fD[t+88>>2]|0,(a|0)==(fD[t+92>>2]|0)?(l=(a|0)==0?1:a<<1,(a|0)<(l|0)):0){if((l|0)==0?(m=0,x=a):(fD[5004]=(fD[5004]|0)+1,m=Ew((l*152|3)+16|0)|0,(m|0)==0?m=0:(fD[(m+19&-16)+-4>>2]=m,m=m+19&-16),x=fD[t+88>>2]|0),(x|0)>0){T=0;do Bw(m+(T*152|0)|0,(fD[t+96>>2]|0)+(T*152|0)|0,152)|0,T=T+1|0;while((T|0)!=(x|0))}x=fD[t+96>>2]|0,(x|0)!=0&&((uD[t+100>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[x+-4>>2]|0)),fD[t+96>>2]=0),uD[t+100>>0]=1,fD[t+96>>2]=m,fD[t+92>>2]=l,l=fD[t+88>>2]|0}else l=a;return fD[t+88>>2]=l+1,l=fD[t+96>>2]|0,fD[l+(a*152|0)+140>>2]=o,fD[l+(a*152|0)+16>>2]=0,fD[l+(a*152|0)+20>>2]=0,fD[l+(a*152|0)+24>>2]=0,fD[l+(a*152|0)+28>>2]=0,gD[l+(a*152|0)+48>>2]=-0,gD[l+(a*152|0)+52>>2]=-0,gD[l+(a*152|0)+56>>2]=-0,gD[l+(a*152|0)+60>>2]=0,t=fD[t+16>>2]|0,m=fD[t+(i*244|0)+240>>2]|0,o=fD[t+(r*244|0)+240>>2]|0,fD[l+(a*152|0)+144>>2]=i,fD[l+(a*152|0)+148>>2]=r,c=+gD[n+88>>2],gD[l+(a*152|0)+104>>2]=c,fD[l+(a*152|0)+132>>2]=0,gD[l+(a*152|0)+100>>2]=0,gD[l+(a*152|0)+96>>2]=0,h=-+gD[e>>2],d=-+gD[e+4>>2],u=-+gD[e+8>>2],gD[l+(a*152|0)>>2]=h,gD[l+(a*152|0)+4>>2]=d,gD[l+(a*152|0)+8>>2]=u,gD[l+(a*152|0)+12>>2]=0,(m|0)!=0?(f=(+gD[m+264>>2]*h+ +gD[m+268>>2]*d+ +gD[m+272>>2]*u)*+gD[m+544>>2],p=(+gD[m+280>>2]*h+ +gD[m+284>>2]*d+ +gD[m+288>>2]*u)*+gD[m+548>>2],_=(+gD[m+296>>2]*h+ +gD[m+300>>2]*d+ +gD[m+304>>2]*u)*+gD[m+552>>2]):(f=0,p=0,_=0),gD[l+(a*152|0)+64>>2]=f,gD[l+(a*152|0)+68>>2]=p,gD[l+(a*152|0)+72>>2]=_,gD[l+(a*152|0)+76>>2]=0,_=+gD[e>>2],f=+gD[e+4>>2],p=+gD[e+8>>2],S=+gD[e+12>>2],gD[l+(a*152|0)+32>>2]=_,gD[l+(a*152|0)+36>>2]=f,gD[l+(a*152|0)+40>>2]=p,gD[l+(a*152|0)+44>>2]=S,(o|0)!=0?(y=(_*+gD[o+264>>2]+f*+gD[o+268>>2]+p*+gD[o+272>>2])*+gD[o+544>>2],g=(_*+gD[o+280>>2]+f*+gD[o+284>>2]+p*+gD[o+288>>2])*+gD[o+548>>2],b=(_*+gD[o+296>>2]+f*+gD[o+300>>2]+p*+gD[o+304>>2])*+gD[o+552>>2]):(y=0,g=0,b=0),gD[l+(a*152|0)+80>>2]=y,gD[l+(a*152|0)+84>>2]=g,gD[l+(a*152|0)+88>>2]=b,gD[l+(a*152|0)+92>>2]=0,(m|0)!=0?(S=+gD[m+264>>2]*h+ +gD[m+268>>2]*d+ +gD[m+272>>2]*u,M=+gD[m+280>>2]*h+ +gD[m+284>>2]*d+ +gD[m+288>>2]*u,y=+gD[m+296>>2]*h+ +gD[m+300>>2]*d+ +gD[m+304>>2]*u):(S=0,M=0,y=0),(o|0)!=0?(g=+gD[o+264>>2]*_+ +gD[o+268>>2]*f+ +gD[o+272>>2]*p,v=_*+gD[o+280>>2]+f*+gD[o+284>>2]+p*+gD[o+288>>2],b=_*+gD[o+296>>2]+f*+gD[o+300>>2]+p*+gD[o+304>>2]):(g=0,v=0,b=0),g=1/(S*h+M*d+y*u+0+(g*_+v*f+b*p)),gD[l+(a*152|0)+108>>2]=g,(m|0)!=0?(v=+gD[t+(i*244|0)+192>>2],b=+gD[t+(i*244|0)+196>>2],y=+gD[t+(i*244|0)+200>>2],M=(+gD[t+(i*244|0)+176>>2]+ +gD[t+(i*244|0)+208>>2])*0+(+gD[t+(i*244|0)+180>>2]+ +gD[t+(i*244|0)+212>>2])*0+(+gD[t+(i*244|0)+184>>2]+ +gD[t+(i*244|0)+216>>2])*0):(v=0,b=0,y=0,M=0),h=M+(v*h+b*d+y*u),(o|0)==0?(b=0,v=0,S=0,M=-0,b*=_,v*=f,v=b+v,S*=p,S=v+S,S=M+S,S=h+S,S=0-S,S=g*S,T=l+(a*152|0)+112|0,gD[T>>2]=S,T=l+(a*152|0)+116|0,gD[T>>2]=0,S=-c,T=l+(a*152|0)+120|0,gD[T>>2]=S,T=l+(a*152|0)+124|0,gD[T>>2]=c,void(bD=s)):(b=+gD[t+(r*244|0)+192>>2],v=+gD[t+(r*244|0)+196>>2],S=+gD[t+(r*244|0)+200>>2],M=(+gD[t+(r*244|0)+176>>2]+ +gD[t+(r*244|0)+208>>2])*-0+(+gD[t+(r*244|0)+180>>2]+ +gD[t+(r*244|0)+212>>2])*-0+(+gD[t+(r*244|0)+184>>2]+ +gD[t+(r*244|0)+216>>2])*-0,b*=_,v*=f,v=b+v,S*=p,S=v+S,S=M+S,S=h+S,S=0-S,S=g*S,T=l+(a*152|0)+112|0,gD[T>>2]=S,T=l+(a*152|0)+116|0,gD[T>>2]=0,S=-c,T=l+(a*152|0)+120|0,gD[T>>2]=S,T=l+(a*152|0)+124|0,gD[T>>2]=c,void(bD=s))}function Fb(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0;if(r=bD,bD=bD+496|0,o=fD[e+212>>2]|0,(o|0)>-1)return e=o,bD=r,e|0;do if((fD[e+236>>2]&2|0)!=0){if(+gD[e+344>>2]==0?(fD[e+204>>2]&2|0)==0:0)break;return o=fD[t+8>>2]|0,Rw(r+244|0,0,244)|0,Ib(Gb(t+4|0,r+244|0)|0,e,i),fD[e+212>>2]=o,e=o,bD=r,e|0}while(0);return o=fD[t+188>>2]|0,(o|0)>=0?(e=o,bD=r,e|0):(fD[t+188>>2]=fD[t+8>>2],Rw(r|0,0,244)|0,Ib(Gb(t+4|0,r)|0,0,i),e=fD[t+188>>2]|0,bD=r,e|0)}function Gb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(i=bD,r=fD[t+4>>2]|0,(r|0)==(fD[t+8>>2]|0)?(o=(r|0)==0?1:r<<1,(r|0)<(o|0)):0){if((o|0)==0?(n=0,a=r):(fD[5004]=(fD[5004]|0)+1,n=Ew((o*244|3)+16|0)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),a=fD[t+4>>2]|0),(a|0)>0){s=0;do c=n+(s*244|0)|0,l=fD[t+12>>2]|0,h=l+(s*244|0)|0,fD[c+0>>2]=fD[h+0>>2],fD[c+4>>2]=fD[h+4>>2],fD[c+8>>2]=fD[h+8>>2],fD[c+12>>2]=fD[h+12>>2],c=n+(s*244|0)+16|0,h=l+(s*244|0)+16|0,fD[c+0>>2]=fD[h+0>>2],fD[c+4>>2]=fD[h+4>>2],fD[c+8>>2]=fD[h+8>>2],fD[c+12>>2]=fD[h+12>>2],c=n+(s*244|0)+32|0,h=l+(s*244|0)+32|0,fD[c+0>>2]=fD[h+0>>2],fD[c+4>>2]=fD[h+4>>2],fD[c+8>>2]=fD[h+8>>2],fD[c+12>>2]=fD[h+12>>2],c=n+(s*244|0)+48|0,h=l+(s*244|0)+48|0,fD[c+0>>2]=fD[h+0>>2],fD[c+4>>2]=fD[h+4>>2],fD[c+8>>2]=fD[h+8>>2],fD[c+12>>2]=fD[h+12>>2],Bw(n+(s*244|0)+64|0,l+(s*244|0)+64|0,180)|0,s=s+1|0;while((s|0)!=(a|0))}a=fD[t+12>>2]|0,(a|0)!=0&&((uD[t+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[t+12>>2]=0),uD[t+16>>0]=1,fD[t+12>>2]=n,fD[t+8>>2]=o,o=fD[t+4>>2]|0}else o=r;return fD[t+4>>2]=o+1,h=fD[t+12>>2]|0,fD[h+(r*244|0)+0>>2]=fD[e+0>>2],fD[h+(r*244|0)+4>>2]=fD[e+4>>2],fD[h+(r*244|0)+8>>2]=fD[e+8>>2],fD[h+(r*244|0)+12>>2]=fD[e+12>>2],fD[h+(r*244|0)+16>>2]=fD[e+16>>2],fD[h+(r*244|0)+20>>2]=fD[e+20>>2],fD[h+(r*244|0)+24>>2]=fD[e+24>>2],fD[h+(r*244|0)+28>>2]=fD[e+28>>2],fD[h+(r*244|0)+32>>2]=fD[e+32>>2],fD[h+(r*244|0)+36>>2]=fD[e+36>>2],fD[h+(r*244|0)+40>>2]=fD[e+40>>2],fD[h+(r*244|0)+44>>2]=fD[e+44>>2],fD[h+(r*244|0)+48>>2]=fD[e+48>>2],fD[h+(r*244|0)+52>>2]=fD[e+52>>2],fD[h+(r*244|0)+56>>2]=fD[e+56>>2],fD[h+(r*244|0)+60>>2]=fD[e+60>>2],Bw(h+(r*244|0)+64|0,e+64|0,180)|0,bD=i,(fD[t+12>>2]|0)+(r*244|0)|0}function zb(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0;if(p=bD,bD=bD+80|0,(i|0)<=0)return void(bD=p);a=0;do{s=fD[e+(a<<2)>>2]|0,o=fD[s+740>>2]|0,u=fD[s+744>>2]|0,l=Fb(t,o,+gD[r+12>>2])|0,c=Fb(t,u,+gD[r+12>>2])|0,h=fD[t+16>>2]|0;do if((h+(l*244|0)|0)!=0){if((+gD[h+(l*244|0)+128>>2]==0?+gD[h+(l*244|0)+132>>2]==0:0)?+gD[h+(l*244|0)+136>>2]==0:0){if((h+(c*244|0)|0)==0)break;if((+gD[h+(c*244|0)+128>>2]==0?+gD[h+(c*244|0)+132>>2]==0:0)?+gD[h+(c*244|0)+136>>2]==0:0)break}if(_=fD[s+748>>2]|0,(_|0)>0){f=0,A=1;do{if(m=s+(f*184|0)+4|0,B=s+(f*184|0)+84|0,+gD[B>>2]<=+gD[s+756>>2]){if(_=fD[t+28>>2]|0,(_|0)==(fD[t+32>>2]|0)?(d=(_|0)==0?1:_<<1,(_|0)<(d|0)):0){if((d|0)==0?(g=0,v=_):(fD[5004]=(fD[5004]|0)+1,g=Ew((d*152|3)+16|0)|0,(g|0)==0?g=0:(fD[(g+19&-16)+-4>>2]=g,g=g+19&-16),v=fD[t+28>>2]|0),(v|0)>0){b=0;do Bw(g+(b*152|0)|0,(fD[t+36>>2]|0)+(b*152|0)|0,152)|0,b=b+1|0;while((b|0)!=(v|0))}b=fD[t+36>>2]|0,(b|0)!=0&&((uD[t+40>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[b+-4>>2]|0)),fD[t+36>>2]=0),uD[t+40>>0]=1,fD[t+36>>2]=g,fD[t+32>>2]=d,g=fD[t+28>>2]|0}else g=_;fD[t+28>>2]=g+1,g=fD[t+36>>2]|0,R=(fD[o+236>>2]&2|0)==0?0:o,w=(fD[u+236>>2]&2|0)==0?0:u,fD[g+(_*152|0)+144>>2]=l,fD[g+(_*152|0)+148>>2]=c,fD[g+(_*152|0)+132>>2]=m,O=+gD[s+(f*184|0)+52>>2]-+gD[o+52>>2],J=+gD[s+(f*184|0)+56>>2]-+gD[o+56>>2],N=+gD[s+(f*184|0)+60>>2]-+gD[o+60>>2],gD[p+64>>2]=O,gD[p+68>>2]=J,gD[p+72>>2]=N,gD[p+76>>2]=0,V=+gD[s+(f*184|0)+36>>2]-+gD[u+52>>2],L=+gD[s+(f*184|0)+40>>2]-+gD[u+56>>2],k=+gD[s+(f*184|0)+44>>2]-+gD[u+60>>2],gD[p+48>>2]=V,gD[p+52>>2]=L,gD[p+56>>2]=k,gD[p+60>>2]=0,(fD[h+(l*244|0)+240>>2]|0)==0?(y=0,E=0,T=0):(q=+gD[h+(l*244|0)+192>>2]+ +gD[h+(l*244|0)+224>>2],T=+gD[h+(l*244|0)+196>>2]+ +gD[h+(l*244|0)+228>>2],E=+gD[h+(l*244|0)+200>>2]+ +gD[h+(l*244|0)+232>>2],y=+gD[h+(l*244|0)+176>>2]+ +gD[h+(l*244|0)+208>>2]+(T*N-E*J),E=+gD[h+(l*244|0)+180>>2]+ +gD[h+(l*244|0)+212>>2]+(E*O-q*N),T=+gD[h+(l*244|0)+184>>2]+ +gD[h+(l*244|0)+216>>2]+(q*J-T*O)),(fD[h+(c*244|0)+240>>2]|0)==0?(C=0,S=0,x=0):(q=+gD[h+(c*244|0)+192>>2]+ +gD[h+(c*244|0)+224>>2],x=+gD[h+(c*244|0)+196>>2]+ +gD[h+(c*244|0)+228>>2],S=+gD[h+(c*244|0)+200>>2]+ +gD[h+(c*244|0)+232>>2],C=+gD[h+(c*244|0)+176>>2]+ +gD[h+(c*244|0)+208>>2]+(x*k-S*L),S=+gD[h+(c*244|0)+180>>2]+ +gD[h+(c*244|0)+212>>2]+(S*V-q*k),x=+gD[h+(c*244|0)+184>>2]+ +gD[h+(c*244|0)+216>>2]+(q*L-x*V)),y-=C,S=E-S,E=T-x,v=s+(f*184|0)+68|0,T=+gD[v>>2],M=s+(f*184|0)+72|0,x=+gD[M>>2],b=s+(f*184|0)+76|0,C=+gD[b>>2],D=fD[t+16>>2]|0,I=fD[D+(l*244|0)+240>>2]|0,H=fD[D+(c*244|0)+240>>2]|0,(I|0)!=0?(W=((J*C-N*x)*+gD[I+264>>2]+(N*T-C*O)*+gD[I+268>>2]+(x*O-J*T)*+gD[I+272>>2])*+gD[I+544>>2],q=((J*C-N*x)*+gD[I+280>>2]+(N*T-C*O)*+gD[I+284>>2]+(x*O-J*T)*+gD[I+288>>2])*+gD[I+548>>2],X=((J*C-N*x)*+gD[I+296>>2]+(N*T-C*O)*+gD[I+300>>2]+(x*O-J*T)*+gD[I+304>>2])*+gD[I+552>>2]):(W=0,q=0,X=0),gD[g+(_*152|0)+64>>2]=W,gD[g+(_*152|0)+68>>2]=q,gD[g+(_*152|0)+72>>2]=X,gD[g+(_*152|0)+76>>2]=0,G=+gD[b>>2],F=+gD[M>>2],P=+gD[v>>2],(H|0)!=0?(z=(+gD[H+264>>2]*-(L*G-k*F)+ +gD[H+268>>2]*-(k*P-G*V)+ +gD[H+272>>2]*-(F*V-L*P))*+gD[H+544>>2],j=(+gD[H+280>>2]*-(L*G-k*F)+ +gD[H+284>>2]*-(k*P-G*V)+ +gD[H+288>>2]*-(F*V-L*P))*+gD[H+548>>2],U=(+gD[H+296>>2]*-(L*G-k*F)+ +gD[H+300>>2]*-(k*P-G*V)+ +gD[H+304>>2]*-(F*V-L*P))*+gD[H+552>>2]):(z=0,j=0,U=0),gD[g+(_*152|0)+80>>2]=z,gD[g+(_*152|0)+84>>2]=j,gD[g+(_*152|0)+88>>2]=U,gD[g+(_*152|0)+92>>2]=0,W=(I|0)!=0?+gD[I+344>>2]+((q*N-X*J)*+gD[v>>2]+(X*O-N*W)*+gD[M>>2]+(J*W-q*O)*+gD[b>>2]):0,(H|0)!=0?(q=-z,z=-j,X=-U,z=+gD[H+344>>2]+((k*z-L*X)*+gD[v>>2]+(V*X-k*q)*+gD[M>>2]+(L*q-V*z)*+gD[b>>2])):z=0,gD[g+(_*152|0)+108>>2]=1/(W+z),(I|0)!=0?(fD[g+(_*152|0)+16>>2]=fD[v+0>>2],fD[g+(_*152|0)+20>>2]=fD[v+4>>2],fD[g+(_*152|0)+24>>2]=fD[v+8>>2],fD[g+(_*152|0)+28>>2]=fD[v+12>>2],gD[g+(_*152|0)>>2]=J*C-N*x,gD[g+(_*152|0)+4>>2]=N*T-C*O,gD[g+(_*152|0)+8>>2]=x*O-J*T,gD[g+(_*152|0)+12>>2]=0):(fD[g+(_*152|0)+0>>2]=0,fD[g+(_*152|0)+4>>2]=0,fD[g+(_*152|0)+8>>2]=0,fD[g+(_*152|0)+12>>2]=0,fD[g+(_*152|0)+16>>2]=0,fD[g+(_*152|0)+20>>2]=0,fD[g+(_*152|0)+24>>2]=0,fD[g+(_*152|0)+28>>2]=0),(H|0)!=0?(X=-+gD[M>>2],q=-+gD[b>>2],gD[g+(_*152|0)+48>>2]=-+gD[v>>2],gD[g+(_*152|0)+52>>2]=X,gD[g+(_*152|0)+56>>2]=q,gD[g+(_*152|0)+60>>2]=0,gD[g+(_*152|0)+32>>2]=-(L*G-k*F),gD[g+(_*152|0)+36>>2]=-(k*P-G*V),gD[g+(_*152|0)+40>>2]=-(F*V-L*P),gD[g+(_*152|0)+44>>2]=0):(fD[g+(_*152|0)+32>>2]=0,fD[g+(_*152|0)+36>>2]=0,fD[g+(_*152|0)+40>>2]=0,fD[g+(_*152|0)+44>>2]=0,fD[g+(_*152|0)+48>>2]=0,fD[g+(_*152|0)+52>>2]=0,fD[g+(_*152|0)+56>>2]=0,fD[g+(_*152|0)+60>>2]=0),P=+gD[B>>2]+ +gD[r+56>>2],(I|0)!=0?(q=+gD[I+332>>2],W=+gD[I+336>>2],X=+gD[I+328>>2],F=q*N-W*J+ +gD[I+312>>2],N=+gD[I+316>>2]+(W*O-N*X),J=J*X-q*O+ +gD[I+320>>2]):(F=0,N=0,J=0),(H|0)!=0?(q=+gD[H+332>>2],W=+gD[H+336>>2],X=+gD[H+328>>2],O=q*k-W*L+ +gD[H+312>>2],k=+gD[H+316>>2]+(W*V-k*X),V=L*X-q*V+ +gD[H+320>>2]):(O=0,k=0,V=0),V=+gD[v>>2]*(F-O)+(N-k)*+gD[M>>2]+(J-V)*+gD[b>>2],gD[g+(_*152|0)+104>>2]=+gD[s+(f*184|0)+88>>2],V*=+gD[s+(f*184|0)+96>>2],V=V>=-0?0:-V;do if((fD[r+64>>2]&4|0)==0)gD[g+(_*152|0)+100>>2]=0;else{L=+gD[s+(f*184|0)+124>>2]*+gD[r+60>>2],gD[g+(_*152|0)+100>>2]=L;do if((I|0)!=0){if((fD[D+(l*244|0)+240>>2]|0)==0)break;q=L*+gD[D+(l*244|0)+132>>2]*+gD[g+(_*152|0)+20>>2]*+gD[I+352>>2]*+gD[D+(l*244|0)+116>>2],X=L*+gD[D+(l*244|0)+136>>2]*+gD[g+(_*152|0)+24>>2]*+gD[I+356>>2]*+gD[D+(l*244|0)+120>>2],gD[D+(l*244|0)+64>>2]=+gD[D+(l*244|0)+112>>2]*L*+gD[D+(l*244|0)+128>>2]*+gD[g+(_*152|0)+16>>2]*+gD[I+348>>2]+ +gD[D+(l*244|0)+64>>2],gD[D+(l*244|0)+68>>2]=q+ +gD[D+(l*244|0)+68>>2],gD[D+(l*244|0)+72>>2]=X+ +gD[D+(l*244|0)+72>>2],X=L*+gD[D+(l*244|0)+100>>2]*+gD[g+(_*152|0)+68>>2],q=L*+gD[D+(l*244|0)+104>>2]*+gD[g+(_*152|0)+72>>2],gD[D+(l*244|0)+80>>2]=L*+gD[D+(l*244|0)+96>>2]*+gD[g+(_*152|0)+64>>2]+ +gD[D+(l*244|0)+80>>2],gD[D+(l*244|0)+84>>2]=X+ +gD[D+(l*244|0)+84>>2],gD[D+(l*244|0)+88>>2]=q+ +gD[D+(l*244|0)+88>>2]}while(0);if((H|0)==0)break;if(L=+gD[g+(_*152|0)+100>>2],(fD[D+(c*244|0)+240>>2]|0)==0)break;q=+gD[g+(_*152|0)+88>>2],X=+gD[g+(_*152|0)+84>>2],W=+gD[g+(_*152|0)+80>>2],j=L*+gD[D+(c*244|0)+132>>2]*+gD[g+(_*152|0)+52>>2]*+gD[H+352>>2]*+gD[D+(c*244|0)+116>>2],U=L*+gD[D+(c*244|0)+136>>2]*+gD[g+(_*152|0)+56>>2]*+gD[H+356>>2]*+gD[D+(c*244|0)+120>>2],gD[D+(c*244|0)+64>>2]=+gD[D+(c*244|0)+112>>2]*L*+gD[D+(c*244|0)+128>>2]*+gD[g+(_*152|0)+48>>2]*+gD[H+348>>2]+ +gD[D+(c*244|0)+64>>2],gD[D+(c*244|0)+68>>2]=j+ +gD[D+(c*244|0)+68>>2],gD[D+(c*244|0)+72>>2]=U+ +gD[D+(c*244|0)+72>>2],X=X*+gD[D+(c*244|0)+100>>2]*-L,q=q*+gD[D+(c*244|0)+104>>2]*-L,gD[D+(c*244|0)+80>>2]=+gD[D+(c*244|0)+80>>2]-W*+gD[D+(c*244|0)+96>>2]*-L,gD[D+(c*244|0)+84>>2]=+gD[D+(c*244|0)+84>>2]-X,gD[D+(c*244|0)+88>>2]=+gD[D+(c*244|0)+88>>2]-q}while(0);gD[g+(_*152|0)+96>>2]=0,(fD[D+(l*244|0)+240>>2]|0)==0?(X=0,W=0,U=0,L=0,z=0,G=0):(X=+gD[D+(l*244|0)+208>>2],W=+gD[D+(l*244|0)+212>>2],U=+gD[D+(l*244|0)+216>>2],L=+gD[D+(l*244|0)+224>>2],z=+gD[D+(l*244|0)+228>>2],G=+gD[D+(l*244|0)+232>>2]),(fD[D+(c*244|0)+240>>2]|0)==0?(O=0,j=0,k=0,J=0,N=0,F=0):(O=+gD[D+(c*244|0)+208>>2],j=+gD[D+(c*244|0)+212>>2],k=+gD[D+(c*244|0)+216>>2],J=+gD[D+(c*244|0)+224>>2],N=+gD[D+(c*244|0)+228>>2],F=+gD[D+(c*244|0)+232>>2]),V-=(X+ +gD[D+(l*244|0)+176>>2])*+gD[g+(_*152|0)+16>>2]+(W+ +gD[D+(l*244|0)+180>>2])*+gD[g+(_*152|0)+20>>2]+(U+ +gD[D+(l*244|0)+184>>2])*+gD[g+(_*152|0)+24>>2]+((L+ +gD[D+(l*244|0)+192>>2])*+gD[g+(_*152|0)>>2]+(z+ +gD[D+(l*244|0)+196>>2])*+gD[g+(_*152|0)+4>>2]+(G+ +gD[D+(l*244|0)+200>>2])*+gD[g+(_*152|0)+8>>2])+((O+ +gD[D+(c*244|0)+176>>2])*+gD[g+(_*152|0)+48>>2]+(j+ +gD[D+(c*244|0)+180>>2])*+gD[g+(_*152|0)+52>>2]+(k+ +gD[D+(c*244|0)+184>>2])*+gD[g+(_*152|0)+56>>2]+((J+ +gD[D+(c*244|0)+192>>2])*+gD[g+(_*152|0)+32>>2]+(N+ +gD[D+(c*244|0)+196>>2])*+gD[g+(_*152|0)+36>>2]+(F+ +gD[D+(c*244|0)+200>>2])*+gD[g+(_*152|0)+40>>2])),D=(fD[r+44>>2]|0)==0,B=(D?!0:P>+gD[r+48>>2])?r+32|0:r+36|0,P>0?(L=0,V-=P/+gD[r+12>>2]):L=-(P*+gD[B>>2])/+gD[r+12>>2],q=+gD[g+(_*152|0)+108>>2],L*=q,V*=q;
do if(D)n=69;else{if(P>+gD[r+48>>2]){n=69;break}gD[g+(_*152|0)+112>>2]=V,gD[g+(_*152|0)+128>>2]=L}while(0);(n|0)==69&&(n=0,gD[g+(_*152|0)+112>>2]=L+V,gD[g+(_*152|0)+128>>2]=0),gD[g+(_*152|0)+116>>2]=0,gD[g+(_*152|0)+120>>2]=0,gD[g+(_*152|0)+124>>2]=1e10,fD[g+(_*152|0)+140>>2]=fD[t+68>>2],(R|0)==0?(P=0,L=0,V=0):(P=+gD[R+328>>2],L=+gD[R+332>>2],V=+gD[R+336>>2]),(w|0)==0?(J=0,O=0,k=0):(J=+gD[w+328>>2],O=+gD[w+332>>2],k=+gD[w+336>>2]),P=J-P,L=O-L,V=k-V,gD[p+32>>2]=P,gD[p+36>>2]=L,gD[p+40>>2]=V,gD[p+44>>2]=0;do if((A|0)>0?+gD[s+(f*184|0)+92>>2]>0:0){if(A=A+-1|0,O=+CD(+(P*P+L*L+V*V)),O>+gD[r+80>>2]){k=P*(1/O),gD[p+32>>2]=k,P=L*(1/O),gD[p+36>>2]=P,V*=1/O,gD[p+40>>2]=V;do if((o|0)!=0){if((fD[o+180>>2]&2|0)==0)break;O=+gD[o+4>>2],F=+gD[o+20>>2],j=+gD[o+36>>2],J=+gD[o+8>>2],G=+gD[o+24>>2],W=+gD[o+40>>2],N=+gD[o+12>>2],z=+gD[o+28>>2],q=+gD[o+44>>2],U=(O*k+F*P+V*j)*+gD[o+164>>2],X=(k*J+P*G+V*W)*+gD[o+168>>2],V=(k*N+P*z+V*q)*+gD[o+172>>2],gD[p+32>>2]=O*U+J*X+N*V,gD[p+36>>2]=F*U+G*X+z*V,gD[p+40>>2]=j*U+W*X+q*V,gD[p+44>>2]=0,k=O*U+J*X+N*V,P=F*U+G*X+z*V,V=j*U+W*X+q*V}while(0);do if((u|0)!=0){if((fD[u+180>>2]&2|0)==0)break;O=+gD[u+4>>2],F=+gD[u+20>>2],j=+gD[u+36>>2],J=+gD[u+8>>2],G=+gD[u+24>>2],W=+gD[u+40>>2],N=+gD[u+12>>2],z=+gD[u+28>>2],q=+gD[u+44>>2],U=(O*k+F*P+j*V)*+gD[u+164>>2],X=(k*J+P*G+V*W)*+gD[u+168>>2],V=(k*N+P*z+V*q)*+gD[u+172>>2],gD[p+32>>2]=O*U+J*X+N*V,gD[p+36>>2]=F*U+G*X+z*V,gD[p+40>>2]=j*U+W*X+q*V,gD[p+44>>2]=0,k=O*U+J*X+N*V,P=F*U+G*X+z*V,V=j*U+W*X+q*V}while(0);if(!(+CD(+(k*k+P*P+V*V))>.001))break;Nb(t,p+32|0,l,c,_,m);break}Nb(t,v,l,c,_,m),V=+gD[b>>2],+ED(+V)>.7071067690849304?(L=+gD[M>>2],q=1/+CD(+(V*V+L*L)),gD[p+16>>2]=0,gD[p+20>>2]=-(q*V),gD[p+24>>2]=q*L,gD[p>>2]=(V*V+L*L)*q,X=+gD[v>>2],gD[p+4>>2]=-(X*q*L),P=0,O=-(q*V),J=q*L,k=(V*V+L*L)*q,L=-(X*q*L),V=X*-(q*V)):(W=+gD[v>>2],X=+gD[M>>2],q=1/+CD(+(W*W+X*X)),gD[p+16>>2]=-(X*q),gD[p+20>>2]=q*W,gD[p+24>>2]=0,gD[p>>2]=-(V*q*W),gD[p+4>>2]=V*-(X*q),P=-(X*q),O=q*W,J=0,k=-(V*q*W),L=V*-(X*q),V=(W*W+X*X)*q),gD[p+8>>2]=V;do if((o|0)!=0){if((fD[o+180>>2]&2|0)==0)break;Y=+gD[o+4>>2],F=+gD[o+20>>2],j=+gD[o+36>>2],K=+gD[o+8>>2],G=+gD[o+24>>2],W=+gD[o+40>>2],N=+gD[o+12>>2],z=+gD[o+28>>2],q=+gD[o+44>>2],U=(Y*P+F*O+j*J)*+gD[o+164>>2],X=(P*K+O*G+J*W)*+gD[o+168>>2],J=(P*N+O*z+J*q)*+gD[o+172>>2],gD[p+16>>2]=Y*U+K*X+N*J,gD[p+20>>2]=F*U+G*X+z*J,gD[p+24>>2]=j*U+W*X+q*J,gD[p+28>>2]=0,P=Y*U+K*X+N*J,O=F*U+G*X+z*J,J=j*U+W*X+q*J}while(0);do if((u|0)!=0){if((fD[u+180>>2]&2|0)==0)break;N=+gD[u+4>>2],z=+gD[u+20>>2],W=+gD[u+36>>2],F=+gD[u+8>>2],j=+gD[u+24>>2],q=+gD[u+40>>2],G=+gD[u+12>>2],U=+gD[u+28>>2],Y=+gD[u+44>>2],X=(N*P+z*O+W*J)*+gD[u+164>>2],K=(P*F+O*j+J*q)*+gD[u+168>>2],J=(P*G+O*U+J*Y)*+gD[u+172>>2],gD[p+16>>2]=N*X+F*K+G*J,gD[p+20>>2]=z*X+j*K+U*J,gD[p+24>>2]=W*X+q*K+Y*J,gD[p+28>>2]=0,P=N*X+F*K+G*J,O=z*X+j*K+U*J,J=W*X+q*K+Y*J}while(0);do if((o|0)!=0){if((fD[o+180>>2]&2|0)==0)break;N=+gD[o+4>>2],z=+gD[o+20>>2],W=+gD[o+36>>2],F=+gD[o+8>>2],j=+gD[o+24>>2],q=+gD[o+40>>2],G=+gD[o+12>>2],U=+gD[o+28>>2],Y=+gD[o+44>>2],X=(N*k+z*L+W*V)*+gD[o+164>>2],K=(k*F+L*j+V*q)*+gD[o+168>>2],V=(k*G+L*U+V*Y)*+gD[o+172>>2],gD[p>>2]=N*X+F*K+G*V,gD[p+4>>2]=z*X+j*K+U*V,gD[p+8>>2]=W*X+q*K+Y*V,gD[p+12>>2]=0,k=N*X+F*K+G*V,L=z*X+j*K+U*V,V=W*X+q*K+Y*V}while(0);do if((u|0)!=0){if((fD[u+180>>2]&2|0)==0)break;N=+gD[u+4>>2],z=+gD[u+20>>2],W=+gD[u+36>>2],F=+gD[u+8>>2],j=+gD[u+24>>2],q=+gD[u+40>>2],G=+gD[u+12>>2],U=+gD[u+28>>2],Y=+gD[u+44>>2],X=(N*k+z*L+W*V)*+gD[u+164>>2],K=(k*F+L*j+V*q)*+gD[u+168>>2],V=(k*G+L*U+V*Y)*+gD[u+172>>2],gD[p>>2]=N*X+F*K+G*V,gD[p+4>>2]=z*X+j*K+U*V,gD[p+8>>2]=W*X+q*K+Y*V,gD[p+12>>2]=0,k=N*X+F*K+G*V,L=z*X+j*K+U*V,V=W*X+q*K+Y*V}while(0);if(+CD(+(P*P+O*O+J*J))>.001&&Nb(t,p+16|0,l,c,_,m),!(+CD(+(k*k+L*L+V*V))>.001))break;Nb(t,p,l,c,_,m)}while(0);do if((fD[r+64>>2]&32|0)==0)n=106;else{if((uD[s+(f*184|0)+120>>0]|0)==0){n=106;break}if(Jb(t,s+(f*184|0)+156|0,l,c,_,m,p+64|0,p+48|0,1,+gD[s+(f*184|0)+136>>2],+gD[s+(f*184|0)+144>>2]),(fD[r+64>>2]&16|0)==0)break;Jb(t,s+(f*184|0)+172|0,l,c,_,m,p+64|0,p+48|0,1,+gD[s+(f*184|0)+140>>2],+gD[s+(f*184|0)+148>>2])}while(0);do if((n|0)==106){if(n=0,w=s+(f*184|0)+156|0,P=+gD[v>>2],V=+gD[M>>2],L=+gD[b>>2],O=y-(T*y+S*x+E*C)*P,k=S-(T*y+S*x+E*C)*V,y=E-(T*y+S*x+E*C)*L,gD[s+(f*184|0)+156>>2]=O,D=s+(f*184|0)+160|0,gD[D>>2]=k,R=s+(f*184|0)+164|0,gD[R>>2]=y,gD[s+(f*184|0)+168>>2]=0,(fD[r+64>>2]&64|0)==0?O*O+k*k+y*y>1.1920928955078125e-7:0){if(Y=1/+CD(+(O*O+k*k+y*y)),gD[w>>2]=O*Y,gD[D>>2]=Y*k,gD[R>>2]=Y*y,Ob(o,w),Ob(u,w),Jb(t,w,l,c,_,m,p+64|0,p+48|0,1,0,0),(fD[r+64>>2]&16|0)==0)break;I=s+(f*184|0)+172|0,q=+gD[D>>2],U=+gD[b>>2],j=+gD[R>>2],W=+gD[M>>2],K=+gD[v>>2],X=+gD[w>>2],gD[s+(f*184|0)+172>>2]=q*U-j*W,gD[s+(f*184|0)+184>>2]=0,Y=1/+CD(+((q*U-j*W)*(q*U-j*W)+(j*K-U*X)*(j*K-U*X)+(W*X-q*K)*(W*X-q*K))),gD[I>>2]=(q*U-j*W)*Y,gD[s+(f*184|0)+176>>2]=(j*K-U*X)*Y,gD[s+(f*184|0)+180>>2]=(W*X-q*K)*Y,Ob(o,I),Ob(u,I),Jb(t,I,l,c,_,m,p+64|0,p+48|0,1,0,0);break}if(b=s+(f*184|0)+172|0,+ED(+L)>.7071067690849304?(Y=1/+CD(+(L*L+V*V)),gD[w>>2]=0,gD[D>>2]=-(Y*L),gD[R>>2]=Y*V,gD[b>>2]=(L*L+V*V)*Y,gD[s+(f*184|0)+176>>2]=-(P*Y*V),gD[s+(f*184|0)+180>>2]=P*-(Y*L)):(Y=1/+CD(+(P*P+V*V)),gD[w>>2]=-(V*Y),gD[D>>2]=Y*P,gD[R>>2]=0,gD[b>>2]=-(L*Y*P),gD[s+(f*184|0)+176>>2]=L*-(V*Y),gD[s+(f*184|0)+180>>2]=(P*P+V*V)*Y),Ob(o,w),Ob(u,w),Jb(t,w,l,c,_,m,p+64|0,p+48|0,1,0,0),v=fD[r+64>>2]|0,(v&16|0)!=0&&(Ob(o,b),Ob(u,b),Jb(t,b,l,c,_,m,p+64|0,p+48|0,1,0,0),v=fD[r+64>>2]|0),(v&80|0)!=80)break;uD[s+(f*184|0)+120>>0]=1}while(0);m=fD[t+16>>2]|0,v=fD[m+(l*244|0)+240>>2]|0,b=fD[m+(c*244|0)+240>>2]|0,g=fD[g+(_*152|0)+140>>2]|0,_=fD[t+76>>2]|0,M=fD[r+64>>2]|0;do if((M&4|0)==0)gD[_+(g*152|0)+100>>2]=0;else{if(y=+gD[s+(f*184|0)+128>>2]*+gD[r+60>>2],gD[_+(g*152|0)+100>>2]=y,(v|0)!=0&&(q=+gD[v+344>>2],Y=y*q*+gD[_+(g*152|0)+20>>2]*+gD[v+352>>2]*+gD[m+(l*244|0)+116>>2],K=y*q*+gD[_+(g*152|0)+24>>2]*+gD[v+356>>2]*+gD[m+(l*244|0)+120>>2],gD[m+(l*244|0)+64>>2]=+gD[m+(l*244|0)+112>>2]*y*q*+gD[_+(g*152|0)+16>>2]*+gD[v+348>>2]+ +gD[m+(l*244|0)+64>>2],gD[m+(l*244|0)+68>>2]=Y+ +gD[m+(l*244|0)+68>>2],gD[m+(l*244|0)+72>>2]=K+ +gD[m+(l*244|0)+72>>2],K=y*+gD[m+(l*244|0)+100>>2]*+gD[_+(g*152|0)+68>>2],Y=y*+gD[m+(l*244|0)+104>>2]*+gD[_+(g*152|0)+72>>2],gD[m+(l*244|0)+80>>2]=y*+gD[m+(l*244|0)+96>>2]*+gD[_+(g*152|0)+64>>2]+ +gD[m+(l*244|0)+80>>2],gD[m+(l*244|0)+84>>2]=K+ +gD[m+(l*244|0)+84>>2],gD[m+(l*244|0)+88>>2]=Y+ +gD[m+(l*244|0)+88>>2]),(b|0)==0)break;if(S=+gD[b+344>>2],y=+gD[_+(g*152|0)+100>>2],(fD[m+(c*244|0)+240>>2]|0)==0)break;Y=+gD[_+(g*152|0)+88>>2],K=+gD[_+(g*152|0)+84>>2],q=+gD[_+(g*152|0)+80>>2],W=y*S*+gD[_+(g*152|0)+52>>2]*+gD[b+352>>2]*+gD[m+(c*244|0)+116>>2],X=y*S*+gD[_+(g*152|0)+56>>2]*+gD[b+356>>2]*+gD[m+(c*244|0)+120>>2],gD[m+(c*244|0)+64>>2]=+gD[m+(c*244|0)+112>>2]*y*S*+gD[_+(g*152|0)+48>>2]*+gD[b+348>>2]+ +gD[m+(c*244|0)+64>>2],gD[m+(c*244|0)+68>>2]=W+ +gD[m+(c*244|0)+68>>2],gD[m+(c*244|0)+72>>2]=X+ +gD[m+(c*244|0)+72>>2],K=K*+gD[m+(c*244|0)+100>>2]*-y,Y=Y*+gD[m+(c*244|0)+104>>2]*-y,gD[m+(c*244|0)+80>>2]=+gD[m+(c*244|0)+80>>2]-q*+gD[m+(c*244|0)+96>>2]*-y,gD[m+(c*244|0)+84>>2]=+gD[m+(c*244|0)+84>>2]-K,gD[m+(c*244|0)+88>>2]=+gD[m+(c*244|0)+88>>2]-Y}while(0);do if((M&16|0)!=0){if((M&4|0)==0){gD[_+((g+1|0)*152|0)+100>>2]=0;break}y=+gD[s+(f*184|0)+132>>2]*+gD[r+60>>2],gD[_+((g+1|0)*152|0)+100>>2]=y;do if((v|0)!=0){if(S=+gD[v+344>>2],(fD[m+(l*244|0)+240>>2]|0)==0)break;Y=y*S*+gD[_+((g+1|0)*152|0)+20>>2]*+gD[m+(l*244|0)+116>>2],K=y*S*+gD[_+((g+1|0)*152|0)+24>>2]*+gD[m+(l*244|0)+120>>2],gD[m+(l*244|0)+64>>2]=+gD[m+(l*244|0)+112>>2]*y*S*+gD[_+((g+1|0)*152|0)+16>>2]+ +gD[m+(l*244|0)+64>>2],gD[m+(l*244|0)+68>>2]=Y+ +gD[m+(l*244|0)+68>>2],gD[m+(l*244|0)+72>>2]=K+ +gD[m+(l*244|0)+72>>2],K=y*+gD[m+(l*244|0)+100>>2]*+gD[_+((g+1|0)*152|0)+68>>2],Y=y*+gD[m+(l*244|0)+104>>2]*+gD[_+((g+1|0)*152|0)+72>>2],gD[m+(l*244|0)+80>>2]=y*+gD[m+(l*244|0)+96>>2]*+gD[_+((g+1|0)*152|0)+64>>2]+ +gD[m+(l*244|0)+80>>2],gD[m+(l*244|0)+84>>2]=K+ +gD[m+(l*244|0)+84>>2],gD[m+(l*244|0)+88>>2]=Y+ +gD[m+(l*244|0)+88>>2]}while(0);if((b|0)==0)break;if(S=+gD[b+344>>2],y=+gD[_+((g+1|0)*152|0)+100>>2],(fD[m+(c*244|0)+240>>2]|0)==0)break;Y=+gD[_+((g+1|0)*152|0)+88>>2],K=+gD[_+((g+1|0)*152|0)+84>>2],q=+gD[_+((g+1|0)*152|0)+80>>2],W=y*S*+gD[_+((g+1|0)*152|0)+52>>2]*+gD[m+(c*244|0)+116>>2],X=y*S*+gD[_+((g+1|0)*152|0)+56>>2]*+gD[m+(c*244|0)+120>>2],gD[m+(c*244|0)+64>>2]=+gD[m+(c*244|0)+112>>2]*y*S*+gD[_+((g+1|0)*152|0)+48>>2]+ +gD[m+(c*244|0)+64>>2],gD[m+(c*244|0)+68>>2]=W+ +gD[m+(c*244|0)+68>>2],gD[m+(c*244|0)+72>>2]=X+ +gD[m+(c*244|0)+72>>2],K=K*+gD[m+(c*244|0)+100>>2]*-y,Y=Y*+gD[m+(c*244|0)+104>>2]*-y,gD[m+(c*244|0)+80>>2]=+gD[m+(c*244|0)+80>>2]-q*+gD[m+(c*244|0)+96>>2]*-y,gD[m+(c*244|0)+84>>2]=+gD[m+(c*244|0)+84>>2]-K,gD[m+(c*244|0)+88>>2]=+gD[m+(c*244|0)+88>>2]-Y}while(0);_=fD[s+748>>2]|0}f=f+1|0}while((f|0)<(_|0))}}while(0);a=a+1|0}while((a|0)!=(i|0));bD=p}function jb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0;for(i=bD,bD=bD+336|0,a=fD[t+52>>2]|0,((a|0)!=0?(oP[fD[fD[a>>2]>>2]&511](a),r=fD[t+52>>2]|0,(r|0)!=0):0)&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[5004]=(fD[5004]|0)+1,r=Ew(151)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),fD[r>>2]=19496,uD[r+20>>0]=1,fD[r+16>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,uD[r+40>>0]=1,fD[r+36>>2]=0,fD[r+28>>2]=0,fD[r+32>>2]=0,uD[r+60>>0]=1,fD[r+56>>2]=0,fD[r+48>>2]=0,fD[r+52>>2]=0,fD[t+52>>2]=r,u=0,a=0,_=0,r=0;;){if((u|0)>=(lP[fD[(fD[t>>2]|0)+96>>2]&127](t)|0))break;if((a|0)==(_|0))if(m=(_|0)==0?1:_<<1,(_|0)<(m|0)){if(((m|0)!=0?(fD[5004]=(fD[5004]|0)+1,c=Ew((m<<4|3)+16|0)|0,(c|0)!=0):0)?(fD[(c+19&-16)+-4>>2]=c,f=c+19&-16):f=0,(_|0)>0){p=0;do W=f+(p<<4)|0,U=r+(p<<4)|0,fD[W+0>>2]=fD[U+0>>2],fD[W+4>>2]=fD[U+4>>2],fD[W+8>>2]=fD[U+8>>2],fD[W+12>>2]=fD[U+12>>2],p=p+1|0;while((p|0)!=(_|0))}(r|0)==0?(p=_,_=m,r=f):(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0),p=_,_=m,r=f)}else p=_;else p=a;W=r+(a<<4)|0,fD[W+0>>2]=fD[i+256>>2],fD[W+4>>2]=fD[i+260>>2],fD[W+8>>2]=fD[i+264>>2],fD[W+12>>2]=fD[i+268>>2],OP[fD[(fD[t>>2]|0)+108>>2]&127](t,u,W),u=u+1|0,a=p+1|0}if(uD[i+212>>0]=1,fD[i+208>>2]=0,fD[i+200>>2]=0,fD[i+204>>2]=0,uD[i+232>>0]=1,fD[i+228>>2]=0,fD[i+220>>2]=0,fD[i+224>>2]=0,uD[i+252>>0]=1,fD[i+248>>2]=0,fD[i+240>>2]=0,fD[i+244>>2]=0,(e|0)!=0){if((a|0)>0){for(e=0,S=0,T=0,E=0;;){if(p=e,e=e+1|0,(e|0)<(a|0)){u=r+(p<<4)|0,c=r+(p<<4)+4|0,p=r+(p<<4)+8|0,f=e;do if(g=f,f=f+1|0,(f|0)<(a|0)){m=r+(g<<4)|0,_=r+(g<<4)+4|0,g=r+(g<<4)+8|0,y=f;do{for(v=+gD[u>>2],O=+gD[m>>2]-v,I=+gD[c>>2],k=+gD[_>>2]-I,M=+gD[p>>2],H=+gD[g>>2]-M,v=+gD[r+(y<<4)>>2]-v,I=+gD[r+(y<<4)+4>>2]-I,M=+gD[r+(y<<4)+8>>2]-M,F=1,x=0;;){J=(k*M-H*I)*F,N=(H*v-O*M)*F,F=(O*I-k*v)*F;t:do if(F*F+(J*J+N*N)>9999999747378752e-20){if(G=1/+CD(+(F*F+(J*J+N*N))),(S|0)>0){C=0;do{if(J*G*+gD[E+(C<<4)>>2]+N*G*+gD[E+(C<<4)+4>>2]+F*G*+gD[E+(C<<4)+8>>2]>.9990000128746033)break t;C=C+1|0}while((C|0)<(S|0))}z=J*G*+gD[u>>2]+N*G*+gD[c>>2]+F*G*+gD[p>>2],C=0;do{if(J*G*+gD[r+(C<<4)>>2]+N*G*+gD[r+(C<<4)+4>>2]+F*G*+gD[r+(C<<4)+8>>2]-z+-.009999999776482582>0)break t;C=C+1|0}while((C|0)<(a|0));do if((S|0)==(T|0))if(A=(T|0)==0?1:T<<1,(T|0)<(A|0)){do if((A|0)==0)w=0;else{if(fD[5004]=(fD[5004]|0)+1,C=Ew((A<<4|3)+16|0)|0,(C|0)==0){w=0;break}fD[(C+19&-16)+-4>>2]=C,w=C+19&-16}while(0);if((T|0)>0){C=0;do W=w+(C<<4)|0,U=E+(C<<4)|0,fD[W+0>>2]=fD[U+0>>2],fD[W+4>>2]=fD[U+4>>2],fD[W+8>>2]=fD[U+8>>2],fD[W+12>>2]=fD[U+12>>2],C=C+1|0;while((C|0)!=(T|0))}if((E|0)==0){C=T,T=A,E=w;break}fD[5006]=(fD[5006]|0)+1,Cw(fD[E+-4>>2]|0),C=T,T=A,E=w}else C=T;else C=S;while(0);gD[E+(C<<4)>>2]=J*G,gD[E+(C<<4)+4>>2]=N*G,gD[E+(C<<4)+8>>2]=F*G,gD[E+(C<<4)+12>>2]=-z,S=S+1|0}while(0);if(x=x+1|0,(x|0)==2)break;F=-1}y=y+1|0}while((y|0)!=(a|0))}while((f|0)!=(a|0))}if((e|0)==(a|0)){a=E;break}}if((S|0)>0){for(c=0,e=0,u=0,_=0;;){if(W=a+(c<<4)|0,fD[i+184>>2]=fD[W+0>>2],fD[i+188>>2]=fD[W+4>>2],fD[i+192>>2]=fD[W+8>>2],v=+gD[a+(c<<4)+12>>2],v-=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),(e|0)==(u|0))if(m=(u|0)==0?1:u<<1,(u|0)<(m|0)){if(((m|0)!=0?(fD[5004]=(fD[5004]|0)+1,n=Ew((m<<4|3)+16|0)|0,(n|0)!=0):0)?(fD[(n+19&-16)+-4>>2]=n,p=n+19&-16):p=0,(u|0)>0){f=0;do W=p+(f<<4)|0,U=_+(f<<4)|0,fD[W+0>>2]=fD[U+0>>2],fD[W+4>>2]=fD[U+4>>2],fD[W+8>>2]=fD[U+8>>2],fD[W+12>>2]=fD[U+12>>2],f=f+1|0;while((f|0)!=(u|0))}(_|0)==0?(f=u,u=m):(fD[5006]=(fD[5006]|0)+1,Cw(fD[_+-4>>2]|0),f=u,u=m)}else f=u,p=_;else f=e,p=_;if(W=p+(f<<4)|0,fD[W+0>>2]=fD[i+184>>2],fD[W+4>>2]=fD[i+188>>2],fD[W+8>>2]=fD[i+192>>2],gD[p+(f<<4)+12>>2]=v,e=e+1|0,c=c+1|0,(c|0)>=(S|0)){n=p;break}_=p}if((e|0)>0){c=0,m=0,g=0,y=0;do if(p=c,c=c+1|0,(c|0)<(e|0)){u=c;do if(f=u,u=u+1|0,(u|0)<(e|0)){_=u;do{H=+gD[n+(f<<4)+4>>2],G=+gD[n+(_<<4)+8>>2],M=+gD[n+(f<<4)+8>>2],I=+gD[n+(_<<4)+4>>2],N=+gD[n+(_<<4)>>2],O=+gD[n+(f<<4)>>2],F=+gD[n+(p<<4)+8>>2],k=+gD[n+(p<<4)+4>>2],J=+gD[n+(p<<4)>>2];t:do if((((I*O-H*N)*(I*O-H*N)+((H*G-M*I)*(H*G-M*I)+(M*N-G*O)*(M*N-G*O))>9999999747378752e-20?(N*k-I*J)*(N*k-I*J)+((I*F-G*k)*(I*F-G*k)+(G*J-N*F)*(G*J-N*F))>9999999747378752e-20:0)?(H*J-O*k)*(H*J-O*k)+((M*k-H*F)*(M*k-H*F)+(O*F-M*J)*(O*F-M*J))>9999999747378752e-20:0)?(b=F*(I*O-H*N)+(k*(M*N-G*O)+(H*G-M*I)*J),+ED(+b)>9.999999974752427e-7):0){X=+gD[n+(p<<4)+12>>2],z=+gD[n+(f<<4)+12>>2],q=+gD[n+(_<<4)+12>>2],v=-1/b*((M*k-H*F)*q+((H*G-M*I)*X+(I*F-G*k)*z)),M=-1/b*((O*F-M*J)*q+((M*N-G*O)*X+(G*J-N*F)*z)),k=-1/b*((H*J-O*k)*q+((I*O-H*N)*X+(N*k-I*J)*z)),S=0;do{if(+gD[n+(S<<4)+12>>2]+(v*+gD[n+(S<<4)>>2]+M*+gD[n+(S<<4)+4>>2]+k*+gD[n+(S<<4)+8>>2])+-.009999999776482582>0)break t;S=S+1|0}while((S|0)<(e|0));do if((m|0)==(g|0)){if(x=(g|0)==0?1:g<<1,(g|0)>=(x|0)){S=g;break}do if((x|0)==0)T=0;else{if(fD[5004]=(fD[5004]|0)+1,S=Ew((x<<4|3)+16|0)|0,(S|0)==0){T=0;break}fD[(S+19&-16)+-4>>2]=S,T=S+19&-16}while(0);if((g|0)>0){S=0;do W=T+(S<<4)|0,U=y+(S<<4)|0,fD[W+0>>2]=fD[U+0>>2],fD[W+4>>2]=fD[U+4>>2],fD[W+8>>2]=fD[U+8>>2],fD[W+12>>2]=fD[U+12>>2],S=S+1|0;while((S|0)!=(g|0))}if((y|0)==0){S=g,g=x,y=T;break}fD[5006]=(fD[5006]|0)+1,Cw(fD[y+-4>>2]|0),S=g,g=x,y=T}else S=m;while(0);gD[y+(S<<4)>>2]=v,gD[y+(S<<4)+4>>2]=M,gD[y+(S<<4)+8>>2]=k,gD[y+(S<<4)+12>>2]=0,m=m+1|0}while(0);_=_+1|0}while((_|0)!=(e|0))}while((u|0)!=(e|0))}while((c|0)!=(e|0))}else m=0,y=0}else n=0,m=0,y=0}else a=0,n=0,m=0,y=0;Ox(i+196|0,y,m),(y|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[y+-4>>2]|0)),(n|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0)),(a|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0))}else Ox(i+196|0,r,a);if(u=fD[i+240>>2]|0,(u|0)>0&((u|0)<0^1)){fD[5004]=(fD[5004]|0)+1,n=Ew((u<<4|3)+16|0)|0,(n|0)==0?a=0:(fD[(n+19&-16)+-4>>2]=n,a=n+19&-16),n=0;do W=a+(n<<4)|0,fD[W+0>>2]=fD[i+168>>2],fD[W+4>>2]=fD[i+172>>2],fD[W+8>>2]=fD[i+176>>2],fD[W+12>>2]=fD[i+180>>2],n=n+1|0;while((n|0)!=(u|0))}else a=0;uD[i+164>>0]=1,e=i+160|0,fD[e>>2]=0,n=i+152|0,fD[n>>2]=0,fD[i+156>>2]=0,c=i+112|0,p=c+36|0;do fD[c>>2]=0,c=c+4|0;while((c|0)<(p|0));if(uD[i+128>>0]=1,fD[i+124>>2]=0,fD[i+116>>2]=0,fD[i+120>>2]=0,(u|0)<0&&tP(),(u|0)>0){Yb(i+148|0,u),c=fD[e>>2]|0,p=0;do f=c+(p*36|0)|0,(f|0)!=0&&(Zb(f,i+112|0),fD[f+20>>2]=fD[i+132>>2],fD[f+24>>2]=fD[i+136>>2],fD[f+28>>2]=fD[i+140>>2],fD[f+32>>2]=fD[i+144>>2]),p=p+1|0;while((p|0)!=(u|0));p=fD[i+124>>2]|0,fD[n>>2]=u,(p|0)!=0&&((uD[i+128>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[p+-4>>2]|0)),fD[i+124>>2]=0)}else fD[n>>2]=u,c=0;if(uD[i+128>>0]=1,fD[i+124>>2]=0,fD[i+116>>2]=0,fD[i+120>>2]=0,p=fD[i+200>>2]|0,f=fD[t+52>>2]|0,_=fD[f+8>>2]|0,(_|0)<(p|0)){if((fD[f+12>>2]|0)<(p|0)){if((p|0)==0?(m=0,y=_):(fD[5004]=(fD[5004]|0)+1,m=Ew((p<<4|3)+16|0)|0,(m|0)==0?m=0:(fD[(m+19&-16)+-4>>2]=m,m=m+19&-16),y=fD[f+8>>2]|0),(y|0)>0){g=0;do W=m+(g<<4)|0,U=(fD[f+16>>2]|0)+(g<<4)|0,fD[W+0>>2]=fD[U+0>>2],fD[W+4>>2]=fD[U+4>>2],fD[W+8>>2]=fD[U+8>>2],fD[W+12>>2]=fD[U+12>>2],g=g+1|0;while((g|0)!=(y|0))}g=fD[f+16>>2]|0,(g|0)!=0&&((uD[f+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[g+-4>>2]|0)),fD[f+16>>2]=0),uD[f+20>>0]=1,fD[f+16>>2]=m,fD[f+12>>2]=p,m=f+16|0}else m=f+16|0;do W=(fD[m>>2]|0)+(_<<4)|0,fD[W+0>>2]=fD[i+96>>2],fD[W+4>>2]=fD[i+100>>2],fD[W+8>>2]=fD[i+104>>2],fD[W+12>>2]=fD[i+108>>2],_=_+1|0;while((_|0)!=(p|0))}if(fD[f+8>>2]=p,(p|0)>0){_=fD[i+208>>2]|0,f=0;do W=(fD[(fD[t+52>>2]|0)+16>>2]|0)+(f<<4)|0,U=_+(f<<4)|0,fD[W+0>>2]=fD[U+0>>2],fD[W+4>>2]=fD[U+4>>2],fD[W+8>>2]=fD[U+8>>2],fD[W+12>>2]=fD[U+12>>2],f=f+1|0;while((f|0)!=(p|0))}if((u|0)>0){p=0;do{f=(fD[i+228>>2]|0)+((fD[(fD[i+248>>2]|0)+(p<<2)>>2]|0)*12|0)|0,g=c+(p*36|0)+4|0,_=c+(p*36|0)+8|0,m=c+(p*36|0)+12|0,y=c+(p*36|0)+16|0,c=f,x=0;do{if(S=c+4|0,T=fD[c+((fD[S>>2]|0)*12|0)+8>>2]|0,A=fD[g>>2]|0,(A|0)==(fD[_>>2]|0)?(d=(A|0)==0?1:A<<1,(A|0)<(d|0)):0){if((d|0)==0?E=0:(fD[5004]=(fD[5004]|0)+1,E=Ew((d<<2|3)+16|0)|0,(E|0)==0?E=0:(fD[(E+19&-16)+-4>>2]=E,E=E+19&-16),A=fD[g>>2]|0),(A|0)>0){C=0;do w=E+(C<<2)|0,(w|0)!=0&&(fD[w>>2]=fD[(fD[m>>2]|0)+(C<<2)>>2]),C=C+1|0;while((C|0)!=(A|0))}C=fD[m>>2]|0,(C|0)!=0&&((uD[y>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[C+-4>>2]|0)),fD[m>>2]=0),uD[y>>0]=1,fD[m>>2]=E,fD[_>>2]=d,A=fD[g>>2]|0}E=(fD[m>>2]|0)+(A<<2)|0,(E|0)!=0&&(fD[E>>2]=T,A=fD[g>>2]|0),fD[g>>2]=A+1,U=fD[c+8>>2]|0,W=fD[i+208>>2]|0,b=+gD[W+(U<<4)>>2]-+gD[W+(T<<4)>>2],v=+gD[W+(U<<4)+4>>2]-+gD[W+(T<<4)+4>>2],k=+gD[W+(U<<4)+8>>2]-+gD[W+(T<<4)+8>>2],M=1/+CD(+(b*b+v*v+k*k)),(x|0)<2&&(gD[i+288+(x<<4)>>2]=b*M,gD[i+288+(x<<4)+4>>2]=v*M,gD[i+288+(x<<4)+8>>2]=k*M,gD[i+288+(x<<4)+12>>2]=0,x=x+1|0),W=fD[S>>2]|0,c=c+(((fD[c+(W*12|0)>>2]|0)+W|0)*12|0)|0}while((c|0)!=(f|0));if(m=a+(p<<4)|0,(x|0)==2?(F=+gD[i+292>>2],G=+gD[i+312>>2],z=+gD[i+296>>2],X=+gD[i+308>>2],N=+gD[i+304>>2],J=+gD[i+288>>2],U=a+(p<<4)+4|0,W=a+(p<<4)+8|0,gD[a+(p<<4)+12>>2]=0,q=1/+CD(+((F*G-z*X)*(F*G-z*X)+(z*N-G*J)*(z*N-G*J)+(X*J-F*N)*(X*J-F*N))),gD[m>>2]=(F*G-z*X)*q,gD[U>>2]=(z*N-G*J)*q,gD[W>>2]=(X*J-F*N)*q,c=fD[e>>2]|0,gD[c+(p*36|0)+20>>2]=(F*G-z*X)*q,gD[c+(p*36|0)+24>>2]=+gD[U>>2],gD[c+(p*36|0)+28>>2]=+gD[W>>2],gD[c+(p*36|0)+32>>2]=1.0000000150474662e30):(fD[m+0>>2]=0,fD[m+4>>2]=0,fD[m+8>>2]=0,fD[m+12>>2]=0,c=fD[e>>2]|0),f=fD[c+(p*36|0)+4>>2]|0,(f|0)>0){_=fD[(fD[t+52>>2]|0)+16>>2]|0,M=+gD[m>>2],b=+gD[a+(p<<4)+4>>2],v=+gD[a+(p<<4)+8>>2],g=fD[c+(p*36|0)+12>>2]|0,k=1.0000000150474662e30,m=0;do W=fD[g+(m<<2)>>2]|0,q=+gD[_+(W<<4)>>2]*M+ +gD[_+(W<<4)+4>>2]*b+ +gD[_+(W<<4)+8>>2]*v,k=k>q?q:k,m=m+1|0;while((m|0)<(f|0))}else k=1.0000000150474662e30;gD[c+(p*36|0)+32>>2]=-k,p=p+1|0}while((p|0)<(u|0));if(u=fD[n>>2]|0,(u|0)>0){p=0,d=0,m=0;do{if((m|0)==(p|0))if(p=(m|0)==0?1:m<<1,(m|0)<(p|0)){if(((p|0)!=0?(fD[5004]=(fD[5004]|0)+1,h=Ew((p<<2|3)+16|0)|0,(h|0)!=0):0)?(fD[(h+19&-16)+-4>>2]=h,f=h+19&-16):f=0,(m|0)>0){g=0;do _=f+(g<<2)|0,(_|0)!=0&&(fD[_>>2]=fD[d+(g<<2)>>2]),g=g+1|0;while((g|0)!=(m|0))}(d|0)==0?d=f:(fD[5006]=(fD[5006]|0)+1,Cw(fD[d+-4>>2]|0),d=f)}else p=m;f=d+(m<<2)|0,(f|0)!=0&&(fD[f>>2]=m,u=fD[n>>2]|0),m=m+1|0}while((m|0)<(u|0));if((m|0)==0)l=d;else for(h=i+88|0,f=i+84|0,p=i+76|0,u=i+32|0,_=i+308|0,M=0,v=0,b=0;;){S=m+-1|0,m=fD[d+(S<<2)>>2]|0,fD[5004]=(fD[5004]|0)+1,y=Ew(23)|0,(y|0)!=0?(fD[(y+19&-16)+-4>>2]=y,g=y+19&-16,(y+19&-16|0)!=0&&(fD[g>>2]=m)):g=0,H=+gD[c+(m*36|0)+20>>2],k=+gD[c+(m*36|0)+24>>2],I=+gD[c+(m*36|0)+28>>2],m=S,E=1,y=1,x=S;t:for(;;){S=(m|0)>0;e:for(;;){do{if(W=x,x=x+-1|0,(W|0)<=0)break t;T=fD[d+(x<<2)>>2]|0}while(!(H*+gD[c+(T*36|0)+20>>2]+k*+gD[c+(T*36|0)+24>>2]+I*+gD[c+(T*36|0)+28>>2]>.9990000128746033));do if((y|0)==(E|0)?(l=(E|0)==0?1:E<<1,(E|0)<(l|0)):0){do if((l|0)==0)C=0;else{if(fD[5004]=(fD[5004]|0)+1,C=Ew((l<<2|3)+16|0)|0,(C|0)==0){C=0;break}fD[(C+19&-16)+-4>>2]=C,C=C+19&-16}while(0);if((E|0)>0){A=0;do w=C+(A<<2)|0,(w|0)!=0&&(fD[w>>2]=fD[g+(A<<2)>>2]),A=A+1|0;while((A|0)!=(E|0))}if((g|0)==0){E=l,g=C;break}fD[5006]=(fD[5006]|0)+1,Cw(fD[g+-4>>2]|0),E=l,g=C}while(0);if(C=g+(y<<2)|0,(C|0)!=0&&(fD[C>>2]=T),y=y+1|0,S){for(w=0;;){if(A=d+(w<<2)|0,C=w+1|0,(fD[A>>2]|0)==(T|0))break;if(!((C|0)<(m|0)))continue e;w=C}if((w|0)<(m|0))break}}W=m+-1|0,U=d+(W<<2)|0,fD[A>>2]=fD[U>>2],fD[U>>2]=T,m=W}if((y|0)>1){uD[h>>0]=1,fD[f>>2]=0,fD[p>>2]=0,fD[i+80>>2]=0,C=0,M=0,v=0,b=0,S=0;do{if(T=fD[g+(S<<2)>>2]|0,M=+gD[c+(T*36|0)+20>>2]+M,v=+gD[c+(T*36|0)+24>>2]+v,b=+gD[c+(T*36|0)+28>>2]+b,x=c+(T*36|0)+4|0,A=fD[x>>2]|0,(A|0)>0)for(T=c+(T*36|0)+12|0,R=C,E=0;;){C=fD[(fD[T>>2]|0)+(E<<2)>>2]|0,W=(fD[(fD[t+52>>2]|0)+16>>2]|0)+(C<<4)|0,fD[i+56>>2]=fD[W+0>>2],fD[i+60>>2]=fD[W+4>>2],fD[i+64>>2]=fD[W+8>>2],fD[i+68>>2]=fD[W+12>>2];t:do if((R|0)>0)for(w=fD[f>>2]|0,D=0;;){if((fD[w+(D*24|0)+20>>2]|0)==(C|0)){C=R;break t}if(D=D+1|0,(D|0)>=(R|0)){s=207;break}}else s=207;while(0);if((s|0)==207){s=0,fD[i+0>>2]=fD[i+56>>2],fD[i+4>>2]=fD[i+60>>2],fD[i+8>>2]=fD[i+64>>2],fD[i+12>>2]=fD[i+68>>2];do if((R|0)==(fD[i+80>>2]|0)){if(A=(R|0)==0?1:R<<1,(R|0)>=(A|0))break;if((A|0)==0?w=0:(fD[5004]=(fD[5004]|0)+1,w=Ew((A*24|3)+16|0)|0,(w|0)==0?w=0:(fD[(w+19&-16)+-4>>2]=w,w=w+19&-16),R=fD[p>>2]|0),D=fD[f>>2]|0,(R|0)<=0)(D|0)!=0&&(s=216);else{s=0;do W=w+(s*24|0)|0,U=D+(s*24|0)|0,fD[W+0>>2]=fD[U+0>>2],fD[W+4>>2]=fD[U+4>>2],fD[W+8>>2]=fD[U+8>>2],fD[W+12>>2]=fD[U+12>>2],fD[W+16>>2]=fD[U+16>>2],fD[W+20>>2]=fD[U+20>>2],s=s+1|0;while((s|0)!=(R|0));s=216}(s|0)==216&&(s=0,(uD[h>>0]|0)==0|(D|0)==0||(fD[5006]=(fD[5006]|0)+1,Cw(fD[D+-4>>2]|0),R=fD[p>>2]|0),fD[f>>2]=0),uD[h>>0]=1,fD[f>>2]=w,fD[i+80>>2]=A}while(0);A=fD[f>>2]|0,W=A+(R*24|0)|0,fD[W+0>>2]=fD[i+0>>2],fD[W+4>>2]=fD[i+4>>2],fD[W+8>>2]=fD[i+8>>2],fD[W+12>>2]=fD[i+12>>2],fD[W+16>>2]=fD[i+16>>2],fD[A+(R*24|0)+20>>2]=C,C=(fD[p>>2]|0)+1|0,fD[p>>2]=C,A=fD[x>>2]|0}if(E=E+1|0,(E|0)>=(A|0))break;R=C}S=S+1|0}while((S|0)<(y|0));uD[i+36>>0]=1,fD[u>>2]=0,fD[i+24>>2]=0,fD[i+28>>2]=0,W=c+((fD[g>>2]|0)*9<<2)+20|0,fD[i+40>>2]=fD[W+0>>2],fD[i+44>>2]=fD[W+4>>2],fD[i+48>>2]=fD[W+8>>2],fD[i+52>>2]=fD[W+12>>2],q=1/+CD(+(M*M+v*v+b*b)),M*=q,v*=q,b*=q,+ED(+b)>.7071067690849304?(H=1/+CD(+(b*b+v*v)),I=0,k=-(b*H),H=v*H):(k=1/+CD(+(M*M+v*v)),I=-(v*k),k=M*k,H=0);t:do if((C|0)<2)if((C|0)>0)for(x=0,R=0,S=0,s=1;;){T=fD[f>>2]|0;do if((x|0)==(R|0)){if(E=(R|0)==0?1:R<<1,(R|0)>=(E|0)){w=R,E=R;break}do if((E|0)==0)A=0;else{if(fD[5004]=(fD[5004]|0)+1,C=Ew((E*24|3)+16|0)|0,(C|0)==0){A=0,R=x;break}fD[(C+19&-16)+-4>>2]=C,A=C+19&-16,R=x}while(0);if((R|0)>0){C=0;do W=A+(C*24|0)|0,U=S+(C*24|0)|0,fD[W+0>>2]=fD[U+0>>2],fD[W+4>>2]=fD[U+4>>2],fD[W+8>>2]=fD[U+8>>2],fD[W+12>>2]=fD[U+12>>2],fD[W+16>>2]=fD[U+16>>2],fD[W+20>>2]=fD[U+20>>2],C=C+1|0;while((C|0)!=(R|0))}(S|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[S+-4>>2]|0)),w=x,C=fD[p>>2]|0,S=A}else w=x,E=R;while(0);if(W=S+(w*24|0)|0,fD[W+0>>2]=fD[T+0>>2],fD[W+4>>2]=fD[T+4>>2],fD[W+8>>2]=fD[T+8>>2],fD[W+12>>2]=fD[T+12>>2],fD[W+16>>2]=fD[T+16>>2],fD[W+20>>2]=fD[T+20>>2],x=x+1|0,(s|0)>=(C|0)){s=272;break t}R=E,s=s+1|0}else S=0,s=307;else{s=fD[f>>2]|0,S=C,x=0;do I*+gD[s+(x*24|0)>>2]+k*+gD[s+(x*24|0)+4>>2]+H*+gD[s+(x*24|0)+8>>2]<I*+gD[s>>2]+k*+gD[s+4>>2]+H*+gD[s+8>>2]&&(fD[i+288>>2]=fD[s+0>>2],fD[i+292>>2]=fD[s+4>>2],fD[i+296>>2]=fD[s+8>>2],fD[i+300>>2]=fD[s+12>>2],fD[i+304>>2]=fD[s+16>>2],fD[i+308>>2]=fD[s+20>>2],S=s+(x*24|0)|0,fD[s+0>>2]=fD[S+0>>2],fD[s+4>>2]=fD[S+4>>2],fD[s+8>>2]=fD[S+8>>2],fD[s+12>>2]=fD[S+12>>2],fD[s+16>>2]=fD[S+16>>2],fD[s+20>>2]=fD[S+20>>2],S=s+(x*24|0)|0,fD[S+0>>2]=fD[i+288>>2],fD[S+4>>2]=fD[i+292>>2],fD[S+8>>2]=fD[i+296>>2],fD[S+12>>2]=fD[i+300>>2],fD[S+16>>2]=fD[i+304>>2],fD[S+20>>2]=fD[i+308>>2],S=C),x=x+1|0;while((x|0)<(S|0));if(gD[s+16>>2]=-1.0000000150474662e30,(S|0)>1){O=+gD[s+4>>2],x=1;do z=+gD[s+(x*24|0)>>2]-+gD[s>>2],X=+gD[s+(x*24|0)+4>>2]-O,q=+gD[s+(x*24|0)+8>>2]-+gD[s+8>>2],gD[s+(x*24|0)+16>>2]=((I*X-k*z)*b+(M*(k*q-H*X)+v*(H*z-I*q)))/+CD(+(z*z+X*X+q*q)),x=x+1|0;while((x|0)<(S|0))}for(fD[i+272>>2]=fD[s+0>>2],fD[i+276>>2]=fD[s+4>>2],fD[i+280>>2]=fD[s+8>>2],fD[i+284>>2]=fD[s+12>>2],$b(i+72|0,i+272|0,1,S+-1|0),S=fD[f>>2]|0,fD[5004]=(fD[5004]|0)+1,s=Ew(43)|0,(s|0)==0?s=0:(fD[(s+19&-16)+-4>>2]=s,s=s+19&-16),x=fD[f>>2]|0,fD[s+0>>2]=fD[S+0>>2],fD[s+4>>2]=fD[S+4>>2],fD[s+8>>2]=fD[S+8>>2],fD[s+12>>2]=fD[S+12>>2],fD[s+16>>2]=fD[S+16>>2],fD[s+20>>2]=fD[S+20>>2],fD[5004]=(fD[5004]|0)+1,S=Ew(67)|0,(S|0)==0?S=0:(fD[(S+19&-16)+-4>>2]=S,S=S+19&-16),T=0;;){if(W=S+(T*24|0)|0,U=s+(T*24|0)|0,fD[W+0>>2]=fD[U+0>>2],fD[W+4>>2]=fD[U+4>>2],fD[W+8>>2]=fD[U+8>>2],fD[W+12>>2]=fD[U+12>>2],fD[W+16>>2]=fD[U+16>>2],fD[W+20>>2]=fD[U+20>>2],(T|0)==0)break;T=T+1|0}if((s|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[s+-4>>2]|0)),C=S+24|0,fD[C+0>>2]=fD[x+24>>2],fD[C+4>>2]=fD[x+28>>2],fD[C+8>>2]=fD[x+32>>2],fD[C+12>>2]=fD[x+36>>2],fD[C+16>>2]=fD[x+40>>2],fD[C+20>>2]=fD[x+44>>2],C=fD[p>>2]|0,(C|0)==2){x=2,s=273;break}for(A=2,x=2,E=2,s=2;;){e:do if((A|0)>1){for(W=fD[f>>2]|0,T=W+(s*24|0)|0,k=+gD[T>>2],H=+gD[W+(s*24|0)+4>>2],I=+gD[W+(s*24|0)+8>>2];;){if(W=A+-2|0,w=A+-1|0,z=+gD[S+(W*24|0)>>2],X=z-+gD[S+(w*24|0)>>2],F=+gD[S+(W*24|0)+4>>2],N=F-+gD[S+(w*24|0)+4>>2],q=+gD[S+(W*24|0)+8>>2],G=q-+gD[S+(w*24|0)+8>>2],(X*(F-H)-N*(z-k))*b+(M*(N*(q-I)-G*(F-H))+v*(G*(z-k)-X*(q-I)))>0)break;if(!((w|0)>1)){A=w,x=w;break e}A=w,x=w}do if((A|0)==(E|0)){if(w=(E|0)==0?1:E<<1,(E|0)>=(w|0)){A=E;break}do if((w|0)==0)R=0;else{if(fD[5004]=(fD[5004]|0)+1,E=Ew((w*24|3)+16|0)|0,(E|0)==0){R=0,E=x;break}fD[(E+19&-16)+-4>>2]=E,R=E+19&-16,E=x}while(0);if((E|0)>0){C=0;do W=R+(C*24|0)|0,U=S+(C*24|0)|0,fD[W+0>>2]=fD[U+0>>2],fD[W+4>>2]=fD[U+4>>2],fD[W+8>>2]=fD[U+8>>2],fD[W+12>>2]=fD[U+12>>2],fD[W+16>>2]=fD[U+16>>2],fD[W+20>>2]=fD[U+20>>2],C=C+1|0;while((C|0)!=(E|0))}(S|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[S+-4>>2]|0)),C=fD[p>>2]|0,A=x,E=w,S=R}while(0);A=S+(A*24|0)|0,fD[A+0>>2]=fD[T+0>>2],fD[A+4>>2]=fD[T+4>>2],fD[A+8>>2]=fD[T+8>>2],fD[A+12>>2]=fD[T+12>>2],fD[A+16>>2]=fD[T+16>>2],fD[A+20>>2]=fD[T+20>>2],x=x+1|0,A=x}while(0);if(s=s+1|0,(s|0)==(C|0)){s=272;break}}}while(0);if((s|0)==272&&(s=(x|0)>0?273:295),(s|0)==273){A=0,C=0,E=0,s=0;do{T=S+(s*24|0)+20|0;do if((A|0)==(C|0)){if(w=(C|0)==0?1:C<<1,(C|0)>=(w|0)){A=C;break}do if((w|0)==0)A=0;else{if(fD[5004]=(fD[5004]|0)+1,A=Ew((w<<2|3)+16|0)|0,(A|0)==0){A=0;break}fD[(A+19&-16)+-4>>2]=A,A=A+19&-16}while(0);if((C|0)>0){R=0;do D=A+(R<<2)|0,(D|0)!=0&&(fD[D>>2]=fD[E+(R<<2)>>2]),R=R+1|0;while((R|0)!=(C|0))}(E|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[E+-4>>2]|0),fD[u>>2]=0),uD[i+36>>0]=1,fD[u>>2]=A,fD[i+28>>2]=w,E=A,A=C,C=w}while(0);w=E+(A<<2)|0,(w|0)!=0&&(fD[w>>2]=fD[T>>2],A=fD[i+24>>2]|0),A=A+1|0,fD[i+24>>2]=A,R=fD[p>>2]|0;t:do if((R|0)>0){for(w=fD[f>>2]|0,T=fD[T>>2]|0,D=0;;){if(P=w+(D*24|0)+20|0,D=D+1|0,(fD[P>>2]|0)==(T|0))break;if((D|0)>=(R|0))break t}fD[P>>2]=-1}while(0);s=s+1|0}while((s|0)<(x|0));C=fD[p>>2]|0,s=295}t:do if((s|0)==295)if(s=0,(C|0)>0)for(A=fD[f>>2]|0,w=fD[n>>2]|0,E=0;;){if(T=fD[A+(E*24|0)+20>>2]|0,!((T|0)==-1|(w|0)<1)){x=0;do{for(R=0;;){if((fD[g+(R<<2)>>2]|0)==(x|0))break;if(R=R+1|0,(R|0)>=(y|0)){s=303;break}}do if((s|0)==303){if(s=0,R=fD[c+(x*36|0)+4>>2]|0,(R|0)<=0)break;D=fD[c+(x*36|0)+12>>2]|0,P=0;do{if((fD[D+(P<<2)>>2]|0)==(T|0)){x=1;break t}P=P+1|0}while((P|0)<(R|0))}while(0);x=x+1|0}while((x|0)<(w|0))}if(E=E+1|0,(E|0)>=(C|0)){s=307;break}}else s=307;while(0);(s|0)==307&&(s=0,x=fD[t+52>>2]|0,T=fD[x+28>>2]|0,(T|0)==(fD[x+32>>2]|0)&&(Yb(x+24|0,(T|0)==0?1:T<<1),T=fD[x+28>>2]|0),E=(fD[x+36>>2]|0)+(T*36|0)|0,(E|0)!=0&&(Zb(E,i+20|0),fD[E+20>>2]=fD[i+40>>2],fD[E+24>>2]=fD[i+44>>2],fD[E+28>>2]=fD[i+48>>2],fD[E+32>>2]=fD[i+52>>2],T=fD[x+28>>2]|0),fD[x+28>>2]=T+1,x=0),(S|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[S+-4>>2]|0)),S=fD[u>>2]|0,(S|0)!=0&&((uD[i+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[S+-4>>2]|0)),fD[u>>2]=0),S=fD[f>>2]|0,(S|0)!=0&&((uD[h>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[S+-4>>2]|0)),fD[f>>2]=0),uD[h>>0]=1,fD[f>>2]=0,fD[p>>2]=0,fD[i+80>>2]=0,x&(y|0)>0&&(s=324)}else(y|0)>0&&(s=324);if((s|0)==324){s=0,S=0;do x=fD[g+(S<<2)>>2]|0,Zb(i+288|0,c+(x*36|0)|0),x=c+(x*36|0)+20|0,fD[_+0>>2]=fD[x+0>>2],fD[_+4>>2]=fD[x+4>>2],fD[_+8>>2]=fD[x+8>>2],fD[_+12>>2]=fD[x+12>>2],x=fD[t+52>>2]|0,T=fD[x+28>>2]|0,(T|0)==(fD[x+32>>2]|0)&&(Yb(x+24|0,(T|0)==0?1:T<<1),T=fD[x+28>>2]|0),E=(fD[x+36>>2]|0)+(T*36|0)|0,(E|0)!=0&&(Zb(E,i+288|0),fD[E+20>>2]=fD[_+0>>2],fD[E+24>>2]=fD[_+4>>2],fD[E+28>>2]=fD[_+8>>2],fD[E+32>>2]=fD[_+12>>2],T=fD[x+28>>2]|0),fD[x+28>>2]=T+1,x=fD[i+300>>2]|0,(x|0)!=0&&((uD[i+304>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[x+-4>>2]|0)),fD[i+300>>2]=0),S=S+1|0;while((S|0)<(y|0))}if((g|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[g+-4>>2]|0)),(m|0)==0){l=d;break}}}else l=0}else l=0;if(t=fD[t+52>>2]|0,fD[t+64>>2]=0,fD[t+68>>2]=0,fD[t+72>>2]=0,fD[t+76>>2]=0,d=fD[t+28>>2]|0,(d|0)>0){for(u=d,m=0,f=0,C=0,P=0,A=0,D=0,R=0,w=0,E=0,y=0,T=0,g=0,h=0;;){if(S=fD[t+36>>2]|0,d=fD[S+(h*36|0)+4>>2]|0,(d|0)>0){for(p=h&65535,u=h|-65536,x=0;;){_=x+1|0,B=fD[S+(h*36|0)+12>>2]|0,L=fD[B+(x<<2)>>2]&65535,B=fD[B+(((_|0)==(d|0)?0:_)<<2)>>2]&65535,x=L<<16>>16<B<<16>>16?L:B,S=L<<16>>16<B<<16>>16?B:L,j=L<<16>>16<B<<16>>16?L:B,L=L<<16>>16<B<<16>>16?B:L,B=C+-1|0;t:do if((((j&65535)<<16)+(L<<16>>16)&B)>>>0<m>>>0?(o=fD[E+((((j&65535)<<16)+(L<<16>>16)&B)<<2)>>2]|0,(o|0)==-1):!0)V=0;else{for(V=o;;){if(L<<16>>16==(pD[R+(V<<2)>>1]|0)?j<<16>>16==(pD[R+(V<<2)+2>>1]|0):0)break;if(V=fD[g+(V<<2)>>2]|0,(V|0)==-1){V=0;break t}}V=(V|0)!=-1?P+(V<<2)|0:0}while(0);W=fD[t+16>>2]|0,v=+gD[W+(j<<16>>16<<4)>>2]-+gD[W+(L<<16>>16<<4)>>2],b=+gD[W+(j<<16>>16<<4)+4>>2]-+gD[W+(L<<16>>16<<4)+4>>2],M=+gD[W+(j<<16>>16<<4)+8>>2]-+gD[W+(L<<16>>16<<4)+8>>2],k=1/+CD(+(v*v+b*b+M*M)),j=fD[t+48>>2]|0;t:do if((j|0)>0)for(L=fD[t+56>>2]|0,U=0;;){H=+gD[L+(U<<4)>>2],I=+gD[L+(U<<4)+8>>2];do if(!(+ED(+(H-v*k))>1e-6)){if(+ED(+(+gD[L+(U<<4)+4>>2]-b*k))>1e-6)break;if(!(+ED(+(I-M*k))>1e-6))break t}while(0);do if(!(+ED(+(v*k+H))>1e-6)){if(+ED(+(b*k+ +gD[L+(U<<4)+4>>2]))>1e-6)break;if(!(+ED(+(M*k+I))>1e-6))break t}while(0);if(U=U+1|0,(U|0)>=(j|0)){s=359;break}}else s=359;while(0);if((s|0)==359){s=0;do if((j|0)==(fD[t+52>>2]|0)){if(L=(j|0)==0?1:j<<1,(j|0)>=(L|0))break;if((L|0)==0?U=0:(fD[5004]=(fD[5004]|0)+1,j=Ew((L<<4|3)+16|0)|0,(j|0)==0?U=0:(fD[(j+19&-16)+-4>>2]=j,U=j+19&-16),j=fD[t+48>>2]|0),(j|0)>0){W=0;do K=U+(W<<4)|0,Y=(fD[t+56>>2]|0)+(W<<4)|0,fD[K+0>>2]=fD[Y+0>>2],fD[K+4>>2]=fD[Y+4>>2],fD[K+8>>2]=fD[Y+8>>2],fD[K+12>>2]=fD[Y+12>>2],W=W+1|0;while((W|0)!=(j|0))}j=fD[t+56>>2]|0,(j|0)!=0&&((uD[t+60>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[j+-4>>2]|0)),fD[t+56>>2]=0),uD[t+60>>0]=1,fD[t+56>>2]=U,fD[t+52>>2]=L,j=fD[t+48>>2]|0}while(0);Y=fD[t+56>>2]|0,gD[Y+(j<<4)>>2]=v*k,gD[Y+(j<<4)+4>>2]=b*k,gD[Y+(j<<4)+8>>2]=M*k,gD[Y+(j<<4)+12>>2]=0,fD[t+48>>2]=(fD[t+48>>2]|0)+1}t:do if((V|0)==0){L=((x&65535)<<16)+(S<<16>>16)&B;e:do if(L>>>0<m>>>0){if(B=fD[E+(L<<2)>>2]|0,(B|0)==-1)break;for(;;){if(S<<16>>16==(pD[R+(B<<2)>>1]|0)?x<<16>>16==(pD[R+(B<<2)+2>>1]|0):0)break;if(B=fD[g+(B<<2)>>2]|0,(B|0)==-1)break e}if((B|0)==-1)break;Y=P+(B<<2)|0,pD[Y>>1]=u,pD[Y+2>>1]=u>>>16;break t}while(0);do if((f|0)==(C|0)){if(B=(C|0)==0?1:C<<1,(C|0)>=(B|0)){j=C,B=C;break}do if((B|0)==0)V=0;else{if(fD[5004]=(fD[5004]|0)+1,V=Ew((B<<2|3)+16|0)|0,(V|0)==0){V=0;break}fD[(V+19&-16)+-4>>2]=V,V=V+19&-16}while(0);if((C|0)>0){j=0;do U=V+(j<<2)|0,(U|0)!=0&&(Y=P+(j<<2)|0,Y=mD[Y>>1]|mD[Y+2>>1]<<16,pD[U>>1]=Y,pD[U+2>>1]=Y>>>16),j=j+1|0;while((j|0)!=(C|0))}if((P|0)==0){j=C,P=V;break}fD[5006]=(fD[5006]|0)+1,Cw(fD[P+-4>>2]|0),j=C,P=V}else j=f,B=C;while(0);V=P+(j<<2)|0,(V|0)!=0&&(pD[V>>1]=u,pD[V+2>>1]=u>>>16,j=f),V=j+1|0;do if((A|0)==(D|0)){if(D=(A|0)==0?1:A<<1,(A|0)>=(D|0)){D=A;break}do if((D|0)==0)j=0;else{if(fD[5004]=(fD[5004]|0)+1,j=Ew((D<<2|3)+16|0)|0,(j|0)==0){j=0;break}fD[(j+19&-16)+-4>>2]=j,j=j+19&-16}while(0);if((A|0)>0){W=0;do U=j+(W<<2)|0,(U|0)!=0&&(Y=R+(W<<2)|0,Y=mD[Y>>1]|mD[Y+2>>1]<<16,pD[U>>1]=Y,pD[U+2>>1]=Y>>>16),W=W+1|0;while((W|0)!=(A|0))}if((R|0)==0){R=j;break}fD[5006]=(fD[5006]|0)+1,Cw(fD[R+-4>>2]|0),R=j}while(0);if(j=R+(A<<2)|0,(j|0)!=0&&(pD[j>>1]=(x&65535)<<16|S&65535,pD[j+2>>1]=((x&65535)<<16|S&65535)>>>16),A=A+1|0,(C|0)<(B|0)){do if((m|0)<(B|0)){if((m|0)<=(B|0)){do if((w|0)<(B|0)){do if((B|0)==0)C=0;else{if(fD[5004]=(fD[5004]|0)+1,C=Ew((B<<2|3)+16|0)|0,(C|0)==0){C=0;break}fD[(C+19&-16)+-4>>2]=C,C=C+19&-16}while(0);if((m|0)>0){w=0;do L=C+(w<<2)|0,(L|0)!=0&&(fD[L>>2]=fD[E+(w<<2)>>2]),w=w+1|0;while((w|0)!=(m|0))}if((E|0)==0){w=B,E=C;break}fD[5006]=(fD[5006]|0)+1,Cw(fD[E+-4>>2]|0),w=B,E=C}while(0);L=m;do C=E+(L<<2)|0,(C|0)!=0&&(fD[C>>2]=0),L=L+1|0;while((L|0)!=(B|0))}if((y|0)<(B|0)){do if((T|0)<(B|0)){do if((B|0)==0)C=0;else{if(fD[5004]=(fD[5004]|0)+1,T=Ew((B<<2|3)+16|0)|0,(T|0)==0){C=0;break}fD[(T+19&-16)+-4>>2]=T,C=T+19&-16}while(0);if((y|0)>0){T=0;do L=C+(T<<2)|0,(L|0)!=0&&(fD[L>>2]=fD[g+(T<<2)>>2]),T=T+1|0;
while((T|0)!=(y|0))}if((g|0)==0){T=B,g=C;break}fD[5006]=(fD[5006]|0)+1,Cw(fD[g+-4>>2]|0),T=B,g=C}while(0);do C=g+(y<<2)|0,(C|0)!=0&&(fD[C>>2]=0),y=y+1|0;while((y|0)!=(B|0))}if((B|0)>0&&(Y=B<<2,Rw(E|0,-1,Y|0)|0,Rw(g|0,-1,Y|0)|0),(m|0)<=0){m=B,y=B;break}C=B+-1|0,y=0;do Y=E+(((mD[R+(y<<2)+2>>1]<<16)+(pD[R+(y<<2)>>1]|0)&C)<<2)|0,fD[g+(y<<2)>>2]=fD[Y>>2],fD[Y>>2]=y,y=y+1|0;while((y|0)!=(m|0));m=B,y=B}while(0);L=((x&65535)<<16)+(S<<16>>16)&B+-1}C=E+(L<<2)|0,fD[g+(f<<2)>>2]=fD[C>>2],fD[C>>2]=f,f=V,C=B}else pD[V+2>>1]=p;while(0);if((_|0)>=(d|0))break;S=fD[t+36>>2]|0,x=_}d=fD[t+28>>2]|0}else d=u;if(h=h+1|0,(h|0)>=(d|0))break;u=d}if((d|0)>0){s=fD[t+36>>2]|0,h=fD[t+16>>2]|0,k=0,o=0;do{if(f=fD[s+(o*36|0)+4>>2]|0,p=fD[s+(o*36|0)+12>>2]|0,u=fD[p>>2]|0,(f+-2|0)>=1){M=+gD[t+64>>2],v=+gD[t+68>>2],b=+gD[t+72>>2],_=1;do K=fD[p+(_<<2)>>2]|0,_=_+1|0,Y=fD[p+(((_|0)%(f|0)|0)<<2)>>2]|0,H=+gD[h+(u<<4)>>2],I=+gD[h+(K<<4)>>2],J=+gD[h+(u<<4)+4>>2],N=+gD[h+(K<<4)+4>>2],G=+gD[h+(u<<4)+8>>2],z=+gD[h+(K<<4)+8>>2],O=+gD[h+(Y<<4)>>2],F=+gD[h+(Y<<4)+4>>2],X=+gD[h+(Y<<4)+8>>2],q=+CD(+(((H-I)*(J-F)-(J-N)*(H-O))*((H-I)*(J-F)-(J-N)*(H-O))+(((J-N)*(G-X)-(G-z)*(J-F))*((J-N)*(G-X)-(G-z)*(J-F))+((G-z)*(H-O)-(H-I)*(G-X))*((G-z)*(H-O)-(H-I)*(G-X)))))*.5,M+=(H+I+O)*.3333333432674408*q,gD[t+64>>2]=M,v=(J+N+F)*.3333333432674408*q+v,gD[t+68>>2]=v,b=q*(G+z+X)*.3333333432674408+b,gD[t+72>>2]=b,k+=q;while((_|0)!=(f+-1|0))}o=o+1|0}while((o|0)<(d|0))}else k=0}else k=0,P=0,R=0,E=0,g=0;if(v=1/k,k=v*+gD[t+64>>2],gD[t+64>>2]=k,M=v*+gD[t+68>>2],gD[t+68>>2]=M,v*=+gD[t+72>>2],gD[t+72>>2]=v,gD[t+96>>2]=3.4028234663852886e38,(d|0)>0)for(s=fD[t+36>>2]|0,H=3.4028234663852886e38,o=0;;){if(b=+ED(+(+gD[s+(o*36|0)+32>>2]+(+gD[s+(o*36|0)+20>>2]*k+ +gD[s+(o*36|0)+24>>2]*M+ +gD[s+(o*36|0)+28>>2]*v))),b<H?gD[t+96>>2]=b:b=H,o=o+1|0,(o|0)>=(d|0))break;H=b}else b=3.4028234663852886e38;if(o=fD[t+8>>2]|0,(o|0)>0){s=fD[t+16>>2]|0,H=-3.4028234663852886e38,I=-3.4028234663852886e38,O=-3.4028234663852886e38,k=3.4028234663852886e38,M=3.4028234663852886e38,v=3.4028234663852886e38,h=0;do q=+gD[s+(h<<4)>>2],k=q<k?q:k,H=q>H?q:H,q=+gD[s+(h<<4)+4>>2],M=q<M?q:M,I=q>I?q:I,q=+gD[s+(h<<4)+8>>2],v=q<v?q:v,O=q>O?q:O,h=h+1|0;while((h|0)<(o|0))}else H=-3.4028234663852886e38,I=-3.4028234663852886e38,O=-3.4028234663852886e38,k=3.4028234663852886e38,M=3.4028234663852886e38,v=3.4028234663852886e38;for(gD[t+100>>2]=H+k,gD[t+104>>2]=I+M,gD[t+108>>2]=v+O,gD[t+112>>2]=0,k=H-k,M=I-M,v=O-v,gD[t+116>>2]=k,gD[t+120>>2]=M,gD[t+124>>2]=v,gD[t+128>>2]=0,b/=1.7320507764816284,o=k<M?M<v?2:1:k<v?2:0,s=t+(o<<2)+116|0,v=(+gD[s>>2]*.5-b)*.0009765625,gD[t+88>>2]=b,gD[t+84>>2]=b,gD[t+80>>2]=b,M=+gD[s>>2]*.5,s=t+(o<<2)+80|0,gD[s>>2]=M,h=0;;){if(ix(t)|0){s=470;break}if(M-=v,gD[s>>2]=M,h=h+1|0,(h|0)>=1024){s=469;break}}t:do if((s|0)==469)gD[t+88>>2]=b,gD[t+84>>2]=b,gD[t+80>>2]=b;else if((s|0)==470){for(b=(+gD[t+96>>2]-b)*.0009765625,o=1<<o&3,k=+gD[t+((1<<o&3)<<2)+80>>2],s=0;;){if(v=+gD[t+(o<<2)+80>>2],gD[t+(o<<2)+80>>2]=b+v,M=b+ +gD[t+((1<<o&3)<<2)+80>>2],gD[t+((1<<o&3)<<2)+80>>2]=M,s=s+1|0,!(ix(t)|0))break;if((s|0)>=1024)break t;k=M}gD[t+(o<<2)+80>>2]=v,gD[t+((1<<o&3)<<2)+80>>2]=k}while(0);if((R|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[R+-4>>2]|0)),(P|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[P+-4>>2]|0)),(g|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[g+-4>>2]|0)),(E|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[E+-4>>2]|0)),(l|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[l+-4>>2]|0)),l=fD[n>>2]|0,(l|0)>0){h=0;do o=c+(h*36|0)+4|0,s=c+(h*36|0)+12|0,d=fD[s>>2]|0,t=c+(h*36|0)+16|0,(d|0)!=0&&((uD[t>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[d+-4>>2]|0)),fD[s>>2]=0),uD[t>>0]=1,fD[s>>2]=0,fD[o>>2]=0,fD[c+(h*36|0)+8>>2]=0,h=h+1|0;while((h|0)!=(l|0));c=fD[e>>2]|0}return(c|0)!=0&&((uD[i+164>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[c+-4>>2]|0)),fD[e>>2]=0),uD[i+164>>0]=1,fD[e>>2]=0,fD[n>>2]=0,fD[i+156>>2]=0,(a|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),Qb(i+196|0),(r|0)==0?(bD=i,1):(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0),bD=i,1)}function Ub(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0;if(r=bD,bD=bD+2048|0,fD[t+0>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,n=+gD[i>>2],a=+gD[i+4>>2],s=+gD[i+8>>2],n*n+a*a+s*s<9999999747378752e-20?(n=1,a=0,s=0):(u=1/+CD(+(n*n+a*a+s*s)),n*=u,a*=u,s*=u),(lP[fD[(fD[e>>2]|0)+96>>2]&127](e)|0)<=0)return void(bD=r);i=0,l=-0xde0b6b000000000;do{if(((lP[fD[(fD[e>>2]|0)+96>>2]&127](e)|0)-i|0)<128?(c=(lP[fD[(fD[e>>2]|0)+96>>2]&127](e)|0)-i|0,(c|0)>0?o=7:(u=-3.4028234663852886e38,d=-1)):(c=128,o=7),(o|0)==7){o=0,h=0;do OP[fD[(fD[e>>2]|0)+108>>2]&127](e,h,r+(h<<4)|0),h=h+1|0;while((h|0)!=(c|0));h=0,u=-3.4028234663852886e38,d=-1;do p=n*+gD[r+(h<<4)>>2]+a*+gD[r+(h<<4)+4>>2]+s*+gD[r+(h<<4)+8>>2],f=p>u,d=f?h:d,u=f?p:u,h=h+1|0;while((h|0)!=(c|0))}u>l&&(f=r+(d<<4)|0,fD[t+0>>2]=fD[f+0>>2],fD[t+4>>2]=fD[f+4>>2],fD[t+8>>2]=fD[f+8>>2],fD[t+12>>2]=fD[f+12>>2],l=u),i=i+128|0}while((i|0)<(lP[fD[(fD[e>>2]|0)+96>>2]&127](e)|0));bD=r}function Wb(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0;if(n=bD,bD=bD+2048|0,!((r|0)>0))return void(bD=n);a=0;do gD[i+(a<<4)+12>>2]=-0xde0b6b000000000,a=a+1|0;while((a|0)!=(r|0));s=0;do{if((lP[fD[(fD[t>>2]|0)+96>>2]&127](t)|0)>0){d=e+(s<<4)|0,u=e+(s<<4)+4|0,a=e+(s<<4)+8|0,c=i+(s<<4)+12|0,l=i+(s<<4)|0,h=0;do{if(((lP[fD[(fD[t>>2]|0)+96>>2]&127](t)|0)-h|0)<128?(p=(lP[fD[(fD[t>>2]|0)+96>>2]&127](t)|0)-h|0,(p|0)>0?o=8:(b=-3.4028234663852886e38,_=-1)):(p=128,o=8),(o|0)==8){o=0,_=0;do OP[fD[(fD[t>>2]|0)+108>>2]&127](t,_,n+(_<<4)|0),_=_+1|0;while((_|0)!=(p|0));m=+gD[d>>2],f=+gD[u>>2],y=+gD[a>>2],g=0,b=-3.4028234663852886e38,_=-1;do v=m*+gD[n+(g<<4)>>2]+f*+gD[n+(g<<4)+4>>2]+y*+gD[n+(g<<4)+8>>2],M=v>b,_=M?g:_,b=M?v:b,g=g+1|0;while((g|0)!=(p|0))}b>+gD[c>>2]&&(M=n+(_<<4)|0,fD[l+0>>2]=fD[M+0>>2],fD[l+4>>2]=fD[M+4>>2],fD[l+8>>2]=fD[M+8>>2],fD[l+12>>2]=fD[M+12>>2],gD[c>>2]=b),h=h+128|0}while((h|0)<(lP[fD[(fD[t>>2]|0)+96>>2]&127](t)|0))}s=s+1|0}while((s|0)!=(r|0));bD=n}function Xb(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0,s=0;r=bD,bD=bD+96|0,a=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),gD[r+32>>2]=1,fD[r+36>>2]=0,fD[r+40>>2]=0,fD[r+44>>2]=0,fD[r+48>>2]=0,gD[r+52>>2]=1,fD[r+56>>2]=0,fD[r+60>>2]=0,fD[r+64>>2]=0,fD[r+68>>2]=0,gD[r+72>>2]=1,s=r+76|0,fD[s+0>>2]=0,fD[s+4>>2]=0,fD[s+8>>2]=0,fD[s+12>>2]=0,fD[s+16>>2]=0,GP[fD[(fD[t>>2]|0)+8>>2]&127](t,r+32|0,r+16|0,r),n=(a+(+gD[r>>2]-+gD[r+16>>2])*.5)*2,o=(a+(+gD[r+4>>2]-+gD[r+20>>2])*.5)*2,a=(a+(+gD[r+8>>2]-+gD[r+24>>2])*.5)*2,gD[i>>2]=e*.0833333283662796*(o*o+a*a),gD[i+4>>2]=e*.0833333283662796*(n*n+a*a),gD[i+8>>2]=e*.0833333283662796*(n*n+o*o),gD[i+12>>2]=0,bD=r}function qb(t){t|=0;var e=0,i=0,r=0,o=0;e=bD,bD=bD+96|0,uD[t+88>>0]=1,((uD[15960]|0)==0?(HD(15960)|0)!=0:0)&&(gD[3966]=1,fD[3967]=0,fD[3968]=0,fD[3969]=0,fD[3970]=0,gD[3971]=1,fD[3972]=0,fD[3973]=0,fD[3974]=0,fD[3975]=0,gD[3976]=1,gD[3977]=0,gD[3978]=-1,fD[3979]=0,fD[3980]=0,fD[3981]=0,fD[3982]=0,gD[3983]=-1,fD[3984]=0,fD[3985]=0,fD[3986]=0,fD[3987]=0,gD[3988]=-1,gD[3989]=0,JD(15960)),r=e+0|0,i=r+96|0;do fD[r>>2]=0,r=r+4|0;while((r|0)<(i|0));GP[fD[(fD[t>>2]|0)+76>>2]&127](t,15864,e,6),o=+gD[t+44>>2],gD[t+72>>2]=+gD[e>>2]+o,gD[t+56>>2]=+gD[e+48>>2]-o,gD[t+76>>2]=+gD[e+20>>2]+o,gD[t+60>>2]=+gD[e+68>>2]-o,gD[t+80>>2]=+gD[e+40>>2]+o,gD[t+64>>2]=+gD[e+88>>2]-o,bD=e}function Kb(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0;o=bD,p=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),b=+gD[t+72>>2],y=+gD[t+56>>2],m=+gD[t+76>>2],_=+gD[t+60>>2],u=+gD[t+80>>2],d=+gD[t+64>>2],R=+gD[e>>2],x=+ED(+R),w=+gD[e+4>>2],S=+ED(+w),c=+gD[e+8>>2],h=+ED(+c),A=+gD[e+16>>2],M=+ED(+A),C=+gD[e+20>>2],v=+ED(+C),s=+gD[e+24>>2],l=+ED(+s),E=+gD[e+32>>2],g=+ED(+E),T=+gD[e+36>>2],f=+ED(+T),n=+gD[e+40>>2],a=+ED(+n),c=(b+y)*.5*R+(m+_)*.5*w+(u+d)*.5*c+ +gD[e+48>>2],s=(b+y)*.5*A+(m+_)*.5*C+(u+d)*.5*s+ +gD[e+52>>2],n=(b+y)*.5*E+(m+_)*.5*T+(u+d)*.5*n+ +gD[e+56>>2],h=(p+(b-y)*.5)*x+(p+(m-_)*.5)*S+(p+(u-d)*.5)*h,l=(p+(b-y)*.5)*M+(p+(m-_)*.5)*v+(p+(u-d)*.5)*l,a=(p+(b-y)*.5)*g+(p+(m-_)*.5)*f+(p+(u-d)*.5)*a,gD[i>>2]=c-h,gD[i+4>>2]=s-l,gD[i+8>>2]=n-a,gD[i+12>>2]=0,gD[r>>2]=h+c,gD[r+4>>2]=l+s,gD[r+8>>2]=a+n,gD[r+12>>2]=0,bD=o}function Yb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(i=bD,(fD[t+8>>2]|0)>=(e|0))return void(bD=i);if(((e|0)!=0?(fD[5004]=(fD[5004]|0)+1,r=Ew((e*36|3)+16|0)|0,(r|0)!=0):0)?(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16):r=0,a=fD[t+4>>2]|0,(a|0)>0){n=0;do o=r+(n*36|0)|0,(o|0)!=0&&(h=fD[t+12>>2]|0,Zb(o,h+(n*36|0)|0),h=h+(n*36|0)+20|0,fD[o+20>>2]=fD[h+0>>2],fD[o+24>>2]=fD[h+4>>2],fD[o+28>>2]=fD[h+8>>2],fD[o+32>>2]=fD[h+12>>2]),n=n+1|0;while((n|0)!=(a|0));if(h=fD[t+4>>2]|0,(h|0)>0){c=0;do l=fD[t+12>>2]|0,n=l+(c*36|0)+4|0,a=l+(c*36|0)+12|0,o=fD[a>>2]|0,s=l+(c*36|0)+16|0,(o|0)!=0&&((uD[s>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[a>>2]=0),uD[s>>0]=1,fD[a>>2]=0,fD[n>>2]=0,fD[l+(c*36|0)+8>>2]=0,c=c+1|0;while((c|0)!=(h|0));o=t+12|0}else o=t+12|0}else o=t+12|0;n=fD[o>>2]|0,(n|0)!=0&&((uD[t+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0)),fD[o>>2]=0),uD[t+16>>0]=1,fD[o>>2]=r,fD[t+8>>2]=e,bD=i}function Qb(t){t|=0;var e=0,i=0;return e=bD,i=fD[t+52>>2]|0,(i|0)!=0&&((uD[t+56>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+52>>2]=0),uD[t+56>>0]=1,fD[t+52>>2]=0,fD[t+44>>2]=0,fD[t+48>>2]=0,i=fD[t+32>>2]|0,(i|0)!=0&&((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+32>>2]=0),uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,fD[t+28>>2]=0,i=fD[t+12>>2]|0,(i|0)==0?(uD[t+16>>0]=1,fD[t+12>>2]=0,fD[t+4>>2]=0,i=t+8|0,fD[i>>2]=0,void(bD=e)):((uD[t+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+12>>2]=0,uD[t+16>>0]=1,fD[t+12>>2]=0,fD[t+4>>2]=0,i=t+8|0,fD[i>>2]=0,void(bD=e))}function Zb(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(r=bD,uD[t+16>>0]=1,fD[t+12>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=0,i=fD[e+4>>2]|0,(i|0)<=0)return fD[t+4>>2]=i,void(bD=r);if(fD[5004]=(fD[5004]|0)+1,o=Ew((i<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),a=fD[t+4>>2]|0,(a|0)>0){n=0;do s=o+(n<<2)|0,(s|0)!=0&&(fD[s>>2]=fD[(fD[t+12>>2]|0)+(n<<2)>>2]),n=n+1|0;while((n|0)!=(a|0))}n=fD[t+12>>2]|0,(n|0)!=0&&((uD[t+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0)),fD[t+12>>2]=0),uD[t+16>>0]=1,fD[t+12>>2]=o,fD[t+8>>2]=i,n=0;do a=o+(n<<2)|0,(a|0)!=0&&(fD[a>>2]=0),n=n+1|0;while((n|0)!=(i|0));fD[t+4>>2]=i,t=0;do n=o+(t<<2)|0,(n|0)!=0&&(fD[n>>2]=fD[(fD[e+12>>2]|0)+(t<<2)>>2]),t=t+1|0;while((t|0)!=(i|0));bD=r}function $b(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0;for(o=bD,bD=bD+32|0,h=fD[t+12>>2]|0,n=+gD[h+(((r+i|0)/2|0)*24|0)>>2],a=+gD[h+(((r+i|0)/2|0)*24|0)+4>>2],s=+gD[h+(((r+i|0)/2|0)*24|0)+8>>2],c=+gD[h+(((r+i|0)/2|0)*24|0)+16>>2],l=fD[h+(((r+i|0)/2|0)*24|0)+20>>2]|0,d=i,u=r;;){t:for(;;){p=+gD[h+(d*24|0)+16>>2];do{if(p==c){if(_=+gD[e>>2],y=+gD[h+(d*24|0)>>2]-_,f=+gD[e+4>>2],g=+gD[h+(d*24|0)+4>>2]-f,p=+gD[e+8>>2],m=+gD[h+(d*24|0)+8>>2]-p,y*y+g*g+m*m!=(n-_)*(n-_)+(a-f)*(a-f)+(s-p)*(s-p)){if(y*y+g*g+m*m<(n-_)*(n-_)+(a-f)*(a-f)+(s-p)*(s-p))break;break t}if((fD[h+(d*24|0)+20>>2]|0)<(l|0))break;break t}if(!(p<c))break t}while(0);d=d+1|0}t:for(;;){p=+gD[h+(u*24|0)+16>>2];do{if(c==p){if(f=+gD[e>>2],m=+gD[e+4>>2],p=+gD[e+8>>2],_=+gD[h+(u*24|0)>>2]-f,g=+gD[h+(u*24|0)+4>>2]-m,y=+gD[h+(u*24|0)+8>>2]-p,(n-f)*(n-f)+(a-m)*(a-m)+(s-p)*(s-p)!=_*_+g*g+y*y){if((n-f)*(n-f)+(a-m)*(a-m)+(s-p)*(s-p)<_*_+g*g+y*y)break;break t}if((l|0)<(fD[h+(u*24|0)+20>>2]|0))break;break t}if(!(c<p))break t}while(0);u=u+-1|0}if((d|0)<=(u|0)&&(b=h+(d*24|0)|0,fD[o+0>>2]=fD[b+0>>2],fD[o+4>>2]=fD[b+4>>2],fD[o+8>>2]=fD[b+8>>2],fD[o+12>>2]=fD[b+12>>2],fD[o+16>>2]=fD[b+16>>2],fD[o+20>>2]=fD[b+20>>2],h=h+(u*24|0)|0,fD[b+0>>2]=fD[h+0>>2],fD[b+4>>2]=fD[h+4>>2],fD[b+8>>2]=fD[h+8>>2],fD[b+12>>2]=fD[h+12>>2],fD[b+16>>2]=fD[h+16>>2],fD[b+20>>2]=fD[h+20>>2],h=(fD[t+12>>2]|0)+(u*24|0)|0,fD[h+0>>2]=fD[o+0>>2],fD[h+4>>2]=fD[o+4>>2],fD[h+8>>2]=fD[o+8>>2],fD[h+12>>2]=fD[o+12>>2],fD[h+16>>2]=fD[o+16>>2],fD[h+20>>2]=fD[o+20>>2],d=d+1|0,u=u+-1|0),(d|0)>(u|0))break;h=fD[t+12>>2]|0}return(u|0)>(i|0)&&$b(t,e,i,u),(d|0)>=(r|0)?void(bD=o):($b(t,e,d,r),void(bD=o))}function tv(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0;if(r=bD,bD=bD+128|0,a=fD[t+56>>2]|0,(i-e|0)==1){if((uD[t+60>>0]|0)==0){T=(fD[t+96>>2]|0)+(a<<6)+0|0,_=(fD[t+76>>2]|0)+(e<<6)+0|0,d=T+64|0;do fD[T>>2]=fD[_>>2],T=T+4|0,_=_+4|0;while((T|0)<(d|0))}else P=(fD[t+136>>2]|0)+(a<<4)|0,D=(fD[t+116>>2]|0)+(e<<4)|0,fD[P+0>>2]=fD[D+0>>2],fD[P+4>>2]=fD[D+4>>2],fD[P+8>>2]=fD[D+8>>2],fD[P+12>>2]=fD[D+12>>2];return fD[t+56>>2]=(fD[t+56>>2]|0)+1,void(bD=r)}if((e|0)<(i|0)){l=(uD[t+60>>0]|0)==0,p=0,f=0,v=0,c=e;do l?(P=fD[t+76>>2]|0,y=+gD[P+(c<<6)>>2],b=+gD[P+(c<<6)+16>>2],m=+gD[P+(c<<6)+4>>2],g=+gD[P+(c<<6)+20>>2],M=+gD[P+(c<<6)+8>>2],u=+gD[P+(c<<6)+24>>2]):(P=fD[t+116>>2]|0,m=+gD[t+36>>2],M=+gD[t+40>>2],E=+gD[t+44>>2],b=+gD[t+4>>2],g=+gD[t+8>>2],u=+gD[t+12>>2],y=+(mD[P+(c<<4)>>1]|0)/m+b,b=+(mD[P+(c<<4)+6>>1]|0)/m+b,m=+(mD[P+(c<<4)+2>>1]|0)/M+g,g=+(mD[P+(c<<4)+8>>1]|0)/M+g,M=+(mD[P+(c<<4)+4>>1]|0)/E+u,u=+(mD[P+(c<<4)+10>>1]|0)/E+u),v+=(b+y)*.5,p+=(g+m)*.5,f+=(u+M)*.5,c=c+1|0;while((c|0)!=(i|0));if(E=1/+(i-e|0),u=v*E,p*=E,f*=E,l){l=fD[t+76>>2]|0,m=0,b=0,E=0,c=e;do M=(+gD[l+(c<<6)+16>>2]+ +gD[l+(c<<6)>>2])*.5-u,S=(+gD[l+(c<<6)+20>>2]+ +gD[l+(c<<6)+4>>2])*.5-p,x=(+gD[l+(c<<6)+24>>2]+ +gD[l+(c<<6)+8>>2])*.5-f,m+=M*M,b+=S*S,E+=x*x,c=c+1|0;while((c|0)!=(i|0));u=+(i-e|0)}else{c=fD[t+116>>2]|0,y=+gD[t+36>>2],M=+gD[t+40>>2],x=+gD[t+44>>2],v=+gD[t+4>>2],S=+gD[t+8>>2],g=+gD[t+12>>2],m=0,b=0,E=0,l=e;do L=(+(mD[c+(l<<4)+6>>1]|0)/y+v+(+(mD[c+(l<<4)>>1]|0)/y+v))*.5-u,V=(+(mD[c+(l<<4)+8>>1]|0)/M+S+(+(mD[c+(l<<4)+2>>1]|0)/M+S))*.5-p,B=(+(mD[c+(l<<4)+10>>1]|0)/x+g+(+(mD[c+(l<<4)+4>>1]|0)/x+g))*.5-f,m+=L*L,b+=V*V,E+=B*B,l=l+1|0;while((l|0)!=(i|0));u=+(i-e|0)}}else E=0,b=0,m=0,u=+(i-e|0);if(f=1/(u+-1),u=m*f,p=b*f,f=E*f,l=u<p?p<f?2:1:u<f?2:0,fD[r+16>>2]=0,fD[r+20>>2]=0,fD[r+24>>2]=0,fD[r+28>>2]=0,(e|0)<(i|0)){h=(uD[t+60>>0]|0)==0,f=0,p=0,u=0,c=e;do h?(P=fD[t+76>>2]|0,b=+gD[P+(c<<6)>>2],y=+gD[P+(c<<6)+16>>2],m=+gD[P+(c<<6)+4>>2],v=+gD[P+(c<<6)+20>>2],g=+gD[P+(c<<6)+8>>2],M=+gD[P+(c<<6)+24>>2]):(P=fD[t+116>>2]|0,m=+gD[t+36>>2],g=+gD[t+40>>2],L=+gD[t+44>>2],y=+gD[t+4>>2],v=+gD[t+8>>2],M=+gD[t+12>>2],b=+(mD[P+(c<<4)>>1]|0)/m+y,y=+(mD[P+(c<<4)+6>>1]|0)/m+y,m=+(mD[P+(c<<4)+2>>1]|0)/g+v,v=+(mD[P+(c<<4)+8>>1]|0)/g+v,g=+(mD[P+(c<<4)+4>>1]|0)/L+M,M=+(mD[P+(c<<4)+10>>1]|0)/L+M),f+=(y+b)*.5,p=(v+m)*.5+p,u=(M+g)*.5+u,c=c+1|0;while((c|0)!=(i|0));gD[r+16>>2]=f,gD[r+20>>2]=p,gD[r+24>>2]=u}else f=0,p=0,u=0;if(gD[r+16>>2]=1/+(i-e|0)*f,gD[r+20>>2]=1/+(i-e|0)*p,gD[r+24>>2]=1/+(i-e|0)*u,u=+gD[r+16+(l<<2)>>2],(e|0)<(i|0)){l=r+(l<<2)|0,h=e,c=e;do{if(d=(uD[t+60>>0]|0)==0,d?(P=fD[t+76>>2]|0,g=+gD[P+(h<<6)>>2],y=+gD[P+(h<<6)+16>>2],f=+gD[P+(h<<6)+4>>2],m=+gD[P+(h<<6)+20>>2],p=+gD[P+(h<<6)+8>>2],b=+gD[P+(h<<6)+24>>2]):(P=fD[t+116>>2]|0,f=+gD[t+36>>2],p=+gD[t+40>>2],L=+gD[t+44>>2],y=+gD[t+4>>2],m=+gD[t+8>>2],b=+gD[t+12>>2],g=+(mD[P+(h<<4)>>1]|0)/f+y,y=+(mD[P+(h<<4)+6>>1]|0)/f+y,f=+(mD[P+(h<<4)+2>>1]|0)/p+m,m=+(mD[P+(h<<4)+8>>1]|0)/p+m,p=+(mD[P+(h<<4)+4>>1]|0)/L+b,b=+(mD[P+(h<<4)+10>>1]|0)/L+b),gD[r>>2]=(y+g)*.5,gD[r+4>>2]=(m+f)*.5,gD[r+8>>2]=(b+p)*.5,gD[r+12>>2]=0,+gD[l>>2]>u){if(d){C=fD[t+76>>2]|0,A=C+(h<<6)|0,T=r+32|0,_=A+0|0,d=T+64|0;do fD[T>>2]=fD[_>>2],T=T+4|0,_=_+4|0;while((T|0)<(d|0));T=A+0|0,_=C+(c<<6)+0|0,d=T+64|0;do fD[T>>2]=fD[_>>2],T=T+4|0,_=_+4|0;while((T|0)<(d|0));T=(fD[t+76>>2]|0)+(c<<6)+0|0,_=r+32|0,d=T+64|0;do fD[T>>2]=fD[_>>2],T=T+4|0,_=_+4|0;while((T|0)<(d|0))}else D=fD[t+116>>2]|0,P=D+(h<<4)|0,fD[r+96>>2]=fD[P+0>>2],fD[r+100>>2]=fD[P+4>>2],fD[r+104>>2]=fD[P+8>>2],fD[r+108>>2]=fD[P+12>>2],D=D+(c<<4)|0,fD[P+0>>2]=fD[D+0>>2],fD[P+4>>2]=fD[D+4>>2],fD[P+8>>2]=fD[D+8>>2],fD[P+12>>2]=fD[D+12>>2],P=(fD[t+116>>2]|0)+(c<<4)|0,fD[P+0>>2]=fD[r+96>>2],fD[P+4>>2]=fD[r+100>>2],fD[P+8>>2]=fD[r+104>>2],fD[P+12>>2]=fD[r+108>>2];c=c+1|0}h=h+1|0}while((h|0)!=(i|0))}else c=e;((c|0)>(((i-e|0)/3|0)+e|0)?(c|0)<(i+-1-((i-e|0)/3|0)|0):0)||(c=(i-e>>1)+e|0),l=fD[t+56>>2]|0;do{if((uD[t+60>>0]|0)==0){if(h=(fD[t+96>>2]|0)+(l<<6)|0,fD[h+0>>2]=fD[t+20>>2],fD[h+4>>2]=fD[t+24>>2],fD[h+8>>2]=fD[t+28>>2],fD[h+12>>2]=fD[t+32>>2],h=fD[t+56>>2]|0,(uD[t+60>>0]|0)==0){h=(fD[t+96>>2]|0)+(h<<6)+16|0,fD[h+0>>2]=fD[t+4>>2],fD[h+4>>2]=fD[t+8>>2],fD[h+8>>2]=fD[t+12>>2],fD[h+12>>2]=fD[t+16>>2],h=fD[t+56>>2]|0;break}d=fD[t+136>>2]|0,_=t+4|0,g=+gD[t+8>>2],p=+gD[t+12>>2],m=+gD[t+36>>2],u=+gD[t+40>>2],f=+gD[t+44>>2],s=46;break}d=fD[t+136>>2]|0,g=+gD[t+8>>2],p=+gD[t+12>>2],m=+gD[t+36>>2],u=+gD[t+40>>2],V=(+gD[t+24>>2]-g)*u,f=+gD[t+44>>2],L=(+gD[t+28>>2]-p)*f,pD[d+(l<<4)>>1]=~~((+gD[t+20>>2]-+gD[t+4>>2])*m)&65534,pD[d+(l<<4)+2>>1]=~~V&65534,pD[d+(l<<4)+4>>1]=~~L&65534,h=l,_=t+4|0,s=46}while(0);if((s|0)==46&&(L=+gD[_>>2],pD[d+(h<<4)+6>>1]=~~((L-L)*m+1)&65535|1,pD[d+(h<<4)+8>>1]=~~((g-g)*u+1)&65535|1,pD[d+(h<<4)+10>>1]=~~((p-p)*f+1)&65535|1),(e|0)<(i|0)){s=uD[t+60>>0]|0,d=e;do s<<24>>24==0?(_=fD[t+76>>2]|0,v=+gD[_+(d<<6)>>2],b=+gD[_+(d<<6)+4>>2],y=+gD[_+(d<<6)+8>>2],g=+gD[_+(d<<6)+12>>2],m=+gD[_+(d<<6)+16>>2],f=+gD[_+(d<<6)+20>>2],p=+gD[_+(d<<6)+24>>2],u=+gD[_+(d<<6)+28>>2],_=fD[t+96>>2]|0,T=_+(h<<6)|0,v<+gD[T>>2]&&(gD[T>>2]=v),T=_+(h<<6)+4|0,b<+gD[T>>2]&&(gD[T>>2]=b),T=_+(h<<6)+8|0,y<+gD[T>>2]&&(gD[T>>2]=y),T=_+(h<<6)+12|0,g<+gD[T>>2]&&(gD[T>>2]=g),T=_+(h<<6)+16|0,+gD[T>>2]<m&&(gD[T>>2]=m),T=_+(h<<6)+20|0,+gD[T>>2]<f&&(gD[T>>2]=f),T=_+(h<<6)+24|0,+gD[T>>2]<p&&(gD[T>>2]=p),_=_+(h<<6)+28|0,+gD[_>>2]<u&&(gD[_>>2]=u)):(_=fD[t+116>>2]|0,m=+gD[t+36>>2],v=+gD[t+40>>2],E=+gD[t+44>>2],g=+gD[t+4>>2],M=+gD[t+8>>2],B=+gD[t+12>>2],y=+gD[t+4>>2],S=+gD[t+8>>2],V=+gD[t+12>>2],b=+gD[t+36>>2],x=+gD[t+40>>2],L=+gD[t+44>>2],D=~~((+(mD[_+(d<<4)>>1]|0)/m+g-y)*b)&65534,w=~~((+(mD[_+(d<<4)+2>>1]|0)/v+M-S)*x)&65534,C=~~((+(mD[_+(d<<4)+4>>1]|0)/E+B-V)*L)&65534,R=(~~((+(mD[_+(d<<4)+6>>1]|0)/m+g-y)*b+1)&65535|1)&65535,A=(~~((+(mD[_+(d<<4)+8>>1]|0)/v+M-S)*x+1)&65535|1)&65535,_=(~~((+(mD[_+(d<<4)+10>>1]|0)/E+B-V)*L+1)&65535|1)&65535,T=fD[t+136>>2]|0,P=T+(h<<4)|0,(mD[P>>1]|0)>(D&65535)&&(pD[P>>1]=D),D=T+(h<<4)+6|0,(mD[D>>1]|0)<(R&65535)&&(pD[D>>1]=R),R=T+(h<<4)+2|0,(mD[R>>1]|0)>(w&65535)&&(pD[R>>1]=w),w=T+(h<<4)+8|0,(mD[w>>1]|0)<(A&65535)&&(pD[w>>1]=A),A=T+(h<<4)+4|0,(mD[A>>1]|0)>(C&65535)&&(pD[A>>1]=C),T=T+(h<<4)+10|0,(mD[T>>1]|0)<(_&65535)&&(pD[T>>1]=_)),d=d+1|0;while((d|0)!=(i|0))}h=h+1|0,fD[t+56>>2]=h,tv(t,e,c),e=fD[t+56>>2]|0,tv(t,c,i),i=(fD[t+56>>2]|0)-a|0;do if((uD[t+60>>0]|0)!=0){if((i<<4|0)>2048){if(a=fD[t+136>>2]|0,c=fD[a+(h<<4)+12>>2]|0,c=(c|0)>-1?1:0-c|0,s=fD[a+(e<<4)+12>>2]|0,s=(s|0)>-1?1:0-s|0,(c<<4|0)<2049){if(d=fD[t+152>>2]|0,(d|0)==(fD[t+156>>2]|0)?(n=(d|0)==0?1:d<<1,(d|0)<(n|0)):0){if((n|0)==0?(_=0,C=d):(fD[5004]=(fD[5004]|0)+1,_=Ew(n<<5|19)|0,(_|0)==0?_=0:(fD[(_+19&-16)+-4>>2]=_,_=_+19&-16),C=fD[t+152>>2]|0),(C|0)>0){T=0;do P=_+(T<<5)|0,D=(fD[t+160>>2]|0)+(T<<5)|0,fD[P+0>>2]=fD[D+0>>2],fD[P+4>>2]=fD[D+4>>2],fD[P+8>>2]=fD[D+8>>2],fD[P+12>>2]=fD[D+12>>2],fD[P+16>>2]=fD[D+16>>2],fD[P+20>>2]=fD[D+20>>2],fD[P+24>>2]=fD[D+24>>2],fD[P+28>>2]=fD[D+28>>2],T=T+1|0;while((T|0)!=(C|0))}T=fD[t+160>>2]|0,(T|0)!=0&&((uD[t+164>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[T+-4>>2]|0)),fD[t+160>>2]=0),uD[t+164>>0]=1,fD[t+160>>2]=_,fD[t+156>>2]=n,n=fD[t+152>>2]|0}else n=d;fD[t+152>>2]=n+1,n=(fD[t+160>>2]|0)+(d<<5)|0,fD[n+0>>2]=fD[r+96>>2],fD[n+4>>2]=fD[r+100>>2],fD[n+8>>2]=fD[r+104>>2],fD[n+12>>2]=fD[r+108>>2],fD[n+16>>2]=fD[r+112>>2],fD[n+20>>2]=fD[r+116>>2],fD[n+24>>2]=fD[r+120>>2],fD[n+28>>2]=fD[r+124>>2],n=fD[t+160>>2]|0,pD[n+(d<<5)>>1]=pD[a+(h<<4)>>1]|0,pD[n+(d<<5)+2>>1]=pD[a+(h<<4)+2>>1]|0,pD[n+(d<<5)+4>>1]=pD[a+(h<<4)+4>>1]|0,pD[n+(d<<5)+6>>1]=pD[a+(h<<4)+6>>1]|0,pD[n+(d<<5)+8>>1]=pD[a+(h<<4)+8>>1]|0,pD[n+(d<<5)+10>>1]=pD[a+(h<<4)+10>>1]|0,fD[n+(d<<5)+12>>2]=h,fD[n+(d<<5)+16>>2]=c,n=t+152|0}else n=t+152|0;if((s<<4|0)<2049){if(c=fD[n>>2]|0,(c|0)==(fD[t+156>>2]|0)?(o=(c|0)==0?1:c<<1,(c|0)<(o|0)):0){if((o|0)==0?(h=0,_=c):(fD[5004]=(fD[5004]|0)+1,h=Ew(o<<5|19)|0,(h|0)==0?h=0:(fD[(h+19&-16)+-4>>2]=h,h=h+19&-16),_=fD[n>>2]|0),(_|0)>0){d=0;do P=h+(d<<5)|0,D=(fD[t+160>>2]|0)+(d<<5)|0,fD[P+0>>2]=fD[D+0>>2],fD[P+4>>2]=fD[D+4>>2],fD[P+8>>2]=fD[D+8>>2],fD[P+12>>2]=fD[D+12>>2],fD[P+16>>2]=fD[D+16>>2],fD[P+20>>2]=fD[D+20>>2],fD[P+24>>2]=fD[D+24>>2],fD[P+28>>2]=fD[D+28>>2],d=d+1|0;while((d|0)!=(_|0))}d=fD[t+160>>2]|0,(d|0)!=0&&((uD[t+164>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[d+-4>>2]|0)),fD[t+160>>2]=0),uD[t+164>>0]=1,fD[t+160>>2]=h,fD[t+156>>2]=o,o=fD[n>>2]|0}else o=c;fD[n>>2]=o+1,P=(fD[t+160>>2]|0)+(c<<5)|0,fD[P+0>>2]=fD[r+32>>2],fD[P+4>>2]=fD[r+36>>2],fD[P+8>>2]=fD[r+40>>2],fD[P+12>>2]=fD[r+44>>2],fD[P+16>>2]=fD[r+48>>2],fD[P+20>>2]=fD[r+52>>2],fD[P+24>>2]=fD[r+56>>2],fD[P+28>>2]=fD[r+60>>2],P=fD[t+160>>2]|0,pD[P+(c<<5)>>1]=pD[a+(e<<4)>>1]|0,pD[P+(c<<5)+2>>1]=pD[a+(e<<4)+2>>1]|0,pD[P+(c<<5)+4>>1]=pD[a+(e<<4)+4>>1]|0,pD[P+(c<<5)+6>>1]=pD[a+(e<<4)+6>>1]|0,pD[P+(c<<5)+8>>1]=pD[a+(e<<4)+8>>1]|0,pD[P+(c<<5)+10>>1]=pD[a+(e<<4)+10>>1]|0,fD[P+(c<<5)+12>>2]=e,fD[P+(c<<5)+16>>2]=s}if(fD[t+168>>2]=fD[n>>2],(uD[t+60>>0]|0)==0)break;t=t+136|0}else t=t+136|0;return fD[(fD[t>>2]|0)+(l<<4)+12>>2]=0-i,void(bD=r)}while(0);fD[(fD[t+96>>2]|0)+(l<<6)+32>>2]=i,bD=r}function ev(t){t|=0;var e=0;return e=bD,iv(t),(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function iv(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=16080,i=fD[t+160>>2]|0,(i|0)!=0&&((uD[t+164>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+160>>2]=0),uD[t+164>>0]=1,fD[t+160>>2]=0,fD[t+152>>2]=0,fD[t+156>>2]=0,i=fD[t+136>>2]|0,(i|0)!=0&&((uD[t+140>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+136>>2]=0),uD[t+140>>0]=1,fD[t+136>>2]=0,fD[t+128>>2]=0,fD[t+132>>2]=0,i=fD[t+116>>2]|0,(i|0)!=0&&((uD[t+120>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+116>>2]=0),uD[t+120>>0]=1,fD[t+116>>2]=0,fD[t+108>>2]=0,fD[t+112>>2]=0,i=fD[t+96>>2]|0,(i|0)!=0&&((uD[t+100>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+96>>2]=0),uD[t+100>>0]=1,fD[t+96>>2]=0,fD[t+88>>2]=0,fD[t+92>>2]=0,i=fD[t+76>>2]|0,(i|0)==0?(uD[t+80>>0]=1,fD[t+76>>2]=0,fD[t+68>>2]=0,i=t+72|0,fD[i>>2]=0,void(bD=e)):((uD[t+80>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+76>>2]=0,uD[t+80>>0]=1,fD[t+76>>2]=0,fD[t+68>>2]=0,i=t+72|0,fD[i>>2]=0,void(bD=e))}function rv(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0;for(o=bD;;){if(a=fD[t+12>>2]|0,!(((mD[r>>1]|0)>=(mD[t>>1]|0)?(mD[i>>1]|0)<=(mD[t+6>>1]|0):0)&(mD[i+4>>1]|0)<=(mD[t+10>>1]|0)&(mD[r+4>>1]|0)>=(mD[t+4>>1]|0)&(mD[i+2>>1]|0)<=(mD[t+8>>1]|0)&(mD[r+2>>1]|0)>=(mD[t+2>>1]|0))){n=8;break}if((a|0)>-1)break;rv(t+16|0,e,i,r),a=fD[t+28>>2]|0,t=(a|0)>-1?t+32|0:t+(1-a<<4)|0}return(n|0)==8?void(bD=o):(OP[fD[(fD[e>>2]|0)+8>>2]&127](e,a>>21,a&2097151),void(bD=o))}function ov(t,e,i,r,o,n,a,s){t|=0,e|=0,i|=0,r=+r,o=+o,n=+n,a|=0,s|=0;var l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0;l=bD,bD=bD+32|0,d=+gD[i>>2],u=+gD[i+4>>2],P=+gD[i+8>>2],G=+gD[a>>2],g=(d>r?r:d)+G,I=+gD[a+4>>2],p=(u>o?o:u)+I,O=+gD[a+8>>2],_=(P>n?n:P)+O,J=+gD[s>>2],y=(d<r?r:d)+J,N=+gD[s+4>>2],f=(u<o?o:u)+N,F=+gD[s+8>>2],m=(P<n?n:P)+F,h=1/+CD(+((r-d)*(r-d)+(o-u)*(o-u)+(n-P)*(n-P))),T=(r-d)*h==0?0xde0b6b000000000:1/((r-d)*h),x=(o-u)*h==0?0xde0b6b000000000:1/((o-u)*h),S=(n-P)*h==0?0xde0b6b000000000:1/((n-P)*h),v=T<0&1,b=x<0&1,M=S<0&1,V=fD[t+56>>2]|0;t:do if((V|0)>0)for(H=0,k=fD[t+96>>2]|0,L=1;;){if(fD[l+0>>2]=fD[k+0>>2],fD[l+4>>2]=fD[k+4>>2],fD[l+8>>2]=fD[k+8>>2],fD[l+12>>2]=fD[k+12>>2],W=k+16|0,fD[l+16>>2]=fD[W+0>>2],fD[l+20>>2]=fD[W+4>>2],fD[l+24>>2]=fD[W+8>>2],fD[l+28>>2]=fD[W+12>>2],gD[l>>2]=+gD[l>>2]-J,gD[l+4>>2]=+gD[l+4>>2]-N,gD[l+8>>2]=+gD[l+8>>2]-F,gD[l+16>>2]=+gD[l+16>>2]-G,gD[l+20>>2]=+gD[l+20>>2]-I,gD[l+24>>2]=+gD[l+24>>2]-O,z=(g>+gD[W>>2]?!0:y<+gD[k>>2])?0:1,(_>+gD[k+24>>2]?0:!(m<+gD[k+8>>2]))||(z=0),((((p>+gD[k+20>>2]?!0:f<+gD[k+4>>2]|z^1)?!0:(B=+gD[i>>2],D=T*(+gD[l+(v<<4)>>2]-B),B=T*(+gD[l+((v^1)<<4)>>2]-B),c=+gD[i+4>>2],R=x*(+gD[l+(b<<4)+4>>2]-c),c=x*(+gD[l+((b^1)<<4)+4>>2]-c),D>c|R>B))?!0:(w=R>D?R:D,C=c<B?c:B,E=+gD[i+8>>2],A=S*(+gD[l+(M<<4)+8>>2]-E),E=S*(+gD[l+((M^1)<<4)+8>>2]-E),w>E|A>C))?0:(A>w?A:w)<(n-P)*(n-P)*h+((r-d)*(r-d)*h+(o-u)*(o-u)*h))?(W=(E<C?E:C)>0,j=fD[k+32>>2]|0,(j|0)==-1&W?(OP[fD[(fD[e>>2]|0)+8>>2]&127](e,fD[k+36>>2]|0,fD[k+40>>2]|0),V=fD[t+56>>2]|0,z=24):(U=(j|0)==-1,z=23)):(j=fD[k+32>>2]|0,U=(j|0)==-1,W=0,z=23),(z|0)==23&&(z=0,W|U?z=24:(H=j+H|0,k=k+(j<<6)|0)),(z|0)==24&&(H=H+1|0,k=k+64|0),(H|0)>=(V|0))break t;I=+gD[a+4>>2],O=+gD[a+8>>2],J=+gD[s>>2],N=+gD[s+4>>2],F=+gD[s+8>>2],G=+gD[a>>2],L=L+1|0}else L=0;while(0);return(fD[4028]|0)>=(L|0)?void(bD=l):(fD[4028]=L,void(bD=l))}function nv(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r=+r,o=+o,n=+n,a|=0,s|=0,l|=0;var c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0,ie=0,re=0,oe=0,ne=0;if(c=bD,bD=bD+32|0,u=+gD[i>>2],p=+gD[i+4>>2],C=+gD[i+8>>2],d=1/+CD(+((r-u)*(r-u)+(o-p)*(o-p)+(n-C)*(n-C))),S=(r-u)*d==0?0xde0b6b000000000:1/((r-u)*d),x=(o-p)*d==0?0xde0b6b000000000:1/((o-p)*d),T=(n-C)*d==0?0xde0b6b000000000:1/((n-C)*d),h=S<0&1,A=x<0&1,E=T<0&1,ne=(u>r?r:u)+ +gD[a>>2],oe=(p>o?o:p)+ +gD[a+4>>2],re=(C>n?n:C)+ +gD[a+8>>2],ee=(u<r?r:u)+ +gD[s>>2],Q=(p<o?o:p)+ +gD[s+4>>2],X=(C<n?n:C)+ +gD[s+8>>2],te=+gD[t+4>>2],ne=ne<te?te:ne,Y=+gD[t+8>>2],oe=oe<Y?Y:oe,W=+gD[t+12>>2],re=re<W?W:re,ie=+gD[t+20>>2],Z=+gD[t+24>>2],q=+gD[t+28>>2],$=+gD[t+36>>2],K=+gD[t+40>>2],U=+gD[t+44>>2],R=~~(((ie<ne?ie:ne)-te)*$)&65534,B=~~(((Z<oe?Z:oe)-Y)*K)&65534,D=~~(((q<re?q:re)-W)*U)&65534,ee=ee<te?te:ee,Q=Q<Y?Y:Q,X=X<W?W:X,w=(~~(((ie<ee?ie:ee)-te)*$+1)&65535|1)&65535,V=(~~(((Z<Q?Z:Q)-Y)*K+1)&65535|1)&65535,P=(~~(((q<X?q:X)-W)*U+1)&65535|1)&65535,(l|0)>0){L=0,H=fD[t+136>>2]|0,k=0;do k=k+1|0,J=H+6|0,z=pD[H>>1]|0,j=H+10|0,F=pD[H+4>>1]|0,N=H+8|0,G=pD[H+2>>1]|0,I=H+12|0,O=(fD[I>>2]|0)>-1,(((((w&65535)>=(z&65535)?(R&65535)<=(mD[J>>1]|0):0)&(D&65535)<=(mD[j>>1]|0)&(P&65535)>=(F&65535)&(B&65535)<=(mD[N>>1]|0)&(V&65535)>=(G&65535)?(ee=+gD[t+36>>2],re=+gD[t+40>>2],ne=+gD[t+44>>2],ie=+gD[t+4>>2],oe=+gD[t+8>>2],y=+gD[t+12>>2],gD[c+12>>2]=0,v=+(mD[J>>1]|0)/ee+ie,b=+(mD[N>>1]|0)/re+oe,M=+(mD[j>>1]|0)/ne+y,gD[c+28>>2]=0,gD[c>>2]=+(z&65535)/ee+ie-+gD[s>>2],gD[c+4>>2]=+(G&65535)/re+oe-+gD[s+4>>2],gD[c+8>>2]=+(F&65535)/ne+y-+gD[s+8>>2],gD[c+16>>2]=v-+gD[a>>2],gD[c+20>>2]=b-+gD[a+4>>2],gD[c+24>>2]=M-+gD[a+8>>2],M=+gD[i>>2],b=S*(+gD[c+(h<<4)>>2]-M),M=S*(+gD[c+((h^1)<<4)>>2]-M),v=+gD[i+4>>2],y=x*(+gD[c+(A<<4)+4>>2]-v),v=x*(+gD[c+((A^1)<<4)+4>>2]-v),b>v|y>M):!0)?!0:(g=y>b?y:b,_=v<M?v:M,f=+gD[i+8>>2],m=T*(+gD[c+(E<<4)+8>>2]-f),f=T*(+gD[c+((E^1)<<4)+8>>2]-f),g>f|m>_))?0:(m>g?m:g)<(n-C)*(n-C)*d+((r-u)*(r-u)*d+(o-p)*(o-p)*d))?(N=!((f<_?f:_)>0),N|O^1?J=15:(J=fD[I>>2]|0,OP[fD[(fD[e>>2]|0)+8>>2]&127](e,J>>21,J&2097151),J=16)):(N=1,J=15),(J|0)==15&&(J=0,O|N^1?J=16:(j=fD[I>>2]|0,L=L-j|0,H=H+(0-j<<4)|0)),(J|0)==16&&(L=L+1|0,H=H+16|0);while((L|0)<(l|0))}else k=0;return(fD[4028]|0)>=(k|0)?void(bD=c):(fD[4028]=k,void(bD=c))}function av(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(i=bD,fD[t+168>>2]=fD[t+152>>2],fD[e>>2]=16080,fD[e+52>>2]=282,uD[e+60>>0]=0,uD[e+80>>0]=1,fD[e+76>>2]=0,fD[e+68>>2]=0,fD[e+72>>2]=0,uD[e+100>>0]=1,fD[e+96>>2]=0,fD[e+88>>2]=0,fD[e+92>>2]=0,uD[e+120>>0]=1,fD[e+116>>2]=0,fD[e+108>>2]=0,fD[e+112>>2]=0,uD[e+140>>0]=1,fD[e+136>>2]=0,fD[e+128>>2]=0,fD[e+132>>2]=0,fD[e+144>>2]=0,uD[e+164>>0]=1,fD[e+160>>2]=0,fD[e+152>>2]=0,fD[e+156>>2]=0,fD[e+168>>2]=0,gD[e+4>>2]=-3.4028234663852886e38,gD[e+8>>2]=-3.4028234663852886e38,gD[e+12>>2]=-3.4028234663852886e38,gD[e+16>>2]=0,gD[e+20>>2]=3.4028234663852886e38,gD[e+24>>2]=3.4028234663852886e38,gD[e+28>>2]=3.4028234663852886e38,gD[e+32>>2]=0,o=fD[t+56>>2]|0,r?(fD[e+56>>2]=Lw(o|0)|0,uD[e+4>>0]=uD[t+7>>0]|0,uD[e+5>>0]=uD[t+6>>0]|0,uD[e+6>>0]=uD[t+5>>0]|0,uD[e+7>>0]=uD[t+4>>0]|0,uD[e+8>>0]=uD[t+11>>0]|0,uD[e+9>>0]=uD[t+10>>0]|0,uD[e+10>>0]=uD[t+9>>0]|0,uD[e+11>>0]=uD[t+8>>0]|0,uD[e+12>>0]=uD[t+15>>0]|0,uD[e+13>>0]=uD[t+14>>0]|0,uD[e+14>>0]=uD[t+13>>0]|0,uD[e+15>>0]=uD[t+12>>0]|0,uD[e+16>>0]=uD[t+19>>0]|0,uD[e+17>>0]=uD[t+18>>0]|0,uD[e+18>>0]=uD[t+17>>0]|0,uD[e+19>>0]=uD[t+16>>0]|0,uD[e+20>>0]=uD[t+23>>0]|0,uD[e+21>>0]=uD[t+22>>0]|0,uD[e+22>>0]=uD[t+21>>0]|0,uD[e+23>>0]=uD[t+20>>0]|0,uD[e+24>>0]=uD[t+27>>0]|0,uD[e+25>>0]=uD[t+26>>0]|0,uD[e+26>>0]=uD[t+25>>0]|0,uD[e+27>>0]=uD[t+24>>0]|0,uD[e+28>>0]=uD[t+31>>0]|0,uD[e+29>>0]=uD[t+30>>0]|0,uD[e+30>>0]=uD[t+29>>0]|0,uD[e+31>>0]=uD[t+28>>0]|0,uD[e+32>>0]=uD[t+35>>0]|0,uD[e+33>>0]=uD[t+34>>0]|0,uD[e+34>>0]=uD[t+33>>0]|0,uD[e+35>>0]=uD[t+32>>0]|0,uD[e+36>>0]=uD[t+39>>0]|0,uD[e+37>>0]=uD[t+38>>0]|0,uD[e+38>>0]=uD[t+37>>0]|0,uD[e+39>>0]=uD[t+36>>0]|0,uD[e+40>>0]=uD[t+43>>0]|0,uD[e+41>>0]=uD[t+42>>0]|0,uD[e+42>>0]=uD[t+41>>0]|0,uD[e+43>>0]=uD[t+40>>0]|0,uD[e+44>>0]=uD[t+47>>0]|0,uD[e+45>>0]=uD[t+46>>0]|0,uD[e+46>>0]=uD[t+45>>0]|0,uD[e+47>>0]=uD[t+44>>0]|0,uD[e+48>>0]=uD[t+51>>0]|0,uD[e+49>>0]=uD[t+50>>0]|0,uD[e+50>>0]=uD[t+49>>0]|0,uD[e+51>>0]=uD[t+48>>0]|0,fD[e+144>>2]=Lw(fD[t+144>>2]|0)|0,o=Lw(fD[t+168>>2]|0)|0):(fD[e+56>>2]=o,fD[e+4>>2]=fD[t+4>>2],fD[e+8>>2]=fD[t+8>>2],fD[e+12>>2]=fD[t+12>>2],fD[e+16>>2]=fD[t+16>>2],fD[e+20>>2]=fD[t+20>>2],fD[e+24>>2]=fD[t+24>>2],fD[e+28>>2]=fD[t+28>>2],fD[e+32>>2]=fD[t+32>>2],fD[e+36>>2]=fD[t+36>>2],fD[e+40>>2]=fD[t+40>>2],fD[e+44>>2]=fD[t+44>>2],fD[e+48>>2]=fD[t+48>>2],fD[e+144>>2]=fD[t+144>>2],o=fD[t+168>>2]|0),fD[e+168>>2]=o,uD[e+60>>0]=uD[t+60>>0]|0,o=fD[t+56>>2]|0,(uD[t+60>>0]|0)==0){if(n=fD[e+96>>2]|0,(n|0)!=0&&((uD[e+100>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0)),fD[e+96>>2]=0),fD[e+88>>2]=0,fD[e+92>>2]=0,fD[e+96>>2]=0,uD[e+100>>0]=0,fD[e+96>>2]=e+172,fD[e+88>>2]=o,fD[e+92>>2]=o,r)if((o|0)>0){n=fD[t+96>>2]|0,s=e+172|0,a=0;do l=n+(a<<6)|0,h=s+(a<<6)|0,uD[h>>0]=uD[l+3>>0]|0,uD[h+1>>0]=uD[l+2>>0]|0,uD[h+2>>0]=uD[l+1>>0]|0,uD[h+3>>0]=uD[l>>0]|0,h=n+(a<<6)+4|0,l=s+(a<<6)+4|0,uD[l>>0]=uD[h+3>>0]|0,uD[l+1>>0]=uD[h+2>>0]|0,uD[l+2>>0]=uD[h+1>>0]|0,uD[l+3>>0]=uD[h>>0]|0,l=n+(a<<6)+8|0,h=s+(a<<6)+8|0,uD[h>>0]=uD[l+3>>0]|0,uD[h+1>>0]=uD[l+2>>0]|0,uD[h+2>>0]=uD[l+1>>0]|0,uD[h+3>>0]=uD[l>>0]|0,h=n+(a<<6)+12|0,s=s+(a<<6)+12|0,uD[s>>0]=uD[h+3>>0]|0,uD[s+1>>0]=uD[h+2>>0]|0,uD[s+2>>0]=uD[h+1>>0]|0,uD[s+3>>0]=uD[h>>0]|0,s=fD[t+96>>2]|0,h=s+(a<<6)+16|0,l=fD[e+96>>2]|0,c=l+(a<<6)+16|0,uD[c>>0]=uD[h+3>>0]|0,uD[c+1>>0]=uD[h+2>>0]|0,uD[c+2>>0]=uD[h+1>>0]|0,uD[c+3>>0]=uD[h>>0]|0,c=s+(a<<6)+20|0,h=l+(a<<6)+20|0,uD[h>>0]=uD[c+3>>0]|0,uD[h+1>>0]=uD[c+2>>0]|0,uD[h+2>>0]=uD[c+1>>0]|0,uD[h+3>>0]=uD[c>>0]|0,h=s+(a<<6)+24|0,c=l+(a<<6)+24|0,uD[c>>0]=uD[h+3>>0]|0,uD[c+1>>0]=uD[h+2>>0]|0,uD[c+2>>0]=uD[h+1>>0]|0,uD[c+3>>0]=uD[h>>0]|0,s=s+(a<<6)+28|0,l=l+(a<<6)+28|0,uD[l>>0]=uD[s+3>>0]|0,uD[l+1>>0]=uD[s+2>>0]|0,uD[l+2>>0]=uD[s+1>>0]|0,uD[l+3>>0]=uD[s>>0]|0,n=fD[t+96>>2]|0,l=Lw(fD[n+(a<<6)+32>>2]|0)|0,s=fD[e+96>>2]|0,fD[s+(a<<6)+32>>2]=l,fD[s+(a<<6)+36>>2]=Lw(fD[n+(a<<6)+36>>2]|0)|0,fD[s+(a<<6)+40>>2]=Lw(fD[n+(a<<6)+40>>2]|0)|0,a=a+1|0;while((a|0)!=(o|0))}else s=e+172|0;else if((o|0)>0){s=e+172|0,n=fD[t+96>>2]|0,a=0;do s=s+(a<<6)|0,h=n+(a<<6)|0,fD[s+0>>2]=fD[h+0>>2],fD[s+4>>2]=fD[h+4>>2],fD[s+8>>2]=fD[h+8>>2],fD[s+12>>2]=fD[h+12>>2],s=(fD[e+96>>2]|0)+(a<<6)+16|0,h=(fD[t+96>>2]|0)+(a<<6)+16|0,fD[s+0>>2]=fD[h+0>>2],fD[s+4>>2]=fD[h+4>>2],fD[s+8>>2]=fD[h+8>>2],fD[s+12>>2]=fD[h+12>>2],n=fD[t+96>>2]|0,s=fD[e+96>>2]|0,fD[s+(a<<6)+32>>2]=fD[n+(a<<6)+32>>2],fD[s+(a<<6)+36>>2]=fD[n+(a<<6)+36>>2],fD[s+(a<<6)+40>>2]=fD[n+(a<<6)+40>>2],a=a+1|0;while((a|0)!=(o|0))}else s=e+172|0;(s|0)!=0&&((uD[e+100>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[s+-4>>2]|0)),fD[e+96>>2]=0),fD[e+88>>2]=0,fD[e+92>>2]=0,fD[e+96>>2]=0,uD[e+100>>0]=0,o<<=6}else{if(n=fD[e+136>>2]|0,(n|0)!=0&&((uD[e+140>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0)),fD[e+136>>2]=0),fD[e+128>>2]=0,fD[e+132>>2]=0,fD[e+136>>2]=0,uD[e+140>>0]=0,fD[e+136>>2]=e+172,fD[e+128>>2]=o,fD[e+132>>2]=o,r){if((o|0)>0){n=fD[t+136>>2]|0,a=0;do h=mD[n+(a<<4)>>1]|0,pD[e+172+(a<<4)>>1]=h>>>8|h<<8,h=mD[n+(a<<4)+2>>1]|0,pD[e+172+(a<<4)+2>>1]=h>>>8|h<<8,h=mD[n+(a<<4)+4>>1]|0,pD[e+172+(a<<4)+4>>1]=h>>>8|h<<8,h=mD[n+(a<<4)+6>>1]|0,pD[e+172+(a<<4)+6>>1]=h>>>8|h<<8,h=mD[n+(a<<4)+8>>1]|0,pD[e+172+(a<<4)+8>>1]=h>>>8|h<<8,h=mD[n+(a<<4)+10>>1]|0,pD[e+172+(a<<4)+10>>1]=h>>>8|h<<8,fD[e+172+(a<<4)+12>>2]=Lw(fD[n+(a<<4)+12>>2]|0)|0,a=a+1|0;
while((a|0)!=(o|0))}}else if((o|0)>0){n=fD[t+136>>2]|0,a=0;do pD[e+172+(a<<4)>>1]=pD[n+(a<<4)>>1]|0,pD[e+172+(a<<4)+2>>1]=pD[n+(a<<4)+2>>1]|0,pD[e+172+(a<<4)+4>>1]=pD[n+(a<<4)+4>>1]|0,pD[e+172+(a<<4)+6>>1]=pD[n+(a<<4)+6>>1]|0,pD[e+172+(a<<4)+8>>1]=pD[n+(a<<4)+8>>1]|0,pD[e+172+(a<<4)+10>>1]=pD[n+(a<<4)+10>>1]|0,fD[e+172+(a<<4)+12>>2]=fD[n+(a<<4)+12>>2],a=a+1|0;while((a|0)!=(o|0))}fD[e+128>>2]=0,fD[e+132>>2]=0,fD[e+136>>2]=0,uD[e+140>>0]=0,o<<=4}if(o=e+(o+172)|0,a=fD[t+168>>2]|0,n=fD[e+160>>2]|0,(n|0)!=0&&((uD[e+164>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0)),fD[e+160>>2]=0),fD[e+152>>2]=0,fD[e+156>>2]=0,fD[e+160>>2]=0,uD[e+164>>0]=0,fD[e+160>>2]=o,fD[e+152>>2]=a,fD[e+156>>2]=a,n=(fD[t+168>>2]|0)>0,r){if(!n)return fD[e>>2]=0,fD[e+152>>2]=0,fD[e+156>>2]=0,fD[e+160>>2]=0,uD[e+164>>0]=0,bD=i,1;n=fD[t+160>>2]|0,r=0;do h=mD[n+(r<<5)>>1]|0,pD[o+(r<<5)>>1]=h>>>8|h<<8,h=mD[n+(r<<5)+2>>1]|0,pD[o+(r<<5)+2>>1]=h>>>8|h<<8,h=mD[n+(r<<5)+4>>1]|0,pD[o+(r<<5)+4>>1]=h>>>8|h<<8,h=mD[n+(r<<5)+6>>1]|0,pD[o+(r<<5)+6>>1]=h>>>8|h<<8,h=mD[n+(r<<5)+8>>1]|0,pD[o+(r<<5)+8>>1]=h>>>8|h<<8,h=mD[n+(r<<5)+10>>1]|0,pD[o+(r<<5)+10>>1]=h>>>8|h<<8,fD[o+(r<<5)+12>>2]=Lw(fD[n+(r<<5)+12>>2]|0)|0,fD[o+(r<<5)+16>>2]=Lw(fD[n+(r<<5)+16>>2]|0)|0,r=r+1|0;while((r|0)<(fD[t+168>>2]|0));return fD[e>>2]=0,fD[e+152>>2]=0,fD[e+156>>2]=0,fD[e+160>>2]=0,uD[e+164>>0]=0,bD=i,1}if(!n)return fD[e>>2]=0,fD[e+152>>2]=0,fD[e+156>>2]=0,fD[e+160>>2]=0,uD[e+164>>0]=0,bD=i,1;r=fD[t+160>>2]|0,n=0;do pD[o+(n<<5)>>1]=pD[r+(n<<5)>>1]|0,pD[o+(n<<5)+2>>1]=pD[r+(n<<5)+2>>1]|0,pD[o+(n<<5)+4>>1]=pD[r+(n<<5)+4>>1]|0,pD[o+(n<<5)+6>>1]=pD[r+(n<<5)+6>>1]|0,pD[o+(n<<5)+8>>1]=pD[r+(n<<5)+8>>1]|0,pD[o+(n<<5)+10>>1]=pD[r+(n<<5)+10>>1]|0,fD[o+(n<<5)+12>>2]=fD[r+(n<<5)+12>>2],fD[o+(n<<5)+16>>2]=fD[r+(n<<5)+16>>2],fD[o+(n<<5)+20>>2]=0,fD[o+(n<<5)+24>>2]=0,fD[o+(n<<5)+28>>2]=0,n=n+1|0;while((n|0)<(fD[t+168>>2]|0));return fD[e>>2]=0,fD[e+152>>2]=0,fD[e+156>>2]=0,fD[e+160>>2]=0,uD[e+164>>0]=0,bD=i,1}function sv(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;i=bD,bD=bD+112|0,gD[t+20>>2]=+gD[e+16>>2],gD[t+24>>2]=+gD[e+20>>2],gD[t+28>>2]=+gD[e+24>>2],gD[t+32>>2]=+gD[e+28>>2],gD[t+4>>2]=+gD[e>>2],gD[t+8>>2]=+gD[e+4>>2],gD[t+12>>2]=+gD[e+8>>2],gD[t+16>>2]=+gD[e+12>>2],gD[t+36>>2]=+gD[e+32>>2],gD[t+40>>2]=+gD[e+36>>2],gD[t+44>>2]=+gD[e+40>>2],gD[t+48>>2]=+gD[e+44>>2],fD[t+56>>2]=fD[e+48>>2],uD[t+60>>0]=(fD[e+52>>2]|0)!=0&1,r=fD[e+56>>2]|0,a=i+48|0,s=a+64|0;do fD[a>>2]=0,a=a+4|0;while((a|0)<(s|0));if(o=fD[t+88>>2]|0,(o|0)<(r|0)){if((fD[t+92>>2]|0)<(r|0)){if((r|0)==0?(l=0,c=o):(fD[5004]=(fD[5004]|0)+1,n=Ew(r<<6|19)|0,(n|0)==0?l=0:(fD[(n+19&-16)+-4>>2]=n,l=n+19&-16),c=fD[t+88>>2]|0),(c|0)>0){h=0;do{a=l+(h<<6)+0|0,n=(fD[t+96>>2]|0)+(h<<6)+0|0,s=a+64|0;do fD[a>>2]=fD[n>>2],a=a+4|0,n=n+4|0;while((a|0)<(s|0));h=h+1|0}while((h|0)!=(c|0))}n=fD[t+96>>2]|0,(n|0)!=0&&((uD[t+100>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0)),fD[t+96>>2]=0),uD[t+100>>0]=1,fD[t+96>>2]=l,fD[t+92>>2]=r,l=t+96|0}else l=t+96|0;do{a=(fD[l>>2]|0)+(o<<6)+0|0,n=i+48|0,s=a+64|0;do fD[a>>2]=fD[n>>2],a=a+4|0,n=n+4|0;while((a|0)<(s|0));o=o+1|0}while((o|0)!=(r|0))}if(fD[t+88>>2]=r,(r|0)>0)for(a=fD[t+96>>2]|0,o=0,n=fD[e+64>>2]|0;;){if(gD[a+(o<<6)+16>>2]=+gD[n+16>>2],gD[a+(o<<6)+20>>2]=+gD[n+20>>2],gD[a+(o<<6)+24>>2]=+gD[n+24>>2],gD[a+(o<<6)+28>>2]=+gD[n+28>>2],gD[a+(o<<6)>>2]=+gD[n>>2],gD[a+(o<<6)+4>>2]=+gD[n+4>>2],gD[a+(o<<6)+8>>2]=+gD[n+8>>2],gD[a+(o<<6)+12>>2]=+gD[n+12>>2],fD[a+(o<<6)+32>>2]=fD[n+32>>2],fD[a+(o<<6)+36>>2]=fD[n+36>>2],fD[a+(o<<6)+40>>2]=fD[n+40>>2],o=o+1|0,(o|0)==(r|0))break;n=n+48|0}if(r=fD[e+60>>2]|0,fD[i+32>>2]=0,fD[i+36>>2]=0,fD[i+40>>2]=0,fD[i+44>>2]=0,o=fD[t+128>>2]|0,(o|0)<(r|0)){if((fD[t+132>>2]|0)<(r|0)){if((r|0)==0?(n=0,a=o):(fD[5004]=(fD[5004]|0)+1,n=Ew((r<<4|3)+16|0)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),a=fD[t+128>>2]|0),(a|0)>0){s=0;do h=n+(s<<4)|0,c=(fD[t+136>>2]|0)+(s<<4)|0,fD[h+0>>2]=fD[c+0>>2],fD[h+4>>2]=fD[c+4>>2],fD[h+8>>2]=fD[c+8>>2],fD[h+12>>2]=fD[c+12>>2],s=s+1|0;while((s|0)!=(a|0))}a=fD[t+136>>2]|0,(a|0)!=0&&((uD[t+140>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[t+136>>2]=0),uD[t+140>>0]=1,fD[t+136>>2]=n,fD[t+132>>2]=r,n=t+136|0}else n=t+136|0;do h=(fD[n>>2]|0)+(o<<4)|0,fD[h+0>>2]=fD[i+32>>2],fD[h+4>>2]=fD[i+36>>2],fD[h+8>>2]=fD[i+40>>2],fD[h+12>>2]=fD[i+44>>2],o=o+1|0;while((o|0)!=(r|0))}if(fD[t+128>>2]=r,(r|0)>0)for(n=fD[t+136>>2]|0,o=0,a=fD[e+68>>2]|0;;){if(fD[n+(o<<4)+12>>2]=fD[a+12>>2],pD[n+(o<<4)+6>>1]=pD[a+6>>1]|0,pD[n+(o<<4)+8>>1]=pD[a+8>>1]|0,pD[n+(o<<4)+10>>1]=pD[a+10>>1]|0,pD[n+(o<<4)>>1]=pD[a>>1]|0,pD[n+(o<<4)+2>>1]=pD[a+2>>1]|0,pD[n+(o<<4)+4>>1]=pD[a+4>>1]|0,o=o+1|0,(o|0)==(r|0))break;a=a+16|0}if(fD[t+144>>2]=fD[e+76>>2],r=fD[e+80>>2]|0,o=fD[t+152>>2]|0,(o|0)<(r|0)){if((fD[t+156>>2]|0)<(r|0)){if((r|0)==0?(n=0,a=o):(fD[5004]=(fD[5004]|0)+1,n=Ew(r<<5|19)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),a=fD[t+152>>2]|0),(a|0)>0){s=0;do h=n+(s<<5)|0,c=(fD[t+160>>2]|0)+(s<<5)|0,fD[h+0>>2]=fD[c+0>>2],fD[h+4>>2]=fD[c+4>>2],fD[h+8>>2]=fD[c+8>>2],fD[h+12>>2]=fD[c+12>>2],fD[h+16>>2]=fD[c+16>>2],fD[h+20>>2]=fD[c+20>>2],fD[h+24>>2]=fD[c+24>>2],fD[h+28>>2]=fD[c+28>>2],s=s+1|0;while((s|0)!=(a|0))}a=fD[t+160>>2]|0,(a|0)!=0&&((uD[t+164>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[t+160>>2]=0),uD[t+164>>0]=1,fD[t+160>>2]=n,fD[t+156>>2]=r,n=t+160|0}else n=t+160|0;do h=(fD[n>>2]|0)+(o<<5)|0,fD[h+0>>2]=fD[i+0>>2],fD[h+4>>2]=fD[i+4>>2],fD[h+8>>2]=fD[i+8>>2],fD[h+12>>2]=fD[i+12>>2],fD[h+16>>2]=fD[i+16>>2],fD[h+20>>2]=fD[i+20>>2],fD[h+24>>2]=fD[i+24>>2],fD[h+28>>2]=fD[i+28>>2],o=o+1|0;while((o|0)!=(r|0))}if(fD[t+152>>2]=r,(r|0)<=0)return void(bD=i);for(o=fD[t+160>>2]|0,t=0,e=fD[e+72>>2]|0;;){if(pD[o+(t<<5)+6>>1]=pD[e+14>>1]|0,pD[o+(t<<5)+8>>1]=pD[e+16>>1]|0,pD[o+(t<<5)+10>>1]=pD[e+18>>1]|0,pD[o+(t<<5)>>1]=pD[e+8>>1]|0,pD[o+(t<<5)+2>>1]=pD[e+10>>1]|0,pD[o+(t<<5)+4>>1]=pD[e+12>>1]|0,fD[o+(t<<5)+12>>2]=fD[e>>2],fD[o+(t<<5)+16>>2]=fD[e+4>>2],t=t+1|0,(t|0)==(r|0))break;e=e+20|0}bD=i}function lv(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;i=bD,bD=bD+112|0,gD[t+20>>2]=+yD[e+32>>3],gD[t+24>>2]=+yD[e+40>>3],gD[t+28>>2]=+yD[e+48>>3],gD[t+32>>2]=+yD[e+56>>3],gD[t+4>>2]=+yD[e>>3],gD[t+8>>2]=+yD[e+8>>3],gD[t+12>>2]=+yD[e+16>>3],gD[t+16>>2]=+yD[e+24>>3],gD[t+36>>2]=+yD[e+64>>3],gD[t+40>>2]=+yD[e+72>>3],gD[t+44>>2]=+yD[e+80>>3],gD[t+48>>2]=+yD[e+88>>3],fD[t+56>>2]=fD[e+96>>2],uD[t+60>>0]=(fD[e+100>>2]|0)!=0&1,r=fD[e+104>>2]|0,a=i+48|0,s=a+64|0;do fD[a>>2]=0,a=a+4|0;while((a|0)<(s|0));if(o=fD[t+88>>2]|0,(o|0)<(r|0)){if((fD[t+92>>2]|0)<(r|0)){if((r|0)==0?(l=0,c=o):(fD[5004]=(fD[5004]|0)+1,n=Ew(r<<6|19)|0,(n|0)==0?l=0:(fD[(n+19&-16)+-4>>2]=n,l=n+19&-16),c=fD[t+88>>2]|0),(c|0)>0){h=0;do{a=l+(h<<6)+0|0,n=(fD[t+96>>2]|0)+(h<<6)+0|0,s=a+64|0;do fD[a>>2]=fD[n>>2],a=a+4|0,n=n+4|0;while((a|0)<(s|0));h=h+1|0}while((h|0)!=(c|0))}n=fD[t+96>>2]|0,(n|0)!=0&&((uD[t+100>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0)),fD[t+96>>2]=0),uD[t+100>>0]=1,fD[t+96>>2]=l,fD[t+92>>2]=r,l=t+96|0}else l=t+96|0;do{a=(fD[l>>2]|0)+(o<<6)+0|0,n=i+48|0,s=a+64|0;do fD[a>>2]=fD[n>>2],a=a+4|0,n=n+4|0;while((a|0)<(s|0));o=o+1|0}while((o|0)!=(r|0))}if(fD[t+88>>2]=r,(r|0)>0)for(a=fD[t+96>>2]|0,o=0,n=fD[e+112>>2]|0;;){if(gD[a+(o<<6)+16>>2]=+yD[n+32>>3],gD[a+(o<<6)+20>>2]=+yD[n+40>>3],gD[a+(o<<6)+24>>2]=+yD[n+48>>3],gD[a+(o<<6)+28>>2]=+yD[n+56>>3],gD[a+(o<<6)>>2]=+yD[n>>3],gD[a+(o<<6)+4>>2]=+yD[n+8>>3],gD[a+(o<<6)+8>>2]=+yD[n+16>>3],gD[a+(o<<6)+12>>2]=+yD[n+24>>3],fD[a+(o<<6)+32>>2]=fD[n+64>>2],fD[a+(o<<6)+36>>2]=fD[n+68>>2],fD[a+(o<<6)+40>>2]=fD[n+72>>2],o=o+1|0,(o|0)==(r|0))break;n=n+80|0}if(r=fD[e+108>>2]|0,fD[i+32>>2]=0,fD[i+36>>2]=0,fD[i+40>>2]=0,fD[i+44>>2]=0,o=fD[t+128>>2]|0,(o|0)<(r|0)){if((fD[t+132>>2]|0)<(r|0)){if((r|0)==0?(n=0,a=o):(fD[5004]=(fD[5004]|0)+1,n=Ew((r<<4|3)+16|0)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),a=fD[t+128>>2]|0),(a|0)>0){s=0;do h=n+(s<<4)|0,c=(fD[t+136>>2]|0)+(s<<4)|0,fD[h+0>>2]=fD[c+0>>2],fD[h+4>>2]=fD[c+4>>2],fD[h+8>>2]=fD[c+8>>2],fD[h+12>>2]=fD[c+12>>2],s=s+1|0;while((s|0)!=(a|0))}a=fD[t+136>>2]|0,(a|0)!=0&&((uD[t+140>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[t+136>>2]=0),uD[t+140>>0]=1,fD[t+136>>2]=n,fD[t+132>>2]=r,n=t+136|0}else n=t+136|0;do h=(fD[n>>2]|0)+(o<<4)|0,fD[h+0>>2]=fD[i+32>>2],fD[h+4>>2]=fD[i+36>>2],fD[h+8>>2]=fD[i+40>>2],fD[h+12>>2]=fD[i+44>>2],o=o+1|0;while((o|0)!=(r|0))}if(fD[t+128>>2]=r,(r|0)>0)for(n=fD[t+136>>2]|0,o=0,a=fD[e+116>>2]|0;;){if(fD[n+(o<<4)+12>>2]=fD[a+12>>2],pD[n+(o<<4)+6>>1]=pD[a+6>>1]|0,pD[n+(o<<4)+8>>1]=pD[a+8>>1]|0,pD[n+(o<<4)+10>>1]=pD[a+10>>1]|0,pD[n+(o<<4)>>1]=pD[a>>1]|0,pD[n+(o<<4)+2>>1]=pD[a+2>>1]|0,pD[n+(o<<4)+4>>1]=pD[a+4>>1]|0,o=o+1|0,(o|0)==(r|0))break;a=a+16|0}if(fD[t+144>>2]=fD[e+120>>2],r=fD[e+124>>2]|0,o=fD[t+152>>2]|0,(o|0)<(r|0)){if((fD[t+156>>2]|0)<(r|0)){if((r|0)==0?(n=0,a=o):(fD[5004]=(fD[5004]|0)+1,n=Ew(r<<5|19)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),a=fD[t+152>>2]|0),(a|0)>0){s=0;do h=n+(s<<5)|0,c=(fD[t+160>>2]|0)+(s<<5)|0,fD[h+0>>2]=fD[c+0>>2],fD[h+4>>2]=fD[c+4>>2],fD[h+8>>2]=fD[c+8>>2],fD[h+12>>2]=fD[c+12>>2],fD[h+16>>2]=fD[c+16>>2],fD[h+20>>2]=fD[c+20>>2],fD[h+24>>2]=fD[c+24>>2],fD[h+28>>2]=fD[c+28>>2],s=s+1|0;while((s|0)!=(a|0))}a=fD[t+160>>2]|0,(a|0)!=0&&((uD[t+164>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[t+160>>2]=0),uD[t+164>>0]=1,fD[t+160>>2]=n,fD[t+156>>2]=r,n=t+160|0}else n=t+160|0;do h=(fD[n>>2]|0)+(o<<5)|0,fD[h+0>>2]=fD[i+0>>2],fD[h+4>>2]=fD[i+4>>2],fD[h+8>>2]=fD[i+8>>2],fD[h+12>>2]=fD[i+12>>2],fD[h+16>>2]=fD[i+16>>2],fD[h+20>>2]=fD[i+20>>2],fD[h+24>>2]=fD[i+24>>2],fD[h+28>>2]=fD[i+28>>2],o=o+1|0;while((o|0)!=(r|0))}if(fD[t+152>>2]=r,(r|0)<=0)return void(bD=i);for(o=fD[t+160>>2]|0,t=0,e=fD[e+128>>2]|0;;){if(pD[o+(t<<5)+6>>1]=pD[e+14>>1]|0,pD[o+(t<<5)+8>>1]=pD[e+16>>1]|0,pD[o+(t<<5)+10>>1]=pD[e+18>>1]|0,pD[o+(t<<5)>>1]=pD[e+8>>1]|0,pD[o+(t<<5)+2>>1]=pD[e+10>>1]|0,pD[o+(t<<5)+4>>1]=pD[e+12>>1]|0,fD[o+(t<<5)+12>>2]=fD[e>>2],fD[o+(t<<5)+16>>2]=fD[e+4>>2],t=t+1|0,(t|0)==(r|0))break;e=e+20|0}bD=i}function cv(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;if(r=bD,gD[e+16>>2]=+gD[t+20>>2],gD[e+20>>2]=+gD[t+24>>2],gD[e+24>>2]=+gD[t+28>>2],gD[e+28>>2]=+gD[t+32>>2],gD[e>>2]=+gD[t+4>>2],gD[e+4>>2]=+gD[t+8>>2],gD[e+8>>2]=+gD[t+12>>2],gD[e+12>>2]=+gD[t+16>>2],gD[e+32>>2]=+gD[t+36>>2],gD[e+36>>2]=+gD[t+40>>2],gD[e+40>>2]=+gD[t+44>>2],gD[e+44>>2]=+gD[t+48>>2],fD[e+48>>2]=fD[t+56>>2],fD[e+52>>2]=_D[t+60>>0],fD[e+56>>2]=fD[t+88>>2],(fD[t+88>>2]|0)!=0){if(l=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,fD[t+96>>2]|0)|0,fD[e+64>>2]=l,(l|0)!=0){if(l=fD[t+88>>2]|0,o=gP[fD[(fD[i>>2]|0)+16>>2]&31](i,48,l)|0,(l|0)>0)for(n=fD[t+96>>2]|0,s=0,a=fD[o+8>>2]|0;;){if(gD[a+16>>2]=+gD[n+(s<<6)+16>>2],gD[a+20>>2]=+gD[n+(s<<6)+20>>2],gD[a+24>>2]=+gD[n+(s<<6)+24>>2],gD[a+28>>2]=+gD[n+(s<<6)+28>>2],gD[a>>2]=+gD[n+(s<<6)>>2],gD[a+4>>2]=+gD[n+(s<<6)+4>>2],gD[a+8>>2]=+gD[n+(s<<6)+8>>2],gD[a+12>>2]=+gD[n+(s<<6)+12>>2],fD[a+32>>2]=fD[n+(s<<6)+32>>2],fD[a+36>>2]=fD[n+(s<<6)+36>>2],fD[a+40>>2]=fD[n+(s<<6)+40>>2],s=s+1|0,(s|0)==(l|0))break;a=a+48|0}else n=fD[t+96>>2]|0;iP[fD[(fD[i>>2]|0)+20>>2]&31](i,o,16120,1497453121,n)}}else fD[e+64>>2]=0;if(fD[e+60>>2]=fD[t+128>>2],(fD[t+128>>2]|0)!=0){if(l=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,fD[t+136>>2]|0)|0,fD[e+68>>2]=l,(l|0)!=0){if(n=fD[t+128>>2]|0,o=gP[fD[(fD[i>>2]|0)+16>>2]&31](i,16,n)|0,(n|0)>0)for(a=fD[t+136>>2]|0,l=0,s=fD[o+8>>2]|0;;){if(fD[s+12>>2]=fD[a+(l<<4)+12>>2],pD[s+6>>1]=pD[a+(l<<4)+6>>1]|0,pD[s+8>>1]=pD[a+(l<<4)+8>>1]|0,pD[s+10>>1]=pD[a+(l<<4)+10>>1]|0,pD[s>>1]=pD[a+(l<<4)>>1]|0,pD[s+2>>1]=pD[a+(l<<4)+2>>1]|0,pD[s+4>>1]=pD[a+(l<<4)+4>>1]|0,l=l+1|0,(l|0)==(n|0))break;s=s+16|0}else a=fD[t+136>>2]|0;iP[fD[(fD[i>>2]|0)+20>>2]&31](i,o,16144,1497453121,a)}}else fD[e+68>>2]=0;if(fD[e+76>>2]=fD[t+144>>2],fD[e+80>>2]=fD[t+152>>2],(fD[t+152>>2]|0)==0)return fD[e+72>>2]=0,bD=r,16192;if(l=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,fD[t+160>>2]|0)|0,fD[e+72>>2]=l,(l|0)==0)return bD=r,16192;if(o=fD[t+152>>2]|0,e=gP[fD[(fD[i>>2]|0)+16>>2]&31](i,20,o)|0,(o|0)>0)for(t=fD[t+160>>2]|0,a=0,n=fD[e+8>>2]|0;;){if(pD[n+14>>1]=pD[t+(a<<5)+6>>1]|0,pD[n+16>>1]=pD[t+(a<<5)+8>>1]|0,pD[n+18>>1]=pD[t+(a<<5)+10>>1]|0,pD[n+8>>1]=pD[t+(a<<5)>>1]|0,pD[n+10>>1]=pD[t+(a<<5)+2>>1]|0,pD[n+12>>1]=pD[t+(a<<5)+4>>1]|0,fD[n>>2]=fD[t+(a<<5)+12>>2],fD[n+4>>2]=fD[t+(a<<5)+16>>2],a=a+1|0,(a|0)==(o|0))break;n=n+20|0}else t=fD[t+160>>2]|0;return iP[fD[(fD[i>>2]|0)+20>>2]&31](i,e,16168,1497453121,t),bD=r,16192}function hv(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0;return o=bD,bD=bD+32|0,E=+gD[e+16>>2],_=+gD[e>>2],T=+gD[e+20>>2],g=+gD[e+4>>2],M=+gD[e+24>>2],v=+gD[e+8>>2],y=+gD[e+32>>2],d=+gD[e+36>>2],u=+gD[e+40>>2],c=(T-g)*(u-v)-(M-v)*(d-g),s=(M-v)*(y-_)-(E-_)*(u-v),l=(E-_)*(d-g)-(T-g)*(y-_),gD[o+16>>2]=c,gD[o+20>>2]=s,gD[o+24>>2]=l,gD[o+28>>2]=0,S=+gD[t+4>>2],b=+gD[t+8>>2],p=+gD[t+12>>2],n=c*S+s*b+l*p-(_*c+g*s+v*l),x=+gD[t+20>>2],m=+gD[t+24>>2],f=+gD[t+28>>2],n*(c*x+s*m+l*f-(_*c+g*s+v*l))>=0?void(bD=o):(e=fD[t+36>>2]|0,(e&1|0)==0|!(n<=0)?(a=n/(n-(c*x+s*m+l*f-(_*c+g*s+v*l))),a<+gD[t+40>>2]?(h=(c*c+s*s+l*l)*-9999999747378752e-20,_-=x*a+S*(1-a),g-=m*a+b*(1-a),v-=f*a+p*(1-a),E-=x*a+S*(1-a),T-=m*a+b*(1-a),M-=f*a+p*(1-a),l*(_*T-g*E)+(c*(g*M-v*T)+s*(v*E-_*M))>=h?(y-=x*a+S*(1-a),d-=m*a+b*(1-a),u-=f*a+p*(1-a),l*(E*d-T*y)+(c*(T*u-M*d)+s*(M*y-E*u))>=h&&l*(g*y-_*d)+(c*(v*d-g*u)+s*(_*u-v*y))>=h?(h=1/+CD(+(c*c+s*s+l*l)),gD[o+16>>2]=c*h,gD[o+20>>2]=s*h,gD[o+24>>2]=l*h,C=fD[(fD[t>>2]|0)+12>>2]|0,(e&2|0)!=0|!(n<=0)?(gD[t+40>>2]=+LP[C&3](t,o+16|0,a,i,r),void(bD=o)):(gD[o>>2]=-(c*h),gD[o+4>>2]=-(s*h),gD[o+8>>2]=-(l*h),gD[o+12>>2]=0,gD[t+40>>2]=+LP[C&3](t,o,a,i,r),void(bD=o))):void(bD=o)):void(bD=o)):void(bD=o)):void(bD=o))}function dv(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0;return o=bD,bD=bD+672|0,fD[o+576>>2]=0,gD[o+580>>2]=1,gD[o+584>>2]=1,gD[o+588>>2]=1,gD[o+592>>2]=0,fD[o+620>>2]=0,fD[o+568>>2]=16376,fD[o+572>>2]=1,fD[o+624>>2]=fD[e+0>>2],fD[o+628>>2]=fD[e+4>>2],fD[o+632>>2]=fD[e+8>>2],fD[o+636>>2]=fD[e+12>>2],fD[o+640>>2]=fD[e+16>>2],fD[o+644>>2]=fD[e+20>>2],fD[o+648>>2]=fD[e+24>>2],fD[o+652>>2]=fD[e+28>>2],fD[o+656>>2]=fD[e+32>>2],fD[o+660>>2]=fD[e+36>>2],fD[o+664>>2]=fD[e+40>>2],fD[o+668>>2]=fD[e+44>>2],gD[o+612>>2]=+gD[t+204>>2],gD[o+516>>2]=9999999747378752e-20,uD[o+540>>0]=0,fD[o+200>>2]=13248,e=fD[t+4>>2]|0,fD[o+176>>2]=10152,fD[o+180>>2]=o+208,fD[o+184>>2]=o+200,fD[o+188>>2]=e,fD[o+192>>2]=o+568,fD[o+196>>2]=0,fD[o>>2]=9440,fD[o+168>>2]=0,gD[o+164>>2]=1,gD[o+172>>2]=+gD[t+208>>2],((fT(o+176|0,t+8|0,t+72|0,t+136|0,t+136|0,o)|0?(n=+gD[o+132>>2],s=+gD[o+136>>2],l=+gD[o+140>>2],n*n+s*s+l*l>9999999747378752e-20):0)?(a=+gD[o+164>>2],a<+gD[t+200>>2]):0)&&(c=1/+CD(+(n*n+s*s+l*l)),gD[o+132>>2]=n*c,gD[o+136>>2]=s*c,gD[o+140>>2]=l*c,+SP[fD[(fD[t>>2]|0)+12>>2]&3](t,o+132|0,o+148|0,a,i,r)),fD[o+568>>2]=15736,i=fD[o+620>>2]|0,(i|0)==0?void(bD=o):(oP[fD[fD[i>>2]>>2]&511](i),i=fD[o+620>>2]|0,(i|0)==0?void(bD=o):(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0),void(bD=o)))}function uv(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=15736,i=fD[t+52>>2]|0,(i|0)==0?void(bD=e):(oP[fD[fD[i>>2]>>2]&511](i),t=fD[t+52>>2]|0,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e)))}function pv(t){t|=0}function fv(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function _v(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=15736,i=fD[t+52>>2]|0,(i|0)!=0&&(oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+52>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),(t|0)==0)?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function mv(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,GP[fD[(fD[t>>2]|0)+80>>2]&127](t,e,i,r),bD=o}function gv(t,e,i){t|=0,e=+e,i|=0,t=bD,fD[i+0>>2]=0,fD[i+4>>2]=0,fD[i+8>>2]=0,fD[i+12>>2]=0,bD=t}function yv(t){return t|=0,16544}function bv(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;r=bD,l=+gD[i>>2],s=+gD[i+4>>2],o=+gD[i+8>>2],a=l*+gD[e+56>>2]+s*+gD[e+60>>2]+o*+gD[e+64>>2],n=l*+gD[e+72>>2]+s*+gD[e+76>>2]+o*+gD[e+80>>2],o=l*+gD[e+88>>2]+s*+gD[e+92>>2]+o*+gD[e+96>>2],i=a<n?n<o?2:1:a<o?2:0,i=e+(i<<4)+56|0,fD[t+0>>2]=fD[i+0>>2],fD[t+4>>2]=fD[i+4>>2],fD[t+8>>2]=fD[i+8>>2],fD[t+12>>2]=fD[i+12>>2],bD=r}function vv(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0;if(n=bD,(r|0)<=0)return void(bD=n);o=0;do u=+gD[e+(o<<4)>>2],d=+gD[e+(o<<4)+4>>2],s=+gD[e+(o<<4)+8>>2],c=u*+gD[t+56>>2]+d*+gD[t+60>>2]+s*+gD[t+64>>2],l=u*+gD[t+72>>2]+d*+gD[t+76>>2]+s*+gD[t+80>>2],s=u*+gD[t+88>>2]+d*+gD[t+92>>2]+s*+gD[t+96>>2],a=i+(o<<4)|0,h=c<l?l<s?2:1:c<s?2:0,h=t+(h<<4)+56|0,fD[a+0>>2]=fD[h+0>>2],fD[a+4>>2]=fD[h+4>>2],fD[a+8>>2]=fD[h+8>>2],fD[a+12>>2]=fD[h+12>>2],o=o+1|0;while((o|0)!=(r|0));bD=n}function Mv(t){return t|=0,2}function Sv(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;return a=bD,l=+gD[t+56>>2],n=+gD[t+72>>2]-l,s=+gD[t+60>>2],o=+gD[t+76>>2]-s,c=+gD[t+64>>2],r=+gD[t+80>>2]-c,l=+gD[t+88>>2]-l,s=+gD[t+92>>2]-s,c=+gD[t+96>>2]-c,gD[i+12>>2]=0,h=1/+CD(+((n*s-o*l)*(n*s-o*l)+((o*c-r*s)*(o*c-r*s)+(r*l-n*c)*(r*l-n*c)))),gD[i>>2]=h*(o*c-r*s),gD[i+4>>2]=h*(r*l-n*c),gD[i+8>>2]=(n*s-o*l)*h,(e|0)==0?void(bD=a):(gD[i>>2]=h*(o*c-r*s)*-1,gD[i+4>>2]=h*(r*l-n*c)*-1,gD[i+8>>2]=(n*s-o*l)*h*-1,void(bD=a))}function xv(t){return t|=0,3}function Tv(t){return t|=0,3}function Ev(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,OP[fD[(fD[t>>2]|0)+108>>2]&127](t,e,i),OP[fD[(fD[t>>2]|0)+108>>2]&127](t,(e+1|0)%3|0,r),bD=o}function Cv(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,fD[i+0>>2]=fD[t+(e<<4)+56>>2],fD[i+4>>2]=fD[t+(e<<4)+60>>2],fD[i+8>>2]=fD[t+(e<<4)+64>>2],fD[i+12>>2]=fD[t+(e<<4)+68>>2],bD=r}function Av(t){return t|=0,1}function wv(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,GP[fD[(fD[t>>2]|0)+124>>2]&127](t,r,e,i),bD=o}function Rv(t,e,i){t|=0,e|=0,i=+i;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0;if(r=bD,bD=bD+32|0,h=+gD[t+56>>2],f=+gD[t+72>>2]-h,c=+gD[t+60>>2],u=+gD[t+76>>2]-c,l=+gD[t+64>>2],_=+gD[t+80>>2]-l,d=+gD[t+88>>2]-h,p=+gD[t+92>>2]-c,o=+gD[t+96>>2]-l,a=1/+CD(+((f*p-u*d)*(f*p-u*d)+((u*o-_*p)*(u*o-_*p)+(_*d-f*o)*(_*d-f*o)))),n=a*(u*o-_*p),o=a*(_*d-f*o),a=(f*p-u*d)*a,l=+gD[e>>2]*n+ +gD[e+4>>2]*o+a*+gD[e+8>>2]-(n*h+o*c+a*l),!(l>=-i)|!(l<=i))return s=0,bD=r,s|0;for(s=0;;){if(GP[fD[(fD[t>>2]|0)+104>>2]&127](t,s,r+16|0,r),h=+gD[r+16>>2],_=+gD[r>>2]-h,u=+gD[r+20>>2],d=+gD[r+4>>2]-u,c=+gD[r+24>>2],f=+gD[r+8>>2]-c,p=1/+CD(+((o*_-n*d)*(o*_-n*d)+((a*d-o*f)*(a*d-o*f)+(n*f-a*_)*(n*f-a*_)))),s=s+1|0,+gD[e>>2]*p*(a*d-o*f)+ +gD[e+4>>2]*p*(n*f-a*_)+(o*_-n*d)*p*+gD[e+8>>2]-(c*(o*_-n*d)*p+(h*p*(a*d-o*f)+u*p*(n*f-a*_)))<-i){e=0,t=5;break}if((s|0)>=3){e=1,t=5;break}}return(t|0)==5?(bD=r,e|0):0}function Dv(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0;e=bD,n=+gD[t+56>>2],l=+gD[t+72>>2]-n,s=+gD[t+60>>2],a=+gD[t+76>>2]-s,c=+gD[t+64>>2],h=+gD[t+80>>2]-c,n=+gD[t+88>>2]-n,s=+gD[t+92>>2]-s,c=+gD[t+96>>2]-c,gD[i+12>>2]=0,o=1/+CD(+((l*s-a*n)*(l*s-a*n)+((a*c-h*s)*(a*c-h*s)+(h*n-l*c)*(h*n-l*c)))),gD[i>>2]=o*(a*c-h*s),gD[i+4>>2]=o*(h*n-l*c),gD[i+8>>2]=(l*s-a*n)*o,fD[r+0>>2]=fD[t+56>>2],fD[r+4>>2]=fD[t+60>>2],fD[r+8>>2]=fD[t+64>>2],fD[r+12>>2]=fD[t+68>>2],bD=e}function Pv(t){t|=0;var e=0;e=bD,Bv(t),Cw(t),bD=e}function Bv(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=16568,i=fD[t+56>>2]|0,(i|0)!=0&&((uD[t+60>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+56>>2]=0),uD[t+60>>0]=1,fD[t+56>>2]=0,fD[t+48>>2]=0,fD[t+52>>2]=0,i=fD[t+36>>2]|0,(i|0)!=0&&((uD[t+40>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+36>>2]=0),uD[t+40>>0]=1,fD[t+36>>2]=0,fD[t+28>>2]=0,fD[t+32>>2]=0,i=fD[t+16>>2]|0,(i|0)==0?(i=t+12|0,uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,fD[i>>2]=0,void(bD=e)):((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+16>>2]=0,i=t+12|0,uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,fD[i>>2]=0,void(bD=e))}function Vv(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(i=bD,(fD[e+8>>2]|0)>0){o=fD[e+16>>2]|0,n=0,r=0;do a=fD[o+(n<<2)>>2]|0,(fD[a+204>>2]&3|0)==0&&(fD[a+208>>2]=r,r=r+1|0),fD[a+212>>2]=-1,gD[a+244>>2]=1,n=n+1|0;while((n|0)<(fD[e+8>>2]|0))}else r=0;if(o=fD[t+8>>2]|0,(o|0)<(r|0)){if((fD[t+12>>2]|0)<(r|0)){if((r|0)==0?(n=0,l=o):(fD[5004]=(fD[5004]|0)+1,n=Ew((r<<3|3)+16|0)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),l=fD[t+8>>2]|0),(l|0)>0){s=0;do a=n+(s<<3)|0,(a|0)!=0&&(h=(fD[t+16>>2]|0)+(s<<3)|0,c=fD[h+4>>2]|0,fD[a>>2]=fD[h>>2],fD[a+4>>2]=c),s=s+1|0;while((s|0)!=(l|0))}a=fD[t+16>>2]|0,(a|0)!=0&&((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[t+16>>2]=0),uD[t+20>>0]=1,fD[t+16>>2]=n,fD[t+12>>2]=r,n=t+16|0}else n=t+16|0;do a=(fD[n>>2]|0)+(o<<3)|0,(a|0)!=0&&(fD[a>>2]=0,fD[a+4>>2]=0),o=o+1|0;while((o|0)!=(r|0))}if(fD[t+8>>2]=r,(r|0)>0){n=fD[t+16>>2]|0,o=0;do fD[n+(o<<3)>>2]=o,fD[n+(o<<3)+4>>2]=1,o=o+1|0;while((o|0)!=(r|0))}if(r=fD[e+68>>2]|0,r=lP[fD[(fD[r>>2]|0)+36>>2]&127](r)|0,e=lP[fD[(fD[r>>2]|0)+36>>2]&127](r)|0,(e|0)==0)return void(bD=i);if(o=lP[fD[(fD[r>>2]|0)+20>>2]&127](r)|0,(e|0)<=0)return void(bD=i);r=0;do{if(a=fD[fD[o+(r<<4)>>2]>>2]|0,n=fD[fD[o+(r<<4)+4>>2]>>2]|0,((a|0)!=0?(n|0)==0?1:(fD[a+204>>2]&7|0)!=0:!0)?0:(fD[n+204>>2]&7|0)==0){if(s=fD[a+208>>2]|0,a=fD[n+208>>2]|0,n=fD[t+16>>2]|0,l=fD[n+(s<<3)>>2]|0,(l|0)!=(s|0)){c=n+(s<<3)|0;do s=n+(l<<3)|0,fD[c>>2]=fD[s>>2],s=fD[s>>2]|0,c=n+(s<<3)|0,l=fD[c>>2]|0;while((s|0)!=(l|0))}if(l=fD[n+(a<<3)>>2]|0,(l|0)!=(a|0)){c=n+(a<<3)|0;do a=n+(l<<3)|0,fD[c>>2]=fD[a>>2],a=fD[a>>2]|0,c=n+(a<<3)|0,l=fD[c>>2]|0;while((a|0)!=(l|0))}(s|0)!=(a|0)&&(fD[n+(s<<3)>>2]=a,h=n+(a<<3)+4|0,fD[h>>2]=(fD[h>>2]|0)+(fD[n+(s<<3)+4>>2]|0))}r=r+1|0}while((r|0)!=(e|0));bD=i}function Lv(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(o=bD,(fD[e+8>>2]|0)<=0)return void(bD=o);i=fD[e+16>>2]|0,r=0,n=0;do{if(a=fD[i+(r<<2)>>2]|0,(fD[a+204>>2]&3|0)==0){if(s=fD[t+16>>2]|0,c=s+(n<<3)|0,l=fD[c>>2]|0,(l|0)==(n|0))h=n;else do h=s+(l<<3)|0,fD[c>>2]=fD[h>>2],h=fD[h>>2]|0,c=s+(h<<3)|0,l=fD[c>>2]|0;while((h|0)!=(l|0));fD[a+208>>2]=h,fD[s+(n<<3)+4>>2]=r,fD[a+212>>2]=-1,n=n+1|0}else fD[a+208>>2]=-1,fD[a+212>>2]=-2;r=r+1|0}while((r|0)<(fD[e+8>>2]|0));bD=o}function kv(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;for(r=bD;;){for(o=fD[t+12>>2]|0,n=fD[o+(((e+i|0)/2|0)<<2)>>2]|0,c=e,l=i;;){if(a=fD[(fD[n+740>>2]|0)+208>>2]|0,(a|0)>-1)for(;;){if(s=fD[o+(c<<2)>>2]|0,h=fD[(fD[s+740>>2]|0)+208>>2]|0,(h|0)>-1||(h=fD[(fD[s+744>>2]|0)+208>>2]|0),!((h|0)<(a|0)))break;c=c+1|0}else for(h=fD[(fD[n+744>>2]|0)+208>>2]|0;;){if(s=fD[o+(c<<2)>>2]|0,d=fD[(fD[s+740>>2]|0)+208>>2]|0,(d|0)>-1||(d=fD[(fD[s+744>>2]|0)+208>>2]|0),!((d|0)<(h|0)))break;c=c+1|0}if((a|0)>-1)for(;;){if(h=fD[o+(l<<2)>>2]|0,d=fD[(fD[h+740>>2]|0)+208>>2]|0,(d|0)>-1||(d=fD[(fD[h+744>>2]|0)+208>>2]|0),!((a|0)<(d|0)))break;l=l+-1|0}else for(a=fD[(fD[n+744>>2]|0)+208>>2]|0;;){if(h=fD[o+(l<<2)>>2]|0,d=fD[(fD[h+740>>2]|0)+208>>2]|0,(d|0)>-1||(d=fD[(fD[h+744>>2]|0)+208>>2]|0),!((a|0)<(d|0)))break;l=l+-1|0}if((c|0)<=(l|0)&&(fD[o+(c<<2)>>2]=h,fD[(fD[t+12>>2]|0)+(l<<2)>>2]=s,c=c+1|0,l=l+-1|0),(c|0)>(l|0))break;o=fD[t+12>>2]|0}if((l|0)>(e|0)&&kv(t,e,l),!((c|0)<(i|0)))break;e=c}bD=r}function Hv(t,e,i){t|=0,e|=0,i|=0,i=bD,fD[t+0>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,bD=i}function Iv(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;if(t=bD,!((r|0)>0))return void(bD=t);e=0;do n=i+(e<<4)|0,e=e+1|0,o=(e|0)==(r|0),fD[n+0>>2]=0,fD[n+4>>2]=0,fD[n+8>>2]=0,fD[n+12>>2]=0;while(!o);bD=t}function Ov(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;r=bD,OP[fD[(fD[e>>2]|0)+68>>2]&127](t,e,i),l=+gD[i>>2],a=+gD[i+4>>2],n=+gD[i+8>>2],o=l*l+a*a+n*n<1.4210854715202004e-14?-1:n,s=l*l+a*a+n*n<1.4210854715202004e-14?-1:a,l=l*l+a*a+n*n<1.4210854715202004e-14?-1:l,n=1/+CD(+(o*o+(l*l+s*s))),a=+vP[fD[(fD[e>>2]|0)+48>>2]&15](e),gD[t>>2]=n*l*a+ +gD[t>>2],gD[t+4>>2]=a*n*s+ +gD[t+4>>2],gD[t+8>>2]=a*n*o+ +gD[t+8>>2],bD=r}function Jv(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0;o=bD,s=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),a=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),n=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),c=+gD[e+52>>2]-a,l=+gD[e+56>>2]-n,gD[i>>2]=+gD[e+48>>2]-s,gD[i+4>>2]=c,gD[i+8>>2]=l,gD[i+12>>2]=0,a+=+gD[e+52>>2],n+=+gD[e+56>>2],gD[r>>2]=s+ +gD[e+48>>2],gD[r+4>>2]=a,gD[r+8>>2]=n,gD[r+12>>2]=0,bD=o}function Nv(t,e,i){t|=0,e=+e,i|=0;var r=0;r=bD,e=e*.4000000059604645*+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),e*=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),gD[i>>2]=e,gD[i+4>>2]=e,gD[i+8>>2]=e,gD[i+12>>2]=0,bD=r}function Fv(t){t|=0;var e=0,i=0,r=0;e=bD,fD[t>>2]=16816,((uD[t+8>>0]|0)!=0?(i=fD[t+12>>2]|0,(i|0)!=0):0)&&(r=fD[t+4>>2]|0,aP[fD[(fD[r>>2]|0)+16>>2]&127](r,i)),Cw(t),bD=e}function Gv(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=16816,(uD[t+8>>0]|0)==0?void(bD=e):(i=fD[t+12>>2]|0,(i|0)==0?void(bD=e):(t=fD[t+4>>2]|0,aP[fD[(fD[t>>2]|0)+16>>2]&127](t,i),void(bD=e)))}function zv(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0;return r=bD,bD=bD+32|0,t=fD[t+12>>2]|0,(t|0)==0?void(bD=r):(fD[o+4>>2]=t,d=fD[e+4>>2]|0,u=fD[i+4>>2]|0,e=fD[e+12>>2]|0,i=fD[i+12>>2]|0,c=+gD[e+48>>2]-+gD[i+48>>2],h=+gD[e+52>>2]-+gD[i+52>>2],l=+gD[e+56>>2]-+gD[i+56>>2],a=+CD(+(c*c+h*h+l*l)),n=+gD[u+28>>2]*+gD[u+12>>2],s=+gD[d+28>>2]*+gD[d+12>>2]+n,a>s?(fD[t+748>>2]|0)==0?void(bD=r):(i=fD[t+740>>2]|0,e=fD[(fD[o+8>>2]|0)+8>>2]|0,(i|0)==(e|0)?(fw(t,i+4|0,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0),void(bD=r)):(fw(t,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0,e+4|0),void(bD=r))):(gD[r+16>>2]=1,gD[r+20>>2]=0,gD[r+24>>2]=0,gD[r+28>>2]=0,a>1.1920928955078125e-7?(gD[r+16>>2]=c*(1/a),gD[r+20>>2]=h*(1/a),gD[r+24>>2]=l*(1/a),gD[r+28>>2]=0,c*=1/a,h*=1/a,l*=1/a):(c=1,h=0,l=0),p=n*h+ +gD[i+52>>2],h=n*l+ +gD[i+56>>2],gD[r>>2]=n*c+ +gD[i+48>>2],gD[r+4>>2]=p,gD[r+8>>2]=h,gD[r+12>>2]=0,IP[fD[(fD[o>>2]|0)+16>>2]&15](o,r+16|0,r,a-s),t=fD[o+4>>2]|0,(fD[t+748>>2]|0)==0?void(bD=r):(i=fD[t+740>>2]|0,e=fD[(fD[o+8>>2]|0)+8>>2]|0,(i|0)==(e|0)?(fw(t,i+4|0,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0),void(bD=r)):(fw(t,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0,e+4|0),void(bD=r)))))}function jv(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,1}function Uv(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(i=bD,(fD[t+12>>2]|0)==0)return void(bD=i);if((uD[t+8>>0]|0)==0)return void(bD=i);if(n=fD[e+4>>2]|0,(n|0)==(fD[e+8>>2]|0)?(r=(n|0)==0?1:n<<1,(n|0)<(r|0)):0){if((r|0)==0?o=0:(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),n=fD[e+4>>2]|0),(n|0)>0){a=0;do s=o+(a<<2)|0,(s|0)!=0&&(fD[s>>2]=fD[(fD[e+12>>2]|0)+(a<<2)>>2]),a=a+1|0;while((a|0)!=(n|0))}a=fD[e+12>>2]|0,(a|0)!=0&&((uD[e+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0),n=fD[e+4>>2]|0),fD[e+12>>2]=0),uD[e+16>>0]=1,fD[e+12>>2]=o,fD[e+8>>2]=r}r=(fD[e+12>>2]|0)+(n<<2)|0,(r|0)!=0&&(fD[r>>2]=fD[t+12>>2]),fD[e+4>>2]=n+1,bD=i}function Wv(t){t|=0;var e=0,i=0,r=0;e=bD,fD[t>>2]=16904,((uD[t+8>>0]|0)!=0?(i=fD[t+12>>2]|0,(i|0)!=0):0)&&(r=fD[t+4>>2]|0,aP[fD[(fD[r>>2]|0)+16>>2]&127](r,i)),Cw(t),bD=e}function Xv(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=16904,(uD[t+8>>0]|0)==0?void(bD=e):(i=fD[t+12>>2]|0,(i|0)==0?void(bD=e):(t=fD[t+4>>2]|0,aP[fD[(fD[t>>2]|0)+16>>2]&127](t,i),void(bD=e)))}function qv(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0;return n=bD,bD=bD+160|0,a=fD[t+12>>2]|0,(a|0)==0?void(bD=n):(s=(uD[t+16>>0]|0)!=0,l=s?i:e,e=s?e:i,h=fD[l+4>>2]|0,i=fD[e+4>>2]|0,fD[o+4>>2]=a,c=+gD[(fD[t+12>>2]|0)+752>>2],fD[n+136>>2]=17768,fD[n+140>>2]=h,fD[n+144>>2]=i,gD[n+148>>2]=c,gD[n+128>>2]=0xde0b6b000000000,i=fD[l+12>>2]|0,fD[n+0>>2]=fD[i+0>>2],fD[n+4>>2]=fD[i+4>>2],fD[n+8>>2]=fD[i+8>>2],fD[n+12>>2]=fD[i+12>>2],fD[n+16>>2]=fD[i+16>>2],fD[n+20>>2]=fD[i+20>>2],fD[n+24>>2]=fD[i+24>>2],fD[n+28>>2]=fD[i+28>>2],fD[n+32>>2]=fD[i+32>>2],fD[n+36>>2]=fD[i+36>>2],fD[n+40>>2]=fD[i+40>>2],fD[n+44>>2]=fD[i+44>>2],fD[n+48>>2]=fD[i+48>>2],fD[n+52>>2]=fD[i+52>>2],fD[n+56>>2]=fD[i+56>>2],fD[n+60>>2]=fD[i+60>>2],e=fD[e+12>>2]|0,fD[n+64>>2]=fD[e+0>>2],fD[n+68>>2]=fD[e+4>>2],fD[n+72>>2]=fD[e+8>>2],fD[n+76>>2]=fD[e+12>>2],fD[n+80>>2]=fD[e+16>>2],fD[n+84>>2]=fD[e+20>>2],fD[n+88>>2]=fD[e+24>>2],fD[n+92>>2]=fD[e+28>>2],fD[n+96>>2]=fD[e+32>>2],fD[n+100>>2]=fD[e+36>>2],fD[n+104>>2]=fD[e+40>>2],fD[n+108>>2]=fD[e+44>>2],fD[n+112>>2]=fD[e+48>>2],fD[n+116>>2]=fD[e+52>>2],fD[n+120>>2]=fD[e+56>>2],fD[n+124>>2]=fD[e+60>>2],FM(n+136|0,n,o,fD[r+20>>2]|0,s),(uD[t+8>>0]|0)==0?void(bD=n):(t=fD[o+4>>2]|0,(fD[t+748>>2]|0)==0?void(bD=n):(a=fD[t+740>>2]|0,i=fD[(fD[o+8>>2]|0)+8>>2]|0,(a|0)==(i|0)?(fw(t,a+4|0,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0),void(bD=n)):(fw(t,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0,i+4|0),void(bD=n)))))}function Kv(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,1}function Yv(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(i=bD,(fD[t+12>>2]|0)==0)return void(bD=i);if((uD[t+8>>0]|0)==0)return void(bD=i);if(n=fD[e+4>>2]|0,(n|0)==(fD[e+8>>2]|0)?(r=(n|0)==0?1:n<<1,(n|0)<(r|0)):0){if((r|0)==0?o=0:(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),n=fD[e+4>>2]|0),(n|0)>0){a=0;do s=o+(a<<2)|0,(s|0)!=0&&(fD[s>>2]=fD[(fD[e+12>>2]|0)+(a<<2)>>2]),a=a+1|0;while((a|0)!=(n|0))}a=fD[e+12>>2]|0,(a|0)!=0&&((uD[e+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0),n=fD[e+4>>2]|0),fD[e+12>>2]=0),uD[e+16>>0]=1,fD[e+12>>2]=o,fD[e+8>>2]=r}r=(fD[e+12>>2]|0)+(n<<2)|0,(r|0)!=0&&(fD[r>>2]=fD[t+12>>2]),fD[e+4>>2]=n+1,bD=i}function Qv(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function Zv(t){t|=0}function $v(t,e,i,r){t|=0,e|=0,i|=0,r|=0,gD[i>>2]=-0xde0b6b000000000,gD[i+4>>2]=-0xde0b6b000000000,gD[i+8>>2]=-0xde0b6b000000000,gD[i+12>>2]=0,gD[r>>2]=0xde0b6b000000000,gD[r+4>>2]=0xde0b6b000000000,gD[r+8>>2]=0xde0b6b000000000,gD[r+12>>2]=0}function tM(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0;o=bD,bD=bD+48|0,s=+gD[r>>2],l=+gD[i>>2],n=+gD[r+4>>2],a=+gD[i+4>>2],c=+gD[r+8>>2],d=+gD[i+8>>2],m=+CD(+((s-l)*.5*(s-l)*.5+(n-a)*.5*(n-a)*.5+(c-d)*.5*(c-d)*.5)),u=+gD[t+56>>2],+ED(+u)>.7071067690849304?(h=+gD[t+52>>2],_=1/+CD(+(u*u+h*h)),M=+gD[t+48>>2],p=M,v=h,f=0,b=-(u*_),y=h*_,g=(u*u+h*h)*_,h=-(M*h*_),_=M*-(u*_)):(S=+gD[t+48>>2],M=+gD[t+52>>2],_=1/+CD(+(S*S+M*M)),p=S,v=M,f=-(M*_),b=S*_,y=0,g=-(u*S*_),h=u*-(M*_),_=(S*S+M*M)*_),S=(s+l)*.5*p+(n+a)*.5*v+(c+d)*.5*u-+gD[t+64>>2],a=(n+a)*.5-v*S,p=(s+l)*.5-p*S,f=m*f,b=m*b,M=m*y,g=m*g,y=m*h,v=m*_,gD[o>>2]=g+(f+p),gD[o+4>>2]=y+(b+a),gD[o+8>>2]=v+(M+((c+d)*.5-u*S)),gD[o+12>>2]=0,gD[o+16>>2]=f+p-g,gD[o+20>>2]=b+a-y,gD[o+24>>2]=M+((c+d)*.5-u*S)-v,gD[o+28>>2]=0,gD[o+32>>2]=p-f-g,gD[o+36>>2]=a-b-y,gD[o+40>>2]=(c+d)*.5-u*S-M-v,gD[o+44>>2]=0,GP[fD[(fD[e>>2]|0)+8>>2]&127](e,o,0,0),gD[o>>2]=p-f-g,gD[o+4>>2]=a-b-y,gD[o+8>>2]=(c+d)*.5-u*S-M-v,gD[o+12>>2]=0,gD[o+16>>2]=g+(p-f),gD[o+20>>2]=y+(a-b),gD[o+24>>2]=v+((c+d)*.5-u*S-M),gD[o+28>>2]=0,gD[o+32>>2]=g+(f+p),gD[o+36>>2]=y+(b+a),gD[o+40>>2]=v+(M+((c+d)*.5-u*S)),gD[o+44>>2]=0,GP[fD[(fD[e>>2]|0)+8>>2]&127](e,o,0,1),bD=o}function eM(t,e,i){t|=0,e=+e,i|=0,t=bD,fD[i+0>>2]=0,fD[i+4>>2]=0,fD[i+8>>2]=0,fD[i+12>>2]=0,bD=t}function iM(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+68>>2]=fD[e+0>>2],fD[t+72>>2]=fD[e+4>>2],fD[t+76>>2]=fD[e+8>>2],fD[t+80>>2]=fD[e+12>>2],bD=i}function rM(t){return t|=0,t+68|0}function oM(t){return t|=0,17128}function nM(t){return t|=0,52}function aM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;return r=bD,o=AP[fD[(fD[i>>2]|0)+40>>2]&31](i,t)|0,n=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,o)|0,fD[e>>2]=n,(n|0)!=0&&aP[fD[(fD[i>>2]|0)+48>>2]&127](i,o),fD[e+4>>2]=fD[t+4>>2],gD[e+12>>2]=+gD[t+68>>2],gD[e+16>>2]=+gD[t+72>>2],gD[e+20>>2]=+gD[t+76>>2],gD[e+24>>2]=+gD[t+80>>2],gD[e+28>>2]=+gD[t+48>>2],gD[e+32>>2]=+gD[t+52>>2],gD[e+36>>2]=+gD[t+56>>2],gD[e+40>>2]=+gD[t+60>>2],gD[e+44>>2]=+gD[t+64>>2],bD=r,17104}function sM(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0;a=bD,bD=bD+128|0,te=fD[t+4>>2]|0,uD[te+312>>0]=0,fD[te>>2]=0,uD[te+356>>0]=1,gD[te+292>>2]=0xde0b6b000000000,gD[te+296>>2]=0xde0b6b000000000,gD[te+300>>2]=0xde0b6b000000000,gD[te+304>>2]=0,fD[te+336>>2]=0,fD[te+340>>2]=0,fD[te+344>>2]=0,fD[te+348>>2]=0,uD[te+352>>0]=0,uD[te+332>>0]=uD[te+332>>0]&-16,H=+gD[e+48>>2],G=+gD[e+52>>2],O=+gD[e+56>>2],U=+gD[r+48>>2],z=+gD[r+52>>2],I=+gD[r+56>>2],E=+gD[e>>2],d=+gD[e+4>>2],p=+gD[e+8>>2],C=+gD[e+16>>2],M=+gD[e+20>>2],f=+gD[e+24>>2],y=+gD[e+32>>2],u=+gD[e+36>>2],_=+gD[e+40>>2],m=+gD[r>>2],b=+gD[r+4>>2],S=+gD[r+8>>2],g=+gD[r+16>>2],v=+gD[r+20>>2],x=+gD[r+24>>2],A=+gD[r+32>>2],h=+gD[r+36>>2],T=+gD[r+40>>2],l=+gD[i+48>>2]-H-(+gD[o+48>>2]-U),s=+gD[i+52>>2]-G-(+gD[o+52>>2]-z),c=+gD[i+56>>2]-O-(+gD[o+56>>2]-I),te=fD[t+8>>2]|0,Z=fD[(fD[te>>2]|0)+64>>2]|0,gD[a+96>>2]=E*-l+C*-s+y*-c,gD[a+100>>2]=d*-l+M*-s+u*-c,gD[a+104>>2]=p*-l+f*-s+_*-c,gD[a+108>>2]=0,OP[Z&127](a+112|0,te,a+96|0),K=+gD[a+112>>2],$=+gD[a+116>>2],j=+gD[a+120>>2],W=K*+gD[e>>2]+$*+gD[e+4>>2]+j*+gD[e+8>>2]+ +gD[e+48>>2],X=K*+gD[e+16>>2]+$*+gD[e+20>>2]+j*+gD[e+24>>2]+ +gD[e+52>>2],j=K*+gD[e+32>>2]+$*+gD[e+36>>2]+j*+gD[e+40>>2]+ +gD[e+56>>2],te=fD[t+12>>2]|0,Z=fD[(fD[te>>2]|0)+64>>2]|0,$=l*+gD[r+4>>2]+s*+gD[r+20>>2]+c*+gD[r+36>>2],K=l*+gD[r+8>>2]+s*+gD[r+24>>2]+c*+gD[r+40>>2],gD[a+64>>2]=l*+gD[r>>2]+s*+gD[r+16>>2]+c*+gD[r+32>>2],gD[a+68>>2]=$,gD[a+72>>2]=K,gD[a+76>>2]=0,OP[Z&127](a+80|0,te,a+64|0),K=+gD[a+80>>2],$=+gD[a+84>>2],q=+gD[a+88>>2],W-=K*+gD[r>>2]+$*+gD[r+4>>2]+q*+gD[r+8>>2]+ +gD[r+48>>2],X-=K*+gD[r+16>>2]+$*+gD[r+20>>2]+q*+gD[r+24>>2]+ +gD[r+52>>2],q=j-(K*+gD[r+32>>2]+$*+gD[r+36>>2]+q*+gD[r+40>>2]+ +gD[r+56>>2]);
t:do if(W*W+X*X+q*q>9999999747378752e-20){for(J=0,F=0,j=0,N=0,R=0,w=32,K=0;;){if((w|0)==0)break t;if(w=w+-1|0,te=fD[t+8>>2]|0,Z=fD[(fD[te>>2]|0)+64>>2]|0,D=-W,ee=-X,$=-q,gD[a+32>>2]=E*D+C*ee+y*$,gD[a+36>>2]=d*D+M*ee+u*$,gD[a+40>>2]=p*D+f*ee+_*$,gD[a+44>>2]=0,OP[Z&127](a+48|0,te,a+32|0),$=+gD[a+48>>2],ee=+gD[a+52>>2],D=+gD[a+56>>2],P=H+(E*$+d*ee+p*D),V=G+(C*$+M*ee+f*D),D=O+(y*$+u*ee+_*D),te=fD[t+12>>2]|0,Z=fD[(fD[te>>2]|0)+64>>2]|0,gD[a>>2]=m*W+g*X+A*q,gD[a+4>>2]=b*W+v*X+h*q,gD[a+8>>2]=S*W+x*X+T*q,gD[a+12>>2]=0,OP[Z&127](a+16|0,te,a),ee=+gD[a+16>>2],$=+gD[a+20>>2],L=+gD[a+24>>2],B=U+(m*ee+b*$+S*L),k=z+(g*ee+v*$+x*L),L=I+(A*ee+h*$+T*L),$=W*(P-B)+X*(V-k)+q*(D-L),R>1){n=0,o=24;break}if($>0){if(H=l*W+s*X+c*q,H>=-1.4210854715202004e-14){n=0,o=24;break}R-=$/H,O=(1-R)*+gD[e+56>>2]+R*+gD[i+56>>2],G=(1-R)*+gD[e+52>>2]+R*+gD[i+52>>2],H=+gD[e+48>>2]*(1-R)+R*+gD[i+48>>2],I=(1-R)*+gD[r+56>>2]+R*+gD[o+56>>2],z=(1-R)*+gD[r+52>>2]+R*+gD[o+52>>2],U=(1-R)*+gD[r+48>>2]+R*+gD[o+48>>2],N=K,j=q,F=X,J=W}if(Y=fD[t+4>>2]|0,Q=fD[Y>>2]|0,(Q|0)>0){W=+gD[Y+308>>2],te=0,Z=0;do K=P-B-+gD[Y+(Z<<4)+4>>2],$=V-k-+gD[Y+(Z<<4)+8>>2],ee=D-L-+gD[Y+(Z<<4)+12>>2],te|=K*K+$*$+ee*ee<=W,Z=Z+1|0;while((Z|0)!=(Q|0))}else te=0;if(Z=((+gD[Y+304>>2]==0?D-L==+gD[Y+300>>2]:0)?V-k==+gD[Y+296>>2]:0)?P-B==+gD[Y+292>>2]:0,Z|te||(gD[Y+292>>2]=P-B,gD[Y+296>>2]=V-k,gD[Y+300>>2]=D-L,gD[Y+304>>2]=0,uD[Y+356>>0]=1,gD[Y+(Q<<4)+4>>2]=P-B,gD[Y+(Q<<4)+8>>2]=V-k,gD[Y+(Q<<4)+12>>2]=D-L,gD[Y+(Q<<4)+16>>2]=0,te=fD[Y>>2]|0,gD[Y+(te<<4)+84>>2]=P,gD[Y+(te<<4)+88>>2]=V,gD[Y+(te<<4)+92>>2]=D,gD[Y+(te<<4)+96>>2]=0,te=fD[Y>>2]|0,gD[Y+(te<<4)+164>>2]=B,gD[Y+(te<<4)+168>>2]=k,gD[Y+(te<<4)+172>>2]=L,gD[Y+(te<<4)+176>>2]=0,fD[Y>>2]=(fD[Y>>2]|0)+1,Y=fD[t+4>>2]|0),te=JM(Y)|0,W=+gD[Y+276>>2],X=+gD[Y+280>>2],q=+gD[Y+284>>2],!te)break t;if(!(W*W+X*X+q*q>9999999747378752e-20))break t;K=+gD[Y+288>>2]}if((o|0)==24)return bD=a,n|0}else N=0,j=0,F=0,J=0,R=0;while(0);return gD[n+164>>2]=R,h=j*j+(F*F+J*J),h>=1.4210854715202004e-14?(d=1/+CD(+h),h=J*d,u=F*d,d=j*d,gD[n+132>>2]=h,gD[n+136>>2]=u,gD[n+140>>2]=d,gD[n+144>>2]=N):(fD[n+132>>2]=0,fD[n+136>>2]=0,fD[n+140>>2]=0,fD[n+144>>2]=0,h=0,u=0,d=0),l*h+s*u+c*d>=-+gD[n+172>>2]?(te=0,bD=a,te|0):(te=fD[t+4>>2]|0,JM(te)|0,Vw(n+148|0,te+260|0,16)|0,te=1,bD=a,te|0)}function lM(t){t|=0}function cM(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function hM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0;if(r=bD,gD[t+4>>2]=1,gD[t+8>>2]=1,gD[t+12>>2]=1,gD[t+16>>2]=0,uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,fD[t+28>>2]=0,fD[t+48>>2]=0,fD[t>>2]=17304,uD[t+100>>0]=1,fD[t+96>>2]=0,fD[t+88>>2]=0,fD[t+92>>2]=0,uD[t+120>>0]=1,fD[t+116>>2]=0,fD[t+108>>2]=0,fD[t+112>>2]=0,uD[t+140>>0]=1,fD[t+136>>2]=0,fD[t+128>>2]=0,fD[t+132>>2]=0,uD[t+160>>0]=1,fD[t+156>>2]=0,fD[t+148>>2]=0,fD[t+152>>2]=0,uD[t+164>>0]=e&1,uD[t+165>>0]=i&1,gD[t+168>>2]=0,fD[5004]=(fD[5004]|0)+1,i=Ew(51)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),e=fD[t+24>>2]|0,(e|0)>0){o=0;do n=i+(o<<5)|0,a=(fD[t+32>>2]|0)+(o<<5)|0,fD[n+0>>2]=fD[a+0>>2],fD[n+4>>2]=fD[a+4>>2],fD[n+8>>2]=fD[a+8>>2],fD[n+12>>2]=fD[a+12>>2],fD[n+16>>2]=fD[a+16>>2],fD[n+20>>2]=fD[a+20>>2],fD[n+24>>2]=fD[a+24>>2],fD[n+28>>2]=fD[a+28>>2],o=o+1|0;while((o|0)!=(e|0))}return e=fD[t+32>>2]|0,(e|0)!=0&&((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[e+-4>>2]|0)),fD[t+32>>2]=0),uD[t+36>>0]=1,fD[t+32>>2]=i,fD[t+28>>2]=1,a=fD[t+24>>2]|0,fD[i+(a<<5)>>2]=0,fD[i+(a<<5)+4>>2]=0,fD[i+(a<<5)+8>>2]=12,fD[i+(a<<5)+12>>2]=0,fD[i+(a<<5)+16>>2]=0,fD[i+(a<<5)+20>>2]=16,fD[i+(a<<5)+24>>2]=2,fD[i+(a<<5)+28>>2]=0,fD[t+24>>2]=(fD[t+24>>2]|0)+1,(uD[t+164>>0]|0)==0?(i=fD[t+32>>2]|0,fD[i>>2]=(fD[t+148>>2]|0)/3|0,fD[i+4>>2]=0,i=fD[t+32>>2]|0,fD[i+24>>2]=3,fD[i+8>>2]=6):(i=fD[t+32>>2]|0,fD[i>>2]=(fD[t+128>>2]|0)/3|0,fD[i+4>>2]=0,i=fD[t+32>>2]|0,fD[i+24>>2]=2,fD[i+8>>2]=12),(uD[t+165>>0]|0)==0?(fD[i+12>>2]=(fD[t+108>>2]|0)/3|0,fD[i+16>>2]=0,fD[(fD[t+32>>2]|0)+20>>2]=12,void(bD=r)):(fD[i+12>>2]=fD[t+88>>2],fD[i+16>>2]=0,fD[(fD[t+32>>2]|0)+20>>2]=16,void(bD=r))}function dM(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(i=bD,(uD[t+164>>0]|0)==0){if(n=fD[t+148>>2]|0,(n|0)==(fD[t+152>>2]|0)?(r=(n|0)==0?1:n<<1,(n|0)<(r|0)):0){if((r|0)==0?o=0:(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<1)+19|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),n=fD[t+148>>2]|0),(n|0)>0){a=0;do s=o+(a<<1)|0,(s|0)!=0&&(pD[s>>1]=pD[(fD[t+156>>2]|0)+(a<<1)>>1]|0),a=a+1|0;while((a|0)!=(n|0))}a=fD[t+156>>2]|0,(a|0)!=0&&((uD[t+160>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0),n=fD[t+148>>2]|0),fD[t+156>>2]=0),uD[t+160>>0]=1,fD[t+156>>2]=o,fD[t+152>>2]=r}return r=fD[t+156>>2]|0,o=r+(n<<1)|0,(o|0)!=0&&(pD[o>>1]=e),fD[t+148>>2]=n+1,fD[(fD[t+32>>2]|0)+4>>2]=r,void(bD=i)}if(s=fD[t+128>>2]|0,(s|0)==(fD[t+132>>2]|0)?(o=(s|0)==0?1:s<<1,(s|0)<(o|0)):0){if((o|0)==0?r=0:(fD[5004]=(fD[5004]|0)+1,r=Ew((o<<2|3)+16|0)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),s=fD[t+128>>2]|0),(s|0)>0){n=0;do a=r+(n<<2)|0,(a|0)!=0&&(fD[a>>2]=fD[(fD[t+136>>2]|0)+(n<<2)>>2]),n=n+1|0;while((n|0)!=(s|0))}n=fD[t+136>>2]|0,(n|0)!=0&&((uD[t+140>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0)),fD[t+136>>2]=0),uD[t+140>>0]=1,fD[t+136>>2]=r,fD[t+132>>2]=o,s=fD[t+128>>2]|0}return r=fD[t+136>>2]|0,o=r+(s<<2)|0,(o|0)!=0&&(fD[o>>2]=e,s=fD[t+128>>2]|0),fD[t+128>>2]=s+1,fD[(fD[t+32>>2]|0)+4>>2]=r,void(bD=i)}function uM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0;if(r=bD,(uD[t+165>>0]|0)!=0){t:do if(i?(n=fD[t+88>>2]|0,(n|0)>0):0){for(i=fD[t+96>>2]|0,h=+gD[e>>2],d=+gD[e+4>>2],l=+gD[e+8>>2],c=+gD[t+168>>2],a=0;;){if(_=+gD[i+(a<<4)>>2]-h,f=+gD[i+(a<<4)+4>>2]-d,p=+gD[i+(a<<4)+8>>2]-l,_*_+f*f+p*p<=c)break;if(a=a+1|0,(a|0)>=(n|0))break t}return bD=r,a|0}while(0);if(i=(fD[t+32>>2]|0)+12|0,fD[i>>2]=(fD[i>>2]|0)+1,i=fD[t+88>>2]|0,(i|0)==(fD[t+92>>2]|0)?(o=(i|0)==0?1:i<<1,(i|0)<(o|0)):0){if((o|0)==0?n=0:(fD[5004]=(fD[5004]|0)+1,n=Ew((o<<4|3)+16|0)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),i=fD[t+88>>2]|0),(i|0)>0){a=0;do u=n+(a<<4)|0,s=(fD[t+96>>2]|0)+(a<<4)|0,fD[u+0>>2]=fD[s+0>>2],fD[u+4>>2]=fD[s+4>>2],fD[u+8>>2]=fD[s+8>>2],fD[u+12>>2]=fD[s+12>>2],a=a+1|0;while((a|0)!=(i|0))}i=fD[t+96>>2]|0,(i|0)!=0&&((uD[t+100>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+96>>2]=0),uD[t+100>>0]=1,fD[t+96>>2]=n,fD[t+92>>2]=o,i=fD[t+88>>2]|0}return u=(fD[t+96>>2]|0)+(i<<4)|0,fD[u+0>>2]=fD[e+0>>2],fD[u+4>>2]=fD[e+4>>2],fD[u+8>>2]=fD[e+8>>2],fD[u+12>>2]=fD[e+12>>2],u=fD[t+88>>2]|0,fD[t+88>>2]=u+1,fD[(fD[t+32>>2]|0)+16>>2]=fD[t+96>>2],bD=r,u|0}n=fD[t+108>>2]|0;t:do{if((n|0)>0&i){for(i=fD[t+116>>2]|0,l=+gD[e>>2],c=+gD[e+4>>2],h=+gD[e+8>>2],d=+gD[t+168>>2],o=0;;){if(p=+gD[i+(o<<2)>>2]-l,f=+gD[i+(o+1<<2)>>2]-c,_=+gD[i+(o+2<<2)>>2]-h,a=o+3|0,p*p+f*f+_*_<=d)break;if(!((a|0)<(n|0))){o=e;break t}o=a}return u=(o|0)/3|0,bD=r,u|0}o=e}while(0);if(i=fD[t+112>>2]|0,(n|0)==(i|0))if(i=(n|0)==0?1:n<<1,(n|0)<(i|0)){if((i|0)==0?a=0:(fD[5004]=(fD[5004]|0)+1,n=Ew((i<<2|3)+16|0)|0,(n|0)==0?a=0:(fD[(n+19&-16)+-4>>2]=n,a=n+19&-16),n=fD[t+108>>2]|0),(n|0)>0){s=0;do u=a+(s<<2)|0,(u|0)!=0&&(gD[u>>2]=+gD[(fD[t+116>>2]|0)+(s<<2)>>2]),s=s+1|0;while((s|0)!=(n|0))}s=fD[t+116>>2]|0,(s|0)!=0&&((uD[t+120>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[s+-4>>2]|0),n=fD[t+108>>2]|0),fD[t+116>>2]=0),uD[t+120>>0]=1,fD[t+116>>2]=a,fD[t+112>>2]=i,s=n}else s=n,i=n;else s=n;if(a=fD[t+116>>2]|0,n=a+(s<<2)|0,(n|0)!=0&&(gD[n>>2]=+gD[o>>2]),n=s+1|0,fD[t+108>>2]=n,(n|0)==(i|0))if(o=(i|0)==0?1:i<<1,(i|0)<(o|0)){if((o|0)==0?a=0:(fD[5004]=(fD[5004]|0)+1,n=Ew((o<<2|3)+16|0)|0,(n|0)==0?a=0:(fD[(n+19&-16)+-4>>2]=n,a=n+19&-16),i=fD[t+108>>2]|0),(i|0)>0){n=0;do s=a+(n<<2)|0,(s|0)!=0&&(gD[s>>2]=+gD[(fD[t+116>>2]|0)+(n<<2)>>2]),n=n+1|0;while((n|0)!=(i|0))}n=fD[t+116>>2]|0,(n|0)!=0&&((uD[t+120>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0),i=fD[t+108>>2]|0),fD[t+116>>2]=0),uD[t+120>>0]=1,fD[t+116>>2]=a,fD[t+112>>2]=o,n=i}else n=i,o=i;else o=i;if(i=a+(n<<2)|0,(i|0)!=0&&(gD[i>>2]=+gD[e+4>>2]),n=n+1|0,fD[t+108>>2]=n,(n|0)==(o|0)){if(n=(o|0)==0?1:o<<1,(o|0)<(n|0)){if((n|0)==0?a=0:(fD[5004]=(fD[5004]|0)+1,o=Ew((n<<2|3)+16|0)|0,(o|0)==0?a=0:(fD[(o+19&-16)+-4>>2]=o,a=o+19&-16),o=fD[t+108>>2]|0),(o|0)>0){i=0;do s=a+(i<<2)|0,(s|0)!=0&&(gD[s>>2]=+gD[(fD[t+116>>2]|0)+(i<<2)>>2]),i=i+1|0;while((i|0)!=(o|0))}i=fD[t+116>>2]|0,(i|0)!=0&&((uD[t+120>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0),o=fD[t+108>>2]|0),fD[t+116>>2]=0),uD[t+120>>0]=1,fD[t+116>>2]=a,fD[t+112>>2]=n}}else o=n;return n=a+(o<<2)|0,(n|0)!=0&&(gD[n>>2]=+gD[e+8>>2]),fD[t+108>>2]=o+1,u=fD[t+32>>2]|0,fD[u+12>>2]=(fD[u+12>>2]|0)+1,fD[u+16>>2]=a,u=((fD[t+108>>2]|0)/3|0)+-1|0,bD=r,u|0}function pM(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(i=bD,(uD[t+165>>0]|0)!=0){if((fD[t+92>>2]|0)>=(e|0))return void(bD=i);if(((e|0)!=0?(fD[5004]=(fD[5004]|0)+1,o=Ew((e<<4|3)+16|0)|0,(o|0)!=0):0)?(fD[(o+19&-16)+-4>>2]=o,r=o+19&-16):r=0,o=fD[t+88>>2]|0,(o|0)>0){n=0;do a=r+(n<<4)|0,s=(fD[t+96>>2]|0)+(n<<4)|0,fD[a+0>>2]=fD[s+0>>2],fD[a+4>>2]=fD[s+4>>2],fD[a+8>>2]=fD[s+8>>2],fD[a+12>>2]=fD[s+12>>2],n=n+1|0;while((n|0)!=(o|0))}return o=fD[t+96>>2]|0,(o|0)!=0&&((uD[t+100>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[t+96>>2]=0),uD[t+100>>0]=1,fD[t+96>>2]=r,fD[t+92>>2]=e,void(bD=i)}if((fD[t+112>>2]|0)>=(e|0))return void(bD=i);if(((e|0)!=0?(fD[5004]=(fD[5004]|0)+1,r=Ew((e<<2|3)+16|0)|0,(r|0)!=0):0)?(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16):r=0,o=fD[t+108>>2]|0,(o|0)>0){a=0;do n=r+(a<<2)|0,(n|0)!=0&&(gD[n>>2]=+gD[(fD[t+116>>2]|0)+(a<<2)>>2]),a=a+1|0;while((a|0)!=(o|0))}o=fD[t+116>>2]|0,(o|0)!=0&&((uD[t+120>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[t+116>>2]=0),uD[t+120>>0]=1,fD[t+116>>2]=r,fD[t+112>>2]=e,bD=i}function fM(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0;if(i=bD,(uD[t+164>>0]|0)==0){if((fD[t+152>>2]|0)>=(e|0))return void(bD=i);if(((e|0)!=0?(fD[5004]=(fD[5004]|0)+1,o=Ew((e<<1)+19|0)|0,(o|0)!=0):0)?(fD[(o+19&-16)+-4>>2]=o,r=o+19&-16):r=0,o=fD[t+148>>2]|0,(o|0)>0){a=0;do n=r+(a<<1)|0,(n|0)!=0&&(pD[n>>1]=pD[(fD[t+156>>2]|0)+(a<<1)>>1]|0),a=a+1|0;while((a|0)!=(o|0))}return o=fD[t+156>>2]|0,(o|0)!=0&&((uD[t+160>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[t+156>>2]=0),uD[t+160>>0]=1,fD[t+156>>2]=r,fD[t+152>>2]=e,void(bD=i)}if((fD[t+132>>2]|0)>=(e|0))return void(bD=i);if(((e|0)!=0?(fD[5004]=(fD[5004]|0)+1,r=Ew((e<<2|3)+16|0)|0,(r|0)!=0):0)?(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16):r=0,a=fD[t+128>>2]|0,(a|0)>0){n=0;do o=r+(n<<2)|0,(o|0)!=0&&(fD[o>>2]=fD[(fD[t+136>>2]|0)+(n<<2)>>2]),n=n+1|0;while((n|0)!=(a|0))}return o=fD[t+136>>2]|0,(o|0)!=0&&((uD[t+140>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[t+136>>2]=0),uD[t+140>>0]=1,fD[t+136>>2]=r,fD[t+132>>2]=e,void(bD=i)}function _M(t){t|=0;var e=0;e=bD,MM(t),bD=e}function mM(t){t|=0;var e=0;return e=bD,MM(t),(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function gM(t,e){t|=0,e|=0}function yM(t,e){t|=0,e|=0}function bM(t){return t|=0,fD[t+24>>2]|0}function vM(t){return t|=0,28}function MM(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=17304,i=fD[t+156>>2]|0,(i|0)!=0&&((uD[t+160>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+156>>2]=0),uD[t+160>>0]=1,fD[t+156>>2]=0,fD[t+148>>2]=0,fD[t+152>>2]=0,i=fD[t+136>>2]|0,(i|0)!=0&&((uD[t+140>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+136>>2]=0),uD[t+140>>0]=1,fD[t+136>>2]=0,fD[t+128>>2]=0,fD[t+132>>2]=0,i=fD[t+116>>2]|0,(i|0)!=0&&((uD[t+120>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+116>>2]=0),uD[t+120>>0]=1,fD[t+116>>2]=0,fD[t+108>>2]=0,fD[t+112>>2]=0,i=fD[t+96>>2]|0,(i|0)!=0&&((uD[t+100>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+96>>2]=0),uD[t+100>>0]=1,fD[t+96>>2]=0,fD[t+88>>2]=0,fD[t+92>>2]=0,fD[t>>2]=19904,i=fD[t+32>>2]|0,(i|0)==0?(uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,i=t+28|0,fD[i>>2]=0,void(bD=e)):((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+32>>2]=0,uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,i=t+28|0,fD[i>>2]=0,void(bD=e))}function SM(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function xM(t){t|=0}function TM(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0;o=bD,p=(+gD[t+32>>2]-+gD[t+16>>2])*.5,h=(+gD[t+36>>2]-+gD[t+20>>2])*.5,s=(+gD[t+40>>2]-+gD[t+24>>2])*.5,u=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),c=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),s+=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),C=(+gD[t+32>>2]+ +gD[t+16>>2])*.5,T=(+gD[t+36>>2]+ +gD[t+20>>2])*.5,S=(+gD[t+40>>2]+ +gD[t+24>>2])*.5,D=+gD[e>>2],M=+ED(+D),R=+gD[e+4>>2],v=+ED(+R),y=+gD[e+8>>2],b=+ED(+y),w=+gD[e+16>>2],g=+ED(+w),A=+gD[e+20>>2],m=+ED(+A),f=+gD[e+24>>2],_=+ED(+f),E=+gD[e+32>>2],d=+ED(+E),x=+gD[e+36>>2],l=+ED(+x),n=+gD[e+40>>2],a=+ED(+n),y=C*D+T*R+S*y+ +gD[e+48>>2],f=C*w+T*A+S*f+ +gD[e+52>>2],n=C*E+T*x+S*n+ +gD[e+56>>2],gD[i>>2]=y-((p+u)*M+(h+c)*v+s*b),gD[i+4>>2]=f-((p+u)*g+(h+c)*m+s*_),gD[i+8>>2]=n-((p+u)*d+(h+c)*l+s*a),gD[i+12>>2]=0,gD[r>>2]=(p+u)*M+(h+c)*v+s*b+y,gD[r+4>>2]=(p+u)*g+(h+c)*m+s*_+f,gD[r+8>>2]=(p+u)*d+(h+c)*l+s*a+n,gD[r+12>>2]=0,bD=o}function EM(t,e){t|=0,e|=0;var i=0,r=0;i=bD,bD=bD+48|0,r=(fD[t+48>>2]|0)+4|0,fD[r+0>>2]=fD[e+0>>2],fD[r+4>>2]=fD[e+4>>2],fD[r+8>>2]=fD[e+8>>2],fD[r+12>>2]=fD[e+12>>2],fD[i+32>>2]=0,fD[i+36>>2]=0,fD[i+40>>2]=0,fD[i+44>>2]=0,gD[i+32>>2]=1,OP[fD[(fD[t>>2]|0)+68>>2]&127](i+16|0,t,i+32|0),gD[t+32>>2]=+gD[i+16>>2]+ +gD[t+12>>2],gD[i+32>>2]=-1,OP[fD[(fD[t>>2]|0)+68>>2]&127](i,t,i+32|0),fD[i+16>>2]=fD[i+0>>2],fD[i+20>>2]=fD[i+4>>2],fD[i+24>>2]=fD[i+8>>2],fD[i+28>>2]=fD[i+12>>2],gD[t+16>>2]=+gD[i+16>>2]-+gD[t+12>>2],fD[i+32>>2]=0,fD[i+36>>2]=0,fD[i+40>>2]=0,fD[i+44>>2]=0,gD[i+36>>2]=1,OP[fD[(fD[t>>2]|0)+68>>2]&127](i+16|0,t,i+32|0),gD[t+36>>2]=+gD[i+20>>2]+ +gD[t+12>>2],gD[i+36>>2]=-1,OP[fD[(fD[t>>2]|0)+68>>2]&127](i,t,i+32|0),fD[i+16>>2]=fD[i+0>>2],fD[i+20>>2]=fD[i+4>>2],fD[i+24>>2]=fD[i+8>>2],fD[i+28>>2]=fD[i+12>>2],gD[t+20>>2]=+gD[i+20>>2]-+gD[t+12>>2],fD[i+32>>2]=0,fD[i+36>>2]=0,fD[i+40>>2]=0,fD[i+44>>2]=0,gD[i+40>>2]=1,OP[fD[(fD[t>>2]|0)+68>>2]&127](i+16|0,t,i+32|0),gD[t+40>>2]=+gD[i+24>>2]+ +gD[t+12>>2],gD[i+40>>2]=-1,OP[fD[(fD[t>>2]|0)+68>>2]&127](i,t,i+32|0),fD[i+16>>2]=fD[i+0>>2],fD[i+20>>2]=fD[i+4>>2],fD[i+24>>2]=fD[i+8>>2],fD[i+28>>2]=fD[i+12>>2],gD[t+24>>2]=+gD[i+24>>2]-+gD[t+12>>2],bD=i}function CM(t){return t|=0,(fD[t+48>>2]|0)+4|0}function AM(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,bD=bD+48|0,fD[o>>2]=17624,fD[o+4>>2]=e,fD[o+8>>2]=fD[i+0>>2],fD[o+12>>2]=fD[i+4>>2],fD[o+16>>2]=fD[i+8>>2],fD[o+20>>2]=fD[i+12>>2],fD[o+24>>2]=fD[r+0>>2],fD[o+28>>2]=fD[r+4>>2],fD[o+32>>2]=fD[r+8>>2],fD[o+36>>2]=fD[r+12>>2],e=fD[t+48>>2]|0,GP[fD[(fD[e>>2]|0)+8>>2]&127](e,o,i,r),bD=o}function wM(t,e,i){t|=0,e=+e,i|=0,t=bD,fD[i+0>>2]=0,fD[i+4>>2]=0,fD[i+8>>2]=0,fD[i+12>>2]=0,bD=t}function RM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;r=bD,bD=bD+176|0,fD[r+160>>2]=0,fD[r+164>>2]=0,fD[r+168>>2]=0,fD[r+172>>2]=0,fD[r+136>>2]=0,fD[r+140>>2]=0,fD[r+144>>2]=0,fD[r+148>>2]=0,fD[r+152>>2]=0,fD[r+32>>2]=17560,fD[r+36>>2]=0,fD[r+40>>2]=0,fD[r+44>>2]=0,fD[r+48>>2]=0,gD[r+52>>2]=1,fD[r+56>>2]=fD[r+160>>2],fD[r+60>>2]=fD[r+164>>2],fD[r+64>>2]=fD[r+168>>2],fD[r+68>>2]=0,gD[r+72>>2]=1,fD[r+76>>2]=0,fD[r+80>>2]=0,fD[r+84>>2]=0,fD[r+88>>2]=0,gD[r+92>>2]=1,gD[r+96>>2]=0,fD[r+100>>2]=fD[r+140>>2],fD[r+104>>2]=fD[r+144>>2],fD[r+108>>2]=fD[r+148>>2],fD[r+112>>2]=fD[r+152>>2],gD[r+116>>2]=-0xde0b6b000000000,l=+gD[i>>2],s=+gD[i+4>>2],a=+gD[i+8>>2],n=l*+gD[r+56>>2]+s+a*0,o=l*+gD[r+60>>2]+s*0+a,gD[r+120>>2]=l+s*0+a*0,gD[r+124>>2]=n,gD[r+128>>2]=o,gD[r+132>>2]=0,gD[r+16>>2]=0xde0b6b000000000,gD[r+20>>2]=0xde0b6b000000000,gD[r+24>>2]=0xde0b6b000000000,gD[r+28>>2]=0,i=fD[(fD[e>>2]|0)+64>>2]|0,gD[r>>2]=-0xde0b6b000000000,gD[r+4>>2]=-0xde0b6b000000000,gD[r+8>>2]=-0xde0b6b000000000,gD[r+12>>2]=0,GP[i&127](e,r+32|0,r,r+16|0),fD[t+0>>2]=fD[r+36>>2],fD[t+4>>2]=fD[r+40>>2],fD[t+8>>2]=fD[r+44>>2],fD[t+12>>2]=fD[r+48>>2],bD=r}function DM(t){t|=0}function PM(t){return t|=0,17536}function BM(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function VM(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0;return r=bD,o=+gD[t+88>>2],a=+gD[t+92>>2],n=+gD[t+96>>2],s=o*+gD[e>>2]+a*+gD[e+4>>2]+n*+gD[e+8>>2],l=+gD[t+84>>2],s>l?(gD[t+84>>2]=s,fD[t+4>>2]=fD[e+0>>2],fD[t+8>>2]=fD[e+4>>2],fD[t+12>>2]=fD[e+8>>2],fD[t+16>>2]=fD[e+12>>2]):s=l,l=o*+gD[e+16>>2]+a*+gD[e+20>>2]+n*+gD[e+24>>2],l>s&&(gD[t+84>>2]=l,fD[t+4>>2]=fD[e+16>>2],fD[t+8>>2]=fD[e+20>>2],fD[t+12>>2]=fD[e+24>>2],fD[t+16>>2]=fD[e+28>>2],s=l),o=o*+gD[e+32>>2]+a*+gD[e+36>>2]+n*+gD[e+40>>2],o>s?(gD[t+84>>2]=o,fD[t+4>>2]=fD[e+32>>2],fD[t+8>>2]=fD[e+36>>2],fD[t+12>>2]=fD[e+40>>2],fD[t+16>>2]=fD[e+44>>2],void(bD=r)):void(bD=r)}function LM(t){t|=0}function kM(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function HM(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0;return o=bD,s=+gD[e>>2],a=+gD[e+16>>2],l=s<a?s:a,n=+gD[e+32>>2],(l<n?l:n)>+gD[t+24>>2]?void(bD=o):(c=s>a?e:e+16|0,+gD[(+gD[c>>2]>n?c:e+32|0)>>2]<+gD[t+8>>2]?void(bD=o):(n=+gD[e+8>>2],a=+gD[e+24>>2],l=n<a?n:a,s=+gD[e+40>>2],(l<s?l:s)>+gD[t+32>>2]?void(bD=o):(c=n>a?e+8|0:e+24|0,+gD[(+gD[c>>2]>s?c:e+40|0)>>2]<+gD[t+16>>2]?void(bD=o):(n=+gD[e+4>>2],a=+gD[e+20>>2],l=n<a?n:a,s=+gD[e+36>>2],(l<s?l:s)>+gD[t+28>>2]?void(bD=o):(c=n>a?e+4|0:e+20|0,+gD[(+gD[c>>2]>s?c:e+36|0)>>2]<+gD[t+12>>2]?void(bD=o):(c=fD[t+4>>2]|0,GP[fD[(fD[c>>2]|0)+8>>2]&127](c,e,i,r),void(bD=o)))))))}function IM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0;for(r=bD;;){for(o=fD[t+12>>2]|0,n=fD[o+(((e+i|0)/2|0)<<3)>>2]|0,l=e,a=i;;){for(;;){if(c=l+1|0,!((fD[o+(l<<3)>>2]|0)<(n|0))){s=a;break}l=c}for(;;){if(h=o+(s<<3)|0,a=s+-1|0,!((n|0)<(fD[h>>2]|0)))break;s=a}if((l|0)>(s|0)?a=s:(l=o+(l<<3)|0,d=fD[l>>2]|0,o=fD[l+4>>2]|0,u=fD[h+4>>2]|0,fD[l>>2]=fD[h>>2],fD[l+4>>2]=u,l=(fD[t+12>>2]|0)+(s<<3)|0,fD[l>>2]=d,fD[l+4>>2]=o,l=c),(l|0)>(a|0))break;o=fD[t+12>>2]|0}if((a|0)>(e|0)&&IM(t,e,a),!((l|0)<(i|0)))break;e=l}bD=r}function OM(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;i=bD,n=fD[t>>2]|0,(n|0)>3?(o=uD[e>>0]|0,(o&8)==0?(fD[t>>2]=n+-1,r=t+(n+-1<<4)+4|0,fD[t+52>>2]=fD[r+0>>2],fD[t+56>>2]=fD[r+4>>2],fD[t+60>>2]=fD[r+8>>2],fD[t+64>>2]=fD[r+12>>2],r=t+(n+-1<<4)+84|0,fD[t+132>>2]=fD[r+0>>2],fD[t+136>>2]=fD[r+4>>2],fD[t+140>>2]=fD[r+8>>2],fD[t+144>>2]=fD[r+12>>2],r=t+(n+-1<<4)+164|0,fD[t+212>>2]=fD[r+0>>2],fD[t+216>>2]=fD[r+4>>2],fD[t+220>>2]=fD[r+8>>2],fD[t+224>>2]=fD[r+12>>2],n=n+-1|0,r=4):r=6):r=4,(r|0)==4&&((n|0)>2?(o=uD[e>>0]|0,r=6):o=n),(r|0)==6&&((o&4)==0?(o=n+-1|0,fD[t>>2]=o,fD[t+36>>2]=fD[t+(o<<4)+4>>2],fD[t+40>>2]=fD[t+(o<<4)+8>>2],fD[t+44>>2]=fD[t+(o<<4)+12>>2],fD[t+48>>2]=fD[t+(o<<4)+16>>2],fD[t+116>>2]=fD[t+(o<<4)+84>>2],fD[t+120>>2]=fD[t+(o<<4)+88>>2],fD[t+124>>2]=fD[t+(o<<4)+92>>2],fD[t+128>>2]=fD[t+(o<<4)+96>>2],fD[t+196>>2]=fD[t+(o<<4)+164>>2],fD[t+200>>2]=fD[t+(o<<4)+168>>2],fD[t+204>>2]=fD[t+(o<<4)+172>>2],fD[t+208>>2]=fD[t+(o<<4)+176>>2]):o=n),(o|0)>1?(n=uD[e>>0]|0,(n&2)==0?(o=o+-1|0,fD[t>>2]=o,fD[t+20>>2]=fD[t+(o<<4)+4>>2],fD[t+24>>2]=fD[t+(o<<4)+8>>2],fD[t+28>>2]=fD[t+(o<<4)+12>>2],fD[t+32>>2]=fD[t+(o<<4)+16>>2],fD[t+100>>2]=fD[t+(o<<4)+84>>2],fD[t+104>>2]=fD[t+(o<<4)+88>>2],fD[t+108>>2]=fD[t+(o<<4)+92>>2],fD[t+112>>2]=fD[t+(o<<4)+96>>2],fD[t+180>>2]=fD[t+(o<<4)+164>>2],fD[t+184>>2]=fD[t+(o<<4)+168>>2],fD[t+188>>2]=fD[t+(o<<4)+172>>2],fD[t+192>>2]=fD[t+(o<<4)+176>>2],r=11):e=n):r=11;do if((r|0)==11){if((o|0)>0){e=uD[e>>0]|0;break}return void(bD=i)}while(0);return(e&1)!=0?void(bD=i):(n=o+-1|0,fD[t>>2]=n,fD[t+4>>2]=fD[t+(n<<4)+4>>2],fD[t+8>>2]=fD[t+(n<<4)+8>>2],fD[t+12>>2]=fD[t+(n<<4)+12>>2],fD[t+16>>2]=fD[t+(n<<4)+16>>2],fD[t+84>>2]=fD[t+(n<<4)+84>>2],fD[t+88>>2]=fD[t+(n<<4)+88>>2],fD[t+92>>2]=fD[t+(n<<4)+92>>2],fD[t+96>>2]=fD[t+(n<<4)+96>>2],fD[t+164>>2]=fD[t+(n<<4)+164>>2],fD[t+168>>2]=fD[t+(n<<4)+168>>2],fD[t+172>>2]=fD[t+(n<<4)+172>>2],fD[t+176>>2]=fD[t+(n<<4)+176>>2],void(bD=i))}function JM(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0;if(e=bD,bD=bD+80|0,(uD[t+356>>0]|0)==0)return F=uD[t+312>>0]|0,F=F<<24>>24!=0,bD=e,F|0;switch(fD[t+336>>2]=0,fD[t+340>>2]=0,fD[t+344>>2]=0,fD[t+348>>2]=0,uD[t+352>>0]=0,P=uD[t+332>>0]|0,uD[t+332>>0]=P&-16,uD[t+356>>0]=0,fD[t>>2]|0){case 1:return fD[t+244>>2]=fD[t+84>>2],fD[t+248>>2]=fD[t+88>>2],fD[t+252>>2]=fD[t+92>>2],fD[t+256>>2]=fD[t+96>>2],fD[t+260>>2]=fD[t+164>>2],fD[t+264>>2]=fD[t+168>>2],fD[t+268>>2]=fD[t+172>>2],fD[t+272>>2]=fD[t+176>>2],O=+gD[t+248>>2]-+gD[t+264>>2],J=+gD[t+252>>2]-+gD[t+268>>2],gD[t+276>>2]=+gD[t+244>>2]-+gD[t+260>>2],gD[t+280>>2]=O,gD[t+284>>2]=J,gD[t+288>>2]=0,fD[t+336>>2]=0,fD[t+340>>2]=0,fD[t+344>>2]=0,fD[t+348>>2]=0,uD[t+352>>0]=0,uD[t+332>>0]=P&-16,gD[t+336>>2]=1,gD[t+340>>2]=0,gD[t+344>>2]=0,gD[t+348>>2]=0,uD[t+312>>0]=1,F=1,F=F<<24>>24!=0,bD=e,F|0;case 0:return uD[t+312>>0]=0,F=0,F=F<<24>>24!=0,bD=e,F|0;case 4:return fD[e+0>>2]=0,fD[e+4>>2]=0,fD[e+8>>2]=0,fD[e+12>>2]=0,n=e+48|0,uD[n>>0]=0,fD[t+316>>2]=fD[e+0>>2],fD[t+320>>2]=fD[e+4>>2],fD[t+324>>2]=fD[e+8>>2],fD[t+328>>2]=fD[e+12>>2],uD[t+332>>0]=P|15,w=+gD[t+20>>2],I=+gD[t+4>>2],T=+gD[t+24>>2],O=+gD[t+8>>2],C=+gD[t+28>>2],H=+gD[t+12>>2],A=+gD[t+36>>2],V=+gD[t+40>>2],D=+gD[t+44>>2],R=+gD[t+52>>2],B=+gD[t+56>>2],E=+gD[t+60>>2],J=(R-I)*((T-O)*(D-H)-(C-H)*(V-O))+(B-O)*((C-H)*(A-I)-(w-I)*(D-H))+((w-I)*(V-O)-(T-O)*(A-I))*(E-H),k=J*J<9.99999905104687e-9?-1:J*(((C-H)*(A-I)-(w-I)*(D-H))*(0-O)+((T-O)*(D-H)-(C-H)*(V-O))*(0-I)+((w-I)*(V-O)-(T-O)*(A-I))*(0-H))<0&1,J=(w-I)*((V-O)*(E-H)-(D-H)*(B-O))+(T-O)*((D-H)*(R-I)-(A-I)*(E-H))+((A-I)*(B-O)-(V-O)*(R-I))*(C-H),L=J*J<9.99999905104687e-9?-1:J*(((D-H)*(R-I)-(A-I)*(E-H))*(0-O)+((V-O)*(E-H)-(D-H)*(B-O))*(0-I)+((A-I)*(B-O)-(V-O)*(R-I))*(0-H))<0&1,J=(A-I)*((B-O)*(C-H)-(E-H)*(T-O))+(V-O)*((E-H)*(w-I)-(R-I)*(C-H))+((R-I)*(T-O)-(B-O)*(w-I))*(D-H),P=J*J<9.99999905104687e-9?-1:J*(((E-H)*(w-I)-(R-I)*(C-H))*(0-O)+((B-O)*(C-H)-(E-H)*(T-O))*(0-I)+((R-I)*(T-O)-(B-O)*(w-I))*(0-H))<0&1,H=(I-w)*((B-T)*(D-C)-(E-C)*(V-T))+(O-T)*((E-C)*(A-w)-(R-w)*(D-C))+((R-w)*(V-T)-(B-T)*(A-w))*(H-C),N=H*H<9.99999905104687e-9?-1:H*(((E-C)*(A-w)-(R-w)*(D-C))*(0-T)+((B-T)*(D-C)-(E-C)*(V-T))*(0-w)+((R-w)*(V-T)-(B-T)*(A-w))*(0-C))<0&1,(L|k|P|N|0)<0?(uD[t+352>>0]=1,uD[t+312>>0]=0,F=0,F=F<<24>>24!=0,bD=e,F|0):(F=(k|0)!=0,k=(L|0)==0,P=(P|0)==0,L=(N|0)==0,k&(F^1)&P&L?(uD[t+312>>0]=1,fD[t+276>>2]=0,fD[t+280>>2]=0,fD[t+284>>2]=0,fD[t+288>>2]=0,F=1,F=F<<24>>24!=0,bD=e,F|0):((F?(NM(e,t+4|0,t+20|0,t+36|0,e+32|0),x=+gD[e+32>>2],y=+gD[e+36>>2],b=+gD[e+40>>2],v=x-+gD[e>>2],M=y-+gD[e+4>>2],S=b-+gD[e+8>>2],v*v+M*M+S*S<3.4028234663852886e38):0)?(J=+gD[e+44>>2],gD[t+316>>2]=x,gD[t+320>>2]=y,gD[t+324>>2]=b,gD[t+328>>2]=J,F=uD[n>>0]|0,uD[t+332>>0]=F&1|uD[t+332>>0]&-16|F&2|F&4,J=+gD[e+56>>2],y=+gD[e+60>>2],gD[t+336>>2]=+gD[e+52>>2],gD[t+340>>2]=J,gD[t+344>>2]=y,gD[t+348>>2]=0,y=v*v+M*M+S*S):y=3.4028234663852886e38,(k?0:(NM(e,t+4|0,t+36|0,t+52|0,e+32|0),p=+gD[e+32>>2],m=+gD[e+36>>2],u=+gD[e+40>>2],g=p-+gD[e>>2],f=m-+gD[e+4>>2],_=u-+gD[e+8>>2],g*g+f*f+_*_<y))&&(J=+gD[e+44>>2],gD[t+316>>2]=p,gD[t+320>>2]=m,gD[t+324>>2]=u,gD[t+328>>2]=J,F=uD[n>>0]|0,uD[t+332>>0]=F<<1&4|(F&1|uD[t+332>>0]&-16)|F<<1&8,J=+gD[e+56>>2],y=+gD[e+60>>2],gD[t+336>>2]=+gD[e+52>>2],gD[t+340>>2]=0,gD[t+344>>2]=J,gD[t+348>>2]=y,y=g*g+f*f+_*_),(P?0:(NM(e,t+4|0,t+52|0,t+20|0,e+32|0),a=+gD[e+32>>2],s=+gD[e+36>>2],l=+gD[e+40>>2],c=a-+gD[e>>2],h=s-+gD[e+4>>2],d=l-+gD[e+8>>2],c*c+h*h+d*d<y))&&(J=+gD[e+44>>2],gD[t+316>>2]=a,gD[t+320>>2]=s,gD[t+324>>2]=l,gD[t+328>>2]=J,F=uD[n>>0]|0,uD[t+332>>0]=(F&255)>>>1&2|(F&1|uD[t+332>>0]&-16)|F<<2&8,J=+gD[e+60>>2],y=+gD[e+56>>2],gD[t+336>>2]=+gD[e+52>>2],gD[t+340>>2]=J,gD[t+344>>2]=0,gD[t+348>>2]=y,y=c*c+h*h+d*d),(L?0:(NM(e,t+20|0,t+52|0,t+36|0,e+32|0),r=+gD[e+32>>2],i=+gD[e+36>>2],o=+gD[e+40>>2],I=r-+gD[e>>2],O=i-+gD[e+4>>2],J=o-+gD[e+8>>2],I*I+O*O+J*J<y))&&(I=+gD[e+44>>2],gD[t+316>>2]=r,gD[t+320>>2]=i,gD[t+324>>2]=o,gD[t+328>>2]=I,F=uD[n>>0]|0,uD[t+332>>0]=F<<1&2|uD[t+332>>0]&-16|F&4|F<<2&8,I=+gD[e+52>>2],O=+gD[e+60>>2],J=+gD[e+56>>2],gD[t+336>>2]=0,gD[t+340>>2]=I,gD[t+344>>2]=O,gD[t+348>>2]=J),w=+gD[t+336>>2],R=+gD[t+340>>2],D=+gD[t+344>>2],J=+gD[t+348>>2],B=+gD[t+84>>2]*w+ +gD[t+100>>2]*R+ +gD[t+116>>2]*D+ +gD[t+132>>2]*J,H=w*+gD[t+88>>2]+R*+gD[t+104>>2]+D*+gD[t+120>>2]+J*+gD[t+136>>2],O=w*+gD[t+92>>2]+R*+gD[t+108>>2]+D*+gD[t+124>>2]+J*+gD[t+140>>2],gD[t+244>>2]=B,gD[t+248>>2]=H,gD[t+252>>2]=O,gD[t+256>>2]=0,V=+gD[t+164>>2]*w+ +gD[t+180>>2]*R+ +gD[t+196>>2]*D+ +gD[t+212>>2]*J,I=w*+gD[t+168>>2]+R*+gD[t+184>>2]+D*+gD[t+200>>2]+J*+gD[t+216>>2],J=w*+gD[t+172>>2]+R*+gD[t+188>>2]+D*+gD[t+204>>2]+J*+gD[t+220>>2],gD[t+260>>2]=V,gD[t+264>>2]=I,gD[t+268>>2]=J,gD[t+272>>2]=0,gD[t+276>>2]=B-V,gD[t+280>>2]=H-I,gD[t+284>>2]=O-J,gD[t+288>>2]=0,OM(t,t+332|0),n=((+gD[t+336>>2]>=0?+gD[t+340>>2]>=0:0)?+gD[t+344>>2]>=0:0)?+gD[t+348>>2]>=0&1:0,uD[t+312>>0]=n,F=n,F=F<<24>>24!=0,bD=e,F|0));case 3:return fD[e+16>>2]=0,fD[e+20>>2]=0,fD[e+24>>2]=0,fD[e+28>>2]=0,NM(e+16|0,t+4|0,t+20|0,t+36|0,t+316|0),R=+gD[t+336>>2],D=+gD[t+340>>2],J=+gD[t+344>>2],B=+gD[t+84>>2]*R+ +gD[t+100>>2]*D+ +gD[t+116>>2]*J,H=R*+gD[t+88>>2]+D*+gD[t+104>>2]+J*+gD[t+120>>2],O=R*+gD[t+92>>2]+D*+gD[t+108>>2]+J*+gD[t+124>>2],gD[t+244>>2]=B,gD[t+248>>2]=H,gD[t+252>>2]=O,gD[t+256>>2]=0,V=+gD[t+164>>2]*R+ +gD[t+180>>2]*D+ +gD[t+196>>2]*J,I=R*+gD[t+168>>2]+D*+gD[t+184>>2]+J*+gD[t+200>>2],J=R*+gD[t+172>>2]+D*+gD[t+188>>2]+J*+gD[t+204>>2],gD[t+260>>2]=V,gD[t+264>>2]=I,gD[t+268>>2]=J,gD[t+272>>2]=0,gD[t+276>>2]=B-V,gD[t+280>>2]=H-I,gD[t+284>>2]=O-J,gD[t+288>>2]=0,OM(t,t+332|0),n=((+gD[t+336>>2]>=0?+gD[t+340>>2]>=0:0)?+gD[t+344>>2]>=0:0)?+gD[t+348>>2]>=0&1:0,uD[t+312>>0]=n,F=n,F=F<<24>>24!=0,bD=e,F|0;case 2:a=+gD[t+4>>2],r=+gD[t+8>>2],l=+gD[t+12>>2],i=+gD[t+20>>2]-a,o=+gD[t+24>>2]-r,s=+gD[t+28>>2]-l;do{if((0-a)*i+(0-r)*o+(0-l)*s>0){if((0-a)*i+(0-r)*o+(0-l)*s<i*i+o*o+s*s){uD[t+332>>0]=P&-16|3,i=((0-a)*i+(0-r)*o+(0-l)*s)/(i*i+o*o+s*s);break}uD[t+332>>0]=P&-16|2,i=1;break}uD[t+332>>0]=P&-16|1,i=0}while(0);return gD[t+336>>2]=1-i,gD[t+340>>2]=i,gD[t+344>>2]=0,gD[t+348>>2]=0,B=+gD[t+84>>2],H=+gD[t+88>>2],O=+gD[t+92>>2],B+=i*(+gD[t+100>>2]-B),H+=i*(+gD[t+104>>2]-H),O+=i*(+gD[t+108>>2]-O),gD[t+244>>2]=B,gD[t+248>>2]=H,gD[t+252>>2]=O,gD[t+256>>2]=0,V=+gD[t+164>>2],I=+gD[t+168>>2],J=+gD[t+172>>2],V+=i*(+gD[t+180>>2]-V),I+=i*(+gD[t+184>>2]-I),J+=i*(+gD[t+188>>2]-J),gD[t+260>>2]=V,gD[t+264>>2]=I,gD[t+268>>2]=J,gD[t+272>>2]=0,gD[t+276>>2]=B-V,gD[t+280>>2]=H-I,gD[t+284>>2]=O-J,gD[t+288>>2]=0,OM(t,t+332|0),n=((+gD[t+336>>2]>=0?+gD[t+340>>2]>=0:0)?+gD[t+344>>2]>=0:0)?+gD[t+348>>2]>=0&1:0,uD[t+312>>0]=n,F=n,F=F<<24>>24!=0,bD=e,F|0;default:return uD[t+312>>0]=0,F=0,F=F<<24>>24!=0,bD=e,F|0}return 0}function NM(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0;return p=bD,h=uD[o+16>>0]&-16,uD[o+16>>0]=h,s=+gD[i>>2],a=+gD[e>>2],c=+gD[i+4>>2],l=+gD[e+4>>2],d=+gD[i+8>>2],n=+gD[e+8>>2],u=+gD[r>>2],f=+gD[r+4>>2],_=+gD[r+8>>2],m=+gD[t>>2],g=+gD[t+4>>2],v=+gD[t+8>>2],y=(s-a)*(m-a)+(c-l)*(g-l)+(d-n)*(v-n),b=(u-a)*(m-a)+(f-l)*(g-l)+(_-n)*(v-n),!(y<=0)|!(b<=0)?(M=(s-a)*(m-s)+(c-l)*(g-c)+(d-n)*(v-d),S=(u-a)*(m-s)+(f-l)*(g-c)+(_-n)*(v-d),!(M>=0)|!(S<=M)?(y>=0?!(y*S-M*b<=0):1)|!(M<=0)?(x=(s-a)*(m-u)+(c-l)*(g-f)+(d-n)*(v-_),m=(u-a)*(m-u)+(f-l)*(g-f)+(_-n)*(v-_),!(m>=0)|!(x<=m)?(b>=0?!(x*b-y*m<=0):1)|!(m<=0)?((M*m-x*S<=0?S-M>=0:0)?x-m>=0:0)?(x=(S-M)/(S-M+(x-m)),gD[o>>2]=s+(u-s)*x,gD[o+4>>2]=c+(f-c)*x,gD[o+8>>2]=d+(_-d)*x,gD[o+12>>2]=0,uD[o+16>>0]=h|6,gD[o+20>>2]=0,gD[o+24>>2]=1-x,gD[o+28>>2]=x,gD[o+32>>2]=0,void(bD=p)):(g=1/(y*S-M*b+(M*m-x*S+(x*b-y*m))),v=(x*b-y*m)*g,x=(y*S-M*b)*g,gD[o>>2]=(u-a)*x+(a+(s-a)*v),gD[o+4>>2]=(f-l)*x+(l+(c-l)*v),gD[o+8>>2]=(_-n)*x+((d-n)*v+n),gD[o+12>>2]=0,uD[o+16>>0]=h|7,gD[o+20>>2]=1-v-x,gD[o+24>>2]=v,gD[o+28>>2]=x,gD[o+32>>2]=0,void(bD=p)):(gD[o>>2]=a+(u-a)*(b/(b-m)),gD[o+4>>2]=l+(f-l)*(b/(b-m)),gD[o+8>>2]=n+(_-n)*(b/(b-m)),gD[o+12>>2]=0,uD[o+16>>0]=h|5,gD[o+20>>2]=1-b/(b-m),gD[o+24>>2]=0,gD[o+28>>2]=b/(b-m),gD[o+32>>2]=0,void(bD=p)):(fD[o+0>>2]=fD[r+0>>2],fD[o+4>>2]=fD[r+4>>2],fD[o+8>>2]=fD[r+8>>2],fD[o+12>>2]=fD[r+12>>2],uD[o+16>>0]=h|4,gD[o+20>>2]=0,gD[o+24>>2]=0,gD[o+28>>2]=1,gD[o+32>>2]=0,void(bD=p))):(gD[o>>2]=a+(s-a)*(y/(y-M)),gD[o+4>>2]=l+(c-l)*(y/(y-M)),gD[o+8>>2]=n+(d-n)*(y/(y-M)),gD[o+12>>2]=0,uD[o+16>>0]=h|3,gD[o+20>>2]=1-y/(y-M),gD[o+24>>2]=y/(y-M),gD[o+28>>2]=0,gD[o+32>>2]=0,void(bD=p)):(fD[o+0>>2]=fD[i+0>>2],fD[o+4>>2]=fD[i+4>>2],fD[o+8>>2]=fD[i+8>>2],fD[o+12>>2]=fD[i+12>>2],uD[o+16>>0]=h|2,gD[o+20>>2]=0,gD[o+24>>2]=1,gD[o+28>>2]=0,gD[o+32>>2]=0,void(bD=p))):(fD[o+0>>2]=fD[e+0>>2],fD[o+4>>2]=fD[e+4>>2],fD[o+8>>2]=fD[e+8>>2],fD[o+12>>2]=fD[e+12>>2],uD[o+16>>0]=h|1,gD[o+20>>2]=1,gD[o+24>>2]=0,gD[o+28>>2]=0,gD[o+32>>2]=0,void(bD=p))}function FM(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0;if(r=bD,bD=bD+96|0,u=+gD[e+48>>2]-+gD[e+112>>2],a=+gD[e+52>>2]-+gD[e+116>>2],s=+gD[e+56>>2]-+gD[e+120>>2],h=u*+gD[e+64>>2]+a*+gD[e+80>>2]+s*+gD[e+96>>2],c=u*+gD[e+68>>2]+a*+gD[e+84>>2]+s*+gD[e+100>>2],s=u*+gD[e+72>>2]+a*+gD[e+88>>2]+s*+gD[e+104>>2],p=fD[t+8>>2]|0,_=fD[t+4>>2]|0,a=+gD[_+28>>2]*+gD[_+12>>2],u=a+ +gD[t+12>>2],b=+gD[p+72>>2],g=+gD[p+56>>2],m=+gD[p+76>>2],T=+gD[p+60>>2],y=+gD[p+80>>2],v=+gD[p+64>>2],M=+gD[p+88>>2],S=+gD[p+92>>2],x=+gD[p+96>>2],E=(m-T)*(x-v)-(y-v)*(S-T),l=(y-v)*(M-g)-(b-g)*(x-v),n=(b-g)*(S-T)-(m-T)*(M-g),d=1/+CD(+(n*n+(E*E+l*l))),f=(h-g)*d*E+d*l*(c-T)+d*n*(s-v),f<0?(f*=-1,n=d*n*-1,l=d*l*-1,d=d*E*-1):(n=d*n,l=d*l,d*=E),!(f<u))return void(bD=r);if(E=(s-v)*((b-g)*l-(m-T)*d)+((h-g)*((m-T)*n-(y-v)*l)+(c-T)*((y-v)*d-(b-g)*n)),C=(s-y)*((M-b)*l-(S-m)*d)+((h-b)*((S-m)*n-(x-y)*l)+(c-m)*((x-y)*d-(M-b)*n)),A=(s-x)*((g-M)*l-(T-S)*d)+((h-M)*((T-S)*n-(v-x)*l)+(c-S)*((v-x)*d-(g-M)*n)),E>0&C>0&A>0?0:!(E<=0)|!(C<=0)|!(A<=0)){if((lP[fD[(fD[p>>2]|0)+100>>2]&127](p)|0)<=0)return void(bD=r);f=0,m=0,M=0,_=0,p=0;do{w=fD[t+8>>2]|0,GP[fD[(fD[w>>2]|0)+104>>2]&127](w,p,r+80|0,r+64|0),b=+gD[r+80>>2],S=+gD[r+84>>2],C=+gD[r+88>>2],y=+gD[r+64>>2]-b,v=+gD[r+68>>2]-S,A=+gD[r+72>>2]-C;do{if((h-b)*y+(c-S)*v+(s-C)*A>0){if((h-b)*y+(c-S)*v+(s-C)*A<y*y+v*v+A*A){g=((h-b)*y+(c-S)*v+(s-C)*A)/(y*y+v*v+A*A),x=h-b-y*g,T=c-S-v*g,E=s-C-A*g;break}x=h-b-y,T=c-S-v,E=s-C-A,g=1;break}x=h-b,T=c-S,E=s-C,g=0}while(0);E*E+(T*T+x*x)<u*u&&(M=C+A*g,m=S+v*g,f=b+y*g,_=1),p=p+1|0,w=fD[t+8>>2]|0}while((p|0)<(lP[fD[(fD[w>>2]|0)+100>>2]&127](w)|0));if((_&1)==0)return void(bD=r);g=u*u,u=f}else g=u*u,u=h-d*f,m=c-l*f,M=s-n*f;return h-=u,c-=m,s-=M,h*h+c*c+s*s<g?(h*h+c*c+s*s>1.1920928955078125e-7&&(n=+CD(+(h*h+c*c+s*s)),a-=n,d=h*(1/n),l=c*(1/n),n=s*(1/n)),a=-a,o?(S=+gD[e+64>>2],x=+gD[e+68>>2],T=+gD[e+72>>2],E=S*d+x*l+T*n,h=+gD[e+80>>2],f=+gD[e+84>>2],g=+gD[e+88>>2],C=d*h+l*f+n*g,y=+gD[e+96>>2],b=+gD[e+100>>2],v=+gD[e+104>>2],A=d*y+l*b+n*v,gD[r+48>>2]=-E,gD[r+52>>2]=-C,gD[r+56>>2]=-A,gD[r+60>>2]=0,C=u*h+m*f+M*g+ +gD[e+116>>2]+C*a,A=u*y+m*b+M*v+ +gD[e+120>>2]+A*a,gD[r+32>>2]=u*S+m*x+M*T+ +gD[e+112>>2]+E*a,gD[r+36>>2]=C,gD[r+40>>2]=A,gD[r+44>>2]=0,IP[fD[(fD[i>>2]|0)+16>>2]&15](i,r+48|0,r+32|0,a),void(bD=r)):(w=fD[(fD[i>>2]|0)+16>>2]|0,x=+gD[e+64>>2],T=+gD[e+68>>2],E=+gD[e+72>>2],y=+gD[e+80>>2],b=+gD[e+84>>2],C=+gD[e+88>>2],v=+gD[e+96>>2],S=+gD[e+100>>2],A=+gD[e+104>>2],gD[r+16>>2]=x*d+T*l+E*n,gD[r+20>>2]=d*y+l*b+n*C,gD[r+24>>2]=d*v+l*S+n*A,gD[r+28>>2]=0,C=u*y+m*b+M*C+ +gD[e+116>>2],A=u*v+m*S+M*A+ +gD[e+120>>2],gD[r>>2]=u*x+m*T+M*E+ +gD[e+112>>2],gD[r+4>>2]=C,gD[r+8>>2]=A,gD[r+12>>2]=0,IP[w&15](i,r+16|0,r,a),void(bD=r))):void(bD=r)}function GM(t){t|=0}function zM(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function jM(t){t|=0;var e=0,i=0,r=0;e=bD,fD[t>>2]=17896,((uD[t+8>>0]|0)!=0?(i=fD[t+12>>2]|0,(i|0)!=0):0)&&(r=fD[t+4>>2]|0,aP[fD[(fD[r>>2]|0)+16>>2]&127](r,i)),Cw(t),bD=e}function UM(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=17896,(uD[t+8>>0]|0)==0?void(bD=e):(i=fD[t+12>>2]|0,(i|0)==0?void(bD=e):(t=fD[t+4>>2]|0,aP[fD[(fD[t>>2]|0)+16>>2]&127](t,i),void(bD=e)))}function WM(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0;return n=bD,bD=bD+144|0,a=fD[t+12>>2]|0,(a|0)==0?void(bD=n):(l=fD[e+4>>2]|0,s=fD[i+4>>2]|0,fD[o+4>>2]=a,gD[n+140>>2]=0xde0b6b000000000,a=fD[e+12>>2]|0,fD[n+12>>2]=fD[a+0>>2],fD[n+16>>2]=fD[a+4>>2],fD[n+20>>2]=fD[a+8>>2],fD[n+24>>2]=fD[a+12>>2],fD[n+28>>2]=fD[a+16>>2],fD[n+32>>2]=fD[a+20>>2],fD[n+36>>2]=fD[a+24>>2],fD[n+40>>2]=fD[a+28>>2],fD[n+44>>2]=fD[a+32>>2],fD[n+48>>2]=fD[a+36>>2],fD[n+52>>2]=fD[a+40>>2],fD[n+56>>2]=fD[a+44>>2],fD[n+60>>2]=fD[a+48>>2],fD[n+64>>2]=fD[a+52>>2],fD[n+68>>2]=fD[a+56>>2],fD[n+72>>2]=fD[a+60>>2],i=fD[i+12>>2]|0,fD[n+76>>2]=fD[i+0>>2],fD[n+80>>2]=fD[i+4>>2],fD[n+84>>2]=fD[i+8>>2],fD[n+88>>2]=fD[i+12>>2],fD[n+92>>2]=fD[i+16>>2],fD[n+96>>2]=fD[i+20>>2],fD[n+100>>2]=fD[i+24>>2],fD[n+104>>2]=fD[i+28>>2],fD[n+108>>2]=fD[i+32>>2],fD[n+112>>2]=fD[i+36>>2],fD[n+116>>2]=fD[i+40>>2],fD[n+120>>2]=fD[i+44>>2],fD[n+124>>2]=fD[i+48>>2],fD[n+128>>2]=fD[i+52>>2],fD[n+132>>2]=fD[i+56>>2],fD[n+136>>2]=fD[i+60>>2],fD[n>>2]=17976,fD[n+4>>2]=l,fD[n+8>>2]=s,KM(n,n+12|0,o,fD[r+20>>2]|0,0),(uD[t+8>>0]|0)==0?void(bD=n):(e=fD[o+4>>2]|0,(fD[e+748>>2]|0)==0?void(bD=n):(a=fD[e+740>>2]|0,i=fD[(fD[o+8>>2]|0)+8>>2]|0,(a|0)==(i|0)?(fw(e,a+4|0,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0),void(bD=n)):(fw(e,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0,i+4|0),void(bD=n)))))
}function XM(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,1}function qM(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(i=bD,(fD[t+12>>2]|0)==0)return void(bD=i);if((uD[t+8>>0]|0)==0)return void(bD=i);if(n=fD[e+4>>2]|0,(n|0)==(fD[e+8>>2]|0)?(r=(n|0)==0?1:n<<1,(n|0)<(r|0)):0){if((r|0)==0?o=0:(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),n=fD[e+4>>2]|0),(n|0)>0){a=0;do s=o+(a<<2)|0,(s|0)!=0&&(fD[s>>2]=fD[(fD[e+12>>2]|0)+(a<<2)>>2]),a=a+1|0;while((a|0)!=(n|0))}a=fD[e+12>>2]|0,(a|0)!=0&&((uD[e+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0),n=fD[e+4>>2]|0),fD[e+12>>2]=0),uD[e+16>>0]=1,fD[e+12>>2]=o,fD[e+8>>2]=r}r=(fD[e+12>>2]|0)+(n<<2)|0,(r|0)!=0&&(fD[r>>2]=fD[t+12>>2]),fD[e+4>>2]=n+1,bD=i}function KM(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0,ie=0,re=0,oe=0,ne=0,ae=0,se=0,le=0,ce=0,he=0,de=0,ue=0,pe=0,fe=0,_e=0,me=0,ge=0,ye=0,be=0,ve=0,Me=0,Se=0,xe=0;if(r=bD,bD=bD+656|0,gD[r+48>>2]=+gD[e>>2],gD[r>>2]=+gD[e+64>>2],o=r+52|0,gD[o>>2]=+gD[e+4>>2],gD[r+4>>2]=+gD[e+68>>2],gD[r+56>>2]=+gD[e+8>>2],gD[r+8>>2]=+gD[e+72>>2],gD[r+64>>2]=+gD[e+16>>2],gD[r+16>>2]=+gD[e+80>>2],gD[r+68>>2]=+gD[e+20>>2],gD[r+20>>2]=+gD[e+84>>2],gD[r+72>>2]=+gD[e+24>>2],gD[r+24>>2]=+gD[e+88>>2],gD[r+80>>2]=+gD[e+32>>2],gD[r+32>>2]=+gD[e+96>>2],gD[r+84>>2]=+gD[e+36>>2],gD[r+36>>2]=+gD[e+100>>2],gD[r+88>>2]=+gD[e+40>>2],gD[r+40>>2]=+gD[e+104>>2],xe=fD[t+4>>2]|0,x=+gD[xe+28>>2],T=+gD[xe+32>>2],A=+gD[xe+36>>2],E=+vP[fD[(fD[xe>>2]|0)+48>>2]&15](xe),C=+vP[fD[(fD[xe>>2]|0)+48>>2]&15](xe),A=(A+ +vP[fD[(fD[xe>>2]|0)+48>>2]&15](xe))*2,xe=fD[t+8>>2]|0,b=+gD[xe+28>>2],M=+gD[xe+32>>2],p=+gD[xe+36>>2],y=+vP[fD[(fD[xe>>2]|0)+48>>2]&15](xe),v=+vP[fD[(fD[xe>>2]|0)+48>>2]&15](xe),p=(p+ +vP[fD[(fD[xe>>2]|0)+48>>2]&15](xe))*2,O=+gD[e+112>>2]-+gD[e+48>>2],J=+gD[e+116>>2]-+gD[e+52>>2],I=+gD[e+120>>2]-+gD[e+56>>2],s=+gD[r+48>>2],a=+gD[r+64>>2],n=+gD[r+80>>2],P=+gD[o>>2],B=+gD[r+68>>2],D=+gD[r+84>>2],R=+gD[r+56>>2],w=+gD[r+72>>2],S=+gD[r+88>>2],gD[r+548>>2]=(x+E)*2*.5,gD[r+552>>2]=(T+C)*2*.5,gD[r+556>>2]=A*.5,gD[r+536>>2]=(b+y)*2*.5,gD[r+540>>2]=(M+v)*2*.5,gD[r+544>>2]=p*.5,u=+gD[r>>2],g=+gD[r+16>>2],f=+gD[r+32>>2],d=+gD[r+4>>2],m=+gD[r+20>>2],_=+gD[r+36>>2],h=+gD[r+8>>2],c=+gD[r+24>>2],l=+gD[r+40>>2],j=+ED(+(s*u+a*g+n*f)),N=+ED(+(s*d+a*m+n*_)),V=+ED(+(s*h+a*c+n*l)),U=+ED(+(u*P+g*B+f*D)),G=+ED(+(d*P+m*B+_*D)),H=+ED(+(h*P+c*B+l*D)),L=+ED(+(u*R+g*w+f*S)),k=+ED(+(d*R+m*w+_*S)),F=+ED(+(h*R+c*w+l*S)),X=+ED(+(O*s+J*a+I*n))-(p*.5*V+((x+E)*2*.5+j*(b+y)*2*.5+N*(M+v)*2*.5)),X>0)return void(bD=r);if(X>-3.4028234663852886e38?(te=1,z=O*s+J*a+I*n<0&1,t=r+48|0):(te=0,z=0,t=0,X=-3.4028234663852886e38),W=+ED(+(O*P+J*B+I*D))-((T+C)*2*.5+U*(b+y)*2*.5+G*(M+v)*2*.5+H*p*.5),W>0)return void(bD=r);if(W>X?(te=2,z=O*P+J*B+I*D<0&1,t=o):W=X,X=+ED(+(O*R+J*w+I*S))-(A*.5+L*(b+y)*2*.5+k*(M+v)*2*.5+F*p*.5),X>0)return void(bD=r);if(X>W&&(te=3,z=O*R+J*w+I*S<0&1,t=r+56|0,W=X),X=+ED(+(O*u+J*g+I*f))-((b+y)*2*.5+(j*(x+E)*2*.5+U*(T+C)*2*.5+L*A*.5)),X>0)return void(bD=r);if(X>W&&(te=4,z=O*u+J*g+I*f<0&1,t=r,W=X),X=+ED(+(O*d+J*m+I*_))-((M+v)*2*.5+(N*(x+E)*2*.5+G*(T+C)*2*.5+k*A*.5)),X>0)return void(bD=r);if(X>W&&(te=5,z=O*d+J*m+I*_<0&1,t=r+4|0,W=X),he=+ED(+(O*h+J*c+I*l))-(p*.5+(V*(x+E)*2*.5+H*(T+C)*2*.5+F*A*.5)),he>0)return void(bD=r);if(he>W?(te=6,z=O*h+J*c+I*l<0&1,t=r+8|0):he=W,K=(O*R+J*w+I*S)*(u*P+g*B+f*D)-(O*P+J*B+I*D)*(u*R+g*w+f*S),X=+ED(+K)-((L+9999999747378752e-21)*(T+C)*2*.5+(U+9999999747378752e-21)*A*.5+(V+9999999747378752e-21)*(M+v)*2*.5+(N+9999999747378752e-21)*p*.5),X>1.1920928955078125e-7)return void(bD=r);if(Q=(u*R+g*w+f*S)*(u*R+g*w+f*S)+0,q=(u*P+g*B+f*D)*(u*P+g*B+f*D),W=+CD(+(q+Q)),(W>1.1920928955078125e-7?X/W*1.0499999523162842>he:0)?(le=(u*P+g*B+f*D)/W,se=-(u*R+g*w+f*S)/W,ae=0/W,te=7,z=K<0&1,t=0,he=X/W):(le=0,se=0,ae=0),Y=(O*R+J*w+I*S)*(d*P+m*B+_*D)-(O*P+J*B+I*D)*(d*R+m*w+_*S),X=+ED(+Y)-((k+9999999747378752e-21)*(T+C)*2*.5+(G+9999999747378752e-21)*A*.5+(V+9999999747378752e-21)*(b+y)*2*.5+(j+9999999747378752e-21)*p*.5),X>1.1920928955078125e-7)return void(bD=r);if(Z=(d*R+m*w+_*S)*(d*R+m*w+_*S)+0,W=(d*P+m*B+_*D)*(d*P+m*B+_*D),K=+CD(+(W+Z)),(K>1.1920928955078125e-7?X/K*1.0499999523162842>he:0)&&(le=(d*P+m*B+_*D)/K,se=-(d*R+m*w+_*S)/K,ae=0/K,te=8,z=Y<0&1,t=0,he=X/K),_e=(O*R+J*w+I*S)*(h*P+c*B+l*D)-(O*P+J*B+I*D)*(h*R+c*w+l*S),K=+ED(+_e)-((F+9999999747378752e-21)*(T+C)*2*.5+(H+9999999747378752e-21)*A*.5+(N+9999999747378752e-21)*(b+y)*2*.5+(j+9999999747378752e-21)*(M+v)*2*.5),K>1.1920928955078125e-7)return void(bD=r);if(Y=(h*R+c*w+l*S)*(h*R+c*w+l*S)+0,X=(h*P+c*B+l*D)*(h*P+c*B+l*D),de=+CD(+(X+Y)),(de>1.1920928955078125e-7?K/de*1.0499999523162842>he:0)&&(le=(h*P+c*B+l*D)/de,se=-(h*R+c*w+l*S)/de,ae=0/de,te=9,z=_e<0&1,t=0,he=K/de),_e=(O*s+J*a+I*n)*(u*R+g*w+f*S)-(O*R+J*w+I*S)*(s*u+a*g+n*f),de=+ED(+_e)-((L+9999999747378752e-21)*(x+E)*2*.5+(j+9999999747378752e-21)*A*.5+(H+9999999747378752e-21)*(M+v)*2*.5+(G+9999999747378752e-21)*p*.5),de>1.1920928955078125e-7)return void(bD=r);K=(s*u+a*g+n*f)*(s*u+a*g+n*f),Q=+CD(+(K+Q));do if(Q>1.1920928955078125e-7){if(!(de/Q*1.0499999523162842>he))break;le=-(s*u+a*g+n*f)/Q,se=0/Q,ae=(u*R+g*w+f*S)/Q,te=10,z=_e<0&1,t=0,he=de/Q}while(0);if(_e=(O*s+J*a+I*n)*(d*R+m*w+_*S)-(O*R+J*w+I*S)*(s*d+a*m+n*_),de=+ED(+_e)-((k+9999999747378752e-21)*(x+E)*2*.5+(N+9999999747378752e-21)*A*.5+(H+9999999747378752e-21)*(b+y)*2*.5+(U+9999999747378752e-21)*p*.5),de>1.1920928955078125e-7)return void(bD=r);Q=(s*d+a*m+n*_)*(s*d+a*m+n*_),Z=+CD(+(Q+Z));do if(Z>1.1920928955078125e-7){if(!(de/Z*1.0499999523162842>he))break;le=-(s*d+a*m+n*_)/Z,se=0/Z,ae=(d*R+m*w+_*S)/Z,te=11,z=_e<0&1,t=0,he=de/Z}while(0);if(_e=(O*s+J*a+I*n)*(h*R+c*w+l*S)-(O*R+J*w+I*S)*(s*h+a*c+n*l),de=+ED(+_e)-((F+9999999747378752e-21)*(x+E)*2*.5+(V+9999999747378752e-21)*A*.5+(G+9999999747378752e-21)*(b+y)*2*.5+(U+9999999747378752e-21)*(M+v)*2*.5),de>1.1920928955078125e-7)return void(bD=r);Z=(s*h+a*c+n*l)*(s*h+a*c+n*l),Y=+CD(+(Z+Y));do if(Y>1.1920928955078125e-7){if(!(de/Y*1.0499999523162842>he))break;le=-(s*h+a*c+n*l)/Y,se=0/Y,ae=(h*R+c*w+l*S)/Y,te=12,z=_e<0&1,t=0,he=de/Y}while(0);if(Y=(O*P+J*B+I*D)*(s*u+a*g+n*f)-(O*s+J*a+I*n)*(u*P+g*B+f*D),j=+ED(+Y)-((U+9999999747378752e-21)*(x+E)*2*.5+(j+9999999747378752e-21)*(T+C)*2*.5+(F+9999999747378752e-21)*(M+v)*2*.5+(k+9999999747378752e-21)*p*.5),j>1.1920928955078125e-7)return void(bD=r);U=+CD(+(K+q+0));do if(U>1.1920928955078125e-7){if(!(j/U*1.0499999523162842>he))break;le=0/U,se=(s*u+a*g+n*f)/U,ae=-(u*P+g*B+f*D)/U,te=13,z=Y<0&1,t=0,he=j/U}while(0);if(j=(O*P+J*B+I*D)*(s*d+a*m+n*_)-(O*s+J*a+I*n)*(d*P+m*B+_*D),N=+ED(+j)-((G+9999999747378752e-21)*(x+E)*2*.5+(N+9999999747378752e-21)*(T+C)*2*.5+(F+9999999747378752e-21)*(b+y)*2*.5+(L+9999999747378752e-21)*p*.5),N>1.1920928955078125e-7)return void(bD=r);F=+CD(+(Q+W+0));do if(F>1.1920928955078125e-7){if(!(N/F*1.0499999523162842>he)){$=t;break}le=0/F,se=(s*d+a*m+n*_)/F,ae=-(d*P+m*B+_*D)/F,te=14,z=j<0&1,$=0,he=N/F}else $=t;while(0);if(I=(O*P+J*B+I*D)*(s*h+a*c+n*l)-(O*s+J*a+I*n)*(h*P+c*B+l*D),V=+ED(+I)-((H+9999999747378752e-21)*(x+E)*2*.5+(V+9999999747378752e-21)*(T+C)*2*.5+(k+9999999747378752e-21)*(b+y)*2*.5+(L+9999999747378752e-21)*(M+v)*2*.5),V>1.1920928955078125e-7)return void(bD=r);L=+CD(+(Z+X+0));do if(L>1.1920928955078125e-7){if(!(V/L*1.0499999523162842>he)){t=55;break}ae=-(h*P+c*B+l*D)/L,se=(s*h+a*c+n*l)/L,le=0/L,te=15,z=I<0&1,he=V/L,t=58}else t=55;while(0);do if((t|0)==55){if((te|0)==0)return void(bD=r);if(($|0)==0){t=58;break}n=+gD[$>>2],a=+gD[$+16>>2],s=+gD[$+32>>2]}while(0);if((t|0)==58&&(n=ae*+gD[r+48>>2]+se*+gD[o>>2]+le*R,a=ae*+gD[r+64>>2]+se*+gD[r+68>>2]+le*w,s=ae*+gD[r+80>>2]+se*+gD[r+84>>2]+le*S),(z|0)!=0&&(n=-n,a=-a,s=-s),(te|0)>6)return Y=+gD[r+48>>2],Q=+gD[r+64>>2],se=+gD[r+80>>2],ae=(n*Y+a*Q+s*se>0?1:-1)*(x+E)*2*.5,x=+gD[o>>2],Z=+gD[r+68>>2],de=+gD[r+84>>2],le=(n*x+a*Z+s*de>0?1:-1)*(T+C)*2*.5,_e=(n*R+a*w+s*S>0?1:-1)*A*.5,x=+gD[e+48>>2]+ae*Y+le*x+_e*R,T=+gD[e+52>>2]+ae*Q+le*Z+_e*w,S=+gD[e+56>>2]+ae*se+le*de+_e*S,fD[r+520>>2]=fD[e+112>>2],fD[r+524>>2]=fD[e+116>>2],fD[r+528>>2]=fD[e+120>>2],b=(n*u+a*g+s*f>0?-1:1)*(b+y)*2*.5,v=(n*d+a*m+s*_>0?-1:1)*(M+v)*2*.5,m=+gD[r+524>>2]+b*g+v*m,f=+gD[r+528>>2]+b*f+v*_,p=(n*h+a*c+s*l>0?-1:1)*p*.5,h=+gD[r+520>>2]+b*u+v*d+p*h,gD[r+520>>2]=h,gD[r+524>>2]=m+p*c,gD[r+528>>2]=f+p*l,xe=te+-7|0,g=+gD[r+48+(((xe|0)/3|0)<<2)>>2],v=+gD[r+48+(((xe|0)/3|0)+4<<2)>>2],b=+gD[r+48+(((xe|0)/3|0)+8<<2)>>2],_=+gD[r+(((xe|0)%3|0)<<2)>>2],u=+gD[r+(((xe|0)%3|0)+4<<2)>>2],d=+gD[r+(((xe|0)%3|0)+8<<2)>>2],y=1-(g*_+v*u+b*d)*(g*_+v*u+b*d),g=y<=9999999747378752e-20?0:(((h-x)*g+(m+p*c-T)*v+(f+p*l-S)*b)*(g*_+v*u+b*d)-((h-x)*_+(m+p*c-T)*u+(f+p*l-S)*d))*(1/y),gD[r+520>>2]=h+g*_,gD[r+524>>2]=m+p*c+g*u,gD[r+528>>2]=f+p*l+g*d,xe=fD[(fD[i>>2]|0)+16>>2]|0,gD[r+504>>2]=-n,gD[r+508>>2]=-a,gD[r+512>>2]=-s,gD[r+516>>2]=0,IP[xe&15](i,r+504|0,r+520|0,he),void(bD=r);z=(te|0)<4,z?(l=n,c=a,h=s,ee=r+48|0,pe=r,$=r+548|0,ce=r+536|0,o=e+48|0,e=e+112|0):(l=-n,c=-a,h=-s,ee=r,pe=r+48|0,$=r+536|0,ce=r+548|0,o=e+112|0,e=e+48|0),d=l*+gD[pe>>2]+c*+gD[pe+16>>2]+h*+gD[pe+32>>2],gD[r+488>>2]=d,p=l*+gD[pe+4>>2]+c*+gD[pe+20>>2]+h*+gD[pe+36>>2],gD[r+492>>2]=p,u=l*+gD[pe+8>>2]+c*+gD[pe+24>>2]+h*+gD[pe+40>>2],gD[r+496>>2]=u,d=+ED(+d),p=+ED(+p),u=+ED(+u),p>d?(re=p>u,ue=0,ie=p>u?1:2):(re=d>u,ue=d>u&1,ie=d>u?0:2),fe=re?2:1,p=+gD[ce+(ie<<2)>>2],u=+gD[e>>2]-+gD[o>>2],d=p*+gD[pe+(ie<<2)>>2],+gD[r+488+(ie<<2)>>2]<0?(d=u+d,u=+gD[e+4>>2]-+gD[o+4>>2]+p*+gD[pe+((ie|4)<<2)>>2],p=+gD[e+8>>2]-+gD[o+8>>2]+p*+gD[pe+((ie|8)<<2)>>2]):(d=u-d,u=+gD[e+4>>2]-+gD[o+4>>2]-p*+gD[pe+((ie|4)<<2)>>2],p=+gD[e+8>>2]-+gD[o+8>>2]-p*+gD[pe+((ie|8)<<2)>>2]),ne=(z?-1:-4)+te|0,(ne|0)==0?(me=1,ge=2):(ne|0)==1?(me=0,ge=2):(me=0,ge=1),m=+gD[ee+(me<<2)>>2],g=+gD[ee+((me|4)<<2)>>2],y=+gD[ee+((me|8)<<2)>>2],f=d*m+u*g+p*y,b=+gD[ee+(ge<<2)>>2],_=+gD[ee+((ge|4)<<2)>>2],M=+gD[ee+((ge|8)<<2)>>2],x=d*b+u*_+p*M,oe=pe+(ue<<2)|0,v=+gD[oe>>2],ie=pe+((ue|4)<<2)|0,E=+gD[ie>>2],e=pe+((ue|8)<<2)|0,C=+gD[e>>2],re=pe+(fe<<2)|0,S=+gD[re>>2],ee=pe+((fe|4)<<2)|0,T=+gD[ee>>2],te=pe+((fe|8)<<2)|0,A=+gD[te>>2],de=+gD[ce+(ue<<2)>>2],_e=+gD[ce+(fe<<2)>>2],he=(m*S+g*T+y*A)*_e,_e=(b*S+_*T+M*A)*_e,gD[r+456>>2]=f-(m*v+g*E+y*C)*de-he,gD[r+460>>2]=x-(b*v+_*E+M*C)*de-_e,gD[r+464>>2]=f-(m*v+g*E+y*C)*de+he,gD[r+468>>2]=x-(b*v+_*E+M*C)*de+_e,gD[r+472>>2]=f+(m*v+g*E+y*C)*de+he,gD[r+476>>2]=x+(b*v+_*E+M*C)*de+_e,gD[r+480>>2]=f+(m*v+g*E+y*C)*de-he,gD[r+484>>2]=x+(b*v+_*E+M*C)*de-_e,gD[r+448>>2]=+gD[$+(me<<2)>>2],gD[r+452>>2]=+gD[$+(ge<<2)>>2],fe=0,be=4,ge=r+456|0,pe=r+384|0;t:for(;;){for(ue=r+448+(fe<<2)|0,ce=1-fe|0,me=-1;;){if((be|0)>0)for(w=+(me|0),Me=0,ye=ge,ve=pe;;){if(Se=ye+(fe<<2)|0,R=+gD[Se>>2],D=+gD[ue>>2],w*R<D){if(gD[ve>>2]=+gD[ye>>2],gD[ve+4>>2]=+gD[ye+4>>2],Me=Me+1|0,(Me&8|0)!=0){be=Me;break t}R=+gD[Se>>2],D=+gD[ue>>2],ve=ve+8|0}if(Se=ye,ye=ye+8|0,xe=(be|0)>1?ye:ge,P=+gD[xe+(fe<<2)>>2],w*R<D^w*P<D){if(_e=+gD[Se+(ce<<2)>>2],gD[ve+(ce<<2)>>2]=_e+(w*D-R)*((+gD[xe+(ce<<2)>>2]-_e)/(P-R)),gD[ve+(fe<<2)>>2]=w*+gD[ue>>2],Me=Me+1|0,(Me&8|0)!=0){be=Me;break t}ve=ve+8|0}if(be=be+-1|0,(be|0)<=0){be=Me;break}}else be=0;if(ye=(pe|0)==(r+384|0)?r+592|0:r+384|0,!((me|0)<0))break;ge=pe,pe=ye,me=me+2|0}if(fe=fe+1|0,!((fe|0)<2))break;ge=pe,pe=ye}if((pe|0)!=(r+384|0)&&Bw(r+384|0,pe|0,be<<3|0)|0,(be|0)<1)return void(bD=r);w=1/((m*v+g*E+y*C)*(b*S+_*T+M*A)-(b*v+_*E+M*C)*(m*S+g*T+y*A)),R=+gD[$+(ne<<2)>>2],D=+gD[oe>>2],P=+gD[re>>2],B=+gD[ie>>2],V=+gD[ee>>2],L=+gD[e>>2],k=+gD[te>>2],e=0,$=0;do xe=$<<1,I=+gD[r+384+(xe<<2)>>2],H=+gD[r+384+((xe|1)<<2)>>2],le=(b*S+_*T+M*A)*w*(I-f)-(m*S+g*T+y*A)*w*(H-x),_e=(m*v+g*E+y*C)*w*(H-x)-(b*v+_*E+M*C)*w*(I-f),xe=e*3|0,he=d+le*D+_e*P,gD[r+288+(xe<<2)>>2]=he,de=u+le*B+_e*V,gD[r+288+(xe+1<<2)>>2]=de,_e=p+le*L+_e*k,gD[r+288+(xe+2<<2)>>2]=_e,_e=R-(l*he+c*de+h*_e),gD[r+256+(e<<2)>>2]=_e,_e>=0&&(xe=e<<1,gD[r+384+(xe<<2)>>2]=I,gD[r+384+((xe|1)<<2)>>2]=H,e=e+1|0),$=$+1|0;while(($|0)!=(be|0));if((e|0)<1)return void(bD=r);if($=(e|0)<4?e:4,$=($|0)<1?1:$,(e|0)<=($|0)){if(t=(e|0)>0,z){if(!t)return void(bD=r);t=o+4|0,z=o+8|0,n=-n,a=-a,s=-s,$=0;do xe=$*3|0,gD[r+240>>2]=+gD[r+288+(xe<<2)>>2]+ +gD[o>>2],gD[r+244>>2]=+gD[r+288+(xe+1<<2)>>2]+ +gD[t>>2],gD[r+248>>2]=+gD[r+288+(xe+2<<2)>>2]+ +gD[z>>2],xe=fD[(fD[i>>2]|0)+16>>2]|0,gD[r+224>>2]=n,gD[r+228>>2]=a,gD[r+232>>2]=s,gD[r+236>>2]=0,IP[xe&15](i,r+224|0,r+240|0,-+gD[r+256+($<<2)>>2]),$=$+1|0;while(($|0)!=(e|0));return void(bD=r)}if(!t)return void(bD=r);z=o+4|0,$=o+8|0,l=-n,h=-a,c=-s,t=0;do xe=t*3|0,_e=+gD[r+256+(t<<2)>>2],gD[r+208>>2]=+gD[r+288+(xe<<2)>>2]+ +gD[o>>2]-n*_e,gD[r+212>>2]=+gD[r+288+(xe+1<<2)>>2]+ +gD[z>>2]-a*_e,gD[r+216>>2]=+gD[r+288+(xe+2<<2)>>2]+ +gD[$>>2]-s*_e,xe=fD[(fD[i>>2]|0)+16>>2]|0,gD[r+192>>2]=l,gD[r+196>>2]=h,gD[r+200>>2]=c,gD[r+204>>2]=0,IP[xe&15](i,r+192|0,r+208|0,-_e),t=t+1|0;while((t|0)!=(e|0));return void(bD=r)}if((e|0)>1)for(ee=1,te=0,l=+gD[r+256>>2];;){if(c=+gD[r+256+(ee<<2)>>2],ie=c>l,te=ie?ee:te,ee=ee+1|0,(ee|0)==(e|0))break;l=ie?c:l}else te=0;if((e|0)==1)p=+gD[r+384>>2],l=+gD[r+388>>2],t=115;else if((e|0)!=2){if(ee=e+-1|0,(ee|0)>0){f=0,p=0,u=0,ie=0;do xe=ie<<1,le=+gD[r+384+(xe<<2)>>2],he=+gD[r+384+(xe+3<<2)>>2],de=+gD[r+384+(xe+2<<2)>>2],_e=+gD[r+384+((xe|1)<<2)>>2],f+=le*he-de*_e,p+=(le+de)*(le*he-de*_e),u+=(he+_e)*(le*he-de*_e),ie=ie+1|0;while((ie|0)!=(ee|0))}else f=0,p=0,u=0;xe=e<<1,d=+gD[r+384+(xe+-2<<2)>>2],h=+gD[r+388>>2],c=+gD[r+384>>2],l=+gD[r+384+(xe+-1<<2)>>2],f+=d*h-c*l,f=+ED(+f)>1.1920928955078125e-7?1/(f*3):0xde0b6b000000000,(e|0)>0?(p=f*(p+(d*h-c*l)*(d+c)),l=f*(u+(d*h-c*l)*(l+h)),t=115):ee=0}else p=(+gD[r+384>>2]+ +gD[r+392>>2])*.5,l=(+gD[r+388>>2]+ +gD[r+396>>2])*.5,t=115;if((t|0)==115){t=0;do xe=t<<1,gD[r+592+(t<<2)>>2]=+BD(+(+gD[r+384+((xe|1)<<2)>>2]-l),+(+gD[r+384+(xe<<2)>>2]-p)),t=t+1|0;while((t|0)!=(e|0));t=0;do fD[r+560+(t<<2)>>2]=1,t=t+1|0;while((t|0)!=(e|0));ee=1}t=r+560+(te<<2)|0,fD[t>>2]=0,fD[r+160>>2]=te;t:do if(($|0)>1){if(l=+gD[r+592+(te<<2)>>2],ee)ee=r+164|0,t=1;else for(ee=r+164|0,e=1;;){if(fD[ee>>2]=te,fD[t>>2]=0,e=e+1|0,(e|0)==($|0))break t;ee=ee+4|0}for(;;){c=+(t|0)*(6.2831854820251465/+($|0))+l,c>3.1415927410125732&&(c+=-6.2831854820251465),fD[ee>>2]=te,re=te,ie=0,h=1e9;do{do if((fD[r+560+(ie<<2)>>2]|0)!=0){if(d=+ED(+(+gD[r+592+(ie<<2)>>2]-c)),d>3.1415927410125732&&(d=6.2831854820251465-d),!(d<h))break;fD[ee>>2]=ie,re=ie,h=d}while(0);ie=ie+1|0}while((ie|0)!=(e|0));if(fD[r+560+(re<<2)>>2]=0,t=t+1|0,(t|0)==($|0))break;ee=ee+4|0}}while(0);if(($|0)<=0)return void(bD=r);if(t=o+4|0,e=o+8|0,c=-s,l=-a,h=-n,z){z=0;do xe=fD[r+160+(z<<2)>>2]|0,gD[r+144>>2]=+gD[r+288+(xe*3<<2)>>2]+ +gD[o>>2],gD[r+148>>2]=+gD[r+288+((xe*3|0)+1<<2)>>2]+ +gD[t>>2],gD[r+152>>2]=+gD[r+288+((xe*3|0)+2<<2)>>2]+ +gD[e>>2],Se=fD[(fD[i>>2]|0)+16>>2]|0,gD[r+128>>2]=h,gD[r+132>>2]=l,gD[r+136>>2]=c,gD[r+140>>2]=0,IP[Se&15](i,r+128|0,r+144|0,-+gD[r+256+(xe<<2)>>2]),z=z+1|0;while((z|0)<($|0));return void(bD=r)}z=0;do Se=fD[r+160+(z<<2)>>2]|0,le=+gD[r+288+(Se*3<<2)>>2]+ +gD[o>>2],gD[r+144>>2]=le,he=+gD[r+288+((Se*3|0)+1<<2)>>2]+ +gD[t>>2],gD[r+148>>2]=he,de=+gD[r+288+((Se*3|0)+2<<2)>>2]+ +gD[e>>2],gD[r+152>>2]=de,xe=fD[(fD[i>>2]|0)+16>>2]|0,gD[r+112>>2]=h,gD[r+116>>2]=l,gD[r+120>>2]=c,gD[r+124>>2]=0,_e=+gD[r+256+(Se<<2)>>2],gD[r+96>>2]=le-n*_e,gD[r+100>>2]=he-_e*a,gD[r+104>>2]=de-_e*s,gD[r+108>>2]=0,IP[xe&15](i,r+112|0,r+96|0,-_e),z=z+1|0;while((z|0)<($|0));return void(bD=r)}function YM(t){t|=0}function QM(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function ZM(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(o=bD,bD=bD+32|0,n=(uD[t+28>>0]|0)!=0,r=n?i:e,i=n?e:i,e=fD[r+4>>2]|0,n=fD[e+16>>2]|0,a=fD[t+12>>2]|0,(a|0)<(n|0)){if((fD[t+16>>2]|0)<(n|0)){if((n|0)==0?(s=0,c=a):(fD[5004]=(fD[5004]|0)+1,s=Ew((n<<2|3)+16|0)|0,(s|0)==0?s=0:(fD[(s+19&-16)+-4>>2]=s,s=s+19&-16),c=fD[t+12>>2]|0),(c|0)>0){l=0;do h=s+(l<<2)|0,(h|0)!=0&&(fD[h>>2]=fD[(fD[t+20>>2]|0)+(l<<2)>>2]),l=l+1|0;while((l|0)!=(c|0))}l=fD[t+20>>2]|0,(l|0)!=0&&((uD[t+24>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[l+-4>>2]|0)),fD[t+20>>2]=0),uD[t+24>>0]=1,fD[t+20>>2]=s,fD[t+16>>2]=n,s=t+20|0}else s=t+20|0;do l=(fD[s>>2]|0)+(a<<2)|0,(l|0)!=0&&(fD[l>>2]=0),a=a+1|0;while((a|0)!=(n|0))}if(fD[t+12>>2]=n,(n|0)<=0)return void(bD=o);a=0;do(fD[e+64>>2]|0)==0?(l=fD[(fD[e+24>>2]|0)+(a*80|0)+64>>2]|0,c=fD[r+8>>2]|0,h=fD[r+12>>2]|0,fD[o>>2]=r,fD[o+4>>2]=l,fD[o+8>>2]=c,fD[o+12>>2]=h,fD[o+16>>2]=-1,fD[o+20>>2]=a,h=fD[t+4>>2]|0,h=uP[fD[(fD[h>>2]|0)+8>>2]&31](h,o,i,fD[t+32>>2]|0)|0,fD[(fD[t+20>>2]|0)+(a<<2)>>2]=h):fD[(fD[t+20>>2]|0)+(a<<2)>>2]=0,a=a+1|0;while((a|0)!=(n|0));bD=o}function $M(t){t|=0;var e=0;e=bD,tS(t),Cw(t),bD=e}function tS(t){t|=0;var e=0,i=0,r=0,o=0;if(e=bD,fD[t>>2]=18040,i=fD[t+12>>2]|0,(i|0)>0){r=0;do o=fD[(fD[t+20>>2]|0)+(r<<2)>>2]|0,(o|0)!=0&&(oP[fD[fD[o>>2]>>2]&511](o),o=fD[t+4>>2]|0,aP[fD[(fD[o>>2]|0)+60>>2]&127](o,fD[(fD[t+20>>2]|0)+(r<<2)>>2]|0)),r=r+1|0;while((r|0)!=(i|0))}return i=fD[t+20>>2]|0,(i|0)==0?(uD[t+24>>0]=1,fD[t+20>>2]=0,fD[t+12>>2]=0,o=t+16|0,fD[o>>2]=0,void(bD=e)):((uD[t+24>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+20>>2]=0,uD[t+24>>0]=1,fD[t+20>>2]=0,fD[t+12>>2]=0,o=t+16|0,fD[o>>2]=0,void(bD=e))}function eS(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0;if(n=bD,bD=bD+320|0,a=(uD[t+28>>0]|0)!=0,l=a?i:e,a=a?e:i,s=fD[l+4>>2]|0,(fD[s+68>>2]|0)!=(fD[t+40>>2]|0)){if(d=fD[t+12>>2]|0,(d|0)>0){h=0;do c=fD[(fD[t+20>>2]|0)+(h<<2)>>2]|0,(c|0)!=0&&(oP[fD[fD[c>>2]>>2]&511](c),f=fD[t+4>>2]|0,aP[fD[(fD[f>>2]|0)+60>>2]&127](f,fD[(fD[t+20>>2]|0)+(h<<2)>>2]|0)),h=h+1|0;while((h|0)!=(d|0))}ZM(t,e,i)}if(e=fD[s+64>>2]|0,c=fD[t+4>>2]|0,u=fD[t+20>>2]|0,h=fD[t+32>>2]|0,fD[n+280>>2]=18120,fD[n+284>>2]=l,fD[n+288>>2]=a,fD[n+292>>2]=c,fD[n+296>>2]=r,fD[n+300>>2]=o,fD[n+304>>2]=u,fD[n+308>>2]=h,r=n+272|0,uD[r>>0]=1,h=n+268|0,fD[h>>2]=0,c=n+260|0,fD[c>>2]=0,fD[n+264>>2]=0,i=fD[t+12>>2]|0,(i|0)>0){for(d=0;;){if(u=fD[u+(d<<2)>>2]|0,(u|0)!=0){if(aP[fD[(fD[u>>2]|0)+16>>2]&127](u,n+256|0),i=fD[c>>2]|0,(i|0)>0){p=i,i=0;do u=fD[(fD[h>>2]|0)+(i<<2)>>2]|0,(fD[u+748>>2]|0)!=0&&(fD[o+4>>2]=u,f=fD[u+740>>2]|0,p=fD[(fD[o+8>>2]|0)+8>>2]|0,(f|0)==(p|0)?fw(u,f+4|0,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0):fw(u,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0,p+4|0),fD[o+4>>2]=0,p=fD[c>>2]|0),i=i+1|0;while((i|0)<(p|0));i=p}if((i|0)<0){if((fD[n+264>>2]|0)<0){if(p=fD[h>>2]|0,(i|0)>0){u=0;do(u|0)!=0&&(fD[0+(u<<2)>>2]=fD[p+(u<<2)>>2]),u=u+1|0;while((u|0)!=(i|0))}(p|0)!=0&&((uD[r>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[p+-4>>2]|0)),fD[h>>2]=0),uD[r>>0]=1,fD[h>>2]=0,fD[n+264>>2]=0}do u=(fD[h>>2]|0)+(i<<2)|0,(u|0)!=0&&(fD[u>>2]=0),i=i+1|0;while((i|0)!=0)}fD[c>>2]=0,i=fD[t+12>>2]|0}if(d=d+1|0,(d|0)>=(i|0))break;u=fD[t+20>>2]|0}o=fD[h>>2]|0,(o|0)!=0&&((uD[r>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[h>>2]=0)}if(uD[r>>0]=1,fD[h>>2]=0,fD[c>>2]=0,fD[n+264>>2]=0,(e|0)==0){if(o=fD[t+12>>2]|0,!((o|0)>0))return void(bD=n);e=0;do iS(n+280|0,fD[(fD[s+24>>2]|0)+(e*80|0)+64>>2]|0,e),e=e+1|0;while((e|0)<(o|0))}else f=fD[l+12>>2]|0,R=+gD[f>>2],w=+gD[f+16>>2],A=+gD[f+32>>2],C=+gD[f+4>>2],E=+gD[f+20>>2],T=+gD[f+36>>2],v=+gD[f+8>>2],y=+gD[f+24>>2],m=+gD[f+40>>2],x=-+gD[f+48>>2],S=-+gD[f+52>>2],M=-+gD[f+56>>2],f=fD[a+12>>2]|0,O=+gD[f>>2],I=+gD[f+16>>2],H=+gD[f+32>>2],k=+gD[f+4>>2],L=+gD[f+20>>2],V=+gD[f+36>>2],B=+gD[f+8>>2],P=+gD[f+24>>2],D=+gD[f+40>>2],b=+gD[f+48>>2],g=+gD[f+52>>2],_=+gD[f+56>>2],gD[n+160>>2]=R*O+w*I+A*H,gD[n+164>>2]=R*k+w*L+A*V,gD[n+168>>2]=R*B+w*P+A*D,gD[n+172>>2]=0,gD[n+176>>2]=C*O+E*I+T*H,gD[n+180>>2]=C*k+E*L+T*V,gD[n+184>>2]=C*B+E*P+T*D,gD[n+188>>2]=0,gD[n+192>>2]=v*O+y*I+m*H,gD[n+196>>2]=v*k+y*L+m*V,gD[n+200>>2]=v*B+y*P+m*D,gD[n+204>>2]=0,gD[n+208>>2]=R*x+w*S+A*M+(R*b+w*g+A*_),gD[n+212>>2]=C*x+E*S+T*M+(C*b+E*g+T*_),gD[n+216>>2]=v*x+y*S+m*M+(v*b+y*g+m*_),gD[n+220>>2]=0,f=fD[a+4>>2]|0,GP[fD[(fD[f>>2]|0)+8>>2]&127](f,n+160|0,n+240|0,n+224|0),fD[n+128>>2]=fD[n+240>>2],fD[n+132>>2]=fD[n+244>>2],fD[n+136>>2]=fD[n+248>>2],fD[n+140>>2]=fD[n+252>>2],fD[n+144>>2]=fD[n+224>>2],fD[n+148>>2]=fD[n+228>>2],fD[n+152>>2]=fD[n+232>>2],fD[n+156>>2]=fD[n+236>>2],WE(fD[e>>2]|0,n+128|0,n+280|0);if(o=fD[t+12>>2]|0,(o|0)<=0)return void(bD=n);e=0;do{do if((fD[(fD[t+20>>2]|0)+(e<<2)>>2]|0)!=0){if(u=fD[s+24>>2]|0,f=fD[u+(e*80|0)+64>>2]|0,p=fD[l+12>>2]|0,y=+gD[p>>2],b=+gD[p+4>>2],v=+gD[p+8>>2],M=+gD[p+16>>2],S=+gD[p+20>>2],x=+gD[p+24>>2],D=+gD[p+32>>2],B=+gD[p+36>>2],L=+gD[p+40>>2],T=+gD[u+(e*80|0)>>2],E=+gD[u+(e*80|0)+16>>2],C=+gD[u+(e*80|0)+32>>2],A=+gD[u+(e*80|0)+4>>2],w=+gD[u+(e*80|0)+20>>2],R=+gD[u+(e*80|0)+36>>2],P=+gD[u+(e*80|0)+8>>2],V=+gD[u+(e*80|0)+24>>2],k=+gD[u+(e*80|0)+40>>2],m=+gD[u+(e*80|0)+48>>2],g=+gD[u+(e*80|0)+52>>2],O=+gD[u+(e*80|0)+56>>2],H=+gD[p+48>>2]+(y*m+b*g+v*O),I=+gD[p+52>>2]+(M*m+S*g+x*O),O=+gD[p+56>>2]+(D*m+B*g+L*O),gD[n+64>>2]=y*T+b*E+v*C,gD[n+68>>2]=y*A+b*w+v*R,gD[n+72>>2]=y*P+b*V+v*k,gD[n+76>>2]=0,gD[n+80>>2]=M*T+S*E+x*C,gD[n+84>>2]=M*A+S*w+x*R,gD[n+88>>2]=M*P+S*V+x*k,gD[n+92>>2]=0,gD[n+96>>2]=D*T+B*E+L*C,gD[n+100>>2]=D*A+B*w+L*R,gD[n+104>>2]=D*P+B*V+L*k,gD[n+108>>2]=0,gD[n+112>>2]=H,gD[n+116>>2]=I,gD[n+120>>2]=O,gD[n+124>>2]=0,GP[fD[(fD[f>>2]|0)+8>>2]&127](f,n+64|0,n+48|0,n+32|0),f=fD[a+4>>2]|0,GP[fD[(fD[f>>2]|0)+8>>2]&127](f,fD[a+12>>2]|0,n+16|0,n),r=(+gD[n+48>>2]>+gD[n>>2]?!0:+gD[n+32>>2]<+gD[n+16>>2])?0:1,(+gD[n+56>>2]>+gD[n+8>>2]?0:!(+gD[n+40>>2]<+gD[n+24>>2]))||(r=0),+gD[n+52>>2]>+gD[n+4>>2]?0:!(+gD[n+36>>2]<+gD[n+20>>2]|r^1))break;f=fD[(fD[t+20>>2]|0)+(e<<2)>>2]|0,oP[fD[fD[f>>2]>>2]&511](f),f=fD[t+4>>2]|0,aP[fD[(fD[f>>2]|0)+60>>2]&127](f,fD[(fD[t+20>>2]|0)+(e<<2)>>2]|0),fD[(fD[t+20>>2]|0)+(e<<2)>>2]=0}while(0);e=e+1|0}while((e|0)<(o|0));bD=n}function iS(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0;return r=bD,bD=bD+160|0,o=fD[t+4>>2]|0,n=fD[o+12>>2]|0,C=+gD[n>>2],E=+gD[n+4>>2],T=+gD[n+8>>2],x=+gD[n+16>>2],S=+gD[n+20>>2],M=+gD[n+24>>2],f=+gD[n+32>>2],u=+gD[n+36>>2],h=+gD[n+40>>2],o=fD[(fD[o+4>>2]|0)+24>>2]|0,v=+gD[o+(i*80|0)>>2],b=+gD[o+(i*80|0)+16>>2],y=+gD[o+(i*80|0)+32>>2],g=+gD[o+(i*80|0)+4>>2],m=+gD[o+(i*80|0)+20>>2],_=+gD[o+(i*80|0)+36>>2],p=+gD[o+(i*80|0)+8>>2],d=+gD[o+(i*80|0)+24>>2],c=+gD[o+(i*80|0)+40>>2],w=+gD[o+(i*80|0)+48>>2],A=+gD[o+(i*80|0)+52>>2],a=+gD[o+(i*80|0)+56>>2],l=+gD[n+48>>2]+(C*w+E*A+T*a),s=+gD[n+52>>2]+(x*w+S*A+M*a),a=+gD[n+56>>2]+(f*w+u*A+h*a),gD[r+88>>2]=C*v+E*b+T*y,gD[r+92>>2]=C*g+E*m+T*_,gD[r+96>>2]=C*p+E*d+T*c,gD[r+100>>2]=0,gD[r+104>>2]=x*v+S*b+M*y,gD[r+108>>2]=x*g+S*m+M*_,gD[r+112>>2]=x*p+S*d+M*c,gD[r+116>>2]=0,gD[r+120>>2]=f*v+u*b+h*y,gD[r+124>>2]=f*g+u*m+h*_,gD[r+128>>2]=f*p+u*d+h*c,gD[r+132>>2]=0,gD[r+136>>2]=l,gD[r+140>>2]=s,gD[r+144>>2]=a,gD[r+148>>2]=0,GP[fD[(fD[e>>2]|0)+8>>2]&127](e,r+88|0,r+72|0,r+56|0),n=fD[t+8>>2]|0,o=fD[n+4>>2]|0,GP[fD[(fD[o>>2]|0)+8>>2]&127](o,fD[n+12>>2]|0,r+40|0,r+24|0),o=(+gD[r+72>>2]>+gD[r+24>>2]?!0:+gD[r+56>>2]<+gD[r+40>>2])?0:1,(+gD[r+80>>2]>+gD[r+32>>2]?0:!(+gD[r+64>>2]<+gD[r+48>>2]))||(o=0),+gD[r+76>>2]>+gD[r+28>>2]?void(bD=r):+gD[r+60>>2]<+gD[r+44>>2]|o^1?void(bD=r):(o=fD[t+4>>2]|0,n=fD[o+8>>2]|0,fD[r>>2]=o,fD[r+4>>2]=e,fD[r+8>>2]=n,fD[r+12>>2]=r+88,fD[r+16>>2]=-1,fD[r+20>>2]=i,(fD[(fD[t+24>>2]|0)+(i<<2)>>2]|0)==0?(e=fD[t+12>>2]|0,e=uP[fD[(fD[e>>2]|0)+8>>2]&31](e,r,fD[t+8>>2]|0,fD[t+28>>2]|0)|0,fD[(fD[t+24>>2]|0)+(i<<2)>>2]=e,e=fD[t+4>>2]|0):e=o,n=fD[t+20>>2]|0,o=fD[n+8>>2]|0,(fD[o+8>>2]|0)==(fD[e+8>>2]|0)?(fD[n+8>>2]=r,n=fD[t+20>>2]|0,OP[fD[(fD[n>>2]|0)+8>>2]&127](n,-1,i)):(o=fD[n+12>>2]|0,fD[n+12>>2]=r,n=fD[t+20>>2]|0,OP[fD[(fD[n>>2]|0)+12>>2]&127](n,-1,i)),i=fD[(fD[t+24>>2]|0)+(i<<2)>>2]|0,iP[fD[(fD[i>>2]|0)+8>>2]&31](i,r,fD[t+8>>2]|0,fD[t+16>>2]|0,fD[t+20>>2]|0),i=fD[t+20>>2]|0,(fD[(fD[i+8>>2]|0)+8>>2]|0)==(fD[(fD[t+4>>2]|0)+8>>2]|0)?(fD[i+8>>2]=o,void(bD=r)):(fD[i+12>>2]=o,void(bD=r)))}function rS(t){t|=0}function oS(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0;if(n=bD,_=(uD[t+28>>0]|0)!=0,a=_?i:e,e=_?e:i,_=fD[t+12>>2]|0,(_|0)<=0)return C=1,bD=n,+C;c=(fD[a+192>>2]|0)+24|0,h=+gD[a+4>>2],d=+gD[a+8>>2],u=+gD[a+12>>2],S=+gD[a+16>>2],p=+gD[a+20>>2],f=+gD[a+24>>2],s=+gD[a+28>>2],x=+gD[a+32>>2],m=+gD[a+36>>2],g=+gD[a+40>>2],y=+gD[a+44>>2],T=+gD[a+48>>2],b=+gD[a+52>>2],v=+gD[a+56>>2],M=+gD[a+60>>2],E=+gD[a+64>>2],i=fD[a+260>>2]|0,C=1,l=0;do w=fD[c>>2]|0,J=+gD[w+(l*80|0)>>2],O=+gD[w+(l*80|0)+16>>2],I=+gD[w+(l*80|0)+32>>2],H=+gD[w+(l*80|0)+4>>2],k=+gD[w+(l*80|0)+20>>2],L=+gD[w+(l*80|0)+36>>2],V=+gD[w+(l*80|0)+8>>2],B=+gD[w+(l*80|0)+24>>2],P=+gD[w+(l*80|0)+40>>2],D=+gD[w+(l*80|0)+48>>2],R=+gD[w+(l*80|0)+52>>2],A=+gD[w+(l*80|0)+56>>2],fD[a+260>>2]=i+1,gD[a+4>>2]=h*J+d*O+u*I,gD[a+8>>2]=h*H+d*k+u*L,gD[a+12>>2]=h*V+d*B+u*P,gD[a+16>>2]=0,gD[a+20>>2]=p*J+f*O+s*I,gD[a+24>>2]=p*H+f*k+s*L,gD[a+28>>2]=p*V+f*B+s*P,gD[a+32>>2]=0,gD[a+36>>2]=m*J+g*O+y*I,gD[a+40>>2]=m*H+g*k+y*L,gD[a+44>>2]=m*V+g*B+y*P,gD[a+48>>2]=0,gD[a+52>>2]=b+(h*D+d*R+u*A),gD[a+56>>2]=v+(p*D+f*R+s*A),gD[a+60>>2]=M+(m*D+g*R+y*A),gD[a+64>>2]=0,w=fD[(fD[t+20>>2]|0)+(l<<2)>>2]|0,A=+mP[fD[(fD[w>>2]|0)+12>>2]&15](w,a,e,r,o),C=A<C?A:C,i=(fD[a+260>>2]|0)+1|0,fD[a+260>>2]=i,gD[a+4>>2]=h,gD[a+8>>2]=d,gD[a+12>>2]=u,gD[a+16>>2]=S,gD[a+20>>2]=p,gD[a+24>>2]=f,gD[a+28>>2]=s,gD[a+32>>2]=x,gD[a+36>>2]=m,gD[a+40>>2]=g,gD[a+44>>2]=y,gD[a+48>>2]=T,gD[a+52>>2]=b,gD[a+56>>2]=v,gD[a+60>>2]=M,gD[a+64>>2]=E,l=l+1|0;while((l|0)!=(_|0));return bD=n,+C}function nS(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;if(i=bD,o=fD[t+12>>2]|0,(o|0)<=0)return void(bD=i);r=0;do n=fD[(fD[t+20>>2]|0)+(r<<2)>>2]|0,(n|0)!=0&&(aP[fD[(fD[n>>2]|0)+16>>2]&127](n,e),o=fD[t+12>>2]|0),r=r+1|0;while((r|0)<(o|0));bD=i}function aS(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function sS(t,e){t|=0,e|=0;var i=0;i=bD,e=fD[e+36>>2]|0,iS(t,fD[(fD[(fD[(fD[t+4>>2]|0)+4>>2]|0)+24>>2]|0)+(e*80|0)+64>>2]|0,e),bD=i}function lS(t){t|=0;var e=0;e=bD,cS(t),Cw(t),bD=e}function cS(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0;if(e=bD,fD[t>>2]=18208,r=fD[t+8>>2]|0,i=fD[r+8>>2]|0,(i|0)>0){o=0;do n=fD[(fD[r+16>>2]|0)+(o*12|0)+8>>2]|0,(n|0)!=0&&(oP[fD[fD[n>>2]>>2]&511](n),a=fD[t+4>>2]|0,aP[fD[(fD[a>>2]|0)+60>>2]&127](a,n)),o=o+1|0;while((o|0)!=(i|0));r=fD[t+8>>2]|0}return _x(r),i=fD[t+8>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+8>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+24>>2]|0,(i|0)==0?(uD[t+28>>0]=1,fD[t+24>>2]=0,fD[t+16>>2]=0,a=t+20|0,fD[a>>2]=0,void(bD=e)):((uD[t+28>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+24>>2]=0,uD[t+28>>0]=1,fD[t+24>>2]=0,fD[t+16>>2]=0,a=t+20|0,fD[a>>2]=0,void(bD=e))}function hS(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;if(i=bD,t=fD[t+8>>2]|0,o=fD[t+8>>2]|0,(o|0)<=0)return void(bD=i);r=0;do n=fD[(fD[t+16>>2]|0)+(r*12|0)+8>>2]|0,(n|0)!=0&&(aP[fD[(fD[n>>2]|0)+16>>2]&127](n,e),o=fD[t+8>>2]|0),r=r+1|0;while((r|0)<(o|0));bD=i}function dS(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0,ie=0,re=0,oe=0,ne=0,ae=0,se=0,le=0,ce=0;if(n=bD,bD=bD+192|0,a=fD[e+4>>2]|0,l=fD[i+4>>2]|0,(fD[a+68>>2]|0)==(fD[t+40>>2]|0)?(fD[l+68>>2]|0)==(fD[t+44>>2]|0):0)c=t+8|0;else{if(c=fD[t+8>>2]|0,U=fD[c+8>>2]|0,(U|0)>0){j=0;do z=fD[(fD[c+16>>2]|0)+(j*12|0)+8>>2]|0,(z|0)!=0&&(oP[fD[fD[z>>2]>>2]&511](z),Q=fD[t+4>>2]|0,aP[fD[(fD[Q>>2]|0)+60>>2]&127](Q,z)),j=j+1|0;while((j|0)!=(U|0));c=fD[t+8>>2]|0}_x(c),c=t+8|0}if(z=n+180|0,uD[z>>0]=1,j=n+176|0,fD[j>>2]=0,U=n+168|0,fD[U>>2]=0,fD[n+172>>2]=0,W=fD[c>>2]|0,q=fD[W+8>>2]|0,(q|0)>0){X=0;do{if(K=fD[(fD[W+16>>2]|0)+(X*12|0)+8>>2]|0,(K|0)!=0){if(aP[fD[(fD[K>>2]|0)+16>>2]&127](K,n+164|0),Y=fD[U>>2]|0,(Y|0)>0){q=0;do K=fD[(fD[j>>2]|0)+(q<<2)>>2]|0,(fD[K+748>>2]|0)!=0&&(fD[o+4>>2]=K,Y=fD[K+740>>2]|0,Q=fD[(fD[o+8>>2]|0)+8>>2]|0,(Y|0)==(Q|0)?fw(K,Y+4|0,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0):fw(K,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0,Q+4|0),fD[o+4>>2]=0,Y=fD[U>>2]|0),q=q+1|0;while((q|0)<(Y|0))}if((Y|0)<0){if((fD[n+172>>2]|0)<0){if(q=fD[j>>2]|0,(Y|0)>0){K=0;do(K|0)!=0&&(fD[0+(K<<2)>>2]=fD[q+(K<<2)>>2]),K=K+1|0;while((K|0)!=(Y|0))}(q|0)!=0&&((uD[z>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[q+-4>>2]|0)),fD[j>>2]=0),uD[z>>0]=1,fD[j>>2]=0,fD[n+172>>2]=0}do q=(fD[j>>2]|0)+(Y<<2)|0,(q|0)!=0&&(fD[q>>2]=0),Y=Y+1|0;while((Y|0)!=0)}fD[U>>2]=0,q=fD[W+8>>2]|0}X=X+1|0}while((X|0)<(q|0));W=fD[j>>2]|0,(W|0)!=0&&((uD[z>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[W+-4>>2]|0)),fD[j>>2]=0)}if(uD[z>>0]=1,fD[j>>2]=0,fD[U>>2]=0,fD[n+172>>2]=0,Y=fD[a+64>>2]|0,Q=fD[l+64>>2]|0,X=fD[t+4>>2]|0,q=fD[c>>2]|0,K=fD[t+32>>2]|0,fD[n+128>>2]=18296,fD[n+132>>2]=0,fD[n+136>>2]=e,fD[n+140>>2]=i,fD[n+144>>2]=X,fD[n+148>>2]=r,fD[n+152>>2]=o,fD[n+156>>2]=q,fD[n+160>>2]=K,r=fD[e+12>>2]|0,M=+gD[r>>2],x=+gD[r+16>>2],E=+gD[r+32>>2],_=+gD[r+4>>2],f=+gD[r+20>>2],p=+gD[r+36>>2],u=+gD[r+8>>2],d=+gD[r+24>>2],h=+gD[r+40>>2],S=-+gD[r+48>>2],T=-+gD[r+52>>2],C=-+gD[r+56>>2],r=fD[i+12>>2]|0,D=+gD[r>>2],P=+gD[r+16>>2],B=+gD[r+32>>2],V=+gD[r+4>>2],v=+gD[r+20>>2],b=+gD[r+36>>2],y=+gD[r+8>>2],g=+gD[r+24>>2],m=+gD[r+40>>2],A=+gD[r+48>>2],w=+gD[r+52>>2],R=+gD[r+56>>2],r=fD[Y>>2]|0,o=fD[Q>>2]|0,!((r|0)==0|(o|0)==0)){fD[5004]=(fD[5004]|0)+1,X=Ew(1043)|0,fD[(X+19&-16)+-4>>2]=X,fD[(X+19&-16)>>2]=r,fD[(X+19&-16)+4>>2]=o,G=+ED(+(M*D+x*P+E*B)),F=+ED(+(M*V+x*v+E*b)),N=+ED(+(M*y+x*g+E*m)),L=+ED(+(_*D+f*P+p*B)),J=+ED(+(_*V+f*v+p*b)),O=+ED(+(_*y+f*g+p*m)),I=+ED(+(u*D+d*P+h*B)),H=+ED(+(u*V+d*v+h*b)),k=+ED(+(u*y+d*g+h*m)),X=X+19&-16,U=128,q=128,r=1,W=124;do{o=r+-1|0,j=fD[X+(o<<3)>>2]|0,z=fD[X+(o<<3)+4>>2]|0,le=+gD[z+16>>2],se=+gD[z>>2],ae=+gD[z+20>>2],ne=+gD[z+4>>2],oe=+gD[z+24>>2],Z=+gD[z+8>>2],re=M*S+x*T+E*C+(M*A+x*w+E*R)+((M*D+x*P+E*B)*(le+se)*.5+(M*V+x*v+E*b)*(ae+ne)*.5+(M*y+x*g+E*m)*(oe+Z)*.5),ee=_*S+f*T+p*C+(_*A+f*w+p*R)+((_*D+f*P+p*B)*(le+se)*.5+(_*V+f*v+p*b)*(ae+ne)*.5+(_*y+f*g+p*m)*(oe+Z)*.5),$=u*S+d*T+h*C+(u*A+d*w+h*R)+((u*D+d*P+h*B)*(le+se)*.5+(u*V+d*v+h*b)*(ae+ne)*.5+(u*y+d*g+h*m)*(oe+Z)*.5),ie=((le-se)*.5+0)*G+((ae-ne)*.5+0)*F+((oe-Z)*.5+0)*N,te=((le-se)*.5+0)*L+((ae-ne)*.5+0)*J+((oe-Z)*.5+0)*O,Z=((le-se)*.5+0)*I+((ae-ne)*.5+0)*H+((oe-Z)*.5+0)*k;do{if(((((+gD[j>>2]<=ie+re?+gD[j+16>>2]>=re-ie:0)?+gD[j+4>>2]<=ee+te:0)?+gD[j+20>>2]>=ee-te:0)?+gD[j+8>>2]<=$+Z:0)?+gD[j+24>>2]>=$-Z:0){if((o|0)>(W|0)){if(W=U<<1,(U|0)<(W|0)&(q|0)<(W|0)){if((U|0)!=0){if(fD[5004]=(fD[5004]|0)+1,q=Ew((U<<4|3)+16|0)|0,(q|0)==0?q=0:(fD[(q+19&-16)+-4>>2]=q,q=q+19&-16),(U|0)>0){K=0;do Y=q+(K<<3)|0,(Y|0)!=0&&(ce=X+(K<<3)|0,Q=fD[ce+4>>2]|0,fD[Y>>2]=fD[ce>>2],fD[Y+4>>2]=Q),K=K+1|0;while((K|0)!=(U|0))}}else q=0;(X|0)==0?(X=q,q=W):(fD[5006]=(fD[5006]|0)+1,Cw(fD[X+-4>>2]|0),X=q,q=W)}U=W,W=W+-4|0}if(K=(fD[z+40>>2]|0)!=0,(fD[j+40>>2]|0)==0){if(K){ce=fD[z+36>>2]|0,Q=X+(o<<3)|0,fD[Q>>2]=j,fD[Q+4>>2]=ce,Q=fD[z+40>>2]|0,ce=X+(r<<3)|0,fD[ce>>2]=j,fD[ce+4>>2]=Q,r=r+1|0;break}OP[fD[(fD[n+128>>2]|0)+8>>2]&127](n+128|0,j,z),r=o;break}if(o=X+(o<<3)|0,Y=fD[j+36>>2]|0,K){Q=fD[z+36>>2]|0,fD[o>>2]=Y,fD[o+4>>2]=Q,Q=fD[z+36>>2]|0,ce=X+(r<<3)|0,fD[ce>>2]=fD[j+40>>2],fD[ce+4>>2]=Q,ce=fD[z+40>>2]|0,Q=X+(r+1<<3)|0,fD[Q>>2]=fD[j+36>>2],fD[Q+4>>2]=ce,Q=fD[z+40>>2]|0,ce=X+(r+2<<3)|0,fD[ce>>2]=fD[j+40>>2],fD[ce+4>>2]=Q,r=r+3|0;break}fD[o>>2]=Y,fD[o+4>>2]=z,ce=X+(r<<3)|0,fD[ce>>2]=fD[j+40>>2],fD[ce+4>>2]=z,r=r+1|0;break}r=o}while(0)}while((r|0)!=0);(X|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[X+-4>>2]|0))}if(r=fD[c>>2]|0,(fD[r+8>>2]|0)>0){o=0;do{j=fD[r+16>>2]|0,z=fD[j+(o*12|0)+8>>2]|0;do if((z|0)!=0){if(ce=fD[j+(o*12|0)>>2]|0,Q=fD[a+24>>2]|0,Y=fD[Q+(ce*80|0)+64>>2]|0,K=fD[e+12>>2]|0,le=+gD[K>>2],B=+gD[K+4>>2],P=+gD[K+8>>2],ne=+gD[K+16>>2],re=+gD[K+20>>2],ee=+gD[K+24>>2],oe=+gD[K+32>>2],te=+gD[K+36>>2],I=+gD[K+40>>2],$=+gD[Q+(ce*80|0)>>2],Z=+gD[Q+(ce*80|0)+16>>2],G=+gD[Q+(ce*80|0)+32>>2],F=+gD[Q+(ce*80|0)+4>>2],N=+gD[Q+(ce*80|0)+20>>2],J=+gD[Q+(ce*80|0)+36>>2],ie=+gD[Q+(ce*80|0)+8>>2],O=+gD[Q+(ce*80|0)+24>>2],H=+gD[Q+(ce*80|0)+40>>2],se=+gD[Q+(ce*80|0)+48>>2],ae=+gD[Q+(ce*80|0)+52>>2],V=+gD[Q+(ce*80|0)+56>>2],k=+gD[K+48>>2]+(le*se+B*ae+P*V),L=+gD[K+52>>2]+(ne*se+re*ae+ee*V),V=+gD[K+56>>2]+(oe*se+te*ae+I*V),gD[n>>2]=le*$+B*Z+P*G,gD[n+4>>2]=le*F+B*N+P*J,gD[n+8>>2]=le*ie+B*O+P*H,gD[n+12>>2]=0,gD[n+16>>2]=ne*$+re*Z+ee*G,gD[n+20>>2]=ne*F+re*N+ee*J,gD[n+24>>2]=ne*ie+re*O+ee*H,gD[n+28>>2]=0,gD[n+32>>2]=oe*$+te*Z+I*G,gD[n+36>>2]=oe*F+te*N+I*J,gD[n+40>>2]=oe*ie+te*O+I*H,gD[n+44>>2]=0,gD[n+48>>2]=k,gD[n+52>>2]=L,gD[n+56>>2]=V,gD[n+60>>2]=0,GP[fD[(fD[Y>>2]|0)+8>>2]&127](Y,n,n+112|0,n+96|0),Y=fD[(fD[r+16>>2]|0)+(o*12|0)+4>>2]|0,K=fD[l+24>>2]|0,ce=fD[K+(Y*80|0)+64>>2]|0,Q=fD[i+12>>2]|0,V=+gD[Q>>2],L=+gD[Q+4>>2],k=+gD[Q+8>>2],H=+gD[Q+16>>2],I=+gD[Q+20>>2],O=+gD[Q+24>>2],te=+gD[Q+32>>2],ie=+gD[Q+36>>2],oe=+gD[Q+40>>2],J=+gD[K+(Y*80|0)>>2],N=+gD[K+(Y*80|0)+16>>2],F=+gD[K+(Y*80|0)+32>>2],G=+gD[K+(Y*80|0)+4>>2],Z=+gD[K+(Y*80|0)+20>>2],$=+gD[K+(Y*80|0)+36>>2],ee=+gD[K+(Y*80|0)+8>>2],re=+gD[K+(Y*80|0)+24>>2],ne=+gD[K+(Y*80|0)+40>>2],P=+gD[K+(Y*80|0)+48>>2],B=+gD[K+(Y*80|0)+52>>2],le=+gD[K+(Y*80|0)+56>>2],ae=+gD[Q+48>>2]+(V*P+L*B+k*le),se=+gD[Q+52>>2]+(H*P+I*B+O*le),le=+gD[Q+56>>2]+(te*P+ie*B+oe*le),gD[n>>2]=V*J+L*N+k*F,gD[n+4>>2]=V*G+L*Z+k*$,gD[n+8>>2]=V*ee+L*re+k*ne,gD[n+12>>2]=0,gD[n+16>>2]=H*J+I*N+O*F,gD[n+20>>2]=H*G+I*Z+O*$,gD[n+24>>2]=H*ee+I*re+O*ne,gD[n+28>>2]=0,gD[n+32>>2]=te*J+ie*N+oe*F,gD[n+36>>2]=te*G+ie*Z+oe*$,gD[n+40>>2]=te*ee+ie*re+oe*ne,gD[n+44>>2]=0,gD[n+48>>2]=ae,gD[n+52>>2]=se,gD[n+56>>2]=le,gD[n+60>>2]=0,GP[fD[(fD[ce>>2]|0)+8>>2]&127](ce,n,n+80|0,n+64|0),j=(+gD[n+112>>2]>+gD[n+64>>2]?!0:+gD[n+96>>2]<+gD[n+80>>2])?0:1,(+gD[n+120>>2]>+gD[n+72>>2]?0:!(+gD[n+104>>2]<+gD[n+88>>2]))||(j=0),+gD[n+116>>2]>+gD[n+68>>2]?0:!(+gD[n+100>>2]<+gD[n+84>>2]|j^1))break;
if(oP[fD[fD[z>>2]>>2]&511](z),j=fD[t+4>>2]|0,aP[fD[(fD[j>>2]|0)+60>>2]&127](j,z),j=fD[r+16>>2]|0,z=fD[j+(o*12|0)>>2]|0,j=fD[j+(o*12|0)+4>>2]|0,q=fD[t+16>>2]|0,(q|0)==(fD[t+20>>2]|0)?(s=(q|0)==0?1:q<<1,(q|0)<(s|0)):0){if((s|0)==0?U=0:(fD[5004]=(fD[5004]|0)+1,U=Ew((s*12|3)+16|0)|0,(U|0)==0?U=0:(fD[(U+19&-16)+-4>>2]=U,U=U+19&-16),q=fD[t+16>>2]|0),(q|0)>0){X=0;do W=U+(X*12|0)|0,(W|0)!=0&&(ce=(fD[t+24>>2]|0)+(X*12|0)|0,fD[W+0>>2]=fD[ce+0>>2],fD[W+4>>2]=fD[ce+4>>2],fD[W+8>>2]=fD[ce+8>>2]),X=X+1|0;while((X|0)!=(q|0))}W=fD[t+24>>2]|0,(W|0)!=0&&((uD[t+28>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[W+-4>>2]|0)),fD[t+24>>2]=0),uD[t+28>>0]=1,fD[t+24>>2]=U,fD[t+20>>2]=s,q=fD[t+16>>2]|0}W=fD[t+24>>2]|0,U=W+(q*12|0)|0,(U|0)!=0&&(fD[U>>2]=z,fD[W+(q*12|0)+4>>2]=j,fD[W+(q*12|0)+8>>2]=0,q=fD[t+16>>2]|0),fD[t+16>>2]=q+1}while(0);o=o+1|0}while((o|0)<(fD[r+8>>2]|0));e=t+24|0,i=t+16|0}else e=t+24|0,i=t+16|0;if((fD[i>>2]|0)>0){a=0;do Q=fD[c>>2]|0,ce=fD[e>>2]|0,gP[fD[(fD[Q>>2]|0)+8>>2]&31](Q,fD[ce+(a*12|0)>>2]|0,fD[ce+(a*12|0)+4>>2]|0)|0,a=a+1|0;while((a|0)<(fD[i>>2]|0))}return a=fD[e>>2]|0,(a|0)==0?(uD[t+28>>0]=1,fD[e>>2]=0,fD[i>>2]=0,ce=t+20|0,fD[ce>>2]=0,void(bD=n)):((uD[t+28>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[e>>2]=0,uD[t+28>>0]=1,fD[e>>2]=0,fD[i>>2]=0,ce=t+20|0,fD[ce>>2]=0,void(bD=n))}function uS(t){t|=0}function pS(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,0}function fS(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function _S(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0;if(o=bD,bD=bD+240|0,fD[t+4>>2]=(fD[t+4>>2]|0)+1,e=fD[e+36>>2]|0,i=fD[i+36>>2]|0,l=fD[t+8>>2]|0,V=fD[(fD[l+4>>2]|0)+24>>2]|0,a=fD[V+(e*80|0)+64>>2]|0,B=(fD[(fD[t+12>>2]|0)+4>>2]|0)+24|0,s=fD[(fD[B>>2]|0)+(i*80|0)+64>>2]|0,l=fD[l+12>>2]|0,c=+gD[l>>2],D=+gD[l+4>>2],P=+gD[l+8>>2],u=+gD[l+16>>2],f=+gD[l+20>>2],m=+gD[l+24>>2],p=+gD[l+32>>2],g=+gD[l+36>>2],E=+gD[l+40>>2],y=+gD[V+(e*80|0)>>2],b=+gD[V+(e*80|0)+16>>2],v=+gD[V+(e*80|0)+32>>2],M=+gD[V+(e*80|0)+4>>2],S=+gD[V+(e*80|0)+20>>2],x=+gD[V+(e*80|0)+36>>2],_=+gD[V+(e*80|0)+8>>2],T=+gD[V+(e*80|0)+24>>2],C=+gD[V+(e*80|0)+40>>2],h=+gD[V+(e*80|0)+48>>2],d=+gD[V+(e*80|0)+52>>2],R=+gD[V+(e*80|0)+56>>2],A=+gD[l+48>>2]+(c*h+D*d+P*R),w=+gD[l+52>>2]+(u*h+f*d+m*R),R=+gD[l+56>>2]+(p*h+g*d+E*R),gD[o+176>>2]=c*y+D*b+P*v,gD[o+180>>2]=c*M+D*S+P*x,gD[o+184>>2]=c*_+D*T+P*C,gD[o+188>>2]=0,gD[o+192>>2]=u*y+f*b+m*v,gD[o+196>>2]=u*M+f*S+m*x,gD[o+200>>2]=u*_+f*T+m*C,gD[o+204>>2]=0,gD[o+208>>2]=p*y+g*b+E*v,gD[o+212>>2]=p*M+g*S+E*x,gD[o+216>>2]=p*_+g*T+E*C,gD[o+220>>2]=0,gD[o+224>>2]=A,gD[o+228>>2]=w,gD[o+232>>2]=R,gD[o+236>>2]=0,l=fD[(fD[t+12>>2]|0)+12>>2]|0,R=+gD[l>>2],w=+gD[l+4>>2],A=+gD[l+8>>2],C=+gD[l+16>>2],E=+gD[l+20>>2],T=+gD[l+24>>2],g=+gD[l+32>>2],_=+gD[l+36>>2],p=+gD[l+40>>2],B=fD[B>>2]|0,x=+gD[B+(i*80|0)>>2],S=+gD[B+(i*80|0)+16>>2],M=+gD[B+(i*80|0)+32>>2],v=+gD[B+(i*80|0)+4>>2],b=+gD[B+(i*80|0)+20>>2],y=+gD[B+(i*80|0)+36>>2],m=+gD[B+(i*80|0)+8>>2],f=+gD[B+(i*80|0)+24>>2],u=+gD[B+(i*80|0)+40>>2],P=+gD[B+(i*80|0)+48>>2],D=+gD[B+(i*80|0)+52>>2],c=+gD[B+(i*80|0)+56>>2],d=+gD[l+48>>2]+(R*P+w*D+A*c),h=+gD[l+52>>2]+(C*P+E*D+T*c),c=+gD[l+56>>2]+(g*P+_*D+p*c),gD[o+112>>2]=R*x+w*S+A*M,gD[o+116>>2]=R*v+w*b+A*y,gD[o+120>>2]=R*m+w*f+A*u,gD[o+124>>2]=0,gD[o+128>>2]=C*x+E*S+T*M,gD[o+132>>2]=C*v+E*b+T*y,gD[o+136>>2]=C*m+E*f+T*u,gD[o+140>>2]=0,gD[o+144>>2]=g*x+_*S+p*M,gD[o+148>>2]=g*v+_*b+p*y,gD[o+152>>2]=g*m+_*f+p*u,gD[o+156>>2]=0,gD[o+160>>2]=d,gD[o+164>>2]=h,gD[o+168>>2]=c,gD[o+172>>2]=0,GP[fD[(fD[a>>2]|0)+8>>2]&127](a,o+176|0,o+96|0,o+80|0),GP[fD[(fD[s>>2]|0)+8>>2]&127](s,o+112|0,o+64|0,o+48|0),l=(+gD[o+96>>2]>+gD[o+48>>2]?!0:+gD[o+80>>2]<+gD[o+64>>2])?0:1,(+gD[o+104>>2]>+gD[o+56>>2]?0:!(+gD[o+88>>2]<+gD[o+72>>2]))||(l=0),+gD[o+100>>2]>+gD[o+52>>2])return void(bD=o);if(+gD[o+84>>2]<+gD[o+68>>2]|l^1)return void(bD=o);B=fD[t+8>>2]|0,V=fD[B+8>>2]|0,fD[o+24>>2]=B,fD[o+28>>2]=a,fD[o+32>>2]=V,fD[o+36>>2]=o+176,fD[o+40>>2]=-1,fD[o+44>>2]=e,V=fD[t+12>>2]|0,a=fD[V+8>>2]|0,fD[o>>2]=V,fD[o+4>>2]=s,fD[o+8>>2]=a,fD[o+12>>2]=o+112,fD[o+16>>2]=-1,fD[o+20>>2]=i,a=fD[t+28>>2]|0,fD[4896]=(fD[4896]|0)+1,s=((i<<16|e)+~((i<<16|e)<<15)>>10^(i<<16|e)+~((i<<16|e)<<15))*9|0,s=(fD[a+12>>2]|0)+-1&((s>>6^s)+~((s>>6^s)<<11)>>16^(s>>6^s)+~((s>>6^s)<<11));t:do if((s|0)<(fD[a+32>>2]|0)?(n=fD[(fD[a+40>>2]|0)+(s<<2)>>2]|0,(n|0)==-1):!0)r=17;else{for(s=fD[a+16>>2]|0;;){if((fD[s+(n*12|0)>>2]|0)==(e|0)?(fD[s+(n*12|0)+4>>2]|0)==(i|0):0)break;if(n=fD[(fD[a+60>>2]|0)+(n<<2)>>2]|0,(n|0)==-1){r=17;break t}}(s+(n*12|0)|0)!=0?n=fD[s+(n*12|0)+8>>2]|0:r=17}while(0);(r|0)==17&&(n=fD[t+16>>2]|0,n=uP[fD[(fD[n>>2]|0)+8>>2]&31](n,o+24|0,o,fD[t+32>>2]|0)|0,V=fD[t+28>>2]|0,fD[(gP[fD[(fD[V>>2]|0)+12>>2]&31](V,e,i)|0)+8>>2]=n),l=fD[t+24>>2]|0,B=fD[l+8>>2]|0,V=fD[l+12>>2]|0,fD[l+8>>2]=o+24,fD[(fD[t+24>>2]|0)+12>>2]=o,l=fD[t+24>>2]|0,OP[fD[(fD[l>>2]|0)+8>>2]&127](l,-1,e),l=fD[t+24>>2]|0,OP[fD[(fD[l>>2]|0)+12>>2]&127](l,-1,i),iP[fD[(fD[n>>2]|0)+8>>2]&31](n,o+24|0,o,fD[t+20>>2]|0,fD[t+24>>2]|0),fD[(fD[t+24>>2]|0)+8>>2]=B,fD[(fD[t+24>>2]|0)+12>>2]=V,bD=o}function mS(t,e){t|=0,e|=0}function gS(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=18432,fD[t+12>>2]=18464,i=fD[t+60>>2]|0,aP[fD[(fD[i>>2]|0)+20>>2]&127](i,fD[t+76>>2]|0),i=fD[t+60>>2]|0,aP[fD[(fD[i>>2]|0)+16>>2]&127](i,fD[t+76>>2]|0),Cw(t),bD=e}function yS(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=18432,fD[t+12>>2]=18464,i=fD[t+60>>2]|0,aP[fD[(fD[i>>2]|0)+20>>2]&127](i,fD[t+76>>2]|0),i=fD[t+60>>2]|0,aP[fD[(fD[i>>2]|0)+16>>2]&127](i,fD[t+76>>2]|0),bD=e}function bS(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(i=bD,(fD[t+76>>2]|0)==0)return void(bD=i);if(n=fD[e+4>>2]|0,(n|0)==(fD[e+8>>2]|0)?(r=(n|0)==0?1:n<<1,(n|0)<(r|0)):0){if((r|0)==0?o=0:(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),n=fD[e+4>>2]|0),(n|0)>0){a=0;do s=o+(a<<2)|0,(s|0)!=0&&(fD[s>>2]=fD[(fD[e+12>>2]|0)+(a<<2)>>2]),a=a+1|0;while((a|0)!=(n|0))}a=fD[e+12>>2]|0,(a|0)!=0&&((uD[e+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0),n=fD[e+4>>2]|0),fD[e+12>>2]=0),uD[e+16>>0]=1,fD[e+12>>2]=o,fD[e+8>>2]=r}r=(fD[e+12>>2]|0)+(n<<2)|0,(r|0)!=0&&(fD[r>>2]=fD[t+76>>2]),fD[e+4>>2]=n+1,bD=i}function vS(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=18464,i=fD[t+48>>2]|0,aP[fD[(fD[i>>2]|0)+20>>2]&127](i,fD[t+64>>2]|0),i=fD[t+48>>2]|0,aP[fD[(fD[i>>2]|0)+16>>2]&127](i,fD[t+64>>2]|0),Cw(t),bD=e}function MS(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=18464,i=fD[t+48>>2]|0,aP[fD[(fD[i>>2]|0)+20>>2]&127](i,fD[t+64>>2]|0),i=fD[t+48>>2]|0,aP[fD[(fD[i>>2]|0)+16>>2]&127](i,fD[t+64>>2]|0),bD=e}function SS(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0;return o=bD,bD=bD+128|0,l=+gD[e>>2],a=+gD[e+16>>2],d=l<a?l:a,s=+gD[e+32>>2],(d<s?d:s)>+gD[t+28>>2]?void(bD=o):(h=l>a?e:e+16|0,+gD[(+gD[h>>2]>s?h:e+32|0)>>2]<+gD[t+12>>2]?void(bD=o):(a=+gD[e+8>>2],s=+gD[e+24>>2],d=a<s?a:s,l=+gD[e+40>>2],(d<l?d:l)>+gD[t+36>>2]?void(bD=o):(h=a>s?e+8|0:e+24|0,+gD[(+gD[h>>2]>l?h:e+40|0)>>2]<+gD[t+20>>2]?void(bD=o):(l=+gD[e+4>>2],a=+gD[e+20>>2],d=l<a?l:a,s=+gD[e+36>>2],(d<s?d:s)>+gD[t+32>>2]?void(bD=o):(h=l>a?e+4|0:e+20|0,+gD[(+gD[h>>2]>s?h:e+36|0)>>2]<+gD[t+16>>2]?void(bD=o):(n=fD[t+48>>2]|0,c=fD[t+4>>2]|0,(fD[(fD[c+4>>2]|0)+4>>2]|0)>=20?void(bD=o):(fD[o+32>>2]=0,gD[o+36>>2]=1,gD[o+40>>2]=1,gD[o+44>>2]=1,gD[o+48>>2]=0,fD[o+76>>2]=0,fD[o+24>>2]=16376,fD[o+28>>2]=1,fD[o+80>>2]=fD[e+0>>2],fD[o+84>>2]=fD[e+4>>2],fD[o+88>>2]=fD[e+8>>2],fD[o+92>>2]=fD[e+12>>2],fD[o+96>>2]=fD[e+16>>2],fD[o+100>>2]=fD[e+20>>2],fD[o+104>>2]=fD[e+24>>2],fD[o+108>>2]=fD[e+28>>2],fD[o+112>>2]=fD[e+32>>2],fD[o+116>>2]=fD[e+36>>2],fD[o+120>>2]=fD[e+40>>2],fD[o+124>>2]=fD[e+44>>2],gD[o+68>>2]=+gD[t+56>>2],u=fD[t+8>>2]|0,h=fD[u+8>>2]|0,e=fD[u+12>>2]|0,fD[o>>2]=u,fD[o+4>>2]=o+24,fD[o+8>>2]=h,fD[o+12>>2]=e,fD[o+16>>2]=i,fD[o+20>>2]=r,e=uP[fD[(fD[n>>2]|0)+8>>2]&31](n,c,o,fD[t+64>>2]|0)|0,c=fD[t+44>>2]|0,h=fD[c+8>>2]|0,(fD[h+8>>2]|0)==(fD[(fD[t+8>>2]|0)+8>>2]|0)?(fD[c+8>>2]=o,u=fD[t+44>>2]|0,OP[fD[(fD[u>>2]|0)+8>>2]&127](u,i,r)):(h=fD[c+12>>2]|0,fD[c+12>>2]=o,u=fD[t+44>>2]|0,OP[fD[(fD[u>>2]|0)+12>>2]&127](u,i,r)),iP[fD[(fD[e>>2]|0)+8>>2]&31](e,fD[t+4>>2]|0,o,fD[t+52>>2]|0,fD[t+44>>2]|0),i=fD[t+44>>2]|0,(fD[(fD[i+8>>2]|0)+8>>2]|0)==(fD[(fD[t+8>>2]|0)+8>>2]|0)?fD[i+8>>2]=h:fD[i+12>>2]=h,oP[fD[fD[e>>2]>>2]&511](e),aP[fD[(fD[n>>2]|0)+60>>2]&127](n,e),fD[o+24>>2]=15736,t=fD[o+76>>2]|0,(t|0)==0?void(bD=o):(oP[fD[fD[t>>2]>>2]&511](t),t=fD[o+76>>2]|0,(t|0)==0?void(bD=o):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=o))))))))))}function xS(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0;if(n=bD,bD=bD+64|0,s=(uD[t+8>>0]|0)!=0,a=s?i:e,i=s?e:i,e=fD[i+4>>2]|0,!(((fD[e+4>>2]|0)+-21|0)>>>0<9))return void(bD=n);if((fD[(fD[a+4>>2]|0)+4>>2]|0)>=20)return void(bD=n);l=+vP[fD[(fD[e>>2]|0)+48>>2]&15](e),fD[o+4>>2]=fD[t+76>>2],fD[t+16>>2]=a,fD[t+20>>2]=i,fD[t+64>>2]=r,gD[t+68>>2]=l,fD[t+56>>2]=o,s=fD[i+12>>2]|0,x=+gD[s>>2],S=+gD[s+16>>2],M=+gD[s+32>>2],v=+gD[s+4>>2],b=+gD[s+20>>2],y=+gD[s+36>>2],f=+gD[s+8>>2],u=+gD[s+24>>2],h=+gD[s+40>>2],g=-+gD[s+48>>2],m=-+gD[s+52>>2],_=-+gD[s+56>>2],s=fD[a+12>>2]|0,B=+gD[s>>2],P=+gD[s+16>>2],D=+gD[s+32>>2],R=+gD[s+4>>2],w=+gD[s+20>>2],A=+gD[s+36>>2],C=+gD[s+8>>2],E=+gD[s+24>>2],T=+gD[s+40>>2],p=+gD[s+48>>2],d=+gD[s+52>>2],c=+gD[s+56>>2],gD[n>>2]=x*B+S*P+M*D,gD[n+4>>2]=x*R+S*w+M*A,gD[n+8>>2]=x*C+S*E+M*T,gD[n+12>>2]=0,gD[n+16>>2]=v*B+b*P+y*D,gD[n+20>>2]=v*R+b*w+y*A,gD[n+24>>2]=v*C+b*E+y*T,gD[n+28>>2]=0,gD[n+32>>2]=f*B+u*P+h*D,gD[n+36>>2]=f*R+u*w+h*A,gD[n+40>>2]=f*C+u*E+h*T,gD[n+44>>2]=0,gD[n+48>>2]=x*g+S*m+M*_+(x*p+S*d+M*c),gD[n+52>>2]=v*g+b*m+y*_+(v*p+b*d+y*c),gD[n+56>>2]=f*g+u*m+h*_+(f*p+u*d+h*c),gD[n+60>>2]=0,s=fD[(fD[t+16>>2]|0)+4>>2]|0,GP[fD[(fD[s>>2]|0)+8>>2]&127](s,n,t+24|0,t+40|0),gD[t+40>>2]=+gD[t+40>>2]+l,gD[t+44>>2]=+gD[t+44>>2]+l,gD[t+48>>2]=+gD[t+48>>2]+l,gD[t+24>>2]=+gD[t+24>>2]-l,gD[t+28>>2]=+gD[t+28>>2]-l,gD[t+32>>2]=+gD[t+32>>2]-l,s=fD[t+76>>2]|0,i=fD[i+8>>2]|0,fD[s+740>>2]=fD[a+8>>2],fD[s+744>>2]=i,GP[fD[(fD[e>>2]|0)+64>>2]&127](e,t+12|0,t+24|0,t+40|0),a=fD[o+4>>2]|0;do if((fD[a+748>>2]|0)!=0){if(r=fD[a+740>>2]|0,i=fD[(fD[o+8>>2]|0)+8>>2]|0,(r|0)==(i|0)){fw(a,r+4|0,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0);break}fw(a,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0,i+4|0);break}while(0);fD[t+16>>2]=0,fD[t+20>>2]=0,bD=n}function TS(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0;return o=bD,bD=bD+240|0,r=(uD[t+8>>0]|0)!=0,t=r?i:e,e=r?e:i,N=+gD[t+116>>2]-+gD[t+52>>2],F=+gD[t+120>>2]-+gD[t+56>>2],G=+gD[t+124>>2]-+gD[t+60>>2],z=+gD[t+252>>2],N*N+F*F+G*G<z*z?(z=1,bD=o,+z):(c=+gD[e+4>>2],d=+gD[e+20>>2],p=+gD[e+36>>2],M=+gD[e+8>>2],S=+gD[e+24>>2],x=+gD[e+40>>2],n=+gD[e+12>>2],T=+gD[e+28>>2],C=+gD[e+44>>2],J=-+gD[e+52>>2],N=-+gD[e+56>>2],F=-+gD[e+60>>2],h=+gD[t+4>>2],u=+gD[t+20>>2],f=+gD[t+36>>2],_=+gD[t+8>>2],m=+gD[t+24>>2],g=+gD[t+40>>2],y=+gD[t+12>>2],b=+gD[t+28>>2],v=+gD[t+44>>2],P=+gD[t+52>>2],D=+gD[t+56>>2],R=+gD[t+60>>2],A=c*J+d*N+p*F+(c*P+d*D+p*R),w=M*J+S*N+x*F+(M*P+S*D+x*R),R=n*J+T*N+C*F+(n*P+T*D+C*R),D=+gD[t+68>>2],P=+gD[t+84>>2],B=+gD[t+100>>2],V=+gD[t+72>>2],L=+gD[t+88>>2],k=+gD[t+104>>2],H=+gD[t+76>>2],I=+gD[t+92>>2],l=+gD[t+108>>2],G=+gD[t+116>>2],z=+gD[t+120>>2],E=+gD[t+124>>2],s=c*J+d*N+p*F+(c*G+d*z+p*E),a=M*J+S*N+x*F+(M*G+S*z+x*E),E=n*J+T*N+C*F+(n*G+T*z+C*E),e=fD[e+192>>2]|0,((fD[e+4>>2]|0)+-21|0)>>>0<9?(gD[o+224>>2]=A,gD[o+228>>2]=w,gD[o+232>>2]=R,gD[o+236>>2]=0,s<A?(gD[o+224>>2]=s,F=s):F=A,a<w?(gD[o+228>>2]=a,G=a):G=w,E<R?(gD[o+232>>2]=E,z=E):z=R,gD[o+208>>2]=A,gD[o+212>>2]=w,gD[o+216>>2]=R,gD[o+220>>2]=0,A<s?(gD[o+208>>2]=s,O=s):O=A,w<a?(gD[o+212>>2]=a,J=a):J=w,R<E?(gD[o+216>>2]=E,N=E):N=R,j=+gD[t+248>>2],gD[o+224>>2]=F-j,gD[o+228>>2]=G-j,gD[o+232>>2]=z-j,gD[o+208>>2]=j+O,gD[o+212>>2]=j+J,gD[o+216>>2]=j+N,fD[o>>2]=18592,gD[o+4>>2]=c*h+d*u+p*f,gD[o+8>>2]=c*_+d*m+p*g,gD[o+12>>2]=c*y+d*b+p*v,gD[o+16>>2]=0,gD[o+20>>2]=M*h+S*u+x*f,gD[o+24>>2]=M*_+S*m+x*g,gD[o+28>>2]=M*y+S*b+x*v,gD[o+32>>2]=0,gD[o+36>>2]=n*h+T*u+C*f,gD[o+40>>2]=n*_+T*m+C*g,gD[o+44>>2]=n*y+T*b+C*v,gD[o+48>>2]=0,gD[o+52>>2]=A,gD[o+56>>2]=w,gD[o+60>>2]=R,gD[o+64>>2]=0,gD[o+68>>2]=c*D+d*P+p*B,gD[o+72>>2]=c*V+d*L+p*k,gD[o+76>>2]=c*H+d*I+p*l,gD[o+80>>2]=0,gD[o+84>>2]=M*D+S*P+x*B,gD[o+88>>2]=M*V+S*L+x*k,gD[o+92>>2]=M*H+S*I+x*l,gD[o+96>>2]=0,gD[o+100>>2]=n*D+T*P+C*B,gD[o+104>>2]=n*V+T*L+C*k,gD[o+108>>2]=n*H+T*I+C*l,gD[o+112>>2]=0,gD[o+116>>2]=s,gD[o+120>>2]=a,gD[o+124>>2]=E,gD[o+128>>2]=0,gD[o+196>>2]=j,gD[o+200>>2]=+gD[t+244>>2],(e|0)==0?(j=1,bD=o,+j):(GP[fD[(fD[e>>2]|0)+64>>2]&127](e,o,o+224|0,o+208|0),n=+gD[o+200>>2],n<+gD[t+244>>2]?(gD[t+244>>2]=n,j=n,bD=o,+j):(j=1,bD=o,+j))):(z=1,bD=o,+z))}function ES(t){t|=0}function CS(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function AS(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;return i=bD,bD=bD+784|0,gD[i+712>>2]=1,fD[i+716>>2]=0,fD[i+720>>2]=0,fD[i+724>>2]=0,fD[i+728>>2]=0,gD[i+732>>2]=1,fD[i+736>>2]=0,fD[i+740>>2]=0,fD[i+744>>2]=0,fD[i+748>>2]=0,gD[i+752>>2]=1,r=i+756|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,fD[r+16>>2]=0,fD[i+536>>2]=9440,fD[i+704>>2]=0,gD[i+708>>2]=0,gD[i+700>>2]=+gD[t+200>>2],n=+gD[t+196>>2],fD[i+488>>2]=0,gD[i+492>>2]=1,gD[i+496>>2]=1,gD[i+500>>2]=1,gD[i+504>>2]=0,fD[i+480>>2]=16680,fD[i+484>>2]=8,gD[i+508>>2]=n,gD[i+524>>2]=n,fD[i+384>>2]=0,gD[i+388>>2]=1,gD[i+392>>2]=1,gD[i+396>>2]=1,gD[i+400>>2]=0,gD[i+420>>2]=.03999999910593033,fD[i+428>>2]=0,fD[i+376>>2]=16376,fD[i+380>>2]=1,fD[i+432>>2]=fD[e+0>>2],fD[i+436>>2]=fD[e+4>>2],fD[i+440>>2]=fD[e+8>>2],fD[i+444>>2]=fD[e+12>>2],fD[i+448>>2]=fD[e+16>>2],fD[i+452>>2]=fD[e+20>>2],fD[i+456>>2]=fD[e+24>>2],fD[i+460>>2]=fD[e+28>>2],fD[i+464>>2]=fD[e+32>>2],fD[i+468>>2]=fD[e+36>>2],fD[i+472>>2]=fD[e+40>>2],fD[i+476>>2]=fD[e+44>>2],gD[i+324>>2]=9999999747378752e-20,uD[i+348>>0]=0,fD[i>>2]=17152,fD[i+4>>2]=i+16,fD[i+8>>2]=i+480,fD[i+12>>2]=i+376,(sM(i,t+4|0,t+68|0,i+712|0,i+712|0,i+536|0)|0?(o=+gD[i+700>>2],+gD[t+200>>2]>o):0)&&(gD[t+200>>2]=o),fD[i+376>>2]=15736,t=fD[i+428>>2]|0,(t|0)==0?void(bD=i):(oP[fD[fD[t>>2]>>2]&511](t),t=fD[i+428>>2]|0,(t|0)==0?void(bD=i):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=i)))}function wS(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function RS(t){t|=0}function DS(t){t|=0;var e=0,i=0,r=0;e=bD,fD[t>>2]=18816,((uD[t+16>>0]|0)!=0?(i=fD[t+20>>2]|0,(i|0)!=0):0)&&(r=fD[t+4>>2]|0,aP[fD[(fD[r>>2]|0)+16>>2]&127](r,i)),Cw(t),bD=e}function PS(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=18816,(uD[t+16>>0]|0)==0?void(bD=e):(i=fD[t+20>>2]|0,(i|0)==0?void(bD=e):(t=fD[t+4>>2]|0,aP[fD[(fD[t>>2]|0)+16>>2]&127](t,i),void(bD=e)))}function BS(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,te=0,ee=0,ie=0,re=0,oe=0,ne=0,ae=0,se=0,le=0,ce=0,he=0,de=0,ue=0,pe=0,fe=0,_e=0,me=0,ge=0,ye=0,be=0,ve=0;if(n=bD,bD=bD+832|0,p=fD[t+20>>2]|0,(p|0)==0&&(p=fD[t+4>>2]|0,p=gP[fD[(fD[p>>2]|0)+12>>2]&31](p,fD[e+8>>2]|0,fD[i+8>>2]|0)|0,fD[t+20>>2]=p,uD[t+16>>0]=1),fD[o+4>>2]=p,s=fD[e+4>>2]|0,a=fD[i+4>>2]|0,m=fD[s+4>>2]|0,(m|0)==10?(fD[a+4>>2]|0)==10:0){if(l=+gD[(fD[t+20>>2]|0)+752>>2],ge=fD[s+52>>2]|0,x=+gD[s+(ge<<2)+28>>2],h=+gD[s+(((ge+2|0)%3|0)<<2)+28>>2],ye=fD[a+52>>2]|0,T=+gD[a+(ye<<2)+28>>2],d=+gD[a+(((ye+2|0)%3|0)<<2)+28>>2],be=fD[e+12>>2]|0,t=fD[i+12>>2]|0,g=+gD[be+(ge<<2)>>2],u=+gD[be+(ge<<2)+16>>2],y=+gD[be+(ge<<2)+32>>2],E=+gD[t+(ye<<2)>>2],C=+gD[t+(ye<<2)+16>>2],S=+gD[t+(ye<<2)+32>>2],M=+gD[t+48>>2]-+gD[be+48>>2],v=+gD[t+52>>2]-+gD[be+52>>2],b=+gD[t+56>>2]-+gD[be+56>>2],A=1-(g*E+u*C+y*S)*(g*E+u*C+y*S),A!=0?(w=(g*M+u*v+y*b-(g*E+u*C+y*S)*(E*M+C*v+S*b))/A,w<-x?w=-x:w>x&&(w=x)):w=0,A=(g*E+u*C+y*S)*w-(E*M+C*v+S*b),A<-T?(A=(g*E+u*C+y*S)*-T+(g*M+u*v+y*b),A<-x?(x=-x,T=-T):A>x?T=-T:(x=A,T=-T)):A>T?(A=T*(g*E+u*C+y*S)+(g*M+u*v+y*b),A<-x?x=-x:A>x||(x=A)):(x=w,T=A),E*=T,C*=T,S*=T,M=E+(M-g*x),v=C+(v-u*x),x=S+(b-y*x),b=+CD(+(x*x+(M*M+v*v))),!(b-h-d>l)){do{if(x*x+(M*M+v*v)<=1.4210854715202004e-14){if(+ED(+y)>.7071067690849304){ce=1/+CD(+(u*u+y*y)),gD[n+320>>2]=0,gD[n+324>>2]=-(y*ce),gD[n+328>>2]=u*ce,M=0,g=-(y*ce),u*=ce;break}ce=1/+CD(+(g*g+u*u)),gD[n+320>>2]=-(u*ce),gD[n+324>>2]=g*ce,gD[n+328>>2]=0,M=-(u*ce),g*=ce,u=0;break}gD[n+320>>2]=M*-(1/b),gD[n+324>>2]=v*-(1/b),gD[n+328>>2]=x*-(1/b),gD[n+332>>2]=0,M*=-(1/b),g=v*-(1/b),u=x*-(1/b)}while(0);le=d*g+(C+ +gD[t+52>>2]),ce=d*u+(S+ +gD[t+56>>2]),gD[n+304>>2]=d*M+(E+ +gD[t+48>>2]),gD[n+308>>2]=le,gD[n+312>>2]=ce,gD[n+316>>2]=0}return b-h-d<l&&(IP[fD[(fD[o>>2]|0)+16>>2]&15](o,n+320|0,n+304|0,b-h-d),p=fD[o+4>>2]|0),(fD[p+748>>2]|0)==0?void(bD=n):(e=fD[p+740>>2]|0,t=fD[(fD[o+8>>2]|0)+8>>2]|0,(e|0)==(t|0)?(fw(p,e+4|0,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0),void(bD=n)):(fw(p,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0,t+4|0),void(bD=n)))}de=a+4|0,gD[n+296>>2]=0xde0b6b000000000,P=fD[t+8>>2]|0,H=fD[t+12>>2]|0,fD[n+88>>2]=13392,gD[n+92>>2]=0,gD[n+96>>2]=1,gD[n+100>>2]=0,gD[n+104>>2]=0,fD[n+108>>2]=H,fD[n+112>>2]=P,fD[n+116>>2]=s,fD[n+120>>2]=a,fD[n+124>>2]=m,fD[n+128>>2]=fD[de>>2],gD[n+132>>2]=+vP[fD[(fD[s>>2]|0)+48>>2]&15](s),gD[n+136>>2]=+vP[fD[(fD[a>>2]|0)+48>>2]&15](a),uD[n+140>>0]=0,fD[n+148>>2]=-1,fD[n+160>>2]=1,fD[n+164>>2]=1,fD[n+116>>2]=s,fD[n+120>>2]=a,le=+vP[fD[(fD[s>>2]|0)+48>>2]&15](s),ce=+vP[fD[(fD[a>>2]|0)+48>>2]&15](a),ce=le+ce+ +gD[(fD[t+20>>2]|0)+752>>2],gD[n+296>>2]=ce*ce,P=fD[e+12>>2]|0,fD[n+168>>2]=fD[P+0>>2],fD[n+172>>2]=fD[P+4>>2],fD[n+176>>2]=fD[P+8>>2],fD[n+180>>2]=fD[P+12>>2],H=n+184|0,fD[H+0>>2]=fD[P+16>>2],fD[H+4>>2]=fD[P+20>>2],fD[H+8>>2]=fD[P+24>>2],fD[H+12>>2]=fD[P+28>>2],D=n+200|0,fD[D+0>>2]=fD[P+32>>2],fD[D+4>>2]=fD[P+36>>2],fD[D+8>>2]=fD[P+40>>2],fD[D+12>>2]=fD[P+44>>2],ne=n+216|0,fD[ne+0>>2]=fD[P+48>>2],fD[ne+4>>2]=fD[P+52>>2],fD[ne+8>>2]=fD[P+56>>2],fD[ne+12>>2]=fD[P+60>>2],P=n+232|0,p=fD[i+12>>2]|0,fD[P+0>>2]=fD[p+0>>2],fD[P+4>>2]=fD[p+4>>2],fD[P+8>>2]=fD[p+8>>2],fD[P+12>>2]=fD[p+12>>2],X=n+248|0,fD[X+0>>2]=fD[p+16>>2],fD[X+4>>2]=fD[p+20>>2],fD[X+8>>2]=fD[p+24>>2],fD[X+12>>2]=fD[p+28>>2],oe=n+264|0,fD[oe+0>>2]=fD[p+32>>2],fD[oe+4>>2]=fD[p+36>>2],fD[oe+8>>2]=fD[p+40>>2],fD[oe+12>>2]=fD[p+44>>2],m=n+280|0,fD[m+0>>2]=fD[p+48>>2],fD[m+4>>2]=fD[p+52>>2],fD[m+8>>2]=fD[p+56>>2],fD[m+12>>2]=fD[p+60>>2],p=fD[s+4>>2]|0;do if(((p|0)<7?(f=fD[de>>2]|0,(f|0)<7):0)&&(fD[n+80>>2]=19224,(p|0)==0?u=0:(u=+vP[fD[(fD[s>>2]|0)+48>>2]&15](s),f=fD[de>>2]|0),b=(f|0)==0?0:+vP[fD[(fD[a>>2]|0)+48>>2]&15](a),fD[n+40>>2]=19032,fD[n+44>>2]=o,gD[n+64>>2]=u,gD[n+68>>2]=b,uD[n+76>>0]=0,f=fD[s+52>>2]|0,(f|0)!=0)){if(p=fD[a+52>>2]|0,(p|0)==0){if((fD[de>>2]|0)!=1)break;if(m=n+32|0,uD[m>>0]=1,p=n+28|0,fD[p>>2]=0,f=n+20|0,fD[f>>2]=0,c=n+24|0,fD[c>>2]=0,D=fD[i+12>>2]|0,le=+gD[a+56>>2],ce=+gD[a+60>>2],d=+gD[a+64>>2],l=le*+gD[D>>2]+ce*+gD[D+4>>2]+d*+gD[D+8>>2]+ +gD[D+48>>2],h=le*+gD[D+16>>2]+ce*+gD[D+20>>2]+d*+gD[D+24>>2]+ +gD[D+52>>2],d=le*+gD[D+32>>2]+ce*+gD[D+36>>2]+d*+gD[D+40>>2]+ +gD[D+56>>2],fD[5004]=(fD[5004]|0)+1,D=Ew(35)|0,(D|0)==0?D=0:(fD[(D+19&-16)+-4>>2]=D,D=D+19&-16),P=fD[p>>2]|0,(P|0)!=0&&((uD[m>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[P+-4>>2]|0)),fD[p>>2]=0),uD[m>>0]=1,fD[p>>2]=D,fD[c>>2]=1,P=fD[f>>2]|0,gD[D+(P<<4)>>2]=l,gD[D+(P<<4)+4>>2]=h,gD[D+(P<<4)+8>>2]=d,gD[D+(P<<4)+12>>2]=0,P=fD[f>>2]|0,fD[f>>2]=P+1,D=fD[i+12>>2]|0,le=+gD[a+72>>2],ce=+gD[a+76>>2],h=+gD[a+80>>2],l=le*+gD[D>>2]+ce*+gD[D+4>>2]+h*+gD[D+8>>2]+ +gD[D+48>>2],d=le*+gD[D+16>>2]+ce*+gD[D+20>>2]+h*+gD[D+24>>2]+ +gD[D+52>>2],h=le*+gD[D+32>>2]+ce*+gD[D+36>>2]+h*+gD[D+40>>2]+ +gD[D+56>>2],D=fD[c>>2]|0,(P+1|0)==(D|0))if(D=(P+1|0)==0?1:P+1<<1,(P+1|0)<(D|0)){if(((D|0)!=0?(fD[5004]=(fD[5004]|0)+1,he=Ew((D<<4|3)+16|0)|0,(he|0)!=0):0)?(fD[(he+19&-16)+-4>>2]=he,H=he+19&-16):H=0,(P|0)>-1){X=0;do be=H+(X<<4)|0,ye=(fD[p>>2]|0)+(X<<4)|0,fD[be+0>>2]=fD[ye+0>>2],fD[be+4>>2]=fD[ye+4>>2],fD[be+8>>2]=fD[ye+8>>2],fD[be+12>>2]=fD[ye+12>>2],X=X+1|0;while((X|0)!=(P+1|0))}P=fD[p>>2]|0,(P|0)!=0&&((uD[m>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[P+-4>>2]|0)),fD[p>>2]=0),uD[m>>0]=1,fD[p>>2]=H,fD[c>>2]=D,H=fD[f>>2]|0}else H=P+1|0,D=P+1|0;else H=P+1|0;if(P=fD[p>>2]|0,gD[P+(H<<4)>>2]=l,gD[P+(H<<4)+4>>2]=d,gD[P+(H<<4)+8>>2]=h,gD[P+(H<<4)+12>>2]=0,H=H+1|0,fD[f>>2]=H,be=fD[i+12>>2]|0,le=+gD[a+88>>2],ce=+gD[a+92>>2],h=+gD[a+96>>2],d=le*+gD[be>>2]+ce*+gD[be+4>>2]+h*+gD[be+8>>2]+ +gD[be+48>>2],l=le*+gD[be+16>>2]+ce*+gD[be+20>>2]+h*+gD[be+24>>2]+ +gD[be+52>>2],h=le*+gD[be+32>>2]+ce*+gD[be+36>>2]+h*+gD[be+40>>2]+ +gD[be+56>>2],(H|0)==(D|0)){if(i=(D|0)==0?1:D<<1,(D|0)<(i|0)){if(((i|0)!=0?(fD[5004]=(fD[5004]|0)+1,ae=Ew((i<<4|3)+16|0)|0,(ae|0)!=0):0)?(fD[(ae+19&-16)+-4>>2]=ae,P=ae+19&-16):P=0,(D|0)>0){H=0;do be=P+(H<<4)|0,ye=(fD[p>>2]|0)+(H<<4)|0,fD[be+0>>2]=fD[ye+0>>2],fD[be+4>>2]=fD[ye+4>>2],fD[be+8>>2]=fD[ye+8>>2],fD[be+12>>2]=fD[ye+12>>2],H=H+1|0;while((H|0)!=(D|0))}D=fD[p>>2]|0,(D|0)!=0&&((uD[m>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[D+-4>>2]|0)),fD[p>>2]=0),uD[m>>0]=1,fD[p>>2]=P,fD[c>>2]=i,D=fD[f>>2]|0}}else D=H;gD[P+(D<<4)>>2]=d,gD[P+(D<<4)+4>>2]=l,gD[P+(D<<4)+8>>2]=h,gD[P+(D<<4)+12>>2]=0,fD[f>>2]=(fD[f>>2]|0)+1,l=+gD[(fD[t+20>>2]|0)+752>>2],gA(n+88|0,n+168|0,n+80|0,fD[r+20>>2]|0,0),h=+gD[n+92>>2],u=+gD[n+96>>2],d=+gD[n+100>>2],h*h+u*u+d*d>1.1920928955078125e-7&&(le=1/(h*h+u*u+d*d),gD[n>>2]=h*le,gD[n+4>>2]=u*le,gD[n+8>>2]=d*le,gD[n+12>>2]=0,le=+gD[n+144>>2],ce=+vP[fD[(fD[s>>2]|0)+48>>2]&15](s),ce=le-ce-+vP[fD[(fD[a>>2]|0)+48>>2]&15](a),vx(n,fD[s+52>>2]|0,fD[e+12>>2]|0,n+16|0,ce-l,l,o));do if((uD[t+16>>0]|0)!=0?(_=fD[o+4>>2]|0,(fD[_+748>>2]|0)!=0):0){if(e=fD[_+740>>2]|0,t=fD[(fD[o+8>>2]|0)+8>>2]|0,(e|0)==(t|0)){fw(_,e+4|0,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0);break}fw(_,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0,t+4|0);break}while(0);return o=fD[p>>2]|0,(o|0)!=0&&((uD[m>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[p>>2]=0),uD[m>>0]=1,fD[p>>2]=0,fD[f>>2]=0,fD[c>>2]=0,void(bD=n)}if(l=+gD[(fD[t+20>>2]|0)+752>>2],(uD[r+24>>0]|0)==0)gA(n+88|0,n+168|0,n+40|0,fD[r+20>>2]|0,0),h=+gD[n+72>>2],(uD[n+76>>0]|0)!=0&h<0&&(V=+gD[n+48>>2],L=+gD[n+52>>2],R=+gD[n+56>>2],B=+gD[n+60>>2],c=105);else{r=fD[e+12>>2]|0,_=fD[i+12>>2]|0,fD[4920]=(fD[4920]|0)+1,ie=+gD[f+64>>2],re=+gD[f+68>>2],v=+gD[r+4>>2],se=+gD[f+72>>2],M=+gD[r+8>>2],S=+gD[r+16>>2],x=+gD[r+20>>2],E=+gD[r+24>>2],T=+gD[r+32>>2],C=+gD[r+36>>2],A=+gD[r+40>>2],le=+gD[p+64>>2],ce=+gD[p+68>>2],h=+gD[p+72>>2],u=ie*+gD[r>>2]+re*v+se*M+ +gD[r+48>>2]-(le*+gD[_>>2]+ce*+gD[_+4>>2]+h*+gD[_+8>>2]+ +gD[_+48>>2]),d=ie*S+re*x+se*E+ +gD[r+52>>2]-(le*+gD[_+16>>2]+ce*+gD[_+20>>2]+h*+gD[_+24>>2]+ +gD[_+52>>2]),h=ie*T+re*C+se*A+ +gD[r+56>>2]-(le*+gD[_+32>>2]+ce*+gD[_+36>>2]+h*+gD[_+40>>2]+ +gD[_+56>>2]),m=fD[f+28>>2]|0;t:do if((m|0)>0)for(b=0,I=3.4028234663852886e38,D=0,V=0,L=0,R=0,B=0;;){if(be=fD[f+36>>2]|0,se=+gD[be+(D*36|0)+20>>2],le=+gD[be+(D*36|0)+24>>2],ce=+gD[be+(D*36|0)+28>>2],v=se*+gD[r>>2]+le*v+ce*M,M=se*S+le*x+ce*E,S=se*T+le*C+ce*A,gD[n+400>>2]=v,gD[n+404>>2]=M,gD[n+408>>2]=S,gD[n+412>>2]=0,u*v+d*M+h*S<0&&(gD[n+400>>2]=v*-1,gD[n+404>>2]=M*-1,gD[n+408>>2]=S*-1,v*=-1,M*=-1,S*=-1),fD[4916]=(fD[4916]|0)+1,bx(r,_,u,d,h,v,M,S,f,p,I)|0){if(fD[4918]=(fD[4918]|0)+1,rx(f,r,n+400|0,n+808|0,n+784|0,n+464|0,n+448|0),rx(p,_,n+400|0,n+720|0,n+480|0,n+432|0,n+416|0),M=+gD[n+784>>2],v=+gD[n+720>>2],(M<v?!0:(y=+gD[n+480>>2],g=+gD[n+808>>2],y<g))?(P=0,v=b):(P=1,v=M-v<y-g?M-v:y-g),!P){p=0;break t}v<I?(b=v,I=v,V=+gD[n+400>>2],L=+gD[n+404>>2],R=+gD[n+408>>2],B=+gD[n+412>>2]):b=v}if(D=D+1|0,(D|0)>=(m|0)){c=52;break t}v=+gD[r+4>>2],M=+gD[r+8>>2],S=+gD[r+16>>2],x=+gD[r+20>>2],E=+gD[r+24>>2],T=+gD[r+32>>2],C=+gD[r+36>>2],A=+gD[r+40>>2]}else I=3.4028234663852886e38,V=0,L=0,R=0,B=0,c=52;while(0);t:do if((c|0)==52){if(m=fD[p+28>>2]|0,(m|0)>0){g=0,D=0;do{be=fD[p+36>>2]|0,le=+gD[be+(D*36|0)+20>>2],ce=+gD[be+(D*36|0)+24>>2],b=+gD[be+(D*36|0)+28>>2],y=le*+gD[_>>2]+ce*+gD[_+4>>2]+b*+gD[_+8>>2],v=le*+gD[_+16>>2]+ce*+gD[_+20>>2]+b*+gD[_+24>>2],b=le*+gD[_+32>>2]+ce*+gD[_+36>>2]+b*+gD[_+40>>2],gD[n+384>>2]=y,gD[n+388>>2]=v,gD[n+392>>2]=b,gD[n+396>>2]=0,u*y+d*v+h*b<0&&(gD[n+384>>2]=y*-1,gD[n+388>>2]=v*-1,gD[n+392>>2]=b*-1,y*=-1,v*=-1,b*=-1),fD[4916]=(fD[4916]|0)+1;do if(bx(r,_,u,d,h,y,v,b,f,p,I)|0){fD[4918]=(fD[4918]|0)+1,rx(f,r,n+384|0,n+808|0,n+784|0,n+464|0,n+448|0),rx(p,_,n+384|0,n+720|0,n+480|0,n+432|0,n+416|0),v=+gD[n+784>>2],b=+gD[n+720>>2];do if(v<b)P=0,y=g;else{if(y=+gD[n+480>>2],M=+gD[n+808>>2],y<M){P=0,y=g;break}P=1,y=v-b<y-M?v-b:y-M}while(0);if(!P){p=0;break t}if(!(y<I)){g=y;break}g=y,I=y,V=+gD[n+384>>2],L=+gD[n+388>>2],R=+gD[n+392>>2],B=+gD[n+396>>2]}while(0);D=D+1|0}while((D|0)<(m|0))}if(P=fD[f+48>>2]|0,(P|0)>0)for(v=0,M=0,S=0,x=0,T=0,E=0,A=0,C=0,w=0,k=0,N=0,G=0,z=0,F=0,J=0,O=0,j=0,U=0,W=0,X=fD[p+48>>2]|0,m=0,H=-1,D=-1;;){if(be=fD[f+56>>2]|0,le=+gD[be+(m<<4)>>2],ce=+gD[be+(m<<4)+4>>2],y=+gD[be+(m<<4)+8>>2],b=le*+gD[r>>2]+ce*+gD[r+4>>2]+y*+gD[r+8>>2],g=le*+gD[r+16>>2]+ce*+gD[r+20>>2]+y*+gD[r+24>>2],y=le*+gD[r+32>>2]+ce*+gD[r+36>>2]+y*+gD[r+40>>2],(X|0)>0){P=0;do{be=fD[p+56>>2]|0,le=+gD[be+(P<<4)>>2],ce=+gD[be+(P<<4)+4>>2],$=+gD[be+(P<<4)+8>>2],Y=le*+gD[_>>2]+ce*+gD[_+4>>2]+$*+gD[_+8>>2],Z=le*+gD[_+16>>2]+ce*+gD[_+20>>2]+$*+gD[_+24>>2],$=le*+gD[_+32>>2]+ce*+gD[_+36>>2]+$*+gD[_+40>>2],gD[n+368>>2]=g*$-y*Z,gD[n+372>>2]=y*Y-b*$,gD[n+376>>2]=b*Z-g*Y,gD[n+380>>2]=0;do if(+ED(+(g*$-y*Z))>1e-6)c=70;else{if(+ED(+(y*Y-b*$))>1e-6){c=70;break}+ED(+(b*Z-g*Y))>1e-6&&(c=70)}while(0);do if((c|0)==70){if(c=0,q=1/+CD(+((g*$-y*Z)*(g*$-y*Z)+(y*Y-b*$)*(y*Y-b*$)+(b*Z-g*Y)*(b*Z-g*Y))),K=(g*$-y*Z)*q,gD[n+368>>2]=K,Q=(y*Y-b*$)*q,gD[n+372>>2]=Q,q=(b*Z-g*Y)*q,gD[n+376>>2]=q,u*K+d*Q+h*q<0&&(gD[n+368>>2]=K*-1,gD[n+372>>2]=Q*-1,gD[n+376>>2]=q*-1,K*=-1,Q*=-1,q*=-1),fD[4916]=(fD[4916]|0)+1,!(bx(r,_,u,d,h,K,Q,q,f,p,I)|0))break;fD[4918]=(fD[4918]|0)+1,rx(f,r,n+368|0,n+808|0,n+784|0,n+464|0,n+448|0),rx(p,_,n+368|0,n+720|0,n+480|0,n+432|0,n+416|0),ie=+gD[n+784>>2],le=+gD[n+720>>2];do{if(!(ie<le)){if(se=+gD[n+480>>2],ce=+gD[n+808>>2],se<ce){X=0,re=z,ee=G,te=N,Q=A,q=E,K=T,ie=v;break}if(ie-le<se-ce){X=1,re=+gD[n+456>>2],ee=+gD[n+452>>2],te=+gD[n+448>>2],Q=+gD[n+440>>2],q=+gD[n+436>>2],K=+gD[n+432>>2],ie-=le;break}X=1,re=+gD[n+472>>2],ee=+gD[n+468>>2],te=+gD[n+464>>2],Q=+gD[n+424>>2],q=+gD[n+420>>2],K=+gD[n+416>>2],ie=se-ce;break}X=0,re=z,ee=G,te=N,Q=A,q=E,K=T,ie=v}while(0);if(!X){p=0;break t}if(!(ie<I)){z=re,G=ee,N=te,A=Q,E=q,T=K,v=ie;break}W=y,U=g,j=b,O=$,J=Z,F=Y,z=re,G=ee,N=te,k=re,w=ee,C=te,A=Q,E=q,T=K,x=Q,S=q,M=K,v=ie,I=ie,H=m,D=P,V=+gD[n+368>>2],L=+gD[n+372>>2],R=+gD[n+376>>2],B=+gD[n+380>>2]}while(0);P=P+1|0,X=fD[p+48>>2]|0}while((P|0)<(X|0));g=W,y=U,b=j,P=fD[f+48>>2]|0}else g=W,y=U,b=j;if(m=m+1|0,(m|0)>=(P|0))break;j=b,U=y,W=g}else g=0,y=0,b=0,O=0,J=0,F=0,k=0,w=0,C=0,x=0,S=0,M=0,H=-1,D=-1;if((D|H|0)>-1){T=M-C,E=S-w,v=x-k,k=b*F+y*J+g*O,A=b*T+y*E+g*v,w=F*T+J*E+O*v;do if(1-k*k!=0)if((A-k*w)/(1-k*k)<-1.0000000150474662e30)C=-1.0000000150474662e30;else{if(!((A-k*w)/(1-k*k)>1.0000000150474662e30)){C=(A-k*w)/(1-k*k);break}C=1.0000000150474662e30}else C=0;while(0);w=k*C-w;do if(w<-1.0000000150474662e30){if(k*-1.0000000150474662e30+A<-1.0000000150474662e30){C=-1.0000000150474662e30,k=-1.0000000150474662e30;break}if(!(k*-1.0000000150474662e30+A>1.0000000150474662e30)){C=k*-1.0000000150474662e30+A,k=-1.0000000150474662e30;break}C=1.0000000150474662e30,k=-1.0000000150474662e30}else{if(!(w>1.0000000150474662e30)){k=w;break}if(k*1.0000000150474662e30+A<-1.0000000150474662e30){C=-1.0000000150474662e30,k=1.0000000150474662e30;break}if(!(k*1.0000000150474662e30+A>1.0000000150474662e30)){C=k*1.0000000150474662e30+A,k=1.0000000150474662e30;break}C=1.0000000150474662e30,k=1.0000000150474662e30}while(0);A=F*k,w=k*J,k*=O,b=T-b*C+A,y=E-C*y+w,v=v-C*g+k,gD[n+352>>2]=b,gD[n+356>>2]=y,gD[n+360>>2]=v,gD[n+364>>2]=0,b*b+y*y+v*v>1.1920928955078125e-7&&(g=+CD(+(b*b+y*y+v*v)),gD[n+352>>2]=b*(1/g),gD[n+356>>2]=1/g*y,gD[n+360>>2]=1/g*v,b*(1/g)*u+1/g*y*d+1/g*v*h<0&&(gD[n+352>>2]=b*(1/g)*-1,gD[n+356>>2]=1/g*y*-1,gD[n+360>>2]=1/g*v*-1),gD[n+336>>2]=M+A,gD[n+340>>2]=S+w,gD[n+344>>2]=x+k,gD[n+348>>2]=0,IP[fD[(fD[o>>2]|0)+16>>2]&15](o,n+352|0,n+336|0,-g))}u*V+d*L+h*R<0?(p=1,V=-V,L=-L,R=-R,B=0):p=1}while(0);p&&(h=-1.0000000150474662e30,c=105)}if((c|0)==105){if(s=fD[s+52>>2]|0,a=fD[a+52>>2]|0,e=fD[e+12>>2]|0,i=fD[i+12>>2]|0,h-=l,g=1/+CD(+(V*V+L*L+R*R)),d=V*g,u=L*g,g=R*g,gD[n+808>>2]=d,gD[n+812>>2]=u,gD[n+816>>2]=g,gD[n+820>>2]=B,r=fD[a+28>>2]|0,c=fD[a+36>>2]|0,(r|0)>0)for(y=+gD[i>>2],b=+gD[i+4>>2],S=+gD[i+8>>2],E=+gD[i+16>>2],C=+gD[i+20>>2],R=+gD[i+24>>2],w=+gD[i+32>>2],T=+gD[i+36>>2],x=+gD[i+40>>2],_=-1,B=-3.4028234663852886e38,p=0;;){if(v=+gD[c+(p*36|0)+20>>2],M=+gD[c+(p*36|0)+24>>2],A=+gD[c+(p*36|0)+28>>2],f=(v*y+M*b+A*S)*d+(v*E+M*C+A*R)*u+(v*w+M*T+A*x)*g>B,_=f?p:_,p=p+1|0,(p|0)>=(r|0)){f=_;break}B=f?(v*y+M*b+A*S)*d+(v*E+M*C+A*R)*u+(v*w+M*T+A*x)*g:B}else f=-1;uD[n+800>>0]=1,p=n+796|0,fD[p>>2]=0,fD[n+788>>2]=0,fD[n+792>>2]=0,r=fD[c+(f*36|0)+4>>2]|0;t:do if((r|0)>0)for(c=c+(f*36|0)+12|0,H=0,P=0,m=0,_=0;;){if(be=fD[(fD[c>>2]|0)+(_<<2)>>2]|0,ye=fD[a+16>>2]|0,le=+gD[ye+(be<<4)>>2],ce=+gD[ye+(be<<4)+4>>2],g=+gD[ye+(be<<4)+8>>2],d=le*+gD[i>>2]+ce*+gD[i+4>>2]+g*+gD[i+8>>2]+ +gD[i+48>>2],u=le*+gD[i+16>>2]+ce*+gD[i+20>>2]+g*+gD[i+24>>2]+ +gD[i+52>>2],g=le*+gD[i+32>>2]+ce*+gD[i+36>>2]+g*+gD[i+40>>2]+ +gD[i+56>>2],(H|0)==(m|0))if(D=(m|0)==0?1:m<<1,(m|0)<(D|0)){do if((D|0)==0)P=0;else{if(fD[5004]=(fD[5004]|0)+1,P=Ew((D<<4|3)+16|0)|0,(P|0)==0){P=0;break}fD[(P+19&-16)+-4>>2]=P,P=P+19&-16}while(0);if((m|0)>0){H=0;do be=P+(H<<4)|0,ye=(fD[p>>2]|0)+(H<<4)|0,fD[be+0>>2]=fD[ye+0>>2],fD[be+4>>2]=fD[ye+4>>2],fD[be+8>>2]=fD[ye+8>>2],fD[be+12>>2]=fD[ye+12>>2],H=H+1|0;while((H|0)!=(m|0))}m=fD[p>>2]|0,(m|0)!=0&&((uD[n+800>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[m+-4>>2]|0)),fD[p>>2]=0),uD[n+800>>0]=1,fD[p>>2]=P,fD[n+792>>2]=D,D=P,m=fD[n+788>>2]|0}else D=P;else D=P,m=H;if(gD[D+(m<<4)>>2]=d,gD[D+(m<<4)+4>>2]=u,gD[D+(m<<4)+8>>2]=g,gD[D+(m<<4)+12>>2]=0,H=(fD[n+788>>2]|0)+1|0,fD[n+788>>2]=H,_=_+1|0,(_|0)>=(r|0))break t;P=D,m=fD[n+792>>2]|0}else D=0;while(0);(f|0)>-1&&(vx(n+808|0,s,e,n+784|0,h,l,o),D=fD[p>>2]|0),(D|0)!=0&&((uD[n+800>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[D+-4>>2]|0)),fD[p>>2]=0)}return(uD[t+16>>0]|0)==0?void(bD=n):(i=fD[o+4>>2]|0,(fD[i+748>>2]|0)==0?void(bD=n):(e=fD[i+740>>2]|0,t=fD[(fD[o+8>>2]|0)+8>>2]|0,(e|0)==(t|0)?(fw(i,e+4|0,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0),void(bD=n)):(fw(i,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0,t+4|0),void(bD=n))))}while(0);if(gA(n+88|0,n+168|0,o,fD[r+20>>2]|0,0),(((fD[t+28>>2]|0)!=0?(fD[(fD[o+4>>2]|0)+748>>2]|0)<(fD[t+32>>2]|0):0)?(d=+gD[n+92>>2],l=+gD[n+96>>2],h=+gD[n+100>>2],d*d+l*l+h*h>1.1920928955078125e-7):0)&&(u=1/(d*d+l*l+h*h),+ED(+(h*u))>.7071067690849304?(M=1/+CD(+(h*u*h*u+l*u*l*u)),b=0,v=-(h*u*M),M=l*u*M):(v=1/+CD(+(d*u*d*u+l*u*l*u)),b=-(l*u*v),v=d*u*v,M=0),g=+vP[fD[(fD[s>>2]|0)+16>>2]&15](s),y=+vP[fD[(fD[a>>2]|0)+16>>2]&15](a),S=.019999999552965164/(g<y?g:y),g<y?(fD[n+720>>2]=fD[n+168>>2],fD[n+724>>2]=fD[n+172>>2],fD[n+728>>2]=fD[n+176>>2],fD[n+732>>2]=fD[n+180>>2],fD[n+736>>2]=fD[H+0>>2],fD[n+740>>2]=fD[H+4>>2],fD[n+744>>2]=fD[H+8>>2],fD[n+748>>2]=fD[H+12>>2],fD[n+752>>2]=fD[D+0>>2],fD[n+756>>2]=fD[D+4>>2],fD[n+760>>2]=fD[D+8>>2],fD[n+764>>2]=fD[D+12>>2],fD[n+768>>2]=fD[ne+0>>2],fD[n+772>>2]=fD[ne+4>>2],fD[n+776>>2]=fD[ne+8>>2],fD[n+780>>2]=fD[ne+12>>2]):(fD[n+720>>2]=fD[P+0>>2],fD[n+724>>2]=fD[P+4>>2],fD[n+728>>2]=fD[P+8>>2],fD[n+732>>2]=fD[P+12>>2],fD[n+736>>2]=fD[X+0>>2],fD[n+740>>2]=fD[X+4>>2],fD[n+744>>2]=fD[X+8>>2],fD[n+748>>2]=fD[X+12>>2],fD[n+752>>2]=fD[oe+0>>2],fD[n+756>>2]=fD[oe+4>>2],fD[n+760>>2]=fD[oe+8>>2],fD[n+764>>2]=fD[oe+12>>2],fD[n+768>>2]=fD[m+0>>2],fD[n+772>>2]=fD[m+4>>2],fD[n+776>>2]=fD[m+8>>2],fD[n+780>>2]=fD[m+12>>2]),ye=fD[t+28>>2]|0,(ye|0)>0))if(x=M*M+(v*v+b*b),S=S>.39269909262657166?.19634954631328583:S*.5,me=n+516|0,pe=n+532|0,_e=n+548|0,ae=n+564|0,fe=n+580|0,a=n+596|0,c=n+612|0,p=n+628|0,_=n+644|0,de=n+660|0,s=n+736|0,f=n+676|0,ue=n+752|0,he=n+692|0,ge=n+768|0,x>1.1920928955078125e-7)if(x=+RD(+S)/+CD(+x),b*=x,v*=x,M*=x,x=+wD(+S),S=+CD(+(h*u*h*u+(d*u*d*u+l*u*l*u))),g<y){be=0;do W=+(be|0)*(6.2831854820251465/+(ye|0))*.5,re=+RD(+W)/S,W=+wD(+W),$=M*-(l*u*re)+(b*W+x*-(d*u*re))-v*-(h*u*re),le=b*-(h*u*re)+(v*W+x*-(l*u*re))-M*-(d*u*re),te=v*-(d*u*re)+(M*W+x*-(h*u*re))-b*-(l*u*re),U=x*W-b*-(d*u*re)-v*-(l*u*re)-M*-(h*u*re),ie=h*u*re*le+(d*u*re*U+W*$)-l*u*re*te,se=d*u*re*te+(W*le+l*u*re*U)-h*u*re*$,j=l*u*re*$+(h*u*re*U+W*te)-d*u*re*le,te=W*U-d*u*re*$-l*u*re*le-h*u*re*te,re=ie*(2/(te*te+(j*j+(ie*ie+se*se)))),le=se*(2/(te*te+(j*j+(ie*ie+se*se)))),$=j*(2/(te*te+(j*j+(ie*ie+se*se)))),ve=fD[e+12>>2]|0,U=+gD[ve>>2],W=+gD[ve+16>>2],q=+gD[ve+32>>2],K=+gD[ve+4>>2],Y=+gD[ve+20>>2],Q=+gD[ve+36>>2],Z=+gD[ve+8>>2],ee=+gD[ve+24>>2],ce=+gD[ve+40>>2],gD[n+168>>2]=(ie*$+te*le)*q+(W*(ie*le-te*$)+U*(1-(se*le+j*$))),gD[n+172>>2]=(1-(se*le+j*$))*K+(ie*le-te*$)*Y+(ie*$+te*le)*Q,gD[n+176>>2]=(1-(se*le+j*$))*Z+(ie*le-te*$)*ee+(ie*$+te*le)*ce,gD[n+180>>2]=0,gD[n+184>>2]=(se*$-te*re)*q+(U*(ie*le+te*$)+W*(1-(ie*re+j*$))),gD[n+188>>2]=(ie*le+te*$)*K+(1-(ie*re+j*$))*Y+(se*$-te*re)*Q,gD[n+192>>2]=(ie*le+te*$)*Z+(1-(ie*re+j*$))*ee+(se*$-te*re)*ce,gD[n+196>>2]=0,gD[n+200>>2]=U*(ie*$-te*le)+W*(se*$+te*re)+q*(1-(ie*re+se*le)),gD[n+204>>2]=(ie*$-te*le)*K+(se*$+te*re)*Y+(1-(ie*re+se*le))*Q,gD[n+208>>2]=(ie*$-te*le)*Z+(se*$+te*re)*ee+(1-(ie*re+se*le))*ce,gD[n+212>>2]=0,ve=fD[i+12>>2]|0,fD[P+0>>2]=fD[ve+0>>2],fD[P+4>>2]=fD[ve+4>>2],fD[P+8>>2]=fD[ve+8>>2],fD[P+12>>2]=fD[ve+12>>2],fD[X+0>>2]=fD[ve+16>>2],fD[X+4>>2]=fD[ve+20>>2],fD[X+8>>2]=fD[ve+24>>2],fD[X+12>>2]=fD[ve+28>>2],fD[oe+0>>2]=fD[ve+32>>2],fD[oe+4>>2]=fD[ve+36>>2],fD[oe+8>>2]=fD[ve+40>>2],fD[oe+12>>2]=fD[ve+44>>2],fD[m+0>>2]=fD[ve+48>>2],fD[m+4>>2]=fD[ve+52>>2],fD[m+8>>2]=fD[ve+56>>2],fD[m+12>>2]=fD[ve+60>>2],ve=fD[r+20>>2]|0,fD[n+480>>2]=18952,fD[n+512>>2]=o,fD[me+0>>2]=fD[n+168>>2],fD[me+4>>2]=fD[n+172>>2],fD[me+8>>2]=fD[n+176>>2],fD[me+12>>2]=fD[n+180>>2],fD[pe+0>>2]=fD[H+0>>2],fD[pe+4>>2]=fD[H+4>>2],fD[pe+8>>2]=fD[H+8>>2],fD[pe+12>>2]=fD[H+12>>2],fD[_e+0>>2]=fD[D+0>>2],fD[_e+4>>2]=fD[D+4>>2],fD[_e+8>>2]=fD[D+8>>2],fD[_e+12>>2]=fD[D+12>>2],fD[ae+0>>2]=fD[ne+0>>2],fD[ae+4>>2]=fD[ne+4>>2],fD[ae+8>>2]=fD[ne+8>>2],fD[ae+12>>2]=fD[ne+12>>2],fD[fe+0>>2]=fD[P+0>>2],fD[fe+4>>2]=fD[P+4>>2],fD[fe+8>>2]=fD[P+8>>2],fD[fe+12>>2]=fD[P+12>>2],fD[a+0>>2]=fD[X+0>>2],fD[a+4>>2]=fD[X+4>>2],fD[a+8>>2]=fD[X+8>>2],fD[a+12>>2]=fD[X+12>>2],fD[c+0>>2]=fD[oe+0>>2],fD[c+4>>2]=fD[oe+4>>2],fD[c+8>>2]=fD[oe+8>>2],fD[c+12>>2]=fD[oe+12>>2],fD[p+0>>2]=fD[m+0>>2],fD[p+4>>2]=fD[m+4>>2],fD[p+8>>2]=fD[m+8>>2],fD[p+12>>2]=fD[m+12>>2],fD[_+0>>2]=fD[n+720>>2],fD[_+4>>2]=fD[n+724>>2],fD[_+8>>2]=fD[n+728>>2],fD[_+12>>2]=fD[n+732>>2],fD[de+0>>2]=fD[s+0>>2],fD[de+4>>2]=fD[s+4>>2],fD[de+8>>2]=fD[s+8>>2],fD[de+12>>2]=fD[s+12>>2],fD[f+0>>2]=fD[ue+0>>2],fD[f+4>>2]=fD[ue+4>>2],fD[f+8>>2]=fD[ue+8>>2],fD[f+12>>2]=fD[ue+12>>2],fD[he+0>>2]=fD[ge+0>>2],fD[he+4>>2]=fD[ge+4>>2],fD[he+8>>2]=fD[ge+8>>2],fD[he+12>>2]=fD[ge+12>>2],uD[n+708>>0]=g<y&1,fD[n+712>>2]=ve,gA(n+88|0,n+168|0,n+480|0,ve,0),ye=fD[t+28>>2]|0,be=be+1|0;
while((be|0)<(ye|0))}else{be=0;do W=+(be|0)*(6.2831854820251465/+(ye|0))*.5,re=+RD(+W)/S,W=+wD(+W),ve=fD[e+12>>2]|0,fD[n+168>>2]=fD[ve+0>>2],fD[n+172>>2]=fD[ve+4>>2],fD[n+176>>2]=fD[ve+8>>2],fD[n+180>>2]=fD[ve+12>>2],fD[H+0>>2]=fD[ve+16>>2],fD[H+4>>2]=fD[ve+20>>2],fD[H+8>>2]=fD[ve+24>>2],fD[H+12>>2]=fD[ve+28>>2],fD[D+0>>2]=fD[ve+32>>2],fD[D+4>>2]=fD[ve+36>>2],fD[D+8>>2]=fD[ve+40>>2],fD[D+12>>2]=fD[ve+44>>2],fD[ne+0>>2]=fD[ve+48>>2],fD[ne+4>>2]=fD[ve+52>>2],fD[ne+8>>2]=fD[ve+56>>2],fD[ne+12>>2]=fD[ve+60>>2],$=M*-(l*u*re)+(b*W+x*-(d*u*re))-v*-(h*u*re),le=b*-(h*u*re)+(v*W+x*-(l*u*re))-M*-(d*u*re),te=v*-(d*u*re)+(M*W+x*-(h*u*re))-b*-(l*u*re),U=x*W-b*-(d*u*re)-v*-(l*u*re)-M*-(h*u*re),ie=h*u*re*le+(d*u*re*U+W*$)-l*u*re*te,se=d*u*re*te+(W*le+l*u*re*U)-h*u*re*$,j=l*u*re*$+(h*u*re*U+W*te)-d*u*re*le,te=W*U-d*u*re*$-l*u*re*le-h*u*re*te,re=ie*(2/(te*te+(j*j+(ie*ie+se*se)))),le=se*(2/(te*te+(j*j+(ie*ie+se*se)))),$=j*(2/(te*te+(j*j+(ie*ie+se*se)))),ve=fD[i+12>>2]|0,U=+gD[ve>>2],W=+gD[ve+16>>2],q=+gD[ve+32>>2],K=+gD[ve+4>>2],Y=+gD[ve+20>>2],Q=+gD[ve+36>>2],Z=+gD[ve+8>>2],ee=+gD[ve+24>>2],ce=+gD[ve+40>>2],gD[n+232>>2]=(ie*$+te*le)*q+(W*(ie*le-te*$)+U*(1-(se*le+j*$))),gD[n+236>>2]=(1-(se*le+j*$))*K+(ie*le-te*$)*Y+(ie*$+te*le)*Q,gD[n+240>>2]=(1-(se*le+j*$))*Z+(ie*le-te*$)*ee+(ie*$+te*le)*ce,gD[n+244>>2]=0,gD[n+248>>2]=(se*$-te*re)*q+(U*(ie*le+te*$)+W*(1-(ie*re+j*$))),gD[n+252>>2]=(ie*le+te*$)*K+(1-(ie*re+j*$))*Y+(se*$-te*re)*Q,gD[n+256>>2]=(ie*le+te*$)*Z+(1-(ie*re+j*$))*ee+(se*$-te*re)*ce,gD[n+260>>2]=0,gD[n+264>>2]=U*(ie*$-te*le)+W*(se*$+te*re)+q*(1-(ie*re+se*le)),gD[n+268>>2]=(ie*$-te*le)*K+(se*$+te*re)*Y+(1-(ie*re+se*le))*Q,gD[n+272>>2]=(ie*$-te*le)*Z+(se*$+te*re)*ee+(1-(ie*re+se*le))*ce,gD[n+276>>2]=0,ve=fD[r+20>>2]|0,fD[n+480>>2]=18952,fD[n+512>>2]=o,fD[me+0>>2]=fD[n+168>>2],fD[me+4>>2]=fD[n+172>>2],fD[me+8>>2]=fD[n+176>>2],fD[me+12>>2]=fD[n+180>>2],fD[pe+0>>2]=fD[H+0>>2],fD[pe+4>>2]=fD[H+4>>2],fD[pe+8>>2]=fD[H+8>>2],fD[pe+12>>2]=fD[H+12>>2],fD[_e+0>>2]=fD[D+0>>2],fD[_e+4>>2]=fD[D+4>>2],fD[_e+8>>2]=fD[D+8>>2],fD[_e+12>>2]=fD[D+12>>2],fD[ae+0>>2]=fD[ne+0>>2],fD[ae+4>>2]=fD[ne+4>>2],fD[ae+8>>2]=fD[ne+8>>2],fD[ae+12>>2]=fD[ne+12>>2],fD[fe+0>>2]=fD[P+0>>2],fD[fe+4>>2]=fD[P+4>>2],fD[fe+8>>2]=fD[P+8>>2],fD[fe+12>>2]=fD[P+12>>2],fD[a+0>>2]=fD[X+0>>2],fD[a+4>>2]=fD[X+4>>2],fD[a+8>>2]=fD[X+8>>2],fD[a+12>>2]=fD[X+12>>2],fD[c+0>>2]=fD[oe+0>>2],fD[c+4>>2]=fD[oe+4>>2],fD[c+8>>2]=fD[oe+8>>2],fD[c+12>>2]=fD[oe+12>>2],fD[p+0>>2]=fD[m+0>>2],fD[p+4>>2]=fD[m+4>>2],fD[p+8>>2]=fD[m+8>>2],fD[p+12>>2]=fD[m+12>>2],fD[_+0>>2]=fD[n+720>>2],fD[_+4>>2]=fD[n+724>>2],fD[_+8>>2]=fD[n+728>>2],fD[_+12>>2]=fD[n+732>>2],fD[de+0>>2]=fD[s+0>>2],fD[de+4>>2]=fD[s+4>>2],fD[de+8>>2]=fD[s+8>>2],fD[de+12>>2]=fD[s+12>>2],fD[f+0>>2]=fD[ue+0>>2],fD[f+4>>2]=fD[ue+4>>2],fD[f+8>>2]=fD[ue+8>>2],fD[f+12>>2]=fD[ue+12>>2],fD[he+0>>2]=fD[ge+0>>2],fD[he+4>>2]=fD[ge+4>>2],fD[he+8>>2]=fD[ge+8>>2],fD[he+12>>2]=fD[ge+12>>2],uD[n+708>>0]=g<y&1,fD[n+712>>2]=ve,gA(n+88|0,n+168|0,n+480|0,ve,0),ye=fD[t+28>>2]|0,be=be+1|0;while((be|0)<(ye|0))}else if(g<y){e=0;do e=e+1|0;while((e|0)<(ye|0))}else{e=0;do e=e+1|0;while((e|0)<(ye|0))}return(uD[t+16>>0]|0)==0?void(bD=n):(t=fD[o+4>>2]|0,(fD[t+748>>2]|0)==0?void(bD=n):(e=fD[t+740>>2]|0,i=fD[(fD[o+8>>2]|0)+8>>2]|0,(e|0)==(i|0)?(fw(t,e+4|0,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0),void(bD=n)):(fw(t,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0,i+4|0),void(bD=n))))}function VS(t){t|=0}function LS(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0;return r=bD,bD=bD+624|0,d=+gD[e+116>>2]-+gD[e+52>>2],h=+gD[e+120>>2]-+gD[e+56>>2],c=+gD[e+124>>2]-+gD[e+60>>2],s=+gD[i+116>>2]-+gD[i+52>>2],a=+gD[i+120>>2]-+gD[i+56>>2],n=+gD[i+124>>2]-+gD[i+60>>2],l=+gD[e+252>>2],(d*d+h*h+c*c<l*l?(d=+gD[i+252>>2],s*s+a*a+n*n<d*d):0)?(d=1,bD=r,+d):(t=fD[e+192>>2]|0,d=+gD[i+248>>2],fD[r+576>>2]=0,gD[r+580>>2]=1,gD[r+584>>2]=1,gD[r+588>>2]=1,gD[r+592>>2]=0,fD[r+568>>2]=16680,fD[r+572>>2]=8,gD[r+596>>2]=d,gD[r+612>>2]=d,fD[r+392>>2]=9440,gD[r+556>>2]=0xde0b6b000000000,fD[r+560>>2]=0,gD[r+564>>2]=0,gD[r+340>>2]=9999999747378752e-20,uD[r+364>>0]=0,fD[r+16>>2]=13184,fD[r+20>>2]=r+32,fD[r+24>>2]=t,fD[r+28>>2]=r+568,pA(r+16|0,e+4|0,e+68|0,i+4|0,i+68|0,r+392|0)|0?(a=+gD[r+556>>2],+gD[e+244>>2]>a&&(gD[e+244>>2]=a),+gD[i+244>>2]>a&&(gD[i+244>>2]=a),a<1||(a=1)):a=1,t=fD[i+192>>2]|0,d=+gD[e+248>>2],fD[r+576>>2]=0,gD[r+580>>2]=1,gD[r+584>>2]=1,gD[r+588>>2]=1,gD[r+592>>2]=0,fD[r+568>>2]=16680,fD[r+572>>2]=8,gD[r+596>>2]=d,gD[r+612>>2]=d,fD[r+392>>2]=9440,gD[r+556>>2]=0xde0b6b000000000,fD[r+560>>2]=0,gD[r+564>>2]=0,gD[r+340>>2]=9999999747378752e-20,uD[r+364>>0]=uD[r+364>>0]&-16,fD[r>>2]=13184,fD[r+4>>2]=r+32,fD[r+8>>2]=r+568,fD[r+12>>2]=t,pA(r,e+4|0,e+68|0,i+4|0,i+68|0,r+392|0)|0?(n=+gD[r+556>>2],+gD[e+244>>2]>n&&(gD[e+244>>2]=n),+gD[i+244>>2]>n&&(gD[i+244>>2]=n),a>n?(d=n,bD=r,+d):(d=a,bD=r,+d)):(d=a,bD=r,+d))}function kS(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(i=bD,(fD[t+20>>2]|0)==0)return void(bD=i);if((uD[t+16>>0]|0)==0)return void(bD=i);if(n=fD[e+4>>2]|0,(n|0)==(fD[e+8>>2]|0)?(r=(n|0)==0?1:n<<1,(n|0)<(r|0)):0){if((r|0)==0?o=0:(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),n=fD[e+4>>2]|0),(n|0)>0){a=0;do s=o+(a<<2)|0,(s|0)!=0&&(fD[s>>2]=fD[(fD[e+12>>2]|0)+(a<<2)>>2]),a=a+1|0;while((a|0)!=(n|0))}a=fD[e+12>>2]|0,(a|0)!=0&&((uD[e+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0),n=fD[e+4>>2]|0),fD[e+12>>2]=0),uD[e+16>>0]=1,fD[e+12>>2]=o,fD[e+8>>2]=r}r=(fD[e+12>>2]|0)+(n<<2)|0,(r|0)!=0&&(fD[r>>2]=fD[t+20>>2]),fD[e+4>>2]=n+1,bD=i}function HS(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0;return i=bD,r=fD[e>>2]|0,r=AP[fD[(fD[r>>2]|0)+56>>2]&31](r,36)|0,(r|0)==0?(r=0,bD=i,r|0):(n=fD[e+4>>2]|0,s=fD[t+12>>2]|0,a=fD[t+8>>2]|0,o=fD[t+16>>2]|0,t=fD[t+20>>2]|0,fD[r+4>>2]=fD[e>>2],fD[r>>2]=18816,fD[r+8>>2]=s,fD[r+12>>2]=a,uD[r+16>>0]=0,fD[r+20>>2]=n,uD[r+24>>0]=0,fD[r+28>>2]=o,fD[r+32>>2]=t,bD=i,r|0)}function IS(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function OS(t,e,i,r){t|=0,e|=0,i|=0,r=+r;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0;return s=bD,bD=bD+16|0,c=+gD[e>>2],o=+gD[e+4>>2],n=+gD[e+8>>2],l=+gD[i>>2],a=+gD[i+4>>2],h=+gD[i+8>>2],(uD[t+228>>0]|0)==0?(M=+gD[t+100>>2],y=+gD[t+116>>2],T=+gD[t+132>>2],v=+gD[t+104>>2],m=+gD[t+120>>2],x=+gD[t+136>>2],b=+gD[t+108>>2],f=+gD[t+124>>2],S=+gD[t+140>>2],A=-+gD[t+148>>2],C=-+gD[t+152>>2],E=-+gD[t+156>>2],D=+gD[t+164>>2],p=+gD[t+168>>2],P=+gD[t+172>>2],R=+gD[t+180>>2],w=+gD[t+184>>2],u=+gD[t+188>>2],g=+gD[t+196>>2],_=+gD[t+200>>2],d=+gD[t+204>>2],p=h*(T*D+x*p+S*P)+(l*(M*D+v*p+b*P)+a*(y*D+m*p+f*P))+((b*A+f*C+S*E)*P+(D*(M*A+y*C+T*E)+p*(v*A+m*C+x*E))+ +gD[t+212>>2]),u=h*(T*R+x*w+S*u)+(l*(M*R+v*w+b*u)+a*(y*R+m*w+f*u))+((M*A+y*C+T*E)*R+(v*A+m*C+x*E)*w+(b*A+f*C+S*E)*u+ +gD[t+216>>2]),d=(M*A+y*C+T*E)*g+(v*A+m*C+x*E)*_+(b*A+f*C+S*E)*d+ +gD[t+220>>2]+(h*(T*g+x*_+S*d)+(l*(M*g+v*_+b*d)+a*(y*g+m*_+f*d))),gD[s>>2]=p,gD[s+4>>2]=u,gD[s+8>>2]=d,gD[s+12>>2]=0,h=(c*r+l-p)*+gD[e>>2]+(o*r+a-u)*+gD[e+4>>2]+(n*r+h-d)*+gD[e+8>>2],i=t+32|0,i=fD[i>>2]|0,t=fD[i>>2]|0,t=t+16|0,t=fD[t>>2]|0,IP[t&15](i,e,s,h),void(bD=s)):(M=+gD[t+36>>2],T=+gD[t+52>>2],y=+gD[t+68>>2],S=+gD[t+40>>2],C=+gD[t+56>>2],b=+gD[t+72>>2],x=+gD[t+44>>2],w=+gD[t+60>>2],v=+gD[t+76>>2],_=-+gD[t+84>>2],m=-+gD[t+88>>2],g=-+gD[t+92>>2],u=+gD[t+164>>2],R=+gD[t+168>>2],d=+gD[t+172>>2],p=+gD[t+180>>2],f=+gD[t+184>>2],D=+gD[t+188>>2],E=+gD[t+196>>2],A=+gD[t+200>>2],P=+gD[t+204>>2],R=(n*r+h)*(y*u+b*R+v*d)+((c*r+l)*(M*u+S*R+x*d)+(o*r+a)*(T*u+C*R+w*d))+((x*_+w*m+v*g)*d+(u*(M*_+T*m+y*g)+R*(S*_+C*m+b*g))+ +gD[t+212>>2]),D=(n*r+h)*(y*p+b*f+v*D)+((c*r+l)*(M*p+S*f+x*D)+(o*r+a)*(T*p+C*f+w*D))+((M*_+T*m+y*g)*p+(S*_+C*m+b*g)*f+(x*_+w*m+v*g)*D+ +gD[t+216>>2]),P=(M*_+T*m+y*g)*E+(S*_+C*m+b*g)*A+(x*_+w*m+v*g)*P+ +gD[t+220>>2]+((n*r+h)*(y*E+b*A+v*P)+((c*r+l)*(M*E+S*A+x*P)+(o*r+a)*(T*E+C*A+w*P))),gD[s>>2]=R+c*(c*(R-l)+o*(D-a)+n*(P-h)),gD[s+4>>2]=D+o*(c*(R-l)+o*(D-a)+n*(P-h)),gD[s+8>>2]=P+n*(c*(R-l)+o*(D-a)+n*(P-h)),gD[s+12>>2]=0,P=c*(R-l)+o*(D-a)+n*(P-h),i=t+32|0,i=fD[i>>2]|0,t=fD[i>>2]|0,t=t+16|0,t=fD[t>>2]|0,IP[t&15](i,e,s,P),void(bD=s))}function JS(t){t|=0}function NS(t){t|=0}function FS(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function GS(t,e,i){t|=0,e|=0,i|=0}function zS(t,e,i){t|=0,e|=0,i|=0}function jS(t,e,i,r){t|=0,e|=0,i|=0,r=+r;var o=0,n=0,a=0,s=0;return o=bD,bD=bD+16|0,gD[t+32>>2]=r,fD[t+8>>2]=fD[e+0>>2],fD[t+12>>2]=fD[e+4>>2],fD[t+16>>2]=fD[e+8>>2],fD[t+20>>2]=fD[e+12>>2],n=+gD[t+28>>2],s=+gD[i+4>>2]-n*+gD[e+4>>2],a=+gD[i+8>>2]-n*+gD[e+8>>2],gD[o>>2]=+gD[i>>2]-+gD[e>>2]*n,gD[o+4>>2]=s,gD[o+8>>2]=a,gD[o+12>>2]=0,r=+gD[t+24>>2]+n+r,gD[t+32>>2]=r,r<0?(uD[t+36>>0]=1,i=t+4|0,i=fD[i>>2]|0,t=fD[i>>2]|0,t=t+16|0,t=fD[t>>2]|0,IP[t&15](i,e,o,r),void(bD=o)):(i=t+4|0,i=fD[i>>2]|0,t=fD[i>>2]|0,t=t+16|0,t=fD[t>>2]|0,IP[t&15](i,e,o,r),void(bD=o))}function US(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function WS(t,e,i){t|=0,e|=0,i|=0}function XS(t,e,i){t|=0,e|=0,i|=0}function qS(t,e,i,r){t|=0,e|=0,i|=0,r=+r}function KS(t){t|=0;var e=0,i=0,r=0;e=bD,fD[t>>2]=19408,((uD[t+8>>0]|0)!=0?(i=fD[t+12>>2]|0,(i|0)!=0):0)&&(r=fD[t+4>>2]|0,aP[fD[(fD[r>>2]|0)+16>>2]&127](r,i)),Cw(t),bD=e}function YS(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=19408,(uD[t+8>>0]|0)==0?void(bD=e):(i=fD[t+12>>2]|0,(i|0)==0?void(bD=e):(t=fD[t+4>>2]|0,aP[fD[(fD[t>>2]|0)+16>>2]&127](t,i),void(bD=e)))}function QS(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0;if(r=bD,bD=bD+128|0,(fD[t+12>>2]|0)==0)return void(bD=r);if(T=(uD[t+16>>0]|0)!=0,B=T?i:e,T=T?e:i,h=fD[B+4>>2]|0,n=fD[T+4>>2]|0,B=fD[B+12>>2]|0,u=+gD[B>>2],E=+gD[B+16>>2],M=+gD[B+32>>2],_=+gD[B+4>>2],f=+gD[B+20>>2],p=+gD[B+36>>2],d=+gD[B+8>>2],c=+gD[B+24>>2],v=+gD[B+40>>2],A=+gD[B+48>>2],w=+gD[B+52>>2],R=+gD[B+56>>2],B=fD[T+12>>2]|0,H=+gD[B>>2],k=+gD[B+16>>2],a=+gD[B+32>>2],L=+gD[B+4>>2],V=+gD[B+20>>2],b=+gD[B+36>>2],l=+gD[B+8>>2],x=+gD[B+24>>2],g=+gD[B+40>>2],D=-+gD[B+48>>2],C=-+gD[B+52>>2],m=-+gD[B+56>>2],B=fD[(fD[h>>2]|0)+64>>2]|0,S=-+gD[n+48>>2],s=-+gD[n+52>>2],y=-+gD[n+56>>2],gD[r+32>>2]=(u*H+E*k+M*a)*S+(u*L+E*V+M*b)*s+(u*l+E*x+M*g)*y,gD[r+36>>2]=(_*H+f*k+p*a)*S+(_*L+f*V+p*b)*s+(_*l+f*x+p*g)*y,gD[r+40>>2]=(d*H+c*k+v*a)*S+(d*L+c*V+v*b)*s+(d*l+c*x+v*g)*y,gD[r+44>>2]=0,OP[B&127](r+48|0,h,r+32|0),y=+gD[r+48>>2],s=+gD[r+52>>2],S=+gD[r+56>>2],a=A*H+w*k+R*a+(H*D+k*C+a*m)+((u*H+E*k+M*a)*y+(_*H+f*k+p*a)*s+(d*H+c*k+v*a)*S),b=A*L+w*V+R*b+(L*D+V*C+b*m)+((u*L+E*V+M*b)*y+(_*L+f*V+p*b)*s+(d*L+c*V+v*b)*S),S=A*l+w*x+R*g+(l*D+x*C+g*m)+((u*l+E*x+M*g)*y+(_*l+f*x+p*g)*s+(d*l+c*x+v*g)*S),g=+gD[n+48>>2],v=+gD[n+52>>2],x=+gD[n+56>>2],c=x*S+(g*a+v*b)-+gD[n+64>>2],B=fD[T+12>>2]|0,l=+gD[B>>2],d=+gD[B+4>>2],s=+gD[B+8>>2],p=+gD[B+16>>2],f=+gD[B+20>>2],_=+gD[B+24>>2],y=+gD[B+32>>2],M=+gD[B+36>>2],E=+gD[B+40>>2],u=+gD[B+48>>2],m=+gD[B+52>>2],C=+gD[B+56>>2],B=fD[t+12>>2]|0,P=c<+gD[B+752>>2],fD[o+4>>2]=B,P&&(B=fD[T+12>>2]|0,k=g*+gD[B+16>>2]+v*+gD[B+20>>2]+x*+gD[B+24>>2],H=g*+gD[B+32>>2]+v*+gD[B+36>>2]+x*+gD[B+40>>2],gD[r+16>>2]=+gD[B>>2]*g+ +gD[B+4>>2]*v+ +gD[B+8>>2]*x,gD[r+20>>2]=k,gD[r+24>>2]=H,gD[r+28>>2]=0,gD[r>>2]=s*(S-x*c)+(l*(a-g*c)+d*(b-v*c))+u,gD[r+4>>2]=(a-g*c)*p+(b-v*c)*f+(S-x*c)*_+m,gD[r+8>>2]=(a-g*c)*y+(b-v*c)*M+(S-x*c)*E+C,gD[r+12>>2]=0,IP[fD[(fD[o>>2]|0)+16>>2]&15](o,r+16|0,r,c)),((fD[h+4>>2]|0)<7?(fD[(fD[o+4>>2]|0)+748>>2]|0)<(fD[t+24>>2]|0):0)&&(s=+gD[n+56>>2],+ED(+s)>.7071067690849304?(H=+gD[n+52>>2],l=1/+CD(+(s*s+H*H)),a=0,s=-(s*l),l=H*l):(l=+gD[n+48>>2],a=+gD[n+52>>2],s=1/+CD(+(l*l+a*a)),a=-(a*s),s=l*s,l=0),H=.019999999552965164/+vP[fD[(fD[h>>2]|0)+16>>2]&15](h),c=+CD(+(l*l+(s*s+a*a))),H=H>.39269909262657166?.19634954631328583:H*.5,c=+RD(+H)/c,a*=c,s*=c,c=l*c,l=+wD(+H),T=fD[t+20>>2]|0,(T|0)>0)){h=0;do u=+gD[n+48>>2],H=+gD[n+52>>2],d=+gD[n+56>>2],b=+(h|0)*(6.2831854820251465/+(T|0))*.5,k=+RD(+b)/+CD(+(u*u+H*H+d*d)),b=+wD(+b),M=c*-(H*k)+(a*b+l*-(u*k))-s*-(d*k),f=a*-(d*k)+(s*b+l*-(H*k))-c*-(u*k),Q=s*-(u*k)+(c*b+l*-(d*k))-a*-(H*k),S=l*b-a*-(u*k)-s*-(H*k)-c*-(d*k),C=d*k*f+(u*k*S+b*M)-H*k*Q,E=u*k*Q+(b*f+H*k*S)-d*k*M,X=H*k*M+(d*k*S+b*Q)-u*k*f,Q=b*S-u*k*M-H*k*f-d*k*Q,T=(uD[t+16>>0]|0)!=0,U=T?i:e,T=T?e:i,B=fD[U+4>>2]|0,P=fD[T+4>>2]|0,U=fD[U+12>>2]|0,k=+gD[U>>2],d=+gD[U+4>>2],f=+gD[U+8>>2],H=+gD[U+16>>2],M=+gD[U+20>>2],u=+gD[U+24>>2],S=+gD[U+32>>2],b=+gD[U+36>>2],R=+gD[U+40>>2],N=+gD[U+48>>2],J=+gD[U+52>>2],O=+gD[U+56>>2],U=fD[T+12>>2]|0,j=+gD[U>>2],z=+gD[U+16>>2],m=+gD[U+32>>2],G=+gD[U+4>>2],F=+gD[U+20>>2],y=+gD[U+36>>2],p=+gD[U+8>>2],A=+gD[U+24>>2],w=+gD[U+40>>2],I=-+gD[U+48>>2],V=-+gD[U+52>>2],L=-+gD[U+56>>2],_=C*(2/(C*C+E*E+X*X+Q*Q)),D=E*(2/(C*C+E*E+X*X+Q*Q)),Z=X*(2/(C*C+E*E+X*X+Q*Q)),K=f*(C*Z-Q*D)+(d*(C*D+Q*Z)+k*(1-(E*D+X*Z))),W=f*(E*Z+Q*_)+(k*(C*D-Q*Z)+d*(1-(C*_+X*Z))),v=k*(C*Z+Q*D)+d*(E*Z-Q*_)+f*(1-(C*_+E*D)),q=u*(C*Z-Q*D)+(M*(C*D+Q*Z)+H*(1-(E*D+X*Z))),x=u*(E*Z+Q*_)+(H*(C*D-Q*Z)+M*(1-(C*_+X*Z))),g=H*(C*Z+Q*D)+M*(E*Z-Q*_)+u*(1-(C*_+E*D)),Y=R*(C*Z-Q*D)+(b*(C*D+Q*Z)+S*(1-(E*D+X*Z))),X=R*(E*Z+Q*_)+(S*(C*D-Q*Z)+b*(1-(C*_+X*Z))),D=S*(C*Z+Q*D)+b*(E*Z-Q*_)+R*(1-(C*_+E*D)),U=fD[(fD[B>>2]|0)+64>>2]|0,E=-+gD[P+48>>2],_=-+gD[P+52>>2],C=-+gD[P+56>>2],gD[r+96>>2]=(w*Y+(p*K+A*q))*C+((m*Y+(j*K+z*q))*E+(y*Y+(G*K+F*q))*_),gD[r+100>>2]=(w*X+(p*W+A*x))*C+((m*X+(j*W+z*x))*E+(y*X+(G*W+F*x))*_),gD[r+104>>2]=(w*D+(p*v+A*g))*C+((m*D+(j*v+z*g))*E+(y*D+(G*v+F*g))*_),gD[r+108>>2]=0,OP[U&127](r+112|0,B,r+96|0),_=+gD[r+112>>2],g=+gD[r+116>>2],v=+gD[r+120>>2],D=+gD[P+48>>2],E=+gD[P+52>>2],C=+gD[P+56>>2],x=C*(N*p+J*A+O*w+(p*I+A*V+w*L)+((k*p+H*A+S*w)*_+(d*p+M*A+b*w)*g+(f*p+u*A+R*w)*v))+(D*(N*j+J*z+O*m+(j*I+z*V+m*L)+((k*j+H*z+S*m)*_+(d*j+M*z+b*m)*g+(f*j+u*z+R*m)*v))+E*(N*G+J*F+O*y+(G*I+F*V+y*L)+((k*G+H*F+S*y)*_+(d*G+M*F+b*y)*g+(f*G+u*F+R*y)*v)))-+gD[P+64>>2],m=N*j+J*z+O*m+(j*I+z*V+m*L)+((k*j+H*z+S*m)*_+(d*j+M*z+b*m)*g+(f*j+u*z+R*m)*v)-D*x,y=N*G+J*F+O*y+(G*I+F*V+y*L)+((k*G+H*F+S*y)*_+(d*G+M*F+b*y)*g+(f*G+u*F+R*y)*v)-E*x,v=N*p+J*A+O*w+(p*I+A*V+w*L)+((k*p+H*A+S*w)*_+(d*p+M*A+b*w)*g+(f*p+u*A+R*w)*v)-C*x,P=fD[T+12>>2]|0,w=+gD[P>>2],R=+gD[P+4>>2],A=+gD[P+8>>2],u=+gD[P+16>>2],p=+gD[P+20>>2],f=+gD[P+24>>2],g=+gD[P+32>>2],b=+gD[P+36>>2],M=+gD[P+40>>2],d=+gD[P+48>>2],_=+gD[P+52>>2],S=+gD[P+56>>2],P=fD[t+12>>2]|0,B=x<+gD[P+752>>2],fD[o+4>>2]=P,B&&(U=fD[T+12>>2]|0,Q=D*+gD[U+16>>2]+E*+gD[U+20>>2]+C*+gD[U+24>>2],Z=D*+gD[U+32>>2]+E*+gD[U+36>>2]+C*+gD[U+40>>2],gD[r+80>>2]=+gD[U>>2]*D+ +gD[U+4>>2]*E+ +gD[U+8>>2]*C,gD[r+84>>2]=Q,gD[r+88>>2]=Z,gD[r+92>>2]=0,gD[r+64>>2]=A*v+(w*m+R*y)+d,gD[r+68>>2]=m*u+y*p+v*f+_,gD[r+72>>2]=m*g+y*b+v*M+S,gD[r+76>>2]=0,IP[fD[(fD[o>>2]|0)+16>>2]&15](o,r+80|0,r+64|0,x)),h=h+1|0,T=fD[t+20>>2]|0;while((h|0)<(T|0))}return(uD[t+8>>0]|0)==0?void(bD=r):(fD[(fD[t+12>>2]|0)+748>>2]|0)==0?void(bD=r):(t=fD[o+4>>2]|0,(fD[t+748>>2]|0)==0?void(bD=r):(e=fD[t+740>>2]|0,i=fD[(fD[o+8>>2]|0)+8>>2]|0,(e|0)==(i|0)?(fw(t,e+4|0,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0),void(bD=r)):(fw(t,(fD[(fD[o+12>>2]|0)+8>>2]|0)+4|0,i+4|0),void(bD=r))))}function ZS(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,1}function $S(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0;if(i=bD,(fD[t+12>>2]|0)==0)return void(bD=i);if((uD[t+8>>0]|0)==0)return void(bD=i);if(n=fD[e+4>>2]|0,(n|0)==(fD[e+8>>2]|0)?(r=(n|0)==0?1:n<<1,(n|0)<(r|0)):0){if((r|0)==0?o=0:(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),n=fD[e+4>>2]|0),(n|0)>0){a=0;do s=o+(a<<2)|0,(s|0)!=0&&(fD[s>>2]=fD[(fD[e+12>>2]|0)+(a<<2)>>2]),a=a+1|0;while((a|0)!=(n|0))}a=fD[e+12>>2]|0,(a|0)!=0&&((uD[e+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0),n=fD[e+4>>2]|0),fD[e+12>>2]=0),uD[e+16>>0]=1,fD[e+12>>2]=o,fD[e+8>>2]=r}r=(fD[e+12>>2]|0)+(n<<2)|0,(r|0)!=0&&(fD[r>>2]=fD[t+12>>2]),fD[e+4>>2]=n+1,bD=i}function tx(t){t|=0;var e=0;return e=bD,ex(t),(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function ex(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(e=bD,fD[t>>2]=19496,i=fD[t+56>>2]|0,(i|0)!=0&&((uD[t+60>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+56>>2]=0),uD[t+60>>0]=1,fD[t+56>>2]=0,fD[t+48>>2]=0,fD[t+52>>2]=0,r=fD[t+28>>2]|0,(r|0)>0){o=0;do n=fD[t+36>>2]|0,l=n+(o*36|0)+4|0,s=n+(o*36|0)+12|0,i=fD[s>>2]|0,a=n+(o*36|0)+16|0,(i|0)!=0&&((uD[a>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[s>>2]=0),uD[a>>0]=1,fD[s>>2]=0,fD[l>>2]=0,fD[n+(o*36|0)+8>>2]=0,o=o+1|0;while((o|0)!=(r|0))}return i=fD[t+36>>2]|0,(i|0)!=0&&((uD[t+40>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+36>>2]=0),uD[t+40>>0]=1,fD[t+36>>2]=0,fD[t+28>>2]=0,fD[t+32>>2]=0,i=fD[t+16>>2]|0,(i|0)==0?(uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,l=t+12|0,fD[l>>2]=0,void(bD=e)):((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+16>>2]=0,uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,l=t+12|0,fD[l>>2]=0,void(bD=e))}function ix(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(e=bD,i=fD[t+28>>2]|0,(i|0)<=0){t=0;do t=t+1|0;while((t|0)<8);return i=1,bD=e,i|0}r=fD[t+36>>2]|0,s=0,a=0,n=0,o=0;t:for(;;){switch(o|0){case 2:n=+gD[t+88>>2]+ +gD[t+72>>2],a=+gD[t+68>>2]-+gD[t+84>>2],s=+gD[t+80>>2]+ +gD[t+64>>2];break;case 6:n=+gD[t+88>>2]+ +gD[t+72>>2],a=+gD[t+68>>2]-+gD[t+84>>2],s=+gD[t+64>>2]-+gD[t+80>>2];break;case 1:n=+gD[t+72>>2]-+gD[t+88>>2],a=+gD[t+84>>2]+ +gD[t+68>>2],s=+gD[t+80>>2]+ +gD[t+64>>2];break;case 5:n=+gD[t+72>>2]-+gD[t+88>>2],a=+gD[t+84>>2]+ +gD[t+68>>2],s=+gD[t+64>>2]-+gD[t+80>>2];break;case 4:n=+gD[t+88>>2]+ +gD[t+72>>2],a=+gD[t+84>>2]+ +gD[t+68>>2],s=+gD[t+64>>2]-+gD[t+80>>2];break;case 0:n=+gD[t+88>>2]+ +gD[t+72>>2],a=+gD[t+84>>2]+ +gD[t+68>>2],s=+gD[t+80>>2]+ +gD[t+64>>2];break;case 3:n=+gD[t+72>>2]-+gD[t+88>>2],a=+gD[t+68>>2]-+gD[t+84>>2],s=+gD[t+80>>2]+ +gD[t+64>>2];break;case 7:n=+gD[t+72>>2]-+gD[t+88>>2],a=+gD[t+68>>2]-+gD[t+84>>2],s=+gD[t+64>>2]-+gD[t+80>>2]}l=0;do{if(+gD[r+(l*36|0)+32>>2]+(s*+gD[r+(l*36|0)+20>>2]+a*+gD[r+(l*36|0)+24>>2]+n*+gD[r+(l*36|0)+28>>2])>0){i=0,t=17;break t}l=l+1|0}while((l|0)<(i|0));if(o=o+1|0,(o|0)>=8){i=1,t=17;break}}return(t|0)==17?(bD=e,i|0):0}function rx(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0;var s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0;if(s=bD,bD=bD+16|0,gD[r>>2]=3.4028234663852886e38,gD[o>>2]=-3.4028234663852886e38,c=fD[t+8>>2]|0,(c|0)>0){h=0;do _=fD[t+16>>2]|0,f=+gD[_+(h<<4)>>2],p=+gD[_+(h<<4)+4>>2],l=+gD[_+(h<<4)+8>>2],u=f*+gD[e>>2]+p*+gD[e+4>>2]+l*+gD[e+8>>2]+ +gD[e+48>>2],d=f*+gD[e+16>>2]+p*+gD[e+20>>2]+l*+gD[e+24>>2]+ +gD[e+52>>2],l=f*+gD[e+32>>2]+p*+gD[e+36>>2]+l*+gD[e+40>>2]+ +gD[e+56>>2],p=u*+gD[i>>2]+d*+gD[i+4>>2]+l*+gD[i+8>>2],p<+gD[r>>2]&&(gD[r>>2]=p,gD[n>>2]=u,gD[n+4>>2]=d,gD[n+8>>2]=l,gD[n+12>>2]=0),p>+gD[o>>2]&&(gD[o>>2]=p,gD[a>>2]=u,gD[a+4>>2]=d,gD[a+8>>2]=l,gD[a+12>>2]=0),h=h+1|0;while((h|0)!=(c|0));d=+gD[o>>2]}else d=-3.4028234663852886e38;return l=+gD[r>>2],l>d?(gD[r>>2]=d,gD[o>>2]=l,fD[s+0>>2]=fD[n+0>>2],fD[s+4>>2]=fD[n+4>>2],fD[s+8>>2]=fD[n+8>>2],fD[s+12>>2]=fD[n+12>>2],fD[n+0>>2]=fD[a+0>>2],fD[n+4>>2]=fD[a+4>>2],fD[n+8>>2]=fD[a+8>>2],fD[n+12>>2]=fD[a+12>>2],fD[a+0>>2]=fD[s+0>>2],fD[a+4>>2]=fD[s+4>>2],fD[a+8>>2]=fD[s+8>>2],fD[a+12>>2]=fD[s+12>>2],void(bD=s)):void(bD=s)}function ox(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0;r=bD,bD=bD+176|0,fD[t+348>>2]=t+220,fD[t+352>>2]=t+252,fD[t+356>>2]=t+284,fD[t+360>>2]=t+316,fD[t+364>>2]=4,fD[t+368>>2]=0,fD[t+376>>2]=0,b=fD[e+4>>2]|0,fD[t>>2]=fD[e>>2],fD[t+4>>2]=b,fD[t+8>>2]=fD[e+8>>2],fD[t+12>>2]=fD[e+12>>2],fD[t+16>>2]=fD[e+16>>2],fD[t+20>>2]=fD[e+20>>2],fD[t+24>>2]=fD[e+24>>2],fD[t+28>>2]=fD[e+28>>2],fD[t+32>>2]=fD[e+32>>2],fD[t+36>>2]=fD[e+36>>2],fD[t+40>>2]=fD[e+40>>2],fD[t+44>>2]=fD[e+44>>2],fD[t+48>>2]=fD[e+48>>2],fD[t+52>>2]=fD[e+52>>2],fD[t+56>>2]=fD[e+56>>2],fD[t+60>>2]=fD[e+60>>2],fD[t+64>>2]=fD[e+64>>2],fD[t+68>>2]=fD[e+68>>2],fD[t+72>>2]=fD[e+72>>2],fD[t+76>>2]=fD[e+76>>2],fD[t+80>>2]=fD[e+80>>2],fD[t+84>>2]=fD[e+84>>2],fD[t+88>>2]=fD[e+88>>2],fD[t+92>>2]=fD[e+92>>2],fD[t+96>>2]=fD[e+96>>2],fD[t+100>>2]=fD[e+100>>2],fD[t+104>>2]=fD[e+104>>2],fD[t+108>>2]=fD[e+108>>2],fD[t+112>>2]=fD[e+112>>2],fD[t+116>>2]=fD[e+116>>2],b=_D[e+120>>0]|_D[e+121>>0]<<8|_D[e+122>>0]<<16|_D[e+123>>0]<<24,v=_D[e+124>>0]|_D[e+125>>0]<<8|_D[e+126>>0]<<16|_D[e+127>>0]<<24,uD[t+120>>0]=b,uD[t+121>>0]=b>>8,uD[t+122>>0]=b>>16,uD[t+123>>0]=b>>24,uD[t+124>>0]=v,uD[t+125>>0]=v>>8,uD[t+126>>0]=v>>16,uD[t+127>>0]=v>>24,gD[t+144>>2]=0,fD[t+180>>2]=0,fD[t+128>>2]=fD[i+0>>2],fD[t+132>>2]=fD[i+4>>2],fD[t+136>>2]=fD[i+8>>2],fD[t+140>>2]=fD[i+12>>2],p=+gD[t+128>>2],f=+gD[t+132>>2],l=+gD[t+136>>2],p*p+f*f+l*l>0?(m=-p,s=-f,_=-l):(m=1,s=0,_=0),gD[t+164>>2]=0,fD[t+364>>2]=3,fD[t+148>>2]=t+316,fD[t+180>>2]=1,sx(t,m,s,_,t+316|0),gD[t+164>>2]=1,e=(fD[t+148>>2]|0)+16|0,fD[t+128>>2]=fD[e+0>>2],fD[t+132>>2]=fD[e+4>>2],fD[t+136>>2]=fD[e+8>>2],fD[t+140>>2]=fD[e+12>>2],fD[r+72>>2]=fD[e+0>>2],fD[r+76>>2]=fD[e+4>>2],fD[r+80>>2]=fD[e+8>>2],fD[r+84>>2]=fD[e+12>>2],fD[r+56>>2]=fD[e+0>>2],fD[r+60>>2]=fD[e+4>>2],fD[r+64>>2]=fD[e+8>>2],fD[r+68>>2]=fD[e+12>>2],fD[r+40>>2]=fD[e+0>>2],fD[r+44>>2]=fD[e+4>>2],fD[r+48>>2]=fD[e+8>>2],fD[r+52>>2]=fD[e+12>>2],fD[r+24>>2]=fD[e+0>>2],fD[r+28>>2]=fD[e+4>>2],fD[r+32>>2]=fD[e+8>>2],fD[r+36>>2]=fD[e+12>>2],s=0,e=1,i=1,M=p*p+f*f+l*l;t:for(;;){if(a=fD[t+368>>2]|0,_=+gD[t+128>>2],f=+gD[t+132>>2],p=+gD[t+136>>2],l=+CD(+(_*_+f*f+p*p)),l<9999999747378752e-20){n=5;break}gD[t+(a*36|0)+(fD[t+(a*36|0)+180>>2]<<2)+164>>2]=0,c=(fD[t+364>>2]|0)+-1|0,fD[t+364>>2]=c,fD[t+(a*36|0)+(fD[t+(a*36|0)+180>>2]<<2)+148>>2]=fD[t+(c<<2)+348>>2],c=fD[t+(a*36|0)+180>>2]|0,fD[t+(a*36|0)+180>>2]=c+1,sx(t,-_,-f,-p,fD[t+(a*36|0)+(c<<2)+148>>2]|0),c=fD[t+(a*36|0)+180>>2]|0,d=fD[t+(a*36|0)+(c+-1<<2)+148>>2]|0,p=+gD[d+16>>2],_=+gD[d+20>>2],f=+gD[d+24>>2],h=0;do if(m=p-+gD[r+24+(h<<4)>>2],g=_-+gD[r+24+(h<<4)+4>>2],y=f-+gD[r+24+(h<<4)+8>>2],h=h+1|0,m*m+g*g+y*y<9999999747378752e-20){n=9;break t}while(h>>>0<4);if(v=r+24+(e<<4)|0,fD[v+0>>2]=fD[d+16>>2],fD[v+4>>2]=fD[d+20>>2],fD[v+8>>2]=fD[d+24>>2],fD[v+12>>2]=fD[d+28>>2],y=(+gD[t+128>>2]*p+ +gD[t+132>>2]*_+ +gD[t+136>>2]*f)/l,s=y>s?y:s,l-s-l*9999999747378752e-20<=0){n=11;break}if(fD[r>>2]=0,(c|0)==4)if(d=fD[t+(a*36|0)+148>>2]|0,u=fD[t+(a*36|0)+152>>2]|0,h=fD[t+(a*36|0)+156>>2]|0,c=fD[t+(a*36|0)+160>>2]|0,fD[r+152>>2]=d+16,fD[r+156>>2]=u+16,fD[r+160>>2]=h+16,fD[r+164>>2]=c+16,_=+gD[d+16>>2],m=+gD[c+16>>2],p=+gD[d+20>>2],g=+gD[c+20>>2],f=+gD[d+24>>2],y=+gD[c+24>>2],gD[r+104>>2]=_-m,gD[r+108>>2]=p-g,gD[r+112>>2]=f-y,gD[r+116>>2]=0,x=+gD[u+16>>2],E=+gD[u+20>>2],M=+gD[u+24>>2],gD[r+120>>2]=x-m,gD[r+124>>2]=E-g,gD[r+128>>2]=M-y,gD[r+132>>2]=0,S=+gD[h+16>>2],C=+gD[h+20>>2],T=+gD[h+24>>2],gD[r+136>>2]=S-m,gD[r+140>>2]=C-g,gD[r+144>>2]=T-y,gD[r+148>>2]=0,l=(p-g)*(M-y)*(S-m)+(f-y)*(x-m)*(C-g)-(C-g)*(M-y)*(_-m)-(p-g)*(x-m)*(T-y)+(T-y)*(_-m)*(E-g)-(S-m)*(f-y)*(E-g),!(l*(f*((x-S)*(p-E)-(E-C)*(_-x))+(_*((E-C)*(f-M)-(M-T)*(p-E))+p*((M-T)*(_-x)-(x-S)*(f-M))))<=0)|(l!=l|!1|l==0))M=-1;else{for(fD[r+92>>2]=0,fD[r+96>>2]=0,fD[r+100>>2]=0,fD[r+88>>2]=0,p-=g,f-=y,_-=m,b=0,M=-1;;){if(v=fD[19552+(b<<2)>>2]|0,T=+gD[r+104+(v<<4)+8>>2],E=+gD[r+104+(v<<4)+4>>2],C=+gD[r+104+(v<<4)>>2],(l*((p*T-f*E)*m+g*(f*C-T*_)+(E*_-p*C)*y)>0?(o=+dx(fD[r+152+(b<<2)>>2]|0,fD[r+152+(v<<2)>>2]|0,c+16|0,r+92|0,r+88|0),M<0|o<M):0)&&(A=fD[r+88>>2]|0,fD[r>>2]=((A&2|0)==0?0:1<<v)+(A<<1&8)+((A&1|0)==0?0:1<<b),gD[r+8+(b<<2)>>2]=+gD[r+92>>2],gD[r+8+(v<<2)>>2]=+gD[r+96>>2],gD[r+8+(fD[19552+(v<<2)>>2]<<2)>>2]=0,gD[r+20>>2]=+gD[r+100>>2],M=o),b=b+1|0,(b|0)==3)break;p=+gD[r+104+(b<<4)+4>>2],f=+gD[r+104+(b<<4)+8>>2],_=+gD[r+104+(b<<4)>>2],m=+gD[c+16>>2],g=+gD[c+20>>2],y=+gD[c+24>>2]}M<0&&(fD[r>>2]=15,M=+gD[h+20>>2],p=+gD[u+24>>2],E=+gD[c+16>>2],g=+gD[h+24>>2],f=+gD[u+16>>2],m=+gD[c+20>>2],S=+gD[h+16>>2],x=+gD[c+24>>2],_=+gD[u+20>>2],gD[r+8>>2]=(M*p*E+g*f*m-m*p*S-M*f*x+x*S*_-E*g*_)/l,y=+gD[d+20>>2],C=+gD[d+24>>2],T=+gD[d+16>>2],gD[r+12>>2]=(y*g*E+C*S*m-m*g*T-y*S*x+x*T*M-E*C*M)/l,gD[r+16>>2]=(_*C*E+p*T*m-m*C*f-_*T*x+x*f*y-E*p*y)/l,gD[r+20>>2]=1-((_*C*E+p*T*m-m*C*f-_*T*x+x*f*y-E*p*y)/l+((M*p*E+g*f*m-m*p*S-M*f*x+x*S*_-E*g*_)/l+(y*g*E+C*S*m-m*g*T-y*S*x+x*T*M-E*C*M)/l)),M=0)}else(c|0)==3?M=+dx((fD[t+(a*36|0)+148>>2]|0)+16|0,(fD[t+(a*36|0)+152>>2]|0)+16|0,(fD[t+(a*36|0)+156>>2]|0)+16|0,r+8|0,r):(c|0)==2&&(M=+hx((fD[t+(a*36|0)+148>>2]|0)+16|0,(fD[t+(a*36|0)+152>>2]|0)+16|0,r+8|0,r));if(!(M>=0)){n=32;break}if(fD[t+((1-a|0)*36|0)+180>>2]=0,fD[t+128>>2]=0,fD[t+132>>2]=0,fD[t+136>>2]=0,fD[t+140>>2]=0,fD[t+368>>2]=1-a,b=fD[t+(a*36|0)+180>>2]|0,c=fD[r>>2]|0,(b|0)!=0){u=0;do d=t+(a*36|0)+(u<<2)+148|0,h=fD[d>>2]|0,(c&1<<u|0)==0?(A=fD[t+364>>2]|0,fD[t+364>>2]=A+1,fD[t+(A<<2)+348>>2]=h):(fD[t+((1-a|0)*36|0)+(fD[t+((1-a|0)*36|0)+180>>2]<<2)+148>>2]=h,T=+gD[r+8+(u<<2)>>2],A=fD[t+((1-a|0)*36|0)+180>>2]|0,fD[t+((1-a|0)*36|0)+180>>2]=A+1,gD[t+((1-a|0)*36|0)+(A<<2)+164>>2]=T,A=fD[d>>2]|0,E=T*+gD[A+20>>2],C=T*+gD[A+24>>2],gD[t+128>>2]=+gD[A+16>>2]*T+ +gD[t+128>>2],gD[t+132>>2]=E+ +gD[t+132>>2],gD[t+136>>2]=C+ +gD[t+136>>2]),u=u+1|0;while((u|0)!=(b|0))}if((c|0)==15&&(fD[t+376>>2]=1),!(i>>>0<128)){n=34;break}if((fD[t+376>>2]|0)!=0)break;e=e+1&3,i=i+1|0}return(n|0)==5?fD[t+376>>2]=1:(n|0)==9?(A=fD[t+368>>2]|0,v=(fD[t+(A*36|0)+180>>2]|0)+-1|0,fD[t+(A*36|0)+180>>2]=v,v=fD[t+(A*36|0)+(v<<2)+148>>2]|0,A=fD[t+364>>2]|0,fD[t+364>>2]=A+1,fD[t+(A<<2)+348>>2]=v):(n|0)==11?(A=fD[t+368>>2]|0,v=(fD[t+(A*36|0)+180>>2]|0)+-1|0,fD[t+(A*36|0)+180>>2]=v,v=fD[t+(A*36|0)+(v<<2)+148>>2]|0,A=fD[t+364>>2]|0,fD[t+364>>2]=A+1,fD[t+(A<<2)+348>>2]=v):(n|0)==32?(A=fD[t+368>>2]|0,v=(fD[t+(A*36|0)+180>>2]|0)+-1|0,fD[t+(A*36|0)+180>>2]=v,v=fD[t+(A*36|0)+(v<<2)+148>>2]|0,A=fD[t+364>>2]|0,fD[t+364>>2]=A+1,fD[t+(A<<2)+348>>2]=v):(n|0)==34&&(fD[t+376>>2]=2),fD[t+372>>2]=t+((fD[t+368>>2]|0)*36|0)+148,n=fD[t+376>>2]|0,(n|0)==1?(gD[t+144>>2]=0,bD=r,n|0):(n|0)==0?(T=+gD[t+128>>2],E=+gD[t+132>>2],C=+gD[t+136>>2],gD[t+144>>2]=+CD(+(T*T+E*E+C*C)),bD=r,n|0):(bD=r,n|0)}function nx(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0;e=bD,bD=bD+32|0,i=fD[t+372>>2]|0,c=fD[i+32>>2]|0;t:do if((c|0)==2){for(h=fD[i+4>>2]|0,i=fD[i>>2]|0,n=+gD[h+16>>2]-+gD[i+16>>2],r=+gD[h+20>>2]-+gD[i+20>>2],o=+gD[h+24>>2]-+gD[i+24>>2],i=0;;){if(h=e+(i<<2)|0,fD[e+0>>2]=0,fD[e+4>>2]=0,fD[e+8>>2]=0,fD[e+12>>2]=0,gD[h>>2]=1,a=+gD[e+8>>2],s=+gD[e+4>>2],l=+gD[e>>2],(r*a-o*s)*(r*a-o*s)+(o*l-n*a)*(o*l-n*a)+(n*s-r*l)*(n*s-r*l)>0){if(c=fD[t+372>>2]|0,gD[c+(fD[c+32>>2]<<2)+16>>2]=0,h=(fD[t+364>>2]|0)+-1|0,fD[t+364>>2]=h,fD[c+(fD[c+32>>2]<<2)>>2]=fD[t+(h<<2)+348>>2],h=fD[c+32>>2]|0,fD[c+32>>2]=h+1,sx(t,r*a-o*s,o*l-n*a,n*s-r*l,fD[c+(h<<2)>>2]|0),nx(t)|0){i=1,t=19;break}if(c=fD[t+372>>2]|0,h=(fD[c+32>>2]|0)+-1|0,fD[c+32>>2]=h,h=fD[c+(h<<2)>>2]|0,c=fD[t+364>>2]|0,fD[t+364>>2]=c+1,fD[t+(c<<2)+348>>2]=h,c=fD[t+372>>2]|0,gD[c+(fD[c+32>>2]<<2)+16>>2]=0,h=(fD[t+364>>2]|0)+-1|0,fD[t+364>>2]=h,fD[c+(fD[c+32>>2]<<2)>>2]=fD[t+(h<<2)+348>>2],h=fD[c+32>>2]|0,fD[c+32>>2]=h+1,sx(t,-(r*a-o*s),-(o*l-n*a),-(n*s-r*l),fD[c+(h<<2)>>2]|0),nx(t)|0){i=1,t=19;break}h=fD[t+372>>2]|0,c=(fD[h+32>>2]|0)+-1|0,fD[h+32>>2]=c,c=fD[h+(c<<2)>>2]|0,h=fD[t+364>>2]|0,fD[t+364>>2]=h+1,fD[t+(h<<2)+348>>2]=c}if(i=i+1|0,!(i>>>0<3))break t}if((t|0)==19)return bD=e,i|0}else if((c|0)==4){if(h=fD[i>>2]|0,c=fD[i+12>>2]|0,l=+gD[c+16>>2],p=+gD[h+16>>2]-l,d=+gD[c+20>>2],r=+gD[h+20>>2]-d,n=+gD[c+24>>2],a=+gD[h+24>>2]-n,h=fD[i+4>>2]|0,o=+gD[h+16>>2]-l,s=+gD[h+20>>2]-d,u=+gD[h+24>>2]-n,h=fD[i+8>>2]|0,l=+gD[h+16>>2]-l,d=+gD[h+20>>2]-d,n=+gD[h+24>>2]-n,!(p*s*n+(r*u*l+a*o*d-p*u*d-r*o*n)-a*s*l!=p*s*n+(r*u*l+a*o*d-p*u*d-r*o*n)-a*s*l|p*s*n+(r*u*l+a*o*d-p*u*d-r*o*n)-a*s*l==0))return h=1,bD=e,h|0}else if((c|0)==3){if(h=fD[i+4>>2]|0,c=fD[i>>2]|0,o=+gD[c+16>>2],r=+gD[h+16>>2]-o,l=+gD[c+20>>2],n=+gD[h+20>>2]-l,a=+gD[c+24>>2],s=+gD[h+24>>2]-a,h=fD[i+8>>2]|0,o=+gD[h+16>>2]-o,l=+gD[h+20>>2]-l,a=+gD[h+24>>2]-a,(n*a-s*l)*(n*a-s*l)+(s*o-r*a)*(s*o-r*a)+(r*l-n*o)*(r*l-n*o)>0){if(gD[i+28>>2]=0,h=(fD[t+364>>2]|0)+-1|0,fD[t+364>>2]=h,fD[i+(fD[i+32>>2]<<2)>>2]=fD[t+(h<<2)+348>>2],h=fD[i+32>>2]|0,fD[i+32>>2]=h+1,sx(t,n*a-s*l,s*o-r*a,r*l-n*o,fD[i+(h<<2)>>2]|0),nx(t)|0)return h=1,bD=e,h|0;if(c=fD[t+372>>2]|0,h=(fD[c+32>>2]|0)+-1|0,fD[c+32>>2]=h,h=fD[c+(h<<2)>>2]|0,c=fD[t+364>>2]|0,fD[t+364>>2]=c+1,fD[t+(c<<2)+348>>2]=h,c=fD[t+372>>2]|0,gD[c+(fD[c+32>>2]<<2)+16>>2]=0,h=(fD[t+364>>2]|0)+-1|0,fD[t+364>>2]=h,fD[c+(fD[c+32>>2]<<2)>>2]=fD[t+(h<<2)+348>>2],h=fD[c+32>>2]|0,fD[c+32>>2]=h+1,sx(t,-(n*a-s*l),-(s*o-r*a),-(r*l-n*o),fD[c+(h<<2)>>2]|0),nx(t)|0)return h=1,bD=e,h|0;h=fD[t+372>>2]|0,c=(fD[h+32>>2]|0)+-1|0,fD[h+32>>2]=c,c=fD[h+(c<<2)>>2]|0,h=fD[t+364>>2]|0,fD[t+364>>2]=h+1,fD[t+(h<<2)+348>>2]=c;break}}else if((c|0)==1){for(h=1,c=0;;){if(f=e+16+(c<<2)|0,fD[e+16>>2]=0,fD[e+20>>2]=0,fD[e+24>>2]=0,fD[e+28>>2]=0,gD[f>>2]=1,f=i+32|0,gD[i+(h<<2)+16>>2]=0,h=(fD[t+364>>2]|0)+-1|0,fD[t+364>>2]=h,fD[i+(fD[f>>2]<<2)>>2]=fD[t+(h<<2)+348>>2],h=fD[f>>2]|0,fD[f>>2]=h+1,r=+gD[e+16>>2],o=+gD[e+20>>2],n=+gD[e+24>>2],sx(t,r,o,n,fD[i+(h<<2)>>2]|0),nx(t)|0){i=1,t=19;break}if(h=fD[t+372>>2]|0,f=(fD[h+32>>2]|0)+-1|0,fD[h+32>>2]=f,f=fD[h+(f<<2)>>2]|0,h=fD[t+364>>2]|0,fD[t+364>>2]=h+1,fD[t+(h<<2)+348>>2]=f,h=fD[t+372>>2]|0,gD[h+(fD[h+32>>2]<<2)+16>>2]=0,f=(fD[t+364>>2]|0)+-1|0,fD[t+364>>2]=f,fD[h+(fD[h+32>>2]<<2)>>2]=fD[t+(f<<2)+348>>2],f=fD[h+32>>2]|0,fD[h+32>>2]=f+1,sx(t,-r,-o,-n,fD[h+(f<<2)>>2]|0),nx(t)|0){i=1,t=19;break}if(f=fD[t+372>>2]|0,h=(fD[f+32>>2]|0)+-1|0,fD[f+32>>2]=h,h=fD[f+(h<<2)>>2]|0,f=fD[t+364>>2]|0,fD[t+364>>2]=f+1,fD[t+(f<<2)+348>>2]=h,c=c+1|0,!(c>>>0<3))break t;i=fD[t+372>>2]|0,h=fD[i+32>>2]|0}if((t|0)==19)return bD=e,i|0}while(0);return f=0,bD=e,f|0}function ax(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0;if(a=bD,n=fD[t+9288>>2]|0,(n|0)==0)return fD[t>>2]=5,f=0,bD=a,f|0;f=fD[n+48>>2]|0,(f|0)!=0&&(fD[f+44>>2]=fD[n+44>>2]),f=fD[n+44>>2]|0,(f|0)!=0&&(fD[f+48>>2]=fD[n+48>>2]),(fD[t+9288>>2]|0)==(n|0)&&(fD[t+9288>>2]=fD[n+48>>2]),fD[t+9292>>2]=(fD[t+9292>>2]|0)+-1,fD[n+44>>2]=0,fD[n+48>>2]=fD[t+9280>>2],f=fD[t+9280>>2]|0,(f|0)!=0&&(fD[f+44>>2]=n),fD[t+9280>>2]=n,fD[t+9284>>2]=(fD[t+9284>>2]|0)+1,uD[n+55>>0]=0,fD[n+20>>2]=e,fD[n+24>>2]=i,fD[n+28>>2]=r,d=+gD[e+16>>2],c=+gD[i+16>>2]-d,p=+gD[e+20>>2],u=+gD[i+20>>2]-p,l=+gD[e+24>>2],s=+gD[i+24>>2]-l,d=+gD[r+16>>2]-d,p=+gD[r+20>>2]-p,l=+gD[r+24>>2]-l,gD[n>>2]=u*l-s*p,gD[n+4>>2]=s*d-c*l,gD[n+8>>2]=c*p-u*d,gD[n+12>>2]=0,h=+CD(+((u*l-s*p)*(u*l-s*p)+(s*d-c*l)*(s*d-c*l)+(c*p-u*d)*(c*p-u*d)));do{if(h>9999999747378752e-20){if(((cx(u*l-s*p,s*d-c*l,c*p-u*d,+gD[e+16>>2],+gD[e+20>>2],+gD[e+24>>2],+gD[i+16>>2],+gD[i+20>>2],+gD[i+24>>2],n+16|0)|0?!0:cx(+gD[n>>2],+gD[n+4>>2],+gD[n+8>>2],+gD[i+16>>2],+gD[i+20>>2],+gD[i+24>>2],+gD[r+16>>2],+gD[r+20>>2],+gD[r+24>>2],n+16|0)|0)?!0:cx(+gD[n>>2],+gD[n+4>>2],+gD[n+8>>2],+gD[r+16>>2],+gD[r+20>>2],+gD[r+24>>2],+gD[e+16>>2],+gD[e+20>>2],+gD[e+24>>2],n+16|0)|0)||(gD[n+16>>2]=(+gD[e+16>>2]*+gD[n>>2]+ +gD[e+20>>2]*+gD[n+4>>2]+ +gD[e+24>>2]*+gD[n+8>>2])/h),gD[n>>2]=1/h*+gD[n>>2],gD[n+4>>2]=1/h*+gD[n+4>>2],gD[n+8>>2]=1/h*+gD[n+8>>2],o)return f=n,bD=a,f|0;if(+gD[n+16>>2]>=-9999999747378752e-21)return f=n,bD=a,f|0;fD[t>>2]=3;break}fD[t>>2]=2}while(0);return o=fD[n+48>>2]|0,(o|0)!=0&&(fD[o+44>>2]=fD[n+44>>2]),o=fD[n+44>>2]|0,(o|0)!=0&&(fD[o+48>>2]=fD[n+48>>2]),(fD[t+9280>>2]|0)==(n|0)&&(fD[t+9280>>2]=fD[n+48>>2]),fD[t+9284>>2]=(fD[t+9284>>2]|0)+-1,fD[n+44>>2]=0,fD[n+48>>2]=fD[t+9288>>2],o=fD[t+9288>>2]|0,(o|0)!=0&&(fD[o+44>>2]=n),fD[t+9288>>2]=n,fD[t+9292>>2]=(fD[t+9292>>2]|0)+1,f=0,bD=a,f|0}function sx(t,e,i,r,o){t|=0,e=+e,i=+i,r=+r,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0;n=bD,bD=bD+48|0,c=1/+CD(+(e*e+i*i+r*r)),gD[o>>2]=c*e,gD[o+4>>2]=c*i,gD[o+8>>2]=c*r,gD[o+12>>2]=0,s=_D[t+120>>0]|_D[t+121>>0]<<8|_D[t+122>>0]<<16|_D[t+123>>0]<<24,l=_D[t+124>>0]|_D[t+125>>0]<<8|_D[t+126>>0]<<16|_D[t+127>>0]<<24,a=(fD[t>>2]|0)+(l>>1)|0,(l&1|0)!=0&&(s=fD[(fD[a>>2]|0)+s>>2]|0),OP[s&127](n,a,o),i=-+gD[o>>2],r=-+gD[o+4>>2],e=-+gD[o+8>>2],s=_D[t+120>>0]|_D[t+121>>0]<<8|_D[t+122>>0]<<16|_D[t+123>>0]<<24,l=_D[t+124>>0]|_D[t+125>>0]<<8|_D[t+126>>0]<<16|_D[t+127>>0]<<24,a=(fD[t+4>>2]|0)+(l>>1)|0,(l&1|0)!=0&&(s=fD[(fD[a>>2]|0)+s>>2]|0),c=+gD[t+24>>2]*i+ +gD[t+28>>2]*r+ +gD[t+32>>2]*e,h=+gD[t+40>>2]*i+ +gD[t+44>>2]*r+ +gD[t+48>>2]*e,gD[n+16>>2]=+gD[t+8>>2]*i+ +gD[t+12>>2]*r+ +gD[t+16>>2]*e,gD[n+20>>2]=c,gD[n+24>>2]=h,gD[n+28>>2]=0,OP[s&127](n+32|0,a,n+16|0),h=+gD[n+32>>2],i=+gD[n+36>>2],r=+gD[n+40>>2],e=+gD[n+4>>2]-(h*+gD[t+72>>2]+i*+gD[t+76>>2]+r*+gD[t+80>>2]+ +gD[t+108>>2]),c=+gD[n+8>>2]-(h*+gD[t+88>>2]+i*+gD[t+92>>2]+r*+gD[t+96>>2]+ +gD[t+112>>2]),gD[o+16>>2]=+gD[n>>2]-(h*+gD[t+56>>2]+i*+gD[t+60>>2]+r*+gD[t+64>>2]+ +gD[t+104>>2]),gD[o+20>>2]=e,gD[o+24>>2]=c,gD[o+28>>2]=0,bD=n
}function lx(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0;return a=bD,(_D[r+55>>0]|0|0)==(e|0)?(o=0,bD=a,o|0):(s=fD[19552+(o<<2)>>2]|0,+gD[r>>2]*+gD[i+16>>2]+ +gD[r+4>>2]*+gD[i+20>>2]+ +gD[r+8>>2]*+gD[i+24>>2]-+gD[r+16>>2]<-9999999747378752e-21?(t=ax(t,fD[r+(s<<2)+20>>2]|0,fD[r+(o<<2)+20>>2]|0,i,0)|0,(t|0)==0?(o=0,bD=a,o|0):(uD[t+52>>0]=o,fD[t+32>>2]=r,uD[r+o+52>>0]=0,fD[r+(o<<2)+32>>2]=t,r=fD[n>>2]|0,(r|0)==0?fD[n+4>>2]=t:(uD[r+53>>0]=2,fD[r+36>>2]=t,uD[t+54>>0]=1,fD[t+40>>2]=r),fD[n>>2]=t,fD[n+8>>2]=(fD[n+8>>2]|0)+1,o=1,bD=a,o|0)):(o=fD[19536+(o<<2)>>2]|0,uD[r+55>>0]=e,lx(t,e,i,fD[r+(s<<2)+32>>2]|0,_D[r+s+52>>0]|0,n)|0&&lx(t,e,i,fD[r+(o<<2)+32>>2]|0,_D[r+o+52>>0]|0,n)|0?(n=fD[r+48>>2]|0,(n|0)!=0&&(fD[n+44>>2]=fD[r+44>>2]),n=fD[r+44>>2]|0,(n|0)!=0&&(fD[n+48>>2]=fD[r+48>>2]),(fD[t+9280>>2]|0)==(r|0)&&(fD[t+9280>>2]=fD[r+48>>2]),fD[t+9284>>2]=(fD[t+9284>>2]|0)+-1,fD[r+44>>2]=0,fD[r+48>>2]=fD[t+9288>>2],n=fD[t+9288>>2]|0,(n|0)!=0&&(fD[n+44>>2]=r),fD[t+9288>>2]=r,fD[t+9292>>2]=(fD[t+9292>>2]|0)+1,o=1,bD=a,o|0):(o=0,bD=a,o|0)))}function cx(t,e,i,r,o,n,a,s,l,c){t=+t,e=+e,i=+i,r=+r,o=+o,n=+n,a=+a,s=+s,l=+l,c|=0;var h=0;return h=bD,((a-r)*e-(s-o)*t)*n+(((s-o)*i-(l-n)*e)*r+((l-n)*t-(a-r)*i)*o)<0?(a-r)*r+(s-o)*o+(l-n)*n>0?(gD[c>>2]=+CD(+(r*r+o*o+n*n)),c=1,bD=h,c|0):(a-r)*a+(s-o)*s+(l-n)*l<0?(gD[c>>2]=+CD(+(a*a+s*s+l*l)),c=1,bD=h,c|0):(e=((a*a+s*s+l*l)*(r*r+o*o+n*n)-(a*r+s*o+l*n)*(a*r+s*o+l*n))/((a-r)*(a-r)+(s-o)*(s-o)+(l-n)*(l-n)),gD[c>>2]=+CD(+(e>0?e:0)),c=1,bD=h,c|0):(c=0,bD=h,c|0)}function hx(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0;return s=bD,l=+gD[t>>2],o=+gD[e>>2]-l,c=+gD[t+4>>2],n=+gD[e+4>>2]-c,h=+gD[t+8>>2],a=+gD[e+8>>2]-h,o*o+n*n+a*a>0?(l=-(l*o+c*n+h*a)/(o*o+n*n+a*a),l>=1?(gD[i>>2]=0,gD[i+4>>2]=1,fD[r>>2]=2,l=+gD[e>>2],c=+gD[e+4>>2],h=+gD[e+8>>2],h=l*l+c*c+h*h,bD=s,+h):l<=0?(gD[i>>2]=1,gD[i+4>>2]=0,fD[r>>2]=1,l=+gD[t>>2],c=+gD[t+4>>2],h=+gD[t+8>>2],h=l*l+c*c+h*h,bD=s,+h):(gD[i+4>>2]=l,gD[i>>2]=1-l,fD[r>>2]=3,o=o*l+ +gD[t>>2],c=n*l+ +gD[t+4>>2],h=a*l+ +gD[t+8>>2],h=o*o+c*c+h*h,bD=s,+h)):(h=-1,bD=s,+h)}function dx(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0;if(g=bD,bD=bD+80|0,fD[g+64>>2]=t,fD[g+68>>2]=e,fD[g+72>>2]=i,f=+gD[t>>2],l=+gD[e>>2],_=+gD[t+4>>2],h=+gD[e+4>>2],m=+gD[t+8>>2],u=+gD[e+8>>2],gD[g+16>>2]=f-l,gD[g+20>>2]=_-h,gD[g+24>>2]=m-u,gD[g+28>>2]=0,c=+gD[i>>2],d=+gD[i+4>>2],p=+gD[i+8>>2],gD[g+32>>2]=l-c,gD[g+36>>2]=h-d,gD[g+40>>2]=u-p,gD[g+44>>2]=0,gD[g+48>>2]=c-f,gD[g+52>>2]=d-_,gD[g+56>>2]=p-m,gD[g+60>>2]=0,a=(_-h)*(u-p)-(m-u)*(h-d),s=(m-u)*(l-c)-(u-p)*(f-l),n=(h-d)*(f-l)-(_-h)*(l-c),!(n*n+(a*a+s*s)>0))return w=-1,bD=g,+w;for(fD[g>>2]=0,fD[g+4>>2]=0,fD[g+8>>2]=0,T=_-h,C=m-u,E=f-l,v=f,M=_,x=m,S=t,A=0,w=-1;;){if((v*(n*T-s*C)+M*(a*C-n*E)+(s*E-a*T)*x>0?(y=fD[19552+(A<<2)>>2]|0,b=+hx(S,fD[g+64+(y<<2)>>2]|0,g,g+8|0),w<0|b<w):0)&&(S=fD[g+8>>2]|0,fD[o>>2]=((S&1|0)==0?0:1<<A)+((S&2|0)==0?0:1<<y),gD[r+(A<<2)>>2]=+gD[g>>2],gD[r+(y<<2)>>2]=+gD[g+4>>2],gD[r+(fD[19552+(y<<2)>>2]<<2)>>2]=0,w=b),A=A+1|0,(A|0)==3)break;S=fD[g+64+(A<<2)>>2]|0,T=+gD[g+16+(A<<4)+4>>2],C=+gD[g+16+(A<<4)+8>>2],E=+gD[g+16+(A<<4)>>2],v=+gD[S>>2],M=+gD[S+4>>2],x=+gD[S+8>>2]}return w<0?(E=+CD(+(n*n+(a*a+s*s))),w=(a*+gD[t>>2]+s*+gD[t+4>>2]+n*+gD[t+8>>2])/(n*n+(a*a+s*s)),fD[o>>2]=7,x=+gD[e>>2]-a*w,M=+gD[e+4>>2]-s*w,C=+gD[e+8>>2]-n*w,C=+CD(+((M*(l-c)-x*(h-d))*(M*(l-c)-x*(h-d))+(((h-d)*C-M*(u-p))*((h-d)*C-M*(u-p))+(x*(u-p)-C*(l-c))*(x*(u-p)-C*(l-c)))))/E,gD[r>>2]=C,x=+gD[i>>2]-a*w,M=+gD[i+4>>2]-s*w,T=+gD[i+8>>2]-n*w,E=+CD(+((M*(c-f)-x*(d-_))*(M*(c-f)-x*(d-_))+(((d-_)*T-M*(p-m))*((d-_)*T-M*(p-m))+(x*(p-m)-T*(c-f))*(x*(p-m)-T*(c-f)))))/E,gD[r+4>>2]=E,gD[r+8>>2]=1-(E+C),w=n*w*n*w+(a*w*a*w+s*w*s*w),bD=g,+w):(bD=g,+w)}function ux(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(i=bD,r=fD[t+12>>2]|0,e=fD[t+32>>2]|0,(e|0)>=(r|0))return void(bD=i);if((e|0)<=(r|0)){if((fD[t+36>>2]|0)<(r|0)){if((r|0)==0?(o=0,a=e):(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),a=fD[t+32>>2]|0),(a|0)>0){n=0;do s=o+(n<<2)|0,(s|0)!=0&&(fD[s>>2]=fD[(fD[t+40>>2]|0)+(n<<2)>>2]),n=n+1|0;while((n|0)!=(a|0))}n=fD[t+40>>2]|0,(n|0)!=0&&((uD[t+44>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0)),fD[t+40>>2]=0),uD[t+44>>0]=1,fD[t+40>>2]=o,fD[t+36>>2]=r}else o=fD[t+40>>2]|0;n=e;do a=o+(n<<2)|0,(a|0)!=0&&(fD[a>>2]=0),n=n+1|0;while((n|0)!=(r|0))}if(fD[t+32>>2]=r,o=fD[t+52>>2]|0,(o|0)<(r|0)){if((fD[t+56>>2]|0)<(r|0)){if((r|0)==0?(n=0,a=o):(fD[5004]=(fD[5004]|0)+1,n=Ew((r<<2|3)+16|0)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),a=fD[t+52>>2]|0),(a|0)>0){s=0;do l=n+(s<<2)|0,(l|0)!=0&&(fD[l>>2]=fD[(fD[t+60>>2]|0)+(s<<2)>>2]),s=s+1|0;while((s|0)!=(a|0))}a=fD[t+60>>2]|0,(a|0)!=0&&((uD[t+64>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[t+60>>2]=0),uD[t+64>>0]=1,fD[t+60>>2]=n,fD[t+56>>2]=r}else n=fD[t+60>>2]|0;do a=n+(o<<2)|0,(a|0)!=0&&(fD[a>>2]=0),o=o+1|0;while((o|0)!=(r|0))}if(fD[t+52>>2]=r,(r|0)>0&&(Rw(fD[t+40>>2]|0,-1,r<<2|0)|0,Rw(fD[t+60>>2]|0,-1,r<<2|0)|0),(e|0)<=0)return void(bD=i);n=fD[t+16>>2]|0,o=fD[t+40>>2]|0,r=fD[t+60>>2]|0,a=0;do l=fD[n+(a*12|0)+4>>2]<<16|fD[n+(a*12|0)>>2],l=(l+~(l<<15)>>10^l+~(l<<15))*9|0,l=o+((((l>>6^l)+~((l>>6^l)<<11)>>16^(l>>6^l)+~((l>>6^l)<<11))&(fD[t+12>>2]|0)+-1)<<2)|0,fD[r+(a<<2)>>2]=fD[l>>2],fD[l>>2]=a,a=a+1|0;while((a|0)!=(e|0));bD=i}function px(t){t|=0;var e=0;e=bD,fx(t),Cw(t),bD=e}function fx(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=19600,i=fD[t+60>>2]|0,(i|0)!=0&&((uD[t+64>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+60>>2]=0),uD[t+64>>0]=1,fD[t+60>>2]=0,fD[t+52>>2]=0,fD[t+56>>2]=0,i=fD[t+40>>2]|0,(i|0)!=0&&((uD[t+44>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+40>>2]=0),uD[t+44>>0]=1,fD[t+40>>2]=0,fD[t+32>>2]=0,fD[t+36>>2]=0,i=fD[t+16>>2]|0,(i|0)==0?(uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,i=t+12|0,fD[i>>2]=0,void(bD=e)):((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+16>>2]=0,uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,i=t+12|0,fD[i>>2]=0,void(bD=e))}function _x(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0;if(e=bD,i=fD[t+16>>2]|0,(i|0)!=0&&((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+16>>2]=0),uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,i=fD[t+40>>2]|0,(i|0)!=0&&((uD[t+44>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+40>>2]=0),uD[t+44>>0]=1,fD[t+40>>2]=0,fD[t+32>>2]=0,fD[t+36>>2]=0,i=fD[t+60>>2]|0,(i|0)!=0&&((uD[t+64>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+60>>2]=0),uD[t+64>>0]=1,fD[t+60>>2]=0,fD[t+52>>2]=0,fD[t+56>>2]=0,(fD[t+12>>2]|0)>=2)return ux(t),void(bD=e);if(fD[5004]=(fD[5004]|0)+1,i=Ew(43)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),r=fD[t+8>>2]|0,(r|0)>0){n=0;do o=i+(n*12|0)|0,(o|0)!=0&&(a=(fD[t+16>>2]|0)+(n*12|0)|0,fD[o+0>>2]=fD[a+0>>2],fD[o+4>>2]=fD[a+4>>2],fD[o+8>>2]=fD[a+8>>2]),n=n+1|0;while((n|0)!=(r|0))}r=fD[t+16>>2]|0,(r|0)!=0&&((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[t+16>>2]=0),uD[t+20>>0]=1,fD[t+16>>2]=i,fD[t+12>>2]=2,ux(t),bD=e}function mx(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0;if(r=bD,fD[4892]=(fD[4892]|0)+1,l=((i<<16|e)+~((i<<16|e)<<15)>>10^(i<<16|e)+~((i<<16|e)<<15))*9|0,n=fD[t+40>>2]|0,l=n+(((fD[t+12>>2]|0)+-1&((l>>6^l)+~((l>>6^l)<<11)>>16^(l>>6^l)+~((l>>6^l)<<11)))<<2)|0,c=fD[l>>2]|0,(c|0)==-1)return u=0,bD=r,u|0;for(a=fD[t+16>>2]|0,s=c;;){if((fD[a+(s*12|0)>>2]|0)==(e|0)?(fD[a+(s*12|0)+4>>2]|0)==(i|0):0)break;if(s=fD[(fD[t+60>>2]|0)+(s<<2)>>2]|0,(s|0)==-1){t=0,o=22;break}}if((o|0)==22)return bD=r,t|0;if((a+(s*12|0)|0)==0)return u=0,bD=r,u|0;if(e=fD[a+(s*12|0)+8>>2]|0,s=(s*12|0)/12|0,i=fD[t+60>>2]|0,(c|0)!=(s|0)){for(;;){if(h=i+(c<<2)|0,d=fD[h>>2]|0,(d|0)==(s|0))break;c=d}d=fD[i+(s<<2)>>2]|0,(c|0)==-1?o=12:fD[h>>2]=d}else d=fD[i+(c<<2)>>2]|0,o=12;if((o|0)==12&&(fD[l>>2]=d),c=(fD[t+8>>2]|0)+-1|0,(c|0)==(s|0))return fD[t+8>>2]=s,u=e,bD=r,u|0;if(l=fD[a+(c*12|0)+4>>2]<<16|fD[a+(c*12|0)>>2],l=(l+~(l<<15)>>10^l+~(l<<15))*9|0,l=((l>>6^l)+~((l>>6^l)<<11)>>16^(l>>6^l)+~((l>>6^l)<<11))&(fD[t+12>>2]|0)+-1,d=fD[n+(l<<2)>>2]|0,(d|0)!=(c|0)){for(;;){if(h=i+(d<<2)|0,u=fD[h>>2]|0,(u|0)==(c|0))break;d=u}i=fD[i+(c<<2)>>2]|0,(d|0)==-1?o=20:fD[h>>2]=i}else i=fD[i+(c<<2)>>2]|0,o=20;return(o|0)==20&&(fD[n+(l<<2)>>2]=i),fD[a+(s*12|0)+0>>2]=fD[a+(c*12|0)+0>>2],fD[a+(s*12|0)+4>>2]=fD[a+(c*12|0)+4>>2],fD[a+(s*12|0)+8>>2]=fD[a+(c*12|0)+8>>2],u=(fD[t+40>>2]|0)+(l<<2)|0,fD[(fD[t+60>>2]|0)+(s<<2)>>2]=fD[u>>2],fD[u>>2]=s,fD[t+8>>2]=(fD[t+8>>2]|0)+-1,u=e,bD=r,u|0}function gx(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0;r=bD,fD[4894]=(fD[4894]|0)+1,n=((i<<16|e)+~((i<<16|e)<<15)>>10^(i<<16|e)+~((i<<16|e)<<15))*9|0,n=(n>>6^n)+~((n>>6^n)<<11)>>16^(n>>6^n)+~((n>>6^n)<<11),o=fD[t+12>>2]|0,s=fD[(fD[t+40>>2]|0)+((o+-1&n)<<2)>>2]|0;t:do if((s|0)!=-1){for(a=fD[t+16>>2]|0;;){if((fD[a+(s*12|0)>>2]|0)==(e|0)?(fD[a+(s*12|0)+4>>2]|0)==(i|0):0)break;if(s=fD[(fD[t+60>>2]|0)+(s<<2)>>2]|0,(s|0)==-1)break t}if(a=a+(s*12|0)|0,(a|0)!=0)return d=a,bD=r,d|0}while(0);if(a=fD[t+8>>2]|0,(a|0)==(o|0))if(s=(o|0)==0?1:o<<1,(o|0)<(s|0)){if((s|0)==0?(l=0,d=o):(fD[5004]=(fD[5004]|0)+1,l=Ew((s*12|3)+16|0)|0,(l|0)==0?l=0:(fD[(l+19&-16)+-4>>2]=l,l=l+19&-16),d=fD[t+8>>2]|0),(d|0)>0){h=0;do c=l+(h*12|0)|0,(c|0)!=0&&(u=(fD[t+16>>2]|0)+(h*12|0)|0,fD[c+0>>2]=fD[u+0>>2],fD[c+4>>2]=fD[u+4>>2],fD[c+8>>2]=fD[u+8>>2]),h=h+1|0;while((h|0)!=(d|0))}c=fD[t+16>>2]|0,(c|0)!=0&&((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[c+-4>>2]|0)),fD[t+16>>2]=0),uD[t+20>>0]=1,fD[t+16>>2]=l,fD[t+12>>2]=s,l=fD[t+8>>2]|0}else l=o,s=o;else l=a,s=o;return fD[t+8>>2]=l+1,l=fD[t+16>>2]|0,(o|0)<(s|0)?(ux(t),o=(fD[t+12>>2]|0)+-1&n):o=o+-1&n,(l+(a*12|0)|0)==0?e=0:(fD[l+(a*12|0)>>2]=e,fD[l+(a*12|0)+4>>2]=i,fD[l+(a*12|0)+8>>2]=0,e=l+(a*12|0)|0),fD[e+8>>2]=0,u=(fD[t+40>>2]|0)+(o<<2)|0,fD[(fD[t+60>>2]|0)+(a<<2)>>2]=fD[u>>2],fD[u>>2]=a,u=e,bD=r,u|0}function yx(t){return t|=0,fD[t+16>>2]|0}function bx(t,e,i,r,o,n,a,s,l,c,h){t|=0,e|=0,i=+i,r=+r,o=+o,n=+n,a=+a,s=+s,l|=0,c|=0,h=+h;var d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0;return p=bD,u=+gD[t>>2]*n+ +gD[t+16>>2]*a+ +gD[t+32>>2]*s,d=+gD[t+4>>2]*n+ +gD[t+20>>2]*a+ +gD[t+36>>2]*s,_=+gD[t+8>>2]*n+ +gD[t+24>>2]*a+ +gD[t+40>>2]*s,f=+gD[e>>2]*n+ +gD[e+16>>2]*a+ +gD[e+32>>2]*s,m=+gD[e+4>>2]*n+ +gD[e+20>>2]*a+ +gD[e+36>>2]*s,g=+gD[e+8>>2]*n+ +gD[e+24>>2]*a+ +gD[e+40>>2]*s,y=+gD[l+80>>2],u<0&&(y=-y),b=+gD[l+84>>2],d<0&&(b=-b),v=+gD[l+88>>2],_<0&&(v=-v),M=+gD[c+80>>2],f<0&&(M=-M),S=+gD[c+84>>2],m<0&&(S=-S),x=+gD[c+88>>2],g<0?(E=-x,T=u*y,x=d*b,x=T+x,T=_*v,T=x+T,M=f*M,x=m*S,x=M+x,S=g*E,S=x+S,t=l+96|0,x=+gD[t>>2],t=T>x,x=t?T:x,t=c+96|0,T=+gD[t>>2],t=S>T,T=t?S:T,T=x+T,x=i*n+r*a+o*s+T,T-=i*n+r*a+o*s,t=x<T,T=t?x:T,t=!(T>h),bD=p,t|0):(T=x,x=u*y,b=d*b,b=x+b,x=_*v,x=b+x,M=f*M,S=m*S,S=M+S,M=g*T,M=S+M,t=l+96|0,S=+gD[t>>2],t=x>S,S=t?x:S,t=c+96|0,x=+gD[t>>2],t=M>x,x=t?M:x,x=S+x,S=i*n+r*a+o*s+x,x-=i*n+r*a+o*s,t=S<x,x=t?S:x,t=!(x>h),bD=p,t|0)}function vx(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o=+o,n=+n,a|=0;var s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0;if(s=bD,bD=bD+64|0,uD[s+48>>0]=1,fD[s+44>>2]=0,fD[s+36>>2]=0,fD[s+40>>2]=0,l=fD[r+4>>2]|0,(l|0)>0?(fD[5004]=(fD[5004]|0)+1,c=Ew((l<<4|3)+16|0)|0,(c|0)==0?m=0:(fD[(c+19&-16)+-4>>2]=c,m=c+19&-16),uD[s+48>>0]=1,fD[s+44>>2]=m,fD[s+40>>2]=l):m=0,_=fD[e+28>>2]|0,(_|0)>0){for(c=fD[e+36>>2]|0,w=+gD[i>>2],k=+gD[i+4>>2],H=+gD[i+8>>2],C=+gD[i+16>>2],E=+gD[i+20>>2],T=+gD[i+24>>2],x=+gD[i+32>>2],S=+gD[i+36>>2],M=+gD[i+40>>2],z=+gD[t>>2],G=+gD[t+4>>2],X=+gD[t+8>>2],l=-1,F=3.4028234663852886e38,g=0;;){if(N=+gD[c+(g*36|0)+20>>2],O=+gD[c+(g*36|0)+24>>2],I=+gD[c+(g*36|0)+28>>2],f=(N*w+O*k+I*H)*z+(N*C+O*E+I*T)*G+(N*x+O*S+I*M)*X<F,l=f?g:l,g=g+1|0,(g|0)>=(_|0))break;F=f?(N*w+O*k+I*H)*z+(N*C+O*E+I*T)*G+(N*x+O*S+I*M)*X:F}if((l|0)>=0){if(g=fD[c+(l*36|0)+4>>2]|0,(g|0)>0)for(y=c+(l*36|0)+12|0,f=c+(l*36|0)+20|0,m=c+(l*36|0)+24|0,_=c+(l*36|0)+28|0,I=C,O=E,N=T,F=x,G=S,z=M,v=s+32|0,b=0;;){if(A=fD[y>>2]|0,W=fD[A+(b<<2)>>2]|0,L=fD[e+16>>2]|0,b=b+1|0,A=fD[A+(((b|0)==(g|0)?0:b)<<2)>>2]|0,K=+gD[L+(W<<4)>>2],Y=K-+gD[L+(A<<4)>>2],q=+gD[L+(W<<4)+4>>2],Q=q-+gD[L+(A<<4)+4>>2],X=+gD[L+(W<<4)+8>>2],T=X-+gD[L+(A<<4)+8>>2],x=Y*w+Q*k+T*H,S=Y*I+Q*O+T*N,T=Y*F+Q*G+T*z,Q=+gD[f>>2],Y=+gD[m>>2],M=+gD[_>>2],C=w*Q+k*Y+H*M,E=I*Q+O*Y+N*M,M=F*Q+G*Y+z*M,w=(K*w+q*k+X*H+ +gD[i+48>>2])*-(S*M-T*E)+(K*I+q*O+X*N+ +gD[i+52>>2])*-(T*C-x*M)+(K*F+q*G+X*z+ +gD[i+56>>2])*-(x*E-S*C),A=r+4|0,L=fD[A>>2]|0,(L|0)>=2){for(V=r+12|0,j=fD[V>>2]|0,Y=+gD[j+(L+-1<<4)>>2],Q=+gD[j+(L+-1<<4)+4>>2],X=+gD[j+(L+-1<<4)+8>>2],P=v+4|0,R=v+8|0,B=v+12|0,D=v+16|0,F=Y,G=Q,z=X,X=Y*-(S*M-T*E)+Q*-(T*C-x*M)+X*-(x*E-S*C)-w,J=0;;){H=+gD[j+(J<<4)>>2],I=+gD[j+(J<<4)+4>>2],O=+gD[j+(J<<4)+8>>2],N=+gD[j+(J<<4)+12>>2],k=H*-(S*M-T*E)+I*-(T*C-x*M)+O*-(x*E-S*C)-w;do{if(X<0){if(k<0){if(U=fD[P>>2]|0,(U|0)==(fD[R>>2]|0)?(p=(U|0)==0?1:U<<1,(U|0)<(p|0)):0){if((p|0)==0?j=0:(fD[5004]=(fD[5004]|0)+1,j=Ew((p<<4|3)+16|0)|0,(j|0)==0?j=0:(fD[(j+19&-16)+-4>>2]=j,j=j+19&-16),U=fD[P>>2]|0),(U|0)>0){W=0;do Z=j+(W<<4)|0,$=(fD[B>>2]|0)+(W<<4)|0,fD[Z+0>>2]=fD[$+0>>2],fD[Z+4>>2]=fD[$+4>>2],fD[Z+8>>2]=fD[$+8>>2],fD[Z+12>>2]=fD[$+12>>2],W=W+1|0;while((W|0)!=(U|0))}U=fD[B>>2]|0,(U|0)!=0&&((uD[D>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[U+-4>>2]|0)),fD[B>>2]=0),uD[D>>0]=1,fD[B>>2]=j,fD[R>>2]=p,U=fD[P>>2]|0}$=fD[B>>2]|0,gD[$+(U<<4)>>2]=H,gD[$+(U<<4)+4>>2]=I,gD[$+(U<<4)+8>>2]=O,gD[$+(U<<4)+12>>2]=N,fD[P>>2]=(fD[P>>2]|0)+1;break}if(Q=X/(X-k),N=F+(H-F)*Q,F=G+(I-G)*Q,G=z+(O-z)*Q,W=fD[P>>2]|0,(W|0)==(fD[R>>2]|0)?(d=(W|0)==0?1:W<<1,(W|0)<(d|0)):0){if((d|0)==0?j=0:(fD[5004]=(fD[5004]|0)+1,j=Ew((d<<4|3)+16|0)|0,(j|0)==0?j=0:(fD[(j+19&-16)+-4>>2]=j,j=j+19&-16),W=fD[P>>2]|0),(W|0)>0){U=0;do $=j+(U<<4)|0,Z=(fD[B>>2]|0)+(U<<4)|0,fD[$+0>>2]=fD[Z+0>>2],fD[$+4>>2]=fD[Z+4>>2],fD[$+8>>2]=fD[Z+8>>2],fD[$+12>>2]=fD[Z+12>>2],U=U+1|0;while((U|0)!=(W|0))}U=fD[B>>2]|0,(U|0)!=0&&((uD[D>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[U+-4>>2]|0)),fD[B>>2]=0),uD[D>>0]=1,fD[B>>2]=j,fD[R>>2]=d,W=fD[P>>2]|0}$=fD[B>>2]|0,gD[$+(W<<4)>>2]=N,gD[$+(W<<4)+4>>2]=F,gD[$+(W<<4)+8>>2]=G,gD[$+(W<<4)+12>>2]=0,fD[P>>2]=(fD[P>>2]|0)+1;break}if(k<0){if(Q=X/(X-k),F+=(H-F)*Q,G+=(I-G)*Q,z+=(O-z)*Q,U=fD[P>>2]|0,(U|0)==(fD[R>>2]|0)?(h=(U|0)==0?1:U<<1,(U|0)<(h|0)):0){if((h|0)==0?j=0:(fD[5004]=(fD[5004]|0)+1,j=Ew((h<<4|3)+16|0)|0,(j|0)==0?j=0:(fD[(j+19&-16)+-4>>2]=j,j=j+19&-16),U=fD[P>>2]|0),(U|0)>0){W=0;do $=j+(W<<4)|0,Z=(fD[B>>2]|0)+(W<<4)|0,fD[$+0>>2]=fD[Z+0>>2],fD[$+4>>2]=fD[Z+4>>2],fD[$+8>>2]=fD[Z+8>>2],fD[$+12>>2]=fD[Z+12>>2],W=W+1|0;while((W|0)!=(U|0))}U=fD[B>>2]|0,(U|0)!=0&&((uD[D>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[U+-4>>2]|0)),fD[B>>2]=0),uD[D>>0]=1,fD[B>>2]=j,fD[R>>2]=h,U=fD[P>>2]|0}if($=fD[B>>2]|0,gD[$+(U<<4)>>2]=F,gD[$+(U<<4)+4>>2]=G,gD[$+(U<<4)+8>>2]=z,gD[$+(U<<4)+12>>2]=0,U=(fD[P>>2]|0)+1|0,fD[P>>2]=U,(U|0)==(fD[R>>2]|0)?(u=(U|0)==0?1:U<<1,(U|0)<(u|0)):0){if((u|0)==0?j=0:(fD[5004]=(fD[5004]|0)+1,j=Ew((u<<4|3)+16|0)|0,(j|0)==0?j=0:(fD[(j+19&-16)+-4>>2]=j,j=j+19&-16),U=fD[P>>2]|0),(U|0)>0){W=0;do $=j+(W<<4)|0,Z=(fD[B>>2]|0)+(W<<4)|0,fD[$+0>>2]=fD[Z+0>>2],fD[$+4>>2]=fD[Z+4>>2],fD[$+8>>2]=fD[Z+8>>2],fD[$+12>>2]=fD[Z+12>>2],W=W+1|0;while((W|0)!=(U|0))}U=fD[B>>2]|0,(U|0)!=0&&((uD[D>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[U+-4>>2]|0)),fD[B>>2]=0),uD[D>>0]=1,fD[B>>2]=j,fD[R>>2]=u,U=fD[P>>2]|0}$=fD[B>>2]|0,gD[$+(U<<4)>>2]=H,gD[$+(U<<4)+4>>2]=I,gD[$+(U<<4)+8>>2]=O,gD[$+(U<<4)+12>>2]=N,fD[P>>2]=(fD[P>>2]|0)+1}}while(0);if(J=J+1|0,(J|0)==(L|0))break;j=fD[V>>2]|0,F=H,G=I,z=O,X=k}L=fD[A>>2]|0}if((L|0)<0){B=r+8|0,R=r+12|0,(fD[B>>2]|0)<0&&(D=fD[R>>2]|0,P=r+16|0,(D|0)!=0&&((uD[P>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[D+-4>>2]|0)),fD[R>>2]=0),uD[P>>0]=1,fD[R>>2]=0,fD[B>>2]=0);do $=(fD[R>>2]|0)+(L<<4)|0,fD[$+0>>2]=fD[s+16>>2],fD[$+4>>2]=fD[s+20>>2],fD[$+8>>2]=fD[s+24>>2],fD[$+12>>2]=fD[s+28>>2],L=L+1|0;while((L|0)!=0)}if(fD[A>>2]=0,w=+gD[i>>2],k=+gD[i+4>>2],H=+gD[i+8>>2],C=+gD[i+16>>2],E=+gD[i+20>>2],T=+gD[i+24>>2],x=+gD[i+32>>2],S=+gD[i+36>>2],M=+gD[i+40>>2],(b|0)>=(g|0)){r=v,h=i+48|0,e=i+52|0,i=i+56|0;break}$=v,I=C,O=E,N=T,F=x,G=S,z=M,v=r,r=$}else m=c+(l*36|0)+24|0,_=c+(l*36|0)+28|0,h=i+48|0,e=i+52|0,i=i+56|0,f=c+(l*36|0)+20|0;if(K=+gD[f>>2],Y=+gD[m>>2],Q=+gD[_>>2],w=K*w+Y*k+Q*H,T=K*C+Y*E+Q*T,M=K*x+Y*S+Q*M,S=+gD[c+(l*36|0)+32>>2]-(w*+gD[h>>2]+T*+gD[e>>2]+M*+gD[i>>2]),l=r+4|0,e=fD[l>>2]|0,(e|0)>0){c=r+12|0,i=0;do $=fD[c>>2]|0,h=$+(i<<4)|0,x=S+(w*+gD[h>>2]+T*+gD[$+(i<<4)+4>>2]+M*+gD[$+(i<<4)+8>>2]),x=x<=o?o:x,x<=n&&(fD[s+0>>2]=fD[h+0>>2],fD[s+4>>2]=fD[h+4>>2],fD[s+8>>2]=fD[h+8>>2],fD[s+12>>2]=fD[h+12>>2],IP[fD[(fD[a>>2]|0)+16>>2]&15](a,t,s,x),e=fD[l>>2]|0),i=i+1|0;while((i|0)<(e|0))}m=fD[s+44>>2]|0}}return(m|0)==0?void(bD=s):((uD[s+48>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[m+-4>>2]|0)),fD[s+44>>2]=0,void(bD=s))}function Mx(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0;if(s=bD,bD=bD+80|0,i=lP[fD[(fD[t>>2]|0)+28>>2]&127](t)|0,a=+gD[t+4>>2],o=+gD[t+8>>2],n=+gD[t+12>>2],(i|0)<=0)return void(bD=s);r=0;do{CP[fD[(fD[t>>2]|0)+16>>2]&3](t,s+76|0,s+52|0,s+64|0,s+56|0,s+72|0,s+68|0,s+48|0,s+60|0,r),l=fD[s+64>>2]|0;do if((l|0)==1)if(l=fD[s+60>>2]|0,(l|0)==3){if(!((fD[s+48>>2]|0)>0))break;l=0;do f=fD[s+72>>2]|0,p=VD(fD[s+68>>2]|0,l)|0,u=fD[s+76>>2]|0,d=fD[s+56>>2]|0,_=VD(mD[f+p>>1]|0,d)|0,h=o*+yD[u+(_+8)>>3],c=n*+yD[u+(_+16)>>3],gD[s>>2]=a*+yD[u+_>>3],gD[s+4>>2]=h,gD[s+8>>2]=c,gD[s+12>>2]=0,_=VD(mD[f+(p+2)>>1]|0,d)|0,c=o*+yD[u+(_+8)>>3],h=n*+yD[u+(_+16)>>3],gD[s+16>>2]=a*+yD[u+_>>3],gD[s+20>>2]=c,gD[s+24>>2]=h,gD[s+28>>2]=0,d=VD(mD[f+(p+4)>>1]|0,d)|0,h=o*+yD[u+(d+8)>>3],c=n*+yD[u+(d+16)>>3],gD[s+32>>2]=a*+yD[u+d>>3],gD[s+36>>2]=h,gD[s+40>>2]=c,gD[s+44>>2]=0,GP[fD[(fD[e>>2]|0)+8>>2]&127](e,s,r,l),l=l+1|0;while((l|0)<(fD[s+48>>2]|0))}else if((l|0)==5){if(!((fD[s+48>>2]|0)>0))break;l=0;do u=fD[s+72>>2]|0,p=VD(fD[s+68>>2]|0,l)|0,f=fD[s+76>>2]|0,_=fD[s+56>>2]|0,d=VD(_D[u+p>>0]|0,_)|0,c=o*+yD[f+(d+8)>>3],h=n*+yD[f+(d+16)>>3],gD[s>>2]=a*+yD[f+d>>3],gD[s+4>>2]=c,gD[s+8>>2]=h,gD[s+12>>2]=0,d=VD(_D[u+(p+1)>>0]|0,_)|0,h=o*+yD[f+(d+8)>>3],c=n*+yD[f+(d+16)>>3],gD[s+16>>2]=a*+yD[f+d>>3],gD[s+20>>2]=h,gD[s+24>>2]=c,gD[s+28>>2]=0,_=VD(_D[u+(p+2)>>0]|0,_)|0,c=o*+yD[f+(_+8)>>3],h=n*+yD[f+(_+16)>>3],gD[s+32>>2]=a*+yD[f+_>>3],gD[s+36>>2]=c,gD[s+40>>2]=h,gD[s+44>>2]=0,GP[fD[(fD[e>>2]|0)+8>>2]&127](e,s,r,l),l=l+1|0;while((l|0)<(fD[s+48>>2]|0))}else{if((l|0)!=2)break;if(!((fD[s+48>>2]|0)>0))break;l=0;do p=fD[s+72>>2]|0,_=VD(fD[s+68>>2]|0,l)|0,f=fD[s+76>>2]|0,u=fD[s+56>>2]|0,d=VD(u,fD[p+_>>2]|0)|0,c=o*+yD[f+(d+8)>>3],h=n*+yD[f+(d+16)>>3],gD[s>>2]=a*+yD[f+d>>3],gD[s+4>>2]=c,gD[s+8>>2]=h,gD[s+12>>2]=0,d=VD(u,fD[p+(_+4)>>2]|0)|0,h=o*+yD[f+(d+8)>>3],c=n*+yD[f+(d+16)>>3],gD[s+16>>2]=a*+yD[f+d>>3],gD[s+20>>2]=h,gD[s+24>>2]=c,gD[s+28>>2]=0,_=VD(u,fD[p+(_+8)>>2]|0)|0,c=o*+yD[f+(_+8)>>3],h=n*+yD[f+(_+16)>>3],gD[s+32>>2]=a*+yD[f+_>>3],gD[s+36>>2]=c,gD[s+40>>2]=h,gD[s+44>>2]=0,GP[fD[(fD[e>>2]|0)+8>>2]&127](e,s,r,l),l=l+1|0;while((l|0)<(fD[s+48>>2]|0))}else if((l|0)==0)if(l=fD[s+60>>2]|0,(l|0)==5){if(!((fD[s+48>>2]|0)>0))break;l=0;do u=fD[s+72>>2]|0,p=VD(fD[s+68>>2]|0,l)|0,f=fD[s+76>>2]|0,_=fD[s+56>>2]|0,d=VD(_D[u+p>>0]|0,_)|0,c=o*+gD[f+(d+4)>>2],h=n*+gD[f+(d+8)>>2],gD[s>>2]=a*+gD[f+d>>2],gD[s+4>>2]=c,gD[s+8>>2]=h,gD[s+12>>2]=0,d=VD(_D[u+(p+1)>>0]|0,_)|0,h=o*+gD[f+(d+4)>>2],c=n*+gD[f+(d+8)>>2],gD[s+16>>2]=a*+gD[f+d>>2],gD[s+20>>2]=h,gD[s+24>>2]=c,gD[s+28>>2]=0,_=VD(_D[u+(p+2)>>0]|0,_)|0,c=o*+gD[f+(_+4)>>2],h=n*+gD[f+(_+8)>>2],gD[s+32>>2]=a*+gD[f+_>>2],gD[s+36>>2]=c,gD[s+40>>2]=h,gD[s+44>>2]=0,GP[fD[(fD[e>>2]|0)+8>>2]&127](e,s,r,l),l=l+1|0;while((l|0)<(fD[s+48>>2]|0))}else if((l|0)==3){if(!((fD[s+48>>2]|0)>0))break;l=0;do u=fD[s+72>>2]|0,p=VD(fD[s+68>>2]|0,l)|0,f=fD[s+76>>2]|0,_=fD[s+56>>2]|0,d=VD(mD[u+p>>1]|0,_)|0,c=o*+gD[f+(d+4)>>2],h=n*+gD[f+(d+8)>>2],gD[s>>2]=a*+gD[f+d>>2],gD[s+4>>2]=c,gD[s+8>>2]=h,gD[s+12>>2]=0,d=VD(mD[u+(p+2)>>1]|0,_)|0,h=o*+gD[f+(d+4)>>2],c=n*+gD[f+(d+8)>>2],gD[s+16>>2]=a*+gD[f+d>>2],gD[s+20>>2]=h,gD[s+24>>2]=c,gD[s+28>>2]=0,_=VD(mD[u+(p+4)>>1]|0,_)|0,c=o*+gD[f+(_+4)>>2],h=n*+gD[f+(_+8)>>2],gD[s+32>>2]=a*+gD[f+_>>2],gD[s+36>>2]=c,gD[s+40>>2]=h,gD[s+44>>2]=0,GP[fD[(fD[e>>2]|0)+8>>2]&127](e,s,r,l),l=l+1|0;while((l|0)<(fD[s+48>>2]|0))}else{if((l|0)!=2)break;if(!((fD[s+48>>2]|0)>0))break;l=0;do p=fD[s+72>>2]|0,_=VD(fD[s+68>>2]|0,l)|0,f=fD[s+76>>2]|0,u=fD[s+56>>2]|0,d=VD(u,fD[p+_>>2]|0)|0,c=o*+gD[f+(d+4)>>2],h=n*+gD[f+(d+8)>>2],gD[s>>2]=a*+gD[f+d>>2],gD[s+4>>2]=c,gD[s+8>>2]=h,gD[s+12>>2]=0,d=VD(u,fD[p+(_+4)>>2]|0)|0,h=o*+gD[f+(d+4)>>2],c=n*+gD[f+(d+8)>>2],gD[s+16>>2]=a*+gD[f+d>>2],gD[s+20>>2]=h,gD[s+24>>2]=c,gD[s+28>>2]=0,_=VD(u,fD[p+(_+8)>>2]|0)|0,c=o*+gD[f+(_+4)>>2],h=n*+gD[f+(_+8)>>2],gD[s+32>>2]=a*+gD[f+_>>2],gD[s+36>>2]=c,gD[s+40>>2]=h,gD[s+44>>2]=0,GP[fD[(fD[e>>2]|0)+8>>2]&127](e,s,r,l),l=l+1|0;while((l|0)<(fD[s+48>>2]|0))}while(0);aP[fD[(fD[t>>2]|0)+24>>2]&127](t,r),r=r+1|0}while((r|0)!=(i|0));bD=s}function Sx(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0;if(r=bD,bD=bD+32|0,a=lP[fD[(fD[t>>2]|0)+28>>2]&127](t)|0,fD[e+20>>2]=a,fD[e>>2]=0,(a|0)==0)return m=e+4|0,_=t+4|0,g=+gD[_>>2],gD[m>>2]=g,m=t+8|0,g=+gD[m>>2],m=e+8|0,gD[m>>2]=g,m=t+12|0,g=+gD[m>>2],m=e+12|0,gD[m>>2]=g,m=t+16|0,g=+gD[m>>2],m=e+16|0,gD[m>>2]=g,bD=r,19824;if(a=gP[fD[(fD[i>>2]|0)+16>>2]&31](i,32,a)|0,c=fD[a+8>>2]|0,fD[e>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,c)|0,s=lP[fD[(fD[t>>2]|0)+28>>2]&127](t)|0,(s|0)>0)for(l=0;;){if(CP[fD[(fD[t>>2]|0)+16>>2]&3](t,r+28|0,r+4|0,r+16|0,r+8|0,r+24|0,r+20|0,r,r+12|0,l),fD[c+24>>2]=fD[r>>2],fD[c+28>>2]=fD[r+4>>2],d=c+8|0,p=c+12|0,u=c+16|0,h=c+4|0,fD[c+0>>2]=0,fD[c+4>>2]=0,fD[c+8>>2]=0,fD[c+12>>2]=0,fD[c+16>>2]=0,fD[c+20>>2]=0,f=fD[r+12>>2]|0,(f|0)==5){if(d=fD[r>>2]|0,(d|0)!=0){if(p=gP[fD[(fD[i>>2]|0)+16>>2]&31](i,4,d)|0,d=fD[p+8>>2]|0,fD[u>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,d)|0,(fD[r>>2]|0)>0){u=0;do _=fD[r+24>>2]|0,m=VD(fD[r+20>>2]|0,u)|0,uD[d+(u<<2)>>0]=uD[_+m>>0]|0,uD[d+(u<<2)+1>>0]=uD[_+(m+1)>>0]|0,uD[d+(u<<2)+2>>0]=uD[_+(m+2)>>0]|0,u=u+1|0;while((u|0)<(fD[r>>2]|0))}iP[fD[(fD[i>>2]|0)+20>>2]&31](i,p,19736,1497453121,fD[p+8>>2]|0)}}else if((f|0)==2){if(u=fD[r>>2]|0,(u|0)!=0){if(u=gP[fD[(fD[i>>2]|0)+16>>2]&31](i,4,u*3|0)|0,p=fD[u+8>>2]|0,fD[d>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,p)|0,(fD[r>>2]|0)>0){d=fD[r+24>>2]|0,f=0;do _=VD(fD[r+20>>2]|0,f)|0,m=f*3|0,fD[p+(m<<2)>>2]=fD[d+_>>2],fD[p+(m+1<<2)>>2]=fD[d+(_+4)>>2],fD[p+(m+2<<2)>>2]=fD[d+(_+8)>>2],f=f+1|0;while((f|0)<(fD[r>>2]|0))}iP[fD[(fD[i>>2]|0)+20>>2]&31](i,u,19688,1497453121,fD[u+8>>2]|0)}}else if((f|0)==3?(o=fD[r>>2]|0,(o|0)!=0):0){if(u=gP[fD[(fD[i>>2]|0)+16>>2]&31](i,8,o)|0,d=fD[u+8>>2]|0,fD[p>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,d)|0,p=fD[r>>2]|0,(p|0)>0){_=fD[r+24>>2]|0,f=fD[r+20>>2]|0,m=0;do y=VD(f,m)|0,pD[d+(m<<3)>>1]=pD[_+y>>1]|0,pD[d+(m<<3)+2>>1]=pD[_+(y+2)>>1]|0,pD[d+(m<<3)+4>>1]=pD[_+(y+4)>>1]|0,m=m+1|0;while((m|0)<(p|0))}iP[fD[(fD[i>>2]|0)+20>>2]&31](i,u,19704,1497453121,fD[u+8>>2]|0)}if(d=fD[r+16>>2]|0,(d|0)==1){if(d=fD[r+4>>2]|0,(d|0)!=0){if(d=gP[fD[(fD[i>>2]|0)+16>>2]&31](i,32,d)|0,u=fD[d+8>>2]|0,fD[h>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,u)|0,h=fD[r+4>>2]|0,(h|0)>0){f=fD[r+28>>2]|0,_=fD[r+8>>2]|0,p=0;do y=VD(_,p)|0,yD[u+(p<<5)>>3]=+yD[f+y>>3],yD[u+(p<<5)+8>>3]=+yD[f+(y+8)>>3],yD[u+(p<<5)+16>>3]=+yD[f+(y+16)>>3],p=p+1|0;while((p|0)<(h|0))}iP[fD[(fD[i>>2]|0)+20>>2]&31](i,d,19784,1497453121,fD[d+8>>2]|0)}}else if((d|0)==0?(n=fD[r+4>>2]|0,(n|0)!=0):0){if(_=gP[fD[(fD[i>>2]|0)+16>>2]&31](i,16,n)|0,f=fD[_+8>>2]|0,fD[c>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,f)|0,p=fD[r+4>>2]|0,(p|0)>0){u=fD[r+28>>2]|0,h=fD[r+8>>2]|0,d=0;do y=VD(h,d)|0,gD[f+(d<<4)>>2]=+gD[u+y>>2],gD[f+(d<<4)+4>>2]=+gD[u+(y+4)>>2],gD[f+(d<<4)+8>>2]=+gD[u+(y+8)>>2],d=d+1|0;while((d|0)<(p|0))}iP[fD[(fD[i>>2]|0)+20>>2]&31](i,_,19760,1497453121,fD[_+8>>2]|0)}if(aP[fD[(fD[t>>2]|0)+24>>2]&127](t,l),l=l+1|0,(l|0)==(s|0)){o=i;break}c=c+32|0}else o=i;return iP[fD[(fD[o>>2]|0)+20>>2]&31](i,a,19808,1497453121,fD[a+8>>2]|0),y=e+4|0,m=t+4|0,g=+gD[m>>2],gD[y>>2]=g,y=t+8|0,g=+gD[y>>2],y=e+8|0,gD[y>>2]=g,y=t+12|0,g=+gD[y>>2],y=e+12|0,gD[y>>2]=g,y=t+16|0,g=+gD[y>>2],y=e+16|0,gD[y>>2]=g,bD=r,19824}function xx(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=19904,i=fD[t+32>>2]|0,(i|0)==0?(uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,fD[t+28>>2]=0):((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,fD[t+28>>2]=0),fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),bD=e}function Tx(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=19904,i=fD[t+32>>2]|0,(i|0)!=0&&((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+32>>2]=0),uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,fD[t+28>>2]=0,bD=e}function Ex(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,t=fD[t+32>>2]|0,fD[i>>2]=fD[t+(c<<5)+12>>2],fD[e>>2]=fD[t+(c<<5)+16>>2],fD[r>>2]=fD[t+(c<<5)+28>>2],fD[o>>2]=fD[t+(c<<5)+20>>2],fD[s>>2]=fD[t+(c<<5)>>2],fD[n>>2]=fD[t+(c<<5)+4>>2],fD[a>>2]=fD[t+(c<<5)+8>>2],fD[l>>2]=fD[t+(c<<5)+24>>2]}function Cx(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,t=fD[t+32>>2]|0,fD[i>>2]=fD[t+(c<<5)+12>>2],fD[e>>2]=fD[t+(c<<5)+16>>2],fD[r>>2]=fD[t+(c<<5)+28>>2],fD[o>>2]=fD[t+(c<<5)+20>>2],fD[s>>2]=fD[t+(c<<5)>>2],fD[n>>2]=fD[t+(c<<5)+4>>2],fD[a>>2]=fD[t+(c<<5)+8>>2],fD[l>>2]=fD[t+(c<<5)+24>>2]}function Ax(t){return t|=0,(fD[t+48>>2]|0)==1|0}function wx(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,fD[t+52>>2]=fD[e+0>>2],fD[t+56>>2]=fD[e+4>>2],fD[t+60>>2]=fD[e+8>>2],fD[t+64>>2]=fD[e+12>>2],fD[t+68>>2]=fD[i+0>>2],fD[t+72>>2]=fD[i+4>>2],fD[t+76>>2]=fD[i+8>>2],fD[t+80>>2]=fD[i+12>>2],fD[t+48>>2]=1,bD=r}function Rx(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,fD[e+0>>2]=fD[t+52>>2],fD[e+4>>2]=fD[t+56>>2],fD[e+8>>2]=fD[t+60>>2],fD[e+12>>2]=fD[t+64>>2],fD[i+0>>2]=fD[t+68>>2],fD[i+4>>2]=fD[t+72>>2],fD[i+8>>2]=fD[t+76>>2],fD[i+12>>2]=fD[t+80>>2],bD=r}function Dx(t,e){t|=0,e|=0}function Px(t,e){t|=0,e|=0}function Bx(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0;return a=bD,s=fD[n+16>>2]|0,(s|0)!=(o|0)?(c=o-s|0,bD=a,c|0):(o|0)==0?(c=0,bD=a,c|0):(c=fD[n+8>>2]|0,d=fD[n+12>>2]|0,l=Hw(c|0,0,t|0,0)|0,s=TD,p=Hw(d|0,0,t|0,0)|0,h=TD,c=Hw(c|0,0,e|0,0)|0,t=TD,d=Hw(d|0,0,e|0,0)|0,u=TD,e=Pw(p|0,0,c|0,0)|0,c=TD,u=Pw(h|0,0,d|0,u|0)|0,t=Pw(u|0,TD|0,t|0,0)|0,c=Pw(t|0,TD|0,c|0,0)|0,t=TD,s=Pw(0,e|0,l|0,s|0)|0,l=TD,e=Pw(c|0,t|0,(l>>>0<e>>>0|(l|0)==(e|0)&s>>>0<0)&1|0,0)|0,t=TD,c=fD[n>>2]|0,u=fD[n+4>>2]|0,d=Hw(c|0,0,i|0,0)|0,n=TD,h=Hw(u|0,0,i|0,0)|0,p=TD,c=Hw(c|0,0,r|0,0)|0,i=TD,u=Hw(u|0,0,r|0,0)|0,r=TD,c=Pw(h|0,0,c|0,0)|0,h=TD,r=Pw(p|0,0,u|0,r|0)|0,r=Pw(r|0,TD|0,i|0,0)|0,h=Pw(r|0,TD|0,h|0,0)|0,r=TD,n=Pw(0,c|0,d|0,n|0)|0,i=TD,c=Pw(h|0,r|0,(i>>>0<c>>>0|(i|0)==(c|0)&n>>>0<0)&1|0,0)|0,r=TD,t=t>>>0<r>>>0|(t|0)==(r|0)&e>>>0<c>>>0?-1:t>>>0>r>>>0|(t|0)==(r|0)&e>>>0>c>>>0?1:l>>>0<i>>>0|(l|0)==(i|0)&s>>>0<n>>>0?-1:(l>>>0>i>>>0|(l|0)==(i|0)&s>>>0>n>>>0)&1,p=VD(t,o)|0,bD=a,p|0)}function Vx(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0;if(e=bD,r=fD[t+8>>2]|0,(r|0)==0){if(n=fD[t+4>>2]|0,(n|0)==0?(fD[5004]=(fD[5004]|0)+1,r=Ew(31)|0,((r|0)!=0?(i=r+19&-16,fD[i+-4>>2]=r,(r+19&-16|0)!=0):0)?(n=fD[t+12>>2]|0,fD[i+4>>2]=n,fD[i+8>>2]=0,fD[5004]=(fD[5004]|0)+1,i=Ew((n*24|3)+16|0)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),fD[(r+19&-16)>>2]=i,n=r+19&-16):n=0,fD[n+8>>2]=fD[t>>2],fD[t>>2]=n):fD[t+4>>2]=fD[n+8>>2],o=fD[n+4>>2]|0,(o|0)>0){i=0,r=fD[n>>2]|0;do i=i+1|0,a=r,r=r+24|0,fD[a>>2]=(i|0)<(o|0)?r:0;while((i|0)!=(o|0))}if(r=fD[n>>2]|0,fD[t+8>>2]=fD[r>>2],(r|0)==0)return a=0,bD=e,a|0}else fD[t+8>>2]=fD[r>>2];return fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,fD[r+16>>2]=0,fD[r+20>>2]=0,a=r,bD=e,a|0}function Lx(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0;o=bD,bD=bD+144|0;do{if((i-e|0)==2){if(n=fD[(fD[t+92>>2]|0)+(e<<2)>>2]|0,a=fD[n+88>>2]|0,i=fD[n+200>>2]|0,e=fD[n+92>>2]|0,l=fD[n+204>>2]|0,(a|0)==(i|0)){if((e|0)==(l|0)){if((fD[n+96>>2]|0)==(fD[n+208>>2]|0))break;s=e}else s=l;(e|0)==(s|0)?(B=(fD[n+96>>2]|0)>(fD[n+208>>2]|0),a=B?n+112|0:n,fD[a>>2]=a,fD[a+4>>2]=a,fD[r>>2]=a,fD[r+4>>2]=a,fD[r+8>>2]=a,fD[r+12>>2]=a,n=B?n:n+112|0):(l=0,m=9)}else s=l,l=(e|0)==(l|0),m=9;do if((m|0)==9){if(e=e-s|0,fD[n>>2]=n+112,fD[n+4>>2]=n+112,fD[n+112>>2]=n,fD[n+116>>2]=n,((a-i|0)>=0?(a|0)==(i|0)&(e|0)<0:!0)?(fD[r>>2]=n,fD[r+4>>2]=n+112):(fD[r>>2]=n+112,fD[r+4>>2]=n),(e|0)<0|l&(a-i|0)<0){fD[r+8>>2]=n,fD[r+12>>2]=n+112,a=n,n=n+112|0;break}fD[r+8>>2]=n+112,fD[r+12>>2]=n,a=n,n=n+112|0;break}while(0);return e=Vx(t+48|0)|0,i=Vx(t+48|0)|0,fD[e+8>>2]=i,fD[i+8>>2]=e,fD[e+20>>2]=fD[t+100>>2],fD[i+20>>2]=fD[t+100>>2],fD[e+12>>2]=n,fD[i+12>>2]=a,fD[e+16>>2]=0,fD[i+16>>2]=0,i=fD[t+116>>2]|0,fD[t+116>>2]=i+1,(i|0)>=(fD[t+120>>2]|0)&&(fD[t+120>>2]=i+1),fD[e>>2]=e,fD[e+4>>2]=e,fD[a+8>>2]=e,B=fD[e+8>>2]|0,fD[B>>2]=B,fD[B+4>>2]=B,fD[n+8>>2]=B,void(bD=o)}if((i-e|0)==0)return fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,void(bD=o);if((i-e|0)!=1){_=((i-e|0)/2|0)+e|0,y=fD[t+92>>2]|0,b=fD[y+(_+-1<<2)>>2]|0,S=fD[b+88>>2]|0,M=fD[b+92>>2]|0,b=fD[b+96>>2]|0;t:do if((_|0)<(i|0))for(v=_;;){if(x=fD[y+(v<<2)>>2]|0,(fD[x+88>>2]|0)!=(S|0)){g=v;break t}if((fD[x+92>>2]|0)!=(M|0)){g=v;break t}if(g=v+1|0,(fD[x+96>>2]|0)!=(b|0)){g=v;break t}if(!((g|0)<(i|0)))break;v=g}else g=_;while(0);if(Lx(t,e,_,r),fD[o+96>>2]=0,fD[o+100>>2]=0,fD[o+104>>2]=0,fD[o+108>>2]=0,Lx(t,g,i,o+96|0),_=o+100|0,b=fD[_>>2]|0,(b|0)==0)return void(bD=o);if((fD[r+4>>2]|0)==0)return fD[r+0>>2]=fD[o+96>>2],fD[r+4>>2]=fD[o+100>>2],fD[r+8>>2]=fD[o+104>>2],fD[r+12>>2]=fD[o+108>>2],void(bD=o);fD[t+100>>2]=(fD[t+100>>2]|0)+-1,e=fD[r+12>>2]|0,i=fD[o+104>>2]|0,y=fD[e+88>>2]|0;t:do if((y|0)==(fD[i+88>>2]|0)?(fD[e+92>>2]|0)==(fD[i+92>>2]|0):0){if(g=fD[i+4>>2]|0,(g|0)==(i|0)){r=fD[i+8>>2]|0,(r|0)!=0&&(i=fD[r+12>>2]|0,y=fD[i+88>>2]|0),v=fD[i+96>>2]|0,g=y+1|0;break}e=fD[i>>2]|0,fD[g>>2]=e,fD[e+4>>2]=g;e:do if((i|0)==(fD[o+96>>2]|0)){m=fD[e+88>>2]|0,y=fD[g+88>>2]|0;do if((m|0)>=(y|0)){if((m|0)==(y|0)?(fD[e+92>>2]|0)<(fD[g+92>>2]|0):0)break;fD[o+96>>2]=g;break e}while(0);fD[o+96>>2]=e}while(0);if(b=fD[_>>2]|0,(i|0)==(b|0)){i=fD[e+88>>2]|0,m=fD[g+88>>2]|0;do if((i|0)<=(m|0)){if((i|0)==(m|0)?(fD[e+92>>2]|0)>(fD[g+92>>2]|0):0)break;fD[_>>2]=g,b=g,m=45;break t}while(0);fD[_>>2]=e,b=e,m=45}else m=45}else m=45;while(0);if((m|0)==45){m=fD[o+96>>2]|0,y=0,g=1,v=r+4|0,e=0,i=0;t:for(;;)for(x=fD[v>>2]|0;;){v=fD[x+88>>2]|0,S=VD((fD[b+88>>2]|0)-v|0,g)|0;e:do if((S|0)<=0){if((S|0)>=0){T=fD[x+92>>2]|0,M=(y|0)!=0;i:do if(M)for(S=x;;){if(E=fD[S>>2]|0,(E|0)==(x|0)){x=S;break i}if((fD[E+88>>2]|0)!=(v|0)){x=S;break i}if(B=T,T=fD[E+92>>2]|0,(T|0)>(B|0)){x=S;break}S=E}else for(S=x;;){if(E=fD[S+4>>2]|0,(E|0)==(x|0)){x=S;break i}if((fD[E+88>>2]|0)!=(v|0)){x=S;break i}if(B=T,T=fD[E+92>>2]|0,(T|0)>(B|0)){x=S;break}S=E}while(0);if(S=fD[b+92>>2]|0,M)for(M=b;;){if(T=fD[M+4>>2]|0,(T|0)==(b|0))break e;if((fD[T+88>>2]|0)!=(v|0))break e;if(B=S,S=fD[T+92>>2]|0,(S|0)<(B|0))break e;M=T}else for(M=b;;){if(T=fD[M>>2]|0,(T|0)==(b|0))break e;if((fD[T+88>>2]|0)!=(v|0))break e;if(B=S,S=fD[T+92>>2]|0,(S|0)<(B|0))break e;M=T}}if(v=fD[b+92>>2]|0,C=fD[x+92>>2]|0,(y|0)==0)for(;;){for(E=fD[b>>2]|0,M=(E|0)==(b|0),T=b+88|0;;){if(R=x+88|0,A=v-C|0,M?0:(p=fD[E+88>>2]|0,d=VD(p-(fD[T>>2]|0)|0,g)|0,u=fD[E+92>>2]|0,s=u-v|0,(s|0)>-1)){if((d|0)==0)break;if((d|0)<0?(VD(s,S)|0)<=(VD(d,A)|0):0)break}if(w=fD[x>>2]|0,(w|0)==(x|0)){M=b;break e}if(B=fD[w+88>>2]|0,D=VD(B-(fD[R>>2]|0)|0,g)|0,R=fD[w+92>>2]|0,P=R-C|0,C=S,S=VD((fD[T>>2]|0)-B|0,g)|0,!((S|0)<0&(P|0)>0)){M=b;break e}if((D|0)!=0){if((D|0)>=0){M=b;break e}if((VD(P,C)|0)>=(VD(D,A)|0)){M=b;break e}C=R,x=w}else C=R,x=w}v=u,S=VD(p-(fD[R>>2]|0)|0,g)|0,b=E}else for(;;){for(M=fD[b+4>>2]|0,E=(M|0)==(b|0),T=b+88|0;;){if(R=x+88|0,A=v-C|0,E?0:(h=fD[M+88>>2]|0,f=VD(h-(fD[T>>2]|0)|0,g)|0,c=fD[M+92>>2]|0,l=c-v|0,(l|0)>-1)){if((f|0)==0)break;if((f|0)<0?(VD(l,S)|0)<=(VD(f,A)|0):0)break}if(w=fD[x+4>>2]|0,(w|0)==(x|0)){M=b;break e}if(B=fD[w+88>>2]|0,R=VD(B-(fD[R>>2]|0)|0,g)|0,D=fD[w+92>>2]|0,C=D-C|0,P=S,S=VD((fD[T>>2]|0)-B|0,g)|0,!((S|0)<0&(C|0)>0)){M=b;
break e}if((R|0)!=0){if((R|0)>=0){M=b;break e}if((VD(C,P)|0)>=(VD(R,A)|0)){M=b;break e}C=D,x=w}else C=D,x=w}v=c,S=VD(h-(fD[R>>2]|0)|0,g)|0,b=M}}else for(v=(y|0)!=0,M=fD[b+92>>2]|0,C=x;;){x=b+88|0,A=C+88|0,E=fD[C+92>>2]|0,R=M-E|0,T=fD[(v?C:C+4|0)>>2]|0;i:do if((T|0)==(C|0))E=A,A=R,w=S,T=C;else for(w=S;;){if(B=fD[T+88>>2]|0,P=VD(B-(fD[A>>2]|0)|0,g)|0,D=E,E=fD[T+92>>2]|0,D=E-D|0,(D|0)>=1){E=A,A=R,T=C;break i}if((P|0)!=0){if((P|0)>=0){E=A,A=R,T=C;break i}if((VD(D,w)|0)>(VD(P,R)|0)){E=A,A=R,T=C;break i}}if(w=VD((fD[x>>2]|0)-B|0,g)|0,A=T+88|0,R=M-E|0,C=fD[(v?T:T+4|0)>>2]|0,(C|0)==(T|0)){E=A,A=R;break}B=T,T=C,C=B}while(0);if(R=fD[(v?b:b+4|0)>>2]|0,(R|0)==(b|0)){x=T,M=b;break e}if(S=fD[R+88>>2]|0,C=VD(S-(fD[x>>2]|0)|0,g)|0,x=M,M=fD[R+92>>2]|0,x=M-x|0,S=VD(S-(fD[E>>2]|0)|0,g)|0,!((S|0)>0&(x|0)<0)){x=T,M=b;break e}if((C|0)!=0){if((C|0)>=0){x=T,M=b;break e}if((VD(x,w)|0)>=(VD(C,A)|0)){x=T,M=b;break}C=T,b=R}else C=T,b=R}while(0);if((y|0)==0){y=1,g=-1,v=r,e=x,b=m,i=M;continue t}if(y=y+1|0,(y|0)==2)break t;b=M}if(fD[x+4>>2]=M,fD[M>>2]=x,fD[e>>2]=i,fD[i+4>>2]=e,s=fD[o+96>>2]|0,(fD[s+88>>2]|0)<(fD[(fD[r>>2]|0)+88>>2]|0)&&(fD[r>>2]=s),s=fD[_>>2]|0,(fD[s+88>>2]|0)>=(fD[(fD[r+4>>2]|0)+88>>2]|0)&&(fD[r+4>>2]=s),fD[r+12>>2]=fD[o+108>>2],l=fD[i+88>>2]|0,S=fD[e+88>>2]|0,c=fD[i+92>>2]|0,r=fD[e+92>>2]|0,u=fD[i+96>>2]|0,x=fD[e+96>>2]|0,g=((c-r|0)<0)<<31>>31,s=0-(l-S)|0,m=ww(0,0,s|0,((s|0)<0)<<31>>31|0)|0,m=Hw(u-x|0,((u-x|0)<0)<<31>>31|0,m|0,TD|0)|0,_=TD,f=Hw(u-x|0,((u-x|0)<0)<<31>>31|0,c-r|0,g|0)|0,p=TD,M=Hw(l-S|0,((l-S|0)<0)<<31>>31|0,s|0,((s|0)<0)<<31>>31|0)|0,h=TD,d=Hw(c-r|0,g|0,c-r|0,g|0)|0,d=ww(M|0,h|0,d|0,TD|0)|0,h=TD,M=fD[e+8>>2]|0,fD[o+140>>2]=0,(M|0)==0)T=0;else{y=ww(0,0,c-r|0,g|0)|0,v=TD,T=0,b=M;do{C=fD[b+12>>2]|0,w=fD[C+88>>2]|0,E=fD[C+92>>2]|0,C=fD[C+96>>2]|0,D=Hw(E-r|0,((E-r|0)<0)<<31>>31|0,s|0,((s|0)<0)<<31>>31|0)|0,B=TD,P=Hw(w-S|0,((w-S|0)<0)<<31>>31|0,y|0,v|0)|0;do if((D|0)==(P|0)&(B|0)==(TD|0)?(P=Hw(w-S|0,((w-S|0)<0)<<31>>31|0,m|0,_|0)|0,D=TD,B=Hw(E-r|0,((E-r|0)<0)<<31>>31|0,f|0,p|0)|0,D=Pw(B|0,TD|0,P|0,D|0)|0,P=TD,B=Hw(C-x|0,((C-x|0)<0)<<31>>31|0,d|0,h|0)|0,B=Pw(D|0,P|0,B|0,TD|0)|0,P=TD,(P|0)>0|(P|0)==0&B>>>0>0):0){if((T|0)!=0){if(A=(fD[T+4>>2]|0)==(b|0),(fD[T>>2]|0)==(b|0)){if(!A)break;D=fD[T+12>>2]|0,R=fD[(fD[b+8>>2]|0)+12>>2]|0,B=fD[R+88>>2]|0,P=fD[R+92>>2]|0,R=fD[R+96>>2]|0,A=(fD[D+96>>2]|0)-R|0,P=(VD(C-R|0,(fD[D+92>>2]|0)-P|0)|0)-(VD(A,E-P|0)|0)|0,E=(VD(A,w-B|0)|0)-(VD(C-R|0,(fD[D+88>>2]|0)-B|0)|0)|0,P=Hw(P|0,((P|0)<0)<<31>>31|0,c-r|0,g|0)|0,B=TD,E=Hw(E|0,((E|0)<0)<<31>>31|0,s|0,((s|0)<0)<<31>>31|0)|0,E=Pw(P|0,B|0,E|0,TD|0)|0,B=TD,E=(B|0)>0|(B|0)==0&E>>>0>0?2:1}else E=A&1;if((E|0)!=1)break}fD[o+140>>2]=b,T=b}while(0);b=fD[b>>2]|0}while((b|0)!=(M|0))}if(v=fD[i+8>>2]|0,fD[o+136>>2]=0,(v|0)==0)x=0;else{y=ww(0,0,c-r|0,g|0)|0,b=TD,x=0,M=v;do{S=fD[M+12>>2]|0,E=fD[S+88>>2]|0,C=fD[S+92>>2]|0,S=fD[S+96>>2]|0,D=Hw(C-c|0,((C-c|0)<0)<<31>>31|0,s|0,((s|0)<0)<<31>>31|0)|0,B=TD,P=Hw(E-l|0,((E-l|0)<0)<<31>>31|0,y|0,b|0)|0;do if((D|0)==(P|0)&(B|0)==(TD|0)?(P=Hw(E-l|0,((E-l|0)<0)<<31>>31|0,m|0,_|0)|0,D=TD,B=Hw(C-c|0,((C-c|0)<0)<<31>>31|0,f|0,p|0)|0,D=Pw(B|0,TD|0,P|0,D|0)|0,P=TD,B=Hw(S-u|0,((S-u|0)<0)<<31>>31|0,d|0,h|0)|0,B=Pw(D|0,P|0,B|0,TD|0)|0,P=TD,(P|0)>0|(P|0)==0&B>>>0>0):0){if((x|0)!=0){if((fD[x>>2]|0)!=(M|0))break;if((fD[x+4>>2]|0)==(M|0)?(P=fD[x+12>>2]|0,R=fD[(fD[M+8>>2]|0)+12>>2]|0,B=fD[R+88>>2]|0,D=fD[R+92>>2]|0,R=fD[R+96>>2]|0,w=(fD[P+96>>2]|0)-R|0,D=(VD(S-R|0,(fD[P+92>>2]|0)-D|0)|0)-(VD(w,C-D|0)|0)|0,B=(VD(w,E-B|0)|0)-(VD(S-R|0,(fD[P+88>>2]|0)-B|0)|0)|0,D=Hw(D|0,((D|0)<0)<<31>>31|0,c-r|0,g|0)|0,P=TD,B=Hw(B|0,((B|0)<0)<<31>>31|0,s|0,((s|0)<0)<<31>>31|0)|0,B=Pw(D|0,P|0,B|0,TD|0)|0,P=TD,!((P|0)>0|(P|0)==0&B>>>0>0)):0)break}fD[o+136>>2]=M,x=M}while(0);M=fD[M>>2]|0}while((M|0)!=(v|0))}(T|0)==0&(x|0)==0||(Hx(t,e,i,o+140|0,o+136|0),r=fD[o+140>>2]|0,(r|0)!=0&&(e=fD[r+12>>2]|0),r=fD[o+136>>2]|0,(r|0)!=0&&(i=fD[r+12>>2]|0)),v=(fD[i+96>>2]|0)+1|0,g=fD[i+88>>2]|0}for(y=fD[i+92>>2]|0,m=y,r=e,h=i,s=0,f=0,x=1,d=0,b=0,u=0,M=0,l=0,p=0;;){if(S=r+88|0,R=(fD[h+88>>2]|0)-(fD[S>>2]|0)|0,B=r+92|0,c=m-(fD[B>>2]|0)|0,w=r+96|0,C=(fD[h+96>>2]|0)-(fD[w>>2]|0)|0,fD[o+120>>2]=R,fD[o+124>>2]=c,fD[o+128>>2]=C,fD[o+132>>2]=-1,S=g-(fD[S>>2]|0)|0,B=y-(fD[B>>2]|0)|0,w=v-(fD[w>>2]|0)|0,A=(VD(C,B)|0)-(VD(c,w)|0)|0,w=(VD(R,w)|0)-(VD(C,S)|0)|0,B=(VD(c,S)|0)-(VD(R,B)|0)|0,fD[o+72>>2]=A,fD[o+76>>2]=((A|0)<0)<<31>>31,fD[o+80>>2]=w,fD[o+84>>2]=((w|0)<0)<<31>>31,fD[o+88>>2]=B,fD[o+92>>2]=((B|0)<0)<<31>>31,S=Hw(B|0,((B|0)<0)<<31>>31|0,c|0,((c|0)<0)<<31>>31|0)|0,P=TD,D=Hw(C|0,((C|0)<0)<<31>>31|0,w|0,((w|0)<0)<<31>>31|0)|0,D=ww(S|0,P|0,D|0,TD|0)|0,P=TD,C=Hw(A|0,((A|0)<0)<<31>>31|0,C|0,((C|0)<0)<<31>>31|0)|0,S=TD,B=Hw(R|0,((R|0)<0)<<31>>31|0,B|0,((B|0)<0)<<31>>31|0)|0,B=ww(C|0,S|0,B|0,TD|0)|0,S=TD,w=Hw(R|0,((R|0)<0)<<31>>31|0,w|0,((w|0)<0)<<31>>31|0)|0,R=TD,c=Hw(A|0,((A|0)<0)<<31>>31|0,c|0,((c|0)<0)<<31>>31|0)|0,c=ww(w|0,R|0,c|0,TD|0)|0,fD[o+48>>2]=D,fD[o+52>>2]=P,fD[o+56>>2]=B,fD[o+60>>2]=S,fD[o+64>>2]=c,fD[o+68>>2]=TD,fD[o+24>>2]=0,fD[o+28>>2]=0,fD[o+32>>2]=0,fD[o+36>>2]=0,fD[o+40>>2]=0,c=kx(t,0,r,o+120|0,o+72|0,o+48|0,o+24|0)|0,fD[o+0>>2]=0,fD[o+4>>2]=0,fD[o+8>>2]=0,fD[o+12>>2]=0,fD[o+16>>2]=0,S=kx(t,1,h,o+120|0,o+72|0,o+48|0,o)|0,(S|0)==0&((c|0)!=0^1)){m=138;break}_=(S|0)==0|(c|0)!=0^1?(c|0)!=0?-1:1:Bx(fD[o+24>>2]|0,fD[o+28>>2]|0,fD[o+32>>2]|0,fD[o+36>>2]|0,fD[o+40>>2]|0,o)|0;do if(x)m=150;else{if((_|0)>-1){if((fD[o+16>>2]|0)>=0){m=150;break}if((fD[o+8>>2]|0)==0&(fD[o+12>>2]|0)==0){m=157;break}m=150;break}((fD[o+40>>2]|0)<0?(fD[o+32>>2]|0)==0&(fD[o+36>>2]|0)==0:0)?(fD[o+116>>2]=c,fD[o+112>>2]=S,S=c,_=b,b=M,m=179):m=150}while(0);(m|0)==150&&(m=Vx(t+48|0)|0,x=Vx(t+48|0)|0,fD[m+8>>2]=x,fD[x+8>>2]=m,fD[m+20>>2]=fD[t+100>>2],fD[x+20>>2]=fD[t+100>>2],fD[m+12>>2]=h,fD[x+12>>2]=r,fD[m+16>>2]=0,fD[x+16>>2]=0,x=fD[t+116>>2]|0,fD[t+116>>2]=x+1,(x|0)>=(fD[t+120>>2]|0)&&(fD[t+120>>2]=x+1),(u|0)==0?d=m:fD[u+4>>2]=m,fD[m>>2]=u,x=fD[m+8>>2]|0,(M|0)==0?b=x:fD[M>>2]=x,fD[x+4>>2]=M,u=m,M=x,m=157);do if((m|0)==157){if(m=0,fD[o+116>>2]=c,fD[o+112>>2]=S,(_|0)!=0){if(!((_|0)>-1)){S=c,_=b,b=M,m=179;break}x=S}else Hx(t,r,h,o+116|0,o+112|0),x=fD[o+112>>2]|0;if((x|0)!=0){if(g=(p|0)!=0,g?(n=fD[p>>2]|0,(n|0)!=(S|0)):0){E=n;do T=E,E=fD[E>>2]|0,v=fD[T+8>>2]|0,(E|0)==(T|0)?fD[(fD[v+12>>2]|0)+8>>2]=0:(fD[E+4>>2]=fD[T+4>>2],fD[fD[T+4>>2]>>2]=E,fD[(fD[v+12>>2]|0)+8>>2]=E),y=fD[v>>2]|0,(y|0)==(v|0)?fD[(fD[T+12>>2]|0)+8>>2]=0:(fD[y+4>>2]=fD[v+4>>2],fD[fD[v+4>>2]>>2]=y,fD[(fD[T+12>>2]|0)+8>>2]=y),fD[T+0>>2]=0,fD[T+4>>2]=0,fD[T+8>>2]=0,fD[T+12>>2]=0,fD[T+16>>2]=0,fD[T>>2]=fD[t+56>>2],fD[t+56>>2]=T,fD[v+0>>2]=0,fD[v+4>>2]=0,fD[v+8>>2]=0,fD[v+12>>2]=0,fD[v+16>>2]=0,fD[v>>2]=fD[t+56>>2],fD[t+56>>2]=v,fD[t+116>>2]=(fD[t+116>>2]|0)+-1;while((E|0)!=(S|0))}(M|0)==0?(p=x,f=g?f:S):(g?(fD[p>>2]=b,fD[b+4>>2]=p,p=S+4|0):(p=fD[S+4>>2]|0,fD[p>>2]=b,fD[b+4>>2]=p,p=S+4|0,f=b),fD[M>>2]=S,fD[p>>2]=M,p=fD[o+112>>2]|0,b=0),v=fD[h+96>>2]|0,y=fD[h+92>>2]|0,g=fD[h+88>>2]|0,h=fD[p+12>>2]|0,M=0,p=fD[p+8>>2]|0}(_|0)<1?(S=fD[o+116>>2]|0,_=b,b=M,m=179):(c=b,_=M)}while(0);if((m|0)==179)if(m=0,(S|0)==0)c=_,_=b;else{if(g=(l|0)!=0,g?(a=fD[l+4>>2]|0,(a|0)!=(c|0)):0){M=a;do T=M+4|0,y=M,M=fD[T>>2]|0,x=fD[y>>2]|0,v=fD[y+8>>2]|0,(x|0)==(y|0)?fD[(fD[v+12>>2]|0)+8>>2]=0:(fD[x+4>>2]=M,fD[fD[T>>2]>>2]=x,fD[(fD[v+12>>2]|0)+8>>2]=x),x=fD[v>>2]|0,(x|0)==(v|0)?fD[(fD[y+12>>2]|0)+8>>2]=0:(fD[x+4>>2]=fD[v+4>>2],fD[fD[v+4>>2]>>2]=x,fD[(fD[y+12>>2]|0)+8>>2]=x),fD[y+0>>2]=0,fD[y+4>>2]=0,fD[y+8>>2]=0,fD[y+12>>2]=0,fD[y+16>>2]=0,fD[y>>2]=fD[t+56>>2],fD[t+56>>2]=y,fD[v+0>>2]=0,fD[v+4>>2]=0,fD[v+8>>2]=0,fD[v+12>>2]=0,fD[v+16>>2]=0,fD[v>>2]=fD[t+56>>2],fD[t+56>>2]=v,fD[t+116>>2]=(fD[t+116>>2]|0)+-1;while((M|0)!=(c|0))}(u|0)==0?s=g?s:c:(g?(fD[d>>2]=l,fD[l+4>>2]=d,l=c):(l=fD[c>>2]|0,fD[d>>2]=l,fD[l+4>>2]=d,l=c,s=d),fD[l>>2]=u,fD[u+4>>2]=c,S=fD[o+116>>2]|0,d=0),v=fD[r+96>>2]|0,y=fD[r+92>>2]|0,g=fD[r+88>>2]|0,r=fD[S+12>>2]|0,c=_,u=0,_=b,l=fD[S+8>>2]|0}if((r|0)==(e|0)&(h|0)==(i|0))break;m=fD[h+92>>2]|0,x=0,b=c,M=_}if((m|0)==138)return a=Vx(t+48|0)|0,n=Vx(t+48|0)|0,fD[a+8>>2]=n,fD[n+8>>2]=a,fD[a+20>>2]=fD[t+100>>2],fD[n+20>>2]=fD[t+100>>2],fD[a+12>>2]=h,fD[n+12>>2]=r,fD[a+16>>2]=0,fD[n+16>>2]=0,n=fD[t+116>>2]|0,fD[t+116>>2]=n+1,(n|0)>=(fD[t+120>>2]|0)&&(fD[t+120>>2]=n+1),fD[a>>2]=a,fD[a+4>>2]=a,fD[r+8>>2]=a,B=fD[a+8>>2]|0,fD[B>>2]=B,fD[B+4>>2]=B,fD[h+8>>2]=B,void(bD=o);if((l|0)!=0){if(n=l+4|0,r=fD[n>>2]|0,(r|0)!=(s|0))do m=r+4|0,a=r,r=fD[m>>2]|0,h=fD[a>>2]|0,e=fD[a+8>>2]|0,(h|0)==(a|0)?fD[(fD[e+12>>2]|0)+8>>2]=0:(fD[h+4>>2]=r,fD[fD[m>>2]>>2]=h,fD[(fD[e+12>>2]|0)+8>>2]=h),h=fD[e>>2]|0,(h|0)==(e|0)?fD[(fD[a+12>>2]|0)+8>>2]=0:(fD[h+4>>2]=fD[e+4>>2],fD[fD[e+4>>2]>>2]=h,fD[(fD[a+12>>2]|0)+8>>2]=h),fD[a+0>>2]=0,fD[a+4>>2]=0,fD[a+8>>2]=0,fD[a+12>>2]=0,fD[a+16>>2]=0,fD[a>>2]=fD[t+56>>2],fD[t+56>>2]=a,fD[e+0>>2]=0,fD[e+4>>2]=0,fD[e+8>>2]=0,fD[e+12>>2]=0,fD[e+16>>2]=0,fD[e>>2]=fD[t+56>>2],fD[t+56>>2]=e,fD[t+116>>2]=(fD[t+116>>2]|0)+-1;while((r|0)!=(s|0));(u|0)!=0&&(fD[d>>2]=l,fD[n>>2]=d,fD[s>>2]=u,fD[u+4>>2]=s)}else fD[d>>2]=u,fD[u+4>>2]=d,fD[e+8>>2]=u;if((p|0)==0)return fD[_>>2]=c,fD[c+4>>2]=_,fD[i+8>>2]=_,void(bD=o);if(n=fD[p>>2]|0,(n|0)!=(f|0))do i=n,n=fD[n>>2]|0,a=fD[i+8>>2]|0,(n|0)==(i|0)?fD[(fD[a+12>>2]|0)+8>>2]=0:(fD[n+4>>2]=fD[i+4>>2],fD[fD[i+4>>2]>>2]=n,fD[(fD[a+12>>2]|0)+8>>2]=n),e=fD[a>>2]|0,(e|0)==(a|0)?fD[(fD[i+12>>2]|0)+8>>2]=0:(fD[e+4>>2]=fD[a+4>>2],fD[fD[a+4>>2]>>2]=e,fD[(fD[i+12>>2]|0)+8>>2]=e),fD[i+0>>2]=0,fD[i+4>>2]=0,fD[i+8>>2]=0,fD[i+12>>2]=0,fD[i+16>>2]=0,fD[i>>2]=fD[t+56>>2],fD[t+56>>2]=i,fD[a+0>>2]=0,fD[a+4>>2]=0,fD[a+8>>2]=0,fD[a+12>>2]=0,fD[a+16>>2]=0,fD[a>>2]=fD[t+56>>2],fD[t+56>>2]=a,fD[t+116>>2]=(fD[t+116>>2]|0)+-1;while((n|0)!=(f|0));return(_|0)==0?void(bD=o):(fD[p>>2]=c,fD[c+4>>2]=p,fD[_>>2]=f,fD[f+4>>2]=_,void(bD=o))}n=fD[(fD[t+92>>2]|0)+(e<<2)>>2]|0}while(0);fD[n+8>>2]=0,fD[n>>2]=n,fD[n+4>>2]=n,fD[r>>2]=n,fD[r+4>>2]=n,fD[r+8>>2]=n,fD[r+12>>2]=n,bD=o}function kx(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0;var s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0;if(s=bD,l=fD[i+8>>2]|0,(l|0)==0)return S=0,bD=s,S|0;c=0;do{do if((fD[l+20>>2]|0)>(fD[t+100>>2]|0)){if(p=fD[l+12>>2]|0,_=fD[p+88>>2]|0,u=_-(fD[i+88>>2]|0)|0,f=fD[p+92>>2]|0,h=f-(fD[i+92>>2]|0)|0,p=fD[p+96>>2]|0,d=p-(fD[i+96>>2]|0)|0,y=Hw(u|0,((u|0)<0)<<31>>31|0,fD[n>>2]|0,fD[n+4>>2]|0)|0,v=TD,m=Hw(h|0,((h|0)<0)<<31>>31|0,fD[n+8>>2]|0,fD[n+12>>2]|0)|0,v=Pw(m|0,TD|0,y|0,v|0)|0,y=TD,m=Hw(d|0,((d|0)<0)<<31>>31|0,fD[n+16>>2]|0,fD[n+20>>2]|0)|0,m=Pw(v|0,y|0,m|0,TD|0)|0,y=TD,v=Hw(fD[o>>2]|0,fD[o+4>>2]|0,u|0,((u|0)<0)<<31>>31|0)|0,S=TD,M=Hw(fD[o+8>>2]|0,fD[o+12>>2]|0,h|0,((h|0)<0)<<31>>31|0)|0,S=Pw(M|0,TD|0,v|0,S|0)|0,v=TD,M=Hw(fD[o+16>>2]|0,fD[o+20>>2]|0,d|0,((d|0)<0)<<31>>31|0)|0,M=Pw(S|0,v|0,M|0,TD|0)|0,v=TD,(y|0)>0|(y|0)==0&m>>>0>0?(b=1,g=y,y=1):(m=ww(0,0,m|0,y|0)|0,b=(y|0)<0?-1:0,m=(y|0)<0?m:0,g=(y|0)<0?TD:0,y=(y|0)<0?-1:0),(v|0)>0|(v|0)==0&M>>>0>0)b=M;else{if((v|0)<0?(y=0-b|0,x=ww(0,0,M|0,v|0)|0,b=y,S=(M|0)==0&(v|0)==0,M=x,v=TD):(S=1,M=0,v=0),(b|0)==0&S)break;b=M}if((c|0)==0){fD[a>>2]=m,fD[a+4>>2]=g,fD[a+8>>2]=b,fD[a+12>>2]=v,fD[a+16>>2]=y,c=l;break}if(M=Bx(m,g,b,v,y,a)|0,(M|0)<0){fD[a>>2]=m,fD[a+4>>2]=g,fD[a+8>>2]=b,fD[a+12>>2]=v,fD[a+16>>2]=y,c=l;break}(M|0)==0&&(m=(fD[c+4>>2]|0)==(l|0),(fD[c>>2]|0)==(l|0)?m?(x=fD[r+8>>2]|0,v=VD(x,h)|0,y=fD[r+4>>2]|0,v=v-(VD(y,d)|0)|0,S=fD[r>>2]|0,x=(VD(S,d)|0)-(VD(u,x)|0)|0,S=(VD(u,y)|0)-(VD(S,h)|0)|0,u=fD[c+12>>2]|0,h=fD[(fD[l+8>>2]|0)+12>>2]|0,y=fD[h+88>>2]|0,g=(fD[u+88>>2]|0)-y|0,m=fD[h+92>>2]|0,b=(fD[u+92>>2]|0)-m|0,h=fD[h+96>>2]|0,u=(fD[u+96>>2]|0)-h|0,M=(VD(p-h|0,b)|0)-(VD(f-m|0,u)|0)|0,h=(VD(_-y|0,u)|0)-(VD(p-h|0,g)|0)|0,b=(VD(f-m|0,g)|0)-(VD(_-y|0,b)|0)|0,v=Hw(M|0,((M|0)<0)<<31>>31|0,v|0,((v|0)<0)<<31>>31|0)|0,M=TD,x=Hw(h|0,((h|0)<0)<<31>>31|0,x|0,((x|0)<0)<<31>>31|0)|0,h=TD,S=Hw(b|0,((b|0)<0)<<31>>31|0,S|0,((S|0)<0)<<31>>31|0)|0,S=Pw(v|0,M|0,S|0,TD|0)|0,h=Pw(S|0,TD|0,x|0,h|0)|0,x=TD,h=(x|0)>0|(x|0)==0&h>>>0>0?2:1):h=2:h=m&1,c=(h|0)==2^e?c:l)}while(0);l=fD[l>>2]|0}while((l|0)!=(fD[i+8>>2]|0));return bD=s,c|0}function Hx(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0,U=0,W=0,X=0,q=0;if(n=bD,bD=bD+96|0,m=fD[r>>2]|0,a=fD[o>>2]|0,s=(m|0)!=0?fD[m+12>>2]|0:e,M=fD[s+88>>2]|0,v=fD[s+92>>2]|0,b=fD[s+96>>2]|0,s=(a|0)==0?i:fD[a+12>>2]|0,E=fD[s+88>>2]|0,T=fD[s+92>>2]|0,x=fD[s+96>>2]|0,_=fD[e+88>>2]|0,s=(fD[i+88>>2]|0)-_|0,C=fD[e+92>>2]|0,l=(fD[i+92>>2]|0)-C|0,R=fD[e+96>>2]|0,p=(fD[i+96>>2]|0)-R|0,i=fD[((m|0)!=0?m:a)+12>>2]|0,u=(fD[i+88>>2]|0)-_|0,y=(fD[i+92>>2]|0)-C|0,i=(fD[i+96>>2]|0)-R|0,f=(VD(y,p)|0)-(VD(i,l)|0)|0,i=(VD(i,s)|0)-(VD(u,p)|0)|0,y=(VD(u,l)|0)-(VD(y,s)|0)|0,_=Hw(f|0,((f|0)<0)<<31>>31|0,_|0,((_|0)<0)<<31>>31|0)|0,u=TD,C=Hw(i|0,((i|0)<0)<<31>>31|0,C|0,((C|0)<0)<<31>>31|0)|0,A=TD,R=Hw(y|0,((y|0)<0)<<31>>31|0,R|0,((R|0)<0)<<31>>31|0)|0,R=Pw(_|0,u|0,R|0,TD|0)|0,A=Pw(R|0,TD|0,C|0,A|0)|0,C=TD,R=Hw(y|0,((y|0)<0)<<31>>31|0,l|0,((l|0)<0)<<31>>31|0)|0,u=TD,_=Hw(i|0,((i|0)<0)<<31>>31|0,p|0,((p|0)<0)<<31>>31|0)|0,_=ww(R|0,u|0,_|0,TD|0)|0,u=TD,R=Hw(f|0,((f|0)<0)<<31>>31|0,p|0,((p|0)<0)<<31>>31|0)|0,c=TD,e=Hw(y|0,((y|0)<0)<<31>>31|0,s|0,((s|0)<0)<<31>>31|0)|0,e=ww(R|0,c|0,e|0,TD|0)|0,c=TD,R=Hw(i|0,((i|0)<0)<<31>>31|0,s|0,((s|0)<0)<<31>>31|0)|0,d=TD,h=Hw(f|0,((f|0)<0)<<31>>31|0,l|0,((l|0)<0)<<31>>31|0)|0,h=ww(R|0,d|0,h|0,TD|0)|0,d=TD,R=Hw(_|0,u|0,M|0,((M|0)<0)<<31>>31|0)|0,q=TD,w=Hw(e|0,c|0,v|0,((v|0)<0)<<31>>31|0)|0,q=Pw(w|0,TD|0,R|0,q|0)|0,R=TD,w=Hw(h|0,d|0,b|0,((b|0)<0)<<31>>31|0)|0,w=Pw(q|0,R|0,w|0,TD|0)|0,R=TD,(m|0)!=0?(fD[m+12>>2]|0)!=0:0){for(S=m;;){if(S=fD[(fD[S+8>>2]|0)+4>>2]|0,B=S+12|0,P=fD[B>>2]|0,V=fD[P+88>>2]|0,X=Hw(V|0,((V|0)<0)<<31>>31|0,f|0,((f|0)<0)<<31>>31|0)|0,W=TD,D=fD[P+92>>2]|0,q=Hw(D|0,((D|0)<0)<<31>>31|0,i|0,((i|0)<0)<<31>>31|0)|0,W=Pw(q|0,TD|0,X|0,W|0)|0,X=TD,P=fD[P+96>>2]|0,q=Hw(P|0,((P|0)<0)<<31>>31|0,y|0,((y|0)<0)<<31>>31|0)|0,q=Pw(W|0,X|0,q|0,TD|0)|0,X=TD,(X|0)<(C|0)|(X|0)==(C|0)&q>>>0<A>>>0)break;if((fD[S+20>>2]|0)==(fD[t+100>>2]|0))break;if(X=Hw(V|0,((V|0)<0)<<31>>31|0,_|0,u|0)|0,q=TD,D=Hw(D|0,((D|0)<0)<<31>>31|0,e|0,c|0)|0,q=Pw(D|0,TD|0,X|0,q|0)|0,D=TD,P=Hw(P|0,((P|0)<0)<<31>>31|0,h|0,d|0)|0,P=Pw(q|0,D|0,P|0,TD|0)|0,D=TD,!((D|0)>(R|0)|(D|0)==(R|0)&P>>>0>w>>>0))break;if(fD[r>>2]=S,q=fD[B>>2]|0,M=fD[q+88>>2]|0,v=fD[q+92>>2]|0,b=fD[q+96>>2]|0,(q|0)==0){w=P,R=D;break}R=D,w=P}S=fD[o>>2]|0}else S=a;D=Hw(_|0,u|0,E|0,((E|0)<0)<<31>>31|0)|0,q=TD,P=Hw(e|0,c|0,T|0,((T|0)<0)<<31>>31|0)|0,q=Pw(P|0,TD|0,D|0,q|0)|0,D=TD,P=Hw(h|0,d|0,x|0,((x|0)<0)<<31>>31|0)|0,P=Pw(q|0,D|0,P|0,TD|0)|0,D=TD;t:do if((S|0)!=0)if((fD[S+12>>2]|0)==0)C=P;else for(;;){if(B=fD[fD[S+8>>2]>>2]|0,k=fD[B+12>>2]|0,V=fD[k+88>>2]|0,X=Hw(V|0,((V|0)<0)<<31>>31|0,f|0,((f|0)<0)<<31>>31|0)|0,W=TD,L=fD[k+92>>2]|0,q=Hw(L|0,((L|0)<0)<<31>>31|0,i|0,((i|0)<0)<<31>>31|0)|0,W=Pw(q|0,TD|0,X|0,W|0)|0,X=TD,k=fD[k+96>>2]|0,q=Hw(k|0,((k|0)<0)<<31>>31|0,y|0,((y|0)<0)<<31>>31|0)|0,q=Pw(W|0,X|0,q|0,TD|0)|0,X=TD,(X|0)<(C|0)|(X|0)==(C|0)&q>>>0<A>>>0){C=P;break t}if((fD[B+20>>2]|0)==(fD[t+100>>2]|0)){C=P;break t}if(V=Hw(V|0,((V|0)<0)<<31>>31|0,_|0,u|0)|0,q=TD,L=Hw(L|0,((L|0)<0)<<31>>31|0,e|0,c|0)|0,q=Pw(L|0,TD|0,V|0,q|0)|0,V=TD,L=Hw(k|0,((k|0)<0)<<31>>31|0,h|0,d|0)|0,L=Pw(q|0,V|0,L|0,TD|0)|0,V=TD,!((V|0)>(D|0)|(V|0)==(D|0)&L>>>0>P>>>0)){C=P;break t}if(fD[o>>2]=B,q=fD[B+12>>2]|0,E=fD[q+88>>2]|0,T=fD[q+92>>2]|0,x=fD[q+96>>2]|0,(q|0)==0){C=L,D=V,S=B;break}S=B,D=V,P=L}else C=P,S=0;while(0);if(A=ww(C|0,D|0,w|0,R|0)|0,C=TD,(C|0)>0|(C|0)==0&A>>>0>0){P=ww(0,0,y|0,((y|0)<0)<<31>>31|0)|0,B=TD,D=b,R=v,w=M,H=x,I=T,O=E,L=A,V=C;t:for(;;){e:for(;;){k=(VD(I-R|0,l)|0)+(VD(H-D|0,p)|0)+(VD(O-w|0,s)|0)|0,J=fD[r>>2]|0;do if(((J|0)!=0?(fD[J+12>>2]|0)!=0:0)?(g=fD[(fD[J>>2]|0)+8>>2]|0,(fD[g+20>>2]|0)>(fD[t+100>>2]|0)):0){if(G=fD[g+12>>2]|0,N=fD[G+88>>2]|0,q=N-w|0,z=fD[G+92>>2]|0,W=z-R|0,G=fD[G+96>>2]|0,j=G-D|0,U=Hw(q|0,((q|0)<0)<<31>>31|0,_|0,u|0)|0,F=TD,X=Hw(W|0,((W|0)<0)<<31>>31|0,e|0,c|0)|0,F=Pw(X|0,TD|0,U|0,F|0)|0,U=TD,X=Hw(j|0,((j|0)<0)<<31>>31|0,h|0,d|0)|0,X=Pw(F|0,U|0,X|0,TD|0)|0,U=TD,j=(VD(W,l)|0)+(VD(q,s)|0)+(VD(j,p)|0)|0,(X|0)==0&(U|0)==0){if((j|0)<0)break e;break}if((U|0)<0){(j|0)>0?(W=1,q=1,F=j,j=((j|0)<0)<<31>>31):(F=ww(0,0,j|0,((j|0)<0)<<31>>31|0)|0,W=(j|0)<0?-1:0,q=(j|0)<0?-1:0,F=(j|0)<0?F:0,j=(j|0)<0?TD:0),(U|0)>0|(U|0)==0&X>>>0>0||(X=ww(0,0,X|0,U|0)|0,W=0-q|0,U=TD);do{if((k|0)<=0){if((k|0)<0){fD[n+88>>2]=-1,q=ww(0,0,k|0,((k|0)<0)<<31>>31|0)|0,fD[n+72>>2]=q,fD[n+76>>2]=TD,q=-1;break}fD[n+88>>2]=0,fD[n+72>>2]=0,fD[n+76>>2]=0,q=0;break}fD[n+88>>2]=1,fD[n+72>>2]=k,fD[n+76>>2]=((k|0)<0)<<31>>31,q=1}while(0);do{if(!((V|0)>0|(V|0)==0&L>>>0>0)){if((V|0)<0){fD[n+88>>2]=0-q,q=ww(0,0,L|0,V|0)|0,fD[n+80>>2]=q,fD[n+84>>2]=TD;break}fD[n+80>>2]=0,fD[n+84>>2]=0;break}fD[n+80>>2]=L,fD[n+84>>2]=V}while(0);if((Bx(F,j,X,U,W,n+72|0)|0)>-1)break e}}while(0);if(J=fD[o>>2]|0,(J|0)==0){m=117;break t}if((fD[J+12>>2]|0)==0){m=117;break t}if(J=fD[fD[J+8>>2]>>2]|0,(fD[J+20>>2]|0)<=(fD[t+100>>2]|0)){m=117;break t}if(z=fD[J+12>>2]|0,N=fD[z+88>>2]|0,F=N-O|0,O=fD[z+92>>2]|0,G=O-I|0,z=fD[z+96>>2]|0,j=z-H|0,q=Hw(F|0,((F|0)<0)<<31>>31|0,f|0,((f|0)<0)<<31>>31|0)|0,W=TD,X=Hw(G|0,((G|0)<0)<<31>>31|0,i|0,((i|0)<0)<<31>>31|0)|0,W=Pw(X|0,TD|0,q|0,W|0)|0,q=TD,X=Hw(j|0,((j|0)<0)<<31>>31|0,P|0,B|0)|0,!((W|0)==(X|0)&(q|0)==(TD|0))){m=117;break t}if(H=Hw(F|0,((F|0)<0)<<31>>31|0,_|0,u|0)|0,X=TD,I=Hw(G|0,((G|0)<0)<<31>>31|0,e|0,c|0)|0,X=Pw(I|0,TD|0,H|0,X|0)|0,H=TD,I=Hw(j|0,((j|0)<0)<<31>>31|0,h|0,d|0)|0,I=Pw(X|0,H|0,I|0,TD|0)|0,H=TD,G=(VD(G,l)|0)+(VD(F,s)|0)+(VD(j,p)|0)|0,N=N-w|0,X=O-R|0,F=z-D|0,N=Hw(N|0,((N|0)<0)<<31>>31|0,_|0,u|0)|0,q=TD,X=Hw(X|0,((X|0)<0)<<31>>31|0,e|0,c|0)|0,q=Pw(X|0,TD|0,N|0,q|0)|0,N=TD,F=Hw(F|0,((F|0)<0)<<31>>31|0,h|0,d|0)|0,F=Pw(q|0,N|0,F|0,TD|0)|0,N=TD,!((N|0)>0|(N|0)==0&F>>>0>0)){m=117;break t}if((I|0)==0&(H|0)==0){if((G|0)>=0){m=117;break t}}else{if((H|0)>=0){m=117;break t}(G|0)>0?(z=1,j=1,O=G,G=((G|0)<0)<<31>>31):(O=ww(0,0,G|0,((G|0)<0)<<31>>31|0)|0,z=(G|0)<0?-1:0,j=(G|0)<0?-1:0,O=(G|0)<0?O:0,G=(G|0)<0?TD:0),(H|0)>0|(H|0)==0&I>>>0>0||(I=ww(0,0,I|0,H|0)|0,z=0-j|0,H=TD);do{if((k|0)<=0){if((k|0)<0){fD[n+64>>2]=-1,k=ww(0,0,k|0,((k|0)<0)<<31>>31|0)|0,fD[n+48>>2]=k,fD[n+52>>2]=TD,k=-1;break}fD[n+64>>2]=0,fD[n+48>>2]=0,fD[n+52>>2]=0,k=0;break}fD[n+64>>2]=1,fD[n+48>>2]=k,fD[n+52>>2]=((k|0)<0)<<31>>31,k=1}while(0);do{if(!((V|0)>0|(V|0)==0&L>>>0>0)){if((V|0)<0){fD[n+64>>2]=0-k,q=ww(0,0,L|0,V|0)|0,fD[n+56>>2]=q,fD[n+60>>2]=TD;break}fD[n+56>>2]=0,fD[n+60>>2]=0;break}fD[n+56>>2]=L,fD[n+60>>2]=V}while(0);if((Bx(O,G,I,H,z,n+48|0)|0)<=0){m=117;break t}}fD[o>>2]=J,H=fD[J+12>>2]|0,O=fD[H+88>>2]|0,I=fD[H+92>>2]|0,H=fD[H+96>>2]|0,V=N,L=F}D=O-N|0,w=I-z|0,L=H-G|0,D=Hw(D|0,((D|0)<0)<<31>>31|0,_|0,u|0)|0,R=TD,w=Hw(w|0,((w|0)<0)<<31>>31|0,e|0,c|0)|0,R=Pw(w|0,TD|0,D|0,R|0)|0,D=TD,L=Hw(L|0,((L|0)<0)<<31>>31|0,h|0,d|0)|0,L=Pw(R|0,D|0,L|0,TD|0)|0,fD[r>>2]=(J|0)==(m|0)?0:g,D=G,R=z,w=N,V=TD}if((m|0)==117)return void(bD=n)}if((C|0)>=0)return void(bD=n);for(m=ww(0,0,y|0,((y|0)<0)<<31>>31|0)|0,g=TD;;){w=(VD(T-v|0,l)|0)+(VD(x-b|0,p)|0)+(VD(E-M|0,s)|0)|0;t:do if((S|0)==0)y=w,S=w,w=((w|0)<0)<<31>>31;else for(y=w,R=w,w=((w|0)<0)<<31>>31;;){if((fD[S+12>>2]|0)==0){S=R;break t}if(V=fD[(fD[S+4>>2]|0)+8>>2]|0,(fD[V+20>>2]|0)<=(fD[t+100>>2]|0)){S=R;break t}if(B=fD[V+12>>2]|0,D=fD[B+88>>2]|0,q=D-E|0,P=fD[B+92>>2]|0,X=P-T|0,B=fD[B+96>>2]|0,k=B-x|0,H=Hw(q|0,((q|0)<0)<<31>>31|0,_|0,u|0)|0,W=TD,O=Hw(X|0,((X|0)<0)<<31>>31|0,e|0,c|0)|0,W=Pw(O|0,TD|0,H|0,W|0)|0,H=TD,O=Hw(k|0,((k|0)<0)<<31>>31|0,h|0,d|0)|0,O=Pw(W|0,H|0,O|0,TD|0)|0,H=TD,k=(VD(X,l)|0)+(VD(q,s)|0)+(VD(k,p)|0)|0,(O|0)==0&(H|0)==0){if((k|0)<=0){S=R;break t}}else{if((H|0)>=0){S=R;break t}(k|0)>0?(I=1,J=1,L=k,k=((k|0)<0)<<31>>31):(L=ww(0,0,k|0,((k|0)<0)<<31>>31|0)|0,I=(k|0)<0?-1:0,J=(k|0)<0?-1:0,L=(k|0)<0?L:0,k=(k|0)<0?TD:0),(H|0)>0|(H|0)==0&O>>>0>0||(O=ww(0,0,O|0,H|0)|0,I=0-J|0,H=TD);do{if((y|0)<=0){if((y|0)<0){fD[n+40>>2]=-1,J=ww(0,0,R|0,w|0)|0,fD[n+24>>2]=J,fD[n+28>>2]=TD,J=-1;break}fD[n+40>>2]=0,fD[n+24>>2]=0,fD[n+28>>2]=0,J=0;break}fD[n+40>>2]=1,fD[n+24>>2]=R,fD[n+28>>2]=w,J=1}while(0);do{if(!((C|0)>0|(C|0)==0&A>>>0>0)){if((C|0)<0){fD[n+40>>2]=0-J,q=ww(0,0,A|0,C|0)|0,fD[n+32>>2]=q,fD[n+36>>2]=TD;break}fD[n+32>>2]=0,fD[n+36>>2]=0;break}fD[n+32>>2]=A,fD[n+36>>2]=C}while(0);if((Bx(L,k,O,H,I,n+24|0)|0)>=1){S=R;break t}}if(w=D-M|0,X=P-v|0,q=B-b|0,C=Hw(w|0,((w|0)<0)<<31>>31|0,_|0,u|0)|0,W=TD,A=Hw(X|0,((X|0)<0)<<31>>31|0,e|0,c|0)|0,W=Pw(A|0,TD|0,C|0,W|0)|0,C=TD,A=Hw(q|0,((q|0)<0)<<31>>31|0,h|0,d|0)|0,A=Pw(W|0,C|0,A|0,TD|0)|0,C=TD,S=(S|0)==(a|0)?0:V,fD[o>>2]=S,w=(VD(X,l)|0)+(VD(q,p)|0)+(VD(w,s)|0)|0,(S|0)==0){x=B,T=P,E=D,y=w,S=w,w=((w|0)<0)<<31>>31;break}E=D,T=P,x=B,y=w,R=w,w=((w|0)<0)<<31>>31}while(0);if(R=fD[r>>2]|0,(R|0)==0){m=117;break}if((fD[R+12>>2]|0)==0){m=117;break}if(R=fD[(fD[R+8>>2]|0)+4>>2]|0,(fD[R+20>>2]|0)<=(fD[t+100>>2]|0)){m=117;break}if(V=fD[R+12>>2]|0,D=fD[V+88>>2]|0,P=D-M|0,M=fD[V+92>>2]|0,B=M-v|0,V=fD[V+96>>2]|0,L=V-b|0,q=Hw(P|0,((P|0)<0)<<31>>31|0,f|0,((f|0)<0)<<31>>31|0)|0,W=TD,X=Hw(B|0,((B|0)<0)<<31>>31|0,i|0,((i|0)<0)<<31>>31|0)|0,W=Pw(X|0,TD|0,q|0,W|0)|0,q=TD,X=Hw(L|0,((L|0)<0)<<31>>31|0,m|0,g|0)|0,!((W|0)==(X|0)&(q|0)==(TD|0))){m=117;break}if(b=Hw(P|0,((P|0)<0)<<31>>31|0,_|0,u|0)|0,X=TD,v=Hw(B|0,((B|0)<0)<<31>>31|0,e|0,c|0)|0,X=Pw(v|0,TD|0,b|0,X|0)|0,b=TD,v=Hw(L|0,((L|0)<0)<<31>>31|0,h|0,d|0)|0,v=Pw(X|0,b|0,v|0,TD|0)|0,b=TD,B=(VD(B,l)|0)+(VD(P,s)|0)+(VD(L,p)|0)|0,D=E-D|0,X=T-M|0,P=x-V|0,D=Hw(D|0,((D|0)<0)<<31>>31|0,_|0,u|0)|0,q=TD,X=Hw(X|0,((X|0)<0)<<31>>31|0,e|0,c|0)|0,q=Pw(X|0,TD|0,D|0,q|0)|0,D=TD,P=Hw(P|0,((P|0)<0)<<31>>31|0,h|0,d|0)|0,P=Pw(q|0,D|0,P|0,TD|0)|0,D=TD,(D|0)>=0){m=117;break}if((v|0)==0&(b|0)==0){if((B|0)<=0){m=117;break}}else{if((b|0)>=0){m=117;break}(B|0)>0?(V=1,L=1,M=B,B=((B|0)<0)<<31>>31):(M=ww(0,0,B|0,((B|0)<0)<<31>>31|0)|0,V=(B|0)<0?-1:0,L=(B|0)<0?-1:0,M=(B|0)<0?M:0,B=(B|0)<0?TD:0),(b|0)>0|(b|0)==0&v>>>0>0||(v=ww(0,0,v|0,b|0)|0,V=0-L|0,b=TD);do{if((y|0)<=0){if((y|0)<0){fD[n+16>>2]=-1,y=ww(0,0,S|0,w|0)|0,fD[n>>2]=y,fD[n+4>>2]=TD,y=-1;break}fD[n+16>>2]=0,fD[n>>2]=0,fD[n+4>>2]=0,y=0;break}fD[n+16>>2]=1,fD[n>>2]=S,fD[n+4>>2]=w,y=1}while(0);do{if(!((C|0)>0|(C|0)==0&A>>>0>0)){if((C|0)<0){fD[n+16>>2]=0-y,q=ww(0,0,A|0,C|0)|0,fD[n+8>>2]=q,fD[n+12>>2]=TD;break}fD[n+8>>2]=0,fD[n+12>>2]=0;break}fD[n+8>>2]=A,fD[n+12>>2]=C}while(0);if((Bx(M,B,v,b,V,n)|0)>=0){m=117;break}}fD[r>>2]=R,M=fD[R+12>>2]|0,b=fD[M+96>>2]|0,v=fD[M+92>>2]|0,M=fD[M+88>>2]|0,S=fD[o>>2]|0,A=P,C=D}return(m|0)==117?void(bD=n):void 0}function Ix(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0;return e=bD,bD=bD+16|0,r=fD[t+8>>2]|0,i=fD[t+12>>2]|0,(i|0)>-1|(i|0)==-1&r>>>0>4294967295?(o=(+(r>>>0)+4294967296*+(i>>>0))*0x10000000000000000+(+((fD[t>>2]|0)>>>0)+4294967296*+((fD[t+4>>2]|0)>>>0)),bD=e,+o):(s=fD[t>>2]|0,a=fD[t+4>>2]|0,n=ww(0,0,s|0,a|0)|0,t=TD,r=Pw((s|0)==0&(a|0)==0&1|0,0,~r|0,~i|0)|0,fD[e>>2]=n,fD[e+4>>2]=t,fD[e+8>>2]=r,fD[e+12>>2]=TD,o=-+Ix(e),bD=e,+o)}function Ox(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0;if(r=bD,bD=bD+256|0,(i|0)<1)return i=fD[t+12>>2]|0,(i|0)!=0&&((uD[t+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+12>>2]=0),uD[t+16>>0]=1,fD[t+12>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=0,i=fD[t+32>>2]|0,(i|0)!=0&&((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+32>>2]=0),uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,fD[t+28>>2]=0,i=fD[t+52>>2]|0,(i|0)!=0&&((uD[t+56>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+52>>2]=0),uD[t+56>>0]=1,fD[t+52>>2]=0,fD[t+44>>2]=0,fD[t+48>>2]=0,void(bD=r);for(fD[r+88>>2]=0,fD[r+92>>2]=0,o=r+96|0,fD[o>>2]=0,fD[r+100>>2]=256,fD[r+104>>2]=0,fD[r+108>>2]=0,fD[r+112>>2]=0,fD[r+116>>2]=256,fD[r+120>>2]=0,fD[r+124>>2]=0,fD[r+128>>2]=0,fD[r+132>>2]=256,uD[r+152>>0]=1,n=r+148|0,fD[n>>2]=0,fD[r+140>>2]=0,fD[r+144>>2]=0,_=1.0000000150474662e30,b=1.0000000150474662e30,m=1.0000000150474662e30,v=-1.0000000150474662e30,y=-1.0000000150474662e30,g=-1.0000000150474662e30,c=0,l=e;;){if(u=+gD[l>>2],p=+gD[l+4>>2],f=+gD[l+8>>2],_=u<_?u:_,b=p<b?p:b,m=f<m?f:m,v=v<u?u:v,y=y<p?p:y,g=g<f?f:g,c=c+1|0,(c|0)==(i|0))break;l=l+16|0}if(u=v-_,p=y-b,f=g-m,u<p?(fD[r+168>>2]=p<f?2:1,l=u<f?0:2,d=r+168|0):(fD[r+168>>2]=u<f?2:0,l=p<f?1:2,d=r+168|0),fD[r+160>>2]=l,c=fD[d>>2]|0,(l|0)==(c|0)&&(l=((l+1|0)>>>0)%3|0,fD[r+160>>2]=l,c=fD[d>>2]|0),C=3-c-l|0,fD[r+164>>2]=C,((C+1|0)%3|0|0)==(fD[d>>2]|0)?(u*=9788566967472434e-20,p*=9788566967472434e-20,f*=9788566967472434e-20):(u=u*9788566967472434e-20*-1,p=p*9788566967472434e-20*-1,f=f*9788566967472434e-20*-1),gD[r+56>>2]=u,gD[r+60>>2]=p,gD[r+64>>2]=f,gD[r+68>>2]=0,u!=0&&(u=1/u),p!=0&&(p=1/p),f!=0&&(f=1/f),gD[r+72>>2]=(_+v)*.5,gD[r+76>>2]=(b+y)*.5,gD[r+80>>2]=(m+g)*.5,gD[r+84>>2]=0,l=r+248|0,uD[l>>0]=1,c=r+244|0,fD[c>>2]=0,h=r+236|0,fD[h>>2]=0,fD[r+240>>2]=0,(i|0)>0){if(fD[5004]=(fD[5004]|0)+1,M=Ew((i<<4|3)+16|0)|0,(M|0)==0?M=0:(fD[(M+19&-16)+-4>>2]=M,M=M+19&-16),T=fD[h>>2]|0,(T|0)>0){S=0;do x=M+(S<<4)|0,(x|0)!=0&&(C=(fD[c>>2]|0)+(S<<4)|0,fD[x+0>>2]=fD[C+0>>2],fD[x+4>>2]=fD[C+4>>2],fD[x+8>>2]=fD[C+8>>2],fD[x+12>>2]=fD[C+12>>2]),S=S+1|0;while((S|0)!=(T|0))}for(S=fD[c>>2]|0,(S|0)!=0&&((uD[l>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[S+-4>>2]|0)),fD[c>>2]=0),uD[l>>0]=1,fD[c>>2]=M,fD[r+240>>2]=i,S=0;;){if(M=M+(S<<4)|0,(M|0)!=0&&(fD[M+0>>2]=fD[r+216>>2],fD[M+4>>2]=fD[r+220>>2],fD[M+8>>2]=fD[r+224>>2],fD[M+12>>2]=fD[r+228>>2]),S=S+1|0,(S|0)==(i|0))break;M=fD[c>>2]|0}for(fD[h>>2]=i,M=fD[c>>2]|0,m=+gD[r+72>>2],g=+gD[r+76>>2],_=+gD[r+80>>2],S=0;;){if(y=+gD[e>>2],gD[r+200>>2]=y,b=+gD[e+4>>2],gD[r+204>>2]=b,v=f*(+gD[e+8>>2]-_),gD[r+200>>2]=u*(y-m),gD[r+204>>2]=p*(b-g),gD[r+208>>2]=v,gD[r+212>>2]=0,fD[M+(S<<4)>>2]=~~+gD[r+200+(fD[r+164>>2]<<2)>>2],fD[M+(S<<4)+4>>2]=~~+gD[r+200+(fD[d>>2]<<2)>>2],fD[M+(S<<4)+8>>2]=~~+gD[r+200+(fD[r+160>>2]<<2)>>2],fD[M+(S<<4)+12>>2]=S,S=S+1|0,(S|0)==(i|0))break;e=e+16|0}e=fD[h>>2]|0,(e|0)>1&&Jx(r+232|0,0,e+-1|0)}else fD[h>>2]=i;if(fD[r+92>>2]=fD[r+88>>2],fD[o>>2]=0,fD[r+100>>2]=i,e=fD[r+140>>2]|0,(e|0)<(i|0)){if((fD[r+144>>2]|0)<(i|0)){if((i|0)==0?(d=0,M=e):(fD[5004]=(fD[5004]|0)+1,d=Ew((i<<2|3)+16|0)|0,(d|0)==0?d=0:(fD[(d+19&-16)+-4>>2]=d,d=d+19&-16),M=fD[r+140>>2]|0),(M|0)>0){x=0;do S=d+(x<<2)|0,(S|0)!=0&&(fD[S>>2]=fD[(fD[n>>2]|0)+(x<<2)>>2]),x=x+1|0;while((x|0)!=(M|0))}M=fD[n>>2]|0,(M|0)!=0&&((uD[r+152>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[M+-4>>2]|0)),fD[n>>2]=0),uD[r+152>>0]=1,fD[n>>2]=d,fD[r+144>>2]=i}do d=(fD[n>>2]|0)+(e<<2)|0,(d|0)!=0&&(fD[d>>2]=0),e=e+1|0;while((e|0)!=(i|0))}if(fD[r+140>>2]=i,(i|0)>0){e=0;do{if(d=fD[o>>2]|0,(d|0)==0){if(d=fD[r+92>>2]|0,(d|0)==0?(fD[5004]=(fD[5004]|0)+1,d=Ew(31)|0,((d|0)!=0?(s=d+19&-16,fD[s+-4>>2]=d,(d+19&-16|0)!=0):0)?(M=fD[r+100>>2]|0,fD[s+4>>2]=M,fD[s+8>>2]=0,fD[5004]=(fD[5004]|0)+1,M=Ew((M*112|3)+16|0)|0,(M|0)==0?M=0:(fD[(M+19&-16)+-4>>2]=M,M=M+19&-16),fD[(d+19&-16)>>2]=M,d=d+19&-16):d=0,fD[d+8>>2]=fD[r+88>>2],fD[r+88>>2]=d):fD[r+92>>2]=fD[d+8>>2],M=fD[d+4>>2]|0,(M|0)>0){S=0,x=fD[d>>2]|0;do S=S+1|0,C=x,x=x+112|0,fD[C>>2]=(S|0)<(M|0)?x:0;while((S|0)!=(M|0))}d=fD[d>>2]|0,fD[o>>2]=fD[d>>2],(d|0)==0?d=0:a=85}else fD[o>>2]=fD[d>>2],a=85;(a|0)==85&&(a=0,C=d+104|0,fD[d+0>>2]=0,fD[d+4>>2]=0,fD[d+8>>2]=0,fD[d+12>>2]=0,fD[d+16>>2]=0,fD[C>>2]=-1),fD[d+8>>2]=0,C=d+88|0,E=(fD[c>>2]|0)+(e<<4)|0,fD[C+0>>2]=fD[E+0>>2],fD[C+4>>2]=fD[E+4>>2],fD[C+8>>2]=fD[E+8>>2],fD[C+12>>2]=fD[E+12>>2],fD[d+104>>2]=-1,fD[(fD[n>>2]|0)+(e<<2)>>2]=d,e=e+1|0}while((e|0)<(i|0))}if(o=fD[c>>2]|0,(o|0)!=0&&((uD[l>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[c>>2]=0),uD[l>>0]=1,fD[c>>2]=0,fD[h>>2]=0,fD[r+240>>2]=0,fD[r+108>>2]=fD[r+104>>2],fD[r+112>>2]=0,fD[r+116>>2]=i*6,fD[r+172>>2]=0,fD[r+176>>2]=0,fD[r+156>>2]=-3,fD[r+184>>2]=0,fD[r+188>>2]=0,fD[r+192>>2]=0,fD[r+196>>2]=0,Lx(r+56|0,0,i,r+184|0),fD[r+180>>2]=fD[r+184>>2],i=fD[c>>2]|0,(i|0)!=0&&((uD[l>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[c>>2]=0),i=fD[t+4>>2]|0,(i|0)<0){(fD[t+8>>2]|0)<0&&(o=fD[t+12>>2]|0,(o|0)!=0&&((uD[t+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[t+12>>2]=0),uD[t+16>>0]=1,fD[t+12>>2]=0,fD[t+8>>2]=0);do C=(fD[t+12>>2]|0)+(i<<4)|0,fD[C+0>>2]=fD[r+40>>2],fD[C+4>>2]=fD[r+44>>2],fD[C+8>>2]=fD[r+48>>2],fD[C+12>>2]=fD[r+52>>2],i=i+1|0;while((i|0)!=0)}if(fD[t+4>>2]=0,fD[r+24>>2]=0,fD[r+28>>2]=0,fD[r+32>>2]=0,o=fD[t+24>>2]|0,(o|0)<0){(fD[t+28>>2]|0)<0&&(i=fD[t+32>>2]|0,(i|0)!=0&&((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+32>>2]=0),uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+28>>2]=0);do i=(fD[t+32>>2]|0)+(o*12|0)|0,(i|0)!=0&&(fD[i+0>>2]=fD[r+24>>2],fD[i+4>>2]=fD[r+28>>2],fD[i+8>>2]=fD[r+32>>2]),o=o+1|0;while((o|0)!=0)}if(fD[t+24>>2]=0,o=fD[t+44>>2]|0,(o|0)<0){i=fD[t+52>>2]|0,(fD[t+48>>2]|0)<0&&((i|0)!=0&&((uD[t+56>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+52>>2]=0),uD[t+56>>0]=1,fD[t+52>>2]=0,fD[t+48>>2]=0,i=0),n=o;do o=i+(n<<2)|0,(o|0)!=0&&(fD[o>>2]=0),n=n+1|0;while((n|0)!=0)}if(fD[t+44>>2]=0,i=fD[r+180>>2]|0,(fD[i+104>>2]|0)<0){for(fD[i+104>>2]=0,fD[5004]=(fD[5004]|0)+1,o=Ew(23)|0,(o|0)!=0?(fD[(o+19&-16)+-4>>2]=o,d=o+19&-16,(o+19&-16|0)!=0&&(fD[d>>2]=i)):d=0,n=1,h=1,i=0;;){o=fD[d+(i<<2)>>2]|0,(fD[o+100>>2]|0)>-1?(gD[r+232+(fD[r+164>>2]<<2)>>2]=+(fD[o+88>>2]|0),gD[r+232+(fD[r+168>>2]<<2)>>2]=+(fD[o+92>>2]|0),u=+(fD[o+96>>2]|0)):(u=+Ix(o+24|0),u/=+Ix(o+72|0),gD[r+232+(fD[r+164>>2]<<2)>>2]=u,u=+Ix(o+40|0),u/=+Ix(o+72|0),gD[r+232+(fD[r+168>>2]<<2)>>2]=u,u=+Ix(o+56|0),u/=+Ix(o+72|0)),gD[r+232+(fD[r+160>>2]<<2)>>2]=u,f=+gD[r+232>>2]*+gD[r+56>>2]+ +gD[r+72>>2],u=+gD[r+236>>2]*+gD[r+60>>2]+ +gD[r+76>>2],p=+gD[r+240>>2]*+gD[r+64>>2]+ +gD[r+80>>2],l=fD[t+4>>2]|0;do if((l|0)==(fD[t+8>>2]|0)){if(a=(l|0)==0?1:l<<1,(l|0)>=(a|0))break;if((a|0)==0?s=0:(fD[5004]=(fD[5004]|0)+1,s=Ew((a<<4|3)+16|0)|0,(s|0)==0?s=0:(fD[(s+19&-16)+-4>>2]=s,s=s+19&-16),l=fD[t+4>>2]|0),(l|0)>0){c=0;do C=s+(c<<4)|0,E=(fD[t+12>>2]|0)+(c<<4)|0,fD[C+0>>2]=fD[E+0>>2],fD[C+4>>2]=fD[E+4>>2],fD[C+8>>2]=fD[E+8>>2],fD[C+12>>2]=fD[E+12>>2],c=c+1|0;while((c|0)!=(l|0))}l=fD[t+12>>2]|0,(l|0)!=0&&((uD[t+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[l+-4>>2]|0)),fD[t+12>>2]=0),uD[t+16>>0]=1,fD[t+12>>2]=s,fD[t+8>>2]=a,l=fD[t+4>>2]|0}while(0);if(C=fD[t+12>>2]|0,gD[C+(l<<4)>>2]=f,gD[C+(l<<4)+4>>2]=u,gD[C+(l<<4)+8>>2]=p,gD[C+(l<<4)+12>>2]=0,fD[t+4>>2]=(fD[t+4>>2]|0)+1,o=fD[o+8>>2]|0,(o|0)!=0){a=o,s=-1,l=-1;do{if(c=a+20|0,e=fD[c>>2]|0,(e|0)<0){e=fD[t+24>>2]|0,fD[r+12>>2]=0,fD[r+16>>2]=0,fD[r+20>>2]=0,M=fD[t+28>>2]|0;do if((e|0)==(M|0)){if(M=(e|0)==0?1:e<<1,(e|0)>=(M|0)){S=e,M=e;break}if((M|0)==0?(S=0,E=e):(fD[5004]=(fD[5004]|0)+1,S=Ew((M*12|3)+16|0)|0,(S|0)==0?S=0:(fD[(S+19&-16)+-4>>2]=S,S=S+19&-16),E=fD[t+24>>2]|0),(E|0)>0){T=0;do x=S+(T*12|0)|0,(x|0)!=0&&(C=(fD[t+32>>2]|0)+(T*12|0)|0,fD[x+0>>2]=fD[C+0>>2],fD[x+4>>2]=fD[C+4>>2],fD[x+8>>2]=fD[C+8>>2]),T=T+1|0;while((T|0)!=(E|0))}x=fD[t+32>>2]|0,(x|0)!=0&&((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[x+-4>>2]|0)),fD[t+32>>2]=0),uD[t+36>>0]=1,fD[t+32>>2]=S,fD[t+28>>2]=M,S=fD[t+24>>2]|0}else S=e;while(0);x=(fD[t+32>>2]|0)+(S*12|0)|0,(x|0)==0?E=M:(fD[x+0>>2]=fD[r+12>>2],fD[x+4>>2]=fD[r+16>>2],fD[x+8>>2]=fD[r+20>>2],S=fD[t+24>>2]|0,E=fD[t+28>>2]|0),M=S+1|0,fD[t+24>>2]=M,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0;do if((M|0)==(E|0)){if(M=(E|0)==0?1:E<<1,(E|0)>=(M|0))break;if((M|0)==0?S=0:(fD[5004]=(fD[5004]|0)+1,S=Ew((M*12|3)+16|0)|0,(S|0)==0?S=0:(fD[(S+19&-16)+-4>>2]=S,S=S+19&-16),E=fD[t+24>>2]|0),(E|0)>0){T=0;do x=S+(T*12|0)|0,(x|0)!=0&&(C=(fD[t+32>>2]|0)+(T*12|0)|0,fD[x+0>>2]=fD[C+0>>2],fD[x+4>>2]=fD[C+4>>2],fD[x+8>>2]=fD[C+8>>2]),T=T+1|0;while((T|0)!=(E|0))}x=fD[t+32>>2]|0,(x|0)!=0&&((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[x+-4>>2]|0)),fD[t+32>>2]=0),uD[t+36>>0]=1,fD[t+32>>2]=S,fD[t+28>>2]=M,E=fD[t+24>>2]|0}else E=M;while(0);if(M=fD[t+32>>2]|0,S=M+(E*12|0)|0,(S|0)!=0&&(fD[S+0>>2]=fD[r+0>>2],fD[S+4>>2]=fD[r+4>>2],fD[S+8>>2]=fD[r+8>>2],E=fD[t+24>>2]|0,M=fD[t+32>>2]|0),fD[t+24>>2]=E+1,fD[c>>2]=e,fD[(fD[a+8>>2]|0)+20>>2]=e+1,fD[M+(e*12|0)+4>>2]=1,fD[M+((e+1|0)*12|0)+4>>2]=-1,S=fD[a+12>>2]|0,x=fD[S+104>>2]|0,(x|0)<0){fD[S+104>>2]=n;do if((n|0)==(h|0)){if(x=(h|0)==0?1:h<<1,(h|0)>=(x|0))break;do if((x|0)==0)T=0;else{if(fD[5004]=(fD[5004]|0)+1,T=Ew((x<<2|3)+16|0)|0,(T|0)==0){T=0;break}fD[(T+19&-16)+-4>>2]=T,T=T+19&-16
}while(0);if((h|0)>0){C=0;do E=T+(C<<2)|0,(E|0)!=0&&(fD[E>>2]=fD[d+(C<<2)>>2]),C=C+1|0;while((C|0)!=(h|0))}if((d|0)==0){d=T,h=x;break}fD[5006]=(fD[5006]|0)+1,Cw(fD[d+-4>>2]|0),d=T,h=x}while(0);x=d+(n<<2)|0,(x|0)!=0&&(fD[x>>2]=S),S=n+1|0}else S=n,n=x;fD[M+(e*12|0)+8>>2]=n,fD[M+((e+1|0)*12|0)+8>>2]=i,e=fD[c>>2]|0,n=S}(l|0)>-1?(fD[(fD[t+32>>2]|0)+(e*12|0)>>2]=l-e,l=fD[c>>2]|0):(l=e,s=e),a=fD[a>>2]|0}while((a|0)!=(o|0));fD[(fD[t+32>>2]|0)+(s*12|0)>>2]=l-s}if(o=i+1|0,!((o|0)<(n|0)))break;i=o}if((i|0)>-1){a=0;do{if(i=fD[(fD[d+(a<<2)>>2]|0)+8>>2]|0,(i|0)!=0){n=i;do{if(s=n+20|0,(fD[s>>2]|0)>-1){e=fD[t+44>>2]|0;do if((e|0)==(fD[t+48>>2]|0)){if(l=(e|0)==0?1:e<<1,(e|0)>=(l|0))break;if((l|0)==0?c=0:(fD[5004]=(fD[5004]|0)+1,c=Ew((l<<2|3)+16|0)|0,(c|0)==0?c=0:(fD[(c+19&-16)+-4>>2]=c,c=c+19&-16),e=fD[t+44>>2]|0),(e|0)>0){h=0;do M=c+(h<<2)|0,(M|0)!=0&&(fD[M>>2]=fD[(fD[t+52>>2]|0)+(h<<2)>>2]),h=h+1|0;while((h|0)!=(e|0))}h=fD[t+52>>2]|0,(h|0)!=0&&((uD[t+56>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[h+-4>>2]|0)),fD[t+52>>2]=0),uD[t+56>>0]=1,fD[t+52>>2]=c,fD[t+48>>2]=l,e=fD[t+44>>2]|0}while(0);l=(fD[t+52>>2]|0)+(e<<2)|0,(l|0)!=0&&(fD[l>>2]=fD[s>>2],e=fD[t+44>>2]|0),fD[t+44>>2]=e+1,s=n;do fD[s+20>>2]=-1,s=fD[(fD[s+8>>2]|0)+4>>2]|0;while((s|0)!=(n|0))}n=fD[n>>2]|0}while((n|0)!=(i|0))}a=a+1|0}while((a|0)<(o|0))}(d|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[d+-4>>2]|0))}Nx(r+56|0),bD=r}function Jx(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;for(s=bD,bD=bD+16|0,a=fD[t+12>>2]|0,o=fD[a+(((i+e|0)/2|0)<<4)>>2]|0,n=fD[a+(((i+e|0)/2|0)<<4)+4>>2]|0,r=fD[a+(((i+e|0)/2|0)<<4)+8>>2]|0,l=e,c=i;;){for(;;){if(h=fD[a+(l<<4)+4>>2]|0,(h|0)>=(n|0)){if((h|0)!=(n|0))break;if(h=fD[a+(l<<4)>>2]|0,(h|0)>=(o|0)){if((h|0)!=(o|0))break;if((fD[a+(l<<4)+8>>2]|0)>=(r|0))break}}l=l+1|0}for(;;){if(h=fD[a+(c<<4)+4>>2]|0,(n|0)>=(h|0)){if((n|0)!=(h|0))break;if(h=fD[a+(c<<4)>>2]|0,(o|0)>=(h|0)){if((o|0)!=(h|0))break;if((r|0)>=(fD[a+(c<<4)+8>>2]|0))break}}c=c+-1|0}if((l|0)<=(c|0)&&(h=a+(l<<4)|0,fD[s+0>>2]=fD[h+0>>2],fD[s+4>>2]=fD[h+4>>2],fD[s+8>>2]=fD[h+8>>2],fD[s+12>>2]=fD[h+12>>2],a=a+(c<<4)|0,fD[h+0>>2]=fD[a+0>>2],fD[h+4>>2]=fD[a+4>>2],fD[h+8>>2]=fD[a+8>>2],fD[h+12>>2]=fD[a+12>>2],h=(fD[t+12>>2]|0)+(c<<4)|0,fD[h+0>>2]=fD[s+0>>2],fD[h+4>>2]=fD[s+4>>2],fD[h+8>>2]=fD[s+8>>2],fD[h+12>>2]=fD[s+12>>2],l=l+1|0,c=c+-1|0),(l|0)>(c|0))break;a=fD[t+12>>2]|0}return(c|0)>(e|0)&&Jx(t,e,c),(l|0)>=(i|0)?void(bD=s):(Jx(t,l,i),void(bD=s))}function Nx(t){t|=0;var e=0,i=0,r=0;if(e=bD,i=fD[t+92>>2]|0,(i|0)!=0&&((uD[t+96>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+92>>2]=0),uD[t+96>>0]=1,fD[t+92>>2]=0,fD[t+84>>2]=0,fD[t+88>>2]=0,i=fD[t+64>>2]|0,(i|0)!=0)do fD[t+64>>2]=fD[i+8>>2],r=fD[i>>2]|0,(r|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0),i=fD[t+64>>2]|0;while((i|0)!=0);if(r=fD[t+48>>2]|0,(r|0)!=0)do fD[t+48>>2]=fD[r+8>>2],i=fD[r>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0),r=fD[t+48>>2]|0;while((r|0)!=0);if(i=fD[t+32>>2]|0,(i|0)==0)return void(bD=e);do fD[t+32>>2]=fD[i+8>>2],r=fD[i>>2]|0,(r|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0),i=fD[t+32>>2]|0;while((i|0)!=0);bD=e}function Fx(t){t|=0;var e=0,i=0;e=bD;do fD[t+4>>2]=0,gD[t+8>>2]=0,i=fD[t+24>>2]|0,(i|0)!=0&&Fx(i),t=fD[t+28>>2]|0;while((t|0)!=0);bD=e}function Gx(t){t|=0;var e=0,i=0,r=0,o=0;if(e=bD,bD=bD+16|0,i=fD[5022]|0,(fD[i>>2]|0)!=(t|0)){o=fD[i+24>>2]|0;t:do if((o|0)==0)r=5;else for(;;){if((fD[o>>2]|0)==(t|0)){i=o;break t}if(o=fD[o+28>>2]|0,(o|0)==0){r=5;break}}while(0);if((r|0)==5){r=Ew(36)|0;t:do if((r|0)==0){for(;;){if(r=fD[5158]|0,fD[5158]=r+0,(r|0)==0)break;if(JP[r&3](),r=Ew(36)|0,(r|0)!=0)break t}o=QD(4)|0,fD[o>>2]=20472,KD(o|0,20520,265)}while(0);fD[r>>2]=t,t=r+4|0,o=r+20|0,fD[t+0>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,fD[o>>2]=i,fD[r+24>>2]=0,o=r+28|0,fD[o>>2]=0,fD[r+32>>2]=0,Fx(r),fD[o>>2]=fD[i+24>>2],fD[i+24>>2]=r,i=r}fD[5022]=i}return r=i+4|0,fD[r>>2]=(fD[r>>2]|0)+1,r=i+16|0,o=fD[r>>2]|0,fD[r>>2]=o+1,(o|0)!=0?void(bD=e):($D(e|0,0)|0,o=fD[5008]|0,fD[i+12>>2]=(fD[e+4>>2]|0)-(fD[o+4>>2]|0)+(((fD[e>>2]|0)-(fD[o>>2]|0)|0)*1e6|0),void(bD=e))}function zx(){var t=0,e=0;t=bD,e=Ew(8)|0;t:do if((e|0)==0){for(;;){if(e=fD[5158]|0,fD[5158]=e+0,(e|0)==0)break;if(JP[e&3](),e=Ew(8)|0,(e|0)!=0)break t}e=QD(4)|0,fD[e>>2]=20472,KD(e|0,20520,265)}while(0);fD[5008]=e,$D(e|0,0)|0,fD[5010]=20080,fD[5011]=0,fD[5012]=0,fD[5013]=0,fD[5014]=0,fD[5015]=0,fD[5016]=0,fD[5017]=0,fD[5018]=0,Fx(20040),bD=t}function jx(t,e){t|=0,e|=0;var i=0;i=bD,bD=bD+16|0,fD[i>>2]=e,e=fD[vD>>2]|0,ID(e|0,t|0,i|0)|0,qD(10,e|0)|0,YD()}function Ux(){var t=0,e=0,i=0,r=0;t=bD,bD=bD+16|0,(jD(20288,3)|0)!=0&&jx(20296,t),e=GD(fD[5070]|0)|0,(e|0)==0&&jx(20264,t),e=fD[e>>2]|0,(e|0)==0&&jx(20264,t),i=fD[e+48>>2]|0,r=fD[e+52>>2]|0,(i&-256|0)==1126902528&(r|0)==1129074247||(fD[t>>2]=20112,jx(20224,t)),i=(i|0)==1126902529&(r|0)==1129074247?fD[e+44>>2]|0:e+80|0,fD[t+12>>2]=i,r=fD[e>>2]|0,e=fD[r+4>>2]|0,rT(20656,r,t+12|0)|0?(r=fD[t+12>>2]|0,r=lP[fD[(fD[r>>2]|0)+8>>2]&127](r)|0,fD[t>>2]=20112,fD[t+4>>2]=e,fD[t+8>>2]=r,jx(20128,t)):(fD[t>>2]=20112,fD[t+4>>2]=e,jx(20176,t))}function Wx(){var t=0;return t=bD,bD=bD+16|0,(UD(20280,273)|0)==0?void(bD=t):void jx(20352,t)}function Xx(t){t|=0;var e=0;return e=bD,bD=bD+16|0,Cw(t),(XD(fD[5070]|0,0)|0)==0?void(bD=e):void jx(20408,e)}function qx(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function Kx(t){t|=0}function Yx(t){return t|=0,20488}function Qx(t){t|=0}function Zx(t){t|=0}function $x(t){t|=0}function tT(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function eT(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function iT(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function rT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;if(r=bD,bD=bD+64|0,(t|0)==(e|0))return n=1,bD=r,n|0;if((e|0)==0)return n=0,bD=r,n|0;if(e=cT(e,20784)|0,(e|0)==0)return n=0,bD=r,n|0;n=r+0|0,o=n+56|0;do fD[n>>2]=0,n=n+4|0;while((n|0)<(o|0));return fD[r>>2]=e,fD[r+8>>2]=t,fD[r+12>>2]=-1,fD[r+48>>2]=1,GP[fD[(fD[e>>2]|0)+28>>2]&127](e,r,fD[i>>2]|0,1),(fD[r+24>>2]|0)!=1?(n=0,bD=r,n|0):(fD[i>>2]=fD[r+16>>2],n=1,bD=r,n|0)}function oT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;return r=bD,o=fD[t+16>>2]|0,(o|0)==0?(fD[t+16>>2]=e,fD[t+24>>2]=i,fD[t+36>>2]=1,void(bD=r)):(o|0)!=(e|0)?(fD[t+36>>2]=(fD[t+36>>2]|0)+1,fD[t+24>>2]=2,uD[t+54>>0]=1,void(bD=r)):(fD[t+24>>2]|0)!=2?void(bD=r):(fD[t+24>>2]=i,void(bD=r))}function nT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return o=bD,(fD[e+8>>2]|0)!=(t|0)?void(bD=o):(oT(e,i,r),void(bD=o))}function aT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return o=bD,(t|0)==(fD[e+8>>2]|0)?(oT(e,i,r),void(bD=o)):(t=fD[t+8>>2]|0,GP[fD[(fD[t>>2]|0)+28>>2]&127](t,e,i,r),void(bD=o))}function sT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0;o=bD,n=fD[t+4>>2]|0,a=(n&1|0)==0?n>>8:fD[(fD[i>>2]|0)+(n>>8)>>2]|0,t=fD[t>>2]|0,GP[fD[(fD[t>>2]|0)+28>>2]&127](t,e,i+a|0,(n&2|0)!=0?r:2),bD=o}function lT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0;if(o=bD,(t|0)==(fD[e+8>>2]|0))return oT(e,i,r),void(bD=o);if(n=fD[t+12>>2]|0,sT(t+16|0,e,i,r),(n|0)<=1)return void(bD=o);for(a=t+24|0;;){if(sT(a,e,i,r),(uD[e+54>>0]|0)!=0){r=7;break}if(a=a+8|0,!(a>>>0<(t+(n<<3)+16|0)>>>0)){r=7;break}}return(r|0)==7?void(bD=o):void 0}function cT(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0;i=bD,bD=bD+64|0,r=fD[t>>2]|0,o=t+(fD[r+-8>>2]|0)|0,r=fD[r+-4>>2]|0,fD[i>>2]=e,fD[i+4>>2]=t,fD[i+8>>2]=20728,n=i+12|0,t=n+40|0;do fD[n>>2]=0,n=n+4|0;while((n|0)<(t|0));pD[i+52>>1]=0,uD[i+54>>0]=0;do if((r|0)==(e|0))fD[i+48>>2]=1,yP[fD[(fD[r>>2]|0)+20>>2]&7](r,i,o,o,1,0),e=(fD[i+24>>2]|0)==1?o:0;else{if(iP[fD[(fD[r>>2]|0)+24>>2]&31](r,i,o,1,0),e=fD[i+36>>2]|0,(e|0)==0){if((fD[i+40>>2]|0)!=1){e=0;break}if((fD[i+28>>2]|0)!=1){e=0;break}e=(fD[i+32>>2]|0)==1?fD[i+20>>2]|0:0;break}if((e|0)!=1){e=0;break}if((fD[i+24>>2]|0)!=1){if((fD[i+40>>2]|0)!=0){e=0;break}if((fD[i+28>>2]|0)!=1){e=0;break}if((fD[i+32>>2]|0)!=1){e=0;break}}e=fD[i+16>>2]|0}while(0);return bD=i,e|0}function hT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return o=bD,uD[t+53>>0]=1,(fD[t+4>>2]|0)!=(i|0)?void(bD=o):(uD[t+52>>0]=1,i=fD[t+16>>2]|0,(i|0)==0?(fD[t+16>>2]=e,fD[t+24>>2]=r,fD[t+36>>2]=1,((r|0)==1?(fD[t+48>>2]|0)==1:0)?(uD[t+54>>0]=1,void(bD=o)):void(bD=o)):(i|0)!=(e|0)?(fD[t+36>>2]=(fD[t+36>>2]|0)+1,uD[t+54>>0]=1,void(bD=o)):(e=fD[t+24>>2]|0,(e|0)==2?fD[t+24>>2]=r:r=e,((r|0)==1?(fD[t+48>>2]|0)==1:0)?(uD[t+54>>0]=1,void(bD=o)):void(bD=o)))}function dT(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0;if(s=bD,(t|0)==(fD[e+8>>2]|0))return(fD[e+4>>2]|0)!=(i|0)?void(bD=s):(fD[e+28>>2]|0)==1?void(bD=s):(fD[e+28>>2]=r,void(bD=s));if((t|0)!=(fD[e>>2]|0)){if(l=fD[t+12>>2]|0,gw(t+16|0,e,i,r,o),(l|0)<=1)return void(bD=s);if(c=fD[t+8>>2]|0,(c&2|0)==0?(fD[e+36>>2]|0)!=1:0){if((c&1|0)==0){for(c=t+24|0;;){if((uD[e+54>>0]|0)!=0){c=43;break}if((fD[e+36>>2]|0)==1){c=43;break}if(gw(c,e,i,r,o),c=c+8|0,!(c>>>0<(t+(l<<3)+16|0)>>>0)){c=43;break}}if((c|0)==43)return void(bD=s)}for(c=t+24|0;;){if((uD[e+54>>0]|0)!=0){c=43;break}if((fD[e+36>>2]|0)==1?(fD[e+24>>2]|0)==1:0){c=43;break}if(gw(c,e,i,r,o),c=c+8|0,!(c>>>0<(t+(l<<3)+16|0)>>>0)){c=43;break}}if((c|0)==43)return void(bD=s)}for(c=t+24|0;;){if((uD[e+54>>0]|0)!=0){c=43;break}if(gw(c,e,i,r,o),c=c+8|0,!(c>>>0<(t+(l<<3)+16|0)>>>0)){c=43;break}}if((c|0)==43)return void(bD=s)}if((fD[e+16>>2]|0)!=(i|0)?(fD[e+20>>2]|0)!=(i|0):0){if(fD[e+32>>2]=r,(fD[e+44>>2]|0)==4)return void(bD=s);h=fD[t+12>>2]|0;t:do if((h|0)>0){d=0,c=0,l=t+16|0;e:do{if(uD[e+52>>0]=0,uD[e+53>>0]=0,uT(l,e,i,i,1,o),(uD[e+54>>0]|0)!=0)break;do if((uD[e+53>>0]|0)!=0){if((uD[e+52>>0]|0)==0){if((fD[t+8>>2]&1|0)==0){c=1;break e}c=1;break}if((fD[e+24>>2]|0)==1){c=25;break t}if((fD[t+8>>2]&2|0)==0){c=25;break t}d=1,c=1}while(0);l=l+8|0}while(l>>>0<(t+(h<<3)+16|0)>>>0);d?(a=c,c=24):(n=c,c=21)}else n=0,c=21;while(0);if((c|0)==21&&(fD[e+20>>2]=i,fD[e+40>>2]=(fD[e+40>>2]|0)+1,((fD[e+36>>2]|0)==1?(fD[e+24>>2]|0)==2:0)?(uD[e+54>>0]=1,c=n?25:26):(a=n,c=24)),(c|0)==24&&(c=a?25:26),(c|0)==25)return fD[e+44>>2]=3,void(bD=s);if((c|0)==26)return fD[e+44>>2]=4,void(bD=s)}return(r|0)!=1?void(bD=s):(fD[e+32>>2]=1,void(bD=s))}function uT(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0;a=bD,s=fD[t+4>>2]|0,l=(s&1|0)==0?s>>8:fD[(fD[r>>2]|0)+(s>>8)>>2]|0,t=fD[t>>2]|0,yP[fD[(fD[t>>2]|0)+20>>2]&7](t,e,i,r+l|0,(s&2|0)!=0?o:2,n),bD=a}function pT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0;return o=bD,bD=bD+288|0,(fD[t+16>>2]|0)==0?(B=fD[t+12>>2]|0,t=fD[t+20>>2]|0,c=+gD[e>>2],u=+gD[e+4>>2],m=+gD[e+8>>2],a=+gD[e+16>>2],p=+gD[e+20>>2],n=+gD[e+24>>2],l=+gD[e+32>>2],f=+gD[e+36>>2],s=+gD[e+40>>2],A=+gD[e+48>>2],C=+gD[e+52>>2],E=+gD[e+56>>2],P=+gD[i>>2],D=+gD[i+16>>2],v=+gD[i+32>>2],R=+gD[i+4>>2],w=+gD[i+20>>2],y=+gD[i+36>>2],g=+gD[i+8>>2],M=+gD[i+24>>2],b=+gD[i+40>>2],T=-+gD[i+48>>2],x=-+gD[i+52>>2],d=-+gD[i+56>>2],e=fD[(fD[B>>2]|0)+64>>2]|0,S=-+gD[t+48>>2],_=-+gD[t+52>>2],h=-+gD[t+56>>2],gD[o+32>>2]=(c*P+a*D+l*v)*S+(c*R+a*w+l*y)*_+(c*g+a*M+l*b)*h,gD[o+36>>2]=(u*P+p*D+f*v)*S+(u*R+p*w+f*y)*_+(u*g+p*M+f*b)*h,gD[o+40>>2]=(m*P+n*D+s*v)*S+(m*R+n*w+s*y)*_+(m*g+n*M+s*b)*h,gD[o+44>>2]=0,OP[e&127](o+48|0,B,o+32|0),h=+gD[o+48>>2],_=+gD[o+52>>2],S=+gD[o+56>>2],v=A*P+C*D+E*v+(P*T+D*x+v*d)+((c*P+a*D+l*v)*h+(u*P+p*D+f*v)*_+(m*P+n*D+s*v)*S),y=A*R+C*w+E*y+(R*T+w*x+y*d)+((c*R+a*w+l*y)*h+(u*R+p*w+f*y)*_+(m*R+n*w+s*y)*S),S=A*g+C*M+E*b+(g*T+M*x+b*d)+((c*g+a*M+l*b)*h+(u*g+p*M+f*b)*_+(m*g+n*M+s*b)*S),b=+gD[t+48>>2],s=+gD[t+52>>2],M=+gD[t+56>>2],n=M*S+(b*v+s*y)-+gD[t+64>>2],g=+gD[i>>2],m=+gD[i+4>>2],_=+gD[i+8>>2],f=+gD[i+16>>2],p=+gD[i+20>>2],u=+gD[i+24>>2],h=+gD[i+32>>2],l=+gD[i+36>>2],a=+gD[i+40>>2],c=f*(v-b*n)+(y-s*n)*p+(S-M*n)*u+ +gD[i+52>>2],d=(v-b*n)*h+(y-s*n)*l+(S-M*n)*a+ +gD[i+56>>2],gD[o+16>>2]=_*(S-M*n)+(g*(v-b*n)+m*(y-s*n))+ +gD[i+48>>2],gD[o+20>>2]=c,gD[o+24>>2]=d,gD[o+28>>2]=0,d=+gD[t+48>>2],c=+gD[t+52>>2],s=+gD[t+56>>2],gD[o>>2]=g*d+m*c+_*s,gD[o+4>>2]=d*f+c*p+s*u,gD[o+8>>2]=d*h+c*l+s*a,gD[o+12>>2]=0,IP[fD[(fD[r>>2]|0)+16>>2]&15](r,o,o+16|0,n),void(bD=o)):(k=fD[t+4>>2]|0,uD[k+312>>0]=0,fD[k>>2]=0,uD[k+356>>0]=1,gD[k+292>>2]=0xde0b6b000000000,gD[k+296>>2]=0xde0b6b000000000,gD[k+300>>2]=0xde0b6b000000000,gD[k+304>>2]=0,fD[k+336>>2]=0,fD[k+340>>2]=0,fD[k+344>>2]=0,fD[k+348>>2]=0,uD[k+352>>0]=0,uD[k+332>>0]=uD[k+332>>0]&-16,k=fD[t+12>>2]|0,L=fD[t+16>>2]|0,V=fD[k+4>>2]|0,B=fD[L+4>>2]|0,D=+vP[fD[(fD[k>>2]|0)+48>>2]&15](k),H=fD[t+16>>2]|0,P=+vP[fD[(fD[H>>2]|0)+48>>2]&15](H),H=fD[t+4>>2]|0,t=fD[t+8>>2]|0,fD[o+200>>2]=13392,gD[o+204>>2]=0,gD[o+208>>2]=1,gD[o+212>>2]=0,gD[o+216>>2]=0,fD[o+220>>2]=t,fD[o+224>>2]=H,fD[o+228>>2]=k,fD[o+232>>2]=L,fD[o+236>>2]=V,fD[o+240>>2]=B,gD[o+244>>2]=D,gD[o+248>>2]=P,uD[o+252>>0]=0,fD[o+260>>2]=-1,fD[o+272>>2]=1,fD[o+276>>2]=1,gD[o+192>>2]=0xde0b6b000000000,fD[o+64>>2]=fD[e+0>>2],fD[o+68>>2]=fD[e+4>>2],fD[o+72>>2]=fD[e+8>>2],fD[o+76>>2]=fD[e+12>>2],fD[o+80>>2]=fD[e+16>>2],fD[o+84>>2]=fD[e+20>>2],fD[o+88>>2]=fD[e+24>>2],fD[o+92>>2]=fD[e+28>>2],fD[o+96>>2]=fD[e+32>>2],fD[o+100>>2]=fD[e+36>>2],fD[o+104>>2]=fD[e+40>>2],fD[o+108>>2]=fD[e+44>>2],fD[o+112>>2]=fD[e+48>>2],fD[o+116>>2]=fD[e+52>>2],fD[o+120>>2]=fD[e+56>>2],fD[o+124>>2]=fD[e+60>>2],fD[o+128>>2]=fD[i+0>>2],fD[o+132>>2]=fD[i+4>>2],fD[o+136>>2]=fD[i+8>>2],fD[o+140>>2]=fD[i+12>>2],fD[o+144>>2]=fD[i+16>>2],fD[o+148>>2]=fD[i+20>>2],fD[o+152>>2]=fD[i+24>>2],fD[o+156>>2]=fD[i+28>>2],fD[o+160>>2]=fD[i+32>>2],fD[o+164>>2]=fD[i+36>>2],fD[o+168>>2]=fD[i+40>>2],fD[o+172>>2]=fD[i+44>>2],fD[o+176>>2]=fD[i+48>>2],fD[o+180>>2]=fD[i+52>>2],fD[o+184>>2]=fD[i+56>>2],fD[o+188>>2]=fD[i+60>>2],gA(o+200|0,o+64|0,r,0,0),void(bD=o))}function fT(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0;if(a=bD,bD=bD+304|0,s=+gD[i+48>>2]-+gD[e+48>>2],c=+gD[i+52>>2]-+gD[e+52>>2],l=+gD[i+56>>2]-+gD[e+56>>2],ou(e,i,a+256|0,a+192|0),p=+gD[a+192>>2],f=+gD[a+256>>2]*p,_=p*+gD[a+260>>2],p*=+gD[a+264>>2],gD[a+176>>2]=f,gD[a+180>>2]=_,gD[a+184>>2]=p,gD[a+188>>2]=0,u=+gD[o+48>>2]-+gD[r+48>>2],h=+gD[o+52>>2]-+gD[r+52>>2],d=+gD[o+56>>2]-+gD[r+56>>2],ou(r,o,a+256|0,a+192|0),g=+gD[a+192>>2],b=+gD[a+256>>2]*g,y=g*+gD[a+260>>2],g*=+gD[a+264>>2],gD[a+160>>2]=b,gD[a+164>>2]=y,gD[a+168>>2]=g,gD[a+172>>2]=0,o=fD[t+12>>2]|0,m=+vP[fD[(fD[o>>2]|0)+16>>2]&15](o),o=fD[t+16>>2]|0,v=(o|0)==0?0:+vP[fD[(fD[o>>2]|0)+16>>2]&15](o),p=m*+CD(+(f*f+_*_+p*p))+v*+CD(+(b*b+y*y+g*g)),p+ +CD(+((u-s)*(u-s)+(h-c)*(h-c)+(d-l)*(d-l)))==0)return i=0,bD=a,i|0;if(fD[a+256>>2]=10224,gD[a+292>>2]=0xde0b6b000000000,uD[a+296>>0]=0,pT(t,e,r,a+256|0),i=(uD[a+296>>0]|0)==0,fD[a+144>>2]=fD[a+276>>2],fD[a+148>>2]=fD[a+280>>2],fD[a+152>>2]=fD[a+284>>2],fD[a+156>>2]=fD[a+288>>2],i)return i=0,bD=a,i|0;if(f=+gD[a+260>>2],m=+gD[a+264>>2],y=+gD[a+268>>2],p+((u-s)*f+(h-c)*m+(d-l)*y)<=1.1920928955078125e-7)return i=0,bD=a,i|0;for(v=+gD[a+272>>2],g=+gD[a+292>>2]+ +gD[n+172>>2],_=0,o=0;;){if(!(g>.0010000000474974513)){r=18;break}if(i=fD[n+168>>2]|0,(i|0)!=0&&(M=fD[(fD[i>>2]|0)+20>>2]|0,gD[a+128>>2]=1,gD[a+132>>2]=1,gD[a+136>>2]=1,gD[a+140>>2]=0,cP[M&7](i,a+144|0,.20000000298023224,a+128|0)),f=p+((d-l)*y+((h-c)*m+(u-s)*f)),f<=1.1920928955078125e-7){n=0,r=19;break}if(b=_+g/f,!(!(b<0)&!(b>1)&!(b<=_))){n=0,r=19;break}if(qd(e,s,c,l,a+176|0,b,a+192|0),qd(r,u,h,d,a+160|0,b,a+64|0),i=fD[n+168>>2]|0,(i|0)!=0&&(M=fD[(fD[i>>2]|0)+20>>2]|0,gD[a+48>>2]=1,gD[a+52>>2]=0,gD[a+56>>2]=0,gD[a+60>>2]=0,cP[M&7](i,a+240|0,.20000000298023224,a+48|0)),rP[fD[fD[n>>2]>>2]&31](n,b),fD[a>>2]=10224,gD[a+36>>2]=0xde0b6b000000000,uD[a+40>>0]=0,pT(t,a+192|0,a+64|0,a),(uD[a+40>>0]|0)==0){r=16;break}if(g=+gD[a+36>>2]+ +gD[n+172>>2],fD[a+144>>2]=fD[a+20>>2],fD[a+148>>2]=fD[a+24>>2],fD[a+152>>2]=fD[a+28>>2],fD[a+156>>2]=fD[a+32>>2],i=o+1|0,(o|0)>63){r=17;break}f=+gD[a+4>>2],m=+gD[a+8>>2],y=+gD[a+12>>2],v=+gD[a+16>>2],_=b,o=i}return(r|0)==16?(OP[fD[(fD[n>>2]|0)+8>>2]&127](n,-1,o),M=0,bD=a,M|0):(r|0)==17?(OP[fD[(fD[n>>2]|0)+8>>2]&127](n,-2,i),M=0,bD=a,M|0):(r|0)==18?(gD[n+164>>2]=_,gD[n+132>>2]=f,gD[n+136>>2]=m,gD[n+140>>2]=y,gD[n+144>>2]=v,fD[n+148>>2]=fD[a+144>>2],fD[n+152>>2]=fD[a+148>>2],fD[n+156>>2]=fD[a+152>>2],fD[n+160>>2]=fD[a+156>>2],M=1,bD=a,M|0):(r|0)==19?(bD=a,n|0):0}function _T(t){t|=0}function mT(t){t|=0}function gT(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function yT(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function bT(t,e,i){t|=0,e|=0,i|=0}function vT(t,e,i){t|=0,e|=0,i|=0}function MT(t,e,i,r){t|=0,e|=0,i|=0,r=+r;var o=0;return o=bD,+gD[t+36>>2]>r?(uD[t+40>>0]=1,fD[t+4>>2]=fD[e+0>>2],fD[t+8>>2]=fD[e+4>>2],fD[t+12>>2]=fD[e+8>>2],fD[t+16>>2]=fD[e+12>>2],fD[t+20>>2]=fD[i+0>>2],fD[t+24>>2]=fD[i+4>>2],fD[t+28>>2]=fD[i+8>>2],fD[t+32>>2]=fD[i+12>>2],gD[t+36>>2]=r,void(bD=o)):void(bD=o)}function ST(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+12>>2]=fD[e+0>>2],fD[t+16>>2]=fD[e+4>>2],fD[t+20>>2]=fD[e+8>>2],fD[t+24>>2]=fD[e+12>>2],qb(t),bD=i}function xT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;if(r=bD,a=fD[t+96>>2]|0,(a|0)==(fD[t+100>>2]|0)?(o=(a|0)==0?1:a<<1,(a|0)<(o|0)):0){if((o|0)==0?n=0:(fD[5004]=(fD[5004]|0)+1,n=Ew((o<<4|3)+16|0)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),a=fD[t+96>>2]|0),(a|0)>0){s=0;do l=n+(s<<4)|0,c=(fD[t+104>>2]|0)+(s<<4)|0,fD[l+0>>2]=fD[c+0>>2],fD[l+4>>2]=fD[c+4>>2],fD[l+8>>2]=fD[c+8>>2],fD[l+12>>2]=fD[c+12>>2],s=s+1|0;while((s|0)!=(a|0))}a=fD[t+104>>2]|0,(a|0)!=0&&((uD[t+108>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[t+104>>2]=0),uD[t+108>>0]=1,fD[t+104>>2]=n,fD[t+100>>2]=o,a=fD[t+96>>2]|0}return c=(fD[t+104>>2]|0)+(a<<4)|0,fD[c+0>>2]=fD[e+0>>2],fD[c+4>>2]=fD[e+4>>2],fD[c+8>>2]=fD[e+8>>2],fD[c+12>>2]=fD[e+12>>2],fD[t+96>>2]=(fD[t+96>>2]|0)+1,i?(qb(t),void(bD=r)):void(bD=r)}function TT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0;if(s=bD,o=fD[e+96>>2]|0,(o|0)<=0)return fD[t+0>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,void(bD=s);for(r=+gD[e+12>>2],a=+gD[i>>2]*r,l=+gD[e+16>>2],n=+gD[i+4>>2]*l,c=+gD[e+20>>2],h=+gD[i+8>>2]*c,e=fD[e+104>>2]|0,i=0,d=-3.4028234663852886e38,u=-1;;){if(p=a*+gD[e+(i<<4)>>2]+n*+gD[e+(i<<4)+4>>2]+h*+gD[e+(i<<4)+8>>2],f=p>d,u=f?i:u,i=i+1|0,(i|0)==(o|0))break;d=f?p:d}d=+gD[e+(u<<4)+4>>2]*l,p=+gD[e+(u<<4)+8>>2]*c,gD[t>>2]=+gD[e+(u<<4)>>2]*r,gD[t+4>>2]=d,gD[t+8>>2]=p,gD[t+12>>2]=0,bD=s}function ET(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0;if(o=bD,!((r|0)>0))return void(bD=o);a=0;do gD[i+(a<<4)+12>>2]=-0xde0b6b000000000,a=a+1|0;while((a|0)!=(r|0));a=0;do{if(m=+gD[t+12>>2],h=+gD[e+(a<<4)>>2]*m,s=+gD[t+16>>2],d=+gD[e+(a<<4)+4>>2]*s,l=+gD[t+20>>2],u=+gD[e+(a<<4)+8>>2]*l,p=fD[t+96>>2]|0,(p|0)>0){f=fD[t+104>>2]|0,_=0,n=-3.4028234663852886e38,c=-1;do g=h*+gD[f+(_<<4)>>2]+d*+gD[f+(_<<4)+4>>2]+u*+gD[f+(_<<4)+8>>2],y=g>n,c=y?_:c,n=y?g:n,_=_+1|0;while((_|0)!=(p|0));u=+gD[f+(c<<4)+4>>2]*s,g=+gD[f+(c<<4)+8>>2]*l,gD[i+(a<<4)>>2]=+gD[f+(c<<4)>>2]*m,gD[i+(a<<4)+4>>2]=u,gD[i+(a<<4)+8>>2]=g,gD[i+(a<<4)+12>>2]=n}else gD[i+(a<<4)+12>>2]=-0xde0b6b000000000;a=a+1|0}while((a|0)!=(r|0));bD=o}function CT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return r=bD,OP[fD[(fD[e>>2]|0)+68>>2]&127](t,e,i),+vP[fD[(fD[e>>2]|0)+48>>2]&15](e)==0?void(bD=r):(l=+gD[i>>2],a=+gD[i+4>>2],n=+gD[i+8>>2],o=l*l+a*a+n*n<1.4210854715202004e-14?-1:n,s=l*l+a*a+n*n<1.4210854715202004e-14?-1:a,l=l*l+a*a+n*n<1.4210854715202004e-14?-1:l,n=1/+CD(+(o*o+(l*l+s*s))),a=+vP[fD[(fD[e>>2]|0)+48>>2]&15](e),gD[t>>2]=n*l*a+ +gD[t>>2],gD[t+4>>2]=a*n*s+ +gD[t+4>>2],gD[t+8>>2]=a*n*o+ +gD[t+8>>2],void(bD=r))}function AT(t){return t|=0,fD[t+96>>2]|0}function wT(t){return t|=0,fD[t+96>>2]|0}function RT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0;a=fD[t+96>>2]|0,s=fD[t+104>>2]|0,o=+gD[s+(((e|0)%(a|0)|0)<<4)+4>>2]*+gD[t+16>>2],n=+gD[s+(((e|0)%(a|0)|0)<<4)+8>>2]*+gD[t+20>>2],gD[i>>2]=+gD[s+(((e|0)%(a|0)|0)<<4)>>2]*+gD[t+12>>2],gD[i+4>>2]=o,gD[i+8>>2]=n,gD[i+12>>2]=0,i=fD[t+104>>2]|0,n=+gD[i+(((e+1|0)%(a|0)|0)<<4)+4>>2]*+gD[t+16>>2],o=+gD[i+(((e+1|0)%(a|0)|0)<<4)+8>>2]*+gD[t+20>>2],gD[r>>2]=+gD[i+(((e+1|0)%(a|0)|0)<<4)>>2]*+gD[t+12>>2],gD[r+4>>2]=n,gD[r+8>>2]=o,gD[r+12>>2]=0}function DT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;n=fD[t+104>>2]|0,o=+gD[n+(e<<4)+4>>2]*+gD[t+16>>2],r=+gD[n+(e<<4)+8>>2]*+gD[t+20>>2],gD[i>>2]=+gD[n+(e<<4)>>2]*+gD[t+12>>2],gD[i+4>>2]=o,gD[i+8>>2]=r,gD[i+12>>2]=0}function PT(t){return t|=0,0}function BT(t,e,i,r){t|=0,e|=0,i|=0,r|=0}function VT(t,e,i){return t|=0,e|=0,i=+i,0}function LT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0;if(r=bD,o=AP[fD[(fD[i>>2]|0)+40>>2]&31](i,t)|0,a=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,o)|0,fD[e>>2]=a,(a|0)!=0&&aP[fD[(fD[i>>2]|0)+48>>2]&127](i,o),fD[e+4>>2]=fD[t+4>>2],gD[e+28>>2]=+gD[t+28>>2],gD[e+32>>2]=+gD[t+32>>2],gD[e+36>>2]=+gD[t+36>>2],gD[e+40>>2]=+gD[t+40>>2],gD[e+12>>2]=+gD[t+12>>2],gD[e+16>>2]=+gD[t+16>>2],gD[e+20>>2]=+gD[t+20>>2],gD[e+24>>2]=+gD[t+24>>2],gD[e+44>>2]=+gD[t+44>>2],o=fD[t+96>>2]|0,fD[e+60>>2]=o,(o|0)==0)return fD[e+52>>2]=0,fD[e+56>>2]=0,bD=r,10504;if(fD[e+52>>2]=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,fD[t+104>>2]|0)|0,fD[e+56>>2]=0,e=gP[fD[(fD[i>>2]|0)+16>>2]&31](i,16,o)|0,(o|0)>0)for(n=fD[t+104>>2]|0,t=0,a=fD[e+8>>2]|0;;){if(gD[a>>2]=+gD[n+(t<<4)>>2],gD[a+4>>2]=+gD[n+(t<<4)+4>>2],gD[a+8>>2]=+gD[n+(t<<4)+8>>2],gD[a+12>>2]=+gD[n+(t<<4)+12>>2],t=t+1|0,(t|0)==(o|0))break;a=a+16|0}else n=fD[t+104>>2]|0;return iP[fD[(fD[i>>2]|0)+20>>2]&31](i,e,19760,1497453121,n),bD=r,10504}function kT(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0;var s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0;if(s=bD,bD=bD+16|0,gD[r>>2]=3.4028234663852886e38,gD[o>>2]=-3.4028234663852886e38,c=fD[t+96>>2]|0,(c|0)>0){h=0;do _=fD[t+104>>2]|0,f=+gD[_+(h<<4)>>2]*+gD[t+12>>2],p=+gD[_+(h<<4)+4>>2]*+gD[t+16>>2],l=+gD[_+(h<<4)+8>>2]*+gD[t+20>>2],u=f*+gD[e>>2]+p*+gD[e+4>>2]+l*+gD[e+8>>2]+ +gD[e+48>>2],d=f*+gD[e+16>>2]+p*+gD[e+20>>2]+l*+gD[e+24>>2]+ +gD[e+52>>2],l=f*+gD[e+32>>2]+p*+gD[e+36>>2]+l*+gD[e+40>>2]+ +gD[e+56>>2],p=u*+gD[i>>2]+d*+gD[i+4>>2]+l*+gD[i+8>>2],p<+gD[r>>2]&&(gD[r>>2]=p,gD[n>>2]=u,gD[n+4>>2]=d,gD[n+8>>2]=l,gD[n+12>>2]=0),p>+gD[o>>2]&&(gD[o>>2]=p,gD[a>>2]=u,gD[a+4>>2]=d,gD[a+8>>2]=l,gD[a+12>>2]=0),h=h+1|0;while((h|0)!=(c|0));d=+gD[o>>2]}else d=-3.4028234663852886e38;return l=+gD[r>>2],l>d?(gD[r>>2]=d,gD[o>>2]=l,fD[s+0>>2]=fD[n+0>>2],fD[s+4>>2]=fD[n+4>>2],fD[s+8>>2]=fD[n+8>>2],fD[s+12>>2]=fD[n+12>>2],fD[n+0>>2]=fD[a+0>>2],fD[n+4>>2]=fD[a+4>>2],fD[n+8>>2]=fD[a+8>>2],fD[n+12>>2]=fD[a+12>>2],fD[a+0>>2]=fD[s+0>>2],fD[a+4>>2]=fD[s+4>>2],fD[a+8>>2]=fD[s+8>>2],fD[a+12>>2]=fD[s+12>>2],void(bD=s)):void(bD=s)}function HT(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=10376,i=fD[t+104>>2]|0,(i|0)!=0&&((uD[t+108>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+104>>2]=0),uD[t+108>>0]=1,fD[t+104>>2]=0,fD[t+96>>2]=0,fD[t+100>>2]=0,fD[t>>2]=15736,i=fD[t+52>>2]|0,(i|0)==0?void(bD=e):(oP[fD[fD[i>>2]>>2]&511](i),t=fD[t+52>>2]|0,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e)))}function IT(t){t|=0;var e=0,i=0,r=0;return e=bD,fD[t>>2]=10376,r=fD[t+104>>2]|0,(r|0)!=0&&((uD[t+108>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[t+104>>2]=0),uD[t+108>>0]=1,fD[t+104>>2]=0,fD[t+96>>2]=0,fD[t+100>>2]=0,fD[t>>2]=15736,r=fD[t+52>>2]|0,((r|0)!=0?(oP[fD[fD[r>>2]>>2]&511](r),i=fD[t+52>>2]|0,(i|0)!=0):0)&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function OT(t){return t|=0,10568}function JT(t){return t|=0,68}function NT(t,e){t|=0,e|=0;var i=0,r=0,o=0;o=+ED(+ +gD[e>>2]),r=+ED(+ +gD[e+4>>2]),i=+ED(+ +gD[e+8>>2]),gD[t+12>>2]=o,gD[t+16>>2]=r,gD[t+20>>2]=i,gD[t+24>>2]=0}function FT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0;o=bD,bD=bD+96|0,n=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),a=0;do p=o+80+(a<<2)|0,fD[o+80>>2]=0,fD[o+84>>2]=0,fD[o+88>>2]=0,fD[o+92>>2]=0,gD[p>>2]=1,s=fD[(fD[t>>2]|0)+64>>2]|0,l=+gD[o+80>>2],c=+gD[o+84>>2],h=+gD[o+88>>2],d=l*+gD[e+4>>2]+c*+gD[e+20>>2]+h*+gD[e+36>>2],u=l*+gD[e+8>>2]+c*+gD[e+24>>2]+h*+gD[e+40>>2],gD[o+48>>2]=+gD[e>>2]*l+ +gD[e+16>>2]*c+ +gD[e+32>>2]*h,gD[o+52>>2]=d,gD[o+56>>2]=u,gD[o+60>>2]=0,OP[s&127](o+64|0,t,o+48|0),u=+gD[o+64>>2],d=+gD[o+68>>2],h=+gD[o+72>>2],c=u*+gD[e+16>>2]+d*+gD[e+20>>2]+h*+gD[e+24>>2]+ +gD[e+52>>2],l=u*+gD[e+32>>2]+d*+gD[e+36>>2]+h*+gD[e+40>>2]+ +gD[e+56>>2],gD[o+32>>2]=u*+gD[e>>2]+d*+gD[e+4>>2]+h*+gD[e+8>>2]+ +gD[e+48>>2],gD[o+36>>2]=c,gD[o+40>>2]=l,gD[o+44>>2]=0,s=o+32+(a<<2)|0,gD[r+(a<<2)>>2]=n+ +gD[s>>2],gD[p>>2]=-1,p=fD[(fD[t>>2]|0)+64>>2]|0,l=+gD[o+80>>2],c=+gD[o+84>>2],h=+gD[o+88>>2],d=l*+gD[e+4>>2]+c*+gD[e+20>>2]+h*+gD[e+36>>2],u=l*+gD[e+8>>2]+c*+gD[e+24>>2]+h*+gD[e+40>>2],gD[o>>2]=+gD[e>>2]*l+ +gD[e+16>>2]*c+ +gD[e+32>>2]*h,gD[o+4>>2]=d,gD[o+8>>2]=u,gD[o+12>>2]=0,OP[p&127](o+16|0,t,o),u=+gD[o+16>>2],d=+gD[o+20>>2],h=+gD[o+24>>2],c=u*+gD[e+16>>2]+d*+gD[e+20>>2]+h*+gD[e+24>>2]+ +gD[e+52>>2],l=u*+gD[e+32>>2]+d*+gD[e+36>>2]+h*+gD[e+40>>2]+ +gD[e+56>>2],gD[o+32>>2]=u*+gD[e>>2]+d*+gD[e+4>>2]+h*+gD[e+8>>2]+ +gD[e+48>>2],gD[o+36>>2]=c,gD[o+40>>2]=l,gD[o+44>>2]=0,gD[i+(a<<2)>>2]=+gD[s>>2]-n,a=a+1|0;while((a|0)!=3);bD=o}function GT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return r=bD,OP[fD[(fD[e>>2]|0)+68>>2]&127](t,e,i),+vP[fD[(fD[e>>2]|0)+48>>2]&15](e)==0?void(bD=r):(l=+gD[i>>2],a=+gD[i+4>>2],n=+gD[i+8>>2],o=l*l+a*a+n*n<1.4210854715202004e-14?-1:n,s=l*l+a*a+n*n<1.4210854715202004e-14?-1:a,l=l*l+a*a+n*n<1.4210854715202004e-14?-1:l,n=1/+CD(+(o*o+(l*l+s*s))),a=+vP[fD[(fD[e>>2]|0)+48>>2]&15](e),gD[t>>2]=n*l*a+ +gD[t>>2],gD[t+4>>2]=a*n*s+ +gD[t+4>>2],gD[t+8>>2]=a*n*o+ +gD[t+8>>2],void(bD=r))}function zT(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0;return n=bD,bD=bD+64|0,h=+gD[i>>2],d=+gD[i+4>>2],c=+gD[i+8>>2],u=h*+gD[e+4>>2]+d*+gD[e+20>>2]+c*+gD[e+36>>2],p=h*+gD[e+8>>2]+d*+gD[e+24>>2]+c*+gD[e+40>>2],gD[n+48>>2]=+gD[e>>2]*h+ +gD[e+16>>2]*d+ +gD[e+32>>2]*c,gD[n+52>>2]=u,gD[n+56>>2]=p,gD[n+60>>2]=0,OP[fD[(fD[t>>2]|0)+64>>2]&127](n+32|0,t,n+48|0),p=+gD[n+32>>2],u=+gD[n+36>>2],c=+gD[n+40>>2],d=p*+gD[e>>2]+u*+gD[e+4>>2]+c*+gD[e+8>>2]+ +gD[e+48>>2],h=p*+gD[e+16>>2]+u*+gD[e+20>>2]+c*+gD[e+24>>2]+ +gD[e+52>>2],c=p*+gD[e+32>>2]+u*+gD[e+36>>2]+c*+gD[e+40>>2]+ +gD[e+56>>2],f=fD[(fD[t>>2]|0)+64>>2]|0,u=-+gD[n+52>>2],p=-+gD[n+56>>2],gD[n>>2]=-+gD[n+48>>2],gD[n+4>>2]=u,gD[n+8>>2]=p,gD[n+12>>2]=0,OP[f&127](n+16|0,t,n),p=+gD[n+16>>2],u=+gD[n+20>>2],a=+gD[n+24>>2],l=p*+gD[e>>2]+u*+gD[e+4>>2]+a*+gD[e+8>>2]+ +gD[e+48>>2],s=p*+gD[e+16>>2]+u*+gD[e+20>>2]+a*+gD[e+24>>2]+ +gD[e+52>>2],a=p*+gD[e+32>>2]+u*+gD[e+36>>2]+a*+gD[e+40>>2]+ +gD[e+56>>2],gD[r>>2]=d*+gD[i>>2]+h*+gD[i+4>>2]+c*+gD[i+8>>2],a=l*+gD[i>>2]+s*+gD[i+4>>2]+a*+gD[i+8>>2],gD[o>>2]=a,s=+gD[r>>2],s>a?(gD[r>>2]=a,gD[o>>2]=s,void(bD=n)):void(bD=n)}function jT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0;switch(r=bD,bD=bD+80|0,fD[e+4>>2]|0){case 8:return fD[t+0>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,void(bD=r);case 0:return _=+gD[e+28>>2],m=+gD[e+32>>2],m=+gD[i+4>>2]>=0?m:-m,y=+gD[e+36>>2],y=+gD[i+8>>2]>=0?y:-y,gD[t>>2]=+gD[i>>2]>=0?_:-_,gD[t+4>>2]=m,gD[t+8>>2]=y,gD[t+12>>2]=0,void(bD=r);case 10:return n=+gD[i>>2],a=+gD[i+4>>2],s=+gD[i+8>>2],i=fD[e+52>>2]|0,o=+gD[e+(i<<2)+28>>2],h=+gD[e+(((i+2|0)%3|0)<<2)+28>>2],n*n+a*a+s*s<9999999747378752e-20?(n=1,a=0,s=0):(y=1/+CD(+(n*n+a*a+s*s)),n*=y,a*=y,s*=y),fD[r+16>>2]=0,fD[r+20>>2]=0,fD[r+24>>2]=0,fD[r+28>>2]=0,gD[r+16+(i<<2)>>2]=o,l=h*n,c=h*a,h*=s,d=+gD[e+44>>2],p=n*d,u=a*d,d=s*d,y=+gD[r+16>>2]+l-p,m=c+ +gD[r+20>>2]-u,_=h+ +gD[r+24>>2]-d,f=s*_+(n*y+a*m),f>-0xde0b6b000000000||(_=0,m=0,y=0,f=-0xde0b6b000000000),fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,fD[r+12>>2]=0,gD[r+(i<<2)>>2]=-o,l=l+ +gD[r>>2]-p,u=c+ +gD[r+4>>2]-u,p=h+ +gD[r+8>>2]-d,v=s*p+(n*l+a*u)>f,gD[t>>2]=v?l:y,gD[t+4>>2]=v?u:m,gD[t+8>>2]=v?p:_,gD[t+12>>2]=0,void(bD=r);case 4:if(g=fD[e+104>>2]|0,b=fD[e+96>>2]|0,o=+gD[e+12>>2],n=+gD[e+16>>2],a=+gD[e+20>>2],s=+gD[i>>2]*o,l=+gD[i+4>>2]*n,h=+gD[i+8>>2]*a,(b|0)>0)for(i=0,c=-3.4028234663852886e38,v=-1;;){if(d=s*+gD[g+(i<<4)>>2]+l*+gD[g+(i<<4)+4>>2]+h*+gD[g+(i<<4)+8>>2],e=d>c,v=e?i:v,i=i+1|0,(i|0)==(b|0))break;c=e?d:c}else v=-1;return m=n*+gD[g+(v<<4)+4>>2],y=a*+gD[g+(v<<4)+8>>2],gD[t>>2]=o*+gD[g+(v<<4)>>2],gD[t+4>>2]=m,gD[t+8>>2]=y,gD[t+12>>2]=0,void(bD=r);case 5:if(g=fD[e+92>>2]|0,b=fD[e+96>>2]|0,o=+gD[e+12>>2],n=+gD[e+16>>2],a=+gD[e+20>>2],s=+gD[i>>2]*o,l=+gD[i+4>>2]*n,h=+gD[i+8>>2]*a,(b|0)>0)for(i=0,d=-3.4028234663852886e38,v=-1;;){if(c=s*+gD[g+(i<<4)>>2]+l*+gD[g+(i<<4)+4>>2]+h*+gD[g+(i<<4)+8>>2],e=c>d,v=e?i:v,i=i+1|0,(i|0)==(b|0))break;d=e?c:d}else v=-1;return m=n*+gD[g+(v<<4)+4>>2],y=a*+gD[g+(v<<4)+8>>2],gD[t>>2]=o*+gD[g+(v<<4)>>2],gD[t+4>>2]=m,gD[t+8>>2]=y,gD[t+12>>2]=0,void(bD=r);case 13:return fD[r+64>>2]=fD[e+28>>2],fD[r+68>>2]=fD[e+32>>2],fD[r+72>>2]=fD[e+36>>2],fD[r+76>>2]=fD[e+40>>2],gD[r+48>>2]=+gD[i>>2],n=+gD[i+4>>2],gD[r+52>>2]=n,o=+gD[i+8>>2],gD[r+56>>2]=o,gD[r+60>>2]=0,b=fD[e+52>>2]|0,(b|0)==1?(g=0,e=b,i=2):(b|0)==2?(o=n,g=0,e=b,i=1):(g=1,e=0,i=2),n=+gD[r+64+(g<<2)>>2],l=+gD[r+64+(b<<2)>>2],s=+gD[r+48+(g<<2)>>2],a=+CD(+(s*s+o*o)),a!=0?(gD[r+32+(g<<2)>>2]=s*(n/a),+gD[r+48+(e<<2)>>2]<0&&(l=-l),gD[r+32+(e<<2)>>2]=l,gD[r+32+(i<<2)>>2]=n/a*o,gD[t>>2]=+gD[r+32>>2],gD[t+4>>2]=+gD[r+36>>2],gD[t+8>>2]=+gD[r+40>>2],gD[t+12>>2]=0,void(bD=r)):(gD[r+32+(g<<2)>>2]=n,+gD[r+48+(e<<2)>>2]<0&&(l=-l),gD[r+32+(e<<2)>>2]=l,gD[r+32+(i<<2)>>2]=0,gD[t>>2]=+gD[r+32>>2],gD[t+4>>2]=+gD[r+36>>2],gD[t+8>>2]=+gD[r+40>>2],gD[t+12>>2]=0,void(bD=r));case 1:return m=+gD[i>>2],y=+gD[i+4>>2],o=+gD[i+8>>2],a=m*+gD[e+56>>2]+y*+gD[e+60>>2]+o*+gD[e+64>>2],n=m*+gD[e+72>>2]+y*+gD[e+76>>2]+o*+gD[e+80>>2],o=m*+gD[e+88>>2]+y*+gD[e+92>>2]+o*+gD[e+96>>2],i=a<n?n<o?2:1:a<o?2:0,m=+gD[e+56+(i<<4)+4>>2],y=+gD[e+56+(i<<4)+8>>2],gD[t>>2]=+gD[e+56+(i<<4)>>2],gD[t+4>>2]=m,gD[t+8>>2]=y,gD[t+12>>2]=0,void(bD=r);default:return OP[fD[(fD[e>>2]|0)+68>>2]&127](t,e,i),void(bD=r)}}function UT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;switch(r=bD,bD=bD+32|0,fD[r+16>>2]=fD[i+0>>2],fD[r+20>>2]=fD[i+4>>2],fD[r+24>>2]=fD[i+8>>2],fD[r+28>>2]=fD[i+12>>2],n=+gD[r+16>>2],a=+gD[r+20>>2],o=+gD[r+24>>2],n*n+a*a+o*o<1.4210854715202004e-14&&(gD[r+16>>2]=-1,gD[r+20>>2]=-1,gD[r+24>>2]=-1,gD[r+28>>2]=0,n=-1,a=-1,o=-1),s=1/+CD(+(n*n+a*a+o*o)),gD[r+16>>2]=n*s,gD[r+20>>2]=a*s,gD[r+24>>2]=o*s,jT(r,e,r+16|0),fD[e+4>>2]|0){case 0:o=+gD[e+44>>2];break;case 1:o=+gD[e+44>>2];break;case 8:o=+gD[e+28>>2]*+gD[e+12>>2];break;case 10:o=+gD[e+44>>2];break;case 11:o=+gD[e+44>>2];break;case 13:o=+gD[e+44>>2];break;case 4:case 5:o=+gD[e+44>>2];break;default:o=+vP[fD[(fD[e>>2]|0)+48>>2]&15](e)}a=o*+gD[r+20>>2]+ +gD[r+4>>2],s=o*+gD[r+24>>2]+ +gD[r+8>>2],gD[t>>2]=o*+gD[r+16>>2]+ +gD[r>>2],gD[t+4>>2]=a,gD[t+8>>2]=s,gD[t+12>>2]=0,bD=r}function WT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;r=bD,bD=bD+80|0,fD[t+0>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,o=+gD[i>>2],a=+gD[i+4>>2],n=+gD[i+8>>2],o*o+a*a+n*n<9999999747378752e-20?(o=1,a=0,n=0,s=0):(s=1/+CD(+(o*o+a*a+n*n)),o*=s,a*=s,n*=s,s=+gD[i+12>>2]),fD[r+32>>2]=10856,fD[r+36>>2]=0,fD[r+40>>2]=0,fD[r+44>>2]=0,fD[r+48>>2]=0,gD[r+52>>2]=-0xde0b6b000000000,gD[r+56>>2]=o,gD[r+60>>2]=a,gD[r+64>>2]=n,gD[r+68>>2]=s,gD[r+16>>2]=0xde0b6b000000000,gD[r+20>>2]=0xde0b6b000000000,gD[r+24>>2]=0xde0b6b000000000,gD[r+28>>2]=0,i=fD[e+92>>2]|0,e=fD[(fD[i>>2]|0)+8>>2]|0,gD[r>>2]=-0xde0b6b000000000,gD[r+4>>2]=-0xde0b6b000000000,gD[r+8>>2]=-0xde0b6b000000000,gD[r+12>>2]=0,GP[e&127](i,r+32|0,r,r+16|0),fD[t+0>>2]=fD[r+36>>2],fD[t+4>>2]=fD[r+40>>2],fD[t+8>>2]=fD[r+44>>2],fD[t+12>>2]=fD[r+48>>2],bD=r}function XT(t){t|=0}function qT(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0;if(o=bD,bD=bD+80|0,!((r|0)>0))return void(bD=o);n=0;do gD[i+(n<<4)+12>>2]=-0xde0b6b000000000,n=n+1|0;while((n|0)!=(r|0));n=0;do a=e+(n<<4)|0,fD[o+32>>2]=10856,fD[o+36>>2]=0,fD[o+40>>2]=0,fD[o+44>>2]=0,fD[o+48>>2]=0,gD[o+52>>2]=-0xde0b6b000000000,fD[o+56>>2]=fD[a+0>>2],fD[o+60>>2]=fD[a+4>>2],fD[o+64>>2]=fD[a+8>>2],fD[o+68>>2]=fD[a+12>>2],gD[o+16>>2]=0xde0b6b000000000,gD[o+20>>2]=0xde0b6b000000000,gD[o+24>>2]=0xde0b6b000000000,gD[o+28>>2]=0,a=fD[t+92>>2]|0,s=fD[(fD[a>>2]|0)+8>>2]|0,gD[o>>2]=-0xde0b6b000000000,gD[o+4>>2]=-0xde0b6b000000000,gD[o+8>>2]=-0xde0b6b000000000,gD[o+12>>2]=0,GP[s&127](a,o+32|0,o,o+16|0),a=i+(n<<4)|0,fD[a+0>>2]=fD[o+36>>2],fD[a+4>>2]=fD[o+40>>2],fD[a+8>>2]=fD[o+44>>2],fD[a+12>>2]=fD[o+48>>2],n=n+1|0;
while((n|0)<(r|0));bD=o}function KT(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return r=bD,OP[fD[(fD[e>>2]|0)+68>>2]&127](t,e,i),+vP[fD[(fD[e>>2]|0)+48>>2]&15](e)==0?void(bD=r):(l=+gD[i>>2],a=+gD[i+4>>2],n=+gD[i+8>>2],o=l*l+a*a+n*n<1.4210854715202004e-14?-1:n,s=l*l+a*a+n*n<1.4210854715202004e-14?-1:a,l=l*l+a*a+n*n<1.4210854715202004e-14?-1:l,n=1/+CD(+(o*o+(l*l+s*s))),a=+vP[fD[(fD[e>>2]|0)+48>>2]&15](e),gD[t>>2]=n*l*a+ +gD[t>>2],gD[t+4>>2]=a*n*s+ +gD[t+4>>2],gD[t+8>>2]=a*n*o+ +gD[t+8>>2],void(bD=r))}function YT(t){return t|=0,0}function QT(t){return t|=0,0}function ZT(t,e,i,r){t|=0,e|=0,i|=0,r|=0}function $T(t,e,i){t|=0,e|=0,i|=0}function tE(t){return t|=0,0}function eE(t,e,i,r){t|=0,e|=0,i|=0,r|=0}function iE(t,e,i){return t|=0,e|=0,i=+i,0}function rE(t,e){t|=0,e|=0;var i=0,r=0;i=bD,r=(fD[t+92>>2]|0)+4|0,fD[r+0>>2]=fD[e+0>>2],fD[r+4>>2]=fD[e+4>>2],fD[r+8>>2]=fD[e+8>>2],fD[r+12>>2]=fD[e+12>>2],qb(t),bD=i}function oE(t){return t|=0,(fD[t+92>>2]|0)+4|0}function nE(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=15736,i=fD[t+52>>2]|0,(i|0)==0?void(bD=e):(oP[fD[fD[i>>2]>>2]&511](i),t=fD[t+52>>2]|0,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e)))}function aE(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=15736,i=fD[t+52>>2]|0,(i|0)!=0&&(oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+52>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),(t|0)==0)?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function sE(t){return t|=0,10832}function lE(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function cE(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0;return r=bD,o=+gD[t+24>>2],a=+gD[t+28>>2],n=+gD[t+32>>2],s=o*+gD[e>>2]+a*+gD[e+4>>2]+n*+gD[e+8>>2],l=+gD[t+20>>2],s>l?(gD[t+20>>2]=s,fD[t+4>>2]=fD[e+0>>2],fD[t+8>>2]=fD[e+4>>2],fD[t+12>>2]=fD[e+8>>2],fD[t+16>>2]=fD[e+12>>2]):s=l,l=o*+gD[e+16>>2]+a*+gD[e+20>>2]+n*+gD[e+24>>2],l>s&&(gD[t+20>>2]=l,fD[t+4>>2]=fD[e+16>>2],fD[t+8>>2]=fD[e+20>>2],fD[t+12>>2]=fD[e+24>>2],fD[t+16>>2]=fD[e+28>>2],s=l),o=o*+gD[e+32>>2]+a*+gD[e+36>>2]+n*+gD[e+40>>2],o>s?(gD[t+20>>2]=o,fD[t+4>>2]=fD[e+32>>2],fD[t+8>>2]=fD[e+36>>2],fD[t+12>>2]=fD[e+40>>2],fD[t+16>>2]=fD[e+44>>2],void(bD=r)):void(bD=r)}function hE(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0;i=bD,fD[t+4>>2]=35,fD[t+8>>2]=0,gD[t+12>>2]=1,gD[t+16>>2]=1,gD[t+20>>2]=1,gD[t+24>>2]=0,gD[t+44>>2]=.03999999910593033,fD[t>>2]=10928,fD[t+52>>2]=1,o=+gD[e>>2],n=+gD[e+4>>2],r=+gD[e+8>>2],a=o<n?o<r?0:2:n<r?1:2,r=+gD[e+(a<<2)>>2]*.10000000149011612,r<.03999999910593033?(l=+Op(t),s=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),n=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),l+=+gD[t+28>>2],s+=+gD[t+32>>2],n+=+gD[t+36>>2],gD[t+44>>2]=r,r=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),o=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),n-=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),gD[t+28>>2]=l-r,gD[t+32>>2]=s-o,gD[t+36>>2]=n,gD[t+40>>2]=0,a=fD[t>>2]|0):a=10928,n=+vP[fD[a+48>>2]&15](t),s=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),l=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),s=+gD[e+4>>2]*+gD[t+16>>2]-s,l=+gD[e+8>>2]*+gD[t+20>>2]-l,gD[t+28>>2]=+gD[e>>2]*+gD[t+12>>2]-n,gD[t+32>>2]=s,gD[t+36>>2]=l,gD[t+40>>2]=0,fD[t+4>>2]=13,bD=i}function dE(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0;o=bD,s=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),d=s+ +gD[t+28>>2],c=s+ +gD[t+32>>2],s+=+gD[t+36>>2],b=+ED(+ +gD[e>>2]),y=+ED(+ +gD[e+4>>2]),g=+ED(+ +gD[e+8>>2]),_=+ED(+ +gD[e+16>>2]),f=+ED(+ +gD[e+20>>2]),p=+ED(+ +gD[e+24>>2]),h=+ED(+ +gD[e+32>>2]),l=+ED(+ +gD[e+36>>2]),a=+ED(+ +gD[e+40>>2]),m=+gD[e+48>>2],u=+gD[e+52>>2],n=+gD[e+56>>2],gD[i>>2]=m-(d*b+c*y+s*g),gD[i+4>>2]=u-(d*_+c*f+s*p),gD[i+8>>2]=n-(d*h+c*l+s*a),gD[i+12>>2]=0,gD[r>>2]=d*b+c*y+s*g+m,gD[r+4>>2]=d*_+c*f+s*p+u,gD[r+8>>2]=d*h+c*l+s*a+n,gD[r+12>>2]=0,bD=o}function uE(t,e,i){t|=0,e=+e,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return r=bD,bD=bD+16|0,fD[r+0>>2]=fD[t+28>>2],fD[r+4>>2]=fD[t+32>>2],fD[r+8>>2]=fD[t+36>>2],fD[r+12>>2]=fD[t+40>>2],l=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),n=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),s=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),gD[r>>2]=l+ +gD[r>>2],gD[r+4>>2]=n+ +gD[r+4>>2],gD[r+8>>2]=s+ +gD[r+8>>2],t=fD[t+52>>2]|0,(t|0)==2?(o=2,a=0):(t|0)==0?(o=0,a=1):(o=1,a=0),n=+gD[r+(a<<2)>>2],s=+gD[r+(o<<2)>>2],s=e*.25*n*n+e/12*s*s*4,(t|0)==2?(gD[i>>2]=s,gD[i+4>>2]=s,gD[i+8>>2]=e*.5*n*n,gD[i+12>>2]=0,void(bD=r)):(t|0)==0?(gD[i>>2]=e*.5*n*n,gD[i+4>>2]=s,gD[i+8>>2]=s,gD[i+12>>2]=0,void(bD=r)):(gD[i>>2]=s,gD[i+4>>2]=e*.5*n*n,gD[i+8>>2]=s,gD[i+12>>2]=0,void(bD=r))}function pE(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return r=bD,o=+gD[e+32>>2],l=+gD[e+28>>2],s=+gD[i+4>>2],a=+gD[i+8>>2],n=+CD(+(s*s+a*a)),n!=0?(gD[t+4>>2]=s*(o/n),+gD[i>>2]<0&&(l=-l),gD[t>>2]=l,gD[t+8>>2]=a*(o/n),void(bD=r)):(gD[t+4>>2]=o,+gD[i>>2]<0&&(l=-l),gD[t>>2]=l,gD[t+8>>2]=0,void(bD=r))}function fE(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return r=bD,o=+gD[e+28>>2],l=+gD[e+36>>2],s=+gD[i>>2],a=+gD[i+4>>2],n=+CD(+(s*s+a*a)),n!=0?(gD[t>>2]=s*(o/n),+gD[i+8>>2]<0&&(l=-l),gD[t+8>>2]=l,gD[t+4>>2]=a*(o/n),void(bD=r)):(gD[t>>2]=o,+gD[i+8>>2]<0&&(l=-l),gD[t+8>>2]=l,gD[t+4>>2]=0,void(bD=r))}function _E(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return r=bD,o=+gD[e+28>>2],l=+gD[e+32>>2],s=+gD[i>>2],a=+gD[i+8>>2],n=+CD(+(s*s+a*a)),n!=0?(gD[t>>2]=s*(o/n),+gD[i+4>>2]<0&&(l=-l),gD[t+4>>2]=l,gD[t+8>>2]=a*(o/n),void(bD=r)):(gD[t>>2]=o,+gD[i+4>>2]<0&&(l=-l),gD[t+4>>2]=l,gD[t+8>>2]=0,void(bD=r))}function mE(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(n=bD,(r|0)<=0)return void(bD=n);o=0;do s=+gD[t+28>>2],h=+gD[t+32>>2],a=+gD[e+(o<<4)>>2],l=+gD[e+(o<<4)+8>>2],c=+CD(+(a*a+l*l)),c==0?+gD[e+(o<<4)+4>>2]<0?(a=s,h=-h,s=0):(a=s,s=0):(+gD[e+(o<<4)+4>>2]<0&&(h=-h),a*=s/c,s=l*(s/c)),gD[i+(o<<4)>>2]=a,gD[i+(o<<4)+4>>2]=h,gD[i+(o<<4)+8>>2]=s,o=o+1|0;while((o|0)!=(r|0));bD=n}function gE(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(n=bD,(r|0)<=0)return void(bD=n);o=0;do h=+gD[t+28>>2],s=+gD[t+36>>2],a=+gD[e+(o<<4)>>2],c=+gD[e+(o<<4)+4>>2],l=+CD(+(a*a+c*c)),l==0?+gD[e+(o<<4)+8>>2]<0?(a=h,l=0,s=-s):(a=h,l=0):(+gD[e+(o<<4)+8>>2]<0&&(s=-s),a*=h/l,l=c*(h/l)),gD[i+(o<<4)>>2]=a,gD[i+(o<<4)+4>>2]=l,gD[i+(o<<4)+8>>2]=s,o=o+1|0;while((o|0)!=(r|0));bD=n}function yE(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;if(n=bD,(r|0)<=0)return void(bD=n);o=0;do a=+gD[t+32>>2],h=+gD[t+28>>2],d=e+(o<<4)|0,c=+gD[e+(o<<4)+4>>2],s=+gD[e+(o<<4)+8>>2],l=+CD(+(c*c+s*s)),l==0?+gD[d>>2]<0?(h=-h,c=a,a=0):(c=a,a=0):(+gD[d>>2]<0&&(h=-h),c*=a/l,a=s*(a/l)),gD[i+(o<<4)>>2]=h,gD[i+(o<<4)+4>>2]=c,gD[i+(o<<4)+8>>2]=a,o=o+1|0;while((o|0)!=(r|0));bD=n}function bE(t){t|=0}function vE(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function ME(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;i=bD,c=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),a=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),r=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),d=(c+ +gD[t+28>>2])/+gD[t+12>>2],l=(a+ +gD[t+32>>2])/+gD[t+16>>2],n=(r+ +gD[t+36>>2])/+gD[t+20>>2],h=+ED(+ +gD[e>>2]),s=+ED(+ +gD[e+4>>2]),o=+ED(+ +gD[e+8>>2]),gD[t+12>>2]=h,gD[t+16>>2]=s,gD[t+20>>2]=o,gD[t+24>>2]=0,gD[t+28>>2]=d*h-c,gD[t+32>>2]=l*s-a,gD[t+36>>2]=n*o-r,gD[t+40>>2]=0,bD=i}function SE(t){return t|=0,11408}function xE(t,e){t|=0,e|=0;var i=0;i=bD,fD[t+0>>2]=0,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,gD[t+(fD[e+52>>2]<<2)>>2]=1,bD=i}function TE(t,e){t|=0,e=+e;var i=0,r=0,o=0,n=0,a=0,s=0;i=bD,a=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),o=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),s=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),a+=+gD[t+28>>2],o+=+gD[t+32>>2],s+=+gD[t+36>>2],gD[t+44>>2]=e,n=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),r=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),e=s-+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),gD[t+28>>2]=a-n,gD[t+32>>2]=o-r,gD[t+36>>2]=e,gD[t+40>>2]=0,bD=i}function EE(t){return t|=0,60}function CE(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;return r=bD,o=AP[fD[(fD[i>>2]|0)+40>>2]&31](i,t)|0,n=AP[fD[(fD[i>>2]|0)+28>>2]&31](i,o)|0,fD[e>>2]=n,(n|0)!=0&&aP[fD[(fD[i>>2]|0)+48>>2]&127](i,o),fD[e+4>>2]=fD[t+4>>2],gD[e+28>>2]=+gD[t+28>>2],gD[e+32>>2]=+gD[t+32>>2],gD[e+36>>2]=+gD[t+36>>2],gD[e+40>>2]=+gD[t+40>>2],gD[e+12>>2]=+gD[t+12>>2],gD[e+16>>2]=+gD[t+16>>2],gD[e+20>>2]=+gD[t+20>>2],gD[e+24>>2]=+gD[t+24>>2],gD[e+44>>2]=+gD[t+44>>2],fD[e+52>>2]=fD[t+52>>2],bD=r,11384}function AE(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0;return r=bD,OP[fD[(fD[e>>2]|0)+68>>2]&127](t,e,i),+vP[fD[(fD[e>>2]|0)+48>>2]&15](e)==0?void(bD=r):(l=+gD[i>>2],a=+gD[i+4>>2],n=+gD[i+8>>2],o=l*l+a*a+n*n<1.4210854715202004e-14?-1:n,s=l*l+a*a+n*n<1.4210854715202004e-14?-1:a,l=l*l+a*a+n*n<1.4210854715202004e-14?-1:l,n=1/+CD(+(o*o+(l*l+s*s))),a=+vP[fD[(fD[e>>2]|0)+48>>2]&15](e),gD[t>>2]=n*l*a+ +gD[t>>2],gD[t+4>>2]=a*n*s+ +gD[t+4>>2],gD[t+8>>2]=a*n*o+ +gD[t+8>>2],void(bD=r))}function wE(t){t|=0;var e=0,i=0,r=0;return r=bD,i=+gD[t+28>>2],e=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),bD=r,+(i+e)}function RE(t){t|=0}function DE(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function PE(t){return t|=0,11368}function BE(t){t|=0;var e=0,i=0,r=0;return r=bD,i=+gD[t+32>>2],+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),e=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),bD=r,+(i+e)}function VE(t){t|=0}function LE(t){t|=0;var e=0;return e=bD,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function kE(t){return t|=0,11352}function HE(t){t|=0;var e=0,i=0,r=0;return r=bD,i=+gD[t+28>>2],e=+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),+vP[fD[(fD[t>>2]|0)+48>>2]&15](t),bD=r,+(i+e)}function IE(t){t|=0;var e=0,i=0;return e=bD,i=fD[t>>2]|0,(i|0)!=0&&OE(t,i),i=fD[t+4>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+4>>2]=0,fD[t+8>>2]=-1,i=fD[t+32>>2]|0,(i|0)!=0&&((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+32>>2]=0),uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,fD[t+28>>2]=0,fD[t+16>>2]=0,i=fD[t+52>>2]|0,(i|0)==0?(uD[t+56>>0]=1,fD[t+52>>2]=0,fD[t+44>>2]=0,fD[t+48>>2]=0,uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,fD[t+28>>2]=0,void(bD=e)):(uD[t+56>>0]|0)==0?(uD[t+56>>0]=1,fD[t+52>>2]=0,fD[t+44>>2]=0,fD[t+48>>2]=0,uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,fD[t+28>>2]=0,void(bD=e)):(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0),i=fD[t+32>>2]|0,uD[t+56>>0]=1,fD[t+52>>2]=0,fD[t+44>>2]=0,fD[t+48>>2]=0,(i|0)==0?(uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,fD[t+28>>2]=0,void(bD=e)):((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+32>>2]=0,uD[t+36>>0]=1,fD[t+32>>2]=0,fD[t+24>>2]=0,fD[t+28>>2]=0,void(bD=e)))}function OE(t,e){t|=0,e|=0;var i=0,r=0;return i=bD,(fD[e+40>>2]|0)!=0&&(OE(t,fD[e+36>>2]|0),OE(t,fD[e+40>>2]|0)),(fD[t>>2]|0)==(e|0)&&(fD[t>>2]=0),r=fD[t+4>>2]|0,(r|0)==0?(fD[t+4>>2]=e,void(bD=i)):(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0),fD[t+4>>2]=e,void(bD=i))}function JE(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;if(i=bD,bD=bD+32|0,(e|0)<0&&(e=fD[t+12>>2]|0),s=fD[t>>2]|0,!((s|0)!=0&(e|0)>0))return void(bD=i);for(;;){o=s+40|0;t:do if((fD[o>>2]|0)!=0)for(r=0;;){if(n=(fD[t+16>>2]|0)>>>r&1,l=s+32|0,a=fD[l>>2]|0,a>>>0>s>>>0?(c=(fD[a+40>>2]|0)==(s|0)&1,h=fD[a+((c^1)<<2)+36>>2]|0,d=fD[a+32>>2]|0,(d|0)==0?fD[t>>2]=s:fD[d+(((fD[d+40>>2]|0)==(a|0)&1)<<2)+36>>2]=s,fD[h+32>>2]=s,fD[a+32>>2]=s,fD[l>>2]=d,d=s+36|0,fD[a+36>>2]=fD[d>>2],fD[a+40>>2]=fD[o>>2],fD[(fD[d>>2]|0)+32>>2]=a,fD[(fD[o>>2]|0)+32>>2]=a,fD[s+(c<<2)+36>>2]=a,fD[s+((c^1)<<2)+36>>2]=h,fD[i+0>>2]=fD[a+0>>2],fD[i+4>>2]=fD[a+4>>2],fD[i+8>>2]=fD[a+8>>2],fD[i+12>>2]=fD[a+12>>2],fD[i+16>>2]=fD[a+16>>2],fD[i+20>>2]=fD[a+20>>2],fD[i+24>>2]=fD[a+24>>2],fD[i+28>>2]=fD[a+28>>2],fD[a+0>>2]=fD[s+0>>2],fD[a+4>>2]=fD[s+4>>2],fD[a+8>>2]=fD[s+8>>2],fD[a+12>>2]=fD[s+12>>2],fD[a+16>>2]=fD[s+16>>2],fD[a+20>>2]=fD[s+20>>2],fD[a+24>>2]=fD[s+24>>2],fD[a+28>>2]=fD[s+28>>2],fD[s+0>>2]=fD[i+0>>2],fD[s+4>>2]=fD[i+4>>2],fD[s+8>>2]=fD[i+8>>2],fD[s+12>>2]=fD[i+12>>2],fD[s+16>>2]=fD[i+16>>2],fD[s+20>>2]=fD[i+20>>2],fD[s+24>>2]=fD[i+24>>2],fD[s+28>>2]=fD[i+28>>2]):a=s,s=fD[a+(n<<2)+36>>2]|0,(fD[s+40>>2]|0)==0)break t;o=s+40|0,r=r+1&31}while(0);if(r=(FE(t,s)|0)==0?0:fD[t>>2]|0,NE(t,r,s),fD[t+16>>2]=(fD[t+16>>2]|0)+1,e=e+-1|0,(e|0)==0)break;s=fD[t>>2]|0}bD=i}function NE(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0;if(r=bD,(fD[t>>2]|0)==0)return fD[t>>2]=i,fD[i+32>>2]=0,void(bD=r);if(o=fD[e+40>>2]|0,(o|0)!=0){l=+gD[i>>2]+ +gD[i+16>>2],a=+gD[i+4>>2]+ +gD[i+20>>2],n=+gD[i+8>>2]+ +gD[i+24>>2];do f=fD[e+36>>2]|0,u=+ED(+(l-(+gD[f>>2]+ +gD[f+16>>2])))+ +ED(+(a-(+gD[f+4>>2]+ +gD[f+20>>2])))+ +ED(+(n-(+gD[f+8>>2]+ +gD[f+24>>2]))),e=fD[e+((!(u<+ED(+(l-(+gD[o>>2]+ +gD[o+16>>2])))+ +ED(+(a-(+gD[o+4>>2]+ +gD[o+20>>2])))+ +ED(+(n-(+gD[o+8>>2]+ +gD[o+24>>2]))))&1)<<2)+36>>2]|0,o=fD[e+40>>2]|0;while((o|0)!=0)}if(s=e+32|0,o=fD[s>>2]|0,f=fD[t+4>>2]|0,(f|0)==0)if(fD[5004]=(fD[5004]|0)+1,f=Ew(63)|0,(f|0)!=0?(fD[(f+19&-16)+-4>>2]=f,(f+19&-16|0)!=0):0){d=(f+19&-16)+0|0,p=d+44|0;do fD[d>>2]=0,d=d+4|0;while((d|0)<(p|0));f=f+19&-16}else f=0;else fD[t+4>>2]=0;if(fD[f+32>>2]=o,d=f+36|0,fD[d>>2]=0,p=f+40|0,fD[p>>2]=0,_=+gD[i>>2],u=+gD[e>>2],u=_<u?_:u,gD[f>>2]=u,_=+gD[i+16>>2],l=+gD[e+16>>2],l=_>l?_:l,gD[f+16>>2]=l,_=+gD[i+4>>2],h=+gD[e+4>>2],h=_<h?_:h,gD[f+4>>2]=h,_=+gD[i+20>>2],a=+gD[e+20>>2],a=_>a?_:a,gD[f+20>>2]=a,_=+gD[i+8>>2],c=+gD[e+8>>2],c=_<c?_:c,gD[f+8>>2]=c,_=+gD[i+24>>2],n=+gD[e+24>>2],n=_>n?_:n,gD[f+24>>2]=n,(o|0)==0)return fD[d>>2]=e,fD[s>>2]=f,fD[p>>2]=i,fD[i+32>>2]=f,fD[t>>2]=f,void(bD=r);for(fD[o+(((fD[(fD[s>>2]|0)+40>>2]|0)==(e|0)&1)<<2)+36>>2]=f,fD[d>>2]=e,fD[s>>2]=f,fD[p>>2]=i,fD[i+32>>2]=f;;){if(i=o+4|0,((((+gD[o>>2]<=u?+gD[i>>2]<=h:0)?+gD[o+8>>2]<=c:0)?+gD[o+16>>2]>=l:0)?+gD[o+20>>2]>=a:0)?+gD[o+24>>2]>=n:0){i=21;break}if(p=fD[o+36>>2]|0,f=fD[o+40>>2]|0,_=+gD[p>>2],u=+gD[f>>2],u=_<u?_:u,gD[o>>2]=u,_=+gD[p+16>>2],l=+gD[f+16>>2],l=_>l?_:l,gD[o+16>>2]=l,_=+gD[p+4>>2],h=+gD[f+4>>2],h=_<h?_:h,gD[i>>2]=h,_=+gD[p+20>>2],a=+gD[f+20>>2],a=_>a?_:a,gD[o+20>>2]=a,_=+gD[p+8>>2],c=+gD[f+8>>2],c=_<c?_:c,gD[o+8>>2]=c,_=+gD[p+24>>2],n=+gD[f+24>>2],n=_>n?_:n,gD[o+24>>2]=n,o=fD[o+32>>2]|0,(o|0)==0){i=21;break}}return(i|0)==21?void(bD=r):void 0}function FE(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0;if(i=bD,(fD[t>>2]|0)==(e|0))return fD[t>>2]=0,e=0,bD=i,e|0;if(o=fD[e+32>>2]|0,n=fD[o+32>>2]|0,e=fD[o+(((fD[o+40>>2]|0)!=(e|0)&1)<<2)+36>>2]|0,(n|0)==0)return fD[t>>2]=e,fD[e+32>>2]=0,r=fD[t+4>>2]|0,(r|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[t+4>>2]=o,e=fD[t>>2]|0,bD=i,e|0;fD[n+(((fD[n+40>>2]|0)==(o|0)&1)<<2)+36>>2]=e,fD[e+32>>2]=n,e=fD[t+4>>2]|0,(e|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[e+-4>>2]|0)),fD[t+4>>2]=o;do{if(g=+gD[n>>2],S=n+4|0,_=+gD[S>>2],v=n+8|0,p=+gD[v>>2],x=n+16|0,d=+gD[x>>2],M=n+20|0,c=+gD[M>>2],e=n+24|0,s=+gD[e>>2],b=fD[n+36>>2]|0,o=fD[n+40>>2]|0,y=+gD[b>>2],m=+gD[o>>2],m=y<m?y:m,gD[n>>2]=m,y=+gD[b+16>>2],h=+gD[o+16>>2],h=y>h?y:h,gD[x>>2]=h,y=+gD[b+4>>2],f=+gD[o+4>>2],f=y<f?y:f,gD[S>>2]=f,y=+gD[b+20>>2],l=+gD[o+20>>2],l=y>l?y:l,gD[M>>2]=l,y=+gD[b+8>>2],u=+gD[o+8>>2],u=y<u?y:u,gD[v>>2]=u,y=+gD[b+24>>2],a=+gD[o+24>>2],a=y>a?y:a,gD[e>>2]=a,g!=m|_!=f|p!=u|d!=h?0:!(c!=l|s!=a)){r=14;break}n=fD[n+32>>2]|0}while((n|0)!=0);return(r|0)==14?(bD=i,n|0):(x=fD[t>>2]|0,bD=i,x|0)}function GE(t,e){t|=0,e|=0;var i=0,r=0;i=bD,fD[t>>2]=11432,r=t+4|0;do uD[r+36>>0]=1,fD[r+32>>2]=0,fD[r+24>>2]=0,fD[r+28>>2]=0,uD[r+56>>0]=1,fD[r+52>>2]=0,fD[r+44>>2]=0,fD[r+48>>2]=0,fD[r>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=-1,fD[r+12>>2]=0,fD[r+16>>2]=0,r=r+60|0;while((r|0)!=(t+124|0));return uD[t+193>>0]=0,uD[t+194>>0]=1,uD[t+192>>0]=(e|0)!=0^1,gD[t+140>>2]=0,fD[t+144>>2]=0,fD[t+164>>2]=0,fD[t+148>>2]=1,fD[t+152>>2]=0,fD[t+156>>2]=10,fD[t+160>>2]=1,fD[t+168>>2]=0,fD[t+172>>2]=0,gD[t+176>>2]=0,(e|0)!=0?(r=t+136|0,fD[r>>2]=e,r=t+188|0,fD[r>>2]=0,r=t+180|0,fD[r>>2]=0,r=t+184|0,fD[r>>2]=0,r=t+124|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,void(bD=i)):(fD[5004]=(fD[5004]|0)+1,e=Ew(95)|0,((e|0)!=0?(fD[(e+19&-16)+-4>>2]=e,(e+19&-16|0)!=0):0)?(FA(e+19&-16),e=e+19&-16):e=0,r=t+136|0,fD[r>>2]=e,r=t+188|0,fD[r>>2]=0,r=t+180|0,fD[r>>2]=0,r=t+184|0,fD[r>>2]=0,r=t+124|0,fD[r+0>>2]=0,fD[r+4>>2]=0,fD[r+8>>2]=0,void(bD=i))}function zE(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=11432,((uD[t+192>>0]|0)!=0?(i=fD[t+136>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+136>>2]|0,(i|0)!=0):0)&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=t+124|0;do i=i+-60|0,IE(i);while((i|0)!=(t+4|0));Cw(t),bD=e}function jE(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=11432,((uD[t+192>>0]|0)!=0?(i=fD[t+136>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+136>>2]|0,(i|0)!=0):0)&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=t+124|0;do i=i+-60|0,IE(i);while((i|0)!=(t+4|0));bD=e}function UE(t,e,i,r,o,n,a,s,l){if(t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,l=bD,bD=bD+48|0,fD[5004]=(fD[5004]|0)+1,r=Ew(83)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),fD[r>>2]=o,pD[r+4>>1]=n,pD[r+6>>1]=a,o=r+16|0,fD[o+0>>2]=fD[e+0>>2],fD[o+4>>2]=fD[e+4>>2],fD[o+8>>2]=fD[e+8>>2],fD[o+12>>2]=fD[e+12>>2],o=r+32|0,fD[o+0>>2]=fD[i+0>>2],fD[o+4>>2]=fD[i+4>>2],fD[o+8>>2]=fD[i+8>>2],fD[o+12>>2]=fD[i+12>>2],fD[r+8>>2]=0,o=r+56|0,fD[o>>2]=0,n=r+52|0,fD[n>>2]=0,fD[l+16>>2]=fD[e+0>>2],fD[l+20>>2]=fD[e+4>>2],fD[l+24>>2]=fD[e+8>>2],fD[l+28>>2]=fD[e+12>>2],fD[l+32>>2]=fD[i+0>>2],fD[l+36>>2]=fD[i+4>>2],fD[l+40>>2]=fD[i+8>>2],fD[l+44>>2]=fD[i+12>>2],fD[r+60>>2]=fD[t+144>>2],e=(fD[t+188>>2]|0)+1|0,fD[t+188>>2]=e,fD[r+12>>2]=e,e=fD[t+8>>2]|0,(e|0)==0)if(fD[5004]=(fD[5004]|0)+1,e=Ew(63)|0,(e|0)!=0?(fD[(e+19&-16)+-4>>2]=e,(e+19&-16|0)!=0):0){a=(e+19&-16)+0|0,i=a+44|0;do fD[a>>2]=0,a=a+4|0;while((a|0)<(i|0));e=e+19&-16}else e=0;else fD[t+8>>2]=0;return fD[e+32>>2]=0,fD[e+36>>2]=r,fD[e+40>>2]=0,fD[e+0>>2]=fD[l+16>>2],fD[e+4>>2]=fD[l+20>>2],fD[e+8>>2]=fD[l+24>>2],fD[e+12>>2]=fD[l+28>>2],fD[e+16>>2]=fD[l+32>>2],fD[e+20>>2]=fD[l+36>>2],fD[e+24>>2]=fD[l+40>>2],fD[e+28>>2]=fD[l+44>>2],NE(t+4|0,fD[t+4>>2]|0,e),fD[t+16>>2]=(fD[t+16>>2]|0)+1,fD[r+48>>2]=e,e=t+(fD[t+144>>2]<<2)+124|0,fD[n>>2]=0,fD[o>>2]=fD[e>>2],i=fD[e>>2]|0,(i|0)!=0&&(fD[i+52>>2]=r),fD[e>>2]=r,(uD[t+193>>0]|0)!=0?(bD=l,r|0):(fD[l>>2]=11696,fD[l+4>>2]=t,fD[l+8>>2]=r,WE(fD[t+4>>2]|0,l+16|0,l),WE(fD[t+64>>2]|0,l+16|0,l),bD=l,r|0)}function WE(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0;if(n=bD,(t|0)==0)return void(bD=n);r=+gD[e>>2],h=+gD[e+4>>2],d=+gD[e+8>>2],s=+gD[e+16>>2],c=+gD[e+20>>2],u=+gD[e+24>>2],fD[5004]=(fD[5004]|0)+1,p=Ew(275)|0,(p|0)!=0?(fD[(p+19&-16)+-4>>2]=p,e=p+19&-16,(p+19&-16|0)!=0&&(fD[e>>2]=t)):e=0,m=64,t=1;do{f=t+-1|0,p=fD[e+(f<<2)>>2]|0;do if(((((+gD[p>>2]<=s?+gD[p+16>>2]>=r:0)?+gD[p+4>>2]<=c:0)?+gD[p+20>>2]>=h:0)?+gD[p+8>>2]<=u:0)?+gD[p+24>>2]>=d:0){if((fD[p+40>>2]|0)==0){aP[fD[(fD[i>>2]|0)+12>>2]&127](i,p),t=f;break}if(_=fD[p+36>>2]|0,(f|0)==(m|0)?(o=(m|0)==0?1:m<<1,(t|0)<=(o|0)):0){if(((o|0)!=0?(fD[5004]=(fD[5004]|0)+1,l=Ew((o<<2|3)+16|0)|0,(l|0)!=0):0)?(fD[(l+19&-16)+-4>>2]=l,g=l+19&-16):g=0,(m|0)>0){b=0;do y=g+(b<<2)|0,(y|0)!=0&&(fD[y>>2]=fD[e+(b<<2)>>2]),b=b+1|0;while((b|0)!=(m|0))}(e|0)==0?(m=o,e=g):(fD[5006]=(fD[5006]|0)+1,Cw(fD[e+-4>>2]|0),m=o,e=g)}if(f=e+(f<<2)|0,(f|0)!=0&&(fD[f>>2]=_),p=fD[p+40>>2]|0,(t|0)==(m|0))if(m=(t|0)==0?1:t<<1,(t|0)<(m|0)){if(((m|0)!=0?(fD[5004]=(fD[5004]|0)+1,a=Ew((m<<2|3)+16|0)|0,(a|0)!=0):0)?(fD[(a+19&-16)+-4>>2]=a,f=a+19&-16):f=0,(t|0)>0){_=0;do g=f+(_<<2)|0,(g|0)!=0&&(fD[g>>2]=fD[e+(_<<2)>>2]),_=_+1|0;while((_|0)!=(t|0))}(e|0)==0?e=f:(fD[5006]=(fD[5006]|0)+1,Cw(fD[e+-4>>2]|0),e=f)}else m=t;f=e+(t<<2)|0,(f|0)!=0&&(fD[f>>2]=p),t=t+1|0}else t=f;while(0)}while((t|0)>0);return(e|0)==0?void(bD=n):(fD[5006]=(fD[5006]|0)+1,Cw(fD[e+-4>>2]|0),void(bD=n))}function XE(t){t|=0}function qE(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;return r=bD,(fD[e+60>>2]|0)==2?(o=fD[e+48>>2]|0,FE(t+64|0,o)|0,n=fD[t+68>>2]|0,(n|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0)),fD[t+68>>2]=o,fD[t+76>>2]=(fD[t+76>>2]|0)+-1):(o=fD[e+48>>2]|0,FE(t+4|0,o)|0,n=fD[t+8>>2]|0,(n|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0)),fD[t+8>>2]=o,fD[t+16>>2]=(fD[t+16>>2]|0)+-1),n=fD[e+52>>2]|0,o=fD[e+56>>2]|0,(n|0)==0?fD[t+(fD[e+60>>2]<<2)+124>>2]=o:fD[n+56>>2]=o,o=fD[e+56>>2]|0,(o|0)!=0&&(fD[o+52>>2]=fD[e+52>>2]),n=fD[t+136>>2]|0,OP[fD[(fD[n>>2]|0)+16>>2]&127](n,e,i),(e|0)==0?(n=t+194|0,uD[n>>0]=1,void(bD=r)):(fD[5006]=(fD[5006]|0)+1,Cw(fD[e+-4>>2]|0),n=t+194|0,uD[n>>0]=1,void(bD=r))}function KE(t,e,i,r){t|=0,e|=0,i|=0,r|=0,t=bD,fD[i+0>>2]=fD[e+16>>2],fD[i+4>>2]=fD[e+20>>2],fD[i+8>>2]=fD[e+24>>2],fD[i+12>>2]=fD[e+28>>2],fD[r+0>>2]=fD[e+32>>2],fD[r+4>>2]=fD[e+36>>2],fD[r+8>>2]=fD[e+40>>2],fD[r+12>>2]=fD[e+44>>2],bD=t}function YE(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,i=bD,bD=bD+16|0,fD[i>>2]=11616,fD[i+4>>2]=r,QE(t+4|0,fD[t+4>>2]|0,e,r+4|0,r+20|0,+gD[r+32>>2],o,n,i),QE(t+64|0,fD[t+64>>2]|0,e,r+4|0,r+20|0,+gD[r+32>>2],o,n,i),bD=i}function QE(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n,a|=0,s|=0,l|=0;var c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0;if(h=bD,bD=bD+32|0,(e|0)==0)return void(bD=h);if(f=fD[t+44>>2]|0,(f|0)<128){if((fD[t+48>>2]|0)<128){if(fD[5004]=(fD[5004]|0)+1,_=Ew(531)|0,(_|0)==0?_=0:(fD[(_+19&-16)+-4>>2]=_,_=_+19&-16),g=fD[t+44>>2]|0,(g|0)>0){m=0;do y=_+(m<<2)|0,(y|0)!=0&&(fD[y>>2]=fD[(fD[t+52>>2]|0)+(m<<2)>>2]),m=m+1|0;while((m|0)!=(g|0))}m=fD[t+52>>2]|0,(m|0)!=0&&((uD[t+56>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[m+-4>>2]|0)),fD[t+52>>2]=0),uD[t+56>>0]=1,fD[t+52>>2]=_,fD[t+48>>2]=128,_=t+52|0}else _=t+52|0;do m=(fD[_>>2]|0)+(f<<2)|0,(m|0)!=0&&(fD[m>>2]=0),f=f+1|0;while((f|0)!=128);f=t+48|0}else f=t+48|0;fD[t+44>>2]=128,fD[fD[t+52>>2]>>2]=e,e=1,g=126;do{_=e+-1|0,y=fD[t+52>>2]|0,m=fD[y+(_<<2)>>2]|0,v=+gD[m+4>>2]-+gD[s+4>>2],b=+gD[m+8>>2]-+gD[s+8>>2],gD[h>>2]=+gD[m>>2]-+gD[s>>2],gD[h+4>>2]=v,gD[h+8>>2]=b,gD[h+12>>2]=0,b=+gD[m+20>>2]-+gD[a+4>>2],v=+gD[m+24>>2]-+gD[a+8>>2],gD[h+16>>2]=+gD[m+16>>2]-+gD[a>>2],gD[h+20>>2]=b,gD[h+24>>2]=v,gD[h+28>>2]=0,E=fD[o>>2]|0,v=+gD[i>>2],b=+gD[r>>2],M=(+gD[h+(E<<4)>>2]-v)*b,v=b*(+gD[h+(1-E<<4)>>2]-v),E=fD[o+4>>2]|0,b=+gD[i+4>>2],C=+gD[r+4>>2],S=(+gD[h+(E<<4)+4>>2]-b)*C,b=C*(+gD[h+(1-E<<4)+4>>2]-b);do if(((M>b|S>v?!0:(d=S>M?S:M,p=b<v?b:v,E=fD[o+8>>2]|0,u=+gD[i+8>>2],C=+gD[r+8>>2],c=(+gD[h+(E<<4)+8>>2]-u)*C,u=C*(+gD[h+(1-E<<4)+8>>2]-u),d>u|c>p))?0:(c>d?c:d)<n)?(u<p?u:p)>0:0){if((fD[m+40>>2]|0)==0){aP[fD[(fD[l>>2]|0)+12>>2]&127](l,m),e=_;break}if((_|0)>(g|0)){if(g=fD[t+44>>2]|0,(g|0)<(g<<1|0)){if((fD[f>>2]|0)<(g<<1|0)){if((g|0)!=0){if(fD[5004]=(fD[5004]|0)+1,y=Ew((g<<3|3)+16|0)|0,(y|0)==0?y=0:(fD[(y+19&-16)+-4>>2]=y,y=y+19&-16),T=fD[t+44>>2]|0,(T|0)>0){x=0;do E=y+(x<<2)|0,(E|0)!=0&&(fD[E>>2]=fD[(fD[t+52>>2]|0)+(x<<2)>>2]),x=x+1|0;while((x|0)!=(T|0))}}else y=0;x=fD[t+52>>2]|0,(x|0)!=0&&((uD[t+56>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[x+-4>>2]|0)),fD[t+52>>2]=0),uD[t+56>>0]=1,fD[t+52>>2]=y,fD[f>>2]=g<<1,x=g}else x=g;do y=y+(x<<2)|0,(y|0)!=0&&(fD[y>>2]=0),x=x+1|0,y=fD[t+52>>2]|0;while((x|0)!=(g<<1|0))}fD[t+44>>2]=g<<1,g=(g<<1)+-2|0}fD[y+(_<<2)>>2]=fD[m+36>>2],fD[(fD[t+52>>2]|0)+(e<<2)>>2]=fD[m+40>>2],e=e+1|0}else e=_;while(0)}while((e|0)!=0);bD=h}function ZE(t){t|=0}function $E(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;o=bD,bD=bD+48|0,fD[o+32>>2]=11536,fD[o+36>>2]=r,fD[o+0>>2]=fD[e+0>>2],fD[o+4>>2]=fD[e+4>>2],fD[o+8>>2]=fD[e+8>>2],fD[o+12>>2]=fD[e+12>>2],fD[o+16>>2]=fD[i+0>>2],fD[o+20>>2]=fD[i+4>>2],fD[o+24>>2]=fD[i+8>>2],fD[o+28>>2]=fD[i+12>>2],WE(fD[t+4>>2]|0,o,o+32|0),WE(fD[t+64>>2]|0,o,o+32|0),bD=o}function tC(t){t|=0}function eC(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0;o=bD,bD=bD+16|0,p=+gD[i>>2],d=+gD[i+4>>2],c=+gD[i+8>>2],a=+gD[i+12>>2],u=+gD[r>>2],h=+gD[r+4>>2],l=+gD[r+8>>2],n=+gD[r+12>>2];do if((fD[e+60>>2]|0)==2){if(E=fD[e+48>>2]|0,FE(t+64|0,E)|0,s=fD[t+68>>2]|0,(s|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[s+-4>>2]|0)),fD[t+68>>2]=E,fD[t+76>>2]=(fD[t+76>>2]|0)+-1,s=fD[t+8>>2]|0,(s|0)==0)if(fD[5004]=(fD[5004]|0)+1,E=Ew(63)|0,(E|0)!=0?(fD[(E+19&-16)+-4>>2]=E,(E+19&-16|0)!=0):0){C=(E+19&-16)+0|0,s=C+44|0;do fD[C>>2]=0,C=C+4|0;while((C|0)<(s|0));s=E+19&-16}else s=0;else fD[t+8>>2]=0;fD[s+32>>2]=0,fD[s+36>>2]=e,fD[s+40>>2]=0,gD[s>>2]=p,gD[s+4>>2]=d,gD[s+8>>2]=c,gD[s+12>>2]=a,gD[s+16>>2]=u,gD[s+20>>2]=h,gD[s+24>>2]=l,gD[s+28>>2]=n,NE(t+4|0,fD[t+4>>2]|0,s),fD[t+16>>2]=(fD[t+16>>2]|0)+1,fD[e+48>>2]=s,s=1}else{if(fD[t+168>>2]=(fD[t+168>>2]|0)+1,s=fD[e+48>>2]|0,v=+gD[s>>2],((((v<=u?(f=+gD[s+16>>2],f>=p):0)?(_=+gD[s+4>>2],_<=h):0)?(y=+gD[s+20>>2],y>=d):0)?(m=+gD[s+8>>2],m<=l):0)?(g=+gD[s+24>>2],g>=c):0){if(R=+gD[e+16>>2],T=+gD[e+20>>2],x=+gD[e+24>>2],b=+gD[t+140>>2],M=(+gD[e+32>>2]-R)*.5*b,S=b*(+gD[e+36>>2]-T)*.5,b=b*(+gD[e+40>>2]-x)*.5,p-R<0&&(M=-M),d-T<0&&(S=-S),c-x<0&&(b=-b),!(!(v<=p)|!(_<=d)|!(m<=c)|!(f>=u)|!(y>=h)|!(g>=l))){s=0;break}M>0?(p+=-.05000000074505806,u=M+(u+.05000000074505806)):(p=M+(p+-.05000000074505806),u+=.05000000074505806),S>0?(d+=-.05000000074505806,h=S+(h+.05000000074505806)):(d=S+(d+-.05000000074505806),h+=.05000000074505806),b>0?(c+=-.05000000074505806,l=b+(l+.05000000074505806)):(c=b+(c+-.05000000074505806),l+=.05000000074505806),A=FE(t+4|0,s)|0;t:do if((A|0)!=0){if(E=fD[t+12>>2]|0,!((E|0)>-1)){A=fD[t+4>>2]|0;break}if((E|0)>0)for(C=0;;){if(w=fD[A+32>>2]|0,C=C+1|0,(w|0)==0)break t;if((C|0)>=(E|0)){A=w;break}A=w}}else A=0;while(0);gD[s>>2]=p,gD[s+4>>2]=d,gD[s+8>>2]=c,gD[s+12>>2]=a,gD[s+16>>2]=u,gD[s+20>>2]=h,gD[s+24>>2]=l,gD[s+28>>2]=n,NE(t+4|0,A,s),fD[t+172>>2]=(fD[t+172>>2]|0)+1,s=1;break}A=FE(t+4|0,s)|0;t:do if((A|0)!=0){if(E=fD[t+12>>2]|0,!((E|0)>-1)){A=fD[t+4>>2]|0;break}if((E|0)>0)for(C=0;;){if(w=fD[A+32>>2]|0,C=C+1|0,(w|0)==0)break t;if((C|0)>=(E|0)){A=w;break}A=w}}else A=0;while(0);gD[s>>2]=p,gD[s+4>>2]=d,gD[s+8>>2]=c,gD[s+12>>2]=a,gD[s+16>>2]=u,gD[s+20>>2]=h,gD[s+24>>2]=l,gD[s+28>>2]=n,NE(t+4|0,A,s),fD[t+172>>2]=(fD[t+172>>2]|0)+1,s=1}while(0);return E=fD[e+52>>2]|0,C=fD[e+56>>2]|0,(E|0)==0?fD[t+(fD[e+60>>2]<<2)+124>>2]=C:fD[E+56>>2]=C,E=fD[e+56>>2]|0,(E|0)!=0&&(fD[E+52>>2]=fD[e+52>>2]),fD[e+16>>2]=fD[i+0>>2],fD[e+20>>2]=fD[i+4>>2],fD[e+24>>2]=fD[i+8>>2],fD[e+28>>2]=fD[i+12>>2],fD[e+32>>2]=fD[r+0>>2],fD[e+36>>2]=fD[r+4>>2],fD[e+40>>2]=fD[r+8>>2],fD[e+44>>2]=fD[r+12>>2],fD[e+60>>2]=fD[t+144>>2],r=t+(fD[t+144>>2]<<2)+124|0,fD[e+52>>2]=0,fD[e+56>>2]=fD[r>>2],i=fD[r>>2]|0,(i|0)!=0&&(fD[i+52>>2]=e),fD[r>>2]=e,s?(uD[t+194>>0]=1,(uD[t+193>>0]|0)!=0?void(bD=o):(fD[o>>2]=11696,fD[o+4>>2]=t,iC(t+64|0,fD[t+64>>2]|0,fD[e+48>>2]|0,o),iC(t+4|0,fD[t+4>>2]|0,fD[e+48>>2]|0,o),void(bD=o))):void(bD=o)}function iC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0;if(o=bD,(e|0)==0|(i|0)==0)return void(bD=o);if((fD[t+24>>2]|0)<128?(fD[t+28>>2]|0)<128:0){if(fD[5004]=(fD[5004]|0)+1,n=Ew(1043)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),l=fD[t+24>>2]|0,(l|0)>0){s=0;do a=n+(s<<3)|0,(a|0)!=0&&(d=(fD[t+32>>2]|0)+(s<<3)|0,u=fD[d+4>>2]|0,fD[a>>2]=fD[d>>2],fD[a+4>>2]=u),s=s+1|0;while((s|0)!=(l|0))}a=fD[t+32>>2]|0,(a|0)!=0&&((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[t+32>>2]=0),uD[t+36>>0]=1,fD[t+32>>2]=n,fD[t+28>>2]=128,n=t+28|0}else n=t+28|0;fD[t+24>>2]=128,l=fD[t+32>>2]|0,fD[l>>2]=e,fD[l+4>>2]=i,i=1,l=124;do{if(s=i+-1|0,h=fD[t+32>>2]|0,a=fD[h+(s<<3)>>2]|0,e=fD[h+(s<<3)+4>>2]|0,(s|0)>(l|0)){if(l=fD[t+24>>2]|0,(l|0)<(l<<1|0)?(fD[n>>2]|0)<(l<<1|0):0){if((l|0)!=0)if(fD[5004]=(fD[5004]|0)+1,c=Ew((l<<4|3)+16|0)|0,(c|0)==0?u=0:(fD[(c+19&-16)+-4>>2]=c,u=c+19&-16),h=fD[t+24>>2]|0,(h|0)>0){c=0;do d=u+(c<<3)|0,(d|0)!=0&&(f=(fD[t+32>>2]|0)+(c<<3)|0,p=fD[f+4>>2]|0,fD[d>>2]=fD[f>>2],fD[d+4>>2]=p),c=c+1|0;while((c|0)!=(h|0));h=u}else h=u;else h=0;c=fD[t+32>>2]|0,(c|0)!=0&&((uD[t+36>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[c+-4>>2]|0)),fD[t+32>>2]=0),uD[t+36>>0]=1,fD[t+32>>2]=h,fD[n>>2]=l<<1}fD[t+24>>2]=l<<1,l=(l<<1)+-4|0}do if((a|0)==(e|0))(fD[a+40>>2]|0)==0?i=s:(p=fD[a+36>>2]|0,f=h+(s<<3)|0,fD[f>>2]=p,fD[f+4>>2]=p,f=fD[a+40>>2]|0,p=(fD[t+32>>2]|0)+(i<<3)|0,fD[p>>2]=f,fD[p+4>>2]=f,p=fD[a+40>>2]|0,f=(fD[t+32>>2]|0)+(i+1<<3)|0,fD[f>>2]=fD[a+36>>2],fD[f+4>>2]=p,i=i+2|0);else{if(((((+gD[a>>2]<=+gD[e+16>>2]?+gD[a+16>>2]>=+gD[e>>2]:0)?+gD[a+4>>2]<=+gD[e+20>>2]:0)?+gD[a+20>>2]>=+gD[e+4>>2]:0)?+gD[a+8>>2]<=+gD[e+24>>2]:0)?+gD[a+24>>2]>=+gD[e+8>>2]:0){if(c=(fD[e+40>>2]|0)!=0,(fD[a+40>>2]|0)==0){if(c){f=fD[e+36>>2]|0,p=h+(s<<3)|0,fD[p>>2]=a,fD[p+4>>2]=f,p=fD[e+40>>2]|0,f=(fD[t+32>>2]|0)+(i<<3)|0,fD[f>>2]=a,fD[f+4>>2]=p,i=i+1|0;break}OP[fD[(fD[r>>2]|0)+8>>2]&127](r,a,e),i=s;break}if(s=h+(s<<3)|0,h=fD[a+36>>2]|0,c){p=fD[e+36>>2]|0,fD[s>>2]=h,fD[s+4>>2]=p,p=fD[e+36>>2]|0,f=(fD[t+32>>2]|0)+(i<<3)|0,fD[f>>2]=fD[a+40>>2],fD[f+4>>2]=p,f=fD[e+40>>2]|0,p=(fD[t+32>>2]|0)+(i+1<<3)|0,fD[p>>2]=fD[a+36>>2],fD[p+4>>2]=f,p=fD[e+40>>2]|0,f=(fD[t+32>>2]|0)+(i+2<<3)|0,fD[f>>2]=fD[a+40>>2],fD[f+4>>2]=p,i=i+3|0;break}fD[s>>2]=h,fD[s+4>>2]=e,f=(fD[t+32>>2]|0)+(i<<3)|0,fD[f>>2]=fD[a+40>>2],fD[f+4>>2]=e,i=i+1|0;break}i=s}while(0)}while((i|0)!=0);bD=o}function rC(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0;if(i=bD,bD=bD+48|0,JE(t+4|0,((VD(fD[t+152>>2]|0,fD[t+16>>2]|0)|0)/100|0)+1|0),(fD[t+164>>2]|0)!=0&&(d=((VD(fD[t+148>>2]|0,fD[t+76>>2]|0)|0)/100|0)+1|0,JE(t+64|0,d),d=(fD[t+164>>2]|0)-d|0,fD[t+164>>2]=(d|0)<0?0:d),s=((fD[t+144>>2]|0)+1|0)%2|0,fD[t+144>>2]=s,s=fD[t+(s<<2)+124>>2]|0,(s|0)!=0){do{if(l=s+56|0,a=s,s=fD[l>>2]|0,c=fD[a+52>>2]|0,(c|0)==0?fD[t+(fD[a+60>>2]<<2)+124>>2]=s:fD[c+56>>2]=s,c=fD[l>>2]|0,(c|0)!=0&&(fD[c+52>>2]=fD[a+52>>2]),fD[a+52>>2]=0,fD[l>>2]=fD[t+132>>2],l=fD[t+132>>2]|0,(l|0)!=0&&(fD[l+52>>2]=a),fD[t+132>>2]=a,c=fD[a+48>>2]|0,FE(t+4|0,c)|0,l=fD[t+8>>2]|0,(l|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[l+-4>>2]|0)),fD[t+8>>2]=c,fD[t+16>>2]=(fD[t+16>>2]|0)+-1,fD[i+16>>2]=fD[a+16>>2],fD[i+20>>2]=fD[a+20>>2],fD[i+24>>2]=fD[a+24>>2],fD[i+28>>2]=fD[a+28>>2],fD[i+32>>2]=fD[a+32>>2],fD[i+36>>2]=fD[a+36>>2],fD[i+40>>2]=fD[a+40>>2],fD[i+44>>2]=fD[a+44>>2],l=fD[t+68>>2]|0,(l|0)==0)if(fD[5004]=(fD[5004]|0)+1,l=Ew(63)|0,(l|0)!=0?(fD[(l+19&-16)+-4>>2]=l,(l+19&-16|0)!=0):0){h=(l+19&-16)+0|0,c=h+44|0;do fD[h>>2]=0,h=h+4|0;while((h|0)<(c|0));l=l+19&-16}else l=0;else fD[t+68>>2]=0;fD[l+32>>2]=0,fD[l+36>>2]=a,fD[l+40>>2]=0,fD[l+0>>2]=fD[i+16>>2],fD[l+4>>2]=fD[i+20>>2],fD[l+8>>2]=fD[i+24>>2],fD[l+12>>2]=fD[i+28>>2],fD[l+16>>2]=fD[i+32>>2],fD[l+20>>2]=fD[i+36>>2],fD[l+24>>2]=fD[i+40>>2],fD[l+28>>2]=fD[i+44>>2],NE(t+64|0,fD[t+64>>2]|0,l),fD[t+76>>2]=(fD[t+76>>2]|0)+1,fD[a+48>>2]=l,fD[a+60>>2]=2}while((s|0)!=0);fD[t+164>>2]=fD[t+76>>2],uD[t+194>>0]=1}fD[i>>2]=11696,fD[i+4>>2]=t,((uD[t+193>>0]|0)!=0?(iC(t+4|0,fD[t+4>>2]|0,fD[t+64>>2]|0,i),(uD[t+193>>0]|0)!=0):0)&&(d=fD[t+4>>2]|0,iC(t+4|0,d,d,i));do if((uD[t+194>>0]|0)!=0?(o=fD[t+136>>2]|0,o=lP[fD[(fD[o>>2]|0)+28>>2]&127](o)|0,n=fD[o+4>>2]|0,(n|0)>0):0){if(s=(VD(fD[t+156>>2]|0,n)|0)/100|0,d=fD[t+160>>2]|0,s=(d|0)>(s|0)?d:s,s=(n|0)<(s|0)?n:s,(s|0)>0){a=0;do c=((fD[t+184>>2]|0)+a|0)%(n|0)|0,h=fD[o+12>>2]|0,l=fD[h+(c<<4)>>2]|0,c=fD[h+(c<<4)+4>>2]|0,h=fD[l+48>>2]|0,d=fD[c+48>>2]|0,(((((+gD[h>>2]<=+gD[d+16>>2]?+gD[h+16>>2]>=+gD[d>>2]:0)?+gD[h+4>>2]<=+gD[d+20>>2]:0)?+gD[h+20>>2]>=+gD[d+4>>2]:0)?+gD[h+8>>2]<=+gD[d+24>>2]:0)?+gD[h+24>>2]>=+gD[d+8>>2]:0)||(n=fD[t+136>>2]|0,uP[fD[(fD[n>>2]|0)+12>>2]&31](n,l,c,e)|0,n=fD[o+4>>2]|0,a=a+-1|0,s=s+-1|0),a=a+1|0;while((a|0)<(s|0));if((n|0)<=0){fD[t+184>>2]=0;break}}fD[t+184>>2]=((fD[t+184>>2]|0)+s|0)%(n|0)|0}while(0);if(fD[t+180>>2]=(fD[t+180>>2]|0)+1,fD[t+160>>2]=1,uD[t+194>>0]=0,o=fD[t+168>>2]|0,(o|0)==0?(gD[t+176>>2]=0,n=fD[t+172>>2]|0):(n=fD[t+172>>2]|0,gD[t+176>>2]=+(n>>>0)/+(o>>>0)),fD[t+172>>2]=n>>>1,fD[t+168>>2]=o>>>1,d=fD[t+136>>2]|0,!(lP[fD[(fD[d>>2]|0)+56>>2]&127](d)|0))return void(bD=i);for(o=fD[t+136>>2]|0,o=lP[fD[(fD[o>>2]|0)+28>>2]&127](o)|0,l=fD[o+4>>2]|0,(l|0)>1?(sp(o,0,l+-1|0),h=0,s=0,n=0,a=0,r=45):(s=0,h=0,n=0,a=0);;){if((r|0)==45&&(l=fD[o+4>>2]|0),(n|0)>=(l|0))break;c=fD[o+12>>2]|0,l=c+(n<<4)|0,r=fD[l>>2]|0,c=c+(n<<4)+4|0,d=fD[c>>2]|0,(r|0)==(s|0)?r=(d|0)==(h|0)?55:49:(s=r,r=49),(r|0)==49&&(r=0,u=fD[s+48>>2]|0,h=fD[d+48>>2]|0,(((((+gD[u>>2]<=+gD[h+16>>2]?+gD[u+16>>2]>=+gD[h>>2]:0)?+gD[u+4>>2]<=+gD[h+20>>2]:0)?+gD[u+20>>2]>=+gD[h+4>>2]:0)?+gD[u+8>>2]<=+gD[h+24>>2]:0)?+gD[u+24>>2]>=+gD[h+8>>2]:0)?h=d:(h=d,r=55)),(r|0)==55&&(u=fD[t+136>>2]|0,OP[fD[(fD[u>>2]|0)+32>>2]&127](u,l,e),fD[l>>2]=0,fD[c>>2]=0,a=a+1|0),n=n+1|0,r=45
}if((l|0)>1&&(sp(o,0,l+-1|0),l=fD[o+4>>2]|0),t=l-a|0,(a|0)<0){if((fD[o+8>>2]|0)<(t|0)){if((l|0)==(a|0)?e=0:(fD[5004]=(fD[5004]|0)+1,e=Ew((t<<4|3)+16|0)|0,(e|0)==0?e=0:(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16),a=fD[o+4>>2]|0),(a|0)>0){r=0;do u=fD[o+12>>2]|0,fD[e+(r<<4)>>2]=fD[u+(r<<4)>>2],fD[e+(r<<4)+4>>2]=fD[u+(r<<4)+4>>2],fD[e+(r<<4)+8>>2]=fD[u+(r<<4)+8>>2],fD[e+(r<<4)+12>>2]=fD[u+(r<<4)+12>>2],r=r+1|0;while((r|0)!=(a|0))}r=fD[o+12>>2]|0,(r|0)!=0&&((uD[o+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[o+12>>2]=0),uD[o+16>>0]=1,fD[o+12>>2]=e,fD[o+8>>2]=t,e=o+12|0}else e=o+12|0;do d=(fD[e>>2]|0)+(l<<4)|0,l=l+1|0,u=(l|0)==(t|0),fD[d+0>>2]=0,fD[d+4>>2]=0,fD[d+8>>2]=0,fD[d+12>>2]=0;while(!u)}fD[o+4>>2]=t,bD=i}function oC(t){return t|=0,fD[t+136>>2]|0}function nC(t){return t|=0,fD[t+136>>2]|0}function aC(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0;r=bD,o=fD[t+4>>2]|0,t=fD[t+64>>2]|0;do{if((o|0)!=0){if(n=+gD[o>>2],(t|0)==0){a=+gD[o+4>>2],d=+gD[o+8>>2],h=+gD[o+12>>2],c=+gD[o+16>>2],l=+gD[o+20>>2],s=+gD[o+24>>2],u=+gD[o+28>>2];break}m=+gD[t>>2],f=+gD[o+16>>2],c=+gD[t+16>>2],_=+gD[o+4>>2],a=+gD[t+4>>2],p=+gD[o+20>>2],l=+gD[t+20>>2],h=+gD[o+8>>2],d=+gD[t+8>>2],u=+gD[o+24>>2],s=+gD[t+24>>2],n=n<m?n:m,a=_<a?_:a,d=h<d?h:d,h=0,c=f>c?f:c,l=p>l?p:l,s=u>s?u:s,u=0;break}(t|0)==0?(n=0,a=0,d=0,h=0,c=0,l=0,s=0,u=0):(n=+gD[t>>2],a=+gD[t+4>>2],d=+gD[t+8>>2],h=+gD[t+12>>2],c=+gD[t+16>>2],l=+gD[t+20>>2],s=+gD[t+24>>2],u=+gD[t+28>>2])}while(0);gD[e>>2]=n,gD[e+4>>2]=a,gD[e+8>>2]=d,gD[e+12>>2]=h,gD[i>>2]=c,gD[i+4>>2]=l,gD[i+8>>2]=s,gD[i+12>>2]=u,bD=r}function sC(t,e){t|=0,e|=0;var i=0;return e=bD,(fD[t+16>>2]|0)!=(0-(fD[t+76>>2]|0)|0)?void(bD=e):(i=fD[t+4>>2]|0,(i|0)!=0&&OE(t+4|0,i),i=fD[t+8>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+8>>2]=0,fD[t+12>>2]=-1,i=fD[t+36>>2]|0,(i|0)!=0&&((uD[t+40>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+36>>2]=0),uD[t+40>>0]=1,fD[t+36>>2]=0,fD[t+28>>2]=0,fD[t+32>>2]=0,fD[t+20>>2]=0,i=fD[t+64>>2]|0,(i|0)!=0&&OE(t+64|0,i),i=fD[t+68>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+68>>2]=0,fD[t+72>>2]=-1,i=fD[t+96>>2]|0,(i|0)!=0&&((uD[t+100>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+96>>2]=0),uD[t+100>>0]=1,fD[t+96>>2]=0,fD[t+88>>2]=0,fD[t+92>>2]=0,fD[t+80>>2]=0,uD[t+193>>0]=0,uD[t+194>>0]=1,fD[t+144>>2]=0,fD[t+164>>2]=0,fD[t+148>>2]=1,fD[t+152>>2]=0,fD[t+156>>2]=10,fD[t+160>>2]=1,fD[t+124>>2]=0,fD[t+128>>2]=0,fD[t+132>>2]=0,fD[t+168>>2]=0,fD[t+172>>2]=0,fD[t+176>>2]=0,fD[t+180>>2]=0,fD[t+184>>2]=0,fD[t+188>>2]=0,void(bD=e))}function lC(t){t|=0}function cC(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function hC(t,e){t|=0,e|=0;var i=0;i=bD,t=fD[t+4>>2]|0,AP[fD[(fD[t>>2]|0)+8>>2]&31](t,fD[e+36>>2]|0)|0,bD=i}function dC(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function uC(t,e){t|=0,e|=0;var i=0;i=bD,t=fD[t+4>>2]|0,AP[fD[(fD[t>>2]|0)+8>>2]&31](t,fD[e+36>>2]|0)|0,bD=i}function pC(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function fC(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0;return r=bD,(e|0)==(i|0)?void(bD=r):(o=fD[(fD[t+4>>2]|0)+136>>2]|0,gP[fD[(fD[o>>2]|0)+8>>2]&31](o,fD[e+36>>2]|0,fD[i+36>>2]|0)|0,i=(fD[t+4>>2]|0)+160|0,fD[i>>2]=(fD[i>>2]|0)+1,void(bD=r))}function _C(t,e){t|=0,e|=0;var i=0;i=bD,OP[fD[(fD[t>>2]|0)+8>>2]&127](t,e,fD[(fD[t+8>>2]|0)+48>>2]|0),bD=i}function mC(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(i=bD,fD[t>>2]=11776,fD[5004]=(fD[5004]|0)+1,a=Ew(379)|0,(a|0)==0?a=0:(fD[(a+19&-16)+-4>>2]=a,a=a+19&-16),gD[a+308>>2]=9999999747378752e-20,s=a+332|0,uD[s>>0]=uD[s>>0]&-16,fD[t+24>>2]=a,a=(fD[e+20>>2]|0)==0,fD[5004]=(fD[5004]|0)+1,s=Ew(23)|0,(s|0)==0?l=0:(fD[(s+19&-16)+-4>>2]=s,l=s+19&-16),s=(l|0)==0,a?(s?l=0:fD[l>>2]=14576,fD[t+28>>2]=l):(s?l=0:fD[l>>2]=13248,fD[t+28>>2]=l),fD[5004]=(fD[5004]|0)+1,a=Ew(43)|0,((a|0)!=0?(n=a+19&-16,fD[n+-4>>2]=a,(a+19&-16|0)!=0):0)?(l=fD[t+24>>2]|0,c=fD[t+28>>2]|0,uD[n+4>>0]=0,fD[(a+19&-16)>>2]=18792,fD[n+16>>2]=0,fD[n+20>>2]=3,fD[n+12>>2]=l,fD[n+8>>2]=c,n=a+19&-16):n=0,fD[t+32>>2]=n,fD[5004]=(fD[5004]|0)+1,n=Ew(27)|0,((n|0)!=0?(fD[(n+19&-16)+-4>>2]=n,(n+19&-16|0)!=0):0)?(uD[(n+19&-16)+4>>0]=0,fD[(n+19&-16)>>2]=12784,n=n+19&-16):n=0,fD[t+36>>2]=n,fD[5004]=(fD[5004]|0)+1,n=Ew(27)|0,((n|0)!=0?(fD[(n+19&-16)+-4>>2]=n,(n+19&-16|0)!=0):0)?(uD[(n+19&-16)+4>>0]=0,fD[(n+19&-16)>>2]=12680,n=n+19&-16):n=0,fD[t+40>>2]=n,fD[5004]=(fD[5004]|0)+1,n=Ew(27)|0,((n|0)!=0?(fD[(n+19&-16)+-4>>2]=n,(n+19&-16|0)!=0):0)?(uD[(n+19&-16)+4>>0]=0,fD[(n+19&-16)>>2]=12592,n=n+19&-16):n=0,fD[t+44>>2]=n,fD[5004]=(fD[5004]|0)+1,n=Ew(27)|0,((n|0)!=0?(fD[(n+19&-16)+-4>>2]=n,(n+19&-16|0)!=0):0)?(uD[(n+19&-16)+4>>0]=0,fD[(n+19&-16)>>2]=12496,n=n+19&-16):n=0,fD[t+48>>2]=n,fD[5004]=(fD[5004]|0)+1,n=Ew(27)|0,((n|0)!=0?(fD[(n+19&-16)+-4>>2]=n,(n+19&-16|0)!=0):0)?(uD[(n+19&-16)+4>>0]=0,fD[(n+19&-16)>>2]=12400,n=n+19&-16):n=0,fD[t+52>>2]=n,fD[5004]=(fD[5004]|0)+1,n=Ew(27)|0,((n|0)!=0?(fD[(n+19&-16)+-4>>2]=n,(n+19&-16|0)!=0):0)?(uD[(n+19&-16)+4>>0]=0,fD[(n+19&-16)>>2]=12320,n=n+19&-16):n=0,fD[t+56>>2]=n,fD[5004]=(fD[5004]|0)+1,n=Ew(27)|0,((n|0)!=0?(fD[(n+19&-16)+-4>>2]=n,(n+19&-16|0)!=0):0)?(uD[(n+19&-16)+4>>0]=0,fD[(n+19&-16)>>2]=12224,n=n+19&-16):n=0,fD[t+60>>2]=n,fD[5004]=(fD[5004]|0)+1,n=Ew(27)|0,((n|0)!=0?(fD[(n+19&-16)+-4>>2]=n,(n+19&-16|0)!=0):0)?(uD[(n+19&-16)+4>>0]=0,fD[(n+19&-16)>>2]=12128,n=n+19&-16):n=0,fD[t+76>>2]=n,fD[5004]=(fD[5004]|0)+1,n=Ew(27)|0,((n|0)!=0?(fD[(n+19&-16)+-4>>2]=n,(n+19&-16|0)!=0):0)?(uD[(n+19&-16)+4>>0]=0,fD[(n+19&-16)>>2]=12128,n=n+19&-16):n=0,fD[t+80>>2]=n,uD[n+4>>0]=1,fD[5004]=(fD[5004]|0)+1,n=Ew(27)|0,((n|0)!=0?(fD[(n+19&-16)+-4>>2]=n,(n+19&-16|0)!=0):0)?(uD[(n+19&-16)+4>>0]=0,fD[(n+19&-16)>>2]=12040,n=n+19&-16):n=0,fD[t+72>>2]=n,fD[5004]=(fD[5004]|0)+1,n=Ew(35)|0,((n|0)!=0?(o=n+19&-16,fD[o+-4>>2]=n,(n+19&-16|0)!=0):0)?(uD[o+4>>0]=0,fD[(n+19&-16)>>2]=11904,fD[o+8>>2]=1,fD[o+12>>2]=0,o=n+19&-16):o=0,fD[t+88>>2]=o,fD[5004]=(fD[5004]|0)+1,o=Ew(35)|0,((o|0)!=0?(r=o+19&-16,fD[r+-4>>2]=o,(o+19&-16|0)!=0):0)?(uD[r+4>>0]=0,fD[(o+19&-16)>>2]=11904,fD[r+8>>2]=1,fD[r+12>>2]=0,r=o+19&-16):r=0,fD[t+84>>2]=r,uD[r+4>>0]=1,r=fD[e+16>>2]|0,r=(r|0)<36?36:r,r=(r|0)>80?r:80,r=(r|0)>44?r:44,o=fD[e>>2]|0,(o|0)==0){uD[t+12>>0]=1,fD[5004]=(fD[5004]|0)+1,o=Ew(39)|0;do if((o|0)==0)o=0;else{if(s=o+19&-16,fD[s+-4>>2]=o,(o+19&-16|0)==0){o=0;break}if(n=fD[e+8>>2]|0,fD[(o+19&-16)>>2]=772,fD[s+4>>2]=n,fD[5004]=(fD[5004]|0)+1,n=Ew((n*772|3)+16|0)|0,(n|0)==0?a=0:(fD[(n+19&-16)+-4>>2]=n,a=n+19&-16),fD[s+16>>2]=a,fD[s+12>>2]=a,n=fD[s+4>>2]|0,fD[s+8>>2]=n,(n+-1|0)!=0){c=fD[(o+19&-16)>>2]|0,l=n+-1|0,s=a;do h=s,s=s+c|0,fD[h>>2]=s,l=l+-1|0;while((l|0)!=0);a=a+(VD(c,n+-1|0)|0)|0}fD[a>>2]=0,o=o+19&-16}while(0);fD[t+8>>2]=o}else uD[t+12>>0]=0,fD[t+8>>2]=o;if(o=fD[e+4>>2]|0,(o|0)!=0)return uD[t+20>>0]=0,fD[t+16>>2]=o,void(bD=i);uD[t+20>>0]=1,fD[5004]=(fD[5004]|0)+1,o=Ew(39)|0;do if((o|0)==0)e=0;else{if(n=o+19&-16,fD[n+-4>>2]=o,(o+19&-16|0)==0){e=0;break}if(e=fD[e+12>>2]|0,fD[(o+19&-16)>>2]=r,fD[n+4>>2]=e,e=VD(e,r)|0,fD[5004]=(fD[5004]|0)+1,e=Ew(e+19|0)|0,(e|0)==0?r=0:(fD[(e+19&-16)+-4>>2]=e,r=e+19&-16),fD[n+16>>2]=r,fD[n+12>>2]=r,e=fD[n+4>>2]|0,fD[n+8>>2]=e,(e+-1|0)!=0){a=fD[(o+19&-16)>>2]|0,n=e+-1|0,s=r;do h=s,s=s+a|0,fD[h>>2]=s,n=n+-1|0;while((n|0)!=0);r=r+(VD(a,e+-1|0)|0)|0}fD[r>>2]=0,e=o+19&-16}while(0);fD[t+16>>2]=e,bD=i}function gC(t){t|=0;var e=0;e=bD,yC(t),Cw(t),bD=e}function yC(t){t|=0;var e=0,i=0,r=0;return e=bD,fD[t>>2]=11776,(uD[t+20>>0]|0)!=0&&(i=fD[t+16>>2]|0,r=fD[i+16>>2]|0,(r|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0),i=fD[t+16>>2]|0),(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0))),(uD[t+12>>0]|0)!=0&&(i=fD[t+8>>2]|0,r=fD[i+16>>2]|0,(r|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0),i=fD[t+8>>2]|0),(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0))),i=fD[t+32>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+32>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+36>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+36>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+40>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+40>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+44>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+44>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+48>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+48>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+52>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+52>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+56>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+56>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+60>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+60>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+76>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+76>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+80>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+80>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+72>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+72>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+88>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+88>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+84>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+84>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),i=fD[t+24>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),r=fD[t+28>>2]|0,oP[fD[fD[r>>2]>>2]&511](r),t=fD[t+28>>2]|0,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function bC(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD;do{if(!((e|0)==8&(i|0)==8)){if((e|0)==8&(i|0)==1){t=t+76|0;break}if((e|0)==1&(i|0)==8){t=t+80|0;break}if((i|e|0)==0){t=t+72|0;break}if((e|0)<20&(i|0)==28){t=t+88|0;break}if((i|0)<20&(e|0)==28){t=t+84|0;break}if((e|0)<20){if((i|0)<20){t=t+32|0;break}if((i+-21|0)>>>0<9){t=t+36|0;break}}else if((i|0)<20?(e+-21|0)>>>0<9:0){t=t+40|0;break}if((e|0)==31){if((i|0)==31){t=t+48|0;break}t=t+44|0;break}if((i|0)==31){t=t+52|0;break}t=t+56|0;break}t=t+60|0}while(0);return bD=r,fD[t>>2]|0}function vC(t){return t|=0,fD[t+8>>2]|0}function MC(t){return t|=0,fD[t+16>>2]|0}function SC(t){return t|=0,fD[t+24>>2]|0}function xC(t){t|=0}function TC(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function EC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0;return o=bD,n=fD[e>>2]|0,n=AP[fD[(fD[n>>2]|0)+56>>2]&31](n,28)|0,(uD[t+4>>0]|0)==0?(n|0)==0?(r=0,bD=o,r|0):(a=fD[t+8>>2]|0,t=fD[t+12>>2]|0,e=fD[e>>2]|0,fD[n+4>>2]=e,fD[n>>2]=19408,uD[n+8>>0]=0,fD[n+12>>2]=0,uD[n+16>>0]=0,fD[n+20>>2]=a,fD[n+24>>2]=t,gP[fD[(fD[e>>2]|0)+24>>2]&31](e,fD[i+8>>2]|0,fD[r+8>>2]|0)|0?(a=fD[n+4>>2]|0,fD[n+12>>2]=gP[fD[(fD[a>>2]|0)+12>>2]&31](a,fD[i+8>>2]|0,fD[r+8>>2]|0)|0,uD[n+8>>0]=1,a=n,bD=o,a|0):(a=n,bD=o,a|0)):(n|0)==0?(a=0,bD=o,a|0):(s=fD[t+8>>2]|0,t=fD[t+12>>2]|0,a=fD[e>>2]|0,fD[n+4>>2]=a,fD[n>>2]=19408,uD[n+8>>0]=0,fD[n+12>>2]=0,uD[n+16>>0]=1,fD[n+20>>2]=s,fD[n+24>>2]=t,gP[fD[(fD[a>>2]|0)+24>>2]&31](a,fD[r+8>>2]|0,fD[i+8>>2]|0)|0?(s=fD[n+4>>2]|0,fD[n+12>>2]=gP[fD[(fD[s>>2]|0)+12>>2]&31](s,fD[r+8>>2]|0,fD[i+8>>2]|0)|0,uD[n+8>>0]=1,s=n,bD=o,s|0):(s=n,bD=o,s|0))}function CC(t){t|=0}function AC(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function wC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return t=bD,o=fD[e>>2]|0,o=AP[fD[(fD[o>>2]|0)+56>>2]&31](o,16)|0,(o|0)==0?(o=0,bD=t,o|0):(e=fD[e>>2]|0,fD[o+4>>2]=e,fD[o>>2]=17896,uD[o+8>>0]=0,fD[o+12>>2]=0,gP[fD[(fD[e>>2]|0)+24>>2]&31](e,fD[i+8>>2]|0,fD[r+8>>2]|0)|0?(e=fD[o+4>>2]|0,fD[o+12>>2]=gP[fD[(fD[e>>2]|0)+12>>2]&31](e,fD[i+8>>2]|0,fD[r+8>>2]|0)|0,uD[o+8>>0]=1,bD=t,o|0):(bD=t,o|0))}function RC(t){t|=0}function DC(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function PC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0;return o=bD,n=fD[e>>2]|0,n=AP[fD[(fD[n>>2]|0)+56>>2]&31](n,20)|0,(n|0)==0?(t=0,bD=o,t|0):(a=fD[e+4>>2]|0,t=uD[t+4>>0]|0,e=fD[e>>2]|0,fD[n+4>>2]=e,fD[n>>2]=16904,uD[n+8>>0]=0,fD[n+12>>2]=a,uD[n+16>>0]=t,(a|0)!=0?(a=n,bD=o,a|0):(fD[n+12>>2]=gP[fD[(fD[e>>2]|0)+12>>2]&31](e,fD[i+8>>2]|0,fD[r+8>>2]|0)|0,uD[n+8>>0]=1,a=n,bD=o,a|0))}function BC(t){t|=0}function VC(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function LC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return t=bD,o=fD[e>>2]|0,o=AP[fD[(fD[o>>2]|0)+56>>2]&31](o,16)|0,(o|0)==0?(o=0,bD=t,o|0):(e=fD[e>>2]|0,fD[o+4>>2]=e,fD[o>>2]=16816,uD[o+8>>0]=0,fD[o+12>>2]=0,fD[o+12>>2]=gP[fD[(fD[e>>2]|0)+12>>2]&31](e,fD[i+8>>2]|0,fD[r+8>>2]|0)|0,uD[o+8>>0]=1,bD=t,o|0)}function kC(t){t|=0}function HC(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function IC(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,t=bD,i=fD[e>>2]|0,i=AP[fD[(fD[i>>2]|0)+56>>2]&31](i,8)|0,(i|0)==0?(r=0,bD=t,r|0):(fD[i+4>>2]=fD[e>>2],fD[i>>2]=12904,r=i,bD=t,r|0)}function OC(t){t|=0}function JC(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function NC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return t=bD,o=fD[e>>2]|0,o=AP[fD[(fD[o>>2]|0)+56>>2]&31](o,44)|0,(o|0)==0?(o=0,bD=t,o|0):(fD[o+4>>2]=fD[e>>2],fD[o>>2]=18040,uD[o+24>>0]=1,fD[o+20>>2]=0,fD[o+12>>2]=0,fD[o+16>>2]=0,uD[o+28>>0]=1,fD[o+32>>2]=fD[e+4>>2],uD[o+36>>0]=0,fD[o+40>>2]=fD[(fD[r+4>>2]|0)+68>>2],ZM(o,i,r),bD=t,o|0)}function FC(t){t|=0}function GC(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function zC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(n=bD,t=fD[e>>2]|0,t=AP[fD[(fD[t>>2]|0)+56>>2]&31](t,48)|0,(t|0)==0)return c=0,bD=n,c|0;if(fD[t+4>>2]=fD[e>>2],fD[t>>2]=18208,uD[t+28>>0]=1,fD[t+24>>2]=0,fD[t+16>>2]=0,fD[t+20>>2]=0,fD[t+32>>2]=fD[e+4>>2],uD[t+36>>0]=0,fD[5004]=(fD[5004]|0)+1,e=Ew(87)|0,(e|0)!=0?(o=e+19&-16,fD[o+-4>>2]=e,(e+19&-16|0)!=0):0){if(fD[(e+19&-16)>>2]=19600,uD[o+20>>0]=1,fD[o+16>>2]=0,fD[o+8>>2]=0,fD[o+12>>2]=0,uD[o+24>>0]=0,uD[o+44>>0]=1,fD[o+40>>2]=0,fD[o+32>>2]=0,fD[o+36>>2]=0,uD[o+64>>0]=1,fD[o+60>>2]=0,fD[o+52>>2]=0,fD[o+56>>2]=0,fD[5004]=(fD[5004]|0)+1,a=Ew(43)|0,(a|0)==0?a=0:(fD[(a+19&-16)+-4>>2]=a,a=a+19&-16),s=fD[o+8>>2]|0,(s|0)>0){l=0;do c=a+(l*12|0)|0,(c|0)!=0&&(h=(fD[o+16>>2]|0)+(l*12|0)|0,fD[c+0>>2]=fD[h+0>>2],fD[c+4>>2]=fD[h+4>>2],fD[c+8>>2]=fD[h+8>>2]),l=l+1|0;while((l|0)!=(s|0))}s=fD[o+16>>2]|0,(s|0)!=0&&((uD[o+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[s+-4>>2]|0)),fD[o+16>>2]=0),uD[o+20>>0]=1,fD[o+16>>2]=a,fD[o+12>>2]=2,ux(e+19&-16),o=e+19&-16}else o=0;return fD[t+8>>2]=o,fD[t+40>>2]=fD[(fD[i+4>>2]|0)+68>>2],fD[t+44>>2]=fD[(fD[r+4>>2]|0)+68>>2],h=t,bD=n,h|0}function jC(t){t|=0}function UC(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function WC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return t=bD,o=fD[e>>2]|0,o=AP[fD[(fD[o>>2]|0)+56>>2]&31](o,44)|0,(o|0)==0?(o=0,bD=t,o|0):(fD[o+4>>2]=fD[e>>2],fD[o>>2]=18040,uD[o+24>>0]=1,fD[o+20>>2]=0,fD[o+12>>2]=0,fD[o+16>>2]=0,uD[o+28>>0]=0,fD[o+32>>2]=fD[e+4>>2],uD[o+36>>0]=0,fD[o+40>>2]=fD[(fD[i+4>>2]|0)+68>>2],ZM(o,i,r),bD=t,o|0)}function XC(t){t|=0}function qC(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function KC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return t=bD,o=fD[e>>2]|0,o=AP[fD[(fD[o>>2]|0)+56>>2]&31](o,80)|0,(o|0)==0?(o=0,bD=t,o|0):(fD[o+4>>2]=fD[e>>2],fD[o>>2]=18432,uD[o+8>>0]=1,e=fD[e>>2]|0,fD[o+12>>2]=18464,fD[o+60>>2]=e,fD[o+64>>2]=0,fD[o+16>>2]=r,fD[o+20>>2]=i,i=gP[fD[(fD[e>>2]|0)+12>>2]&31](e,fD[r+8>>2]|0,fD[i+8>>2]|0)|0,fD[o+76>>2]=i,r=fD[o+60>>2]|0,aP[fD[(fD[r>>2]|0)+20>>2]&127](r,i),bD=t,o|0)}function YC(t){t|=0}function QC(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function ZC(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return t=bD,o=fD[e>>2]|0,o=AP[fD[(fD[o>>2]|0)+56>>2]&31](o,80)|0,(o|0)==0?(o=0,bD=t,o|0):(fD[o+4>>2]=fD[e>>2],fD[o>>2]=18432,uD[o+8>>0]=0,e=fD[e>>2]|0,fD[o+12>>2]=18464,fD[o+60>>2]=e,fD[o+64>>2]=0,fD[o+16>>2]=i,fD[o+20>>2]=r,r=gP[fD[(fD[e>>2]|0)+12>>2]&31](e,fD[i+8>>2]|0,fD[r+8>>2]|0)|0,fD[o+76>>2]=r,i=fD[o+60>>2]|0,aP[fD[(fD[i>>2]|0)+20>>2]&127](i,r),bD=t,o|0)}function $C(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0}function tA(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,1}function eA(t){t|=0}function iA(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function rA(t,e){t|=0,e|=0}function oA(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=13008,i=fD[t+276>>2]|0,(i|0)==0?(uD[t+280>>0]=1,fD[t+276>>2]=0,fD[t+268>>2]=0,fD[t+272>>2]=0):((uD[t+280>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),uD[t+280>>0]=1,fD[t+276>>2]=0,fD[t+268>>2]=0,fD[t+272>>2]=0),fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),bD=e}function nA(t){t|=0;var e=0,i=0;e=bD,fD[t>>2]=13008,i=fD[t+276>>2]|0,(i|0)!=0&&((uD[t+280>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+276>>2]=0),uD[t+280>>0]=1,fD[t+276>>2]=0,fD[t+268>>2]=0,fD[t+272>>2]=0,bD=e}function aA(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0;i=bD,e=fD[e>>2]|0,n=fD[t+268>>2]|0;t:do if((n|0)>0){for(s=fD[t+276>>2]|0,a=0;;){if(o=a+1|0,(fD[s+(a<<2)>>2]|0)==(e|0))break;if(!((o|0)<(n|0)))break t;a=o}if((a|0)!=(n|0))return void(bD=i)}while(0);if((n|0)==(fD[t+272>>2]|0)?(r=(n|0)==0?1:n<<1,(n|0)<(r|0)):0){if((r|0)==0?o=0:(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),n=fD[t+268>>2]|0),(n|0)>0){s=0;do a=o+(s<<2)|0,(a|0)!=0&&(fD[a>>2]=fD[(fD[t+276>>2]|0)+(s<<2)>>2]),s=s+1|0;while((s|0)!=(n|0))}a=fD[t+276>>2]|0,(a|0)!=0&&((uD[t+280>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0),n=fD[t+268>>2]|0),fD[t+276>>2]=0),uD[t+280>>0]=1,fD[t+276>>2]=o,fD[t+272>>2]=r}r=(fD[t+276>>2]|0)+(n<<2)|0,(r|0)!=0&&(fD[r>>2]=e),fD[t+268>>2]=n+1,bD=i}function sA(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0;if(r=bD,e=fD[e>>2]|0,a=fD[t+268>>2]|0,(a|0)<=0)return void(bD=r);for(l=fD[t+276>>2]|0,s=0;;){if(n=l+(s<<2)|0,i=s+1|0,(fD[n>>2]|0)==(e|0))break;if(!((i|0)<(a|0))){o=7;break}s=i}return(o|0)==7?void(bD=r):(s|0)>=(a|0)?void(bD=r):(fD[n>>2]=fD[l+(a+-1<<2)>>2],fD[t+268>>2]=a+-1,void(bD=r))}function lA(t){t|=0;var e=0;return e=bD,cA(t),(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function cA(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=13056,i=fD[t+284>>2]|0,oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+284>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t>>2]=13008,i=fD[t+276>>2]|0,(i|0)==0?(uD[t+280>>0]=1,fD[t+276>>2]=0,fD[t+268>>2]=0,i=t+272|0,fD[i>>2]=0,void(bD=e)):((uD[t+280>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+276>>2]=0,uD[t+280>>0]=1,fD[t+276>>2]=0,fD[t+268>>2]=0,i=t+272|0,fD[i>>2]=0,void(bD=e))}function hA(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;r=bD,(i|0)==0&&(i=fD[t+188>>2]|0),o=fD[e>>2]|0,s=fD[t+268>>2]|0;t:do if((s|0)>0){for(c=fD[t+276>>2]|0,a=0;;){if(l=a+1|0,(fD[c+(a<<2)>>2]|0)==(o|0))break;if(!((l|0)<(s|0)))break t;a=l}if((a|0)!=(s|0))return void(bD=r)}while(0);if((s|0)==(fD[t+272>>2]|0)?(n=(s|0)==0?1:s<<1,(s|0)<(n|0)):0){if((n|0)==0?a=0:(fD[5004]=(fD[5004]|0)+1,a=Ew((n<<2|3)+16|0)|0,(a|0)==0?a=0:(fD[(a+19&-16)+-4>>2]=a,a=a+19&-16),s=fD[t+268>>2]|0),(s|0)>0){c=0;do l=a+(c<<2)|0,(l|0)!=0&&(fD[l>>2]=fD[(fD[t+276>>2]|0)+(c<<2)>>2]),c=c+1|0;while((c|0)!=(s|0))}l=fD[t+276>>2]|0,(l|0)!=0&&((uD[t+280>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[l+-4>>2]|0),s=fD[t+268>>2]|0),fD[t+276>>2]=0),uD[t+280>>0]=1,fD[t+276>>2]=a,fD[t+272>>2]=n}n=(fD[t+276>>2]|0)+(s<<2)|0,(n|0)!=0&&(fD[n>>2]=o),fD[t+268>>2]=s+1,c=fD[t+284>>2]|0,gP[fD[(fD[c>>2]|0)+8>>2]&31](c,i,e)|0,bD=r}function dA(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0;if(a=bD,o=fD[e>>2]|0,(r|0)==0&&(r=fD[t+188>>2]|0),l=fD[t+268>>2]|0,(l|0)<=0)return void(bD=a);for(c=fD[t+276>>2]|0,h=0;;){if(d=c+(h<<2)|0,s=h+1|0,(fD[d>>2]|0)==(o|0))break;if(!((s|0)<(l|0))){n=9;break}h=s}return(n|0)==9?void(bD=a):(h|0)>=(l|0)?void(bD=a):(fD[d>>2]=fD[c+(l+-1<<2)>>2],fD[t+268>>2]=l+-1,d=fD[t+284>>2]|0,uP[fD[(fD[d>>2]|0)+12>>2]&31](d,r,e,i)|0,void(bD=a))}function uA(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n;var a=0,s=0,l=0,c=0,h=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0;if(S=bD,bD=bD+320|0,fD[S+176>>2]=fD[i+0>>2],fD[S+180>>2]=fD[i+4>>2],fD[S+184>>2]=fD[i+8>>2],fD[S+188>>2]=fD[i+12>>2],fD[S+192>>2]=fD[i+16>>2],fD[S+196>>2]=fD[i+20>>2],fD[S+200>>2]=fD[i+24>>2],fD[S+204>>2]=fD[i+28>>2],fD[S+208>>2]=fD[i+32>>2],fD[S+212>>2]=fD[i+36>>2],fD[S+216>>2]=fD[i+40>>2],fD[S+220>>2]=fD[i+44>>2],fD[S+224>>2]=fD[i+48>>2],fD[S+228>>2]=fD[i+52>>2],fD[S+232>>2]=fD[i+56>>2],fD[S+236>>2]=fD[i+60>>2],fD[S+112>>2]=fD[r+0>>2],fD[S+116>>2]=fD[r+4>>2],fD[S+120>>2]=fD[r+8>>2],fD[S+124>>2]=fD[r+12>>2],fD[S+128>>2]=fD[r+16>>2],fD[S+132>>2]=fD[r+20>>2],fD[S+136>>2]=fD[r+24>>2],fD[S+140>>2]=fD[r+28>>2],fD[S+144>>2]=fD[r+32>>2],fD[S+148>>2]=fD[r+36>>2],fD[S+152>>2]=fD[r+40>>2],fD[S+156>>2]=fD[r+44>>2],fD[S+160>>2]=fD[r+48>>2],fD[S+164>>2]=fD[r+52>>2],fD[S+168>>2]=fD[r+56>>2],fD[S+172>>2]=fD[r+60>>2],P=+gD[S+164>>2]-+gD[S+228>>2],H=+gD[S+168>>2]-+gD[S+232>>2],gD[S+64>>2]=+gD[S+160>>2]-+gD[S+224>>2],gD[S+68>>2]=P,gD[S+72>>2]=H,gD[S+76>>2]=0,ou(S+176|0,S+112|0,S+248|0,S+240|0),H=+gD[S+240>>2],P=H*+gD[S+252>>2],R=H*+gD[S+256>>2],gD[S+48>>2]=+gD[S+248>>2]*H,gD[S+52>>2]=P,gD[S+56>>2]=R,gD[S+60>>2]=0,gD[S+248>>2]=1,A=S+252|0,fD[A+0>>2]=0,fD[A+4>>2]=0,fD[A+8>>2]=0,fD[A+12>>2]=0,gD[S+268>>2]=1,w=S+272|0,fD[w+0>>2]=0,fD[w+4>>2]=0,fD[w+8>>2]=0,fD[w+12>>2]=0,gD[S+288>>2]=1,V=S+292|0,fD[V+0>>2]=0,fD[V+4>>2]=0,fD[V+8>>2]=0,fD[V+12>>2]=0,fD[V+16>>2]=0,u(S+176|0,S+32|0),R=+gD[S+32>>2],P=+gD[S+36>>2],H=+gD[S+40>>2],L=+gD[S+44>>2],D=R*(2/(R*R+P*P+H*H+L*L)),B=P*(2/(R*R+P*P+H*H+L*L)),k=H*(2/(R*R+P*P+H*H+L*L)),gD[S+248>>2]=1-(P*B+H*k),gD[A>>2]=R*B-L*k,gD[S+256>>2]=R*k+L*B,gD[S+260>>2]=0,gD[S+264>>2]=R*B+L*k,gD[S+268>>2]=1-(R*D+H*k),gD[w>>2]=P*k-L*D,gD[S+276>>2]=0,gD[S+280>>2]=R*k-L*B,gD[S+284>>2]=P*k+L*D,gD[S+288>>2]=1-(R*D+P*B),gD[V>>2]=0,m_(e,S+248|0,S+64|0,S+48|0,S+96|0,S+80|0),(fD[t+268>>2]|0)<=0)return void(bD=S);E=0;do{if(C=fD[(fD[t+276>>2]|0)+(E<<2)>>2]|0,AP[fD[(fD[o>>2]|0)+8>>2]&31](o,fD[C+188>>2]|0)|0?(m=fD[C+192>>2]|0,GP[fD[(fD[m>>2]|0)+8>>2]&127](m,C+4|0,S+16|0,S),x=+gD[S+16>>2]+ +gD[S+96>>2],b=+gD[S+20>>2]+ +gD[S+100>>2],p=+gD[S+24>>2]+ +gD[S+104>>2],gD[S+16>>2]=x,gD[S+20>>2]=b,gD[S+24>>2]=p,gD[S+28>>2]=0,a=+gD[S>>2]+ +gD[S+80>>2],y=+gD[S+4>>2]+ +gD[S+84>>2],d=+gD[S+8>>2]+ +gD[S+88>>2],gD[S>>2]=a,gD[S+4>>2]=y,gD[S+8>>2]=d,gD[S+12>>2]=0,M=+gD[i+48>>2]-(a+x)*.5,g=+gD[i+52>>2]-(y+b)*.5,h=+gD[i+56>>2]-(d+p)*.5,T=+gD[r+48>>2]-(a+x)*.5,v=+gD[r+52>>2]-(y+b)*.5,f=+gD[r+56>>2]-(d+p)*.5,m=M<-((a-x)*.5)|(M>(a-x)*.5?8:0)|(g>(y-b)*.5?16:0)|(g<-((y-b)*.5)?2:0)|(h>(d-p)*.5?32:0)|(h<-((d-p)*.5)?4:0),_=T<-((a-x)*.5)|(T>(a-x)*.5?8:0)|(v>(y-b)*.5?16:0)|(v<-((y-b)*.5)?2:0)|(f>(d-p)*.5?32:0)|(f<-((d-p)*.5)?4:0),(m&_|0)==0):0){for(D=1,A=1,w=0,P=0,R=1;;){if((A&m|0)==0?((A&_|0)!=0?(c=(-M-R*(a-x)*.5)/(T-M),c<D):0)&&(D=c):(B=(-M-R*(a-x)*.5)/(T-M),P<=B&&(P=B)),V=A<<1,(V&m|0)==0?((V&_|0)!=0?(l=(-g-R*(y-b)*.5)/(v-g),l<D):0)&&(D=l):(B=(-g-R*(y-b)*.5)/(v-g),P<=B&&(P=B)),V=A<<2,(V&m|0)==0?((V&_|0)!=0?(s=(-h-R*(d-p)*.5)/(f-h),s<D):0)&&(D=s):(R=(-h-R*(d-p)*.5)/(f-h),P<=R&&(P=R)),w=w+1|0,(w|0)==2)break;A<<=3,R=-1}P<=D&&(V=fD[C+192>>2]|0,fD[S+248>>2]=0,fD[S+252>>2]=V,fD[S+256>>2]=C,fD[S+260>>2]=C+4,fD[S+264>>2]=-1,fD[S+268>>2]=-1,D_(e,S+176|0,S+112|0,S+248|0,o,n))}E=E+1|0}while((E|0)<(fD[t+268>>2]|0));bD=S}function pA(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0;if(a=bD,bD=bD+288|0,m=fD[t+4>>2]|0,uD[m+312>>0]=0,fD[m>>2]=0,uD[m+356>>0]=1,gD[m+292>>2]=0xde0b6b000000000,gD[m+296>>2]=0xde0b6b000000000,gD[m+300>>2]=0xde0b6b000000000,gD[m+304>>2]=0,fD[m+336>>2]=0,fD[m+340>>2]=0,fD[m+344>>2]=0,fD[m+348>>2]=0,uD[m+352>>0]=0,uD[m+332>>0]=uD[m+332>>0]&-16,c=+gD[i+48>>2]-+gD[e+48>>2]-(+gD[o+48>>2]-+gD[r+48>>2]),l=+gD[i+52>>2]-+gD[e+52>>2]-(+gD[o+52>>2]-+gD[r+52>>2]),s=+gD[i+56>>2]-+gD[e+56>>2]-(+gD[o+56>>2]-+gD[r+56>>2]),fD[a+216>>2]=10224,gD[a+252>>2]=0xde0b6b000000000,uD[a+256>>0]=0,m=fD[t+8>>2]|0,_=fD[t+12>>2]|0,t=fD[t+4>>2]|0,fD[a+136>>2]=13392,gD[a+140>>2]=0,gD[a+144>>2]=1,gD[a+148>>2]=0,gD[a+152>>2]=0,fD[a+156>>2]=0,fD[a+160>>2]=t,fD[a+164>>2]=m,fD[a+168>>2]=_,fD[a+172>>2]=fD[m+4>>2],fD[a+176>>2]=fD[_+4>>2],gD[a+180>>2]=+vP[fD[(fD[m>>2]|0)+48>>2]&15](m),gD[a+184>>2]=+vP[fD[(fD[_>>2]|0)+48>>2]&15](_),uD[a+188>>0]=0,fD[a+196>>2]=-1,fD[a+208>>2]=1,fD[a+212>>2]=1,gD[a+128>>2]=0xde0b6b000000000,fD[a+0>>2]=fD[e+0>>2],fD[a+4>>2]=fD[e+4>>2],fD[a+8>>2]=fD[e+8>>2],fD[a+12>>2]=fD[e+12>>2],fD[a+16>>2]=fD[e+16>>2],fD[a+20>>2]=fD[e+20>>2],fD[a+24>>2]=fD[e+24>>2],fD[a+28>>2]=fD[e+28>>2],fD[a+32>>2]=fD[e+32>>2],fD[a+36>>2]=fD[e+36>>2],fD[a+40>>2]=fD[e+40>>2],fD[a+44>>2]=fD[e+44>>2],fD[a+48>>2]=fD[e+48>>2],fD[a+52>>2]=fD[e+52>>2],fD[a+56>>2]=fD[e+56>>2],fD[a+60>>2]=fD[e+60>>2],fD[a+64>>2]=fD[r+0>>2],fD[a+68>>2]=fD[r+4>>2],fD[a+72>>2]=fD[r+8>>2],fD[a+76>>2]=fD[r+12>>2],fD[a+80>>2]=fD[r+16>>2],fD[a+84>>2]=fD[r+20>>2],fD[a+88>>2]=fD[r+24>>2],fD[a+92>>2]=fD[r+28>>2],fD[a+96>>2]=fD[r+32>>2],fD[a+100>>2]=fD[r+36>>2],fD[a+104>>2]=fD[r+40>>2],fD[a+108>>2]=fD[r+44>>2],fD[a+112>>2]=fD[r+48>>2],fD[a+116>>2]=fD[r+52>>2],fD[a+120>>2]=fD[r+56>>2],fD[a+124>>2]=fD[r+60>>2],gA(a+136|0,a,a+216|0,0,0),_=(uD[a+256>>0]|0)==0,t=a+236|0,fD[a+264>>2]=fD[t+0>>2],fD[a+268>>2]=fD[t+4>>2],fD[a+272>>2]=fD[t+8>>2],fD[a+276>>2]=fD[t+12>>2],_)return m=0,bD=a,m|0;u=+gD[a+252>>2],h=+gD[a+220>>2],d=+gD[a+224>>2],p=+gD[a+228>>2],f=+gD[a+232>>2];do if(u>.0010000000474974513){for(f=u,u=0,_=1;;){if((_|0)>32){n=0,i=13;break}if(g=u,u-=f/(s*p+(l*d+c*h)),!(!(u<0)&!(u>1)&!(u<=g))){n=0,i=13;break}if(rP[fD[fD[n>>2]>>2]&31](n,u),g=1-u,gD[a+48>>2]=g*+gD[e+48>>2]+u*+gD[i+48>>2],gD[a+52>>2]=g*+gD[e+52>>2]+u*+gD[i+52>>2],gD[a+56>>2]=g*+gD[e+56>>2]+u*+gD[i+56>>2],gD[a+112>>2]=g*+gD[r+48>>2]+u*+gD[o+48>>2],gD[a+116>>2]=g*+gD[r+52>>2]+u*+gD[o+52>>2],gD[a+120>>2]=g*+gD[r+56>>2]+u*+gD[o+56>>2],gA(a+136|0,a,a+216|0,0,0),(uD[a+256>>0]|0)==0){n=0,i=13;break}if(f=+gD[a+252>>2],f<0){i=8;break}if(fD[a+264>>2]=fD[t+0>>2],fD[a+268>>2]=fD[t+4>>2],fD[a+272>>2]=fD[t+8>>2],fD[a+276>>2]=fD[t+12>>2],h=+gD[a+220>>2],d=+gD[a+224>>2],p=+gD[a+228>>2],!(f>.0010000000474974513)){i=10;break}_=_+1|0}if((i|0)==8)return gD[n+164>>2]=u,p=+gD[a+224>>2],f=+gD[a+228>>2],g=+gD[a+232>>2],gD[n+132>>2]=+gD[a+220>>2],gD[n+136>>2]=p,gD[n+140>>2]=f,gD[n+144>>2]=g,fD[n+148>>2]=fD[t+0>>2],fD[n+152>>2]=fD[t+4>>2],fD[n+156>>2]=fD[t+8>>2],fD[n+160>>2]=fD[t+12>>2],m=1,bD=a,m|0;if((i|0)==10){f=+gD[a+232>>2];break}if((i|0)==13)return bD=a,n|0}else u=0;while(0);return s*p+(l*d+c*h)>=-+gD[n+172>>2]?(m=0,bD=a,m|0):(gD[n+164>>2]=u,gD[n+132>>2]=h,gD[n+136>>2]=d,gD[n+140>>2]=p,gD[n+144>>2]=f,fD[n+148>>2]=fD[a+264>>2],fD[n+152>>2]=fD[a+268>>2],fD[n+156>>2]=fD[a+272>>2],fD[n+160>>2]=fD[a+276>>2],m=1,bD=a,m|0)}function fA(t){t|=0}function _A(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function mA(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0;var h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0,J=0,N=0,F=0,G=0,z=0,j=0;t=bD,bD=bD+10240|0,N=+gD[n+52>>2]-+gD[o+52>>2],w=+gD[n+56>>2]-+gD[o+56>>2],gD[t>>2]=+gD[n+48>>2]-+gD[o+48>>2],gD[t+4>>2]=N,gD[t+8>>2]=w,gD[t+12>>2]=0,fD[t+10088>>2]=i,fD[t+10092>>2]=r,w=+gD[n>>2],N=+gD[o>>2],A=+gD[n+16>>2],b=+gD[o+16>>2],S=+gD[n+32>>2],F=+gD[o+32>>2],B=+gD[o+4>>2],G=+gD[o+20>>2],V=+gD[o+36>>2],m=+gD[o+8>>2],P=+gD[o+24>>2],R=+gD[o+40>>2],J=+gD[n+4>>2],O=+gD[n+20>>2],I=+gD[n+36>>2],H=+gD[n+8>>2],k=+gD[n+24>>2],L=+gD[n+40>>2],gD[t+10096>>2]=w*N+A*b+S*F,gD[t+10100>>2]=w*B+A*G+S*V,gD[t+10104>>2]=w*m+A*P+S*R,gD[t+10108>>2]=0,gD[t+10112>>2]=N*J+b*O+F*I,gD[t+10116>>2]=B*J+G*O+V*I,gD[t+10120>>2]=m*J+P*O+R*I,gD[t+10124>>2]=0,gD[t+10128>>2]=N*H+b*k+F*L,gD[t+10132>>2]=B*H+G*k+V*L,gD[t+10136>>2]=m*H+P*k+R*L,gD[t+10140>>2]=0,R=+gD[n+48>>2]-+gD[o+48>>2],P=+gD[n+52>>2]-+gD[o+52>>2],m=+gD[n+56>>2]-+gD[o+56>>2],V=+gD[o>>2],G=+gD[n>>2],B=+gD[o+16>>2],F=+gD[n+16>>2],b=+gD[o+32>>2],N=+gD[n+32>>2],S=+gD[o+4>>2],A=+gD[o+20>>2],w=+gD[o+36>>2],D=+gD[o+8>>2],g=+gD[o+24>>2],_=+gD[o+40>>2],gD[t+10144>>2]=V*G+B*F+b*N,gD[t+10148>>2]=V*J+B*O+b*I,gD[t+10152>>2]=V*H+B*k+b*L,gD[t+10156>>2]=0,gD[t+10160>>2]=G*S+F*A+N*w,gD[t+10164>>2]=J*S+O*A+I*w,gD[t+10168>>2]=H*S+k*A+L*w,gD[t+10172>>2]=0,gD[t+10176>>2]=G*D+F*g+N*_,gD[t+10180>>2]=J*D+O*g+I*_,gD[t+10184>>2]=H*D+k*g+L*_,gD[t+10188>>2]=0,gD[t+10192>>2]=R*V+P*B+m*b,gD[t+10196>>2]=R*S+P*A+m*w,gD[t+10200>>2]=R*D+P*g+m*_,gD[t+10204>>2]=0,fD[t+10208>>2]=70,fD[t+10212>>2]=0,fD[t+10072>>2]=0,fD[t+9836>>2]=0,fD[t+9840>>2]=0,fD[t+9844>>2]=0,fD[t+9848>>2]=0,fD[t+10084>>2]=2,fD[t+10076>>2]=0,gD[t+9852>>2]=0,_=+gD[t>>2],m=+gD[t+4>>2],g=+gD[t+8>>2],gD[t+9328>>2]=-_,gD[t+9332>>2]=-m,gD[t+9336>>2]=-g,gD[t+9340>>2]=0;do if((ox(t+9708|0,t+10088|0,t+9328|0)|0)==1){e=t+9296|0,u=t+9304|0,d=t+9308|0,fD[e+0>>2]=0,fD[e+4>>2]=0,fD[e+8>>2]=0,fD[e+12>>2]=0,fD[t+16>>2]=9,c=t+56|0,fD[t+9292>>2]=0,fD[c+0>>2]=0,fD[c+4>>2]=0,fD[c+8>>2]=0,fD[c+12>>2]=0,fD[c+16>>2]=0,p=0;do f=128-p+-1|0,fD[t+16+(f*56|0)+2152>>2]=0,y=fD[u>>2]|0,fD[t+16+(f*56|0)+2156>>2]=y,(y|0)!=0&&(fD[y+44>>2]=t+16+(f*56|0)+2108),fD[u>>2]=t+16+(f*56|0)+2108,fD[d>>2]=(fD[d>>2]|0)+1,p=p+1|0;while((p|0)!=128);if(p=fD[t+10080>>2]|0,(fD[p+32>>2]|0)>>>0>1?nx(t+9708|0)|0:0){if(f=fD[e>>2]|0,(f|0)!=0){v=fD[t+9300>>2]|0,y=fD[d>>2]|0;do x=f+48|0,T=fD[x>>2]|0,M=f+44|0,(T|0)!=0&&(fD[T+44>>2]=fD[M>>2]),T=fD[M>>2]|0,(T|0)!=0&&(fD[T+48>>2]=fD[x>>2]),(fD[e>>2]|0)==(f|0)&&(fD[e>>2]=fD[x>>2]),v=v+-1|0,fD[M>>2]=0,fD[x>>2]=fD[u>>2],M=fD[u>>2]|0,(M|0)!=0&&(fD[M+44>>2]=f),fD[u>>2]=f,y=y+1|0,f=fD[e>>2]|0;while((f|0)!=0);fD[t+9300>>2]=v,fD[d>>2]=y}if(fD[t+16>>2]=0,fD[t+9292>>2]=0,v=fD[p>>2]|0,M=fD[p+12>>2]|0,G=+gD[M+16>>2],L=+gD[v+16>>2]-G,H=+gD[M+20>>2],I=+gD[v+20>>2]-H,J=+gD[M+24>>2],N=+gD[v+24>>2]-J,M=fD[p+4>>2]|0,O=+gD[M+16>>2]-G,F=+gD[M+20>>2]-H,k=+gD[M+24>>2]-J,y=fD[p+8>>2]|0,G=+gD[y+16>>2]-G,H=+gD[y+20>>2]-H,J=+gD[y+24>>2]-J,L*F*J+(I*k*G+N*O*H-L*k*H-I*O*J)-N*F*G<0?(fD[p>>2]=M,fD[p+4>>2]=v,G=+gD[p+16>>2],gD[p+16>>2]=+gD[p+20>>2],gD[p+20>>2]=G,f=M):(f=v,v=M),f=ax(t+16|0,f,v,y,1)|0,y=ax(t+16|0,fD[p+4>>2]|0,fD[p>>2]|0,fD[p+12>>2]|0,1)|0,v=ax(t+16|0,fD[p+8>>2]|0,fD[p+4>>2]|0,fD[p+12>>2]|0,1)|0,M=ax(t+16|0,fD[p>>2]|0,fD[p+8>>2]|0,fD[p+12>>2]|0,1)|0,(fD[t+9300>>2]|0)==4){if(x=fD[e>>2]|0,S=+gD[x+16>>2],p=fD[x+48>>2]|0,(p|0)!=0){for(_=S*S;;){if(m=+gD[p+16>>2],T=m*m<_,x=T?p:x,p=fD[p+48>>2]|0,(p|0)==0)break;_=T?m*m:_}S=+gD[x+16>>2]}for(b=+gD[x>>2],g=+gD[x+4>>2],_=+gD[x+8>>2],m=+gD[x+12>>2],E=fD[x+20>>2]|0,C=fD[x+24>>2]|0,p=fD[x+28>>2]|0,uD[f+52>>0]=0,fD[f+32>>2]=y,uD[y+52>>0]=0,fD[y+32>>2]=f,uD[f+53>>0]=0,fD[f+36>>2]=v,uD[v+52>>0]=1,fD[v+32>>2]=f,uD[f+54>>0]=0,fD[f+40>>2]=M,uD[M+52>>0]=2,fD[M+32>>2]=f,uD[y+53>>0]=2,fD[y+36>>2]=M,uD[M+54>>0]=1,fD[M+40>>2]=y,uD[y+54>>0]=1,fD[y+40>>2]=v,uD[v+53>>0]=2,fD[v+36>>2]=y,uD[v+54>>0]=1,fD[v+40>>2]=M,uD[M+53>>0]=2,fD[M+36>>2]=v,fD[t+16>>2]=0,M=E,v=C,y=p,f=0,p=1;;){if(T=fD[t+9292>>2]|0,!(T>>>0<64)){h=48;break}if(fD[t+10216>>2]=0,fD[t+10220>>2]=0,fD[t+10224>>2]=0,fD[t+9292>>2]=T+1,uD[x+55>>0]=p,E=x+4|0,C=x+8|0,sx(t+9708|0,+gD[x>>2],+gD[E>>2],+gD[C>>2],t+16+(T<<5)+60|0),!(+gD[x>>2]*+gD[t+16+(T<<5)+76>>2]+ +gD[E>>2]*+gD[t+16+(T<<5)+80>>2]+ +gD[C>>2]*+gD[t+16+(T<<5)+84>>2]-+gD[x+16>>2]>9999999747378752e-20)){h=47;break}E=0,C=1;do C&=lx(t+16|0,p,t+16+(T<<5)+60|0,fD[x+(E<<2)+32>>2]|0,_D[x+E+52>>0]|0,t+10216|0)|0,E=E+1|0;while(!(E>>>0>2|C^1));if(!C){h=46;break}if(!((fD[t+10224>>2]|0)>>>0>2)){h=46;break}if(M=fD[t+10216>>2]|0,v=fD[t+10220>>2]|0,uD[M+53>>0]=2,fD[M+36>>2]=v,uD[v+54>>0]=1,fD[v+40>>2]=M,v=x+48|0,M=fD[v>>2]|0,y=x+44|0,(M|0)!=0&&(fD[M+44>>2]=fD[y>>2]),M=fD[y>>2]|0,(M|0)!=0&&(fD[M+48>>2]=fD[v>>2]),(fD[e>>2]|0)==(x|0)&&(fD[e>>2]=fD[v>>2]),fD[t+9300>>2]=(fD[t+9300>>2]|0)+-1,fD[y>>2]=0,fD[v>>2]=fD[u>>2],y=fD[u>>2]|0,(y|0)!=0&&(fD[y+44>>2]=x),fD[u>>2]=x,fD[d>>2]=(fD[d>>2]|0)+1,x=fD[e>>2]|0,S=+gD[x+16>>2],y=fD[x+48>>2]|0,(y|0)!=0){for(_=S*S;;){if(m=+gD[y+16>>2],v=m*m<_,x=v?y:x,y=fD[y+48>>2]|0,(y|0)==0)break;_=v?m*m:_}S=+gD[x+16>>2]}if(b=+gD[x>>2],g=+gD[x+4>>2],_=+gD[x+8>>2],m=+gD[x+12>>2],M=fD[x+20>>2]|0,v=fD[x+24>>2]|0,y=fD[x+28>>2]|0,f=f+1|0,!(f>>>0<255))break;p=p+1|0}if((h|0)==46?fD[t+16>>2]=4:(h|0)==47?fD[t+16>>2]=7:(h|0)==48&&(fD[t+16>>2]=6),O=S*b,H=S*g,N=S*_,gD[c>>2]=b,gD[t+60>>2]=g,gD[t+64>>2]=_,gD[t+68>>2]=m,gD[t+72>>2]=S,fD[t+52>>2]=3,fD[t+20>>2]=M,fD[t+24>>2]=v,fD[t+28>>2]=y,T=v+16|0,J=+gD[T>>2]-O,E=v+20|0,L=+gD[E>>2]-H,C=v+24|0,I=+gD[C>>2]-N,x=y+16|0,V=+gD[x>>2]-O,v=y+20|0,k=+gD[v>>2]-H,y=y+24|0,F=+gD[y>>2]-N,F=+CD(+((J*k-L*V)*(J*k-L*V)+((L*F-I*k)*(L*F-I*k)+(I*V-J*F)*(I*V-J*F)))),gD[t+36>>2]=F,J=+gD[x>>2]-O,V=+gD[v>>2]-H,I=+gD[y>>2]-N,y=M+16|0,k=+gD[y>>2]-O,v=M+20|0,L=+gD[v>>2]-H,x=M+24|0,G=+gD[x>>2]-N,G=+CD(+((J*L-V*k)*(J*L-V*k)+((V*G-I*L)*(V*G-I*L)+(I*k-J*G)*(I*k-J*G)))),gD[t+40>>2]=G,J=+gD[y>>2]-O,k=+gD[v>>2]-H,I=+gD[x>>2]-N,O=+gD[T>>2]-O,H=+gD[E>>2]-H,N=+gD[C>>2]-N,N=+CD(+((J*H-k*O)*(J*H-k*O)+((k*N-I*H)*(k*N-I*H)+(I*O-J*N)*(I*O-J*N)))),gD[t+36>>2]=F/(N+(F+G)),gD[t+40>>2]=G/(N+(F+G)),gD[t+44>>2]=N/(N+(F+G)),(fD[t+16>>2]|0)==9){c=0,_=0,m=0,g=0,S=0,w=0,R=0,D=0,A=0,b=0;
break}(fD[t+52>>2]|0)==0?(b=0,S=0,g=0):(e=t+52|0,h=54)}else h=49}else h=49;if((h|0)==49&&(fD[t+16>>2]=8,gD[c>>2]=_,gD[t+60>>2]=m,gD[t+64>>2]=g,gD[t+68>>2]=0,b=+CD(+(_*_+m*m+g*g)),b>0?(g=1/b*g,m=1/b*m,_=1/b*_):(g=0,m=0,_=1),gD[c>>2]=_,gD[t+60>>2]=m,gD[t+64>>2]=g,gD[t+68>>2]=0,gD[t+72>>2]=0,fD[t+52>>2]=1,fD[t+20>>2]=fD[p>>2],gD[t+36>>2]=1,e=t+52|0,h=54),(h|0)==54){g=0,_=0,m=0,h=0;do u=fD[t+10208>>2]|0,C=fD[t+10212>>2]|0,d=(fD[t+10088>>2]|0)+(C>>1)|0,(C&1|0)!=0&&(u=fD[(fD[d>>2]|0)+u>>2]|0),OP[u&127](t+9312|0,d,fD[t+16+(h<<2)+4>>2]|0),G=+gD[t+16+(h<<2)+20>>2],g+=+gD[t+9312>>2]*G,_+=G*+gD[t+9316>>2],m+=G*+gD[t+9320>>2],h=h+1|0;while(h>>>0<(fD[e>>2]|0)>>>0);b=m,S=_}j=+gD[o>>2],z=+gD[o+4>>2],P=+gD[o+8>>2],V=+gD[o+16>>2],L=+gD[o+20>>2],k=+gD[o+24>>2],I=+gD[o+32>>2],J=+gD[o+36>>2],F=+gD[o+40>>2],B=+gD[o+48>>2],w=+gD[o+52>>2],R=+gD[o+56>>2],D=+gD[c>>2],N=+gD[t+72>>2],A=+gD[t+60>>2],G=+gD[t+64>>2],H=g-D*N,O=S-N*A,N=b-N*G,c=1,_=g*j+S*z+b*P+B,m=g*V+S*L+b*k+w,g=g*I+S*J+b*F+R,S=H*j+O*z+N*P+B,w=H*V+O*L+N*k+w,R=H*I+O*J+N*F+R,D=-D,A=-A,b=-G}else c=0,_=0,m=0,g=0,S=0,w=0,R=0,D=0,A=0,b=0;while(0);if(c)return gD[s>>2]=_,gD[s+4>>2]=m,gD[s+8>>2]=g,gD[s+12>>2]=0,gD[l>>2]=S,gD[l+4>>2]=w,gD[l+8>>2]=R,gD[l+12>>2]=0,gD[a>>2]=D,gD[a+4>>2]=A,gD[a+8>>2]=b,gD[a+12>>2]=0,C=1,bD=t,C|0;if(fD[t+9708>>2]=i,fD[t+9712>>2]=r,g=+gD[n>>2],V=+gD[o>>2],b=+gD[n+16>>2],L=+gD[o+16>>2],S=+gD[n+32>>2],k=+gD[o+32>>2],H=+gD[o+4>>2],I=+gD[o+20>>2],O=+gD[o+36>>2],N=+gD[o+8>>2],G=+gD[o+24>>2],j=+gD[o+40>>2],A=+gD[n+4>>2],w=+gD[n+20>>2],R=+gD[n+36>>2],D=+gD[n+8>>2],P=+gD[n+24>>2],B=+gD[n+40>>2],gD[t+9716>>2]=g*V+b*L+S*k,gD[t+9720>>2]=g*H+b*I+S*O,gD[t+9724>>2]=g*N+b*G+S*j,gD[t+9728>>2]=0,gD[t+9732>>2]=V*A+L*w+k*R,gD[t+9736>>2]=H*A+I*w+O*R,gD[t+9740>>2]=N*A+G*w+j*R,gD[t+9744>>2]=0,gD[t+9748>>2]=V*D+L*P+k*B,gD[t+9752>>2]=H*D+I*P+O*B,gD[t+9756>>2]=N*D+G*P+j*B,gD[t+9760>>2]=0,J=+gD[n+48>>2]-+gD[o+48>>2],F=+gD[n+52>>2]-+gD[o+52>>2],z=+gD[n+56>>2]-+gD[o+56>>2],gD[t+9764>>2]=g*V+b*L+S*k,gD[t+9768>>2]=V*A+L*w+k*R,gD[t+9772>>2]=V*D+L*P+k*B,gD[t+9776>>2]=0,gD[t+9780>>2]=g*H+b*I+S*O,gD[t+9784>>2]=H*A+I*w+O*R,gD[t+9788>>2]=H*D+I*P+O*B,gD[t+9792>>2]=0,gD[t+9796>>2]=g*N+b*G+S*j,gD[t+9800>>2]=N*A+G*w+j*R,gD[t+9804>>2]=N*D+G*P+j*B,gD[t+9808>>2]=0,gD[t+9812>>2]=J*V+F*L+z*k,gD[t+9816>>2]=J*H+F*I+z*O,gD[t+9820>>2]=J*N+F*G+z*j,gD[t+9824>>2]=0,fD[t+9828>>2]=71,fD[t+9832>>2]=0,fD[t+9692>>2]=0,fD[t+9456>>2]=0,fD[t+9460>>2]=0,fD[t+9464>>2]=0,fD[t+9468>>2]=0,fD[t+9704>>2]=2,fD[t+9696>>2]=0,gD[t+9472>>2]=0,(ox(t+9328|0,t+9708|0,t)|0)!=0)return C=0,bD=t,C|0;if(n=fD[t+9700>>2]|0,(fD[n+32>>2]|0)==0)w=0,A=0,S=0,_=0,m=0,b=0;else{S=0,A=0,w=0,b=0,m=0,_=0,i=0;do g=+gD[n+(i<<2)+16>>2],c=fD[t+9828>>2]|0,C=fD[t+9832>>2]|0,r=(fD[t+9708>>2]|0)+(C>>1)|0,(C&1|0)!=0&&(c=fD[(fD[r>>2]|0)+c>>2]|0),OP[c&127](t+9312|0,r,fD[n+(i<<2)>>2]|0),S+=g*+gD[t+9312>>2],A+=g*+gD[t+9316>>2],w+=g*+gD[t+9320>>2],r=fD[(fD[t+9700>>2]|0)+(i<<2)>>2]|0,R=-+gD[r>>2],D=-+gD[r+4>>2],P=-+gD[r+8>>2],r=fD[t+9828>>2]|0,C=fD[t+9832>>2]|0,n=(fD[t+9712>>2]|0)+(C>>1)|0,(C&1|0)!=0&&(r=fD[(fD[n>>2]|0)+r>>2]|0),z=+gD[t+9732>>2]*R+ +gD[t+9736>>2]*D+ +gD[t+9740>>2]*P,G=+gD[t+9748>>2]*R+ +gD[t+9752>>2]*D+ +gD[t+9756>>2]*P,gD[t+10088>>2]=+gD[t+9716>>2]*R+ +gD[t+9720>>2]*D+ +gD[t+9724>>2]*P,gD[t+10092>>2]=z,gD[t+10096>>2]=G,gD[t+10100>>2]=0,OP[r&127](t+10216|0,n,t+10088|0),G=+gD[t+10216>>2],z=+gD[t+10220>>2],j=+gD[t+10224>>2],b+=g*(G*+gD[t+9764>>2]+z*+gD[t+9768>>2]+j*+gD[t+9772>>2]+ +gD[t+9812>>2]),m+=g*(G*+gD[t+9780>>2]+z*+gD[t+9784>>2]+j*+gD[t+9788>>2]+ +gD[t+9816>>2]),_+=g*(G*+gD[t+9796>>2]+z*+gD[t+9800>>2]+j*+gD[t+9804>>2]+ +gD[t+9820>>2]),i=i+1|0,n=fD[t+9700>>2]|0;while(i>>>0<(fD[n+32>>2]|0)>>>0)}return R=+gD[o>>2],D=+gD[o+4>>2],P=+gD[o+8>>2],V=+gD[o+16>>2],L=+gD[o+20>>2],k=+gD[o+24>>2],I=+gD[o+32>>2],O=+gD[o+36>>2],J=+gD[o+40>>2],B=+gD[o+48>>2],H=+gD[o+52>>2],N=+gD[o+56>>2],F=S-b,G=A-m,j=w-_,z=+CD(+(F*F+G*G+j*j)),z=1/(z>9999999747378752e-20?z:1),gD[s>>2]=S*R+A*D+w*P+B,gD[s+4>>2]=S*V+A*L+w*k+H,gD[s+8>>2]=S*I+A*O+w*J+N,gD[s+12>>2]=0,gD[l>>2]=b*R+m*D+_*P+B,gD[l+4>>2]=b*V+m*L+_*k+H,gD[l+8>>2]=b*I+m*O+_*J+N,gD[l+12>>2]=0,gD[a>>2]=z*F,gD[a+4>>2]=z*G,gD[a+8>>2]=z*j,gD[a+12>>2]=0,C=0,bD=t,C|0}function gA(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0,P=0,B=0,V=0,L=0,k=0,H=0,I=0,O=0;o=bD,bD=bD+288|0,gD[t+56>>2]=0,d=o+276|0,u=o+280|0,fD[o+272>>2]=0,fD[o+276>>2]=0,fD[o+280>>2]=0,fD[o+284>>2]=0,fD[o+208>>2]=fD[e+0>>2],fD[o+212>>2]=fD[e+4>>2],fD[o+216>>2]=fD[e+8>>2],fD[o+220>>2]=fD[e+12>>2],fD[o+224>>2]=fD[e+16>>2],fD[o+228>>2]=fD[e+20>>2],fD[o+232>>2]=fD[e+24>>2],fD[o+236>>2]=fD[e+28>>2],fD[o+240>>2]=fD[e+32>>2],fD[o+244>>2]=fD[e+36>>2],fD[o+248>>2]=fD[e+40>>2],fD[o+252>>2]=fD[e+44>>2],k=o+256|0,fD[k+0>>2]=fD[e+48>>2],fD[k+4>>2]=fD[e+52>>2],fD[k+8>>2]=fD[e+56>>2],fD[k+12>>2]=fD[e+60>>2],fD[o+144>>2]=fD[e+64>>2],fD[o+148>>2]=fD[e+68>>2],fD[o+152>>2]=fD[e+72>>2],fD[o+156>>2]=fD[e+76>>2],fD[o+160>>2]=fD[e+80>>2],fD[o+164>>2]=fD[e+84>>2],fD[o+168>>2]=fD[e+88>>2],fD[o+172>>2]=fD[e+92>>2],fD[o+176>>2]=fD[e+96>>2],fD[o+180>>2]=fD[e+100>>2],fD[o+184>>2]=fD[e+104>>2],fD[o+188>>2]=fD[e+108>>2],H=o+192|0,fD[H+0>>2]=fD[e+112>>2],fD[H+4>>2]=fD[e+116>>2],fD[H+8>>2]=fD[e+120>>2],fD[H+12>>2]=fD[e+124>>2],p=+gD[k>>2],f=+gD[H>>2],_=+gD[o+260>>2],m=+gD[o+196>>2],c=+gD[o+264>>2],h=+gD[o+200>>2],gD[k>>2]=p-(p+f)*.5,gD[o+260>>2]=_-(_+m)*.5,gD[o+264>>2]=c-(c+h)*.5,gD[H>>2]=f-(p+f)*.5,gD[o+196>>2]=m-(_+m)*.5,gD[o+200>>2]=h-(c+h)*.5,v=((fD[(fD[t+28>>2]|0)+4>>2]|0)+-17|0)>>>0<2?((fD[(fD[t+32>>2]|0)+4>>2]|0)+-17|0)>>>0<2:0,y=+gD[t+44>>2],g=+gD[t+48>>2],fD[3344]=(fD[3344]|0)+1,H=(uD[t+52>>0]|0)==0,g=H?g:0,fD[t+64>>2]=0,gD[t+4>>2]=0,gD[t+8>>2]=1,gD[t+12>>2]=0,gD[t+16>>2]=0,fD[t+68>>2]=0,fD[t+60>>2]=-1,y=(H?y:0)+g,H=fD[t+24>>2]|0,uD[H+312>>0]=0,fD[H>>2]=0,uD[H+356>>0]=1,gD[H+292>>2]=0xde0b6b000000000,gD[H+296>>2]=0xde0b6b000000000,gD[H+300>>2]=0xde0b6b000000000,gD[H+304>>2]=0,fD[H+336>>2]=0,fD[H+340>>2]=0,fD[H+344>>2]=0,fD[H+348>>2]=0,uD[H+352>>0]=0,uD[H+332>>0]=uD[H+332>>0]&-16,S=+gD[t+4>>2],x=+gD[t+8>>2],A=+gD[t+12>>2];t:do if(v)for(M=0xde0b6b000000000;;){if(B=-S,V=-x,T=-A,L=+gD[e+4>>2]*B+ +gD[e+20>>2]*V+ +gD[e+36>>2]*T,C=+gD[e+8>>2]*B+ +gD[e+24>>2]*V+ +gD[e+40>>2]*T,gD[o+128>>2]=+gD[e>>2]*B+ +gD[e+16>>2]*V+ +gD[e+32>>2]*T,gD[o+132>>2]=L,gD[o+136>>2]=C,gD[o+140>>2]=0,C=S*+gD[e+68>>2]+x*+gD[e+84>>2]+A*+gD[e+100>>2],L=S*+gD[e+72>>2]+x*+gD[e+88>>2]+A*+gD[e+104>>2],gD[o+112>>2]=+gD[e+64>>2]*S+ +gD[e+80>>2]*x+ +gD[e+96>>2]*A,gD[o+116>>2]=C,gD[o+120>>2]=L,gD[o+124>>2]=0,jT(o+96|0,fD[t+28>>2]|0,o+128|0),jT(o+80|0,fD[t+32>>2]|0,o+112|0),A=+gD[o+96>>2],L=+gD[o+100>>2],x=+gD[o+104>>2],C=A*+gD[o+208>>2]+L*+gD[o+212>>2]+x*+gD[o+216>>2]+ +gD[o+256>>2],x=A*+gD[o+224>>2]+L*+gD[o+228>>2]+x*+gD[o+232>>2]+ +gD[o+260>>2],L=+gD[o+80>>2],A=+gD[o+84>>2],T=+gD[o+88>>2],S=L*+gD[o+144>>2]+A*+gD[o+148>>2]+T*+gD[o+152>>2]+ +gD[o+192>>2],T=L*+gD[o+160>>2]+A*+gD[o+164>>2]+T*+gD[o+168>>2]+ +gD[o+196>>2],A=+gD[t+4>>2]*(C-S)+ +gD[t+8>>2]*(x-T)+ +gD[t+12>>2]*0,A>0?A*A>M*+gD[e+128>>2]:0){n=22;break t}if(v=fD[t+24>>2]|0,E=fD[v>>2]|0,(E|0)>0){w=+gD[v+308>>2],H=0,k=0;do B=C-S-+gD[v+(k<<4)+4>>2],V=x-T-+gD[v+(k<<4)+8>>2],L=0-+gD[v+(k<<4)+12>>2],H|=B*B+V*V+L*L<=w,k=k+1|0;while((k|0)!=(E|0))}else H=0;if(k=((+gD[v+304>>2]==0?+gD[v+300>>2]==0:0)?x-T==+gD[v+296>>2]:0)?C-S==+gD[v+292>>2]:0,k|H){n=31;break t}if(R=M-A,R<=M*9.999999974752427e-7){n=33;break t}if(gD[v+292>>2]=C-S,gD[v+296>>2]=x-T,gD[v+300>>2]=0,gD[v+304>>2]=0,uD[v+356>>0]=1,gD[v+(E<<4)+4>>2]=C-S,gD[v+(E<<4)+8>>2]=x-T,gD[v+(E<<4)+12>>2]=0,gD[v+(E<<4)+16>>2]=0,k=fD[v>>2]|0,gD[v+(k<<4)+84>>2]=C,gD[v+(k<<4)+88>>2]=x,gD[v+(k<<4)+92>>2]=0,gD[v+(k<<4)+96>>2]=0,k=fD[v>>2]|0,gD[v+(k<<4)+164>>2]=S,gD[v+(k<<4)+168>>2]=T,gD[v+(k<<4)+172>>2]=0,gD[v+(k<<4)+176>>2]=0,fD[v>>2]=(fD[v>>2]|0)+1,k=fD[t+24>>2]|0,H=JM(k)|0,S=+gD[k+276>>2],x=+gD[k+280>>2],A=+gD[k+284>>2],C=+gD[k+288>>2],!H){n=35;break t}if(T=M,M=S*S+x*x+A*A,M<9.999999974752427e-7){M=T,n=37;break t}if(T-M<=T*1.1920928955078125e-7){n=39;break t}if(gD[t+4>>2]=S,gD[t+8>>2]=x,gD[t+12>>2]=A,gD[t+16>>2]=C,H=fD[t+64>>2]|0,fD[t+64>>2]=H+1,(H|0)>1e3){M=0,v=0,S=0,x=0,T=0;break t}if((fD[fD[t+24>>2]>>2]|0)==4){n=42;break}}else for(M=0xde0b6b000000000;;){if(w=-S,C=-x,T=-A,R=+gD[e+4>>2]*w+ +gD[e+20>>2]*C+ +gD[e+36>>2]*T,L=+gD[e+8>>2]*w+ +gD[e+24>>2]*C+ +gD[e+40>>2]*T,gD[o+128>>2]=+gD[e>>2]*w+ +gD[e+16>>2]*C+ +gD[e+32>>2]*T,gD[o+132>>2]=R,gD[o+136>>2]=L,gD[o+140>>2]=0,L=S*+gD[e+68>>2]+x*+gD[e+84>>2]+A*+gD[e+100>>2],R=S*+gD[e+72>>2]+x*+gD[e+88>>2]+A*+gD[e+104>>2],gD[o+112>>2]=+gD[e+64>>2]*S+ +gD[e+80>>2]*x+ +gD[e+96>>2]*A,gD[o+116>>2]=L,gD[o+120>>2]=R,gD[o+124>>2]=0,jT(o+96|0,fD[t+28>>2]|0,o+128|0),jT(o+80|0,fD[t+32>>2]|0,o+112|0),R=+gD[o+96>>2],L=+gD[o+100>>2],A=+gD[o+104>>2],x=R*+gD[o+208>>2]+L*+gD[o+212>>2]+A*+gD[o+216>>2]+ +gD[o+256>>2],T=R*+gD[o+224>>2]+L*+gD[o+228>>2]+A*+gD[o+232>>2]+ +gD[o+260>>2],A=R*+gD[o+240>>2]+L*+gD[o+244>>2]+A*+gD[o+248>>2]+ +gD[o+264>>2],L=+gD[o+80>>2],R=+gD[o+84>>2],C=+gD[o+88>>2],S=L*+gD[o+144>>2]+R*+gD[o+148>>2]+C*+gD[o+152>>2]+ +gD[o+192>>2],w=L*+gD[o+160>>2]+R*+gD[o+164>>2]+C*+gD[o+168>>2]+ +gD[o+196>>2],C=L*+gD[o+176>>2]+R*+gD[o+180>>2]+C*+gD[o+184>>2]+ +gD[o+200>>2],R=+gD[t+4>>2]*(x-S)+ +gD[t+8>>2]*(T-w)+ +gD[t+12>>2]*(A-C),R>0?R*R>M*+gD[e+128>>2]:0){n=22;break t}if(E=fD[t+24>>2]|0,v=fD[E>>2]|0,(v|0)>0){D=+gD[E+308>>2],H=0,k=0;do B=x-S-+gD[E+(k<<4)+4>>2],V=T-w-+gD[E+(k<<4)+8>>2],L=A-C-+gD[E+(k<<4)+12>>2],H|=B*B+V*V+L*L<=D,k=k+1|0;while((k|0)!=(v|0))}else H=0;if(k=((+gD[E+304>>2]==0?A-C==+gD[E+300>>2]:0)?T-w==+gD[E+296>>2]:0)?x-S==+gD[E+292>>2]:0,k|H){n=31;break t}if(R=M-R,R<=M*9.999999974752427e-7){n=33;break t}if(gD[E+292>>2]=x-S,gD[E+296>>2]=T-w,gD[E+300>>2]=A-C,gD[E+304>>2]=0,uD[E+356>>0]=1,gD[E+(v<<4)+4>>2]=x-S,gD[E+(v<<4)+8>>2]=T-w,gD[E+(v<<4)+12>>2]=A-C,gD[E+(v<<4)+16>>2]=0,k=fD[E>>2]|0,gD[E+(k<<4)+84>>2]=x,gD[E+(k<<4)+88>>2]=T,gD[E+(k<<4)+92>>2]=A,gD[E+(k<<4)+96>>2]=0,k=fD[E>>2]|0,gD[E+(k<<4)+164>>2]=S,gD[E+(k<<4)+168>>2]=w,gD[E+(k<<4)+172>>2]=C,gD[E+(k<<4)+176>>2]=0,fD[E>>2]=(fD[E>>2]|0)+1,k=fD[t+24>>2]|0,H=JM(k)|0,S=+gD[k+276>>2],x=+gD[k+280>>2],A=+gD[k+284>>2],C=+gD[k+288>>2],!H){n=35;break t}if(T=M,M=S*S+x*x+A*A,M<9.999999974752427e-7){M=T,n=37;break t}if(T-M<=T*1.1920928955078125e-7){n=39;break t}if(gD[t+4>>2]=S,gD[t+8>>2]=x,gD[t+12>>2]=A,gD[t+16>>2]=C,H=fD[t+64>>2]|0,fD[t+64>>2]=H+1,(H|0)>1e3){M=0,v=0,S=0,x=0,T=0;break t}if((fD[fD[t+24>>2]>>2]|0)==4){n=42;break}}while(0);(n|0)==22?(fD[t+68>>2]=10,n=43):(n|0)==31?(fD[t+68>>2]=1,n=43):(n|0)==33?(fD[t+68>>2]=R<=0?2:11,n=43):(n|0)==35?(fD[t+68>>2]=3,n=43):(n|0)==37?(gD[t+4>>2]=S,gD[t+8>>2]=x,gD[t+12>>2]=A,gD[t+16>>2]=C,fD[t+68>>2]=6,n=43):(n|0)==39?(fD[t+68>>2]=12,n=43):(n|0)==42&&(fD[t+68>>2]=13,M=0,v=0,S=0,x=0,T=0);do if((n|0)==43){if(H=fD[t+24>>2]|0,JM(H)|0,S=+gD[H+260>>2],x=+gD[H+264>>2],T=+gD[H+268>>2],fD[o+272>>2]=fD[t+4>>2],fD[o+276>>2]=fD[t+8>>2],fD[o+280>>2]=fD[t+12>>2],fD[o+284>>2]=fD[t+16>>2],w=+gD[t+4>>2],A=+gD[t+8>>2],C=+gD[t+12>>2],w*w+A*A+C*C<1e-4&&(fD[t+68>>2]=5),w*w+A*A+C*C>1.4210854715202004e-14){V=1/+CD(+(w*w+A*A+C*C)),gD[o+272>>2]=V*+gD[o+272>>2],gD[d>>2]=V*+gD[d>>2],gD[u>>2]=V*+gD[u>>2],L=g/+CD(+M),fD[t+60>>2]=1,M=1/V-y,v=1,S=L*w+S,x=L*A+x,T=L*C+T;break}fD[t+60>>2]=2,M=0,v=0;break}while(0);k=(((fD[t+72>>2]|0)!=0?(fD[t+20>>2]|0)!=0:0)?(fD[t+68>>2]|0)!=0:0)?y+M<.01:0,E=v^1;do if(k|E?(b=fD[t+20>>2]|0,(b|0)!=0):0){if(fD[3342]=(fD[3342]|0)+1,fD[t+4>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,fD[t+16>>2]=0,!(sP[fD[(fD[b>>2]|0)+8>>2]&3](b,fD[t+24>>2]|0,fD[t+28>>2]|0,fD[t+32>>2]|0,o+208|0,o+144|0,t+4|0,o+64|0,o+48|0,r)|0)){if(D=+gD[t+4>>2],R=+gD[t+8>>2],C=+gD[t+12>>2],!(D*D+R*R+C*C>0)){n=66;break}if(P=+gD[o+48>>2],B=+gD[o+64>>2]-P,w=+gD[o+52>>2],V=+gD[o+68>>2]-w,A=+gD[o+56>>2],L=+gD[o+72>>2]-A,y=+CD(+(B*B+V*V+L*L))-y,y<M|E){fD[o+272>>2]=fD[t+4>>2],fD[o+276>>2]=fD[t+8>>2],fD[o+280>>2]=fD[t+12>>2],fD[o+284>>2]=fD[t+16>>2],T=+gD[o+272>>2],x=+gD[d>>2],S=+gD[u>>2],M=1/+CD(+(T*T+x*x+S*S)),gD[o+272>>2]=T*M,gD[d>>2]=x*M,gD[u>>2]=S*M,fD[t+60>>2]=6,M=y,S=g*D+P,x=g*R+w,T=g*C+A;break}if(fD[t+60>>2]=5,v)break;return void(bD=o)}if(C=+gD[o+48>>2],V=+gD[o+64>>2],y=+gD[o+52>>2],B=+gD[o+68>>2],g=+gD[o+56>>2],P=+gD[o+72>>2],(C-V)*(C-V)+(y-B)*(y-B)+(g-P)*(g-P)<=1.4210854715202004e-14?(O=+gD[t+4>>2],I=+gD[t+8>>2],L=+gD[t+12>>2],R=L,w=I,D=O,A=+gD[t+16>>2],L=O*O+I*I+L*L):(R=g-P,w=y-B,D=C-V,A=0,L=(C-V)*(C-V)+(y-B)*(y-B)+(g-P)*(g-P)),!(L>1.4210854715202004e-14)){if(fD[t+60>>2]=9,v)break;return void(bD=o)}if(L=1/+CD(+L),P=-+CD(+((V-C)*(V-C)+(B-y)*(B-y)+(P-g)*(P-g))),M>P|E){gD[o+272>>2]=D*L,gD[d>>2]=w*L,gD[u>>2]=R*L,gD[o+284>>2]=A,fD[t+60>>2]=3,M=P,S=C,x=y,T=g;break}if(fD[t+60>>2]=8,!v)return void(bD=o)}else n=66;while(0);return((n|0)!=66||v)&&(M<0?!0:M*M<+gD[e+128>>2])?(((fD[t+76>>2]|0)!=0?(H=fD[t+28>>2]|0,GP[fD[(fD[H>>2]|0)+8>>2]&127](H,o+208|0,o+32|0,o+16|0),L=(+gD[o+16>>2]+ +gD[o+32>>2])*.5,I=(+gD[o+20>>2]+ +gD[o+36>>2])*.5,O=(+gD[o+24>>2]+ +gD[o+40>>2])*.5,H=fD[t+32>>2]|0,GP[fD[(fD[H>>2]|0)+8>>2]&127](H,o+144|0,o+32|0,o+16|0),a=+gD[o+272>>2],s=+gD[d>>2],l=+gD[u>>2],(L-(+gD[o+32>>2]+ +gD[o+16>>2])*.5)*a+(I-(+gD[o+36>>2]+ +gD[o+20>>2])*.5)*s+(O-(+gD[o+40>>2]+ +gD[o+24>>2])*.5)*l<0):0)&&(gD[o+272>>2]=a*-1,gD[d>>2]=s*-1,gD[u>>2]=l*-1),fD[t+4>>2]=fD[o+272>>2],fD[t+8>>2]=fD[o+276>>2],fD[t+12>>2]=fD[o+280>>2],fD[t+16>>2]=fD[o+284>>2],gD[t+56>>2]=M,H=fD[(fD[i>>2]|0)+16>>2]|0,gD[o>>2]=(p+f)*.5+S,gD[o+4>>2]=(_+m)*.5+x,gD[o+8>>2]=(c+h)*.5+T,gD[o+12>>2]=0,IP[H&15](i,o+272|0,o,M),void(bD=o)):void(bD=o)}function yA(t){t|=0}function bA(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function vA(t,e,i,r){t|=0,e|=0,i|=0,r=+r;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0;if(s=bD,bD=bD+192|0,o=fD[t+4>>2]|0,+gD[o+752>>2]<r)return void(bD=s);if(n=fD[o+740>>2]|0,l=(fD[t+8>>2]|0)+8|0,a=fD[l>>2]|0,u=+gD[i>>2],_=+gD[e>>2]*r+u,h=+gD[i+4>>2],p=+gD[e+4>>2]*r+h,d=+gD[i+8>>2],f=+gD[e+8>>2]*r+d,(n|0)!=(a|0)?(c=fD[t+12>>2]|0,v=fD[c+8>>2]|0,x=_-+gD[v+52>>2],g=p-+gD[v+56>>2],y=f-+gD[v+60>>2],S=u-+gD[a+52>>2],M=h-+gD[a+56>>2],m=d-+gD[a+60>>2],u=x*+gD[v+4>>2]+g*+gD[v+20>>2]+y*+gD[v+36>>2],h=x*+gD[v+8>>2]+g*+gD[v+24>>2]+y*+gD[v+40>>2],d=x*+gD[v+12>>2]+g*+gD[v+28>>2]+y*+gD[v+44>>2],y=S*+gD[a+4>>2]+M*+gD[a+20>>2]+m*+gD[a+36>>2],g=S*+gD[a+8>>2]+M*+gD[a+24>>2]+m*+gD[a+40>>2],m=S*+gD[a+12>>2]+M*+gD[a+28>>2]+m*+gD[a+44>>2]):(M=_-+gD[n+52>>2],g=p-+gD[n+56>>2],y=f-+gD[n+60>>2],c=fD[t+12>>2]|0,v=fD[c+8>>2]|0,S=u-+gD[v+52>>2],x=h-+gD[v+56>>2],m=d-+gD[v+60>>2],u=M*+gD[n+4>>2]+g*+gD[n+20>>2]+y*+gD[n+36>>2],h=M*+gD[n+8>>2]+g*+gD[n+24>>2]+y*+gD[n+40>>2],d=M*+gD[n+12>>2]+g*+gD[n+28>>2]+y*+gD[n+44>>2],y=S*+gD[v+4>>2]+x*+gD[v+20>>2]+m*+gD[v+36>>2],g=S*+gD[v+8>>2]+x*+gD[v+24>>2]+m*+gD[v+40>>2],m=S*+gD[v+12>>2]+x*+gD[v+28>>2]+m*+gD[v+44>>2]),gD[s>>2]=u,gD[s+4>>2]=h,gD[s+8>>2]=d,gD[s+12>>2]=0,gD[s+16>>2]=y,gD[s+20>>2]=g,gD[s+24>>2]=m,gD[s+28>>2]=0,fD[s+64>>2]=fD[e+0>>2],fD[s+68>>2]=fD[e+4>>2],fD[s+72>>2]=fD[e+8>>2],fD[s+76>>2]=fD[e+12>>2],gD[s+80>>2]=r,gD[s+84>>2]=0,gD[s+88>>2]=0,gD[s+92>>2]=0,fD[s+112>>2]=0,uD[s+116>>0]=0,fD[s+120>>2]=0,fD[s+124>>2]=0,fD[s+128>>2]=0,fD[s+132>>2]=0,fD[s+136>>2]=0,fD[s+140>>2]=0,fD[s+144>>2]=0,fD[s+148>>2]=0,gD[s+48>>2]=_,gD[s+52>>2]=p,gD[s+56>>2]=f,gD[s+60>>2]=0,fD[s+32>>2]=fD[i+0>>2],fD[s+36>>2]=fD[i+4>>2],fD[s+40>>2]=fD[i+8>>2],fD[s+44>>2]=fD[i+12>>2],p=+gD[o+752>>2],e=fD[o+748>>2]|0,(e|0)>0)for(i=0,v=-1,r=p*p;;){if(p=+gD[o+(i*184|0)+4>>2]-u,f=+gD[o+(i*184|0)+8>>2]-h,_=+gD[o+(i*184|0)+12>>2]-d,b=p*p+f*f+_*_<r,v=b?i:v,i=i+1|0,(i|0)==(e|0))break;r=b?p*p+f*f+_*_:r}else v=-1;return e=fD[l>>2]|0,b=fD[c+8>>2]|0,h=+gD[e+224>>2]*+gD[b+224>>2],h=h<-10?-10:h,gD[s+84>>2]=h>10?10:h,gD[s+92>>2]=+gD[e+228>>2]*+gD[b+228>>2],h=+gD[e+232>>2]*+gD[b+232>>2],h=h<-10?-10:h,gD[s+88>>2]=h>10?10:h,h=+gD[s+72>>2],+ED(+h)>.7071067690849304?(M=+gD[s+68>>2],x=1/+CD(+(h*h+M*M)),gD[s+152>>2]=0,gD[s+156>>2]=-(x*h),gD[s+160>>2]=x*M,gD[s+168>>2]=(h*h+M*M)*x,S=+gD[s+64>>2],gD[s+172>>2]=-(S*x*M),gD[s+176>>2]=S*-(x*h)):(M=+gD[s+64>>2],S=+gD[s+68>>2],x=1/+CD(+(M*M+S*S)),gD[s+152>>2]=-(S*x),gD[s+156>>2]=x*M,gD[s+160>>2]=0,gD[s+168>>2]=-(h*x*M),gD[s+172>>2]=h*-(S*x),gD[s+176>>2]=(M*M+S*S)*x),(n|0)!=(a|0)?(fD[s+96>>2]=fD[t+20>>2],fD[s+100>>2]=fD[t+16>>2],fD[s+104>>2]=fD[t+28>>2],fD[s+108>>2]=fD[t+24>>2]):(fD[s+96>>2]=fD[t+16>>2],fD[s+100>>2]=fD[t+20>>2],fD[s+104>>2]=fD[t+24>>2],fD[s+108>>2]=fD[t+28>>2]),(v|0)>-1?(b=o+(v*184|0)+152|0,e=fD[b>>2]|0,l=o+(v*184|0)+124|0,M=+gD[l>>2],c=o+(v*184|0)+128|0,S=+gD[c>>2],i=o+(v*184|0)+132|0,x=+gD[i>>2],a=o+(v*184|0)+116|0,n=fD[a>>2]|0,Bw(o+(v*184|0)+4|0,s|0,184)|0,fD[a>>2]=n,gD[l>>2]=M,gD[c>>2]=S,gD[i>>2]=x,fD[b>>2]=e,void(bD=s)):(pw(o,s)|0,void(bD=s))}function MA(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0;var h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0,R=0,D=0;t=bD,bD=bD+4256|0,p=((fD[i+4>>2]|0)+-17|0)>>>0<2?((fD[r+4>>2]|0)+-17|0)>>>0<2:0,h=0;do SA(),g=+gD[13568+(h<<4)>>2],y=+gD[13572+(h<<4)>>2],b=+gD[13576+(h<<4)>>2],M=+gD[o+4>>2]*-g+ +gD[o+20>>2]*-y+ +gD[o+36>>2]*-b,v=+gD[o+8>>2]*-g+ +gD[o+24>>2]*-y+ +gD[o+40>>2]*-b,gD[t+1280+(h<<4)>>2]=+gD[o>>2]*-g+ +gD[o+16>>2]*-y+ +gD[o+32>>2]*-b,gD[t+1280+(h<<4)+4>>2]=M,gD[t+1280+(h<<4)+8>>2]=v,gD[t+1280+(h<<4)+12>>2]=0,v=g*+gD[n+4>>2]+y*+gD[n+20>>2]+b*+gD[n+36>>2],M=g*+gD[n+8>>2]+y*+gD[n+24>>2]+b*+gD[n+40>>2],gD[t+288+(h<<4)>>2]=g*+gD[n>>2]+y*+gD[n+16>>2]+b*+gD[n+32>>2],gD[t+288+(h<<4)+4>>2]=v,gD[t+288+(h<<4)+8>>2]=M,gD[t+288+(h<<4)+12>>2]=0,h=h+1|0;while((h|0)!=42);if(S=lP[fD[(fD[i>>2]|0)+84>>2]&127](i)|0,(S|0)>0){for(x=0,h=42;;){if(OP[fD[(fD[i>>2]|0)+88>>2]&127](i,x,t+272|0),v=+gD[t+272>>2],M=+gD[t+276>>2],b=+gD[t+280>>2],y=v*+gD[o+16>>2]+M*+gD[o+20>>2]+b*+gD[o+24>>2],g=v*+gD[o+32>>2]+M*+gD[o+36>>2]+b*+gD[o+40>>2],gD[t+272>>2]=+gD[o>>2]*v+ +gD[o+4>>2]*M+ +gD[o+8>>2]*b,gD[t+276>>2]=y,gD[t+280>>2]=g,gD[t+284>>2]=0,SA(),T=13568+(h<<4)|0,fD[T+0>>2]=fD[t+272>>2],fD[T+4>>2]=fD[t+276>>2],fD[T+8>>2]=fD[t+280>>2],fD[T+12>>2]=fD[t+284>>2],g=+gD[t+272>>2],y=+gD[t+276>>2],b=+gD[t+280>>2],M=+gD[o+4>>2]*-g+ +gD[o+20>>2]*-y+ +gD[o+36>>2]*-b,v=+gD[o+8>>2]*-g+ +gD[o+24>>2]*-y+ +gD[o+40>>2]*-b,gD[t+1280+(h<<4)>>2]=+gD[o>>2]*-g+ +gD[o+16>>2]*-y+ +gD[o+32>>2]*-b,gD[t+1280+(h<<4)+4>>2]=M,gD[t+1280+(h<<4)+8>>2]=v,gD[t+1280+(h<<4)+12>>2]=0,v=g*+gD[n+4>>2]+y*+gD[n+20>>2]+b*+gD[n+36>>2],M=g*+gD[n+8>>2]+y*+gD[n+24>>2]+b*+gD[n+40>>2],gD[t+288+(h<<4)>>2]=+gD[n>>2]*g+ +gD[n+16>>2]*y+ +gD[n+32>>2]*b,gD[t+288+(h<<4)+4>>2]=v,gD[t+288+(h<<4)+8>>2]=M,gD[t+288+(h<<4)+12>>2]=0,x=x+1|0,(x|0)==(S|0))break;h=h+1|0}h=S+42|0}else h=42;if(T=lP[fD[(fD[r>>2]|0)+84>>2]&127](r)|0,(T|0)>0){for(x=0,S=h;;){if(OP[fD[(fD[r>>2]|0)+88>>2]&127](r,x,t+256|0),v=+gD[t+256>>2],M=+gD[t+260>>2],b=+gD[t+264>>2],y=v*+gD[n+16>>2]+M*+gD[n+20>>2]+b*+gD[n+24>>2],g=v*+gD[n+32>>2]+M*+gD[n+36>>2]+b*+gD[n+40>>2],gD[t+256>>2]=+gD[n>>2]*v+ +gD[n+4>>2]*M+ +gD[n+8>>2]*b,gD[t+260>>2]=y,gD[t+264>>2]=g,gD[t+268>>2]=0,SA(),E=13568+(S<<4)|0,fD[E+0>>2]=fD[t+256>>2],fD[E+4>>2]=fD[t+260>>2],fD[E+8>>2]=fD[t+264>>2],fD[E+12>>2]=fD[t+268>>2],g=+gD[t+256>>2],y=+gD[t+260>>2],b=+gD[t+264>>2],M=+gD[o+4>>2]*-g+ +gD[o+20>>2]*-y+ +gD[o+36>>2]*-b,v=+gD[o+8>>2]*-g+ +gD[o+24>>2]*-y+ +gD[o+40>>2]*-b,gD[t+1280+(S<<4)>>2]=+gD[o>>2]*-g+ +gD[o+16>>2]*-y+ +gD[o+32>>2]*-b,gD[t+1280+(S<<4)+4>>2]=M,gD[t+1280+(S<<4)+8>>2]=v,gD[t+1280+(S<<4)+12>>2]=0,v=g*+gD[n+4>>2]+y*+gD[n+20>>2]+b*+gD[n+36>>2],M=g*+gD[n+8>>2]+y*+gD[n+24>>2]+b*+gD[n+40>>2],gD[t+288+(S<<4)>>2]=+gD[n>>2]*g+ +gD[n+16>>2]*y+ +gD[n+32>>2]*b,gD[t+288+(S<<4)+4>>2]=v,gD[t+288+(S<<4)+8>>2]=M,gD[t+288+(S<<4)+12>>2]=0,x=x+1|0,(x|0)==(T|0))break;S=S+1|0}h=T+h|0}if(GP[fD[(fD[i>>2]|0)+76>>2]&127](i,t+1280|0,t+3264|0,h),GP[fD[(fD[r>>2]|0)+76>>2]&127](r,t+288|0,t+2272|0,h),(h|0)>0)if(p)for(g=0,y=0,b=0,p=0,f=0xde0b6b000000000;;){if(SA(),_=+gD[13568+(p<<4)>>2],m=+gD[13572+(p<<4)>>2],d=+gD[13580+(p<<4)>>2],(_*_+m*m+0>.01?(v=+gD[t+3264+(p<<4)>>2],M=+gD[t+3264+(p<<4)+4>>2],u=+gD[t+3264+(p<<4)+8>>2],w=+gD[t+2272+(p<<4)>>2],A=+gD[t+2272+(p<<4)+4>>2],C=+gD[t+2272+(p<<4)+8>>2],u=_*(w*+gD[n>>2]+A*+gD[n+4>>2]+C*+gD[n+8>>2]+ +gD[n+48>>2]-(v*+gD[o>>2]+M*+gD[o+4>>2]+u*+gD[o+8>>2]+ +gD[o+48>>2]))+m*(w*+gD[n+16>>2]+A*+gD[n+20>>2]+C*+gD[n+24>>2]+ +gD[n+52>>2]-(v*+gD[o+16>>2]+M*+gD[o+20>>2]+u*+gD[o+24>>2]+ +gD[o+52>>2]))+0,u<f):0)?f=u:(d=b,m=y,_=g),p=p+1|0,(p|0)==(h|0)){u=0;break}g=_,y=m,b=d}else for(_=0,b=0,v=0,M=0,p=0,f=0xde0b6b000000000;;){if(SA(),g=+gD[13568+(p<<4)>>2],m=+gD[13572+(p<<4)>>2],u=+gD[13576+(p<<4)>>2],y=+gD[13580+(p<<4)>>2],(g*g+m*m+u*u>.01?(A=+gD[t+3264+(p<<4)>>2],w=+gD[t+3264+(p<<4)+4>>2],d=+gD[t+3264+(p<<4)+8>>2],D=+gD[t+2272+(p<<4)>>2],R=+gD[t+2272+(p<<4)+4>>2],C=+gD[t+2272+(p<<4)+8>>2],d=g*(D*+gD[n>>2]+R*+gD[n+4>>2]+C*+gD[n+8>>2]+ +gD[n+48>>2]-(A*+gD[o>>2]+w*+gD[o+4>>2]+d*+gD[o+8>>2]+ +gD[o+48>>2]))+m*(D*+gD[n+16>>2]+R*+gD[n+20>>2]+C*+gD[n+24>>2]+ +gD[n+52>>2]-(A*+gD[o+16>>2]+w*+gD[o+20>>2]+d*+gD[o+24>>2]+ +gD[o+52>>2]))+u*(D*+gD[n+32>>2]+R*+gD[n+36>>2]+C*+gD[n+40>>2]+ +gD[n+56>>2]-(A*+gD[o+32>>2]+w*+gD[o+36>>2]+d*+gD[o+40>>2]+ +gD[o+56>>2])),d<f):0)?(_=g,f=d):(y=M,u=v,m=b),p=p+1|0,(p|0)==(h|0)){d=y;break}b=m,v=u,M=y}else d=0,u=0,m=0,_=0,f=0xde0b6b000000000;switch(fD[i+4>>2]|0){case 4:case 5:case 10:case 11:case 13:case 1:case 0:case 8:break;default:+vP[fD[(fD[i>>2]|0)+48>>2]&15](i)}switch(fD[r+4>>2]|0){case 4:case 5:case 10:case 11:case 13:case 1:case 0:case 8:break;default:+vP[fD[(fD[r>>2]|0)+48>>2]&15](r)}if(f<0)return E=0,bD=t,E|0;switch(fD[i+4>>2]|0){case 8:g=+gD[i+28>>2]*+gD[i+12>>2];break;case 0:g=+gD[i+44>>2];break;case 1:g=+gD[i+44>>2];break;case 13:g=+gD[i+44>>2];break;case 11:g=+gD[i+44>>2];break;case 10:g=+gD[i+44>>2];break;case 4:case 5:g=+gD[i+44>>2];break;default:g=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i)}switch(h=fD[r+4>>2]|0,h|0){case 8:y=+gD[r+28>>2]*+gD[r+12>>2],h=8;break;case 0:y=+gD[r+44>>2],h=0;break;case 1:y=+gD[r+44>>2],h=1;break;case 13:y=+gD[r+44>>2],h=13;break;case 11:y=+gD[r+44>>2],h=11;break;case 10:y=+gD[r+44>>2],h=10;break;case 4:case 5:y=+gD[r+44>>2];break;default:y=+vP[fD[(fD[r>>2]|0)+48>>2]&15](r),h=fD[r+4>>2]|0}return f+=g+y+.5,fD[t+176>>2]=13392,gD[t+180>>2]=0,gD[t+184>>2]=1,gD[t+188>>2]=0,gD[t+192>>2]=0,fD[t+196>>2]=0,fD[t+200>>2]=e,fD[t+204>>2]=i,fD[t+208>>2]=r,fD[t+212>>2]=fD[i+4>>2],fD[t+216>>2]=h,gD[t+220>>2]=+vP[fD[(fD[i>>2]|0)+48>>2]&15](i),gD[t+224>>2]=+vP[fD[(fD[r>>2]|0)+48>>2]&15](r),uD[t+228>>0]=0,fD[t+236>>2]=-1,fD[t+248>>2]=1,fD[t+252>>2]=1,w=+gD[o+48>>2]+_*f,R=m*f+ +gD[o+52>>2],D=u*f+ +gD[o+56>>2],fD[t+44>>2]=fD[o+0>>2],fD[t+48>>2]=fD[o+4>>2],fD[t+52>>2]=fD[o+8>>2],fD[t+56>>2]=fD[o+12>>2],fD[t+60>>2]=fD[o+16>>2],fD[t+64>>2]=fD[o+20>>2],fD[t+68>>2]=fD[o+24>>2],fD[t+72>>2]=fD[o+28>>2],fD[t+76>>2]=fD[o+32>>2],fD[t+80>>2]=fD[o+36>>2],fD[t+84>>2]=fD[o+40>>2],fD[t+88>>2]=fD[o+44>>2],gD[t+92>>2]=w,gD[t+96>>2]=R,gD[t+100>>2]=D,gD[t+104>>2]=0,fD[t+108>>2]=fD[n+0>>2],fD[t+112>>2]=fD[n+4>>2],fD[t+116>>2]=fD[n+8>>2],fD[t+120>>2]=fD[n+12>>2],fD[t+124>>2]=fD[n+16>>2],fD[t+128>>2]=fD[n+20>>2],fD[t+132>>2]=fD[n+24>>2],fD[t+136>>2]=fD[n+28>>2],fD[t+140>>2]=fD[n+32>>2],fD[t+144>>2]=fD[n+36>>2],fD[t+148>>2]=fD[n+40>>2],fD[t+152>>2]=fD[n+44>>2],fD[t+156>>2]=fD[n+48>>2],fD[t+160>>2]=fD[n+52>>2],fD[t+164>>2]=fD[n+56>>2],fD[t+168>>2]=fD[n+60>>2],gD[t+172>>2]=0xde0b6b000000000,fD[t>>2]=14656,uD[t+40>>0]=0,gD[t+180>>2]=-_,gD[t+184>>2]=-m,gD[t+188>>2]=-u,gD[t+192>>2]=0,gA(t+176|0,t+44|0,t,c,0),f-=+gD[t+36>>2],r=uD[t+40>>0]|0,r<<24>>24!=0&&(R=+gD[t+24>>2]-m*f,D=+gD[t+28>>2]-u*f,gD[s>>2]=+gD[t+20>>2]-_*f,gD[s+4>>2]=R,gD[s+8>>2]=D,gD[s+12>>2]=0,fD[l+0>>2]=fD[t+20>>2],fD[l+4>>2]=fD[t+24>>2],fD[l+8>>2]=fD[t+28>>2],fD[l+12>>2]=fD[t+32>>2],gD[a>>2]=_,gD[a+4>>2]=m,gD[a+8>>2]=u,gD[a+12>>2]=d),E=r<<24>>24!=0,bD=t,E|0}function SA(){var t=0;return t=bD,(uD[14560]|0)!=0?void(bD=t):(HD(14560)|0)==0?void(bD=t):(gD[3392]=0,gD[3393]=-0,gD[3394]=-1,gD[3395]=0,gD[3396]=.7236080169677734,gD[3397]=-.5257250070571899,gD[3398]=-.44721901416778564,gD[3399]=0,gD[3400]=-.2763879895210266,gD[3401]=-.8506489992141724,gD[3402]=-.44721901416778564,gD[3403]=0,gD[3404]=-.8944259881973267,gD[3405]=-0,gD[3406]=-.4472160041332245,gD[3407]=0,gD[3408]=-.2763879895210266,gD[3409]=.8506489992141724,gD[3410]=-.44721999764442444,gD[3411]=0,gD[3412]=.7236080169677734,gD[3413]=.5257250070571899,gD[3414]=-.44721901416778564,gD[3415]=0,gD[3416]=.2763879895210266,gD[3417]=-.8506489992141724,gD[3418]=.44721999764442444,gD[3419]=0,gD[3420]=-.7236080169677734,gD[3421]=-.5257250070571899,gD[3422]=.44721901416778564,gD[3423]=0,gD[3424]=-.7236080169677734,gD[3425]=.5257250070571899,gD[3426]=.44721901416778564,gD[3427]=0,gD[3428]=.2763879895210266,gD[3429]=.8506489992141724,gD[3430]=.44721901416778564,gD[3431]=0,gD[3432]=.8944259881973267,gD[3433]=0,gD[3434]=.4472160041332245,gD[3435]=0,gD[3436]=-0,gD[3437]=0,gD[3438]=1,gD[3439]=0,gD[3440]=.4253230094909668,gD[3441]=-.3090110123157501,gD[3442]=-.8506540060043335,gD[3443]=0,gD[3444]=-.16245600581169128,gD[3445]=-.49999499320983887,gD[3446]=-.8506540060043335,gD[3447]=0,gD[3448]=.2628690004348755,gD[3449]=-.8090119957923889,gD[3450]=-.525738000869751,gD[3451]=0,gD[3452]=.4253230094909668,gD[3453]=.3090110123157501,gD[3454]=-.8506540060043335,gD[3455]=0,gD[3456]=.8506479859352112,gD[3457]=-0,gD[3458]=-.5257359743118286,gD[3459]=0,gD[3460]=-.5257300138473511,gD[3461]=-0,gD[3462]=-.8506519794464111,gD[3463]=0,gD[3464]=-.6881899833679199,gD[3465]=-.49999698996543884,gD[3466]=-.5257359743118286,gD[3467]=0,gD[3468]=-.16245600581169128,gD[3469]=.49999499320983887,gD[3470]=-.8506540060043335,gD[3471]=0,gD[3472]=-.6881899833679199,gD[3473]=.49999698996543884,gD[3474]=-.5257359743118286,gD[3475]=0,gD[3476]=.2628690004348755,gD[3477]=.8090119957923889,gD[3478]=-.525738000869751,gD[3479]=0,gD[3480]=.9510579705238342,gD[3481]=.3090130090713501,gD[3482]=0,gD[3483]=0,gD[3484]=.9510579705238342,gD[3485]=-.3090130090713501,gD[3486]=0,gD[3487]=0,gD[3488]=.5877860188484192,gD[3489]=-.80901700258255,gD[3490]=0,gD[3491]=0,gD[3492]=0,gD[3493]=-1,gD[3494]=0,gD[3495]=0,gD[3496]=-.5877860188484192,gD[3497]=-.80901700258255,gD[3498]=0,gD[3499]=0,gD[3500]=-.9510579705238342,gD[3501]=-.3090130090713501,gD[3502]=-0,gD[3503]=0,gD[3504]=-.9510579705238342,gD[3505]=.3090130090713501,gD[3506]=-0,gD[3507]=0,gD[3508]=-.5877860188484192,gD[3509]=.80901700258255,gD[3510]=-0,gD[3511]=0,gD[3512]=-0,gD[3513]=1,gD[3514]=-0,gD[3515]=0,gD[3516]=.5877860188484192,gD[3517]=.80901700258255,gD[3518]=-0,gD[3519]=0,gD[3520]=.6881899833679199,gD[3521]=-.49999698996543884,gD[3522]=.5257359743118286,gD[3523]=0,gD[3524]=-.2628690004348755,gD[3525]=-.8090119957923889,gD[3526]=.525738000869751,gD[3527]=0,gD[3528]=-.8506479859352112,gD[3529]=0,gD[3530]=.5257359743118286,gD[3531]=0,gD[3532]=-.2628690004348755,gD[3533]=.8090119957923889,gD[3534]=.525738000869751,gD[3535]=0,gD[3536]=.6881899833679199,gD[3537]=.49999698996543884,gD[3538]=.5257359743118286,gD[3539]=0,gD[3540]=.5257300138473511,gD[3541]=0,gD[3542]=.8506519794464111,gD[3543]=0,gD[3544]=.16245600581169128,gD[3545]=-.49999499320983887,gD[3546]=.8506540060043335,gD[3547]=0,gD[3548]=-.4253230094909668,gD[3549]=-.3090110123157501,gD[3550]=.8506540060043335,gD[3551]=0,gD[3552]=-.4253230094909668,gD[3553]=.3090110123157501,gD[3554]=.8506540060043335,gD[3555]=0,gD[3556]=.16245600581169128,gD[3557]=.49999499320983887,gD[3558]=.8506540060043335,gD[3559]=0,JD(14560),void(bD=t))}function xA(t){t|=0}function TA(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function EA(t){t|=0}function CA(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function AA(t,e,i){t|=0,e|=0,i|=0}function wA(t,e,i){t|=0,e|=0,i|=0}function RA(t,e,i,r){t|=0,e|=0,i|=0,r=+r;var o=0;o=bD,fD[t+4>>2]=fD[e+0>>2],fD[t+8>>2]=fD[e+4>>2],fD[t+12>>2]=fD[e+8>>2],fD[t+16>>2]=fD[e+12>>2],fD[t+20>>2]=fD[i+0>>2],fD[t+24>>2]=fD[i+4>>2],fD[t+28>>2]=fD[i+8>>2],fD[t+32>>2]=fD[i+12>>2],gD[t+36>>2]=r,uD[t+40>>0]=1,bD=o}function DA(t){t|=0;var e=0;return e=bD,iv(t),(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function PA(t){t|=0;var e=0;e=bD,iv(t),bD=e}function BA(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0;if(n=bD,bD=bD+176|0,uD[t+60>>0]=i&1,i){if(f=+gD[r>>2]+-1,d=+gD[r+4>>2]+-1,u=+gD[r+8>>2]+-1,gD[t+4>>2]=f,gD[t+8>>2]=d,gD[t+12>>2]=u,gD[t+16>>2]=0,c=+gD[o>>2]+1,s=+gD[o+4>>2]+1,a=+gD[o+8>>2]+1,gD[t+20>>2]=c,gD[t+24>>2]=s,gD[t+28>>2]=a,gD[t+32>>2]=0,gD[t+36>>2]=65533/(c-f),gD[t+40>>2]=65533/(s-d),gD[t+44>>2]=65533/(a-u),gD[t+48>>2]=0,uD[t+60>>0]=1,l=f+ +(~~((f-f)*(65533/(c-f)))&65534)/(65533/(c-f))+-1,h=d+ +(~~((d-d)*(65533/(s-d)))&65534)/(65533/(s-d))+-1,p=u+ +(~~((u-u)*(65533/(a-u)))&65534)/(65533/(a-u))+-1,l<f?gD[t+4>>2]=l:l=f,h<d?gD[t+8>>2]=h:h=d,p<u?gD[t+12>>2]=p:p=u,_=l+ +((~~((c-l)*(65533/(c-f))+1)&65535|1)&65535)/(65533/(c-f))+1,f=h+ +((~~((s-h)*(65533/(s-d))+1)&65535|1)&65535)/(65533/(s-d))+1,d=p+ +((~~((a-p)*(65533/(a-u))+1)&65535|1)&65535)/(65533/(a-u))+1,c<_&&(gD[t+20>>2]=_,c=_),s<f&&(gD[t+24>>2]=f,s=f),a<d&&(gD[t+28>>2]=d,a=d),gD[t+36>>2]=65533/(c-l),gD[t+40>>2]=65533/(s-h),gD[t+44>>2]=65533/(a-p),gD[t+48>>2]=0,fD[n+152>>2]=15096,fD[n+156>>2]=t+104,fD[n+160>>2]=t,GP[fD[(fD[e>>2]|0)+8>>2]&127](e,n+152|0,t+4|0,t+20|0),e=fD[t+108>>2]|0,fD[n+136>>2]=0,fD[n+140>>2]=0,fD[n+144>>2]=0,fD[n+148>>2]=0,o=fD[t+128>>2]|0,(o|0)<(e<<1|0)){if((fD[t+132>>2]|0)<(e<<1|0)){if((e|0)==0?(r=0,m=o):(fD[5004]=(fD[5004]|0)+1,r=Ew(e<<5|19)|0,(r|0)==0?r=0:(fD[(r+19&-16)+-4>>2]=r,r=r+19&-16),m=fD[t+128>>2]|0),(m|0)>0){i=0;do b=r+(i<<4)|0,y=(fD[t+136>>2]|0)+(i<<4)|0,fD[b+0>>2]=fD[y+0>>2],fD[b+4>>2]=fD[y+4>>2],fD[b+8>>2]=fD[y+8>>2],fD[b+12>>2]=fD[y+12>>2],i=i+1|0;while((i|0)!=(m|0))}i=fD[t+136>>2]|0,(i|0)!=0&&((uD[t+140>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+136>>2]=0),uD[t+140>>0]=1,fD[t+136>>2]=r,fD[t+132>>2]=e<<1,r=t+136|0}else r=t+136|0;do b=(fD[r>>2]|0)+(o<<4)|0,fD[b+0>>2]=fD[n+136>>2],fD[b+4>>2]=fD[n+140>>2],fD[b+8>>2]=fD[n+144>>2],fD[b+12>>2]=fD[n+148>>2],o=o+1|0;while((o|0)!=(e<<1|0))}fD[t+128>>2]=e<<1}else{fD[n+128>>2]=14960,fD[n+132>>2]=t+64,gD[n+112>>2]=-0xde0b6b000000000,gD[n+116>>2]=-0xde0b6b000000000,gD[n+120>>2]=-0xde0b6b000000000,gD[n+124>>2]=0,gD[n+96>>2]=0xde0b6b000000000,gD[n+100>>2]=0xde0b6b000000000,gD[n+104>>2]=0xde0b6b000000000,gD[n+108>>2]=0,GP[fD[(fD[e>>2]|0)+8>>2]&127](e,n+128|0,n+112|0,n+96|0),e=fD[t+68>>2]|0,r=n+32|0,m=r+64|0;do fD[r>>2]=0,r=r+4|0;while((r|0)<(m|0));if(o=fD[t+88>>2]|0,(o|0)<(e<<1|0)){if((fD[t+92>>2]|0)<(e<<1|0)){if((e|0)==0?(g=0,y=o):(fD[5004]=(fD[5004]|0)+1,r=Ew(e<<7|19)|0,(r|0)==0?g=0:(fD[(r+19&-16)+-4>>2]=r,g=r+19&-16),y=fD[t+88>>2]|0),(y|0)>0){b=0;do{r=g+(b<<6)+0|0,i=(fD[t+96>>2]|0)+(b<<6)+0|0,m=r+64|0;do fD[r>>2]=fD[i>>2],r=r+4|0,i=i+4|0;while((r|0)<(m|0));b=b+1|0}while((b|0)!=(y|0))}r=fD[t+96>>2]|0,(r|0)!=0&&((uD[t+100>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[t+96>>2]=0),uD[t+100>>0]=1,fD[t+96>>2]=g,fD[t+92>>2]=e<<1,g=t+96|0}else g=t+96|0;do{r=(fD[g>>2]|0)+(o<<6)+0|0,i=n+32|0,m=r+64|0;do fD[r>>2]=fD[i>>2],r=r+4|0,i=i+4|0;while((r|0)<(m|0));o=o+1|0}while((o|0)!=(e<<1|0))}fD[t+88>>2]=e<<1}if(fD[t+56>>2]=0,tv(t,0,e),(uD[t+60>>0]|0)!=0?(fD[t+152>>2]|0)==0:0){if((fD[t+156>>2]|0)==0){if(fD[5004]=(fD[5004]|0)+1,e=Ew(51)|0,(e|0)==0?e=0:(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16),r=fD[t+152>>2]|0,(r|0)>0){o=0;do b=e+(o<<5)|0,y=(fD[t+160>>2]|0)+(o<<5)|0,fD[b+0>>2]=fD[y+0>>2],fD[b+4>>2]=fD[y+4>>2],fD[b+8>>2]=fD[y+8>>2],fD[b+12>>2]=fD[y+12>>2],fD[b+16>>2]=fD[y+16>>2],fD[b+20>>2]=fD[y+20>>2],fD[b+24>>2]=fD[y+24>>2],fD[b+28>>2]=fD[y+28>>2],o=o+1|0;while((o|0)!=(r|0))}o=fD[t+160>>2]|0,(o|0)!=0&&((uD[t+164>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[o+-4>>2]|0)),fD[t+160>>2]=0),uD[t+164>>0]=1,fD[t+160>>2]=e,fD[t+156>>2]=1,o=(fD[t+152>>2]|0)+1|0}else o=1,e=fD[t+160>>2]|0;fD[t+152>>2]=o,fD[e+0>>2]=fD[n+0>>2],fD[e+4>>2]=fD[n+4>>2],fD[e+8>>2]=fD[n+8>>2],fD[e+12>>2]=fD[n+12>>2],fD[e+16>>2]=fD[n+16>>2],fD[e+20>>2]=fD[n+20>>2],fD[e+24>>2]=fD[n+24>>2],fD[e+28>>2]=fD[n+28>>2],b=fD[t+160>>2]|0,y=fD[t+136>>2]|0,pD[b>>1]=pD[y>>1]|0,pD[b+2>>1]=pD[y+2>>1]|0,pD[b+4>>1]=pD[y+4>>1]|0,pD[b+6>>1]=pD[y+6>>1]|0,pD[b+8>>1]=pD[y+8>>1]|0,pD[b+10>>1]=pD[y+10>>1]|0,fD[b+12>>2]=0,y=fD[y+12>>2]|0,fD[b+16>>2]=(y|0)>-1?1:0-y|0}return fD[t+168>>2]=fD[t+152>>2],e=fD[t+116>>2]|0,(e|0)!=0&&((uD[t+120>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[e+-4>>2]|0)),fD[t+116>>2]=0),uD[t+120>>0]=1,fD[t+116>>2]=0,fD[t+108>>2]=0,fD[t+112>>2]=0,e=fD[t+76>>2]|0,(e|0)==0?(uD[t+80>>0]=1,fD[t+76>>2]=0,fD[t+68>>2]=0,b=t+72|0,fD[b>>2]=0,void(bD=n)):((uD[t+80>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[e+-4>>2]|0)),fD[t+76>>2]=0,uD[t+80>>0]=1,fD[t+76>>2]=0,fD[t+68>>2]=0,b=t+72|0,fD[b>>2]=0,void(bD=n))
}function VA(t){return t|=0,84}function LA(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0;return o=bD,av(t,e,i,r)|0,bD=o,1}function kA(t){t|=0}function HA(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function IA(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0;if(s=bD,bD=bD+32|0,l=+gD[e>>2],o=l<0xde0b6b000000000?l:0xde0b6b000000000,c=+gD[e+4>>2],n=c<0xde0b6b000000000?c:0xde0b6b000000000,h=+gD[e+8>>2],a=h<0xde0b6b000000000?h:0xde0b6b000000000,d=+gD[e+12>>2],p=d<0?d:0,l=l>-0xde0b6b000000000?l:-0xde0b6b000000000,c=c>-0xde0b6b000000000?c:-0xde0b6b000000000,h=h>-0xde0b6b000000000?h:-0xde0b6b000000000,d=d>0?d:0,b=+gD[e+16>>2],o=b<o?b:o,v=+gD[e+20>>2],n=v<n?v:n,M=+gD[e+24>>2],a=M<a?M:a,S=+gD[e+28>>2],p=S<p?S:p,l=l<b?b:l,c=c<v?v:c,h=h<M?M:h,d=d<S?S:d,S=+gD[e+32>>2],o=S<o?S:o,M=+gD[e+36>>2],n=M<n?M:n,v=+gD[e+40>>2],a=v<a?v:a,b=+gD[e+44>>2],p=b<p?b:p,l=l<S?S:l,c=c<M?M:c,h=h<v?v:h,d=d<b?b:d,t=fD[t+4>>2]|0,g=fD[t+4>>2]|0,(g|0)==(fD[t+8>>2]|0)?(u=(g|0)==0?1:g<<1,(g|0)<(u|0)):0){if((u|0)==0?e=0:(fD[5004]=(fD[5004]|0)+1,e=Ew(u<<6|19)|0,(e|0)==0?e=0:(fD[(e+19&-16)+-4>>2]=e,e=e+19&-16),g=fD[t+4>>2]|0),(g|0)>0){y=0;do{f=e+(y<<6)+0|0,_=(fD[t+12>>2]|0)+(y<<6)+0|0,m=f+64|0;do fD[f>>2]=fD[_>>2],f=f+4|0,_=_+4|0;while((f|0)<(m|0));y=y+1|0}while((y|0)!=(g|0))}f=fD[t+12>>2]|0,(f|0)!=0&&((uD[t+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[f+-4>>2]|0)),fD[t+12>>2]=0),uD[t+16>>0]=1,fD[t+12>>2]=e,fD[t+8>>2]=u,g=fD[t+4>>2]|0}y=fD[t+12>>2]|0,gD[y+(g<<6)>>2]=o,gD[y+(g<<6)+4>>2]=n,gD[y+(g<<6)+8>>2]=a,gD[y+(g<<6)+12>>2]=p,gD[y+(g<<6)+16>>2]=l,gD[y+(g<<6)+20>>2]=c,gD[y+(g<<6)+24>>2]=h,gD[y+(g<<6)+28>>2]=d,fD[y+(g<<6)+32>>2]=-1,fD[y+(g<<6)+36>>2]=i,fD[y+(g<<6)+40>>2]=r,y=y+(g<<6)+44|0,fD[y+0>>2]=fD[s+0>>2],fD[y+4>>2]=fD[s+4>>2],fD[y+8>>2]=fD[s+8>>2],fD[y+12>>2]=fD[s+12>>2],fD[y+16>>2]=fD[s+16>>2],fD[t+4>>2]=(fD[t+4>>2]|0)+1,bD=s}function OA(t){t|=0}function JA(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function NA(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0;if(o=bD,d=+gD[e>>2],m=d<0xde0b6b000000000?d:0xde0b6b000000000,u=+gD[e+4>>2],g=u<0xde0b6b000000000?u:0xde0b6b000000000,p=+gD[e+8>>2],_=p<0xde0b6b000000000?p:0xde0b6b000000000,d=d>-0xde0b6b000000000?d:-0xde0b6b000000000,u=u>-0xde0b6b000000000?u:-0xde0b6b000000000,p=p>-0xde0b6b000000000?p:-0xde0b6b000000000,v=+gD[e+16>>2],m=v<m?v:m,M=+gD[e+20>>2],g=M<g?M:g,S=+gD[e+24>>2],_=S<_?S:_,d=d<v?v:d,u=u<M?M:u,p=p<S?S:p,S=+gD[e+32>>2],m=S<m?S:m,M=+gD[e+36>>2],g=M<g?M:g,v=+gD[e+40>>2],_=v<_?v:_,d=d<S?S:d,u=u<M?M:u,p=p<v?v:p,d-m<.0020000000949949026&&(d+=.0010000000474974513,m+=-.0010000000474974513),u-g<.0020000000949949026&&(u+=.0010000000474974513,g+=-.0010000000474974513),p-_<.0020000000949949026&&(p+=.0010000000474974513,_+=-.0010000000474974513),e=fD[t+8>>2]|0,E=+gD[e+4>>2],x=+gD[e+8>>2],M=+gD[e+12>>2],T=+gD[e+36>>2],v=+gD[e+40>>2],S=+gD[e+44>>2],e=~~((m-E)*T)&65534,a=~~((g-x)*v)&65534,s=~~((_-M)*S)&65534,l=(~~((d-E)*T+1)&65535|1)&65535,c=(~~((u-x)*v+1)&65535|1)&65535,h=(~~((p-M)*S+1)&65535|1)&65535,t=fD[t+4>>2]|0,b=fD[t+4>>2]|0,(b|0)==(fD[t+8>>2]|0)?(n=(b|0)==0?1:b<<1,(b|0)<(n|0)):0){if((n|0)==0?f=0:(fD[5004]=(fD[5004]|0)+1,f=Ew((n<<4|3)+16|0)|0,(f|0)==0?f=0:(fD[(f+19&-16)+-4>>2]=f,f=f+19&-16),b=fD[t+4>>2]|0),(b|0)>0){y=0;do C=f+(y<<4)|0,A=(fD[t+12>>2]|0)+(y<<4)|0,fD[C+0>>2]=fD[A+0>>2],fD[C+4>>2]=fD[A+4>>2],fD[C+8>>2]=fD[A+8>>2],fD[C+12>>2]=fD[A+12>>2],y=y+1|0;while((y|0)!=(b|0))}y=fD[t+12>>2]|0,(y|0)!=0&&((uD[t+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[y+-4>>2]|0)),fD[t+12>>2]=0),uD[t+16>>0]=1,fD[t+12>>2]=f,fD[t+8>>2]=n,b=fD[t+4>>2]|0}A=fD[t+12>>2]|0,pD[A+(b<<4)>>1]=e,pD[A+(b<<4)+2>>1]=a,pD[A+(b<<4)+4>>1]=s,pD[A+(b<<4)+6>>1]=l,pD[A+(b<<4)+8>>1]=c,pD[A+(b<<4)+10>>1]=h,fD[A+(b<<4)+12>>2]=i<<21|r,fD[t+4>>2]=(fD[t+4>>2]|0)+1,bD=o}function FA(t){t|=0;var e=0,i=0,r=0,o=0,n=0;if(e=bD,fD[t>>2]=15272,uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,fD[t+12>>2]=0,fD[t+24>>2]=0,uD[t+28>>0]=0,uD[t+48>>0]=1,fD[t+44>>2]=0,fD[t+36>>2]=0,fD[t+40>>2]=0,uD[t+68>>0]=1,fD[t+64>>2]=0,fD[t+56>>2]=0,fD[t+60>>2]=0,fD[t+72>>2]=0,fD[5004]=(fD[5004]|0)+1,i=Ew(51)|0,(i|0)==0?i=0:(fD[(i+19&-16)+-4>>2]=i,i=i+19&-16),r=fD[t+8>>2]|0,(r|0)>0){o=0;do n=fD[t+16>>2]|0,fD[i+(o<<4)>>2]=fD[n+(o<<4)>>2],fD[i+(o<<4)+4>>2]=fD[n+(o<<4)+4>>2],fD[i+(o<<4)+8>>2]=fD[n+(o<<4)+8>>2],fD[i+(o<<4)+12>>2]=fD[n+(o<<4)+12>>2],o=o+1|0;while((o|0)!=(r|0))}return r=fD[t+16>>2]|0,(r|0)==0?(uD[t+20>>0]=1,fD[t+16>>2]=i,fD[t+12>>2]=2,GA(t),void(bD=e)):((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[r+-4>>2]|0)),fD[t+16>>2]=0,uD[t+20>>0]=1,fD[t+16>>2]=i,fD[t+12>>2]=2,GA(t),void(bD=e))}function GA(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0;if(i=bD,r=fD[t+12>>2]|0,e=fD[t+36>>2]|0,(e|0)>=(r|0))return void(bD=i);if((e|0)<=(r|0)){if((fD[t+40>>2]|0)<(r|0)){if((r|0)==0?(o=0,a=e):(fD[5004]=(fD[5004]|0)+1,o=Ew((r<<2|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),a=fD[t+36>>2]|0),(a|0)>0){n=0;do s=o+(n<<2)|0,(s|0)!=0&&(fD[s>>2]=fD[(fD[t+44>>2]|0)+(n<<2)>>2]),n=n+1|0;while((n|0)!=(a|0))}n=fD[t+44>>2]|0,(n|0)!=0&&((uD[t+48>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[n+-4>>2]|0)),fD[t+44>>2]=0),uD[t+48>>0]=1,fD[t+44>>2]=o,fD[t+40>>2]=r}else o=fD[t+44>>2]|0;n=e;do a=o+(n<<2)|0,(a|0)!=0&&(fD[a>>2]=0),n=n+1|0;while((n|0)!=(r|0))}if(fD[t+36>>2]=r,o=fD[t+56>>2]|0,(o|0)<(r|0)){if((fD[t+60>>2]|0)<(r|0)){if((r|0)==0?(n=0,a=o):(fD[5004]=(fD[5004]|0)+1,n=Ew((r<<2|3)+16|0)|0,(n|0)==0?n=0:(fD[(n+19&-16)+-4>>2]=n,n=n+19&-16),a=fD[t+56>>2]|0),(a|0)>0){s=0;do l=n+(s<<2)|0,(l|0)!=0&&(fD[l>>2]=fD[(fD[t+64>>2]|0)+(s<<2)>>2]),s=s+1|0;while((s|0)!=(a|0))}a=fD[t+64>>2]|0,(a|0)!=0&&((uD[t+68>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0)),fD[t+64>>2]=0),uD[t+68>>0]=1,fD[t+64>>2]=n,fD[t+60>>2]=r}else n=fD[t+64>>2]|0;do a=n+(o<<2)|0,(a|0)!=0&&(fD[a>>2]=0),o=o+1|0;while((o|0)!=(r|0))}if(fD[t+56>>2]=r,(r|0)>0&&(Rw(fD[t+44>>2]|0,-1,r<<2|0)|0,Rw(fD[t+64>>2]|0,-1,r<<2|0)|0),(e|0)<=0)return void(bD=i);n=fD[t+16>>2]|0,o=fD[t+44>>2]|0,r=fD[t+64>>2]|0,a=0;do l=fD[(fD[n+(a<<4)+4>>2]|0)+12>>2]<<16|fD[(fD[n+(a<<4)>>2]|0)+12>>2],l=(l+~(l<<15)>>10^l+~(l<<15))*9|0,l=o+((((l>>6^l)+~((l>>6^l)<<11)>>16^(l>>6^l)+~((l>>6^l)<<11))&(fD[t+12>>2]|0)+-1)<<2)|0,fD[r+(a<<2)>>2]=fD[l>>2],fD[l>>2]=a,a=a+1|0;while((a|0)!=(e|0));bD=i}function zA(t){t|=0;var e=0;e=bD,jA(t),Cw(t),bD=e}function jA(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=15272,i=fD[t+64>>2]|0,(i|0)!=0&&((uD[t+68>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+64>>2]=0),uD[t+68>>0]=1,fD[t+64>>2]=0,fD[t+56>>2]=0,fD[t+60>>2]=0,i=fD[t+44>>2]|0,(i|0)!=0&&((uD[t+48>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+44>>2]=0),uD[t+48>>0]=1,fD[t+44>>2]=0,fD[t+36>>2]=0,fD[t+40>>2]=0,i=fD[t+16>>2]|0,(i|0)==0?(uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,i=t+12|0,fD[i>>2]=0,void(bD=e)):((uD[t+20>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),fD[t+16>>2]=0,uD[t+20>>0]=1,fD[t+16>>2]=0,fD[t+8>>2]=0,i=t+12|0,fD[i>>2]=0,void(bD=e))}function UA(t,e,i){t|=0,e|=0,i|=0;var r=0;return t=bD,r=fD[e+8>>2]|0,(r|0)==0|(i|0)==0?void(bD=t):(oP[fD[fD[r>>2]>>2]&511](r),aP[fD[(fD[i>>2]|0)+60>>2]&127](i,fD[e+8>>2]|0),fD[e+8>>2]=0,void(bD=t))}function WA(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,bD=bD+16|0,fD[r>>2]=15576,fD[r+4>>2]=e,fD[r+8>>2]=t,fD[r+12>>2]=i,OP[fD[(fD[t>>2]|0)+48>>2]&127](t,r,i),bD=r}function XA(t,e,i){t|=0,e|=0,i|=0;var r=0;r=bD,bD=bD+16|0,fD[r>>2]=15400,fD[r+4>>2]=e,OP[fD[(fD[t>>2]|0)+48>>2]&127](t,r,i),bD=r}function qA(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0;if(o=bD,fD[3814]=(fD[3814]|0)+1,a=(fD[e+12>>2]|0)>(fD[i+12>>2]|0),n=fD[(a?i:e)+12>>2]|0,e=fD[(a?e:i)+12>>2]|0,i=((e<<16|n)+~((e<<16|n)<<15)>>10^(e<<16|n)+~((e<<16|n)<<15))*9|0,i=((i>>6^i)+~((i>>6^i)<<11)>>16^(i>>6^i)+~((i>>6^i)<<11))&(fD[t+12>>2]|0)+-1,(i|0)>=(fD[t+36>>2]|0))return a=0,bD=o,a|0;if(a=fD[(fD[t+44>>2]|0)+(i<<2)>>2]|0,(a|0)==-1)return a=0,bD=o,a|0;for(i=fD[t+16>>2]|0;;){if((fD[(fD[i+(a<<4)>>2]|0)+12>>2]|0)==(n|0)?(fD[(fD[i+(a<<4)+4>>2]|0)+12>>2]|0)==(e|0):0)break;if(a=fD[(fD[t+64>>2]|0)+(a<<2)>>2]|0,(a|0)==-1){n=0,r=8;break}}return(r|0)==8?(bD=o,n|0):(a=i+(a<<4)|0,bD=o,a|0)}function KA(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0;if(r=bD,e=fD[t+4>>2]|0,(e|0)!=(fD[t+8>>2]|0))return a=e,a=a+1|0,fD[t+4>>2]=a,a=t+12|0,a=fD[a>>2]|0,a=a+(e<<4)|0,bD=r,a|0;if(i=(e|0)==0?1:e<<1,(e|0)>=(i|0))return a=e,a=a+1|0,fD[t+4>>2]=a,a=t+12|0,a=fD[a>>2]|0,a=a+(e<<4)|0,bD=r,a|0;if((i|0)==0?(o=0,n=e):(fD[5004]=(fD[5004]|0)+1,o=Ew((i<<4|3)+16|0)|0,(o|0)==0?o=0:(fD[(o+19&-16)+-4>>2]=o,o=o+19&-16),n=fD[t+4>>2]|0),(n|0)>0){a=0;do s=fD[t+12>>2]|0,fD[o+(a<<4)>>2]=fD[s+(a<<4)>>2],fD[o+(a<<4)+4>>2]=fD[s+(a<<4)+4>>2],fD[o+(a<<4)+8>>2]=fD[s+(a<<4)+8>>2],fD[o+(a<<4)+12>>2]=fD[s+(a<<4)+12>>2],a=a+1|0;while((a|0)!=(n|0))}return a=fD[t+12>>2]|0,(a|0)!=0&&((uD[t+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[a+-4>>2]|0),n=fD[t+4>>2]|0),fD[t+12>>2]=0),uD[t+16>>0]=1,fD[t+12>>2]=o,fD[t+8>>2]=i,s=n,s=s+1|0,fD[t+4>>2]=s,s=t+12|0,s=fD[s>>2]|0,s=s+(e<<4)|0,bD=r,s|0}function YA(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0;if(n=bD,fD[3810]=(fD[3810]|0)+1,s=(fD[e+12>>2]|0)>(fD[i+12>>2]|0),a=s?i:e,s=s?e:i,c=fD[a+12>>2]|0,i=fD[s+12>>2]|0,l=((i<<16|c)+~((i<<16|c)<<15)>>10^(i<<16|c)+~((i<<16|c)<<15))*9|0,l=((l>>6^l)+~((l>>6^l)<<11)>>16^(l>>6^l)+~((l>>6^l)<<11))&(fD[t+12>>2]|0)+-1,h=fD[(fD[t+44>>2]|0)+(l<<2)>>2]|0,(h|0)==-1)return u=0,bD=n,u|0;for(e=fD[t+16>>2]|0;;){if((fD[(fD[e+(h<<4)>>2]|0)+12>>2]|0)==(c|0)?(fD[(fD[e+(h<<4)+4>>2]|0)+12>>2]|0)==(i|0):0)break;if(h=fD[(fD[t+64>>2]|0)+(h<<2)>>2]|0,(h|0)==-1){t=0,o=24;break}}if((o|0)==24)return bD=n,t|0;if(i=e+(h<<4)|0,(i|0)==0)return u=0,bD=n,u|0;if(OP[fD[(fD[t>>2]|0)+32>>2]&127](t,i,r),e=fD[e+(h<<4)+12>>2]|0,i=i-(fD[t+16>>2]|0)>>4,l=(fD[t+44>>2]|0)+(l<<2)|0,c=fD[l>>2]|0,h=fD[t+64>>2]|0,(c|0)!=(i|0)){for(;;){if(d=h+(c<<2)|0,u=fD[d>>2]|0,(u|0)==(i|0))break;c=u}h=fD[h+(i<<2)>>2]|0,(c|0)==-1?o=12:fD[d>>2]=h}else h=fD[h+(i<<2)>>2]|0,o=12;if((o|0)==12&&(fD[l>>2]=h),l=(fD[t+8>>2]|0)+-1|0,c=fD[t+72>>2]|0,(c|0)!=0&&uP[fD[(fD[c>>2]|0)+12>>2]&31](c,a,s,r)|0,(l|0)==(i|0))return fD[t+8>>2]=(fD[t+8>>2]|0)+-1,u=e,bD=n,u|0;if(s=fD[t+16>>2]|0,a=fD[(fD[s+(l<<4)+4>>2]|0)+12>>2]<<16|fD[(fD[s+(l<<4)>>2]|0)+12>>2],a=(a+~(a<<15)>>10^a+~(a<<15))*9|0,a=((a>>6^a)+~((a>>6^a)<<11)>>16^(a>>6^a)+~((a>>6^a)<<11))&(fD[t+12>>2]|0)+-1,r=(fD[t+44>>2]|0)+(a<<2)|0,h=fD[r>>2]|0,d=fD[t+64>>2]|0,(h|0)!=(l|0)){for(;;){if(c=d+(h<<2)|0,u=fD[c>>2]|0,(u|0)==(l|0))break;h=u}d=fD[d+(l<<2)>>2]|0,(h|0)==-1?o=22:fD[c>>2]=d}else d=fD[d+(l<<2)>>2]|0,o=22;return(o|0)==22&&(fD[r>>2]=d),fD[s+(i<<4)+0>>2]=fD[s+(l<<4)+0>>2],fD[s+(i<<4)+4>>2]=fD[s+(l<<4)+4>>2],fD[s+(i<<4)+8>>2]=fD[s+(l<<4)+8>>2],fD[s+(i<<4)+12>>2]=fD[s+(l<<4)+12>>2],u=(fD[t+44>>2]|0)+(a<<2)|0,fD[(fD[t+64>>2]|0)+(i<<2)>>2]=fD[u>>2],fD[u>>2]=i,fD[t+8>>2]=(fD[t+8>>2]|0)+-1,u=e,bD=n,u|0}function QA(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0;if(r=bD,(fD[t+8>>2]|0)<=0)return void(bD=r);o=0;t:for(;;){for(;;){if(a=fD[t+16>>2]|0,n=a+(o<<4)|0,!(AP[fD[(fD[e>>2]|0)+8>>2]&31](e,n)|0))break;if(uP[fD[(fD[t>>2]|0)+12>>2]&31](t,fD[n>>2]|0,fD[a+(o<<4)+4>>2]|0,i)|0,fD[3808]=(fD[3808]|0)+-1,(o|0)>=(fD[t+8>>2]|0)){t=7;break t}}if(o=o+1|0,(o|0)>=(fD[t+8>>2]|0)){t=7;break}}return(t|0)==7?void(bD=r):void 0}function ZA(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0;if(i=bD,bD=bD+32|0,uD[i+16>>0]=1,fD[i+12>>2]=0,fD[i+4>>2]=0,fD[i+8>>2]=0,c=fD[t+8>>2]|0,(c|0)>0){for(s=0,r=0,l=0,o=0;;){if(n=fD[t+16>>2]|0,(r|0)==(l|0))if(a=(l|0)==0?1:l<<1,(l|0)<(a|0)){if((a|0)!=0?(fD[5004]=(fD[5004]|0)+1,s=Ew((a<<4|3)+16|0)|0,(s|0)==0?(s=0,l=r):(fD[(s+19&-16)+-4>>2]=s,s=s+19&-16,l=r)):s=0,(l|0)>0){c=0;do h=fD[i+12>>2]|0,fD[s+(c<<4)>>2]=fD[h+(c<<4)>>2],fD[s+(c<<4)+4>>2]=fD[h+(c<<4)+4>>2],fD[s+(c<<4)+8>>2]=fD[h+(c<<4)+8>>2],fD[s+(c<<4)+12>>2]=fD[h+(c<<4)+12>>2],c=c+1|0;while((c|0)!=(l|0))}c=fD[i+12>>2]|0,(c|0)==0?r=l:(fD[5006]=(fD[5006]|0)+1,Cw(fD[c+-4>>2]|0),fD[i+12>>2]=0),uD[i+16>>0]=1,fD[i+12>>2]=s,fD[i+8>>2]=a,c=fD[t+8>>2]|0,l=r}else a=l;else a=l,l=r;if(fD[s+(l<<4)>>2]=fD[n+(o<<4)>>2],fD[s+(l<<4)+4>>2]=fD[n+(o<<4)+4>>2],fD[s+(l<<4)+8>>2]=fD[n+(o<<4)+8>>2],fD[s+(l<<4)+12>>2]=fD[n+(o<<4)+12>>2],r=l+1|0,o=o+1|0,(o|0)>=(c|0))break;l=a}if(fD[i+4>>2]=r,(l|0)>-1){o=0;do uP[fD[(fD[t>>2]|0)+12>>2]&31](t,fD[s+(o<<4)>>2]|0,fD[s+(o<<4)+4>>2]|0,e)|0,o=o+1|0;while((o|0)<(r|0))}}else r=0;if((fD[t+56>>2]|0)>0){e=fD[t+64>>2]|0,o=0;do fD[e+(o<<2)>>2]=-1,o=o+1|0;while((o|0)<(fD[t+56>>2]|0))}if((r|0)>1&&(sp(i,0,r+-1|0),r=fD[i+4>>2]|0),(r|0)>0){e=fD[i+12>>2]|0,o=0;do gP[fD[(fD[t>>2]|0)+8>>2]&31](t,fD[e+(o<<4)>>2]|0,fD[e+(o<<4)+4>>2]|0)|0,o=o+1|0;while((o|0)<(r|0))}else e=fD[i+12>>2]|0;return(e|0)==0?void(bD=i):((uD[i+16>>0]|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[e+-4>>2]|0)),fD[i+12>>2]=0,void(bD=i))}function $A(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0;if(r=bD,fD[3812]=(fD[3812]|0)+1,o=fD[t+24>>2]|0,(o|0)==0){if((pD[i+6>>1]&pD[e+4>>1])<<16>>16==0)return c=0,bD=r,c|0;if((pD[e+6>>1]&pD[i+4>>1])<<16>>16==0)return c=0,bD=r,c|0}else if(!(gP[fD[(fD[o>>2]|0)+8>>2]&31](o,e,i)|0))return c=0,bD=r,c|0;a=(fD[e+12>>2]|0)>(fD[i+12>>2]|0),o=a?i:e,i=a?e:i,a=fD[o+12>>2]|0,l=fD[i+12>>2]|0,e=((l<<16|a)+~((l<<16|a)<<15)>>10^(l<<16|a)+~((l<<16|a)<<15))*9|0,e=(e>>6^e)+~((e>>6^e)<<11)>>16^(e>>6^e)+~((e>>6^e)<<11),n=fD[t+12>>2]|0,c=fD[(fD[t+44>>2]|0)+((e&n+-1)<<2)>>2]|0;t:do if((c|0)!=-1){for(s=fD[t+16>>2]|0;;){if((fD[(fD[s+(c<<4)>>2]|0)+12>>2]|0)==(a|0)?(fD[(fD[s+(c<<4)+4>>2]|0)+12>>2]|0)==(l|0):0)break;if(c=fD[(fD[t+64>>2]|0)+(c<<2)>>2]|0,(c|0)==-1)break t}if(a=s+(c<<4)|0,(a|0)!=0)return c=a,bD=r,c|0}while(0);return s=fD[t+8>>2]|0,a=KA(t+4|0)|0,l=fD[t+72>>2]|0,(l|0)!=0&&gP[fD[(fD[l>>2]|0)+8>>2]&31](l,o,i)|0,(n|0)<(fD[t+12>>2]|0)?(GA(t),e=(fD[t+12>>2]|0)+-1&e):e&=n+-1,(fD[o+12>>2]|0)<(fD[i+12>>2]|0)?(fD[a>>2]=o,fD[a+4>>2]=i):(fD[a>>2]=i,fD[a+4>>2]=o),fD[a+8>>2]=0,fD[a+12>>2]=0,c=(fD[t+44>>2]|0)+(e<<2)|0,fD[(fD[t+64>>2]|0)+(s<<2)>>2]=fD[c>>2],fD[c>>2]=s,c=a,bD=r,c|0}function tw(t){return t|=0,fD[t+16>>2]|0}function ew(t){return t|=0,fD[t+16>>2]|0}function iw(t){return t|=0,t+4|0}function rw(t){return t|=0,fD[t+8>>2]|0}function ow(t,e){t|=0,e|=0,fD[t+24>>2]=e}function nw(t){return t|=0,0}function aw(t,e){t|=0,e|=0,fD[t+72>>2]=e}function sw(t){t|=0}function lw(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function cw(t,e){t|=0,e|=0;var i=0;return i=bD,t=fD[t+4>>2]|0,(fD[e>>2]|0)==(t|0)?(t=1,bD=i,t|0):(t=(fD[e+4>>2]|0)==(t|0),bD=i,t|0)}function hw(t){t|=0}function dw(t){t|=0;var e=0;e=bD,Cw(t),bD=e}function uw(t,e){t|=0,e|=0;var i=0,r=0;return i=bD,r=fD[t+4>>2]|0,((fD[e>>2]|0)!=(r|0)?(fD[e+4>>2]|0)!=(r|0):0)?(bD=i,0):(r=fD[t+8>>2]|0,OP[fD[(fD[r>>2]|0)+32>>2]&127](r,e,fD[t+12>>2]|0),bD=i,0)}function pw(t,e){t|=0,e|=0;var i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0;return i=bD,o=fD[t+748>>2]|0,(o|0)!=4?(fD[t+748>>2]=o+1,S=o,l=(S|0)<0,S=l?0:S,l=t+(S*184|0)+4|0,Bw(l|0,e|0,184)|0,bD=i,S|0):(r=+gD[e+80>>2],M=+gD[t+84>>2],v=M<r?M:r,b=+gD[t+268>>2],y=b<v?b:v,g=+gD[t+452>>2],l=+gD[t+636>>2]<(g<y?g:y),S=l?3:g<y?2:b<v?1:(M<r^1)<<31>>31,r=+gD[e>>2],(S|0)!=0?(c=+gD[t+188>>2],u=+gD[e+4>>2],h=+gD[t+192>>2],s=+gD[e+8>>2],d=+gD[t+196>>2],g=+gD[t+556>>2],m=+gD[t+372>>2],b=+gD[t+560>>2],y=+gD[t+376>>2],p=+gD[t+564>>2],_=+gD[t+380>>2],n=((r-c)*(b-y)-(u-h)*(g-m))*((r-c)*(b-y)-(u-h)*(g-m))+(((u-h)*(p-_)-(s-d)*(b-y))*((u-h)*(p-_)-(s-d)*(b-y))+((s-d)*(g-m)-(r-c)*(p-_))*((s-d)*(g-m)-(r-c)*(p-_))),(S|0)==1?(a=+gD[t+12>>2],M=p,p=0,f=+gD[t+4>>2],v=+gD[t+8>>2],o=7):(M=p,o=6)):(c=+gD[t+188>>2],h=+gD[t+192>>2],d=+gD[t+196>>2],n=0,u=+gD[e+4>>2],s=+gD[e+8>>2],m=+gD[t+372>>2],g=+gD[t+556>>2],y=+gD[t+376>>2],b=+gD[t+560>>2],_=+gD[t+380>>2],M=+gD[t+564>>2],o=6),(o|0)==6&&(f=+gD[t+4>>2],v=+gD[t+8>>2],C=u-v,a=+gD[t+12>>2],T=s-a,x=g-m,E=b-y,p=M-_,p=((r-f)*E-C*x)*((r-f)*E-C*x)+((C*p-T*E)*(C*p-T*E)+(T*x-(r-f)*p)*(T*x-(r-f)*p)),(S|0)==2?(g=v,b=0,o=8):o=7),(o|0)==7&&(C=r-f,A=u-v,T=s-a,E=g-c,x=b-h,b=M-d,b=(C*x-A*E)*(C*x-A*E)+((A*b-T*x)*(A*b-T*x)+(T*E-C*b)*(T*E-C*b)),l?r=0:(g=v,o=8)),(o|0)==8&&(A=r-f,x=u-g,E=s-a,C=m-c,T=y-h,r=_-d,r=(A*T-x*C)*(A*T-x*C)+((x*r-E*T)*(x*r-E*T)+(E*C-A*r)*(E*C-A*r))),A=+ED(+n),E=+ED(+p),x=+ED(+b),M=+ED(+r),C=A>-0xde0b6b000000000?A:-0xde0b6b000000000,T=E>C?E:C,S=M>(x>T?x:T)?3:x>T?2:E>C?1:(A>-0xde0b6b000000000^1)<<31>>31,l=(S|0)<0,S=l?0:S,l=t+(S*184|0)+4|0,Bw(l|0,e|0,184)|0,bD=i,S|0)}function fw(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0;if(r=bD,o=fD[t+748>>2]|0,(o|0)<=0)return void(bD=r);do o=o+-1|0,u=+gD[t+(o*184|0)+4>>2],p=+gD[t+(o*184|0)+8>>2],n=+gD[t+(o*184|0)+12>>2],d=u*+gD[e>>2]+p*+gD[e+4>>2]+n*+gD[e+8>>2]+ +gD[e+48>>2],c=u*+gD[e+16>>2]+p*+gD[e+20>>2]+n*+gD[e+24>>2]+ +gD[e+52>>2],n=u*+gD[e+32>>2]+p*+gD[e+36>>2]+n*+gD[e+40>>2]+ +gD[e+56>>2],gD[t+(o*184|0)+52>>2]=d,gD[t+(o*184|0)+56>>2]=c,gD[t+(o*184|0)+60>>2]=n,gD[t+(o*184|0)+64>>2]=0,p=+gD[t+(o*184|0)+20>>2],u=+gD[t+(o*184|0)+24>>2],a=+gD[t+(o*184|0)+28>>2],h=p*+gD[i>>2]+u*+gD[i+4>>2]+a*+gD[i+8>>2]+ +gD[i+48>>2],l=p*+gD[i+16>>2]+u*+gD[i+20>>2]+a*+gD[i+24>>2]+ +gD[i+52>>2],a=p*+gD[i+32>>2]+u*+gD[i+36>>2]+a*+gD[i+40>>2]+ +gD[i+56>>2],gD[t+(o*184|0)+36>>2]=h,gD[t+(o*184|0)+40>>2]=l,gD[t+(o*184|0)+44>>2]=a,gD[t+(o*184|0)+48>>2]=0,gD[t+(o*184|0)+84>>2]=(d-h)*+gD[t+(o*184|0)+68>>2]+(c-l)*+gD[t+(o*184|0)+72>>2]+(n-a)*+gD[t+(o*184|0)+76>>2],s=t+(o*184|0)+152|0,fD[s>>2]=(fD[s>>2]|0)+1;while((o|0)>0);if(e=fD[t+748>>2]|0,(e|0)<=0)return void(bD=r);i=e;do e=e+-1|0,o=t+(e*184|0)+4|0,a=+gD[t+(e*184|0)+84>>2],n=+gD[t+752>>2],a<=n?(d=+gD[t+(e*184|0)+36>>2]-(+gD[t+(e*184|0)+52>>2]-+gD[t+(e*184|0)+68>>2]*a),u=+gD[t+(e*184|0)+40>>2]-(+gD[t+(e*184|0)+56>>2]-a*+gD[t+(e*184|0)+72>>2]),p=+gD[t+(e*184|0)+44>>2]-(+gD[t+(e*184|0)+60>>2]-a*+gD[t+(e*184|0)+76>>2]),d*d+u*u+p*p>n*n&&(s=i+-1|0,(s|0)!=(e|0)&&(Bw(o|0,t+(s*184|0)+4|0,184)|0,fD[t+(s*184|0)+116>>2]=0,gD[t+(s*184|0)+124>>2]=0,uD[t+(s*184|0)+120>>0]=0,gD[t+(s*184|0)+128>>2]=0,gD[t+(s*184|0)+132>>2]=0,fD[t+(s*184|0)+152>>2]=0,i=fD[t+748>>2]|0),i=i+-1|0,fD[t+748>>2]=i)):(s=i+-1|0,(s|0)!=(e|0)&&(Bw(o|0,t+(s*184|0)+4|0,184)|0,fD[t+(s*184|0)+116>>2]=0,gD[t+(s*184|0)+124>>2]=0,uD[t+(s*184|0)+120>>0]=0,gD[t+(s*184|0)+128>>2]=0,gD[t+(s*184|0)+132>>2]=0,fD[t+(s*184|0)+152>>2]=0,i=fD[t+748>>2]|0),i=i+-1|0,fD[t+748>>2]=i);while((e|0)>0);bD=r}function _w(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=15736,i=fD[t+52>>2]|0,(i|0)!=0&&(oP[fD[fD[i>>2]>>2]&511](i),i=fD[t+52>>2]|0,(i|0)!=0&&(fD[5006]=(fD[5006]|0)+1,Cw(fD[i+-4>>2]|0)),(t|0)==0)?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e))}function mw(t){t|=0;var e=0,i=0;return e=bD,fD[t>>2]=15736,i=fD[t+52>>2]|0,(i|0)==0?void(bD=e):(oP[fD[fD[i>>2]>>2]&511](i),t=fD[t+52>>2]|0,(t|0)==0?void(bD=e):(fD[5006]=(fD[5006]|0)+1,Cw(fD[t+-4>>2]|0),void(bD=e)))}function gw(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0,s=0;n=bD,a=fD[t+4>>2]|0,s=(a&1|0)==0?a>>8:fD[(fD[i>>2]|0)+(a>>8)>>2]|0,t=fD[t>>2]|0,iP[fD[(fD[t>>2]|0)+24>>2]&31](t,e,i+s|0,(a&2|0)!=0?r:2,o),bD=n}function yw(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0;var n=0,a=0;if(n=bD,(t|0)==(fD[e+8>>2]|0))return(fD[e+4>>2]|0)!=(i|0)?void(bD=n):(fD[e+28>>2]|0)==1?void(bD=n):(fD[e+28>>2]=r,void(bD=n));if((t|0)!=(fD[e>>2]|0))return t=fD[t+8>>2]|0,iP[fD[(fD[t>>2]|0)+24>>2]&31](t,e,i,r,o),void(bD=n);if((fD[e+16>>2]|0)!=(i|0)?(fD[e+20>>2]|0)!=(i|0):0){if(fD[e+32>>2]=r,(fD[e+44>>2]|0)==4)return void(bD=n);uD[e+52>>0]=0,uD[e+53>>0]=0,t=fD[t+8>>2]|0,yP[fD[(fD[t>>2]|0)+20>>2]&7](t,e,i,i,1,o),(uD[e+53>>0]|0)!=0?(uD[e+52>>0]|0)==0&&(r=1,a=13):(r=0,a=13);do if((a|0)==13){if(fD[e+20>>2]=i,fD[e+40>>2]=(fD[e+40>>2]|0)+1,(fD[e+36>>2]|0)==1?(fD[e+24>>2]|0)==2:0){if(uD[e+54>>0]=1,r)break}else a=16;if((a|0)==16?r:0)break;return fD[e+44>>2]=4,void(bD=n)}while(0);return fD[e+44>>2]=3,void(bD=n)}return(r|0)!=1?void(bD=n):(fD[e+32>>2]=1,void(bD=n))}function bw(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,o=bD,(fD[e+8>>2]|0)==(t|0)?(fD[e+4>>2]|0)!=(i|0)?void(bD=o):(fD[e+28>>2]|0)==1?void(bD=o):(fD[e+28>>2]=r,void(bD=o)):(fD[e>>2]|0)!=(t|0)?void(bD=o):((fD[e+16>>2]|0)!=(i|0)?(fD[e+20>>2]|0)!=(i|0):0)?(fD[e+32>>2]=r,fD[e+20>>2]=i,fD[e+40>>2]=(fD[e+40>>2]|0)+1,((fD[e+36>>2]|0)==1?(fD[e+24>>2]|0)==2:0)&&(uD[e+54>>0]=1),fD[e+44>>2]=4,void(bD=o)):(r|0)!=1?void(bD=o):(fD[e+32>>2]=1,void(bD=o))}function vw(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0,s=0,l=0,c=0,h=0;if(a=bD,(t|0)==(fD[e+8>>2]|0))return hT(e,i,r,o),void(bD=a);s=uD[e+52>>0]|0,l=uD[e+53>>0]|0,c=fD[t+12>>2]|0,uD[e+52>>0]=0,uD[e+53>>0]=0,uT(t+16|0,e,i,r,o,n);t:do if((c|0)>1){h=t+24|0;do{if((uD[e+54>>0]|0)!=0)break t;if((uD[e+52>>0]|0)==0){if((uD[e+53>>0]|0)!=0?(fD[t+8>>2]&1|0)==0:0)break t}else{if((fD[e+24>>2]|0)==1)break t;if((fD[t+8>>2]&2|0)==0)break t}uD[e+52>>0]=0,uD[e+53>>0]=0,uT(h,e,i,r,o,n),h=h+8|0}while(h>>>0<(t+(c<<3)+16|0)>>>0)}while(0);uD[e+52>>0]=s,uD[e+53>>0]=l,bD=a}function Mw(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0;var a=0;return a=bD,(t|0)==(fD[e+8>>2]|0)?(hT(e,i,r,o),void(bD=a)):(t=fD[t+8>>2]|0,yP[fD[(fD[t>>2]|0)+20>>2]&7](t,e,i,r,o,n),void(bD=a))}function Sw(t,e,i,r,o,n){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,n=bD,(fD[e+8>>2]|0)!=(t|0)?void(bD=n):(hT(e,i,r,o),void(bD=n))}function xw(t,e,i){t|=0,e|=0,i|=0;var r=0;return r=bD,bD=bD+16|0,fD[r>>2]=fD[i>>2],(e=gP[fD[(fD[t>>2]|0)+16>>2]&31](t,e,r)|0)?(fD[i>>2]=fD[r>>2],bD=r,e&1|0):(bD=r,e&1|0)}function Tw(t){t|=0;var e=0;return e=bD,t=(t|0)==0?0:(cT(t,20896)|0)!=0,bD=e,t&1|0}function Ew(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0,M=0,S=0,x=0,T=0,E=0,C=0,A=0,w=0;e=bD;do if(t>>>0<245){if(u=t>>>0<11?16:t+11&-8,y=u>>>3,p=fD[5286]|0,(p>>>y&3|0)!=0){r=fD[21184+(((p>>>y&1^1)+y<<1)+2<<2)>>2]|0,i=fD[r+8>>2]|0;do if((21184+((p>>>y&1^1)+y<<1<<2)|0)!=(i|0)){if(i>>>0<(fD[5290]|0)>>>0&&YD(),(fD[i+12>>2]|0)==(r|0)){fD[i+12>>2]=21184+((p>>>y&1^1)+y<<1<<2),fD[21184+(((p>>>y&1^1)+y<<1)+2<<2)>>2]=i;break}YD()}else fD[5286]=p&~(1<<(p>>>y&1^1)+y);while(0);return fD[r+4>>2]=(p>>>y&1^1)+y<<3|3,fD[r+((p>>>y&1^1)+y<<3|4)>>2]=fD[r+((p>>>y&1^1)+y<<3|4)>>2]|1,w=r+8|0,bD=e,w|0}if(u>>>0>(fD[5288]|0)>>>0){if((p>>>y|0)!=0){r=(p>>>y<<y&(2<<y|0-(2<<y))&0-(p>>>y<<y&(2<<y|0-(2<<y))))+-1|0,i=r>>>(r>>>12&16)>>>(r>>>(r>>>12&16)>>>5&8),n=i>>>(i>>>2&4)>>>(i>>>(i>>>2&4)>>>1&2),n=(r>>>(r>>>12&16)>>>5&8|r>>>12&16|i>>>2&4|i>>>(i>>>2&4)>>>1&2|n>>>1&1)+(n>>>(n>>>1&1))|0,i=fD[21184+((n<<1)+2<<2)>>2]|0,r=fD[i+8>>2]|0;do if((21184+(n<<1<<2)|0)!=(r|0)){if(r>>>0<(fD[5290]|0)>>>0&&YD(),(fD[r+12>>2]|0)==(i|0)){fD[r+12>>2]=21184+(n<<1<<2),fD[21184+((n<<1)+2<<2)>>2]=r;break}YD()}else fD[5286]=p&~(1<<n);while(0);return o=(n<<3)-u|0,fD[i+4>>2]=u|3,r=i+u|0,fD[i+(u|4)>>2]=o|1,fD[i+(n<<3)>>2]=o,a=fD[5288]|0,(a|0)!=0&&(n=fD[5291]|0,s=fD[5286]|0,(s&1<<(a>>>3)|0)!=0?(s=fD[21184+((a>>>3<<1)+2<<2)>>2]|0,s>>>0<(fD[5290]|0)>>>0?YD():(C=21184+((a>>>3<<1)+2<<2)|0,E=s)):(fD[5286]=s|1<<(a>>>3),C=21184+((a>>>3<<1)+2<<2)|0,E=21184+(a>>>3<<1<<2)|0),fD[C>>2]=n,fD[E+12>>2]=n,fD[n+8>>2]=E,fD[n+12>>2]=21184+(a>>>3<<1<<2)),fD[5288]=o,fD[5291]=r,w=i+8|0,bD=e,w|0}if(p=fD[5287]|0,(p|0)!=0){for(r=((p&0-p)+-1|0)>>>(((p&0-p)+-1|0)>>>12&16),i=r>>>(r>>>5&8)>>>(r>>>(r>>>5&8)>>>2&4),i=fD[21448+((r>>>5&8|((p&0-p)+-1|0)>>>12&16|r>>>(r>>>5&8)>>>2&4|i>>>1&2|i>>>(i>>>1&2)>>>1&1)+(i>>>(i>>>1&2)>>>(i>>>(i>>>1&2)>>>1&1))<<2)>>2]|0,r=(fD[i+4>>2]&-8)-u|0,o=i;;){if(n=fD[o+16>>2]|0,(n|0)==0&&(n=fD[o+20>>2]|0,(n|0)==0))break;o=(fD[n+4>>2]&-8)-u|0,w=o>>>0<r>>>0,r=w?o:r,o=n,i=w?n:i}a=fD[5290]|0,i>>>0<a>>>0&&YD(),o=i+u|0,i>>>0<o>>>0||YD(),n=fD[i+24>>2]|0,s=fD[i+12>>2]|0;do if((s|0)==(i|0)){if(l=i+20|0,s=fD[l>>2]|0,(s|0)==0&&(l=i+16|0,s=fD[l>>2]|0,(s|0)==0)){T=0;break}for(;;)if(c=s+20|0,h=fD[c>>2]|0,(h|0)==0){if(h=s+16|0,c=fD[h>>2]|0,(c|0)==0)break;s=c,l=h}else s=h,l=c;if(!(l>>>0<a>>>0)){fD[l>>2]=0,T=s;break}YD()}else{if(l=fD[i+8>>2]|0,l>>>0<a>>>0&&YD(),(fD[l+12>>2]|0)!=(i|0)&&YD(),(fD[s+8>>2]|0)==(i|0)){fD[l+12>>2]=s,fD[s+8>>2]=l,T=s;break}YD()}while(0);do if((n|0)!=0){if(a=fD[i+28>>2]|0,(i|0)==(fD[21448+(a<<2)>>2]|0)){if(fD[21448+(a<<2)>>2]=T,(T|0)==0){fD[5287]=fD[5287]&~(1<<a);break}}else if(n>>>0<(fD[5290]|0)>>>0&&YD(),(fD[n+16>>2]|0)==(i|0)?fD[n+16>>2]=T:fD[n+20>>2]=T,(T|0)==0)break;T>>>0<(fD[5290]|0)>>>0&&YD(),fD[T+24>>2]=n,n=fD[i+16>>2]|0;do if((n|0)!=0){if(!(n>>>0<(fD[5290]|0)>>>0)){fD[T+16>>2]=n,fD[n+24>>2]=T;break}YD()}while(0);if(n=fD[i+20>>2]|0,(n|0)!=0){if(!(n>>>0<(fD[5290]|0)>>>0)){fD[T+20>>2]=n,fD[n+24>>2]=T;break}YD()}}while(0);return r>>>0<16?(w=r+u|0,fD[i+4>>2]=w|3,w=i+(w+4)|0,fD[w>>2]=fD[w>>2]|1):(fD[i+4>>2]=u|3,fD[i+(u|4)>>2]=r|1,fD[i+(r+u)>>2]=r,n=fD[5288]|0,(n|0)!=0&&(a=fD[5291]|0,s=fD[5286]|0,(s&1<<(n>>>3)|0)!=0?(s=fD[21184+((n>>>3<<1)+2<<2)>>2]|0,s>>>0<(fD[5290]|0)>>>0?YD():(x=21184+((n>>>3<<1)+2<<2)|0,S=s)):(fD[5286]=s|1<<(n>>>3),x=21184+((n>>>3<<1)+2<<2)|0,S=21184+(n>>>3<<1<<2)|0),fD[x>>2]=a,fD[S+12>>2]=a,fD[a+8>>2]=S,fD[a+12>>2]=21184+(n>>>3<<1<<2)),fD[5288]=r,fD[5291]=o),w=i+8|0,bD=e,w|0}}}else if(t>>>0>4294967231)u=-1;else if(u=t+11&-8,T=fD[5287]|0,(T|0)!=0){((t+11|0)>>>8|0)!=0?u>>>0>16777215?E=31:(E=(t+11|0)>>>8<<((((t+11|0)>>>8)+1048320|0)>>>16&8),E=14-((E+520192|0)>>>16&4|(((t+11|0)>>>8)+1048320|0)>>>16&8|((E<<((E+520192|0)>>>16&4))+245760|0)>>>16&2)+(E<<((E+520192|0)>>>16&4)<<(((E<<((E+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0,E=u>>>(E+7|0)&1|E<<1):E=0,C=fD[21448+(E<<2)>>2]|0;t:do if((C|0)==0)x=0-u|0,t=0,S=0;else for(S=(E|0)==31?0:25-(E>>>1)|0,x=0-u|0,t=0,A=u<<S,S=0;;){if(w=fD[C+4>>2]&-8,(w-u|0)>>>0<x>>>0){if((w|0)==(u|0)){x=w-u|0,t=C,S=C;break t}x=w-u|0,S=C}if(w=fD[C+20>>2]|0,C=fD[C+(A>>>31<<2)+16>>2]|0,t=(w|0)==0|(w|0)==(C|0)?t:w,(C|0)==0)break;A<<=1}while(0);if((t|0)==0&(S|0)==0){if(E=2<<E,(T&(E|0-E)|0)==0)break;A=(T&(E|0-E)&0-(T&(E|0-E)))+-1|0,w=A>>>(A>>>12&16)>>>(A>>>(A>>>12&16)>>>5&8),t=w>>>(w>>>2&4)>>>(w>>>(w>>>2&4)>>>1&2),t=fD[21448+((A>>>(A>>>12&16)>>>5&8|A>>>12&16|w>>>2&4|w>>>(w>>>2&4)>>>1&2|t>>>1&1)+(t>>>(t>>>1&1))<<2)>>2]|0}if((t|0)!=0)for(;;)if(w=(fD[t+4>>2]&-8)-u|0,T=w>>>0<x>>>0,x=T?w:x,S=T?t:S,T=fD[t+16>>2]|0,(T|0)==0){if(t=fD[t+20>>2]|0,(t|0)==0)break}else t=T;if((S|0)!=0?x>>>0<((fD[5288]|0)-u|0)>>>0:0){o=fD[5290]|0,S>>>0<o>>>0&&YD(),i=S+u|0,S>>>0<i>>>0||YD(),r=fD[S+24>>2]|0,n=fD[S+12>>2]|0;do if((n|0)==(S|0)){if(a=S+20|0,n=fD[a>>2]|0,(n|0)==0&&(a=S+16|0,n=fD[a>>2]|0,(n|0)==0)){M=0;break}for(;;)if(l=n+20|0,s=fD[l>>2]|0,(s|0)==0){if(l=n+16|0,s=fD[l>>2]|0,(s|0)==0)break;n=s,a=l}else n=s,a=l;if(!(a>>>0<o>>>0)){fD[a>>2]=0,M=n;break}YD()}else{if(a=fD[S+8>>2]|0,a>>>0<o>>>0&&YD(),(fD[a+12>>2]|0)!=(S|0)&&YD(),(fD[n+8>>2]|0)==(S|0)){fD[a+12>>2]=n,fD[n+8>>2]=a,M=n;break}YD()}while(0);do if((r|0)!=0){if(o=fD[S+28>>2]|0,(S|0)==(fD[21448+(o<<2)>>2]|0)){if(fD[21448+(o<<2)>>2]=M,(M|0)==0){fD[5287]=fD[5287]&~(1<<o);break}}else if(r>>>0<(fD[5290]|0)>>>0&&YD(),(fD[r+16>>2]|0)==(S|0)?fD[r+16>>2]=M:fD[r+20>>2]=M,(M|0)==0)break;M>>>0<(fD[5290]|0)>>>0&&YD(),fD[M+24>>2]=r,r=fD[S+16>>2]|0;do if((r|0)!=0){if(!(r>>>0<(fD[5290]|0)>>>0)){fD[M+16>>2]=r,fD[r+24>>2]=M;break}YD()}while(0);if(r=fD[S+20>>2]|0,(r|0)!=0){if(!(r>>>0<(fD[5290]|0)>>>0)){fD[M+20>>2]=r,fD[r+24>>2]=M;break}YD()}}while(0);t:do if(x>>>0<16)w=x+u|0,fD[S+4>>2]=w|3,w=S+(w+4)|0,fD[w>>2]=fD[w>>2]|1;else{if(fD[S+4>>2]=u|3,fD[S+(u|4)>>2]=x|1,fD[S+(x+u)>>2]=x,r=x>>>3,x>>>0<256){o=fD[5286]|0;do if((o&1<<r|0)==0)fD[5286]=o|1<<r,b=21184+((r<<1)+2<<2)|0,y=21184+(r<<1<<2)|0;else{if(o=fD[21184+((r<<1)+2<<2)>>2]|0,!(o>>>0<(fD[5290]|0)>>>0)){b=21184+((r<<1)+2<<2)|0,y=o;break}YD()}while(0);fD[b>>2]=i,fD[y+12>>2]=i,fD[S+(u+8)>>2]=y,fD[S+(u+12)>>2]=21184+(r<<1<<2);break}if(r=x>>>8,(r|0)!=0?x>>>0>16777215?r=31:(w=r<<((r+1048320|0)>>>16&8)<<(((r<<((r+1048320|0)>>>16&8))+520192|0)>>>16&4),r=14-(((r<<((r+1048320|0)>>>16&8))+520192|0)>>>16&4|(r+1048320|0)>>>16&8|(w+245760|0)>>>16&2)+(w<<((w+245760|0)>>>16&2)>>>15)|0,r=x>>>(r+7|0)&1|r<<1):r=0,o=21448+(r<<2)|0,fD[S+(u+28)>>2]=r,fD[S+(u+20)>>2]=0,fD[S+(u+16)>>2]=0,a=fD[5287]|0,n=1<<r,(a&n|0)==0){fD[5287]=a|n,fD[o>>2]=i,fD[S+(u+24)>>2]=o,fD[S+(u+12)>>2]=i,fD[S+(u+8)>>2]=i;break}o=fD[o>>2]|0,r=(r|0)==31?0:25-(r>>>1)|0;e:do if((fD[o+4>>2]&-8|0)!=(x|0)){for(r=x<<r;;){if(n=o+(r>>>31<<2)+16|0,a=fD[n>>2]|0,(a|0)==0)break;if((fD[a+4>>2]&-8|0)==(x|0)){p=a;break e}r<<=1,o=a}if(!(n>>>0<(fD[5290]|0)>>>0)){fD[n>>2]=i,fD[S+(u+24)>>2]=o,fD[S+(u+12)>>2]=i,fD[S+(u+8)>>2]=i;break t}YD()}else p=o;while(0);if(r=p+8|0,o=fD[r>>2]|0,n=fD[5290]|0,p>>>0<n>>>0&&YD(),!(o>>>0<n>>>0)){fD[o+12>>2]=i,fD[r>>2]=i,fD[S+(u+8)>>2]=o,fD[S+(u+12)>>2]=p,fD[S+(u+24)>>2]=0;break}YD()}while(0);return w=S+8|0,bD=e,w|0}}while(0);if(p=fD[5288]|0,!(u>>>0>p>>>0))return i=p-u|0,r=fD[5291]|0,i>>>0>15?(fD[5291]=r+u,fD[5288]=i,fD[r+(u+4)>>2]=i|1,fD[r+p>>2]=i,fD[r+4>>2]=u|3):(fD[5288]=0,fD[5291]=0,fD[r+4>>2]=p|3,fD[r+(p+4)>>2]=fD[r+(p+4)>>2]|1),w=r+8|0,bD=e,w|0;if(p=fD[5289]|0,u>>>0<p>>>0)return A=p-u|0,fD[5289]=A,w=fD[5292]|0,fD[5292]=w+u,fD[w+(u+4)>>2]=A|1,fD[w+4>>2]=u|3,w=w+8|0,bD=e,w|0;do if((fD[5404]|0)==0){if(p=FD(30)|0,(p+-1&p|0)==0){fD[5406]=p,fD[5405]=p,fD[5407]=-1,fD[5408]=-1,fD[5409]=0,fD[5397]=0,fD[5404]=(ZD(0)|0)&-16^1431655768;break}YD()}while(0);if(b=u+48|0,p=fD[5406]|0,M=u+47|0,y=p+M&0-p,!(y>>>0>u>>>0))return w=0,bD=e,w|0;if(S=fD[5396]|0,(S|0)!=0?(w=fD[5394]|0,(w+y|0)>>>0<=w>>>0|(w+y|0)>>>0>S>>>0):0)return w=0,bD=e,w|0;t:do if((fD[5397]&4|0)==0){S=fD[5292]|0;e:do if((S|0)!=0){for(x=21592;;){if(T=fD[x>>2]|0,T>>>0>S>>>0?0:(v=x+4|0,(T+(fD[v>>2]|0)|0)>>>0>S>>>0))break;if(x=fD[x+8>>2]|0,(x|0)==0){d=182;break e}}(x|0)!=0?(T=p+M-(fD[5289]|0)&0-p,T>>>0<2147483647?(p=ND(T|0)|0,x=(p|0)==((fD[x>>2]|0)+(fD[v>>2]|0)|0),v=p,S=T,p=x?p:-1,x=x?T:0,d=191):x=0):d=182}else d=182;while(0);do if((d|0)==182)if(x=ND(0)|0,(x|0)!=-1)if(p=fD[5405]|0,T=(p+-1&x|0)==0?y:y-x+(p+-1+x&0-p)|0,v=fD[5394]|0,p=v+T|0,T>>>0>u>>>0&T>>>0<2147483647){if(w=fD[5396]|0,(w|0)!=0?p>>>0<=v>>>0|p>>>0>w>>>0:0){x=0;break}d=ND(T|0)|0,v=d,S=T,p=(d|0)==(x|0)?x:-1,x=(d|0)==(x|0)?T:0,d=191}else x=0;else x=0;while(0);e:do if((d|0)==191){if(d=0-S|0,(p|0)!=-1){f=x,d=202;break t}do if((v|0)!=-1&S>>>0<2147483647&S>>>0<b>>>0?(g=fD[5406]|0,g=M-S+g&0-g,g>>>0<2147483647):0){if((ND(g|0)|0)==-1){ND(d|0)|0;break e}S=g+S|0;break}while(0);if((v|0)!=-1){p=v,f=S,d=202;break t}}while(0);fD[5397]=fD[5397]|4,d=199}else x=0,d=199;while(0);if(((((d|0)==199?y>>>0<2147483647:0)?(m=ND(y|0)|0,_=ND(0)|0,(_|0)!=-1&(m|0)!=-1&m>>>0<_>>>0):0)?f=(_-m|0)>>>0>(u+40|0)>>>0:0)&&(p=m,f=f?_-m|0:x,d=202),(d|0)==202){_=(fD[5394]|0)+f|0,fD[5394]=_,_>>>0>(fD[5395]|0)>>>0&&(fD[5395]=_),_=fD[5292]|0;t:do if((_|0)!=0){for(v=21592;;){if(g=fD[v>>2]|0,y=v+4|0,b=fD[y>>2]|0,(p|0)==(g+b|0)){d=214;break}if(m=fD[v+8>>2]|0,(m|0)==0)break;v=m}if(((d|0)==214?(fD[v+12>>2]&8|0)==0:0)?_>>>0>=g>>>0&_>>>0<p>>>0:0){fD[y>>2]=b+f,r=(fD[5289]|0)+f|0,i=(_+8&7|0)==0?0:0-(_+8)&7,w=r-i|0,fD[5292]=_+i,fD[5289]=w,fD[_+(i+4)>>2]=w|1,fD[_+(r+4)>>2]=40,fD[5293]=fD[5408];break}for(p>>>0<(fD[5290]|0)>>>0&&(fD[5290]=p),g=p+f|0,m=21592;;){if((fD[m>>2]|0)==(g|0)){d=224;break}if(y=fD[m+8>>2]|0,(y|0)==0)break;m=y}if((d|0)==224?(fD[m+12>>2]&8|0)==0:0){fD[m>>2]=p,a=m+4|0,fD[a>>2]=(fD[a>>2]|0)+f,a=p+8|0,a=(a&7|0)==0?0:0-a&7,l=p+(f+8)|0,_=(l&7|0)==0?0:0-l&7,m=p+(_+f)|0,l=a+u|0,c=p+l|0,h=m-(p+a)-u|0,fD[p+(a+4)>>2]=u|3;e:do if((m|0)!=(fD[5292]|0)){if((m|0)==(fD[5291]|0)){w=(fD[5288]|0)+h|0,fD[5288]=w,fD[5291]=c,fD[p+(l+4)>>2]=w|1,fD[p+(w+l)>>2]=w;break}if(u=f+4|0,d=fD[p+(u+_)>>2]|0,(d&3|0)==1){i:do if(d>>>0<256){n=fD[p+((_|8)+f)>>2]|0,u=fD[p+(f+12+_)>>2]|0;do if((n|0)!=(21184+(d>>>3<<1<<2)|0)){if(n>>>0<(fD[5290]|0)>>>0&&YD(),(fD[n+12>>2]|0)==(m|0))break;YD()}while(0);if((u|0)==(n|0)){fD[5286]=fD[5286]&~(1<<(d>>>3));break}do if((u|0)==(21184+(d>>>3<<1<<2)|0))s=u+8|0;else{if(u>>>0<(fD[5290]|0)>>>0&&YD(),(fD[u+8>>2]|0)==(m|0)){s=u+8|0;break}YD()}while(0);fD[n+12>>2]=u,fD[s>>2]=n}else{s=fD[p+((_|24)+f)>>2]|0,y=fD[p+(f+12+_)>>2]|0;do if((y|0)==(m|0)){if(b=_|16,y=p+(u+b)|0,g=fD[y>>2]|0,(g|0)==0&&(y=p+(b+f)|0,g=fD[y>>2]|0,(g|0)==0)){n=0;break}for(;;)if(b=g+20|0,v=fD[b>>2]|0,(v|0)==0){if(b=g+16|0,v=fD[b>>2]|0,(v|0)==0)break;g=v,y=b}else g=v,y=b;if(!(y>>>0<(fD[5290]|0)>>>0)){fD[y>>2]=0,n=g;break}YD()}else{if(g=fD[p+((_|8)+f)>>2]|0,g>>>0<(fD[5290]|0)>>>0&&YD(),(fD[g+12>>2]|0)!=(m|0)&&YD(),(fD[y+8>>2]|0)==(m|0)){fD[g+12>>2]=y,fD[y+8>>2]=g,n=y;break}YD()}while(0);if((s|0)==0)break;g=fD[p+(f+28+_)>>2]|0;do{if((m|0)==(fD[21448+(g<<2)>>2]|0)){if(fD[21448+(g<<2)>>2]=n,(n|0)!=0)break;fD[5287]=fD[5287]&~(1<<g);
break i}if(s>>>0<(fD[5290]|0)>>>0&&YD(),(fD[s+16>>2]|0)==(m|0)?fD[s+16>>2]=n:fD[s+20>>2]=n,(n|0)==0)break i}while(0);n>>>0<(fD[5290]|0)>>>0&&YD(),fD[n+24>>2]=s,s=_|16,m=fD[p+(s+f)>>2]|0;do if((m|0)!=0){if(!(m>>>0<(fD[5290]|0)>>>0)){fD[n+16>>2]=m,fD[m+24>>2]=n;break}YD()}while(0);if(s=fD[p+(u+s)>>2]|0,(s|0)==0)break;if(!(s>>>0<(fD[5290]|0)>>>0)){fD[n+20>>2]=s,fD[s+24>>2]=n;break}YD()}while(0);m=p+((d&-8|_)+f)|0,h=(d&-8)+h|0}if(n=m+4|0,fD[n>>2]=fD[n>>2]&-2,fD[p+(l+4)>>2]=h|1,fD[p+(h+l)>>2]=h,n=h>>>3,h>>>0<256){i=fD[5286]|0;do if((i&1<<n|0)==0)fD[5286]=i|1<<n,o=21184+((n<<1)+2<<2)|0,r=21184+(n<<1<<2)|0;else{if(i=fD[21184+((n<<1)+2<<2)>>2]|0,!(i>>>0<(fD[5290]|0)>>>0)){o=21184+((n<<1)+2<<2)|0,r=i;break}YD()}while(0);fD[o>>2]=c,fD[r+12>>2]=c,fD[p+(l+8)>>2]=r,fD[p+(l+12)>>2]=21184+(n<<1<<2);break}r=h>>>8;do if((r|0)==0)r=0;else{if(h>>>0>16777215){r=31;break}w=r<<((r+1048320|0)>>>16&8)<<(((r<<((r+1048320|0)>>>16&8))+520192|0)>>>16&4),r=14-(((r<<((r+1048320|0)>>>16&8))+520192|0)>>>16&4|(r+1048320|0)>>>16&8|(w+245760|0)>>>16&2)+(w<<((w+245760|0)>>>16&2)>>>15)|0,r=h>>>(r+7|0)&1|r<<1}while(0);if(s=21448+(r<<2)|0,fD[p+(l+28)>>2]=r,fD[p+(l+20)>>2]=0,fD[p+(l+16)>>2]=0,o=fD[5287]|0,n=1<<r,(o&n|0)==0){fD[5287]=o|n,fD[s>>2]=c,fD[p+(l+24)>>2]=s,fD[p+(l+12)>>2]=c,fD[p+(l+8)>>2]=c;break}o=fD[s>>2]|0,r=(r|0)==31?0:25-(r>>>1)|0;i:do if((fD[o+4>>2]&-8|0)!=(h|0)){for(r=h<<r;;){if(n=o+(r>>>31<<2)+16|0,s=fD[n>>2]|0,(s|0)==0)break;if((fD[s+4>>2]&-8|0)==(h|0)){i=s;break i}r<<=1,o=s}if(!(n>>>0<(fD[5290]|0)>>>0)){fD[n>>2]=c,fD[p+(l+24)>>2]=o,fD[p+(l+12)>>2]=c,fD[p+(l+8)>>2]=c;break e}YD()}else i=o;while(0);if(o=i+8|0,r=fD[o>>2]|0,n=fD[5290]|0,i>>>0<n>>>0&&YD(),!(r>>>0<n>>>0)){fD[r+12>>2]=c,fD[o>>2]=c,fD[p+(l+8)>>2]=r,fD[p+(l+12)>>2]=i,fD[p+(l+24)>>2]=0;break}YD()}else w=(fD[5289]|0)+h|0,fD[5289]=w,fD[5292]=c,fD[p+(l+4)>>2]=w|1;while(0);return w=p+(a|8)|0,bD=e,w|0}for(i=21592;;){if(r=fD[i>>2]|0,r>>>0>_>>>0?0:(h=fD[i+4>>2]|0,(r+h|0)>>>0>_>>>0))break;i=fD[i+8>>2]|0}if(i=(r+(h+-39)&7|0)==0?0:0-(r+(h+-39))&7,i=r+(h+-47+i)|0,i=i>>>0<(_+16|0)>>>0?_:i,o=p+8|0,o=(o&7|0)==0?0:0-o&7,w=f+-40-o|0,fD[5292]=p+o,fD[5289]=w,fD[p+(o+4)>>2]=w|1,fD[p+(f+-36)>>2]=40,fD[5293]=fD[5408],fD[i+4>>2]=27,fD[i+8>>2]=fD[5398],fD[i+12>>2]=fD[5399],fD[i+16>>2]=fD[5400],fD[i+20>>2]=fD[5401],fD[5398]=p,fD[5399]=f,fD[5401]=0,fD[5400]=i+8,fD[i+28>>2]=7,(i+32|0)>>>0<(r+h|0)>>>0){o=i+28|0;do w=o,o=o+4|0,fD[o>>2]=7;while((w+8|0)>>>0<(r+h|0)>>>0)}if((i|0)!=(_|0)){if(fD[_+(i-_+4)>>2]=fD[_+(i-_+4)>>2]&-2,fD[_+4>>2]=i-_|1,fD[_+(i-_)>>2]=i-_,(i-_|0)>>>0<256){r=fD[5286]|0;do if((r&1<<((i-_|0)>>>3)|0)==0)fD[5286]=r|1<<((i-_|0)>>>3),c=21184+(((i-_|0)>>>3<<1)+2<<2)|0,l=21184+((i-_|0)>>>3<<1<<2)|0;else{if(r=fD[21184+(((i-_|0)>>>3<<1)+2<<2)>>2]|0,!(r>>>0<(fD[5290]|0)>>>0)){c=21184+(((i-_|0)>>>3<<1)+2<<2)|0,l=r;break}YD()}while(0);fD[c>>2]=_,fD[l+12>>2]=_,fD[_+8>>2]=l,fD[_+12>>2]=21184+((i-_|0)>>>3<<1<<2);break}if(((i-_|0)>>>8|0)!=0?(i-_|0)>>>0>16777215?r=31:(r=(i-_|0)>>>8<<((((i-_|0)>>>8)+1048320|0)>>>16&8),r=14-((r+520192|0)>>>16&4|(((i-_|0)>>>8)+1048320|0)>>>16&8|((r<<((r+520192|0)>>>16&4))+245760|0)>>>16&2)+(r<<((r+520192|0)>>>16&4)<<(((r<<((r+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0,r=(i-_|0)>>>(r+7|0)&1|r<<1):r=0,s=21448+(r<<2)|0,fD[_+28>>2]=r,fD[_+20>>2]=0,fD[_+16>>2]=0,o=fD[5287]|0,n=1<<r,(o&n|0)==0){fD[5287]=o|n,fD[s>>2]=_,fD[_+24>>2]=s,fD[_+12>>2]=_,fD[_+8>>2]=_;break}n=fD[s>>2]|0,r=(r|0)==31?0:25-(r>>>1)|0;e:do if((fD[n+4>>2]&-8|0)!=(i-_|0)){for(r=i-_<<r;;){if(o=n+(r>>>31<<2)+16|0,s=fD[o>>2]|0,(s|0)==0)break;if((fD[s+4>>2]&-8|0)==(i-_|0)){a=s;break e}r<<=1,n=s}if(!(o>>>0<(fD[5290]|0)>>>0)){fD[o>>2]=_,fD[_+24>>2]=n,fD[_+12>>2]=_,fD[_+8>>2]=_;break t}YD()}else a=n;while(0);if(r=a+8|0,i=fD[r>>2]|0,o=fD[5290]|0,a>>>0<o>>>0&&YD(),!(i>>>0<o>>>0)){fD[i+12>>2]=_,fD[r>>2]=_,fD[_+8>>2]=i,fD[_+12>>2]=a,fD[_+24>>2]=0;break}YD()}}else{w=fD[5290]|0,(w|0)==0|p>>>0<w>>>0&&(fD[5290]=p),fD[5398]=p,fD[5399]=f,fD[5401]=0,fD[5295]=fD[5404],fD[5294]=-1,i=0;do w=i<<1,fD[21184+(w+3<<2)>>2]=21184+(w<<2),fD[21184+(w+2<<2)>>2]=21184+(w<<2),i=i+1|0;while((i|0)!=32);i=p+8|0,i=(i&7|0)==0?0:0-i&7,w=f+-40-i|0,fD[5292]=p+i,fD[5289]=w,fD[p+(i+4)>>2]=w|1,fD[p+(f+-36)>>2]=40,fD[5293]=fD[5408]}while(0);if(i=fD[5289]|0,i>>>0>u>>>0)return A=i-u|0,fD[5289]=A,w=fD[5292]|0,fD[5292]=w+u,fD[w+(u+4)>>2]=A|1,fD[w+4>>2]=u|3,w=w+8|0,bD=e,w|0}return fD[(WD()|0)>>2]=12,w=0,bD=e,w|0}function Cw(t){t|=0;var e=0,i=0,r=0,o=0,n=0,a=0,s=0,l=0,c=0,h=0,d=0,u=0,p=0,f=0,_=0,m=0,g=0,y=0,b=0,v=0;if(e=bD,(t|0)==0)return void(bD=e);_=fD[5290]|0,(t+-8|0)>>>0<_>>>0&&YD(),a=fD[t+-4>>2]|0,(a&3|0)==1&&YD(),l=t+((a&-8)+-8)|0;do if((a&1|0)==0){if(u=fD[t+-8>>2]|0,(a&3|0)==0)return void(bD=e);if(h=t+(-8-u)|0,d=u+(a&-8)|0,h>>>0<_>>>0&&YD(),(h|0)==(fD[5291]|0)){if((fD[t+((a&-8)+-4)>>2]&3|0)!=3){i=h,p=d;break}return fD[5288]=d,fD[t+((a&-8)+-4)>>2]=fD[t+((a&-8)+-4)>>2]&-2,fD[t+(-8-u+4)>>2]=d|1,fD[l>>2]=d,void(bD=e)}if(u>>>0<256){if(p=fD[t+(-8-u+8)>>2]|0,i=fD[t+(-8-u+12)>>2]|0,(p|0)!=(21184+(u>>>3<<1<<2)|0)&&(p>>>0<_>>>0&&YD(),(fD[p+12>>2]|0)!=(h|0)&&YD()),(i|0)==(p|0)){fD[5286]=fD[5286]&~(1<<(u>>>3)),i=h,p=d;break}(i|0)!=(21184+(u>>>3<<1<<2)|0)?(i>>>0<_>>>0&&YD(),(fD[i+8>>2]|0)!=(h|0)?YD():m=i+8|0):m=i+8|0,fD[p+12>>2]=i,fD[m>>2]=p,i=h,p=d;break}m=fD[t+(-8-u+24)>>2]|0,y=fD[t+(-8-u+12)>>2]|0;do if((y|0)==(h|0)){if(y=fD[t+(-8-u+20)>>2]|0,(y|0)==0){if(y=fD[t+(-8-u+16)>>2]|0,(y|0)==0){f=0;break}g=t+(-8-u+16)|0}else g=t+(-8-u+20)|0;for(;;)if(v=y+20|0,b=fD[v>>2]|0,(b|0)==0){if(v=y+16|0,b=fD[v>>2]|0,(b|0)==0)break;y=b,g=v}else y=b,g=v;if(!(g>>>0<_>>>0)){fD[g>>2]=0,f=y;break}YD()}else{if(g=fD[t+(-8-u+8)>>2]|0,g>>>0<_>>>0&&YD(),(fD[g+12>>2]|0)!=(h|0)&&YD(),(fD[y+8>>2]|0)==(h|0)){fD[g+12>>2]=y,fD[y+8>>2]=g,f=y;break}YD()}while(0);if((m|0)!=0){if(_=fD[t+(-8-u+28)>>2]|0,(h|0)==(fD[21448+(_<<2)>>2]|0)){if(fD[21448+(_<<2)>>2]=f,(f|0)==0){fD[5287]=fD[5287]&~(1<<_),i=h,p=d;break}}else if(m>>>0<(fD[5290]|0)>>>0&&YD(),(fD[m+16>>2]|0)==(h|0)?fD[m+16>>2]=f:fD[m+20>>2]=f,(f|0)==0){i=h,p=d;break}f>>>0<(fD[5290]|0)>>>0&&YD(),fD[f+24>>2]=m,_=fD[t+(-8-u+16)>>2]|0;do if((_|0)!=0){if(!(_>>>0<(fD[5290]|0)>>>0)){fD[f+16>>2]=_,fD[_+24>>2]=f;break}YD()}while(0);if(u=fD[t+(-8-u+20)>>2]|0,(u|0)!=0){if(!(u>>>0<(fD[5290]|0)>>>0)){fD[f+20>>2]=u,fD[u+24>>2]=f,i=h,p=d;break}YD()}else i=h,p=d}else i=h,p=d}else i=t+-8|0,p=a&-8;while(0);if(i>>>0<l>>>0||YD(),h=fD[t+((a&-8)+-4)>>2]|0,(h&1|0)==0&&YD(),(h&2|0)==0){if((l|0)==(fD[5292]|0))return v=(fD[5289]|0)+p|0,fD[5289]=v,fD[5292]=i,fD[i+4>>2]=v|1,(i|0)!=(fD[5291]|0)?void(bD=e):(fD[5291]=0,fD[5288]=0,void(bD=e));if((l|0)==(fD[5291]|0))return v=(fD[5288]|0)+p|0,fD[5288]=v,fD[5291]=i,fD[i+4>>2]=v|1,fD[i+v>>2]=v,void(bD=e);p=(h&-8)+p|0;do if(h>>>0<256){if(s=fD[t+(a&-8)>>2]|0,a=fD[t+(a&-8|4)>>2]|0,(s|0)!=(21184+(h>>>3<<1<<2)|0)&&(s>>>0<(fD[5290]|0)>>>0&&YD(),(fD[s+12>>2]|0)!=(l|0)&&YD()),(a|0)==(s|0)){fD[5286]=fD[5286]&~(1<<(h>>>3));break}(a|0)!=(21184+(h>>>3<<1<<2)|0)?(a>>>0<(fD[5290]|0)>>>0&&YD(),(fD[a+8>>2]|0)!=(l|0)?YD():c=a+8|0):c=a+8|0,fD[s+12>>2]=a,fD[c>>2]=s}else{c=fD[t+((a&-8)+16)>>2]|0,d=fD[t+(a&-8|4)>>2]|0;do if((d|0)==(l|0)){if(d=fD[t+((a&-8)+12)>>2]|0,(d|0)==0){if(d=fD[t+((a&-8)+8)>>2]|0,(d|0)==0){s=0;break}h=t+((a&-8)+8)|0}else h=t+((a&-8)+12)|0;for(;;)if(u=d+20|0,f=fD[u>>2]|0,(f|0)==0){if(u=d+16|0,f=fD[u>>2]|0,(f|0)==0)break;d=f,h=u}else d=f,h=u;if(!(h>>>0<(fD[5290]|0)>>>0)){fD[h>>2]=0,s=d;break}YD()}else{if(h=fD[t+(a&-8)>>2]|0,h>>>0<(fD[5290]|0)>>>0&&YD(),(fD[h+12>>2]|0)!=(l|0)&&YD(),(fD[d+8>>2]|0)==(l|0)){fD[h+12>>2]=d,fD[d+8>>2]=h,s=d;break}YD()}while(0);if((c|0)!=0){if(h=fD[t+((a&-8)+20)>>2]|0,(l|0)==(fD[21448+(h<<2)>>2]|0)){if(fD[21448+(h<<2)>>2]=s,(s|0)==0){fD[5287]=fD[5287]&~(1<<h);break}}else if(c>>>0<(fD[5290]|0)>>>0&&YD(),(fD[c+16>>2]|0)==(l|0)?fD[c+16>>2]=s:fD[c+20>>2]=s,(s|0)==0)break;s>>>0<(fD[5290]|0)>>>0&&YD(),fD[s+24>>2]=c,l=fD[t+((a&-8)+8)>>2]|0;do if((l|0)!=0){if(!(l>>>0<(fD[5290]|0)>>>0)){fD[s+16>>2]=l,fD[l+24>>2]=s;break}YD()}while(0);if(a=fD[t+((a&-8)+12)>>2]|0,(a|0)!=0){if(!(a>>>0<(fD[5290]|0)>>>0)){fD[s+20>>2]=a,fD[a+24>>2]=s;break}YD()}}}while(0);if(fD[i+4>>2]=p|1,fD[i+p>>2]=p,(i|0)==(fD[5291]|0))return fD[5288]=p,void(bD=e)}else fD[t+((a&-8)+-4)>>2]=h&-2,fD[i+4>>2]=p|1,fD[i+p>>2]=p;if(a=p>>>3,p>>>0<256)return r=fD[5286]|0,(r&1<<a|0)!=0?(r=fD[21184+((a<<1)+2<<2)>>2]|0,r>>>0<(fD[5290]|0)>>>0?YD():(o=21184+((a<<1)+2<<2)|0,n=r)):(fD[5286]=r|1<<a,o=21184+((a<<1)+2<<2)|0,n=21184+(a<<1<<2)|0),fD[o>>2]=i,fD[n+12>>2]=i,fD[i+8>>2]=n,fD[i+12>>2]=21184+(a<<1<<2),void(bD=e);o=p>>>8,(o|0)!=0?p>>>0>16777215?o=31:(v=o<<((o+1048320|0)>>>16&8)<<(((o<<((o+1048320|0)>>>16&8))+520192|0)>>>16&4),o=14-(((o<<((o+1048320|0)>>>16&8))+520192|0)>>>16&4|(o+1048320|0)>>>16&8|(v+245760|0)>>>16&2)+(v<<((v+245760|0)>>>16&2)>>>15)|0,o=p>>>(o+7|0)&1|o<<1):o=0,n=21448+(o<<2)|0,fD[i+28>>2]=o,fD[i+20>>2]=0,fD[i+16>>2]=0,t=fD[5287]|0,a=1<<o;t:do if((t&a|0)!=0){n=fD[n>>2]|0,o=(o|0)==31?0:25-(o>>>1)|0;e:do if((fD[n+4>>2]&-8|0)!=(p|0)){for(o=p<<o,a=n;;){if(t=a+(o>>>31<<2)+16|0,n=fD[t>>2]|0,(n|0)==0)break;if((fD[n+4>>2]&-8|0)==(p|0)){r=n;break e}o<<=1,a=n}if(!(t>>>0<(fD[5290]|0)>>>0)){fD[t>>2]=i,fD[i+24>>2]=a,fD[i+12>>2]=i,fD[i+8>>2]=i;break t}YD()}else r=n;while(0);if(o=r+8|0,a=fD[o>>2]|0,n=fD[5290]|0,r>>>0<n>>>0&&YD(),!(a>>>0<n>>>0)){fD[a+12>>2]=i,fD[o>>2]=i,fD[i+8>>2]=a,fD[i+12>>2]=r,fD[i+24>>2]=0;break}YD()}else fD[5287]=t|a,fD[n>>2]=i,fD[i+24>>2]=n,fD[i+12>>2]=i,fD[i+8>>2]=i;while(0);if(v=(fD[5294]|0)+-1|0,fD[5294]=v,(v|0)!=0)return void(bD=e);for(i=21600;;){if(i=fD[i>>2]|0,(i|0)==0)break;i=i+8|0}fD[5294]=-1,bD=e}function Aw(){}function ww(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,e=e-r-(i>>>0>t>>>0|0)>>>0,TD=e,t-i>>>0|0|0}function Rw(t,e,i){t|=0,e|=0,i|=0;var r=0,o=0,n=0;if(r=t+i|0,(i|0)>=20){if(e&=255,n=t&3,o=e|e<<8|e<<16|e<<24,n)for(n=t+4-n|0;(t|0)<(n|0);)uD[t>>0]=e,t=t+1|0;for(;(t|0)<(r&-4|0);)fD[t>>2]=o,t=t+4|0}for(;(t|0)<(r|0);)uD[t>>0]=e,t=t+1|0;return t-i|0}function Dw(t){t|=0;var e=0;for(e=t;uD[e>>0]|0;)e=e+1|0;return e-t|0}function Pw(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,TD=e+r+(t+i>>>0>>>0<t>>>0|0)>>>0,t+i>>>0|0|0}function Bw(t,e,i){t|=0,e|=0,i|=0;var r=0;if((i|0)>=4096)return zD(t|0,e|0,i|0)|0;if(r=t|0,(t&3)==(e&3)){for(;t&3;){if((i|0)==0)return r|0;uD[t>>0]=uD[e>>0]|0,t=t+1|0,e=e+1|0,i=i-1|0}for(;(i|0)>=4;)fD[t>>2]=fD[e>>2],t=t+4|0,e=e+4|0,i=i-4|0}for(;(i|0)>0;)uD[t>>0]=uD[e>>0]|0,t=t+1|0,e=e+1|0,i=i-1|0;return r|0}function Vw(t,e,i){t|=0,e|=0,i|=0;var r=0;if((e|0)<(t|0)&(t|0)<(e+i|0)){for(r=t,e=e+i|0,t=t+i|0;(i|0)>0;)t=t-1|0,e=e-1|0,i=i-1|0,uD[t>>0]=uD[e>>0]|0;t=r}else Bw(t,e,i)|0;return t|0}function Lw(t){return t|=0,(t&255)<<24|(t>>8&255)<<16|(t>>16&255)<<8|t>>>24|0}function kw(t,e){t|=0,e|=0;var i=0,r=0,o=0;return i=VD(e&65535,t&65535)|0,o=(i>>>16)+(VD(e&65535,t>>>16)|0)|0,r=VD(e>>>16,t&65535)|0,TD=(o>>>16)+(VD(e>>>16,t>>>16)|0)+(((o&65535)+r|0)>>>16)|0,o+r<<16|i&65535|0|0}function Hw(t,e,i,r){t|=0,e|=0,i|=0,r|=0;var o=0,n=0;return o=kw(t,i)|0,n=TD,TD=(VD(e,i)|0)+(VD(r,t)|0)+n|n&0,o|0|0|0}function Iw(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,iP[t&31](e|0,i|0,r|0,o|0,n|0)}function Ow(t,e,i){t|=0,e|=0,i=+i,rP[t&31](e|0,+i)}function Jw(t,e){t|=0,e|=0,oP[t&511](e|0)}function Nw(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o=+o,n|=0,a|=0,nP[t&0](e|0,i|0,r|0,+o,n|0,a|0)}function Fw(t,e,i){t|=0,e|=0,i|=0,aP[t&127](e|0,i|0)}function Gw(t,e,i,r,o,n,a,s,l,c,h){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,h|=0,sP[t&3](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0,c|0,h|0)|0}function zw(t,e){return t|=0,e|=0,lP[t&127](e|0)|0}function jw(t,e,i,r,o){t|=0,e|=0,i|=0,r=+r,o|=0,cP[t&7](e|0,i|0,+r,o|0)}function Uw(t,e,i,r,o,n,a){t|=0,e|=0,i=+i,r=+r,o|=0,n|=0,a|=0,hP[t&0](e|0,+i,+r,o|0,n|0,a|0)}function Ww(t,e,i,r,o){t|=0,e|=0,i=+i,r|=0,o|=0,dP[t&0](e|0,+i,r|0,o|0)}function Xw(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,uP[t&31](e|0,i|0,r|0,o|0)|0}function qw(t,e,i,r){t|=0,e|=0,i=+i,r|=0,pP[t&15](e|0,+i,r|0)}function Kw(t,e,i,r,o,n,a,s,l){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,+fP[t&1](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0)}function Yw(t,e,i,r,o,n,a,s,l,c,h,d){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n,a=+a,s=+s,l=+l,c|=0,h|=0,d=+d,_P[t&0](e|0,i|0,r|0,o|0,+n,+a,+s,+l,c|0,h|0,+d)}function Qw(t,e,i,r,o,n){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,+mP[t&15](e|0,i|0,r|0,o|0,n|0)}function Zw(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,gP[t&31](e|0,i|0,r|0)|0}function $w(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,yP[t&7](e|0,i|0,r|0,o|0,n|0,a|0)}function tR(t,e,i,r){return t|=0,e|=0,i|=0,r=+r,bP[t&7](e|0,i|0,+r)|0}function eR(t,e){return t|=0,e|=0,+vP[t&15](e|0)}function iR(t,e,i,r,o,n,a){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,MP[t&3](e|0,i|0,r|0,o|0,n|0,a|0)|0}function rR(t,e,i,r,o,n,a){return t|=0,e|=0,i|=0,r|=0,o=+o,n|=0,a|=0,+SP[t&3](e|0,i|0,r|0,+o,n|0,a|0)}function oR(t,e,i,r,o,n){t|=0,e|=0,i|=0,r=+r,o|=0,n|=0,xP[t&0](e|0,i|0,+r,o|0,n|0)}function nR(t,e,i,r,o,n,a,s){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,TP[t&1](e|0,i|0,r|0,o|0,n|0,a|0,s|0)}function aR(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,EP[t&1](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0,c|0)}function sR(t,e,i,r,o,n,a,s,l,c,h){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,h|=0,CP[t&3](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0,c|0,h|0)}function lR(t,e,i){return t|=0,e|=0,i|=0,AP[t&31](e|0,i|0)|0}function cR(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,+wP[t&15](e|0,i|0,r|0)}function hR(t,e,i,r,o,n,a,s,l,c,h){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,h|=0,+RP[t&3](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0,c|0,h|0)}function dR(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n,DP[t&1](e|0,i|0,r|0,o|0,+n)}function uR(t,e,i,r,o,n,a,s,l,c){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,+PP[t&3](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0,c|0)}function pR(t,e,i){return t|=0,e|=0,i=+i,+BP[t&1](e|0,+i)}function fR(t,e,i,r,o,n,a,s,l,c,h,d,u){t|=0,e|=0,i|=0,r|=0,o|=0,n=+n,a=+a,s=+s,l=+l,c=+c,h|=0,d=+d,u|=0,VP[t&0](e|0,i|0,r|0,o|0,+n,+a,+s,+l,+c,h|0,+d,u|0)}function _R(t,e,i,r,o,n){return t|=0,e|=0,i|=0,r=+r,o|=0,n|=0,+LP[t&3](e|0,i|0,+r,o|0,n|0)}function mR(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,+kP[t&1](e|0,i|0,r|0,o|0)}function gR(t,e,i,r,o,n,a,s,l,c){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,HP[t&3](e|0,i|0,r|0,o|0,n|0,a|0,s|0,l|0,c|0)|0}function yR(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o=+o,IP[t&15](e|0,i|0,r|0,+o)}function bR(t,e,i,r){t|=0,e|=0,i|=0,r|=0,OP[t&127](e|0,i|0,r|0)}function vR(t){t|=0,JP[t&3]()}function MR(t,e,i,r){t|=0,e|=0,i|=0,r=+r,NP[t&7](e|0,i|0,+r)}function SR(t,e,i,r,o){return t|=0,e|=0,i=+i,r|=0,o=+o,FP[t&1](e|0,+i,r|0,+o)|0}function xR(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0,GP[t&127](e|0,i|0,r|0,o|0)}function TR(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o|=0,LD(0)}function ER(t,e){t|=0,e=+e,LD(1)}function CR(t){t|=0,LD(2)}function AR(t,e,i,r,o,n){t|=0,e|=0,i|=0,r=+r,o|=0,n|=0,LD(3)}function wR(t,e){t|=0,e|=0,LD(4)}function RR(t,e,i,r,o,n,a,s,l,c){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,LD(5),0}function DR(t){return t|=0,LD(6),0}function PR(t,e,i,r){t|=0,e|=0,i=+i,r|=0,LD(7)}function BR(t,e,i,r,o,n){t|=0,e=+e,i=+i,r|=0,o|=0,n|=0,LD(8)}function VR(t,e,i,r){t|=0,e=+e,i|=0,r|=0,LD(9)}function LR(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,LD(10),0}function kR(t,e,i){t|=0,e=+e,i|=0,LD(11)}function HR(t,e,i,r,o,n,a,s){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,LD(12),0}function IR(t,e,i,r,o,n,a,s,l,c,h){t|=0,e|=0,i|=0,r|=0,o=+o,n=+n,a=+a,s=+s,l|=0,c|=0,h=+h,LD(13)}function OR(t,e,i,r,o){return t|=0,e|=0,i|=0,r|=0,o|=0,LD(14),0}function JR(t,e,i){return t|=0,e|=0,i|=0,LD(15),0}function NR(t,e,i,r,o,n){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,LD(16)}function FR(t,e,i){return t|=0,e|=0,i=+i,LD(17),0}function GR(t){return t|=0,LD(18),0}function zR(t,e,i,r,o,n){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,LD(19),0}function jR(t,e,i,r,o,n){return t|=0,e|=0,i|=0,r=+r,o|=0,n|=0,LD(20),0}function UR(t,e,i,r,o){t|=0,e|=0,i=+i,r|=0,o|=0,LD(21)}function WR(t,e,i,r,o,n,a){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,LD(22)}function XR(t,e,i,r,o,n,a,s,l){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,LD(23)}function qR(t,e,i,r,o,n,a,s,l,c){t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,LD(24)}function KR(t,e){return t|=0,e|=0,LD(25),0}function YR(t,e,i){return t|=0,e|=0,i|=0,LD(26),0}function QR(t,e,i,r,o,n,a,s,l,c){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,c|=0,LD(27),0}function ZR(t,e,i,r,o){t|=0,e|=0,i|=0,r|=0,o=+o,LD(28)}function $R(t,e,i,r,o,n,a,s,l){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,LD(29),0}function tD(t,e){return t|=0,e=+e,LD(30),0}function eD(t,e,i,r,o,n,a,s,l,c,h,d){t|=0,e|=0,i|=0,r|=0,o=+o,n=+n,a=+a,s=+s,l=+l,c|=0,h=+h,d|=0,LD(31)}function iD(t,e,i,r,o){return t|=0,e|=0,i=+i,r|=0,o|=0,LD(32),0}function rD(t,e,i,r){return t|=0,e|=0,i|=0,r|=0,LD(33),0}function oD(t,e,i,r,o,n,a,s,l){return t|=0,e|=0,i|=0,r|=0,o|=0,n|=0,a|=0,s|=0,l|=0,LD(34),0}function nD(t,e,i,r){t|=0,e|=0,i|=0,r=+r,LD(35)}function aD(t,e,i){t|=0,e|=0,i|=0,LD(36)}function sD(){LD(37)}function lD(){eP()}function cD(t,e,i){t|=0,e|=0,i=+i,LD(38)}function hD(t,e,i,r){return t|=0,e=+e,i|=0,r=+r,LD(39),0}function dD(t,e,i,r){t|=0,e|=0,i|=0,r|=0,LD(40)}var uD=new t.Int8Array(i),pD=new t.Int16Array(i),fD=new t.Int32Array(i),_D=new t.Uint8Array(i),mD=new t.Uint16Array(i),gD=(new t.Uint32Array(i),new t.Float32Array(i)),yD=new t.Float64Array(i),bD=e.STACKTOP|0,vD=(e.STACK_MAX|0,e.tempDoublePtr|0,e.ABORT|0,e.cttz_i8|0,e.ctlz_i8|0,e._stderr|0),MD=0,SD=0,xD=+e.NaN,TD=(+e.Infinity,0),ED=(t.Math.floor,t.Math.abs),CD=t.Math.sqrt,AD=t.Math.pow,wD=t.Math.cos,RD=t.Math.sin,DD=(t.Math.tan,t.Math.acos),PD=t.Math.asin,BD=(t.Math.atan,t.Math.atan2),VD=(t.Math.exp,t.Math.log,t.Math.ceil,t.Math.imul),LD=e.abort,kD=(e.assert,e.min,e.invoke_viiiii,e.invoke_vid,e.invoke_vi,e.invoke_viiidii,e.invoke_vii,e.invoke_iiiiiiiiiii,e.invoke_ii,e.invoke_viidi,e.invoke_viddiii,e.invoke_vidii,e.invoke_iiiii,e.invoke_vidi,e.invoke_diiiiiiii,e.invoke_viiiiddddiid,e.invoke_diiiii,e.invoke_iiii,e.invoke_viiiiii,e.invoke_iiid,e.invoke_di,e.invoke_iiiiiii,e.invoke_diiidii,e.invoke_viidii,e.invoke_viiiiiii,e.invoke_viiiiiiiii,e.invoke_viiiiiiiiii,e.invoke_iii,e.invoke_diii,e.invoke_diiiiiiiiii,e.invoke_viiiid,e.invoke_diiiiiiiii,e.invoke_did,e.invoke_viiiidddddidi,e.invoke_diidii,e.invoke_diiii,e.invoke_iiiiiiiiii,e.invoke_viiid,e.invoke_viii,e.invoke_v,e.invoke_viid,e.invoke_iidid,e.invoke_viiii,e._emscripten_asm_const_double),HD=(e._cosf,e._send,e._sqrtf,e._fmod,e.___cxa_guard_acquire),ID=(e.___setErrNo,e._vfprintf),OD=(e._atan2f,e._fmodf),JD=e.___cxa_guard_release,ND=(e._pwrite,e._acosf,e._asinf,e._fabsf,e._sbrk),FD=(e._llvm_pow_f32,e.___cxa_begin_catch,e._sinf,e._fileno,e.___resumeException,e.___cxa_find_matching_catch,e._sysconf),GD=(e.__reallyNegative,e._pthread_getspecific),zD=(e.__ZSt18uncaught_exceptionv,e._emscripten_memcpy_big),jD=e._pthread_once,UD=e._pthread_key_create,WD=(e._write,e.___errno_location),XD=e._pthread_setspecific,qD=e._fputc,KD=e.___cxa_throw,YD=e._abort,QD=e.___cxa_allocate_exception,ZD=(e._fwrite,e._time),$D=(e._fprintf,e._gettimeofday),tP=(e.__formatString,e._llvm_trap),eP=e.___cxa_pure_virtual,iP=[TR,Yu,zT,eC,$C,gA,zv,qv,FM,WM,KM,eS,dS,xS,BS,QS,bw,yw,dT,TR,TR,TR,TR,TR,TR,TR,TR,TR,TR,TR,TR,TR],rP=[ER,Rg,wg,Su,fu,lu,Ng,pb,fb,Ip,lf,Df,Dm,Um,ng,TE,Wg,ER,ER,ER,ER,ER,ER,ER,ER,ER,ER,ER,ER,ER,ER,ER],oP=[CR,fd,_d,md,bd,vd,Ed,Cd,Dd,Pd,kd,Hd,Jd,Nd,tu,eu,Wd,su,au,x_,T_,cu,E_,uu,hu,Eg,du,Ag,Zg,ey,iy,by,vy,hy,my,Py,By,Ey,Hy,ky,Wy,Iy,Qy,ob,nb,$y,hb,cb,bb,vb,lb,Mb,Vb,Bb,Du,Ju,Nu,Wu,Xu,np,up,pp,fp,_p,Vp,Lp,tf,$p,uf,pf,_f,mf,yf,bf,Tf,Ef,Vf,Lf,Hf,If,Gf,Ff,Yf,o_,M_,v_,N_,J_,U_,j_,q_,I_,Y_,k_,Z_,V_,tm,im,rm,am,sm,cm,hm,fm,_m,pm,ym,Tm,Em,Am,wm,w_,Vm,Hm,km,Om,$m,tg,lg,cg,ug,pg,mT,gT,_T,yT,HT,IT,nE,aE,XT,lE,bE,vE,RE,DE,VE,LE,jE,zE,lC,tC,cC,ZE,dC,XE,pC,yC,gC,xC,TC,CC,AC,RC,DC,BC,VC,kC,HC,OC,JC,FC,GC,jC,UC,XC,qC,YC,QC,eA,iA,nA,oA,cA,lA,fA,_A,P_,um,yA,bA,Nf,a_,xA,TA,EA,CA,PA,DA,kA,HA,OA,JA,jA,zA,sw,lw,hw,dw,mw,_w,iv,ev,pv,fv,uv,_v,Bv,Pv,Cg,Gg,Gv,Fv,Xv,Wv,Zv,Qv,lM,cM,_M,mM,xM,SM,DM,BM,LM,kM,GM,zM,UM,jM,YM,QM,tS,$M,rS,aS,cS,lS,uS,fS,yS,gS,MS,vS,ES,CS,RS,wS,PS,DS,VS,IS,NS,FS,JS,US,YS,KS,ex,tx,fx,px,Tx,xx,Kx,qx,Qx,tT,Zx,$x,eT,iT,Xx,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR,CR],nP=[AR],aP=[wR,Bd,Vd,zd,Ud,Hg,yu,kg,mg,gg,yg,_u,mu,vu,bu,Dg,bg,vg,Mg,Sg,xg,Jg,dy,uy,Cy,Ay,qy,Jy,Fy,Gy,zy,Ky,tb,eb,_b,Sb,Pb,ku,Hu,tp,op,Ep,Rp,Dp,kp,Ug,y_,rf,nf,af,Af,Rf,Uf,jf,Zf,C_,G_,vm,Pm,Fm,Im,Zm,og,dg,_g,ST,rE,ME,xE,rC,sC,hC,uC,_C,rA,h_,sv,lv,ow,aw,ZA,NT,Lv,Uv,Yv,iM,gM,yM,pM,fM,EM,qM,nS,sS,hS,mS,bS,kS,$S,Dx,Px,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR,wR],sP=[RR,mA,MA,RR],lP=[DR,c,iu,Ig,Pg,Bg,Og,My,Vy,Uy,Xy,ab,Rb,Vu,Fu,ep,ip,bp,vp,Mp,xp,wp,zg,Hp,qg,Gp,jp,Up,qp,CM,sf,hf,wf,Pf,Yg,kf,Of,$f,e_,i_,r_,zm,jm,Xm,rg,ag,hg,fg,OT,JT,AT,wT,PT,oE,sE,YT,QT,tE,SE,EE,PE,kE,oC,nC,vC,MC,SC,u_,VA,tw,ew,iw,rw,nw,yv,Mv,xv,Tv,Av,jg,rM,oM,nM,bM,Ax,vM,PM,b_,yx,Yx,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR,DR],cP=[PR,Qd,gy,Ry,ib,Iu,PR,PR],hP=[BR],dP=[VR],uP=[LR,Sd,mb,gp,Wf,EC,wC,PC,LC,IC,NC,zC,WC,KC,ZC,av,LA,YA,HS,LR,LR,LR,LR,LR,LR,LR,LR,LR,LR,LR,LR,LR],pP=[kR,Bp,wM,xf,Nm,ig,Xb,uE,gv,Nv,eM,kR,kR,kR,kR,kR],fP=[HR,Gd],_P=[IR],mP=[OR,tA,jv,Kv,XM,oS,pS,TS,LS,ZS,OR,OR,OR,OR,OR,OR],gP=[JR,ju,Md,ru,Sy,Ly,sb,Db,Gu,mp,Ap,Kg,of,Bf,zf,qf,Xf,Gm,sg,LT,CE,bC,c_,cv,$A,qA,aM,Sx,g_,mx,gx,rT],yP=[NR,ry,Zu,YE,Sw,Mw,vw,NR],bP=[FR,Yp,VT,iE,Rv,FR,FR,FR],vP=[GR,__,Op,cf,Wm,wE,BE,HE,Xg,GR,GR,GR,GR,GR,GR,GR],MP=[zR,fT,pA,sM],SP=[jR,lm,dm,jR],xP=[UR],TP=[WR,kT],EP=[XR,Cu],CP=[qR,Ex,Cx,qR],AP=[KR,Ad,Id,Fd,Vg,Lg,$g,Ab,jb,t_,Qf,n_,$_,em,om,mm,Sm,xm,d_,cw,uw,KR,KR,KR,KR,KR,KR,KR,KR,KR,KR,KR],wP=[YR,wd,Od,Zd,ty,yy,Dy,Zy,rb,Ou,nm,gm,YR,YR,YR,YR],RP=[QR,Ru,Eu,QR],DP=[ZR,gd],PP=[$R,Tu,Au,$R],BP=[tD,f_],VP=[eD],LP=[iD,Cm,Rm,iD],kP=[rD,wu],HP=[oD,qu,UE,oD],IP=[nD,yd,Xd,Q_,MT,vA,RA,OS,jS,qS,nD,nD,nD,nD,nD,nD],OP=[aD,xd,$d,xu,Pu,Bu,Ku,rp,yp,Sp,Tp,Cp,p_,Jp,Np,zp,Xp,Qp,RM,df,ff,gf,vf,GT,Mf,Qg,s_,l_,bm,Bm,Qm,Km,bT,vT,CT,TT,DT,KT,WT,$T,AE,_E,pE,fE,qE,aC,fC,aA,hA,AA,wA,XA,UA,WA,QA,Ub,bv,Sv,Cv,Vv,Ov,Hv,wx,Rx,_S,GS,zS,WS,XS,Jf,UT,jT,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD,aD],JP=[sD,lD,Ux,Wx],NP=[cD,Yy,Ny,jy,gb,Mm,cD,cD],FP=[hD,pu],GP=[dD,O_,B_,gu,Mu,yb,zb,Qu,$u,Pp,Fp,FT,Wp,Kp,TM,ef,Cf,Sf,Kf,S_,W_,X_,K_,dv,hv,Jm,eg,Ym,Kb,ET,RT,BT,qT,ZT,eE,cE,dE,mE,yE,gE,KE,$E,sA,dA,IA,NA,Wb,mv,vv,Ev,wv,Dv,Jv,Iv,$v,tM,Mx,AM,VM,HM,SS,AS,nT,aT,lT,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD,dD];return{_emscripten_bind_btCylinderShape___destroy___0:cd,_strlen:Dw,_emscripten_bind_btDispatcherInfo_set_m_useContinuous_1:H,_emscripten_bind_btCollisionObject_isActive_0:Si,_emscripten_bind_btVehicleTuning_set_m_frictionSlip_1:Qo,_emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4:Bi,_emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0:qn,_emscripten_bind_btQuaternion_setX_1:Ea,_emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0:V,_emscripten_bind_btQuaternion_setZ_1:Aa,_emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0:Rc,_emscripten_bind_btKinematicCharacterController_setMaxSlope_1:Gs,_emscripten_bind_btQuadWord_z_0:$h,_emscripten_bind_btTransform_setIdentity_0:Bh,_emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0:Ya,_emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0:ja,_emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0:Re,_emscripten_bind_btCollisionDispatcher___destroy___0:No,_emscripten_bind_btRigidBody_applyCentralImpulse_1:Yc,_emscripten_bind_btDefaultMotionState_getWorldTransform_1:Rn,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1:Fi,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3:zi,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2:Gi,_emscripten_bind_btVector3_op_mul_1:dl,_emscripten_bind_btDynamicsWorld_rayTest_3:na,_emscripten_bind_btRaycastVehicle_updateWheelTransform_2:mc,_emscripten_bind_btQuadWord_x_0:Qh,_emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0:Pc,_emscripten_bind_btCollisionObject_isKinematicObject_0:xi,_emscripten_bind_ConvexResultCallback___destroy___0:fr,_emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1:fn,_emscripten_bind_btRigidBody_getCenterOfMassTransform_0:Oc,_emscripten_bind_btGhostObject_isKinematicObject_0:Ql,_emscripten_bind_btCapsuleShape___destroy___0:$,_emscripten_bind_btCollisionObject_activate_1:Mi,_emscripten_bind_btCollisionObject_activate_0:vi,_emscripten_bind_btKinematicCharacterController_setUpAxis_1:Rs,_emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1:L,_emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1:Io,_emscripten_bind_btVector3_setX_1:sl,_emscripten_bind_btCollisionConfiguration___destroy___0:te,_emscripten_bind_btQuaternion_btQuaternion_4:ba,_emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1:ni,_emscripten_bind_btManifoldPoint_set_m_localPointB_1:ri,_emscripten_bind_btVector3_setZ_1:cl,_emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0:ls,_emscripten_bind_btQuaternion_setValue_4:va,_emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1:B,_emscripten_bind_LocalShapeInfo___destroy___0:hc,_emscripten_bind_btQuadWord_setY_1:id,_emscripten_bind_btRigidBody_isKinematicObject_0:ph,_emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1:He,_emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0:Pn,_emscripten_bind_btConeTwistConstraint_setDamping_1:Nr,_emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0:ae,_emscripten_bind_btCollisionWorld___destroy___0:Yh,_emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0:Ia,_emscripten_bind_btBoxShape_btBoxShape_1:Vo,_emscripten_bind_btPersistentManifold_getBody1_0:Ro,_emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1:ea,_emscripten_bind_btKinematicCharacterController_setGravity_1:Ns,_emscripten_bind_btConstraintSetting_set_m_impulseClamp_1:Jl,_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5:ui,_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3:di,_emscripten_bind_LocalShapeInfo_get_m_shapePart_0:ac,_emscripten_bind_btWheelInfo_get_m_rollInfluence_0:qa,_emscripten_bind_btVector4_setValue_4:gs,_emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1:b,_emscripten_bind_btDynamicsWorld_getDispatchInfo_0:sa,_emscripten_bind_btVector3_length_0:rl,_emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2:rr,_emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1:ir,_emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1:mn,_emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1:Na,_emscripten_bind_btPairCachingGhostObject___destroy___0:Te,_emscripten_bind_btPairCachingGhostObject_activate_0:de,_emscripten_bind_btPairCachingGhostObject_activate_1:ue,_emscripten_bind_btPairCachingGhostObject_forceActivationState_1:he,_emscripten_bind_btDefaultMotionState___destroy___0:Vn,_emscripten_bind_btDispatcherInfo_get_m_stepCount_0:R,_emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1:De,_emscripten_bind_btQuadWord_setW_1:od,_emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0:Pe,_emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2:_a,_emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0:as,_emscripten_bind_btRigidBody_setLinearFactor_1:zc,_emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1:W,_emscripten_bind_btRaycastVehicle_setSteeringValue_2:fc,_emscripten_bind_btPoint2PointConstraint___destroy___0:Tr,_emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2:Ji,_emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1:Oi,_emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1:Ne,_malloc:Ew,_emscripten_bind_btDispatcherInfo_get_m_useEpa_0:F,_emscripten_bind_btTransform_btTransform_2:Ph,_emscripten_bind_btTransform_btTransform_0:Dh,_emscripten_bind_btWheelInfo_set_m_wheelsRadius_1:$a,_emscripten_bind_btDispatcherInfo_set_m_enableSPU_1:N,_emscripten_bind_btRaycastVehicle_setCoordinateSystem_3:Sc,_emscripten_bind_btCollisionObject_setActivationState_1:yi,_emscripten_bind_btPersistentManifold___destroy___0:Bo,_emscripten_bind_btConstraintSetting_get_m_impulseClamp_0:Ol,_emscripten_bind_btCylinderShapeZ___destroy___0:Rh,_emscripten_bind_btMatrix3x3___destroy___0:p,_emscripten_bind_ConvexResultCallback_hasHit_0:sr,_emscripten_bind_btCollisionShape_calculateLocalInertia_2:Pl,_emscripten_bind_btCollisionWorld_convexSweepTest_5:qh,_emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1:Kn,_emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2:ga,_emscripten_bind_btConstraintSetting_set_m_damping_1:Il,_emscripten_bind_btVehicleRaycaster___destroy___0:pl,_emscripten_bind_btRigidBody_applyForce_2:Uc,_emscripten_bind_btConeShapeZ_calculateLocalInertia_2:lo,_emscripten_bind_btConstraintSetting_set_m_tau_1:kl,_emscripten_bind_btConvexHullShape_calculateLocalInertia_2:Eo,_emscripten_bind_btSphereShape_calculateLocalInertia_2:ml,_emscripten_bind_btPoint2PointConstraint_get_m_setting_0:Sr,_emscripten_bind_LocalConvexResult_LocalConvexResult_5:Tc,_emscripten_bind_btGhostObject_setFriction_1:$l,_emscripten_bind_btPairCachingGhostObject_getWorldTransform_0:ge,_emscripten_bind_btRigidBody_setFriction_1:_h,_emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1:Bc,_emscripten_bind_btGhostObject_setWorldTransform_1:rc,_emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1:Ii,_emscripten_bind_btConvexHullShape___destroy___0:Co,_emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0:Qi,_emscripten_bind_btVector4_setX_1:Ss,_emscripten_bind_btKinematicCharacterController_jump_0:Js,_emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1:zr,_emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1:or,_emscripten_bind_btRigidBody_upcast_1:nh,_emscripten_bind_btCollisionObject_getWorldTransform_0:Ci,_emscripten_bind_btVector4_setZ_1:Ts,_emscripten_bind_btQuadWord_y_0:Zh,___cxa_can_catch:xw,_emscripten_bind_btTransform_getBasis_0:Oh,_emscripten_bind_btPairCachingGhostObject_setFriction_1:me,_emscripten_bind_btDispatcherInfo_set_m_useEpa_1:G,_emscripten_bind_btCollisionDispatcher_getNumManifolds_0:Oo,_emscripten_bind_ClosestRayResultCallback___destroy___0:ia,_emscripten_bind_btQuadWord_w_0:td,_emscripten_bind_btCompoundShape___destroy___0:an,_emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2:v,_emscripten_bind_btGhostObject_btGhostObject_0:Fl,_emscripten_bind_btConeShape_btConeShape_2:qr,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1:Ye,_emscripten_bind_btManifoldPoint_set_m_localPointA_1:ei,_emscripten_bind_btCollisionObject_setCollisionShape_1:Di,_emscripten_bind_btWheelInfo___destroy___0:hs,_emscripten_bind_btTransform_setRotation_1:kh,_emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0:Se,_emscripten_bind_btPoint2PointConstraint_enableFeedback_1:Mr,_emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1:Qn,_emscripten_bind_btAxisSweep3_btAxisSweep3_2:ee,_emscripten_bind_btAxisSweep3_btAxisSweep3_3:ie,_emscripten_bind_btBoxShape_calculateLocalInertia_2:ko,_emscripten_bind_btVector3_setY_1:ll,_emscripten_bind_btAxisSweep3_btAxisSweep3_4:re,_emscripten_bind_btAxisSweep3_btAxisSweep3_5:oe,_emscripten_bind_btQuadWord_setX_1:ed,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0:Ue,_emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1:zo,_emscripten_bind_btOverlappingPairCache___destroy___0:tl,_emscripten_bind_btConstraintSetting___destroy___0:Nl,_emscripten_bind_RayResultCallback___destroy___0:za,_emscripten_bind_btPersistentManifold_getBody0_0:wo,_emscripten_bind_btConeShapeX_btConeShapeX_2:ho,_emscripten_bind_btConeTwistConstraint_enableFeedback_1:Wr,_emscripten_bind_btCapsuleShapeZ_setLocalScaling_1:Pa,_emscripten_bind_btRigidBody_applyTorque_1:jc,_emscripten_bind_btSliderConstraint_setUpperLinLimit_1:Pr,_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2:Hr,_emscripten_bind_btConcaveShape___destroy___0:ps,_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4:Ir,_emscripten_bind_btQuaternion_x_0:Ma,_emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1:Dc,_emscripten_bind_btConcaveShape_setLocalScaling_1:ds,_emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0:Xi,_emscripten_bind_btConeShapeX_setLocalScaling_1:uo,_emscripten_bind_btQuaternion_z_0:xa,_emscripten_bind_btConvexHullShape_btConvexHullShape_0:Mo,_emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1:ss,_emscripten_bind_btConstraintSetting_get_m_damping_0:Hl,_emscripten_bind_btGhostObject___destroy___0:nc,_emscripten_bind_btGhostObject_setContactProcessingThreshold_1:Ul,_emscripten_bind_btRigidBody_applyCentralForce_1:Wc,_emscripten_bind_btQuaternion___destroy___0:Ra,_emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1:Jo,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_2:wn,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_0:Tn,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_1:An,_emscripten_bind_btKinematicCharacterController_canJump_0:Os,_emscripten_bind_btRigidBody_isActive_0:uh,_emscripten_bind_btRaycastVehicle_btRaycastVehicle_3:uc,_emscripten_bind_btMotionState_setWorldTransform_1:Cr,_emscripten_bind_btCylinderShape_setLocalScaling_1:sd,_emscripten_bind_btCollisionWorld_rayTest_3:Fh,_emscripten_bind_btCompoundShape_calculateLocalInertia_2:nn,_emscripten_bind_btCollisionWorld_getDispatchInfo_0:zh,_emscripten_bind_btRigidBody_setCollisionShape_1:vh,_emscripten_bind_btConeShapeX___destroy___0:fo,_emscripten_bind_btCollisionObject_getCollisionFlags_0:Ai,_emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1:O,_emscripten_bind_btConeTwistConstraint_enableMotor_1:Fr,_emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1:es,_emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4:ws,_emscripten_bind_btPairCachingGhostObject_setRestitution_1:_e,_emscripten_bind_btBroadphaseInterface___destroy___0:_i,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1:je,_emscripten_bind_btCollisionObject_setContactProcessingThreshold_1:gi,_emscripten_bind_btPersistentManifold_getNumContacts_0:Do,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0:Ke,_emscripten_bind_LocalConvexResult___destroy___0:kc,_emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0:C,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1:We,_emscripten_bind_btCollisionWorld_addCollisionObject_3:Wh,_emscripten_bind_btRigidBody_getCollisionFlags_0:gh,_emscripten_bind_btCollisionShape_setLocalScaling_1:Dl,_emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0:Mn,_emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0:Ec,_emscripten_bind_btMatrix3x3_setEulerZYX_3:h,_emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0:X,_emscripten_bind_btConvexHullShape_setLocalScaling_1:To,_emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0:Ja,_emscripten_bind_btCollisionWorld_getDispatcher_0:Nh,_emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1:Oa,_emscripten_bind_btTriangleMesh_btTriangleMesh_1:mo,_i64Subtract:ww,_emscripten_bind_btRaycastVehicle_getWheelTransformWS_1:_c,_emscripten_bind_btRigidBody_setDamping_2:Fc,_emscripten_bind_btDynamicsWorld_getDispatcher_0:oa,_emscripten_bind_btGhostObject_setCollisionFlags_1:ic,_emscripten_bind_btMatrix3x3_getRotation_1:d,_emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1:Gr,_emscripten_bind_btCylinderShapeX_setLocalScaling_1:xh,_emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0:S,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0:Fe,_emscripten_bind_btCompoundShape_setLocalScaling_1:on,_emscripten_bind_btOverlappingPairCallback___destroy___0:Hc,_emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0:oi,_emscripten_bind_btVector4_setY_1:xs,_emscripten_bind_btRigidBody_setContactProcessingThreshold_1:sh,_emscripten_bind_btRigidBody_getLinearVelocity_0:$c,_emscripten_bind_btRigidBody_applyImpulse_2:qc,_emscripten_bind_btConcaveShape_calculateLocalInertia_2:us,_emscripten_bind_btRigidBody_setWorldTransform_1:bh,_emscripten_bind_btRigidBody_setAngularVelocity_1:ih,_emscripten_bind_btConvexShape_setLocalScaling_1:Zr,_emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2:kn,_free:Cw,_emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1:le,_emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0:Zn,_emscripten_bind_RayResultCallback_hasHit_0:Ha,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0:Xe,_emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0:dn,_emscripten_bind_btWheelInfo_get_m_frictionSlip_0:Wa,_emscripten_bind_btConeShapeZ_setLocalScaling_1:so,_emscripten_bind_btPairCachingGhostObject_setActivationState_1:ce,_emscripten_bind_btConvexTriangleMeshShape___destroy___0:ar,_emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1:Ko,_emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1:Ch,_emscripten_bind_btRigidBody_getAngularVelocity_0:th,_emscripten_bind_btCompoundShape_btCompoundShape_0:tn,_emscripten_bind_btCompoundShape_btCompoundShape_1:en,_emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1:$s,_emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2:qs,_emscripten_bind_btDispatcherInfo_get_m_useContinuous_0:k,_emscripten_bind_btRigidBody_updateInertiaTensor_0:Zc,_emscripten_bind_btTransform_setOrigin_1:Lh,_emscripten_bind_ClosestRayResultCallback_hasHit_0:Fn,_emscripten_bind_btCompoundShape_addChildShape_2:rn,_emscripten_bind_btDispatcher___destroy___0:Jn,_emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0:jo,_emscripten_bind_btDiscreteDynamicsWorld___destroy___0:er,_emscripten_bind_btConvexShape___destroy___0:to,_memmove:Vw,_emscripten_bind_btCapsuleShapeX_setLocalScaling_1:ma,_emscripten_bind_btCollisionObject_setRestitution_1:Ti,_emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0:ts,_emscripten_bind_LocalConvexResult_get_m_hitFraction_0:Vc,_emscripten_bind_btDispatcherInfo_get_m_enableSPU_0:J,_emscripten_bind_btQuaternion_w_0:Ta,_emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0:lr,_emscripten_bind_btTransform_getRotation_0:Ih,_emscripten_bind_btHingeConstraint_btHingeConstraint_6:Tl,_emscripten_bind_btHingeConstraint_btHingeConstraint_7:El,_emscripten_bind_btHingeConstraint_btHingeConstraint_4:Sl,_emscripten_bind_btHingeConstraint_btHingeConstraint_5:xl,_emscripten_bind_btHingeConstraint_btHingeConstraint_2:vl,_emscripten_bind_btHingeConstraint_btHingeConstraint_3:Ml,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1:qe,_emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0:pn,_emscripten_bind_btTypedConstraint___destroy___0:pd,_emscripten_bind_btCylinderShapeX_btCylinderShapeX_1:Sh,_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3:Hi,_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1:ki,_emscripten_bind_btVector3_z_0:al,_emscripten_bind_btSphereShape_btSphereShape_1:fl,_emscripten_bind_btQuaternion_y_0:Sa,_emscripten_bind_btCollisionWorld_addCollisionObject_1:jh,_emscripten_bind_btCollisionWorld_addCollisionObject_2:Uh,_emscripten_bind_btRigidBody_setRestitution_1:fh,_emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1:yn,_emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0:gn,_emscripten_bind_btRigidBody_getMotionState_0:rh,_emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1:La,_emscripten_bind_ConcreteContactResultCallback_addSingleResult_7:_,_emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0:E,_emscripten_bind_btActionInterface___destroy___0:Zs,_emscripten_bind_btDefaultMotionState_setWorldTransform_1:Dn,_emscripten_bind_btDefaultVehicleRaycaster___destroy___0:ka,_emscripten_bind_RayResultCallback_get_m_collisionObject_0:Fa,_emscripten_bind_btPoint2PointConstraint_getPivotInA_0:br,_emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0:cn,_emscripten_bind_btCylinderShape_calculateLocalInertia_2:ld,_emscripten_bind_btGhostObject_setRestitution_1:Zl,_emscripten_bind_btDynamicsWorld_addCollisionObject_1:la,_emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0:bn,_emscripten_bind_btDynamicsWorld_addCollisionObject_3:ha,_emscripten_bind_btDynamicsWorld_addCollisionObject_2:ca,_emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0:ji,_emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1:Us,_emscripten_bind_btVector4_op_mul_1:Es,_emscripten_bind_btCylinderShape_btCylinderShape_1:ad,_emscripten_bind_btVector3___destroy___0:ul,_emscripten_bind_btRigidBody_setAngularFactor_1:oh,_emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2:wh,_emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1:cc,_emscripten_bind_btMotionState_getWorldTransform_1:Er,_emscripten_bind_btDynamicsWorld_getBroadphase_0:da,_emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1:q,_emscripten_bind_btVector3_x_0:ol,___cxa_is_pointer_type:Tw,_emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3:Ee,_emscripten_bind_btCollisionObject_getCollisionShape_0:mi,_emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4:Ce,_emscripten_bind_btManifoldPoint___destroy___0:hi,_emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1:Le,_emscripten_bind_btVector4_length_0:ys,_emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1:Bn,_emscripten_bind_btCylinderShapeZ_setLocalScaling_1:Ah,_emscripten_bind_ClosestConvexResultCallback___destroy___0:xn,_emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0:bl,_emscripten_bind_btCollisionObject_setFriction_1:Ei,_emscripten_bind_btDefaultCollisionConfiguration___destroy___0:ro,_emscripten_bind_btRigidBody_setMassProps_2:Gc,_emscripten_bind_btVector3_setValue_3:hl,_emscripten_bind_btGhostObject_getCollisionFlags_0:ec,_emscripten_bind_btCapsuleShapeX___destroy___0:ya,_emscripten_bind_btHingeConstraint_setLimit_4:Cl,_emscripten_bind_btHingeConstraint_setLimit_5:Al,_emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1:cs,_emscripten_bind_btConeShape_setLocalScaling_1:Kr,_emscripten_bind_btGhostObject_getNumOverlappingObjects_0:Gl,_emscripten_bind_btGhostObject_getCollisionShape_0:jl,_emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1:Be,_emscripten_bind_btPersistentManifold_getContactPoint_1:Po,_emscripten_bind_btConeShapeX_calculateLocalInertia_2:po,_emscripten_bind_btGhostObject_activate_0:ql,_emscripten_bind_btGhostObject_activate_1:Kl,_emscripten_bind_btManifoldPoint_getPositionWorldOnB_0:$e,_emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0:ai,_emscripten_bind_btConeShapeZ_btConeShapeZ_2:ao,_emscripten_bind_btSphereShape___destroy___0:gl,_emscripten_bind_btSliderConstraint_setUpperAngLimit_1:Vr,_emscripten_bind_btDynamicsWorld_contactPairTest_3:pa,_emscripten_bind_btCollisionWorld_getPairCache_0:Gh,_emscripten_bind_btConeTwistConstraint_setMotorTarget_1:jr,_emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1:hn,_emscripten_bind_btWheelInfo_set_m_rollInfluence_1:Ka,_emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0:yl,_emscripten_bind_btGhostObject_forceActivationState_1:Xl,_emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0:f,_emscripten_bind_VoidPtr___destroy___0:T,_emscripten_bind_btSliderConstraint_setLowerAngLimit_1:Br,_emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2:sn,_emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0:Gn,_emscripten_bind_btRaycastVehicle_getRigidBody_0:bc,_emscripten_bind_btWheelInfo_get_m_steering_0:os,_emscripten_bind_btConstraintSetting_get_m_tau_0:Ll,_emscripten_bind_btSliderConstraint___destroy___0:kr,_emscripten_bind_btCollisionShape___destroy___0:Bl,_emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0:ur,_emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0:P,_emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0:Ve,_emscripten_bind_btPairCachingGhostObject_setCollisionShape_1:Me,_emscripten_bind_btKinematicCharacterController_warp_1:Bs,_emscripten_bind_btAxisSweep3___destroy___0:ne,_emscripten_bind_btTriangleMesh___destroy___0:vo,_emscripten_bind_btKinematicCharacterController_preStep_1:Vs,_emscripten_bind_btRaycastVehicle_applyEngineForce_2:pc,_emscripten_bind_btRaycastVehicle_setBrake_2:Mc,_emscripten_bind_ConcreteContactResultCallback___destroy___0:m,_emscripten_bind_btCollisionObject___destroy___0:Pi,_emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1:Xo,_emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1:Oe,_emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1:Ur,_emscripten_bind_btDispatcherInfo_set_m_timeStep_1:w,_emscripten_bind_btVector3_btVector3_3:il,_emscripten_bind_btVector3_btVector3_0:el,_emscripten_bind_btBoxShape___destroy___0:Ho,_emscripten_bind_btDiscreteDynamicsWorld_getGravity_0:Li,_emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0:_n,_emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0:Wo,_emscripten_bind_btConeTwistConstraint___destroy___0:Xr,_emscripten_bind_btQuadWord___destroy___0:nd,_emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1:zn,_emscripten_bind_btRigidBody_setCenterOfMassTransform_1:Jc,_emscripten_bind_btConstraintSolver___destroy___0:dc,_emscripten_bind_btDbvtBroadphase___destroy___0:x,_emscripten_bind_btCapsuleShape_btCapsuleShape_2:Y,_emscripten_bind_btTypedConstraint_enableFeedback_1:ud,_emscripten_bind_btQuadWord_setZ_1:rd,_emscripten_bind_btCapsuleShape_setLocalScaling_1:Q,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0:ze,_emscripten_bind_btTriangleMeshShape_setLocalScaling_1:Ln,_emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1:pr,_emscripten_bind_btPersistentManifold_btPersistentManifold_0:Ao,_emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0:hr,_emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2:Nn,_emscripten_bind_btVector4___destroy___0:Cs,_emscripten_bind_btPairCachingGhostObject_isKinematicObject_0:fe,_emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1:$n,_i64Add:Pw,_emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2:Ys,_emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1:$o,_emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0:eo,_emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1:io,_emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3:As,_emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0:Je,_emscripten_bind_btPoint2PointConstraint_getPivotInB_0:vr,_emscripten_bind_btKinematicCharacterController_playerStep_2:Ls,_emscripten_bind_btDispatcherInfo___destroy___0:K,_emscripten_bind_btStaticPlaneShape_setLocalScaling_1:Ks,_emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2:nr,_emscripten_bind_ContactResultCallback_addSingleResult_7:oo,_emscripten_bind_btGhostObject_getWorldTransform_0:tc,_emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0:Wi,_emscripten_bind_LocalConvexResult_set_m_hitFraction_1:Lc,_emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2:Ba,_emscripten_bind_btDispatcherInfo_get_m_timeStep_0:A,_emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1:Uo,_emscripten_bind_btDynamicsWorld___destroy___0:fa,_emscripten_bind_btMotionState___destroy___0:Ar,_emscripten_bind_btCollisionObject_setCollisionFlags_1:wi,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1:qi,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2:Ki,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3:Yi,_emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1:Ua,_emscripten_bind_btRaycastVehicle_getNumWheels_0:yc,_emscripten_bind_btDispatcher_getManifoldByIndexInternal_1:On,_emscripten_bind_btWheelInfo_set_m_steering_1:ns,_emscripten_bind_btPairCachingGhostObject_setWorldTransform_1:ve,_emscripten_bind_btConeTwistConstraint_setAngularOnly_1:Jr,_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4:mr,_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2:_r,_emscripten_bind_btKinematicCharacterController_setJumpSpeed_1:Hs,_emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1:cr,_emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1:xe,_emscripten_bind_btRigidBodyConstructionInfo___destroy___0:Qe,_emscripten_bind_btRigidBody_getWorldTransform_0:mh,_emscripten_bind_btPoint2PointConstraint_setPivotA_1:gr,_emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1:un,_memcpy:Bw,_emscripten_bind_btCapsuleShape_calculateLocalInertia_2:Z,_emscripten_bind_btVector3_y_0:nl,_emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0:Zo,_emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2:g,_emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3:y,_emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0:lc,_emscripten_bind_btGhostObject_setCollisionShape_1:oc,_emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1:j,_emscripten_bind_btQuaternion_setW_1:wa,_emscripten_bind_btDiscreteDynamicsWorld_setGravity_1:Vi,_emscripten_bind_btGhostObject_isActive_0:Yl,_emscripten_bind_btVector4_z_0:Ms,_emscripten_bind_btCollisionObject_forceActivationState_1:bi,_emscripten_bind_btKinematicCharacterController_onGround_0:Ws,_emscripten_bind_btRaycastVehicle_getWheelInfo_1:vc,_emscripten_bind_btConeTwistConstraint_setLimit_2:Or,_emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1:vn,_emscripten_bind_btRigidBody___destroy___0:Mh,_emscripten_bind_btStridingMeshInterface___destroy___0:fi,_emscripten_bind_btRigidBody_setSleepingThresholds_2:Nc,_emscripten_bind_btCollisionObject_setWorldTransform_1:Ri,_emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0:Ac,_emscripten_bind_btManifoldPoint_get_m_localPointA_0:ti,_emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0:Ae,_emscripten_bind_btCollisionWorld_getBroadphase_0:Xh,_emscripten_bind_btDispatcher_getNumManifolds_0:In,_emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0:Ie,_emscripten_bind_btRigidBody_activate_1:dh,_emscripten_bind_btRigidBody_activate_0:hh,_emscripten_bind_btRaycastVehicle___destroy___0:xc,_emscripten_bind_btGhostObject_setActivationState_1:Wl,_emscripten_bind_btCollisionWorld_contactPairTest_3:Kh,_emscripten_bind_btCylinderShapeX___destroy___0:Eh,_emscripten_bind_btManifoldPoint_getPositionWorldOnA_0:Ze,_emscripten_bind_ContactResultCallback___destroy___0:no,_emscripten_bind_btDispatcherInfo_set_m_stepCount_1:D,_emscripten_bind_btVector4_x_0:bs,_emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1:be,_emscripten_bind_btKinematicCharacterController_getGhostObject_0:js,_emscripten_bind_btRigidBody_btRigidBody_1:Ic,_emscripten_bind_btTriangleMeshShape___destroy___0:Hn,_emscripten_bind_btKinematicCharacterController_setWalkDirection_1:Ds,_emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0:ke,_emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0:Go,_emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1:ci,_emscripten_bind_btKinematicCharacterController_getGravity_0:Fs,_emscripten_bind_btDiscreteDynamicsWorld_addAction_1:tr,_emscripten_bind_btQuaternion_setY_1:Ca,_emscripten_bind_btConeShape_calculateLocalInertia_2:Yr,_emscripten_bind_btCylinderShapeX_calculateLocalInertia_2:Th,_emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1:dr,_llvm_bswap_i32:Lw,_emscripten_bind_btSphereShape_setLocalScaling_1:_l,_emscripten_bind_btVector4_w_0:ms,_emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0:li,_emscripten_bind_btBvhTriangleMeshShape___destroy___0:M,_emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0:jn,_emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1:Sn,_emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1:Ni,_emscripten_bind_btVector4_y_0:vs,_emscripten_bind_btGeneric6DofConstraint___destroy___0:pi,_emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0:qo,_emscripten_bind_btConvexHullShape_addPoint_1:So,_emscripten_bind_btConvexHullShape_addPoint_2:xo,_emscripten_bind_btTransform_getOrigin_0:Hh,_emscripten_bind_btHingeConstraint___destroy___0:Rl,_emscripten_bind_btHingeConstraint_enableFeedback_1:wl,_emscripten_bind_btConvexShape_calculateLocalInertia_2:$r,_memset:Rw,_emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0:Wn,_emscripten_bind_btTriangleMesh_btTriangleMesh_0:_o,_emscripten_bind_btPairCachingGhostObject_getCollisionShape_0:se,_emscripten_bind_btTriangleMesh_btTriangleMesh_2:go,_emscripten_bind_btTransform___destroy___0:Jh,_emscripten_bind_btWheelInfo_set_m_frictionSlip_1:Xa,_emscripten_bind_btRigidBody_getCollisionShape_0:ah,_emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1:si,_emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0:is,_emscripten_bind_btManifoldPoint_get_m_localPointB_0:ii,_emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3:$i,_emscripten_bind_btSliderConstraint_setLowerLinLimit_1:Dr,_emscripten_bind_btPoint2PointConstraint_set_m_setting_1:xr,_emscripten_bind_btWheelInfo_get_m_wheelsRadius_0:Za,_emscripten_bind_btRigidBody_setLinearVelocity_1:eh,_emscripten_bind_btVehicleTuning_btVehicleTuning_0:Fo,_emscripten_bind_RayResultCallback_set_m_collisionObject_1:Ga,_emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1:Un,_emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0:Yn,_emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1:rs,_emscripten_bind_btDynamicsWorld_addAction_1:ra,_emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0:ye,_emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1:we,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1:Ge,_emscripten_bind_btKinematicCharacterController_setFallSpeed_1:ks,_emscripten_bind_btRigidBody_setActivationState_1:lh,_emscripten_bind_ClosestConvexResultCallback_hasHit_0:ln,_emscripten_bind_btCapsuleShapeZ___destroy___0:Va,_emscripten_bind_LocalShapeInfo_set_m_shapePart_1:sc,_emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0:ta,_emscripten_bind_btTriangleMesh_addTriangle_3:yo,_emscripten_bind_btGhostObject_getOverlappingObject_1:zl,_emscripten_bind_btTriangleMesh_addTriangle_4:bo,_emscripten_bind_btRigidBody_applyTorqueImpulse_1:Xc,_emscripten_bind_btRigidBody_setCollisionFlags_1:yh,_emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1:Qa,_emscripten_bind_btConeShape___destroy___0:Qr,_emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2:Da,_emscripten_bind_btSliderConstraint_btSliderConstraint_5:Rr,_emscripten_bind_btSliderConstraint_btSliderConstraint_3:wr,_emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0:z,_emscripten_bind_btDynamicsWorld_convexSweepTest_5:ua,_emscripten_bind_btRigidBody_forceActivationState_1:ch,_emscripten_bind_btPoint2PointConstraint_setPivotB_1:yr,_emscripten_bind_btGhostPairCallback___destroy___0:dd,_emscripten_bind_btKinematicCharacterController_getMaxSlope_0:zs,_emscripten_bind_btSliderConstraint_enableFeedback_1:Lr,_emscripten_bind_btRaycastVehicle_addWheel_7:gc,_emscripten_bind_btPairCachingGhostObject_isActive_0:pe,_emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1:wc,_emscripten_bind_btStaticPlaneShape___destroy___0:Qs,_emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0:U,_emscripten_bind_btBoxShape_setLocalScaling_1:Lo,_emscripten_bind_btConeShapeZ___destroy___0:co,_emscripten_bind_btDynamicsWorld_getPairCache_0:aa,_emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5:Zi,_emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2:Ps,_emscripten_bind_btVector4_btVector4_0:fs,_emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0:I,_emscripten_bind_btVector4_btVector4_4:_s,_emscripten_bind_btKinematicCharacterController___destroy___0:Xs,_emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1:Cc,_emscripten_bind_btConstraintSetting_btConstraintSetting_0:Vl,_emscripten_bind_btDiscreteDynamicsWorld_rayTest_3:Ui,_emscripten_bind_btGhostPairCallback_btGhostPairCallback_0:hd,_emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1:Is,_emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1:Xn,_emscripten_bind_btVehicleTuning_get_m_frictionSlip_0:Yo,__GLOBAL__I_a:zx,runPostSets:Aw,stackAlloc:r,stackSave:o,stackRestore:n,setThrew:a,setTempRet0:s,getTempRet0:l,dynCall_viiiii:Iw,dynCall_vid:Ow,dynCall_vi:Jw,dynCall_viiidii:Nw,dynCall_vii:Fw,dynCall_iiiiiiiiiii:Gw,dynCall_ii:zw,dynCall_viidi:jw,dynCall_viddiii:Uw,dynCall_vidii:Ww,dynCall_iiiii:Xw,dynCall_vidi:qw,dynCall_diiiiiiii:Kw,dynCall_viiiiddddiid:Yw,dynCall_diiiii:Qw,dynCall_iiii:Zw,dynCall_viiiiii:$w,dynCall_iiid:tR,dynCall_di:eR,dynCall_iiiiiii:iR,dynCall_diiidii:rR,dynCall_viidii:oR,dynCall_viiiiiii:nR,dynCall_viiiiiiiii:aR,dynCall_viiiiiiiiii:sR,dynCall_iii:lR,dynCall_diii:cR,dynCall_diiiiiiiiii:hR,dynCall_viiiid:dR,dynCall_diiiiiiiii:uR,dynCall_did:pR,dynCall_viiiidddddidi:fR,dynCall_diidii:_R,dynCall_diiii:mR,dynCall_iiiiiiiiii:gR,dynCall_viiid:yR,dynCall_viii:bR,dynCall_v:vR,dynCall_viid:MR,dynCall_iidid:SR,dynCall_viiii:xR}
}({Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array},{abort:ci,assert:e,min:Zo,invoke_viiiii:be,invoke_vid:ve,invoke_vi:Me,invoke_viiidii:Se,invoke_vii:xe,invoke_iiiiiiiiiii:Te,invoke_ii:Ee,invoke_viidi:Ce,invoke_viddiii:Ae,invoke_vidii:we,invoke_iiiii:Re,invoke_vidi:De,invoke_diiiiiiii:Pe,invoke_viiiiddddiid:Be,invoke_diiiii:Ve,invoke_iiii:Le,invoke_viiiiii:ke,invoke_iiid:He,invoke_di:Ie,invoke_iiiiiii:Oe,invoke_diiidii:Je,invoke_viidii:Ne,invoke_viiiiiii:Fe,invoke_viiiiiiiii:Ge,invoke_viiiiiiiiii:ze,invoke_iii:je,invoke_diii:Ue,invoke_diiiiiiiiii:We,invoke_viiiid:Xe,invoke_diiiiiiiii:qe,invoke_did:Ke,invoke_viiiidddddidi:Ye,invoke_diidii:Qe,invoke_diiii:Ze,invoke_iiiiiiiiii:$e,invoke_viiid:ti,invoke_viii:ei,invoke_v:ii,invoke_viid:ri,invoke_iidid:oi,invoke_viiii:ni,_emscripten_asm_const_double:ne,_cosf:nn,_send:U,_sqrtf:dn,_fmod:Z,___cxa_guard_acquire:re,___setErrNo:I,_vfprintf:ye,_atan2f:gn,_fmodf:$,___cxa_guard_release:ie,_pwrite:W,_acosf:hn,_asinf:yn,_fabsf:an,_sbrk:le,_llvm_pow_f32:mn,___cxa_begin_catch:ae,_sinf:bn,_fileno:q,___resumeException:N,___cxa_find_matching_catch:F,_sysconf:O,__reallyNegative:_e,_pthread_getspecific:Y,__ZSt18uncaught_exceptionv:J,_emscripten_memcpy_big:se,_pthread_once:j,_pthread_key_create:Q,_write:X,___errno_location:de,_pthread_setspecific:te,_fputc:K,___cxa_throw:G,_abort:z,___cxa_allocate_exception:he,_fwrite:fe,_time:pe,_fprintf:ge,_gettimeofday:oe,__formatString:me,_llvm_trap:ue,___cxa_pure_virtual:ee,STACKTOP:Ao,STACK_MAX:wo,tempDoublePtr:on,ABORT:no,cttz_i8:Sn,ctlz_i8:Mn,NaN:0/0,Infinity:1/0,_stderr:vn},Lo),Tn=zr._emscripten_bind_btCylinderShape___destroy___0=xn._emscripten_bind_btCylinderShape___destroy___0,En=zr._strlen=xn._strlen,Cn=zr._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1=xn._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1,An=zr._emscripten_bind_btCollisionObject_isActive_0=xn._emscripten_bind_btCollisionObject_isActive_0,wn=zr._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1=xn._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1,Rn=zr._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4=xn._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4,Dn=zr._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0=xn._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0,Pn=zr._emscripten_bind_btQuaternion_setX_1=xn._emscripten_bind_btQuaternion_setX_1,Bn=zr._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0=xn._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0,Vn=zr._emscripten_bind_btQuaternion_setZ_1=xn._emscripten_bind_btQuaternion_setZ_1,Ln=zr._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0=xn._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0,kn=zr._emscripten_bind_btKinematicCharacterController_setMaxSlope_1=xn._emscripten_bind_btKinematicCharacterController_setMaxSlope_1,Hn=zr._emscripten_bind_btQuadWord_z_0=xn._emscripten_bind_btQuadWord_z_0,In=zr._emscripten_bind_btTransform_setIdentity_0=xn._emscripten_bind_btTransform_setIdentity_0,On=zr._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0=xn._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0,Jn=zr._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0=xn._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0,Nn=zr._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0=xn._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0,Fn=zr._emscripten_bind_btCollisionDispatcher___destroy___0=xn._emscripten_bind_btCollisionDispatcher___destroy___0,Gn=zr._emscripten_bind_btRigidBody_applyCentralImpulse_1=xn._emscripten_bind_btRigidBody_applyCentralImpulse_1,zn=zr._emscripten_bind_btDefaultMotionState_getWorldTransform_1=xn._emscripten_bind_btDefaultMotionState_getWorldTransform_1,jn=zr._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1=xn._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1,Un=zr._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3=xn._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3,Wn=zr._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2=xn._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2,Xn=zr._emscripten_bind_btVector3_op_mul_1=xn._emscripten_bind_btVector3_op_mul_1,qn=zr._emscripten_bind_btDynamicsWorld_rayTest_3=xn._emscripten_bind_btDynamicsWorld_rayTest_3,Kn=zr._emscripten_bind_btRaycastVehicle_updateWheelTransform_2=xn._emscripten_bind_btRaycastVehicle_updateWheelTransform_2,Yn=zr._emscripten_bind_btQuadWord_x_0=xn._emscripten_bind_btQuadWord_x_0,Qn=zr._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0=xn._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0,Zn=zr._emscripten_bind_btCollisionObject_isKinematicObject_0=xn._emscripten_bind_btCollisionObject_isKinematicObject_0,$n=zr._emscripten_bind_ConvexResultCallback___destroy___0=xn._emscripten_bind_ConvexResultCallback___destroy___0,ta=zr._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1=xn._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1,ea=zr._emscripten_bind_btRigidBody_getCenterOfMassTransform_0=xn._emscripten_bind_btRigidBody_getCenterOfMassTransform_0,ia=zr._emscripten_bind_btGhostObject_isKinematicObject_0=xn._emscripten_bind_btGhostObject_isKinematicObject_0,ra=zr._emscripten_bind_btCapsuleShape___destroy___0=xn._emscripten_bind_btCapsuleShape___destroy___0,oa=zr._emscripten_bind_btCollisionObject_activate_1=xn._emscripten_bind_btCollisionObject_activate_1,na=zr._emscripten_bind_btCollisionObject_activate_0=xn._emscripten_bind_btCollisionObject_activate_0,aa=zr._emscripten_bind_btKinematicCharacterController_setUpAxis_1=xn._emscripten_bind_btKinematicCharacterController_setUpAxis_1,sa=zr._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1=xn._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1,la=zr._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1=xn._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1,ca=zr._emscripten_bind_btVector3_setX_1=xn._emscripten_bind_btVector3_setX_1,ha=zr._emscripten_bind_btCollisionConfiguration___destroy___0=xn._emscripten_bind_btCollisionConfiguration___destroy___0,da=zr._emscripten_bind_btQuaternion_btQuaternion_4=xn._emscripten_bind_btQuaternion_btQuaternion_4,ua=zr._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1=xn._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1,pa=zr._emscripten_bind_btManifoldPoint_set_m_localPointB_1=xn._emscripten_bind_btManifoldPoint_set_m_localPointB_1,fa=zr._emscripten_bind_btVector3_setZ_1=xn._emscripten_bind_btVector3_setZ_1,_a=zr._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0=xn._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0,ma=zr._emscripten_bind_btQuaternion_setValue_4=xn._emscripten_bind_btQuaternion_setValue_4,ga=zr._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1=xn._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1,ya=zr._emscripten_bind_LocalShapeInfo___destroy___0=xn._emscripten_bind_LocalShapeInfo___destroy___0,ba=zr._emscripten_bind_btQuadWord_setY_1=xn._emscripten_bind_btQuadWord_setY_1,va=zr._emscripten_bind_btRigidBody_isKinematicObject_0=xn._emscripten_bind_btRigidBody_isKinematicObject_0,Ma=zr._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1=xn._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1,Sa=zr._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0=xn._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0,xa=zr._emscripten_bind_btConeTwistConstraint_setDamping_1=xn._emscripten_bind_btConeTwistConstraint_setDamping_1,Ta=zr._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0=xn._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0,Ea=zr._emscripten_bind_btCollisionWorld___destroy___0=xn._emscripten_bind_btCollisionWorld___destroy___0,Ca=zr._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0=xn._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0,Aa=zr._emscripten_bind_btBoxShape_btBoxShape_1=xn._emscripten_bind_btBoxShape_btBoxShape_1,wa=zr._emscripten_bind_btPersistentManifold_getBody1_0=xn._emscripten_bind_btPersistentManifold_getBody1_0,Ra=zr._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1=xn._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1,Da=zr._emscripten_bind_btKinematicCharacterController_setGravity_1=xn._emscripten_bind_btKinematicCharacterController_setGravity_1,Pa=zr._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1=xn._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1,Ba=zr._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5=xn._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5,Va=zr._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3=xn._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3,La=zr._emscripten_bind_LocalShapeInfo_get_m_shapePart_0=xn._emscripten_bind_LocalShapeInfo_get_m_shapePart_0,ka=zr._emscripten_bind_btWheelInfo_get_m_rollInfluence_0=xn._emscripten_bind_btWheelInfo_get_m_rollInfluence_0,Ha=zr._emscripten_bind_btVector4_setValue_4=xn._emscripten_bind_btVector4_setValue_4,Ia=zr._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1=xn._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1,Oa=zr._emscripten_bind_btDynamicsWorld_getDispatchInfo_0=xn._emscripten_bind_btDynamicsWorld_getDispatchInfo_0,Ja=zr._emscripten_bind_btVector3_length_0=xn._emscripten_bind_btVector3_length_0,Na=zr._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2=xn._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2,Fa=zr._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1=xn._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1,Ga=zr._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1=xn._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1,za=zr._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1=xn._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1,ja=zr._emscripten_bind_btPairCachingGhostObject___destroy___0=xn._emscripten_bind_btPairCachingGhostObject___destroy___0,Ua=zr._emscripten_bind_btPairCachingGhostObject_activate_0=xn._emscripten_bind_btPairCachingGhostObject_activate_0,Wa=zr._emscripten_bind_btPairCachingGhostObject_activate_1=xn._emscripten_bind_btPairCachingGhostObject_activate_1,Xa=zr._emscripten_bind_btPairCachingGhostObject_forceActivationState_1=xn._emscripten_bind_btPairCachingGhostObject_forceActivationState_1,qa=zr._emscripten_bind_btDefaultMotionState___destroy___0=xn._emscripten_bind_btDefaultMotionState___destroy___0,Ka=zr._emscripten_bind_btDispatcherInfo_get_m_stepCount_0=xn._emscripten_bind_btDispatcherInfo_get_m_stepCount_0,Ya=zr._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1=xn._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1,Qa=zr._emscripten_bind_btQuadWord_setW_1=xn._emscripten_bind_btQuadWord_setW_1,Za=zr._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0=xn._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0,$a=zr._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2=xn._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2,ts=zr._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0=xn._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0,es=zr._emscripten_bind_btRigidBody_setLinearFactor_1=xn._emscripten_bind_btRigidBody_setLinearFactor_1,is=zr._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1=xn._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1,rs=zr._emscripten_bind_btRaycastVehicle_setSteeringValue_2=xn._emscripten_bind_btRaycastVehicle_setSteeringValue_2,os=zr._emscripten_bind_btPoint2PointConstraint___destroy___0=xn._emscripten_bind_btPoint2PointConstraint___destroy___0,ns=zr._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2=xn._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2,as=zr._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1=xn._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1,ss=zr._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1=xn._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1,ce=zr._malloc=xn._malloc,ls=zr._emscripten_bind_btDispatcherInfo_get_m_useEpa_0=xn._emscripten_bind_btDispatcherInfo_get_m_useEpa_0,cs=zr._emscripten_bind_btTransform_btTransform_2=xn._emscripten_bind_btTransform_btTransform_2,hs=zr._emscripten_bind_btTransform_btTransform_0=xn._emscripten_bind_btTransform_btTransform_0,ds=zr._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1=xn._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1,us=zr._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1=xn._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1,ps=zr._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3=xn._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3,fs=zr._emscripten_bind_btCollisionObject_setActivationState_1=xn._emscripten_bind_btCollisionObject_setActivationState_1,_s=zr._emscripten_bind_btPersistentManifold___destroy___0=xn._emscripten_bind_btPersistentManifold___destroy___0,ms=zr._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0=xn._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0,gs=zr._emscripten_bind_btCylinderShapeZ___destroy___0=xn._emscripten_bind_btCylinderShapeZ___destroy___0,ys=zr._emscripten_bind_btMatrix3x3___destroy___0=xn._emscripten_bind_btMatrix3x3___destroy___0,bs=zr._emscripten_bind_ConvexResultCallback_hasHit_0=xn._emscripten_bind_ConvexResultCallback_hasHit_0,vs=zr._emscripten_bind_btCollisionShape_calculateLocalInertia_2=xn._emscripten_bind_btCollisionShape_calculateLocalInertia_2,Ms=zr._emscripten_bind_btCollisionWorld_convexSweepTest_5=xn._emscripten_bind_btCollisionWorld_convexSweepTest_5,Ss=zr._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1=xn._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1,xs=zr._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2=xn._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2,Ts=zr._emscripten_bind_btConstraintSetting_set_m_damping_1=xn._emscripten_bind_btConstraintSetting_set_m_damping_1,Es=zr._emscripten_bind_btVehicleRaycaster___destroy___0=xn._emscripten_bind_btVehicleRaycaster___destroy___0,Cs=zr._emscripten_bind_btRigidBody_applyForce_2=xn._emscripten_bind_btRigidBody_applyForce_2,As=zr._emscripten_bind_btConeShapeZ_calculateLocalInertia_2=xn._emscripten_bind_btConeShapeZ_calculateLocalInertia_2,ws=zr._emscripten_bind_btConstraintSetting_set_m_tau_1=xn._emscripten_bind_btConstraintSetting_set_m_tau_1,Rs=zr._emscripten_bind_btConvexHullShape_calculateLocalInertia_2=xn._emscripten_bind_btConvexHullShape_calculateLocalInertia_2,Ds=zr._emscripten_bind_btSphereShape_calculateLocalInertia_2=xn._emscripten_bind_btSphereShape_calculateLocalInertia_2,Ps=zr._emscripten_bind_btPoint2PointConstraint_get_m_setting_0=xn._emscripten_bind_btPoint2PointConstraint_get_m_setting_0,Bs=zr._emscripten_bind_LocalConvexResult_LocalConvexResult_5=xn._emscripten_bind_LocalConvexResult_LocalConvexResult_5,Vs=zr._emscripten_bind_btGhostObject_setFriction_1=xn._emscripten_bind_btGhostObject_setFriction_1,Ls=zr._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0=xn._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0,ks=zr._emscripten_bind_btRigidBody_setFriction_1=xn._emscripten_bind_btRigidBody_setFriction_1,Hs=zr._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1=xn._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1,Is=zr._emscripten_bind_btGhostObject_setWorldTransform_1=xn._emscripten_bind_btGhostObject_setWorldTransform_1,Os=zr._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1=xn._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1,Js=zr._emscripten_bind_btConvexHullShape___destroy___0=xn._emscripten_bind_btConvexHullShape___destroy___0,Ns=zr._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0=xn._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0,Fs=zr._emscripten_bind_btVector4_setX_1=xn._emscripten_bind_btVector4_setX_1,Gs=zr._emscripten_bind_btKinematicCharacterController_jump_0=xn._emscripten_bind_btKinematicCharacterController_jump_0,zs=zr._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1=xn._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1,js=zr._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1=xn._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1,Us=zr._emscripten_bind_btRigidBody_upcast_1=xn._emscripten_bind_btRigidBody_upcast_1,Ws=zr._emscripten_bind_btCollisionObject_getWorldTransform_0=xn._emscripten_bind_btCollisionObject_getWorldTransform_0,Xs=zr._emscripten_bind_btVector4_setZ_1=xn._emscripten_bind_btVector4_setZ_1,qs=zr._emscripten_bind_btQuadWord_y_0=xn._emscripten_bind_btQuadWord_y_0,Ks=(zr.___cxa_can_catch=xn.___cxa_can_catch,zr._emscripten_bind_btTransform_getBasis_0=xn._emscripten_bind_btTransform_getBasis_0),Ys=zr._emscripten_bind_btPairCachingGhostObject_setFriction_1=xn._emscripten_bind_btPairCachingGhostObject_setFriction_1,Qs=zr._emscripten_bind_btDispatcherInfo_set_m_useEpa_1=xn._emscripten_bind_btDispatcherInfo_set_m_useEpa_1,Zs=zr._emscripten_bind_btCollisionDispatcher_getNumManifolds_0=xn._emscripten_bind_btCollisionDispatcher_getNumManifolds_0,$s=zr._emscripten_bind_ClosestRayResultCallback___destroy___0=xn._emscripten_bind_ClosestRayResultCallback___destroy___0,tl=zr._emscripten_bind_btQuadWord_w_0=xn._emscripten_bind_btQuadWord_w_0,el=zr._emscripten_bind_btCompoundShape___destroy___0=xn._emscripten_bind_btCompoundShape___destroy___0,il=zr._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2=xn._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2,rl=zr._emscripten_bind_btGhostObject_btGhostObject_0=xn._emscripten_bind_btGhostObject_btGhostObject_0,ol=zr._emscripten_bind_btConeShape_btConeShape_2=xn._emscripten_bind_btConeShape_btConeShape_2,nl=zr._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1=xn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1,al=zr._emscripten_bind_btManifoldPoint_set_m_localPointA_1=xn._emscripten_bind_btManifoldPoint_set_m_localPointA_1,sl=zr._emscripten_bind_btCollisionObject_setCollisionShape_1=xn._emscripten_bind_btCollisionObject_setCollisionShape_1,ll=zr._emscripten_bind_btWheelInfo___destroy___0=xn._emscripten_bind_btWheelInfo___destroy___0,cl=zr._emscripten_bind_btTransform_setRotation_1=xn._emscripten_bind_btTransform_setRotation_1,hl=zr._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0=xn._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0,dl=zr._emscripten_bind_btPoint2PointConstraint_enableFeedback_1=xn._emscripten_bind_btPoint2PointConstraint_enableFeedback_1,ul=zr._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1=xn._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1,pl=zr._emscripten_bind_btAxisSweep3_btAxisSweep3_2=xn._emscripten_bind_btAxisSweep3_btAxisSweep3_2,fl=zr._emscripten_bind_btAxisSweep3_btAxisSweep3_3=xn._emscripten_bind_btAxisSweep3_btAxisSweep3_3,_l=zr._emscripten_bind_btBoxShape_calculateLocalInertia_2=xn._emscripten_bind_btBoxShape_calculateLocalInertia_2,ml=zr._emscripten_bind_btVector3_setY_1=xn._emscripten_bind_btVector3_setY_1,gl=zr._emscripten_bind_btAxisSweep3_btAxisSweep3_4=xn._emscripten_bind_btAxisSweep3_btAxisSweep3_4,yl=zr._emscripten_bind_btAxisSweep3_btAxisSweep3_5=xn._emscripten_bind_btAxisSweep3_btAxisSweep3_5,bl=zr._emscripten_bind_btQuadWord_setX_1=xn._emscripten_bind_btQuadWord_setX_1,vl=zr._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0=xn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0,Ml=zr._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1=xn._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1,Sl=zr._emscripten_bind_btOverlappingPairCache___destroy___0=xn._emscripten_bind_btOverlappingPairCache___destroy___0,xl=zr._emscripten_bind_btConstraintSetting___destroy___0=xn._emscripten_bind_btConstraintSetting___destroy___0,Tl=zr._emscripten_bind_RayResultCallback___destroy___0=xn._emscripten_bind_RayResultCallback___destroy___0,El=zr._emscripten_bind_btPersistentManifold_getBody0_0=xn._emscripten_bind_btPersistentManifold_getBody0_0,Cl=zr._emscripten_bind_btConeShapeX_btConeShapeX_2=xn._emscripten_bind_btConeShapeX_btConeShapeX_2,Al=zr._emscripten_bind_btConeTwistConstraint_enableFeedback_1=xn._emscripten_bind_btConeTwistConstraint_enableFeedback_1,wl=zr._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1=xn._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1,Rl=zr._emscripten_bind_btRigidBody_applyTorque_1=xn._emscripten_bind_btRigidBody_applyTorque_1,Dl=zr._emscripten_bind_btSliderConstraint_setUpperLinLimit_1=xn._emscripten_bind_btSliderConstraint_setUpperLinLimit_1,Pl=zr._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2=xn._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2,Bl=zr._emscripten_bind_btConcaveShape___destroy___0=xn._emscripten_bind_btConcaveShape___destroy___0,Vl=zr._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4=xn._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4,Ll=zr._emscripten_bind_btQuaternion_x_0=xn._emscripten_bind_btQuaternion_x_0,kl=zr._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1=xn._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1,Hl=zr._emscripten_bind_btConcaveShape_setLocalScaling_1=xn._emscripten_bind_btConcaveShape_setLocalScaling_1,Il=zr._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0=xn._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0,Ol=zr._emscripten_bind_btConeShapeX_setLocalScaling_1=xn._emscripten_bind_btConeShapeX_setLocalScaling_1,Jl=zr._emscripten_bind_btQuaternion_z_0=xn._emscripten_bind_btQuaternion_z_0,Nl=zr._emscripten_bind_btConvexHullShape_btConvexHullShape_0=xn._emscripten_bind_btConvexHullShape_btConvexHullShape_0,Fl=zr._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1=xn._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1,Gl=zr._emscripten_bind_btConstraintSetting_get_m_damping_0=xn._emscripten_bind_btConstraintSetting_get_m_damping_0,zl=zr._emscripten_bind_btGhostObject___destroy___0=xn._emscripten_bind_btGhostObject___destroy___0,jl=zr._emscripten_bind_btGhostObject_setContactProcessingThreshold_1=xn._emscripten_bind_btGhostObject_setContactProcessingThreshold_1,Ul=zr._emscripten_bind_btRigidBody_applyCentralForce_1=xn._emscripten_bind_btRigidBody_applyCentralForce_1,Wl=zr._emscripten_bind_btQuaternion___destroy___0=xn._emscripten_bind_btQuaternion___destroy___0,Xl=zr._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1=xn._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1,ql=zr._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2=xn._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2,Kl=zr._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0=xn._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0,Yl=zr._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1=xn._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1,Ql=zr._emscripten_bind_btKinematicCharacterController_canJump_0=xn._emscripten_bind_btKinematicCharacterController_canJump_0,Zl=zr._emscripten_bind_btRigidBody_isActive_0=xn._emscripten_bind_btRigidBody_isActive_0,$l=zr._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3=xn._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3,tc=zr._emscripten_bind_btMotionState_setWorldTransform_1=xn._emscripten_bind_btMotionState_setWorldTransform_1,ec=zr._emscripten_bind_btCylinderShape_setLocalScaling_1=xn._emscripten_bind_btCylinderShape_setLocalScaling_1,ic=zr._emscripten_bind_btCollisionWorld_rayTest_3=xn._emscripten_bind_btCollisionWorld_rayTest_3,rc=zr._emscripten_bind_btCompoundShape_calculateLocalInertia_2=xn._emscripten_bind_btCompoundShape_calculateLocalInertia_2,oc=zr._emscripten_bind_btCollisionWorld_getDispatchInfo_0=xn._emscripten_bind_btCollisionWorld_getDispatchInfo_0,nc=zr._emscripten_bind_btRigidBody_setCollisionShape_1=xn._emscripten_bind_btRigidBody_setCollisionShape_1,ac=zr._emscripten_bind_btConeShapeX___destroy___0=xn._emscripten_bind_btConeShapeX___destroy___0,sc=zr._emscripten_bind_btCollisionObject_getCollisionFlags_0=xn._emscripten_bind_btCollisionObject_getCollisionFlags_0,lc=zr._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1=xn._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1,cc=zr._emscripten_bind_btConeTwistConstraint_enableMotor_1=xn._emscripten_bind_btConeTwistConstraint_enableMotor_1,hc=zr._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1=xn._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1,dc=zr._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4=xn._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4,uc=zr._emscripten_bind_btPairCachingGhostObject_setRestitution_1=xn._emscripten_bind_btPairCachingGhostObject_setRestitution_1,pc=zr._emscripten_bind_btBroadphaseInterface___destroy___0=xn._emscripten_bind_btBroadphaseInterface___destroy___0,fc=zr._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1=xn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1,_c=zr._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1=xn._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1,mc=zr._emscripten_bind_btPersistentManifold_getNumContacts_0=xn._emscripten_bind_btPersistentManifold_getNumContacts_0,gc=zr._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0=xn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0,yc=zr._emscripten_bind_LocalConvexResult___destroy___0=xn._emscripten_bind_LocalConvexResult___destroy___0,bc=zr._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0=xn._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0,vc=zr._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1=xn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1,Mc=zr._emscripten_bind_btCollisionWorld_addCollisionObject_3=xn._emscripten_bind_btCollisionWorld_addCollisionObject_3,Sc=zr._emscripten_bind_btRigidBody_getCollisionFlags_0=xn._emscripten_bind_btRigidBody_getCollisionFlags_0,xc=zr._emscripten_bind_btCollisionShape_setLocalScaling_1=xn._emscripten_bind_btCollisionShape_setLocalScaling_1,Tc=zr._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0=xn._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0,Ec=zr._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0=xn._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0,Cc=zr._emscripten_bind_btMatrix3x3_setEulerZYX_3=xn._emscripten_bind_btMatrix3x3_setEulerZYX_3,Ac=zr._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0=xn._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0,wc=zr._emscripten_bind_btConvexHullShape_setLocalScaling_1=xn._emscripten_bind_btConvexHullShape_setLocalScaling_1,Rc=zr._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0=xn._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0,Dc=zr._emscripten_bind_btCollisionWorld_getDispatcher_0=xn._emscripten_bind_btCollisionWorld_getDispatcher_0,Pc=zr._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1=xn._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1,Bc=zr._emscripten_bind_btTriangleMesh_btTriangleMesh_1=xn._emscripten_bind_btTriangleMesh_btTriangleMesh_1,Vc=zr._i64Subtract=xn._i64Subtract,Lc=zr._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1=xn._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1,kc=zr._emscripten_bind_btRigidBody_setDamping_2=xn._emscripten_bind_btRigidBody_setDamping_2,Hc=zr._emscripten_bind_btDynamicsWorld_getDispatcher_0=xn._emscripten_bind_btDynamicsWorld_getDispatcher_0,Ic=zr._emscripten_bind_btGhostObject_setCollisionFlags_1=xn._emscripten_bind_btGhostObject_setCollisionFlags_1,Oc=zr._emscripten_bind_btMatrix3x3_getRotation_1=xn._emscripten_bind_btMatrix3x3_getRotation_1,Jc=zr._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1=xn._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1,Nc=zr._emscripten_bind_btCylinderShapeX_setLocalScaling_1=xn._emscripten_bind_btCylinderShapeX_setLocalScaling_1,Fc=zr._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0=xn._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0,Gc=zr._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0=xn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0,zc=zr._emscripten_bind_btCompoundShape_setLocalScaling_1=xn._emscripten_bind_btCompoundShape_setLocalScaling_1,jc=zr._emscripten_bind_btOverlappingPairCallback___destroy___0=xn._emscripten_bind_btOverlappingPairCallback___destroy___0,Uc=zr._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0=xn._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0,Wc=zr._emscripten_bind_btVector4_setY_1=xn._emscripten_bind_btVector4_setY_1,Xc=zr._emscripten_bind_btRigidBody_setContactProcessingThreshold_1=xn._emscripten_bind_btRigidBody_setContactProcessingThreshold_1,qc=zr._emscripten_bind_btRigidBody_getLinearVelocity_0=xn._emscripten_bind_btRigidBody_getLinearVelocity_0,Kc=zr._emscripten_bind_btRigidBody_applyImpulse_2=xn._emscripten_bind_btRigidBody_applyImpulse_2,Yc=zr._emscripten_bind_btConcaveShape_calculateLocalInertia_2=xn._emscripten_bind_btConcaveShape_calculateLocalInertia_2,Qc=zr._emscripten_bind_btRigidBody_setWorldTransform_1=xn._emscripten_bind_btRigidBody_setWorldTransform_1,Zc=zr._emscripten_bind_btRigidBody_setAngularVelocity_1=xn._emscripten_bind_btRigidBody_setAngularVelocity_1,$c=zr._emscripten_bind_btConvexShape_setLocalScaling_1=xn._emscripten_bind_btConvexShape_setLocalScaling_1,th=zr._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2=xn._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2,eh=zr._free=xn._free,ih=zr._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1=xn._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1,rh=zr._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0=xn._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0,oh=zr._emscripten_bind_RayResultCallback_hasHit_0=xn._emscripten_bind_RayResultCallback_hasHit_0,nh=zr._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0=xn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0,ah=zr._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0=xn._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0,sh=zr._emscripten_bind_btWheelInfo_get_m_frictionSlip_0=xn._emscripten_bind_btWheelInfo_get_m_frictionSlip_0,lh=zr._emscripten_bind_btConeShapeZ_setLocalScaling_1=xn._emscripten_bind_btConeShapeZ_setLocalScaling_1,ch=zr._emscripten_bind_btPairCachingGhostObject_setActivationState_1=xn._emscripten_bind_btPairCachingGhostObject_setActivationState_1,hh=zr._emscripten_bind_btConvexTriangleMeshShape___destroy___0=xn._emscripten_bind_btConvexTriangleMeshShape___destroy___0,dh=zr._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1=xn._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1,uh=zr._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1=xn._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1,ph=zr._emscripten_bind_btRigidBody_getAngularVelocity_0=xn._emscripten_bind_btRigidBody_getAngularVelocity_0,fh=zr._emscripten_bind_btCompoundShape_btCompoundShape_0=xn._emscripten_bind_btCompoundShape_btCompoundShape_0,_h=zr._emscripten_bind_btCompoundShape_btCompoundShape_1=xn._emscripten_bind_btCompoundShape_btCompoundShape_1,mh=zr._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1=xn._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1,gh=zr._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2=xn._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2,yh=zr._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0=xn._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0,bh=zr._emscripten_bind_btRigidBody_updateInertiaTensor_0=xn._emscripten_bind_btRigidBody_updateInertiaTensor_0,vh=zr._emscripten_bind_btTransform_setOrigin_1=xn._emscripten_bind_btTransform_setOrigin_1,Mh=zr._emscripten_bind_ClosestRayResultCallback_hasHit_0=xn._emscripten_bind_ClosestRayResultCallback_hasHit_0,Sh=zr._emscripten_bind_btCompoundShape_addChildShape_2=xn._emscripten_bind_btCompoundShape_addChildShape_2,xh=zr._emscripten_bind_btDispatcher___destroy___0=xn._emscripten_bind_btDispatcher___destroy___0,Th=zr._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0=xn._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0,Eh=zr._emscripten_bind_btDiscreteDynamicsWorld___destroy___0=xn._emscripten_bind_btDiscreteDynamicsWorld___destroy___0,Ch=zr._emscripten_bind_btConvexShape___destroy___0=xn._emscripten_bind_btConvexShape___destroy___0,Ah=zr._memmove=xn._memmove,wh=zr._emscripten_bind_btCapsuleShapeX_setLocalScaling_1=xn._emscripten_bind_btCapsuleShapeX_setLocalScaling_1,Rh=zr._emscripten_bind_btCollisionObject_setRestitution_1=xn._emscripten_bind_btCollisionObject_setRestitution_1,Dh=zr._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0=xn._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0,Ph=zr._emscripten_bind_LocalConvexResult_get_m_hitFraction_0=xn._emscripten_bind_LocalConvexResult_get_m_hitFraction_0,Bh=zr._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0=xn._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0,Vh=zr._emscripten_bind_btQuaternion_w_0=xn._emscripten_bind_btQuaternion_w_0,Lh=zr._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0=xn._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0,kh=zr._emscripten_bind_btTransform_getRotation_0=xn._emscripten_bind_btTransform_getRotation_0,Hh=zr._emscripten_bind_btHingeConstraint_btHingeConstraint_6=xn._emscripten_bind_btHingeConstraint_btHingeConstraint_6,Ih=zr._emscripten_bind_btHingeConstraint_btHingeConstraint_7=xn._emscripten_bind_btHingeConstraint_btHingeConstraint_7,Oh=zr._emscripten_bind_btHingeConstraint_btHingeConstraint_4=xn._emscripten_bind_btHingeConstraint_btHingeConstraint_4,Jh=zr._emscripten_bind_btHingeConstraint_btHingeConstraint_5=xn._emscripten_bind_btHingeConstraint_btHingeConstraint_5,Nh=zr._emscripten_bind_btHingeConstraint_btHingeConstraint_2=xn._emscripten_bind_btHingeConstraint_btHingeConstraint_2,Fh=zr._emscripten_bind_btHingeConstraint_btHingeConstraint_3=xn._emscripten_bind_btHingeConstraint_btHingeConstraint_3,Gh=zr._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1=xn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1,zh=zr._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0=xn._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0,jh=zr._emscripten_bind_btTypedConstraint___destroy___0=xn._emscripten_bind_btTypedConstraint___destroy___0,Uh=zr._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1=xn._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1,Wh=zr._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3=xn._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3,Xh=zr._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1=xn._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1,qh=zr._emscripten_bind_btVector3_z_0=xn._emscripten_bind_btVector3_z_0,Kh=zr._emscripten_bind_btSphereShape_btSphereShape_1=xn._emscripten_bind_btSphereShape_btSphereShape_1,Yh=zr._emscripten_bind_btQuaternion_y_0=xn._emscripten_bind_btQuaternion_y_0,Qh=zr._emscripten_bind_btCollisionWorld_addCollisionObject_1=xn._emscripten_bind_btCollisionWorld_addCollisionObject_1,Zh=zr._emscripten_bind_btCollisionWorld_addCollisionObject_2=xn._emscripten_bind_btCollisionWorld_addCollisionObject_2,$h=zr._emscripten_bind_btRigidBody_setRestitution_1=xn._emscripten_bind_btRigidBody_setRestitution_1,td=zr._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1=xn._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1,ed=zr._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0=xn._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0,id=zr._emscripten_bind_btRigidBody_getMotionState_0=xn._emscripten_bind_btRigidBody_getMotionState_0,rd=zr._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1=xn._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1,od=zr._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7=xn._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7,nd=zr._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0=xn._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0,ad=zr._emscripten_bind_btActionInterface___destroy___0=xn._emscripten_bind_btActionInterface___destroy___0,sd=zr._emscripten_bind_btDefaultMotionState_setWorldTransform_1=xn._emscripten_bind_btDefaultMotionState_setWorldTransform_1,ld=zr._emscripten_bind_btDefaultVehicleRaycaster___destroy___0=xn._emscripten_bind_btDefaultVehicleRaycaster___destroy___0,cd=zr._emscripten_bind_RayResultCallback_get_m_collisionObject_0=xn._emscripten_bind_RayResultCallback_get_m_collisionObject_0,hd=zr._emscripten_bind_btPoint2PointConstraint_getPivotInA_0=xn._emscripten_bind_btPoint2PointConstraint_getPivotInA_0,dd=zr._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0=xn._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0,ud=zr._emscripten_bind_btCylinderShape_calculateLocalInertia_2=xn._emscripten_bind_btCylinderShape_calculateLocalInertia_2,pd=zr._emscripten_bind_btGhostObject_setRestitution_1=xn._emscripten_bind_btGhostObject_setRestitution_1,fd=zr._emscripten_bind_btDynamicsWorld_addCollisionObject_1=xn._emscripten_bind_btDynamicsWorld_addCollisionObject_1,_d=zr._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0=xn._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0,md=zr._emscripten_bind_btDynamicsWorld_addCollisionObject_3=xn._emscripten_bind_btDynamicsWorld_addCollisionObject_3,gd=zr._emscripten_bind_btDynamicsWorld_addCollisionObject_2=xn._emscripten_bind_btDynamicsWorld_addCollisionObject_2,yd=zr._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0=xn._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0,bd=zr._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1=xn._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1,vd=zr._emscripten_bind_btVector4_op_mul_1=xn._emscripten_bind_btVector4_op_mul_1,Md=zr._emscripten_bind_btCylinderShape_btCylinderShape_1=xn._emscripten_bind_btCylinderShape_btCylinderShape_1,Sd=zr._emscripten_bind_btVector3___destroy___0=xn._emscripten_bind_btVector3___destroy___0,xd=zr._emscripten_bind_btRigidBody_setAngularFactor_1=xn._emscripten_bind_btRigidBody_setAngularFactor_1,Td=zr._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2=xn._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2,Ed=zr._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1=xn._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1,Cd=zr._emscripten_bind_btMotionState_getWorldTransform_1=xn._emscripten_bind_btMotionState_getWorldTransform_1,Ad=zr._emscripten_bind_btDynamicsWorld_getBroadphase_0=xn._emscripten_bind_btDynamicsWorld_getBroadphase_0,wd=zr._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1=xn._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1,Rd=zr._emscripten_bind_btVector3_x_0=xn._emscripten_bind_btVector3_x_0,Dd=(zr.___cxa_is_pointer_type=xn.___cxa_is_pointer_type,zr._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3=xn._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3),Pd=zr._emscripten_bind_btCollisionObject_getCollisionShape_0=xn._emscripten_bind_btCollisionObject_getCollisionShape_0,Bd=zr._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4=xn._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4,Vd=zr._emscripten_bind_btManifoldPoint___destroy___0=xn._emscripten_bind_btManifoldPoint___destroy___0,Ld=zr._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1=xn._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1,kd=zr._emscripten_bind_btVector4_length_0=xn._emscripten_bind_btVector4_length_0,Hd=zr._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1=xn._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1,Id=zr._emscripten_bind_btCylinderShapeZ_setLocalScaling_1=xn._emscripten_bind_btCylinderShapeZ_setLocalScaling_1,Od=zr._emscripten_bind_ClosestConvexResultCallback___destroy___0=xn._emscripten_bind_ClosestConvexResultCallback___destroy___0,Jd=zr._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0=xn._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0,Nd=zr._emscripten_bind_btCollisionObject_setFriction_1=xn._emscripten_bind_btCollisionObject_setFriction_1,Fd=zr._emscripten_bind_btDefaultCollisionConfiguration___destroy___0=xn._emscripten_bind_btDefaultCollisionConfiguration___destroy___0,Gd=zr._emscripten_bind_btRigidBody_setMassProps_2=xn._emscripten_bind_btRigidBody_setMassProps_2,zd=zr._emscripten_bind_btVector3_setValue_3=xn._emscripten_bind_btVector3_setValue_3,jd=zr._emscripten_bind_btGhostObject_getCollisionFlags_0=xn._emscripten_bind_btGhostObject_getCollisionFlags_0,Ud=zr._emscripten_bind_btCapsuleShapeX___destroy___0=xn._emscripten_bind_btCapsuleShapeX___destroy___0,Wd=zr._emscripten_bind_btHingeConstraint_setLimit_4=xn._emscripten_bind_btHingeConstraint_setLimit_4,Xd=zr._emscripten_bind_btHingeConstraint_setLimit_5=xn._emscripten_bind_btHingeConstraint_setLimit_5,qd=zr._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1=xn._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1,Kd=zr._emscripten_bind_btConeShape_setLocalScaling_1=xn._emscripten_bind_btConeShape_setLocalScaling_1,Yd=zr._emscripten_bind_btGhostObject_getNumOverlappingObjects_0=xn._emscripten_bind_btGhostObject_getNumOverlappingObjects_0,Qd=zr._emscripten_bind_btGhostObject_getCollisionShape_0=xn._emscripten_bind_btGhostObject_getCollisionShape_0,Zd=zr._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1=xn._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1,$d=zr._emscripten_bind_btPersistentManifold_getContactPoint_1=xn._emscripten_bind_btPersistentManifold_getContactPoint_1,tu=zr._emscripten_bind_btConeShapeX_calculateLocalInertia_2=xn._emscripten_bind_btConeShapeX_calculateLocalInertia_2,eu=zr._emscripten_bind_btGhostObject_activate_0=xn._emscripten_bind_btGhostObject_activate_0,iu=zr._emscripten_bind_btGhostObject_activate_1=xn._emscripten_bind_btGhostObject_activate_1,ru=zr._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0=xn._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0,ou=zr._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0=xn._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0,nu=zr._emscripten_bind_btConeShapeZ_btConeShapeZ_2=xn._emscripten_bind_btConeShapeZ_btConeShapeZ_2,au=zr._emscripten_bind_btSphereShape___destroy___0=xn._emscripten_bind_btSphereShape___destroy___0,su=zr._emscripten_bind_btSliderConstraint_setUpperAngLimit_1=xn._emscripten_bind_btSliderConstraint_setUpperAngLimit_1,lu=zr._emscripten_bind_btDynamicsWorld_contactPairTest_3=xn._emscripten_bind_btDynamicsWorld_contactPairTest_3,cu=zr._emscripten_bind_btCollisionWorld_getPairCache_0=xn._emscripten_bind_btCollisionWorld_getPairCache_0,hu=zr._emscripten_bind_btConeTwistConstraint_setMotorTarget_1=xn._emscripten_bind_btConeTwistConstraint_setMotorTarget_1,du=zr._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1=xn._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1,uu=zr._emscripten_bind_btWheelInfo_set_m_rollInfluence_1=xn._emscripten_bind_btWheelInfo_set_m_rollInfluence_1,pu=zr._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0=xn._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0,fu=zr._emscripten_bind_btGhostObject_forceActivationState_1=xn._emscripten_bind_btGhostObject_forceActivationState_1,_u=zr._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0=xn._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0,mu=zr._emscripten_bind_VoidPtr___destroy___0=xn._emscripten_bind_VoidPtr___destroy___0,gu=zr._emscripten_bind_btSliderConstraint_setLowerAngLimit_1=xn._emscripten_bind_btSliderConstraint_setLowerAngLimit_1,yu=zr._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2=xn._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2,bu=zr._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0=xn._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0,vu=zr._emscripten_bind_btRaycastVehicle_getRigidBody_0=xn._emscripten_bind_btRaycastVehicle_getRigidBody_0,Mu=zr._emscripten_bind_btWheelInfo_get_m_steering_0=xn._emscripten_bind_btWheelInfo_get_m_steering_0,Su=zr._emscripten_bind_btConstraintSetting_get_m_tau_0=xn._emscripten_bind_btConstraintSetting_get_m_tau_0,xu=zr._emscripten_bind_btSliderConstraint___destroy___0=xn._emscripten_bind_btSliderConstraint___destroy___0,Tu=zr._emscripten_bind_btCollisionShape___destroy___0=xn._emscripten_bind_btCollisionShape___destroy___0,Eu=zr._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0=xn._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0,Cu=zr._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0=xn._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0,Au=zr._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0=xn._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0,wu=zr._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1=xn._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1,Ru=zr._emscripten_bind_btKinematicCharacterController_warp_1=xn._emscripten_bind_btKinematicCharacterController_warp_1,Du=zr._emscripten_bind_btAxisSweep3___destroy___0=xn._emscripten_bind_btAxisSweep3___destroy___0,Pu=zr._emscripten_bind_btTriangleMesh___destroy___0=xn._emscripten_bind_btTriangleMesh___destroy___0,Bu=zr._emscripten_bind_btKinematicCharacterController_preStep_1=xn._emscripten_bind_btKinematicCharacterController_preStep_1,Vu=zr._emscripten_bind_btRaycastVehicle_applyEngineForce_2=xn._emscripten_bind_btRaycastVehicle_applyEngineForce_2,Lu=zr._emscripten_bind_btRaycastVehicle_setBrake_2=xn._emscripten_bind_btRaycastVehicle_setBrake_2,ku=zr._emscripten_bind_ConcreteContactResultCallback___destroy___0=xn._emscripten_bind_ConcreteContactResultCallback___destroy___0,Hu=zr._emscripten_bind_btCollisionObject___destroy___0=xn._emscripten_bind_btCollisionObject___destroy___0,Iu=zr._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1=xn._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1,Ou=zr._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1=xn._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1,Ju=zr._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1=xn._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1,Nu=zr._emscripten_bind_btDispatcherInfo_set_m_timeStep_1=xn._emscripten_bind_btDispatcherInfo_set_m_timeStep_1,Fu=zr._emscripten_bind_btVector3_btVector3_3=xn._emscripten_bind_btVector3_btVector3_3,Gu=zr._emscripten_bind_btVector3_btVector3_0=xn._emscripten_bind_btVector3_btVector3_0,zu=zr._emscripten_bind_btBoxShape___destroy___0=xn._emscripten_bind_btBoxShape___destroy___0,ju=zr._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0=xn._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0,Uu=zr._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0=xn._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0,Wu=zr._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0=xn._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0,Xu=zr._emscripten_bind_btConeTwistConstraint___destroy___0=xn._emscripten_bind_btConeTwistConstraint___destroy___0,qu=zr._emscripten_bind_btQuadWord___destroy___0=xn._emscripten_bind_btQuadWord___destroy___0,Ku=zr._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1=xn._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1,Yu=zr._emscripten_bind_btRigidBody_setCenterOfMassTransform_1=xn._emscripten_bind_btRigidBody_setCenterOfMassTransform_1,Qu=zr._emscripten_bind_btConstraintSolver___destroy___0=xn._emscripten_bind_btConstraintSolver___destroy___0,Zu=zr._emscripten_bind_btDbvtBroadphase___destroy___0=xn._emscripten_bind_btDbvtBroadphase___destroy___0,$u=zr._emscripten_bind_btCapsuleShape_btCapsuleShape_2=xn._emscripten_bind_btCapsuleShape_btCapsuleShape_2,tp=zr._emscripten_bind_btTypedConstraint_enableFeedback_1=xn._emscripten_bind_btTypedConstraint_enableFeedback_1,ep=zr._emscripten_bind_btQuadWord_setZ_1=xn._emscripten_bind_btQuadWord_setZ_1,ip=zr._emscripten_bind_btCapsuleShape_setLocalScaling_1=xn._emscripten_bind_btCapsuleShape_setLocalScaling_1,rp=zr._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0=xn._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0,op=zr._emscripten_bind_btTriangleMeshShape_setLocalScaling_1=xn._emscripten_bind_btTriangleMeshShape_setLocalScaling_1,np=zr._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1=xn._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1,ap=zr._emscripten_bind_btPersistentManifold_btPersistentManifold_0=xn._emscripten_bind_btPersistentManifold_btPersistentManifold_0,sp=zr._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0=xn._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0,lp=zr._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2=xn._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2,cp=zr._emscripten_bind_btVector4___destroy___0=xn._emscripten_bind_btVector4___destroy___0,hp=zr._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0=xn._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0,dp=zr._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1=xn._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1,up=zr._i64Add=xn._i64Add,pp=zr._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2=xn._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2,fp=zr._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1=xn._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1,_p=zr._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0=xn._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0,mp=zr._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1=xn._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1,gp=zr._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3=xn._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3,yp=zr._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0=xn._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0,bp=zr._emscripten_bind_btPoint2PointConstraint_getPivotInB_0=xn._emscripten_bind_btPoint2PointConstraint_getPivotInB_0,vp=zr._emscripten_bind_btKinematicCharacterController_playerStep_2=xn._emscripten_bind_btKinematicCharacterController_playerStep_2,Mp=zr._emscripten_bind_btDispatcherInfo___destroy___0=xn._emscripten_bind_btDispatcherInfo___destroy___0,Sp=zr._emscripten_bind_btStaticPlaneShape_setLocalScaling_1=xn._emscripten_bind_btStaticPlaneShape_setLocalScaling_1,xp=zr._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2=xn._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2,Tp=zr._emscripten_bind_ContactResultCallback_addSingleResult_7=xn._emscripten_bind_ContactResultCallback_addSingleResult_7,Ep=zr._emscripten_bind_btGhostObject_getWorldTransform_0=xn._emscripten_bind_btGhostObject_getWorldTransform_0,Cp=zr._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0=xn._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0,Ap=zr._emscripten_bind_LocalConvexResult_set_m_hitFraction_1=xn._emscripten_bind_LocalConvexResult_set_m_hitFraction_1,wp=zr._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2=xn._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2,Rp=zr._emscripten_bind_btDispatcherInfo_get_m_timeStep_0=xn._emscripten_bind_btDispatcherInfo_get_m_timeStep_0,Dp=zr._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1=xn._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1,Pp=zr._emscripten_bind_btDynamicsWorld___destroy___0=xn._emscripten_bind_btDynamicsWorld___destroy___0,Bp=zr._emscripten_bind_btMotionState___destroy___0=xn._emscripten_bind_btMotionState___destroy___0,Vp=zr._emscripten_bind_btCollisionObject_setCollisionFlags_1=xn._emscripten_bind_btCollisionObject_setCollisionFlags_1,Lp=zr._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1=xn._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1,kp=zr._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2=xn._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2,Hp=zr._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3=xn._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3,Ip=zr._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1=xn._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1,Op=zr._emscripten_bind_btRaycastVehicle_getNumWheels_0=xn._emscripten_bind_btRaycastVehicle_getNumWheels_0,Jp=zr._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1=xn._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1,Np=zr._emscripten_bind_btWheelInfo_set_m_steering_1=xn._emscripten_bind_btWheelInfo_set_m_steering_1,Fp=zr._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1=xn._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1,Gp=zr._emscripten_bind_btConeTwistConstraint_setAngularOnly_1=xn._emscripten_bind_btConeTwistConstraint_setAngularOnly_1,zp=zr._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4=xn._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4,jp=zr._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2=xn._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2,Up=zr._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1=xn._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1,Wp=zr._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1=xn._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1,Xp=zr._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1=xn._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1,qp=zr._emscripten_bind_btRigidBodyConstructionInfo___destroy___0=xn._emscripten_bind_btRigidBodyConstructionInfo___destroy___0,Kp=zr._emscripten_bind_btRigidBody_getWorldTransform_0=xn._emscripten_bind_btRigidBody_getWorldTransform_0,Yp=zr._emscripten_bind_btPoint2PointConstraint_setPivotA_1=xn._emscripten_bind_btPoint2PointConstraint_setPivotA_1,Qp=zr._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1=xn._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1,Zp=zr._memcpy=xn._memcpy,$p=zr._emscripten_bind_btCapsuleShape_calculateLocalInertia_2=xn._emscripten_bind_btCapsuleShape_calculateLocalInertia_2,tf=zr._emscripten_bind_btVector3_y_0=xn._emscripten_bind_btVector3_y_0,ef=zr._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0=xn._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0,rf=zr._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2=xn._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2,of=zr._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3=xn._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3,nf=zr._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0=xn._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0,af=zr._emscripten_bind_btGhostObject_setCollisionShape_1=xn._emscripten_bind_btGhostObject_setCollisionShape_1,sf=zr._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1=xn._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1,lf=zr._emscripten_bind_btQuaternion_setW_1=xn._emscripten_bind_btQuaternion_setW_1,cf=zr._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1=xn._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1,hf=zr._emscripten_bind_btGhostObject_isActive_0=xn._emscripten_bind_btGhostObject_isActive_0,df=zr._emscripten_bind_btVector4_z_0=xn._emscripten_bind_btVector4_z_0,uf=zr._emscripten_bind_btCollisionObject_forceActivationState_1=xn._emscripten_bind_btCollisionObject_forceActivationState_1,pf=zr._emscripten_bind_btKinematicCharacterController_onGround_0=xn._emscripten_bind_btKinematicCharacterController_onGround_0,ff=zr._emscripten_bind_btRaycastVehicle_getWheelInfo_1=xn._emscripten_bind_btRaycastVehicle_getWheelInfo_1,_f=zr._emscripten_bind_btConeTwistConstraint_setLimit_2=xn._emscripten_bind_btConeTwistConstraint_setLimit_2,mf=zr._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1=xn._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1,gf=zr._emscripten_bind_btRigidBody___destroy___0=xn._emscripten_bind_btRigidBody___destroy___0,yf=zr._emscripten_bind_btStridingMeshInterface___destroy___0=xn._emscripten_bind_btStridingMeshInterface___destroy___0,bf=zr._emscripten_bind_btRigidBody_setSleepingThresholds_2=xn._emscripten_bind_btRigidBody_setSleepingThresholds_2,vf=zr._emscripten_bind_btCollisionObject_setWorldTransform_1=xn._emscripten_bind_btCollisionObject_setWorldTransform_1,Mf=zr._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0=xn._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0,Sf=zr._emscripten_bind_btManifoldPoint_get_m_localPointA_0=xn._emscripten_bind_btManifoldPoint_get_m_localPointA_0,xf=zr._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0=xn._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0,Tf=zr._emscripten_bind_btCollisionWorld_getBroadphase_0=xn._emscripten_bind_btCollisionWorld_getBroadphase_0,Ef=zr._emscripten_bind_btDispatcher_getNumManifolds_0=xn._emscripten_bind_btDispatcher_getNumManifolds_0,Cf=zr._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0=xn._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0,Af=zr._emscripten_bind_btRigidBody_activate_1=xn._emscripten_bind_btRigidBody_activate_1,wf=zr._emscripten_bind_btRigidBody_activate_0=xn._emscripten_bind_btRigidBody_activate_0,Rf=zr._emscripten_bind_btRaycastVehicle___destroy___0=xn._emscripten_bind_btRaycastVehicle___destroy___0,Df=zr._emscripten_bind_btGhostObject_setActivationState_1=xn._emscripten_bind_btGhostObject_setActivationState_1,Pf=zr._emscripten_bind_btCollisionWorld_contactPairTest_3=xn._emscripten_bind_btCollisionWorld_contactPairTest_3,Bf=zr._emscripten_bind_btCylinderShapeX___destroy___0=xn._emscripten_bind_btCylinderShapeX___destroy___0,Vf=zr._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0=xn._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0,Lf=zr._emscripten_bind_ContactResultCallback___destroy___0=xn._emscripten_bind_ContactResultCallback___destroy___0,kf=zr._emscripten_bind_btDispatcherInfo_set_m_stepCount_1=xn._emscripten_bind_btDispatcherInfo_set_m_stepCount_1,Hf=zr._emscripten_bind_btVector4_x_0=xn._emscripten_bind_btVector4_x_0,If=zr._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1=xn._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1,Of=zr._emscripten_bind_btKinematicCharacterController_getGhostObject_0=xn._emscripten_bind_btKinematicCharacterController_getGhostObject_0,Jf=zr._emscripten_bind_btRigidBody_btRigidBody_1=xn._emscripten_bind_btRigidBody_btRigidBody_1,Nf=zr._emscripten_bind_btTriangleMeshShape___destroy___0=xn._emscripten_bind_btTriangleMeshShape___destroy___0,Ff=zr._emscripten_bind_btKinematicCharacterController_setWalkDirection_1=xn._emscripten_bind_btKinematicCharacterController_setWalkDirection_1,Gf=zr._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0=xn._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0,zf=zr._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0=xn._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0,jf=zr._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1=xn._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1,Uf=zr._emscripten_bind_btKinematicCharacterController_getGravity_0=xn._emscripten_bind_btKinematicCharacterController_getGravity_0,Wf=zr._emscripten_bind_btDiscreteDynamicsWorld_addAction_1=xn._emscripten_bind_btDiscreteDynamicsWorld_addAction_1,Xf=zr._emscripten_bind_btQuaternion_setY_1=xn._emscripten_bind_btQuaternion_setY_1,qf=zr._emscripten_bind_btConeShape_calculateLocalInertia_2=xn._emscripten_bind_btConeShape_calculateLocalInertia_2,Kf=zr._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2=xn._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2,Yf=zr._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1=xn._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1,Qf=zr._llvm_bswap_i32=xn._llvm_bswap_i32,Zf=zr._emscripten_bind_btSphereShape_setLocalScaling_1=xn._emscripten_bind_btSphereShape_setLocalScaling_1,$f=zr._emscripten_bind_btVector4_w_0=xn._emscripten_bind_btVector4_w_0,t_=zr._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0=xn._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0,e_=zr._emscripten_bind_btBvhTriangleMeshShape___destroy___0=xn._emscripten_bind_btBvhTriangleMeshShape___destroy___0,i_=zr._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0=xn._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0,r_=zr._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1=xn._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1,o_=zr._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1=xn._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1,n_=zr._emscripten_bind_btVector4_y_0=xn._emscripten_bind_btVector4_y_0,a_=zr._emscripten_bind_btGeneric6DofConstraint___destroy___0=xn._emscripten_bind_btGeneric6DofConstraint___destroy___0,s_=zr._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0=xn._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0,l_=zr._emscripten_bind_btConvexHullShape_addPoint_1=xn._emscripten_bind_btConvexHullShape_addPoint_1,c_=zr._emscripten_bind_btConvexHullShape_addPoint_2=xn._emscripten_bind_btConvexHullShape_addPoint_2,h_=zr._emscripten_bind_btTransform_getOrigin_0=xn._emscripten_bind_btTransform_getOrigin_0,d_=zr._emscripten_bind_btHingeConstraint___destroy___0=xn._emscripten_bind_btHingeConstraint___destroy___0,u_=zr._emscripten_bind_btHingeConstraint_enableFeedback_1=xn._emscripten_bind_btHingeConstraint_enableFeedback_1,p_=zr._emscripten_bind_btConvexShape_calculateLocalInertia_2=xn._emscripten_bind_btConvexShape_calculateLocalInertia_2,f_=zr._memset=xn._memset,__=zr._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0=xn._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0,m_=zr._emscripten_bind_btTriangleMesh_btTriangleMesh_0=xn._emscripten_bind_btTriangleMesh_btTriangleMesh_0,g_=zr._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0=xn._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0,y_=zr._emscripten_bind_btTriangleMesh_btTriangleMesh_2=xn._emscripten_bind_btTriangleMesh_btTriangleMesh_2,b_=zr._emscripten_bind_btTransform___destroy___0=xn._emscripten_bind_btTransform___destroy___0,v_=zr._emscripten_bind_btWheelInfo_set_m_frictionSlip_1=xn._emscripten_bind_btWheelInfo_set_m_frictionSlip_1,M_=zr._emscripten_bind_btRigidBody_getCollisionShape_0=xn._emscripten_bind_btRigidBody_getCollisionShape_0,S_=zr._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1=xn._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1,x_=zr._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0=xn._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0,T_=zr._emscripten_bind_btManifoldPoint_get_m_localPointB_0=xn._emscripten_bind_btManifoldPoint_get_m_localPointB_0,E_=zr._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3=xn._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3,C_=zr._emscripten_bind_btSliderConstraint_setLowerLinLimit_1=xn._emscripten_bind_btSliderConstraint_setLowerLinLimit_1,A_=zr._emscripten_bind_btPoint2PointConstraint_set_m_setting_1=xn._emscripten_bind_btPoint2PointConstraint_set_m_setting_1,w_=zr._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0=xn._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0,R_=zr._emscripten_bind_btRigidBody_setLinearVelocity_1=xn._emscripten_bind_btRigidBody_setLinearVelocity_1,D_=zr._emscripten_bind_btVehicleTuning_btVehicleTuning_0=xn._emscripten_bind_btVehicleTuning_btVehicleTuning_0,P_=zr._emscripten_bind_RayResultCallback_set_m_collisionObject_1=xn._emscripten_bind_RayResultCallback_set_m_collisionObject_1,B_=zr._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1=xn._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1,V_=zr._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0=xn._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0,L_=zr._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1=xn._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1,k_=zr._emscripten_bind_btDynamicsWorld_addAction_1=xn._emscripten_bind_btDynamicsWorld_addAction_1,H_=zr._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0=xn._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0,I_=zr._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1=xn._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1,O_=zr._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1=xn._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1,J_=zr._emscripten_bind_btKinematicCharacterController_setFallSpeed_1=xn._emscripten_bind_btKinematicCharacterController_setFallSpeed_1,N_=zr._emscripten_bind_btRigidBody_setActivationState_1=xn._emscripten_bind_btRigidBody_setActivationState_1,F_=zr._emscripten_bind_ClosestConvexResultCallback_hasHit_0=xn._emscripten_bind_ClosestConvexResultCallback_hasHit_0,G_=zr._emscripten_bind_btCapsuleShapeZ___destroy___0=xn._emscripten_bind_btCapsuleShapeZ___destroy___0,z_=zr._emscripten_bind_LocalShapeInfo_set_m_shapePart_1=xn._emscripten_bind_LocalShapeInfo_set_m_shapePart_1,j_=zr._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0=xn._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0,U_=zr._emscripten_bind_btTriangleMesh_addTriangle_3=xn._emscripten_bind_btTriangleMesh_addTriangle_3,W_=zr._emscripten_bind_btGhostObject_getOverlappingObject_1=xn._emscripten_bind_btGhostObject_getOverlappingObject_1,X_=zr._emscripten_bind_btTriangleMesh_addTriangle_4=xn._emscripten_bind_btTriangleMesh_addTriangle_4,q_=zr._emscripten_bind_btRigidBody_applyTorqueImpulse_1=xn._emscripten_bind_btRigidBody_applyTorqueImpulse_1,K_=zr._emscripten_bind_btRigidBody_setCollisionFlags_1=xn._emscripten_bind_btRigidBody_setCollisionFlags_1,Y_=zr._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1=xn._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1,Q_=zr._emscripten_bind_btConeShape___destroy___0=xn._emscripten_bind_btConeShape___destroy___0,Z_=zr._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2=xn._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2,$_=zr._emscripten_bind_btSliderConstraint_btSliderConstraint_5=xn._emscripten_bind_btSliderConstraint_btSliderConstraint_5,tm=zr._emscripten_bind_btSliderConstraint_btSliderConstraint_3=xn._emscripten_bind_btSliderConstraint_btSliderConstraint_3,em=zr._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0=xn._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0,im=zr._emscripten_bind_btDynamicsWorld_convexSweepTest_5=xn._emscripten_bind_btDynamicsWorld_convexSweepTest_5,rm=zr._emscripten_bind_btRigidBody_forceActivationState_1=xn._emscripten_bind_btRigidBody_forceActivationState_1,om=zr._emscripten_bind_btPoint2PointConstraint_setPivotB_1=xn._emscripten_bind_btPoint2PointConstraint_setPivotB_1,nm=zr._emscripten_bind_btGhostPairCallback___destroy___0=xn._emscripten_bind_btGhostPairCallback___destroy___0,am=zr._emscripten_bind_btKinematicCharacterController_getMaxSlope_0=xn._emscripten_bind_btKinematicCharacterController_getMaxSlope_0,sm=zr._emscripten_bind_btSliderConstraint_enableFeedback_1=xn._emscripten_bind_btSliderConstraint_enableFeedback_1,lm=zr._emscripten_bind_btRaycastVehicle_addWheel_7=xn._emscripten_bind_btRaycastVehicle_addWheel_7,cm=zr._emscripten_bind_btPairCachingGhostObject_isActive_0=xn._emscripten_bind_btPairCachingGhostObject_isActive_0,hm=zr._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1=xn._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1,dm=zr._emscripten_bind_btStaticPlaneShape___destroy___0=xn._emscripten_bind_btStaticPlaneShape___destroy___0,um=zr._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0=xn._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0,pm=zr._emscripten_bind_btBoxShape_setLocalScaling_1=xn._emscripten_bind_btBoxShape_setLocalScaling_1,fm=zr._emscripten_bind_btConeShapeZ___destroy___0=xn._emscripten_bind_btConeShapeZ___destroy___0,_m=zr._emscripten_bind_btDynamicsWorld_getPairCache_0=xn._emscripten_bind_btDynamicsWorld_getPairCache_0,mm=zr._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5=xn._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5,gm=zr._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2=xn._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2,ym=zr._emscripten_bind_btVector4_btVector4_0=xn._emscripten_bind_btVector4_btVector4_0,bm=zr._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0=xn._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0,vm=zr._emscripten_bind_btVector4_btVector4_4=xn._emscripten_bind_btVector4_btVector4_4,Mm=zr._emscripten_bind_btKinematicCharacterController___destroy___0=xn._emscripten_bind_btKinematicCharacterController___destroy___0,Sm=zr._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1=xn._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1,xm=zr._emscripten_bind_btConstraintSetting_btConstraintSetting_0=xn._emscripten_bind_btConstraintSetting_btConstraintSetting_0,Tm=zr._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3=xn._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3,Em=zr._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0=xn._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0,Cm=zr._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1=xn._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1,Am=zr._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1=xn._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1,wm=zr._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0=xn._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0,Rm=zr.__GLOBAL__I_a=xn.__GLOBAL__I_a;
zr.runPostSets=xn.runPostSets,zr.dynCall_viiiii=xn.dynCall_viiiii,zr.dynCall_vid=xn.dynCall_vid,zr.dynCall_vi=xn.dynCall_vi,zr.dynCall_viiidii=xn.dynCall_viiidii,zr.dynCall_vii=xn.dynCall_vii,zr.dynCall_iiiiiiiiiii=xn.dynCall_iiiiiiiiiii,zr.dynCall_ii=xn.dynCall_ii,zr.dynCall_viidi=xn.dynCall_viidi,zr.dynCall_viddiii=xn.dynCall_viddiii,zr.dynCall_vidii=xn.dynCall_vidii,zr.dynCall_iiiii=xn.dynCall_iiiii,zr.dynCall_vidi=xn.dynCall_vidi,zr.dynCall_diiiiiiii=xn.dynCall_diiiiiiii,zr.dynCall_viiiiddddiid=xn.dynCall_viiiiddddiid,zr.dynCall_diiiii=xn.dynCall_diiiii,zr.dynCall_iiii=xn.dynCall_iiii,zr.dynCall_viiiiii=xn.dynCall_viiiiii,zr.dynCall_iiid=xn.dynCall_iiid,zr.dynCall_di=xn.dynCall_di,zr.dynCall_iiiiiii=xn.dynCall_iiiiiii,zr.dynCall_diiidii=xn.dynCall_diiidii,zr.dynCall_viidii=xn.dynCall_viidii,zr.dynCall_viiiiiii=xn.dynCall_viiiiiii,zr.dynCall_viiiiiiiii=xn.dynCall_viiiiiiiii,zr.dynCall_viiiiiiiiii=xn.dynCall_viiiiiiiiii,zr.dynCall_iii=xn.dynCall_iii,zr.dynCall_diii=xn.dynCall_diii,zr.dynCall_diiiiiiiiii=xn.dynCall_diiiiiiiiii,zr.dynCall_viiiid=xn.dynCall_viiiid,zr.dynCall_diiiiiiiii=xn.dynCall_diiiiiiiii,zr.dynCall_did=xn.dynCall_did,zr.dynCall_viiiidddddidi=xn.dynCall_viiiidddddidi,zr.dynCall_diidii=xn.dynCall_diidii,zr.dynCall_diiii=xn.dynCall_diiii,zr.dynCall_iiiiiiiiii=xn.dynCall_iiiiiiiiii,zr.dynCall_viiid=xn.dynCall_viiid,zr.dynCall_viii=xn.dynCall_viii,zr.dynCall_v=xn.dynCall_v,zr.dynCall_viid=xn.dynCall_viid,zr.dynCall_iidid=xn.dynCall_iidid,zr.dynCall_viiii=xn.dynCall_viiii}$r.stackAlloc=xn.stackAlloc,$r.stackSave=xn.stackSave,$r.stackRestore=xn.stackRestore,$r.setTempRet0=xn.setTempRet0,$r.getTempRet0=xn.getTempRet0;var Dm=function(){function t(t,e,i){null!=t&&("number"==typeof t?this.fromNumber(t,e,i):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function e(){return new t(null)}function i(t,e,i,r,o,n){for(;--n>=0;){var a=e*this[t++]+i[r]+o;o=Math.floor(a/67108864),i[r++]=67108863&a}return o}function r(t,e,i,r,o,n){for(var a=32767&e,s=e>>15;--n>=0;){var l=32767&this[t],c=this[t++]>>15,h=s*l+c*a;l=a*l+((32767&h)<<15)+i[r]+(1073741823&o),o=(l>>>30)+(h>>>15)+s*c+(o>>>30),i[r++]=1073741823&l}return o}function o(t,e,i,r,o,n){for(var a=16383&e,s=e>>14;--n>=0;){var l=16383&this[t],c=this[t++]>>14,h=s*l+c*a;l=a*l+((16383&h)<<14)+i[r]+o,o=(l>>28)+(h>>14)+s*c,i[r++]=268435455&l}return o}function n(t){return ne.charAt(t)}function a(t,e){var i=ae[t.charCodeAt(e)];return null==i?-1:i}function s(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function l(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function c(t){var i=e();return i.fromInt(t),i}function h(e,i){var r;if(16==i)r=4;else if(8==i)r=3;else if(256==i)r=8;else if(2==i)r=1;else if(32==i)r=5;else{if(4!=i)return void this.fromRadix(e,i);r=2}this.t=0,this.s=0;for(var o=e.length,n=!1,s=0;--o>=0;){var l=8==r?255&e[o]:a(e,o);0>l?"-"==e.charAt(o)&&(n=!0):(n=!1,0==s?this[this.t++]=l:s+r>this.DB?(this[this.t-1]|=(l&(1<<this.DB-s)-1)<<s,this[this.t++]=l>>this.DB-s):this[this.t-1]|=l<<s,s+=r,s>=this.DB&&(s-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),n&&t.ZERO.subTo(this,this)}function d(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function u(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var i,r=(1<<e)-1,o=!1,a="",s=this.t,l=this.DB-s*this.DB%e;if(s-->0)for(l<this.DB&&(i=this[s]>>l)>0&&(o=!0,a=n(i));s>=0;)e>l?(i=(this[s]&(1<<l)-1)<<e-l,i|=this[--s]>>(l+=this.DB-e)):(i=this[s]>>(l-=e)&r,0>=l&&(l+=this.DB,--s)),i>0&&(o=!0),o&&(a+=n(i));return o?a:"0"}function p(){var i=e();return t.ZERO.subTo(this,i),i}function f(){return this.s<0?this.negate():this}function _(t){var e=this.s-t.s;if(0!=e)return e;var i=this.t;if(e=i-t.t,0!=e)return this.s<0?-e:e;for(;--i>=0;)if(0!=(e=this[i]-t[i]))return e;return 0}function m(t){var e,i=1;return 0!=(e=t>>>16)&&(t=e,i+=16),0!=(e=t>>8)&&(t=e,i+=8),0!=(e=t>>4)&&(t=e,i+=4),0!=(e=t>>2)&&(t=e,i+=2),0!=(e=t>>1)&&(t=e,i+=1),i}function g(){return this.t<=0?0:this.DB*(this.t-1)+m(this[this.t-1]^this.s&this.DM)}function y(t,e){var i;for(i=this.t-1;i>=0;--i)e[i+t]=this[i];for(i=t-1;i>=0;--i)e[i]=0;e.t=this.t+t,e.s=this.s}function b(t,e){for(var i=t;i<this.t;++i)e[i-t]=this[i];e.t=Math.max(this.t-t,0),e.s=this.s}function v(t,e){var i,r=t%this.DB,o=this.DB-r,n=(1<<o)-1,a=Math.floor(t/this.DB),s=this.s<<r&this.DM;for(i=this.t-1;i>=0;--i)e[i+a+1]=this[i]>>o|s,s=(this[i]&n)<<r;for(i=a-1;i>=0;--i)e[i]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function M(t,e){e.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)return void(e.t=0);var r=t%this.DB,o=this.DB-r,n=(1<<r)-1;e[0]=this[i]>>r;for(var a=i+1;a<this.t;++a)e[a-i-1]|=(this[a]&n)<<o,e[a-i]=this[a]>>r;r>0&&(e[this.t-i-1]|=(this.s&n)<<o),e.t=this.t-i,e.clamp()}function S(t,e){for(var i=0,r=0,o=Math.min(t.t,this.t);o>i;)r+=this[i]-t[i],e[i++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;i<this.t;)r+=this[i],e[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<t.t;)r-=t[i],e[i++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=0>r?-1:0,-1>r?e[i++]=this.DV+r:r>0&&(e[i++]=r),e.t=i,e.clamp()}function x(e,i){var r=this.abs(),o=e.abs(),n=r.t;for(i.t=n+o.t;--n>=0;)i[n]=0;for(n=0;n<o.t;++n)i[n+r.t]=r.am(0,o[n],i,n,0,r.t);i.s=0,i.clamp(),this.s!=e.s&&t.ZERO.subTo(i,i)}function T(t){for(var e=this.abs(),i=t.t=2*e.t;--i>=0;)t[i]=0;for(i=0;i<e.t-1;++i){var r=e.am(i,e[i],t,2*i,0,1);(t[i+e.t]+=e.am(i+1,2*e[i],t,2*i+1,r,e.t-i-1))>=e.DV&&(t[i+e.t]-=e.DV,t[i+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(i,e[i],t,2*i,0,1)),t.s=0,t.clamp()}function E(i,r,o){var n=i.abs();if(!(n.t<=0)){var a=this.abs();if(a.t<n.t)return null!=r&&r.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=e());var s=e(),l=this.s,c=i.s,h=this.DB-m(n[n.t-1]);h>0?(n.lShiftTo(h,s),a.lShiftTo(h,o)):(n.copyTo(s),a.copyTo(o));var d=s.t,u=s[d-1];if(0!=u){var p=u*(1<<this.F1)+(d>1?s[d-2]>>this.F2:0),f=this.FV/p,_=(1<<this.F1)/p,g=1<<this.F2,y=o.t,b=y-d,v=null==r?e():r;for(s.dlShiftTo(b,v),o.compareTo(v)>=0&&(o[o.t++]=1,o.subTo(v,o)),t.ONE.dlShiftTo(d,v),v.subTo(s,s);s.t<d;)s[s.t++]=0;for(;--b>=0;){var M=o[--y]==u?this.DM:Math.floor(o[y]*f+(o[y-1]+g)*_);if((o[y]+=s.am(0,M,o,b,0,d))<M)for(s.dlShiftTo(b,v),o.subTo(v,o);o[y]<--M;)o.subTo(v,o)}null!=r&&(o.drShiftTo(d,r),l!=c&&t.ZERO.subTo(r,r)),o.t=d,o.clamp(),h>0&&o.rShiftTo(h,o),0>l&&t.ZERO.subTo(o,o)}}}function C(i){var r=e();return this.abs().divRemTo(i,null,r),this.s<0&&r.compareTo(t.ZERO)>0&&i.subTo(r,r),r}function A(t){this.m=t}function w(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function R(t){return t}function D(t){t.divRemTo(this.m,null,t)}function P(t,e,i){t.multiplyTo(e,i),this.reduce(i)}function B(t,e){t.squareTo(e),this.reduce(e)}function V(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function L(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function k(i){var r=e();return i.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),i.s<0&&r.compareTo(t.ZERO)>0&&this.m.subTo(r,r),r}function H(t){var i=e();return t.copyTo(i),this.reduce(i),i}function I(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var i=32767&t[e],r=i*this.mpl+((i*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(i=e+this.m.t,t[i]+=this.m.am(0,r,t,e,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function O(t,e){t.squareTo(e),this.reduce(e)}function J(t,e,i){t.multiplyTo(e,i),this.reduce(i)}function N(){return 0==(this.t>0?1&this[0]:this.s)}function F(i,r){if(i>4294967295||1>i)return t.ONE;var o=e(),n=e(),a=r.convert(this),s=m(i)-1;for(a.copyTo(o);--s>=0;)if(r.sqrTo(o,n),(i&1<<s)>0)r.mulTo(n,a,o);else{var l=o;o=n,n=l}return r.revert(o)}function G(t,e){var i;return i=256>t||e.isEven()?new A(e):new L(e),this.exp(t,i)}function z(e,i){this.fromInt(0),null==i&&(i=10);for(var r=this.chunkSize(i),o=Math.pow(i,r),n=!1,s=0,l=0,c=0;c<e.length;++c){var h=a(e,c);0>h?"-"==e.charAt(c)&&0==this.signum()&&(n=!0):(l=i*l+h,++s>=r&&(this.dMultiply(o),this.dAddOffset(l,0),s=0,l=0))}s>0&&(this.dMultiply(Math.pow(i,s)),this.dAddOffset(l,0)),n&&t.ZERO.subTo(this,this)}function j(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function U(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function W(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function X(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function q(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var i=this.chunkSize(t),r=Math.pow(t,i),o=c(r),n=e(),a=e(),s="";for(this.divRemTo(o,n,a);n.signum()>0;)s=(r+a.intValue()).toString(t).substr(1)+s,n.divRemTo(o,n,a);return a.intValue().toString(t)+s}function K(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Y(t,e){for(var i=0,r=0,o=Math.min(t.t,this.t);o>i;)r+=this[i]+t[i],e[i++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;i<this.t;)r+=this[i],e[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<t.t;)r+=t[i],e[i++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=0>r?-1:0,r>0?e[i++]=r:-1>r&&(e[i++]=this.DV+r),e.t=i,e.clamp()}var Q={math:{}};Q.math.Long=function(t,e){this.low_=0|t,this.high_=0|e},Q.math.Long.IntCache_={},Q.math.Long.fromInt=function(t){if(t>=-128&&128>t){var e=Q.math.Long.IntCache_[t];if(e)return e}var i=new Q.math.Long(0|t,0>t?-1:0);return t>=-128&&128>t&&(Q.math.Long.IntCache_[t]=i),i},Q.math.Long.fromNumber=function(t){return isNaN(t)||!isFinite(t)?Q.math.Long.ZERO:t<=-Q.math.Long.TWO_PWR_63_DBL_?Q.math.Long.MIN_VALUE:t+1>=Q.math.Long.TWO_PWR_63_DBL_?Q.math.Long.MAX_VALUE:0>t?Q.math.Long.fromNumber(-t).negate():new Q.math.Long(t%Q.math.Long.TWO_PWR_32_DBL_|0,t/Q.math.Long.TWO_PWR_32_DBL_|0)},Q.math.Long.fromBits=function(t,e){return new Q.math.Long(t,e)},Q.math.Long.fromString=function(t,e){if(0==t.length)throw Error("number format error: empty string");var i=e||10;if(2>i||i>36)throw Error("radix out of range: "+i);if("-"==t.charAt(0))return Q.math.Long.fromString(t.substring(1),i).negate();if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+t);for(var r=Q.math.Long.fromNumber(Math.pow(i,8)),o=Q.math.Long.ZERO,n=0;n<t.length;n+=8){var a=Math.min(8,t.length-n),s=parseInt(t.substring(n,n+a),i);if(8>a){var l=Q.math.Long.fromNumber(Math.pow(i,a));o=o.multiply(l).add(Q.math.Long.fromNumber(s))}else o=o.multiply(r),o=o.add(Q.math.Long.fromNumber(s))}return o},Q.math.Long.TWO_PWR_16_DBL_=65536,Q.math.Long.TWO_PWR_24_DBL_=1<<24,Q.math.Long.TWO_PWR_32_DBL_=Q.math.Long.TWO_PWR_16_DBL_*Q.math.Long.TWO_PWR_16_DBL_,Q.math.Long.TWO_PWR_31_DBL_=Q.math.Long.TWO_PWR_32_DBL_/2,Q.math.Long.TWO_PWR_48_DBL_=Q.math.Long.TWO_PWR_32_DBL_*Q.math.Long.TWO_PWR_16_DBL_,Q.math.Long.TWO_PWR_64_DBL_=Q.math.Long.TWO_PWR_32_DBL_*Q.math.Long.TWO_PWR_32_DBL_,Q.math.Long.TWO_PWR_63_DBL_=Q.math.Long.TWO_PWR_64_DBL_/2,Q.math.Long.ZERO=Q.math.Long.fromInt(0),Q.math.Long.ONE=Q.math.Long.fromInt(1),Q.math.Long.NEG_ONE=Q.math.Long.fromInt(-1),Q.math.Long.MAX_VALUE=Q.math.Long.fromBits(-1,2147483647),Q.math.Long.MIN_VALUE=Q.math.Long.fromBits(0,-2147483648),Q.math.Long.TWO_PWR_24_=Q.math.Long.fromInt(1<<24),Q.math.Long.prototype.toInt=function(){return this.low_},Q.math.Long.prototype.toNumber=function(){return this.high_*Q.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},Q.math.Long.prototype.toString=function(t){var e=t||10;if(2>e||e>36)throw Error("radix out of range: "+e);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(Q.math.Long.MIN_VALUE)){var i=Q.math.Long.fromNumber(e),r=this.div(i),o=r.multiply(i).subtract(this);return r.toString(e)+o.toInt().toString(e)}return"-"+this.negate().toString(e)}for(var n=Q.math.Long.fromNumber(Math.pow(e,6)),o=this,a="";;){var s=o.div(n),l=o.subtract(s.multiply(n)).toInt(),c=l.toString(e);if(o=s,o.isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},Q.math.Long.prototype.getHighBits=function(){return this.high_},Q.math.Long.prototype.getLowBits=function(){return this.low_},Q.math.Long.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:Q.math.Long.TWO_PWR_32_DBL_+this.low_},Q.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(Q.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!=this.high_?this.high_:this.low_,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high_?e+33:e+1},Q.math.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_},Q.math.Long.prototype.isNegative=function(){return this.high_<0},Q.math.Long.prototype.isOdd=function(){return 1==(1&this.low_)},Q.math.Long.prototype.equals=function(t){return this.high_==t.high_&&this.low_==t.low_},Q.math.Long.prototype.notEquals=function(t){return this.high_!=t.high_||this.low_!=t.low_},Q.math.Long.prototype.lessThan=function(t){return this.compare(t)<0},Q.math.Long.prototype.lessThanOrEqual=function(t){return this.compare(t)<=0},Q.math.Long.prototype.greaterThan=function(t){return this.compare(t)>0},Q.math.Long.prototype.greaterThanOrEqual=function(t){return this.compare(t)>=0},Q.math.Long.prototype.compare=function(t){if(this.equals(t))return 0;var e=this.isNegative(),i=t.isNegative();return e&&!i?-1:!e&&i?1:this.subtract(t).isNegative()?-1:1},Q.math.Long.prototype.negate=function(){return this.equals(Q.math.Long.MIN_VALUE)?Q.math.Long.MIN_VALUE:this.not().add(Q.math.Long.ONE)},Q.math.Long.prototype.add=function(t){var e=this.high_>>>16,i=65535&this.high_,r=this.low_>>>16,o=65535&this.low_,n=t.high_>>>16,a=65535&t.high_,s=t.low_>>>16,l=65535&t.low_,c=0,h=0,d=0,u=0;return u+=o+l,d+=u>>>16,u&=65535,d+=r+s,h+=d>>>16,d&=65535,h+=i+a,c+=h>>>16,h&=65535,c+=e+n,c&=65535,Q.math.Long.fromBits(d<<16|u,c<<16|h)},Q.math.Long.prototype.subtract=function(t){return this.add(t.negate())},Q.math.Long.prototype.multiply=function(t){if(this.isZero())return Q.math.Long.ZERO;if(t.isZero())return Q.math.Long.ZERO;if(this.equals(Q.math.Long.MIN_VALUE))return t.isOdd()?Q.math.Long.MIN_VALUE:Q.math.Long.ZERO;if(t.equals(Q.math.Long.MIN_VALUE))return this.isOdd()?Q.math.Long.MIN_VALUE:Q.math.Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(Q.math.Long.TWO_PWR_24_)&&t.lessThan(Q.math.Long.TWO_PWR_24_))return Q.math.Long.fromNumber(this.toNumber()*t.toNumber());var e=this.high_>>>16,i=65535&this.high_,r=this.low_>>>16,o=65535&this.low_,n=t.high_>>>16,a=65535&t.high_,s=t.low_>>>16,l=65535&t.low_,c=0,h=0,d=0,u=0;return u+=o*l,d+=u>>>16,u&=65535,d+=r*l,h+=d>>>16,d&=65535,d+=o*s,h+=d>>>16,d&=65535,h+=i*l,c+=h>>>16,h&=65535,h+=r*s,c+=h>>>16,h&=65535,h+=o*a,c+=h>>>16,h&=65535,c+=e*l+i*s+r*a+o*n,c&=65535,Q.math.Long.fromBits(d<<16|u,c<<16|h)},Q.math.Long.prototype.div=function(t){if(t.isZero())throw Error("division by zero");if(this.isZero())return Q.math.Long.ZERO;if(this.equals(Q.math.Long.MIN_VALUE)){if(t.equals(Q.math.Long.ONE)||t.equals(Q.math.Long.NEG_ONE))return Q.math.Long.MIN_VALUE;if(t.equals(Q.math.Long.MIN_VALUE))return Q.math.Long.ONE;var e=this.shiftRight(1),i=e.div(t).shiftLeft(1);if(i.equals(Q.math.Long.ZERO))return t.isNegative()?Q.math.Long.ONE:Q.math.Long.NEG_ONE;var r=this.subtract(t.multiply(i)),o=i.add(r.div(t));return o}if(t.equals(Q.math.Long.MIN_VALUE))return Q.math.Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();for(var n=Q.math.Long.ZERO,r=this;r.greaterThanOrEqual(t);){for(var i=Math.max(1,Math.floor(r.toNumber()/t.toNumber())),a=Math.ceil(Math.log(i)/Math.LN2),s=48>=a?1:Math.pow(2,a-48),l=Q.math.Long.fromNumber(i),c=l.multiply(t);c.isNegative()||c.greaterThan(r);)i-=s,l=Q.math.Long.fromNumber(i),c=l.multiply(t);l.isZero()&&(l=Q.math.Long.ONE),n=n.add(l),r=r.subtract(c)}return n},Q.math.Long.prototype.modulo=function(t){return this.subtract(this.div(t).multiply(t))},Q.math.Long.prototype.not=function(){return Q.math.Long.fromBits(~this.low_,~this.high_)},Q.math.Long.prototype.and=function(t){return Q.math.Long.fromBits(this.low_&t.low_,this.high_&t.high_)},Q.math.Long.prototype.or=function(t){return Q.math.Long.fromBits(this.low_|t.low_,this.high_|t.high_)},Q.math.Long.prototype.xor=function(t){return Q.math.Long.fromBits(this.low_^t.low_,this.high_^t.high_)},Q.math.Long.prototype.shiftLeft=function(t){if(t&=63,0==t)return this;var e=this.low_;if(32>t){var i=this.high_;return Q.math.Long.fromBits(e<<t,i<<t|e>>>32-t)}return Q.math.Long.fromBits(0,e<<t-32)},Q.math.Long.prototype.shiftRight=function(t){if(t&=63,0==t)return this;var e=this.high_;if(32>t){var i=this.low_;return Q.math.Long.fromBits(i>>>t|e<<32-t,e>>t)}return Q.math.Long.fromBits(e>>t-32,e>=0?0:-1)},Q.math.Long.prototype.shiftRightUnsigned=function(t){if(t&=63,0==t)return this;var e=this.high_;if(32>t){var i=this.low_;return Q.math.Long.fromBits(i>>>t|e<<32-t,e>>>t)}return 32==t?Q.math.Long.fromBits(e,0):Q.math.Long.fromBits(e>>>t-32,0)};var Z,$={appName:"Modern Browser"},te=0xdeadbeefcafe,ee=15715070==(16777215&te);ee&&"Microsoft Internet Explorer"==$.appName?(t.prototype.am=r,Z=30):ee&&"Netscape"!=$.appName?(t.prototype.am=i,Z=26):(t.prototype.am=o,Z=28),t.prototype.DB=Z,t.prototype.DM=(1<<Z)-1,t.prototype.DV=1<<Z;var ie=52;t.prototype.FV=Math.pow(2,ie),t.prototype.F1=ie-Z,t.prototype.F2=2*Z-ie;var re,oe,ne="0123456789abcdefghijklmnopqrstuvwxyz",ae=new Array;for(re="0".charCodeAt(0),oe=0;9>=oe;++oe)ae[re++]=oe;for(re="a".charCodeAt(0),oe=10;36>oe;++oe)ae[re++]=oe;for(re="A".charCodeAt(0),oe=10;36>oe;++oe)ae[re++]=oe;A.prototype.convert=w,A.prototype.revert=R,A.prototype.reduce=D,A.prototype.mulTo=P,A.prototype.sqrTo=B,L.prototype.convert=k,L.prototype.revert=H,L.prototype.reduce=I,L.prototype.mulTo=J,L.prototype.sqrTo=O,t.prototype.copyTo=s,t.prototype.fromInt=l,t.prototype.fromString=h,t.prototype.clamp=d,t.prototype.dlShiftTo=y,t.prototype.drShiftTo=b,t.prototype.lShiftTo=v,t.prototype.rShiftTo=M,t.prototype.subTo=S,t.prototype.multiplyTo=x,t.prototype.squareTo=T,t.prototype.divRemTo=E,t.prototype.invDigit=V,t.prototype.isEven=N,t.prototype.exp=F,t.prototype.toString=u,t.prototype.negate=p,t.prototype.abs=f,t.prototype.compareTo=_,t.prototype.bitLength=g,t.prototype.mod=C,t.prototype.modPowInt=G,t.ZERO=c(0),t.ONE=c(1),t.prototype.fromRadix=z,t.prototype.chunkSize=j,t.prototype.signum=U,t.prototype.dMultiply=W,t.prototype.dAddOffset=X,t.prototype.toRadix=q,t.prototype.intValue=K,t.prototype.addTo=Y;var se={abs:function(t,e){var i,r=new Q.math.Long(t,e);i=r.isNegative()?r.negate():r,yo[on>>2]=i.low_,yo[on+4>>2]=i.high_},ensureTemps:function(){se.ensuredTemps||(se.ensuredTemps=!0,se.two32=new t,se.two32.fromString("4294967296",10),se.two64=new t,se.two64.fromString("18446744073709551616",10),se.temp1=new t,se.temp2=new t)},lh2bignum:function(e,i){var r=new t;r.fromString(i.toString(),10);var o=new t;r.multiplyTo(se.two32,o);var n=new t;n.fromString(e.toString(),10);var a=new t;return n.addTo(o,a),a},stringify:function(e,i,r){var o=new Q.math.Long(e,i).toString();if(r&&"-"==o[0]){se.ensureTemps();var n=new t;n.fromString(o,10),o=new t,se.two64.addTo(n,o),o=o.toString(10)}return o},fromString:function(e,i,r,o,n){se.ensureTemps();var a=new t;a.fromString(e,i);var s=new t;s.fromString(r,10);var l=new t;if(l.fromString(o,10),n&&a.compareTo(t.ZERO)<0){var c=new t;a.addTo(se.two64,c),a=c}var h=!1;a.compareTo(s)<0?(a=s,h=!0):a.compareTo(l)>0&&(a=l,h=!0);var d=Q.math.Long.fromString(a.toString());if(yo[on>>2]=d.low_,yo[on+4>>2]=d.high_,h)throw"range error"}};return se}();if(rn)if("function"==typeof zr.locateFile?rn=zr.locateFile(rn):zr.memoryInitializerPrefixURL&&(rn=zr.memoryInitializerPrefixURL+rn),Wr||Kr){var Pm=zr.readBinary(rn);_o.set(Pm,xo)}else k("memory initializer"),Browser.asyncLoad(rn,function(t){_o.set(t,xo),H("memory initializer")},function(){throw"could not load memory initializer "+rn});ai.prototype=new Error,ai.prototype.constructor=ai;var Bm,Vm=null,Lm=!1;if(en=function Hm(){!zr.calledRun&&km&&si(),zr.calledRun||(en=Hm)},zr.callMain=zr.callMain=function(t){function i(){for(var t=0;3>t;t++)o.push(0)}e(0==$o,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),e(0==ko.length,"cannot call main when preRun functions remain to be called"),t=t||[],b();var r=t.length+1,o=[n(w(zr.thisProgram),"i8",so)];i();for(var a=0;r-1>a;a+=1)o.push(n(w(t[a]),"i8",so)),i();o.push(0),o=n(o,"i32",so),Bm=Ao;try{var s=zr._main(r,o,0);li(s)}catch(l){if(l instanceof ai)return;if("SimulateInfiniteLoop"==l)return void(zr.noExitRuntime=!0);throw l&&"object"==typeof l&&l.stack&&zr.printErr("exception thrown: "+[l,l.stack]),l}finally{Lm=!0}},zr.run=zr.run=si,zr.exit=zr.exit=li,zr.abort=zr.abort=ci,zr.preInit)for("function"==typeof zr.preInit&&(zr.preInit=[zr.preInit]);zr.preInit.length>0;)zr.preInit.pop()();var km=!0;return zr.noInitialRun&&(km=!1),zr.noExitRuntime=!0,si(),hi.prototype=Object.create(hi.prototype),hi.prototype.constructor=hi,hi.prototype.__class__=hi,hi.__cache__={},zr.WrapperObject=hi,zr.getCache=di,zr.wrapPointer=ui,zr.castObject=pi,zr.NULL=ui(0),zr.destroy=fi,zr.compare=_i,zr.getPointer=mi,zr.getClass=gi,bi.prototype=Object.create(hi.prototype),bi.prototype.constructor=bi,bi.prototype.__class__=bi,bi.__cache__={},zr.btMatrix3x3=bi,bi.prototype.setEulerZYX=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),Cc(r,t,e,i)},bi.prototype.getRotation=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Oc(e,t)},bi.prototype.__destroy__=function(){var t=this.ptr;ys(t)},vi.prototype=Object.create(Wi.prototype),vi.prototype.constructor=vi,vi.prototype.__class__=vi,vi.__cache__={},zr.ConcreteContactResultCallback=vi,vi.prototype.addSingleResult=function(t,e,i,r,o,n,a){var s=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),o=o&&"object"==typeof o?o.ptr:yi(o),n=n&&"object"==typeof n?n.ptr:yi(n),a=a&&"object"==typeof a?a.ptr:yi(a),od(s,t,e,i,r,o,n,a)},vi.prototype.__destroy__=function(){var t=this.ptr;ku(t)},Mi.prototype=Object.create(nr.prototype),Mi.prototype.constructor=Mi,Mi.prototype.__class__=Mi,Mi.__cache__={},zr.btBvhTriangleMeshShape=Mi,Mi.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ia(e,t)},Mi.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),il(i,t,e)},Mi.prototype.__destroy__=function(){var t=this.ptr;e_(t)},Si.prototype=Object.create(hi.prototype),Si.prototype.constructor=Si,Si.prototype.__class__=Si,Si.__cache__={},zr.btDbvtBroadphase=Si,Si.prototype.__destroy__=function(){var t=this.ptr;Zu(t)},xi.prototype=Object.create(hi.prototype),xi.prototype.constructor=xi,xi.prototype.__class__=xi,xi.__cache__={},zr.VoidPtr=xi,xi.prototype.__destroy__=function(){var t=this.ptr;mu(t)},Ti.prototype=Object.create(hi.prototype),Ti.prototype.constructor=Ti,Ti.prototype.__class__=Ti,Ti.__cache__={},zr.btSequentialImpulseConstraintSolver=Ti,Ti.prototype.__destroy__=function(){var t=this.ptr;bc(t)},Ei.prototype=Object.create(hi.prototype),Ei.prototype.constructor=Ei,Ei.prototype.__class__=Ei,Ei.__cache__={},zr.btDispatcherInfo=Ei,Ei.prototype.get_m_timeStep=function(){var t=this.ptr;return Rp(t)},Ei.prototype.set_m_timeStep=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Nu(e,t)},Ei.prototype.get_m_stepCount=function(){var t=this.ptr;return Ka(t)},Ei.prototype.set_m_stepCount=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),kf(e,t)},Ei.prototype.get_m_dispatchFunc=function(){var t=this.ptr;return Cu(t)},Ei.prototype.set_m_dispatchFunc=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ga(e,t)},Ei.prototype.get_m_timeOfImpact=function(){var t=this.ptr;return Bn(t)},Ei.prototype.set_m_timeOfImpact=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),sa(e,t)},Ei.prototype.get_m_useContinuous=function(){var t=this.ptr;return yh(t)},Ei.prototype.set_m_useContinuous=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Cn(e,t)},Ei.prototype.get_m_enableSatConvex=function(){var t=this.ptr;return bm(t)},Ei.prototype.set_m_enableSatConvex=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),lc(e,t)},Ei.prototype.get_m_enableSPU=function(){var t=this.ptr;return Bh(t)},Ei.prototype.set_m_enableSPU=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),us(e,t)},Ei.prototype.get_m_useEpa=function(){var t=this.ptr;return ls(t)},Ei.prototype.set_m_useEpa=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Qs(e,t)},Ei.prototype.get_m_allowedCcdPenetration=function(){var t=this.ptr;return em(t)},Ei.prototype.set_m_allowedCcdPenetration=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),sf(e,t)},Ei.prototype.get_m_useConvexConservativeDistanceUtil=function(){var t=this.ptr;return um(t)},Ei.prototype.set_m_useConvexConservativeDistanceUtil=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),is(e,t)},Ei.prototype.get_m_convexConservativeDistanceThreshold=function(){var t=this.ptr;return Ac(t)},Ei.prototype.set_m_convexConservativeDistanceThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),wd(e,t)},Ei.prototype.__destroy__=function(){var t=this.ptr;Mp(t)},Ci.prototype=Object.create(Cr.prototype),Ci.prototype.constructor=Ci,Ci.prototype.__class__=Ci,Ci.__cache__={},zr.btCapsuleShape=Ci,Ci.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ip(e,t)},Ci.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),$p(i,t,e)},Ci.prototype.__destroy__=function(){var t=this.ptr;ra(t)},Ai.prototype=Object.create(hi.prototype),Ai.prototype.constructor=Ai,Ai.prototype.__class__=Ai,Ai.__cache__={},zr.btCollisionConfiguration=Ai,Ai.prototype.__destroy__=function(){var t=this.ptr;ha(t)},wi.prototype=Object.create(hi.prototype),wi.prototype.constructor=wi,wi.prototype.__class__=wi,wi.__cache__={},zr.btAxisSweep3=wi,wi.prototype.__destroy__=function(){var t=this.ptr;Du(t)},Ri.prototype=Object.create(wr.prototype),Ri.prototype.constructor=Ri,Ri.prototype.__class__=Ri,Ri.__cache__={},zr.btPairCachingGhostObject=Ri,Ri.prototype.getCollisionShape=function(){var t=this.ptr;return ui(g_(t),Cr)},Ri.prototype.setContactProcessingThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ih(e,t)},Ri.prototype.setActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ch(e,t)},Ri.prototype.forceActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Xa(e,t)},Ri.prototype.activate=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),void 0===t?void Ua(e):void Wa(e,t)},Ri.prototype.isActive=function(){var t=this.ptr;return cm(t)},Ri.prototype.isKinematicObject=function(){var t=this.ptr;return hp(t)},Ri.prototype.setRestitution=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),uc(e,t)},Ri.prototype.setFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ys(e,t)},Ri.prototype.getWorldTransform=function(){var t=this.ptr;return ui(Ls(t),Ir)},Ri.prototype.getCollisionFlags=function(){var t=this.ptr;return H_(t)},Ri.prototype.setCollisionFlags=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),If(e,t)},Ri.prototype.setWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Fp(e,t)},Ri.prototype.setCollisionShape=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),wu(e,t)},Ri.prototype.getNumOverlappingObjects=function(){var t=this.ptr;return hl(t)},Ri.prototype.getOverlappingObject=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),ui(Xp(e,t),ki)},Ri.prototype.__destroy__=function(){var t=this.ptr;ja(t)},Di.prototype=Object.create(hi.prototype),Di.prototype.constructor=Di,Di.prototype.__class__=Di,Di.__cache__={},zr.btRigidBodyConstructionInfo=Di,Di.prototype.get_m_linearDamping=function(){var t=this.ptr;return xf(t)},Di.prototype.set_m_linearDamping=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),I_(e,t)},Di.prototype.get_m_angularDamping=function(){var t=this.ptr;return Nn(t)},Di.prototype.set_m_angularDamping=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ya(e,t)},Di.prototype.get_m_friction=function(){var t=this.ptr;return Za(t)},Di.prototype.set_m_friction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Zd(e,t)},Di.prototype.get_m_rollingFriction=function(){var t=this.ptr;return Au(t)},Di.prototype.set_m_rollingFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ld(e,t)},Di.prototype.get_m_restitution=function(){var t=this.ptr;return Gf(t)},Di.prototype.set_m_restitution=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ma(e,t)},Di.prototype.get_m_linearSleepingThreshold=function(){var t=this.ptr;return Cf(t)},Di.prototype.set_m_linearSleepingThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ou(e,t)},Di.prototype.get_m_angularSleepingThreshold=function(){var t=this.ptr;return yp(t)},Di.prototype.set_m_angularSleepingThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ss(e,t)},Di.prototype.get_m_additionalDamping=function(){var t=this.ptr;return Gc(t)},Di.prototype.set_m_additionalDamping=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),O_(e,t)},Di.prototype.get_m_additionalDampingFactor=function(){var t=this.ptr;return rp(t)},Di.prototype.set_m_additionalDampingFactor=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),fc(e,t)},Di.prototype.get_m_additionalLinearDampingThresholdSqr=function(){var t=this.ptr;return vl(t)},Di.prototype.set_m_additionalLinearDampingThresholdSqr=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),vc(e,t)},Di.prototype.get_m_additionalAngularDampingThresholdSqr=function(){var t=this.ptr;return nh(t)},Di.prototype.set_m_additionalAngularDampingThresholdSqr=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Gh(e,t)},Di.prototype.get_m_additionalAngularDampingFactor=function(){var t=this.ptr;return gc(t)},Di.prototype.set_m_additionalAngularDampingFactor=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),nl(e,t)},Di.prototype.__destroy__=function(){var t=this.ptr;qp(t)},Pi.prototype=Object.create(hi.prototype),Pi.prototype.constructor=Pi,Pi.prototype.__class__=Pi,Pi.__cache__={},zr.btManifoldPoint=Pi,Pi.prototype.getPositionWorldOnA=function(){var t=this.ptr;return ui(Vf(t),Mr)},Pi.prototype.getPositionWorldOnB=function(){var t=this.ptr;return ui(ru(t),Mr)},Pi.prototype.get_m_localPointA=function(){var t=this.ptr;return ui(Sf(t),Mr)},Pi.prototype.set_m_localPointA=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),al(e,t)},Pi.prototype.get_m_localPointB=function(){var t=this.ptr;return ui(T_(t),Mr)},Pi.prototype.set_m_localPointB=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),pa(e,t)},Pi.prototype.get_m_positionWorldOnB=function(){var t=this.ptr;return ui(Uc(t),Mr)},Pi.prototype.set_m_positionWorldOnB=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ua(e,t)},Pi.prototype.get_m_positionWorldOnA=function(){var t=this.ptr;return ui(ou(t),Mr)},Pi.prototype.set_m_positionWorldOnA=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),S_(e,t)},Pi.prototype.get_m_normalWorldOnB=function(){var t=this.ptr;
return ui(t_(t),Mr)},Pi.prototype.set_m_normalWorldOnB=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),jf(e,t)},Pi.prototype.__destroy__=function(){var t=this.ptr;Vd(t)},Bi.prototype=Object.create(hi.prototype),Bi.prototype.constructor=Bi,Bi.prototype.__class__=Bi,Bi.__cache__={},zr.btGeneric6DofConstraint=Bi,Bi.prototype.__destroy__=function(){var t=this.ptr;a_(t)},Vi.prototype=Object.create(hi.prototype),Vi.prototype.constructor=Vi,Vi.prototype.__class__=Vi,Vi.__cache__={},zr.btStridingMeshInterface=Vi,Vi.prototype.__destroy__=function(){var t=this.ptr;yf(t)},Li.prototype=Object.create(hi.prototype),Li.prototype.constructor=Li,Li.prototype.__class__=Li,Li.__cache__={},zr.btBroadphaseInterface=Li,Li.prototype.__destroy__=function(){var t=this.ptr;pc(t)},ki.prototype=Object.create(hi.prototype),ki.prototype.constructor=ki,ki.prototype.__class__=ki,ki.__cache__={},zr.btCollisionObject=ki,ki.prototype.getCollisionShape=function(){var t=this.ptr;return ui(Pd(t),Cr)},ki.prototype.setContactProcessingThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),_c(e,t)},ki.prototype.setActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),fs(e,t)},ki.prototype.forceActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),uf(e,t)},ki.prototype.activate=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),void 0===t?void na(e):void oa(e,t)},ki.prototype.isActive=function(){var t=this.ptr;return An(t)},ki.prototype.isKinematicObject=function(){var t=this.ptr;return Zn(t)},ki.prototype.setRestitution=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Rh(e,t)},ki.prototype.setFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Nd(e,t)},ki.prototype.getWorldTransform=function(){var t=this.ptr;return ui(Ws(t),Ir)},ki.prototype.getCollisionFlags=function(){var t=this.ptr;return sc(t)},ki.prototype.setCollisionFlags=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Vp(e,t)},ki.prototype.setWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),vf(e,t)},ki.prototype.setCollisionShape=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),sl(e,t)},ki.prototype.__destroy__=function(){var t=this.ptr;Hu(t)},Hi.prototype=Object.create(lr.prototype),Hi.prototype.constructor=Hi,Hi.prototype.__class__=Hi,Hi.__cache__={},zr.btDiscreteDynamicsWorld=Hi,Hi.prototype.setGravity=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),cf(e,t)},Hi.prototype.getGravity=function(){var t=this.ptr;return ui(ju(t),Mr)},Hi.prototype.addRigidBody=function(t,e,i){var r=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),void 0===e?void Xh(r,t):void 0===i?void _emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_2(r,t,e):void Wh(r,t,e,i)},Hi.prototype.removeRigidBody=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Os(e,t)},Hi.prototype.addConstraint=function(t,e){var i=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),void 0===e?void as(i,t):void ns(i,t,e)},Hi.prototype.removeConstraint=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),o_(e,t)},Hi.prototype.stepSimulation=function(t,e,i){var r=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),void 0===e?jn(r,t):void 0===i?Wn(r,t,e):Un(r,t,e,i)},Hi.prototype.getDispatcher=function(){var t=this.ptr;return ui(yd(t),ar)},Hi.prototype.rayTest=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),Tm(r,t,e,i)},Hi.prototype.getPairCache=function(){var t=this.ptr;return ui(Cp(t),vr)},Hi.prototype.getDispatchInfo=function(){var t=this.ptr;return ui(Il(t),Ei)},Hi.prototype.addCollisionObject=function(t,e,i){var r=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),void 0===e?void Lp(r,t):void 0===i?void kp(r,t,e):void Hp(r,t,e,i)},Hi.prototype.getBroadphase=function(){var t=this.ptr;return ui(Ns(t),Li)},Hi.prototype.convexSweepTest=function(t,e,i,r,o){var n=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),o=o&&"object"==typeof o?o.ptr:yi(o),mm(n,t,e,i,r,o)},Hi.prototype.contactPairTest=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),E_(r,t,e,i)},Hi.prototype.addAction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Wf(e,t)},Hi.prototype.__destroy__=function(){var t=this.ptr;Eh(t)},Ii.prototype=Object.create(ji.prototype),Ii.prototype.constructor=Ii,Ii.prototype.__class__=Ii,Ii.__cache__={},zr.btConvexTriangleMeshShape=Ii,Ii.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),js(e,t)},Ii.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),xp(i,t,e)},Ii.prototype.__destroy__=function(){var t=this.ptr;hh(t)},Oi.prototype=Object.create(hi.prototype),Oi.prototype.constructor=Oi,Oi.prototype.__class__=Oi,Oi.__cache__={},zr.ConvexResultCallback=Oi,Oi.prototype.hasHit=function(){var t=this.ptr;return bs(t)},Oi.prototype.get_m_collisionFilterGroup=function(){var t=this.ptr;return Lh(t)},Oi.prototype.set_m_collisionFilterGroup=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Wp(e,t)},Oi.prototype.get_m_collisionFilterMask=function(){var t=this.ptr;return sp(t)},Oi.prototype.set_m_collisionFilterMask=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Yf(e,t)},Oi.prototype.get_m_closestHitFraction=function(){var t=this.ptr;return Eu(t)},Oi.prototype.set_m_closestHitFraction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),np(e,t)},Oi.prototype.__destroy__=function(){var t=this.ptr;$n(t)},Ji.prototype=Object.create(Gr.prototype),Ji.prototype.constructor=Ji,Ji.prototype.__class__=Ji,Ji.__cache__={},zr.btPoint2PointConstraint=Ji,Ji.prototype.setPivotA=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Yp(e,t)},Ji.prototype.setPivotB=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),om(e,t)},Ji.prototype.getPivotInA=function(){var t=this.ptr;return ui(hd(t),Mr)},Ji.prototype.getPivotInB=function(){var t=this.ptr;return ui(bp(t),Mr)},Ji.prototype.enableFeedback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),dl(e,t)},Ji.prototype.get_m_setting=function(){var t=this.ptr;return ui(Ps(t),Ar)},Ji.prototype.set_m_setting=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),A_(e,t)},Ji.prototype.__destroy__=function(){var t=this.ptr;os(t)},Ni.prototype=Object.create(hi.prototype),Ni.prototype.constructor=Ni,Ni.prototype.__class__=Ni,Ni.__cache__={},zr.btMotionState=Ni,Ni.prototype.getWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Cd(e,t)},Ni.prototype.setWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),tc(e,t)},Ni.prototype.__destroy__=function(){var t=this.ptr;Bp(t)},Fi.prototype=Object.create(Gr.prototype),Fi.prototype.constructor=Fi,Fi.prototype.__class__=Fi,Fi.__cache__={},zr.btSliderConstraint=Fi,Fi.prototype.setLowerLinLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),C_(e,t)},Fi.prototype.setUpperLinLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Dl(e,t)},Fi.prototype.setLowerAngLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),gu(e,t)},Fi.prototype.setUpperAngLimit=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),su(e,t)},Fi.prototype.enableFeedback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),sm(e,t)},Fi.prototype.__destroy__=function(){var t=this.ptr;xu(t)},Gi.prototype=Object.create(Gr.prototype),Gi.prototype.constructor=Gi,Gi.prototype.__class__=Gi,Gi.__cache__={},zr.btConeTwistConstraint=Gi,Gi.prototype.setLimit=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),_f(i,t,e)},Gi.prototype.setAngularOnly=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Gp(e,t)},Gi.prototype.setDamping=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),xa(e,t)},Gi.prototype.enableMotor=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),cc(e,t)},Gi.prototype.setMaxMotorImpulse=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Jc(e,t)},Gi.prototype.setMaxMotorImpulseNormalized=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),zs(e,t)},Gi.prototype.setMotorTarget=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),hu(e,t)},Gi.prototype.setMotorTargetInConstraintSpace=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ju(e,t)},Gi.prototype.enableFeedback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Al(e,t)},Gi.prototype.__destroy__=function(){var t=this.ptr;Xu(t)},zi.prototype=Object.create(Cr.prototype),zi.prototype.constructor=zi,zi.prototype.__class__=zi,zi.__cache__={},zr.btConeShape=zi,zi.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Kd(e,t)},zi.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),qf(i,t,e)},zi.prototype.__destroy__=function(){var t=this.ptr;Q_(t)},ji.prototype=Object.create(Cr.prototype),ji.prototype.constructor=ji,ji.prototype.__class__=ji,ji.__cache__={},zr.btConvexShape=ji,ji.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),$c(e,t)},ji.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),p_(i,t,e)},ji.prototype.__destroy__=function(){var t=this.ptr;Ch(t)},Ui.prototype=Object.create(hi.prototype),Ui.prototype.constructor=Ui,Ui.prototype.__class__=Ui,Ui.__cache__={},zr.btDefaultCollisionConfiguration=Ui,Ui.prototype.__destroy__=function(){var t=this.ptr;Fd(t)},Wi.prototype=Object.create(hi.prototype),Wi.prototype.constructor=Wi,Wi.prototype.__class__=Wi,Wi.__cache__={},zr.ContactResultCallback=Wi,Wi.prototype.addSingleResult=function(t,e,i,r,o,n,a){var s=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),o=o&&"object"==typeof o?o.ptr:yi(o),n=n&&"object"==typeof n?n.ptr:yi(n),a=a&&"object"==typeof a?a.ptr:yi(a),Tp(s,t,e,i,r,o,n,a)},Wi.prototype.__destroy__=function(){var t=this.ptr;Lf(t)},Xi.prototype=Object.create(zi.prototype),Xi.prototype.constructor=Xi,Xi.prototype.__class__=Xi,Xi.__cache__={},zr.btConeShapeZ=Xi,Xi.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),lh(e,t)},Xi.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),As(i,t,e)},Xi.prototype.__destroy__=function(){var t=this.ptr;fm(t)},qi.prototype=Object.create(zi.prototype),qi.prototype.constructor=qi,qi.prototype.__class__=qi,qi.__cache__={},zr.btConeShapeX=qi,qi.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ol(e,t)},qi.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),tu(i,t,e)},qi.prototype.__destroy__=function(){var t=this.ptr;ac(t)},Ki.prototype=Object.create(Vi.prototype),Ki.prototype.constructor=Ki,Ki.prototype.__class__=Ki,Ki.__cache__={},zr.btTriangleMesh=Ki,Ki.prototype.addTriangle=function(t,e,i,r){var o=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),void 0===r?void U_(o,t,e,i):void X_(o,t,e,i,r)},Ki.prototype.__destroy__=function(){var t=this.ptr;Pu(t)},Yi.prototype=Object.create(Cr.prototype),Yi.prototype.constructor=Yi,Yi.prototype.__class__=Yi,Yi.__cache__={},zr.btConvexHullShape=Yi,Yi.prototype.addPoint=function(t,e){var i=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),void 0===e?void l_(i,t):void c_(i,t,e)},Yi.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),wc(e,t)},Yi.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),Rs(i,t,e)},Yi.prototype.__destroy__=function(){var t=this.ptr;Js(t)},Qi.prototype=Object.create(hi.prototype),Qi.prototype.constructor=Qi,Qi.prototype.__class__=Qi,Qi.__cache__={},zr.btPersistentManifold=Qi,Qi.prototype.getBody0=function(){var t=this.ptr;return ui(El(t),ki)},Qi.prototype.getBody1=function(){var t=this.ptr;return ui(wa(t),ki)},Qi.prototype.getNumContacts=function(){var t=this.ptr;return mc(t)},Qi.prototype.getContactPoint=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),ui($d(e,t),Pi)},Qi.prototype.__destroy__=function(){var t=this.ptr;_s(t)},Zi.prototype=Object.create(Cr.prototype),Zi.prototype.constructor=Zi,Zi.prototype.__class__=Zi,Zi.__cache__={},zr.btBoxShape=Zi,Zi.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),pm(e,t)},Zi.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),_l(i,t,e)},Zi.prototype.__destroy__=function(){var t=this.ptr;zu(t)},$i.prototype=Object.create(ar.prototype),$i.prototype.constructor=$i,$i.prototype.__class__=$i,$i.__cache__={},zr.btCollisionDispatcher=$i,$i.prototype.getNumManifolds=function(){var t=this.ptr;return Zs(t)},$i.prototype.getManifoldByIndexInternal=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),ui(Xl(e,t),Qi)},$i.prototype.__destroy__=function(){var t=this.ptr;Fn(t)},tr.prototype=Object.create(hi.prototype),tr.prototype.constructor=tr,tr.prototype.__class__=tr,tr.__cache__={},zr.btVehicleTuning=tr,tr.prototype.get_m_suspensionStiffness=function(){var t=this.ptr;return zf(t)},tr.prototype.set_m_suspensionStiffness=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ml(e,t)},tr.prototype.get_m_suspensionCompression=function(){var t=this.ptr;return Th(t)},tr.prototype.set_m_suspensionCompression=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Dp(e,t)},tr.prototype.get_m_suspensionDamping=function(){var t=this.ptr;return Wu(t)},tr.prototype.set_m_suspensionDamping=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Iu(e,t)},tr.prototype.get_m_maxSuspensionTravelCm=function(){var t=this.ptr;return s_(t)},tr.prototype.set_m_maxSuspensionTravelCm=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),dh(e,t)},tr.prototype.get_m_frictionSlip=function(){var t=this.ptr;return wm(t)},tr.prototype.set_m_frictionSlip=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),wn(e,t)},tr.prototype.get_m_maxSuspensionForce=function(){var t=this.ptr;return ef(t)},tr.prototype.set_m_maxSuspensionForce=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),fp(e,t)},er.prototype=Object.create(Cr.prototype),er.prototype.constructor=er,er.prototype.__class__=er,er.__cache__={},zr.btCompoundShape=er,er.prototype.addChildShape=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),Sh(i,t,e)},er.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),zc(e,t)},er.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),rc(i,t,e)},er.prototype.__destroy__=function(){var t=this.ptr;el(t)},ir.prototype=Object.create(hi.prototype),ir.prototype.constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},zr.btCollisionObjectWrapper=ir,rr.prototype=Object.create(Oi.prototype),rr.prototype.constructor=rr,rr.prototype.__class__=rr,rr.__cache__={},zr.ClosestConvexResultCallback=rr,rr.prototype.hasHit=function(){var t=this.ptr;return F_(t)},rr.prototype.get_m_convexFromWorld=function(){var t=this.ptr;return ui(dd(t),Mr)},rr.prototype.set_m_convexFromWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),du(e,t)},rr.prototype.get_m_convexToWorld=function(){var t=this.ptr;return ui(ah(t),Mr)},rr.prototype.set_m_convexToWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Qp(e,t)},rr.prototype.get_m_hitNormalWorld=function(){var t=this.ptr;return ui(zh(t),Mr)},rr.prototype.set_m_hitNormalWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ta(e,t)},rr.prototype.get_m_hitPointWorld=function(){var t=this.ptr;return ui(Uu(t),Mr)},rr.prototype.set_m_hitPointWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ga(e,t)},rr.prototype.get_m_collisionFilterGroup=function(){var t=this.ptr;return ed(t)},rr.prototype.set_m_collisionFilterGroup=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),td(e,t)},rr.prototype.get_m_collisionFilterMask=function(){var t=this.ptr;return _d(t)},rr.prototype.set_m_collisionFilterMask=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),mf(e,t)},rr.prototype.get_m_closestHitFraction=function(){var t=this.ptr;return Tc(t)},rr.prototype.set_m_closestHitFraction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),r_(e,t)},rr.prototype.__destroy__=function(){var t=this.ptr;Od(t)},or.prototype=Object.create(Ni.prototype),or.prototype.constructor=or,or.prototype.__class__=or,or.__cache__={},zr.btDefaultMotionState=or,or.prototype.getWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),zn(e,t)},or.prototype.setWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),sd(e,t)},or.prototype.get_m_graphicsWorldTrans=function(){var t=this.ptr;return ui(Sa(t),Ir)},or.prototype.set_m_graphicsWorldTrans=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Hd(e,t)},or.prototype.__destroy__=function(){var t=this.ptr;qa(t)},nr.prototype=Object.create(_r.prototype),nr.prototype.constructor=nr,nr.prototype.__class__=nr,nr.__cache__={},zr.btTriangleMeshShape=nr,nr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),op(e,t)},nr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),th(i,t,e)},nr.prototype.__destroy__=function(){var t=this.ptr;Nf(t)},ar.prototype=Object.create(hi.prototype),ar.prototype.constructor=ar,ar.prototype.__class__=ar,ar.__cache__={},zr.btDispatcher=ar,ar.prototype.getNumManifolds=function(){var t=this.ptr;return Ef(t)},ar.prototype.getManifoldByIndexInternal=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),ui(Jp(e,t),Qi)},ar.prototype.__destroy__=function(){var t=this.ptr;xh(t)},sr.prototype=Object.create(pr.prototype),sr.prototype.constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},zr.ClosestRayResultCallback=sr,sr.prototype.hasHit=function(){var t=this.ptr;return Mh(t)},sr.prototype.get_m_rayFromWorld=function(){var t=this.ptr;return ui(bu(t),Mr)},sr.prototype.set_m_rayFromWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ku(e,t)},sr.prototype.get_m_rayToWorld=function(){var t=this.ptr;return ui(i_(t),Mr)},sr.prototype.set_m_rayToWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),B_(e,t)},sr.prototype.get_m_hitNormalWorld=function(){var t=this.ptr;return ui(__(t),Mr)},sr.prototype.set_m_hitNormalWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Am(e,t)},sr.prototype.get_m_hitPointWorld=function(){var t=this.ptr;return ui(Dn(t),Mr)},sr.prototype.set_m_hitPointWorld=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ss(e,t)},sr.prototype.get_m_collisionFilterGroup=function(){var t=this.ptr;return V_(t)},sr.prototype.set_m_collisionFilterGroup=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ul(e,t)},sr.prototype.get_m_collisionFilterMask=function(){var t=this.ptr;return rh(t)},sr.prototype.set_m_collisionFilterMask=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),dp(e,t)},sr.prototype.get_m_collisionObject=function(){var t=this.ptr;return ui(j_(t),ki)},sr.prototype.set_m_collisionObject=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ra(e,t)},sr.prototype.__destroy__=function(){var t=this.ptr;$s(t)},lr.prototype=Object.create(Or.prototype),lr.prototype.constructor=lr,lr.prototype.__class__=lr,lr.__cache__={},zr.btDynamicsWorld=lr,lr.prototype.addAction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),k_(e,t)},lr.prototype.getDispatcher=function(){var t=this.ptr;return ui(Hc(t),ar)},lr.prototype.rayTest=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),qn(r,t,e,i)},lr.prototype.getPairCache=function(){var t=this.ptr;return ui(_m(t),vr)},lr.prototype.getDispatchInfo=function(){var t=this.ptr;return ui(Oa(t),Ei)},lr.prototype.addCollisionObject=function(t,e,i){var r=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),void 0===e?void fd(r,t):void 0===i?void gd(r,t,e):void md(r,t,e,i)},lr.prototype.getBroadphase=function(){var t=this.ptr;return ui(Ad(t),Li)},lr.prototype.convexSweepTest=function(t,e,i,r,o){var n=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),o=o&&"object"==typeof o?o.ptr:yi(o),im(n,t,e,i,r,o)},lr.prototype.contactPairTest=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),lu(r,t,e,i)},lr.prototype.__destroy__=function(){var t=this.ptr;Pp(t)},cr.prototype=Object.create(Ci.prototype),cr.prototype.constructor=cr,cr.prototype.__class__=cr,cr.__cache__={},zr.btCapsuleShapeX=cr,cr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),wh(e,t)},cr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),xs(i,t,e)},cr.prototype.__destroy__=function(){var t=this.ptr;Ud(t)},hr.prototype=Object.create(Jr.prototype),hr.prototype.constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},zr.btQuaternion=hr,hr.prototype.setValue=function(t,e,i,r){var o=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),ma(o,t,e,i,r)},hr.prototype.x=function(){var t=this.ptr;return Ll(t)},hr.prototype.y=function(){var t=this.ptr;return Yh(t)},hr.prototype.z=function(){var t=this.ptr;return Jl(t)},hr.prototype.w=function(){var t=this.ptr;return Vh(t)},hr.prototype.setX=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Pn(e,t)},hr.prototype.setY=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Xf(e,t)},hr.prototype.setZ=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Vn(e,t)},hr.prototype.setW=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),lf(e,t)},hr.prototype.__destroy__=function(){var t=this.ptr;Wl(t)},dr.prototype=Object.create(Ci.prototype),dr.prototype.constructor=dr,dr.prototype.__class__=dr,dr.__cache__={},zr.btCapsuleShapeZ=dr,dr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),wl(e,t)},dr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),wp(i,t,e)},dr.prototype.__destroy__=function(){var t=this.ptr;G_(t)},ur.prototype=Object.create(Sr.prototype),ur.prototype.constructor=ur,ur.prototype.__class__=ur,ur.__cache__={},zr.btDefaultVehicleRaycaster=ur,ur.prototype.__destroy__=function(){var t=this.ptr;ld(t)},pr.prototype=Object.create(hi.prototype),pr.prototype.constructor=pr,pr.prototype.__class__=pr,pr.__cache__={},zr.RayResultCallback=pr,pr.prototype.hasHit=function(){var t=this.ptr;return oh(t)},pr.prototype.get_m_collisionFilterGroup=function(){var t=this.ptr;return Ca(t)},pr.prototype.set_m_collisionFilterGroup=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Pc(e,t)},pr.prototype.get_m_collisionFilterMask=function(){var t=this.ptr;return Rc(t)},pr.prototype.set_m_collisionFilterMask=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),za(e,t)},pr.prototype.get_m_collisionObject=function(){var t=this.ptr;return ui(cd(t),ki)},pr.prototype.set_m_collisionObject=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),P_(e,t)},pr.prototype.__destroy__=function(){var t=this.ptr;Tl(t)},fr.prototype=Object.create(hi.prototype),fr.prototype.constructor=fr,fr.prototype.__class__=fr,fr.__cache__={},zr.btWheelInfo=fr,fr.prototype.get_m_suspensionStiffness=function(){var t=this.ptr;return Jn(t)},fr.prototype.set_m_suspensionStiffness=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ip(e,t)},fr.prototype.get_m_frictionSlip=function(){var t=this.ptr;return sh(t)},fr.prototype.set_m_frictionSlip=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),v_(e,t)},fr.prototype.get_m_rollInfluence=function(){var t=this.ptr;return ka(t)},fr.prototype.set_m_rollInfluence=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),uu(e,t)},fr.prototype.get_m_suspensionRestLength1=function(){var t=this.ptr;return On(t)},fr.prototype.set_m_suspensionRestLength1=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Y_(e,t)},fr.prototype.get_m_wheelsRadius=function(){var t=this.ptr;return w_(t)},fr.prototype.set_m_wheelsRadius=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ds(e,t)},fr.prototype.get_m_wheelsDampingCompression=function(){var t=this.ptr;return Dh(t)},fr.prototype.set_m_wheelsDampingCompression=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),hc(e,t)},fr.prototype.get_m_wheelsDampingRelaxation=function(){var t=this.ptr;return x_(t)},fr.prototype.set_m_wheelsDampingRelaxation=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),L_(e,t)},fr.prototype.get_m_steering=function(){var t=this.ptr;return Mu(t)},fr.prototype.set_m_steering=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Np(e,t)},fr.prototype.get_m_maxSuspensionForce=function(){var t=this.ptr;return ts(t)},fr.prototype.set_m_maxSuspensionForce=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Fl(e,t)},fr.prototype.get_m_maxSuspensionTravelCm=function(){var t=this.ptr;return _a(t)},fr.prototype.set_m_maxSuspensionTravelCm=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),qd(e,t)},fr.prototype.__destroy__=function(){var t=this.ptr;ll(t)},_r.prototype=Object.create(Cr.prototype),_r.prototype.constructor=_r,_r.prototype.__class__=_r,_r.__cache__={},zr.btConcaveShape=_r,_r.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Hl(e,t)},_r.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),Yc(i,t,e)},_r.prototype.__destroy__=function(){var t=this.ptr;Bl(t)},mr.prototype=Object.create(Mr.prototype),mr.prototype.constructor=mr,mr.prototype.__class__=mr,mr.__cache__={},zr.btVector4=mr,mr.prototype.w=function(){var t=this.ptr;return $f(t)},mr.prototype.setValue=function(t,e,i,r){var o=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),Ha(o,t,e,i,r)},mr.prototype.length=function(){var t=this.ptr;return kd(t)},mr.prototype.x=function(){var t=this.ptr;return Hf(t)},mr.prototype.y=function(){var t=this.ptr;return n_(t)},mr.prototype.z=function(){var t=this.ptr;return df(t)},mr.prototype.setX=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Fs(e,t)},mr.prototype.setY=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Wc(e,t)},mr.prototype.setZ=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Xs(e,t)},mr.prototype.op_mul=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),ui(vd(e,t),Mr)},mr.prototype.__destroy__=function(){var t=this.ptr;cp(t)},gr.prototype=Object.create(br.prototype),gr.prototype.constructor=gr,gr.prototype.__class__=gr,gr.__cache__={},zr.btKinematicCharacterController=gr,gr.prototype.setUpAxis=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),aa(e,t)},gr.prototype.setWalkDirection=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ff(e,t)},gr.prototype.setVelocityForTimeInterval=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),gm(i,t,e)},gr.prototype.warp=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ru(e,t)},gr.prototype.preStep=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Bu(e,t)},gr.prototype.playerStep=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),vp(i,t,e)},gr.prototype.setFallSpeed=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),J_(e,t)},gr.prototype.setJumpSpeed=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Up(e,t)},gr.prototype.setMaxJumpHeight=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Cm(e,t)},gr.prototype.canJump=function(){var t=this.ptr;return Ql(t)},gr.prototype.jump=function(){var t=this.ptr;Gs(t)},gr.prototype.setGravity=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Da(e,t)},gr.prototype.getGravity=function(){var t=this.ptr;return Uf(t)},gr.prototype.setMaxSlope=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),kn(e,t)},gr.prototype.getMaxSlope=function(){var t=this.ptr;return am(t)},gr.prototype.getGhostObject=function(){var t=this.ptr;return ui(Of(t),Ri)},gr.prototype.setUseGhostSweepTest=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),bd(e,t)},gr.prototype.onGround=function(){var t=this.ptr;return pf(t)},gr.prototype.__destroy__=function(){var t=this.ptr;Mm(t)},yr.prototype=Object.create(_r.prototype),yr.prototype.constructor=yr,yr.prototype.__class__=yr,yr.__cache__={},zr.btStaticPlaneShape=yr,yr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Sp(e,t)},yr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),pp(i,t,e)},yr.prototype.__destroy__=function(){var t=this.ptr;dm(t)},br.prototype=Object.create(hi.prototype),br.prototype.constructor=br,br.prototype.__class__=br,br.__cache__={},zr.btActionInterface=br,br.prototype.__destroy__=function(){var t=this.ptr;ad(t)},vr.prototype=Object.create(hi.prototype),vr.prototype.constructor=vr,vr.prototype.__class__=vr,vr.__cache__={},zr.btOverlappingPairCache=vr,vr.prototype.setInternalGhostPairCallback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),mh(e,t)},vr.prototype.__destroy__=function(){var t=this.ptr;Sl(t)},Mr.prototype=Object.create(hi.prototype),Mr.prototype.constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},zr.btVector3=Mr,Mr.prototype.length=function(){var t=this.ptr;return Ja(t)},Mr.prototype.x=function(){var t=this.ptr;return Rd(t)},Mr.prototype.y=function(){var t=this.ptr;return tf(t)},Mr.prototype.z=function(){var t=this.ptr;return qh(t)},Mr.prototype.setX=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ca(e,t)},Mr.prototype.setY=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ml(e,t)},Mr.prototype.setZ=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),fa(e,t)},Mr.prototype.setValue=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),zd(r,t,e,i)
},Mr.prototype.op_mul=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),ui(Xn(e,t),Mr)},Mr.prototype.__destroy__=function(){var t=this.ptr;Sd(t)},Sr.prototype=Object.create(hi.prototype),Sr.prototype.constructor=Sr,Sr.prototype.__class__=Sr,Sr.__cache__={},zr.btVehicleRaycaster=Sr,Sr.prototype.__destroy__=function(){var t=this.ptr;Es(t)},xr.prototype=Object.create(Cr.prototype),xr.prototype.constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},zr.btSphereShape=xr,xr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Zf(e,t)},xr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),Ds(i,t,e)},xr.prototype.__destroy__=function(){var t=this.ptr;au(t)},Tr.prototype=Object.create(hi.prototype),Tr.prototype.constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},zr.btDefaultCollisionConstructionInfo=Tr,Tr.prototype.__destroy__=function(){var t=this.ptr;Jd(t)},Er.prototype=Object.create(Gr.prototype),Er.prototype.constructor=Er,Er.prototype.__class__=Er,Er.__cache__={},zr.btHingeConstraint=Er,Er.prototype.setLimit=function(t,e,i,r,o){var n=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),o=o&&"object"==typeof o?o.ptr:yi(o),void 0===o?void Wd(n,t,e,i,r):void Xd(n,t,e,i,r,o)},Er.prototype.enableFeedback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),u_(e,t)},Er.prototype.__destroy__=function(){var t=this.ptr;d_(t)},Cr.prototype=Object.create(hi.prototype),Cr.prototype.constructor=Cr,Cr.prototype.__class__=Cr,Cr.__cache__={},zr.btCollisionShape=Cr,Cr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),xc(e,t)},Cr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),vs(i,t,e)},Cr.prototype.__destroy__=function(){var t=this.ptr;Tu(t)},Ar.prototype=Object.create(hi.prototype),Ar.prototype.constructor=Ar,Ar.prototype.__class__=Ar,Ar.__cache__={},zr.btConstraintSetting=Ar,Ar.prototype.get_m_tau=function(){var t=this.ptr;return Su(t)},Ar.prototype.set_m_tau=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ws(e,t)},Ar.prototype.get_m_damping=function(){var t=this.ptr;return Gl(t)},Ar.prototype.set_m_damping=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ts(e,t)},Ar.prototype.get_m_impulseClamp=function(){var t=this.ptr;return ms(t)},Ar.prototype.set_m_impulseClamp=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Pa(e,t)},Ar.prototype.__destroy__=function(){var t=this.ptr;xl(t)},wr.prototype=Object.create(ki.prototype),wr.prototype.constructor=wr,wr.prototype.__class__=wr,wr.__cache__={},zr.btGhostObject=wr,wr.prototype.getNumOverlappingObjects=function(){var t=this.ptr;return Yd(t)},wr.prototype.getOverlappingObject=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),ui(W_(e,t),ki)},wr.prototype.getCollisionShape=function(){var t=this.ptr;return ui(Qd(t),Cr)},wr.prototype.setContactProcessingThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),jl(e,t)},wr.prototype.setActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Df(e,t)},wr.prototype.forceActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),fu(e,t)},wr.prototype.activate=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),void 0===t?void eu(e):void iu(e,t)},wr.prototype.isActive=function(){var t=this.ptr;return hf(t)},wr.prototype.isKinematicObject=function(){var t=this.ptr;return ia(t)},wr.prototype.setRestitution=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),pd(e,t)},wr.prototype.setFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Vs(e,t)},wr.prototype.getWorldTransform=function(){var t=this.ptr;return ui(Ep(t),Ir)},wr.prototype.getCollisionFlags=function(){var t=this.ptr;return jd(t)},wr.prototype.setCollisionFlags=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ic(e,t)},wr.prototype.setWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Is(e,t)},wr.prototype.setCollisionShape=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),af(e,t)},wr.prototype.__destroy__=function(){var t=this.ptr;zl(t)},Rr.prototype=Object.create(hi.prototype),Rr.prototype.constructor=Rr,Rr.prototype.__class__=Rr,Rr.__cache__={},zr.LocalShapeInfo=Rr,Rr.prototype.get_m_shapePart=function(){var t=this.ptr;return La(t)},Rr.prototype.set_m_shapePart=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),z_(e,t)},Rr.prototype.get_m_triangleIndex=function(){var t=this.ptr;return nf(t)},Rr.prototype.set_m_triangleIndex=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ed(e,t)},Rr.prototype.__destroy__=function(){var t=this.ptr;ya(t)},Dr.prototype=Object.create(hi.prototype),Dr.prototype.constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},zr.btConstraintSolver=Dr,Dr.prototype.__destroy__=function(){var t=this.ptr;Qu(t)},Pr.prototype=Object.create(br.prototype),Pr.prototype.constructor=Pr,Pr.prototype.__class__=Pr,Pr.__cache__={},zr.btRaycastVehicle=Pr,Pr.prototype.applyEngineForce=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),Vu(i,t,e)},Pr.prototype.setSteeringValue=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),rs(i,t,e)},Pr.prototype.getWheelTransformWS=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),ui(Lc(e,t),Ir)},Pr.prototype.updateWheelTransform=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),Kn(i,t,e)},Pr.prototype.addWheel=function(t,e,i,r,o,n,a){var s=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),o=o&&"object"==typeof o?o.ptr:yi(o),n=n&&"object"==typeof n?n.ptr:yi(n),a=a&&"object"==typeof a?a.ptr:yi(a),ui(lm(s,t,e,i,r,o,n,a),fr)},Pr.prototype.getNumWheels=function(){var t=this.ptr;return Op(t)},Pr.prototype.getRigidBody=function(){var t=this.ptr;return ui(vu(t),Lr)},Pr.prototype.getWheelInfo=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),ui(ff(e,t),fr)},Pr.prototype.setBrake=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),Lu(i,t,e)},Pr.prototype.setCoordinateSystem=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),ps(r,t,e,i)},Pr.prototype.__destroy__=function(){var t=this.ptr;Rf(t)},Br.prototype=Object.create(hi.prototype),Br.prototype.constructor=Br,Br.prototype.__class__=Br,Br.__cache__={},zr.LocalConvexResult=Br,Br.prototype.get_m_hitCollisionObject=function(){var t=this.ptr;return ui(Ec(t),ki)},Br.prototype.set_m_hitCollisionObject=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Sm(e,t)},Br.prototype.get_m_localShapeInfo=function(){var t=this.ptr;return ui(Mf(t),Rr)},Br.prototype.set_m_localShapeInfo=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),hm(e,t)},Br.prototype.get_m_hitNormalLocal=function(){var t=this.ptr;return ui(Ln(t),Mr)},Br.prototype.set_m_hitNormalLocal=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),kl(e,t)},Br.prototype.get_m_hitPointLocal=function(){var t=this.ptr;return ui(Qn(t),Mr)},Br.prototype.set_m_hitPointLocal=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Hs(e,t)},Br.prototype.get_m_hitFraction=function(){var t=this.ptr;return Ph(t)},Br.prototype.set_m_hitFraction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ap(e,t)},Br.prototype.__destroy__=function(){var t=this.ptr;yc(t)},Vr.prototype=Object.create(hi.prototype),Vr.prototype.constructor=Vr,Vr.prototype.__class__=Vr,Vr.__cache__={},zr.btOverlappingPairCallback=Vr,Vr.prototype.__destroy__=function(){var t=this.ptr;jc(t)},Lr.prototype=Object.create(ki.prototype),Lr.prototype.constructor=Lr,Lr.prototype.__class__=Lr,Lr.__cache__={},zr.btRigidBody=Lr,Lr.prototype.getCenterOfMassTransform=function(){var t=this.ptr;return ui(ea(t),Ir)},Lr.prototype.setCenterOfMassTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Yu(e,t)},Lr.prototype.setSleepingThresholds=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),bf(i,t,e)},Lr.prototype.setDamping=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),kc(i,t,e)},Lr.prototype.setMassProps=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),Gd(i,t,e)},Lr.prototype.setLinearFactor=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),es(e,t)},Lr.prototype.applyTorque=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Rl(e,t)},Lr.prototype.applyForce=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),Cs(i,t,e)},Lr.prototype.applyCentralForce=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Ul(e,t)},Lr.prototype.applyTorqueImpulse=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),q_(e,t)},Lr.prototype.applyImpulse=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),Kc(i,t,e)},Lr.prototype.applyCentralImpulse=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Gn(e,t)},Lr.prototype.updateInertiaTensor=function(){var t=this.ptr;bh(t)},Lr.prototype.getLinearVelocity=function(){var t=this.ptr;return ui(qc(t),Mr)},Lr.prototype.getAngularVelocity=function(){var t=this.ptr;return ui(ph(t),Mr)},Lr.prototype.setLinearVelocity=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),R_(e,t)},Lr.prototype.setAngularVelocity=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Zc(e,t)},Lr.prototype.getMotionState=function(){var t=this.ptr;return ui(id(t),Ni)},Lr.prototype.setAngularFactor=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),xd(e,t)},Lr.prototype.upcast=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),ui(Us(e,t),Lr)},Lr.prototype.getCollisionShape=function(){var t=this.ptr;return ui(M_(t),Cr)},Lr.prototype.setContactProcessingThreshold=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Xc(e,t)},Lr.prototype.setActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),N_(e,t)},Lr.prototype.forceActivationState=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),rm(e,t)},Lr.prototype.activate=function(t){var e=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),void 0===t?void wf(e):void Af(e,t)},Lr.prototype.isActive=function(){var t=this.ptr;return Zl(t)},Lr.prototype.isKinematicObject=function(){var t=this.ptr;return va(t)},Lr.prototype.setRestitution=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),$h(e,t)},Lr.prototype.setFriction=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ks(e,t)},Lr.prototype.getWorldTransform=function(){var t=this.ptr;return ui(Kp(t),Ir)},Lr.prototype.getCollisionFlags=function(){var t=this.ptr;return Sc(t)},Lr.prototype.setCollisionFlags=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),K_(e,t)},Lr.prototype.setWorldTransform=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Qc(e,t)},Lr.prototype.setCollisionShape=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),nc(e,t)},Lr.prototype.__destroy__=function(){var t=this.ptr;gf(t)},kr.prototype=Object.create(Nr.prototype),kr.prototype.constructor=kr,kr.prototype.__class__=kr,kr.__cache__={},zr.btCylinderShapeX=kr,kr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Nc(e,t)},kr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),Kf(i,t,e)},kr.prototype.__destroy__=function(){var t=this.ptr;Bf(t)},Hr.prototype=Object.create(Nr.prototype),Hr.prototype.constructor=Hr,Hr.prototype.__class__=Hr,Hr.__cache__={},zr.btCylinderShapeZ=Hr,Hr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Id(e,t)},Hr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),Td(i,t,e)},Hr.prototype.__destroy__=function(){var t=this.ptr;gs(t)},Ir.prototype=Object.create(hi.prototype),Ir.prototype.constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},zr.btTransform=Ir,Ir.prototype.setIdentity=function(){var t=this.ptr;In(t)},Ir.prototype.setOrigin=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),vh(e,t)},Ir.prototype.setRotation=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),cl(e,t)},Ir.prototype.getOrigin=function(){var t=this.ptr;return ui(h_(t),Mr)},Ir.prototype.getRotation=function(){var t=this.ptr;return ui(kh(t),hr)},Ir.prototype.getBasis=function(){var t=this.ptr;return ui(Ks(t),bi)},Ir.prototype.__destroy__=function(){var t=this.ptr;b_(t)},Or.prototype=Object.create(hi.prototype),Or.prototype.constructor=Or,Or.prototype.__class__=Or,Or.__cache__={},zr.btCollisionWorld=Or,Or.prototype.getDispatcher=function(){var t=this.ptr;return ui(Dc(t),ar)},Or.prototype.rayTest=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),ic(r,t,e,i)},Or.prototype.getPairCache=function(){var t=this.ptr;return ui(cu(t),vr)},Or.prototype.getDispatchInfo=function(){var t=this.ptr;return ui(oc(t),Ei)},Or.prototype.addCollisionObject=function(t,e,i){var r=this.ptr;return t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),void 0===e?void Qh(r,t):void 0===i?void Zh(r,t,e):void Mc(r,t,e,i)},Or.prototype.getBroadphase=function(){var t=this.ptr;return ui(Tf(t),Li)},Or.prototype.convexSweepTest=function(t,e,i,r,o){var n=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),r=r&&"object"==typeof r?r.ptr:yi(r),o=o&&"object"==typeof o?o.ptr:yi(o),Ms(n,t,e,i,r,o)},Or.prototype.contactPairTest=function(t,e,i){var r=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),i=i&&"object"==typeof i?i.ptr:yi(i),Pf(r,t,e,i)},Or.prototype.__destroy__=function(){var t=this.ptr;Ea(t)},Jr.prototype=Object.create(hi.prototype),Jr.prototype.constructor=Jr,Jr.prototype.__class__=Jr,Jr.__cache__={},zr.btQuadWord=Jr,Jr.prototype.x=function(){var t=this.ptr;return Yn(t)},Jr.prototype.y=function(){var t=this.ptr;return qs(t)},Jr.prototype.z=function(){var t=this.ptr;return Hn(t)},Jr.prototype.w=function(){var t=this.ptr;return tl(t)},Jr.prototype.setX=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),bl(e,t)},Jr.prototype.setY=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ba(e,t)},Jr.prototype.setZ=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ep(e,t)},Jr.prototype.setW=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),Qa(e,t)},Jr.prototype.__destroy__=function(){var t=this.ptr;qu(t)},Nr.prototype=Object.create(Cr.prototype),Nr.prototype.constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},zr.btCylinderShape=Nr,Nr.prototype.setLocalScaling=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),ec(e,t)},Nr.prototype.calculateLocalInertia=function(t,e){var i=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),e=e&&"object"==typeof e?e.ptr:yi(e),ud(i,t,e)},Nr.prototype.__destroy__=function(){var t=this.ptr;Tn(t)},Fr.prototype=Object.create(hi.prototype),Fr.prototype.constructor=Fr,Fr.prototype.__class__=Fr,Fr.__cache__={},zr.btGhostPairCallback=Fr,Fr.prototype.__destroy__=function(){var t=this.ptr;nm(t)},Gr.prototype=Object.create(hi.prototype),Gr.prototype.constructor=Gr,Gr.prototype.__class__=Gr,Gr.__cache__={},zr.btTypedConstraint=Gr,Gr.prototype.enableFeedback=function(t){var e=this.ptr;t=t&&"object"==typeof t?t.ptr:yi(t),tp(e,t)},Gr.prototype.__destroy__=function(){var t=this.ptr;jh(t)},this.Ammo=zr,this}.call({});